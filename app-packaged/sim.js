var pxsim,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){var e=function(s){function t(){var t=s.call(this)||this;return t.fileSystem=new r.FileSystemState,t.builtinParts.ledmatrix=t.ledMatrixState=new r.LedMatrixState(r.runtime),t.builtinParts.buttonpair=t.buttonPairState=new r.ButtonPairState({ID_BUTTON_A:1,ID_BUTTON_B:2,ID_BUTTON_AB:26,BUTTON_EVT_UP:2,BUTTON_EVT_CLICK:3}),t.builtinParts.edgeconnector=t.edgeConnectorState=new r.EdgeConnectorState({pins:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,0,24,25],servos:{P0:7,P1:8,P2:9,P3:10}}),t.builtinParts.radio=t.radioState=new r.RadioState(r.runtime),t.builtinParts.accelerometer=t.accelerometerState=new r.AccelerometerState(r.runtime),t.builtinParts.serial=t.serialState=new r.SerialState,t.builtinParts.thermometer=t.thermometerState=new r.ThermometerState,t.builtinParts.lightsensor=t.lightSensorState=new r.LightSensorState,t.builtinParts.compass=t.compassState=new r.CompassState,t.builtinParts.neopixel=t.neopixelState=new r.NeoPixelState,t.builtinParts.microservo=t.edgeConnectorState,t.builtinVisuals.buttonpair=function(){return new r.visuals.ButtonPairView},t.builtinVisuals.ledmatrix=function(){return new r.visuals.LedMatrixView},t.builtinVisuals.neopixel=function(){return new r.visuals.NeoPixelView},t.builtinVisuals.microservo=function(){return new r.visuals.MicroServoView},t.builtinPartVisuals.buttonpair=function(t){return r.visuals.mkBtnSvg(t)},t.builtinPartVisuals.ledmatrix=function(t){return r.visuals.mkLedMatrixSvg(t,8,8)},t.builtinPartVisuals.neopixel=function(t){return r.visuals.mkNeoPixelPart(t)},t.builtinPartVisuals.microservo=function(t){return r.visuals.mkMicroServoPart(t)},t}return __extends(t,s),t.prototype.receiveMessage=function(t){if(r.runtime&&!r.runtime.dead)switch(t.type||""){case"eventbus":var e=t;this.bus.queue(e.id,e.eventid,e.value);break;case"serial":var i=t.data||"";this.serialState.receiveData(i);break;case"radiopacket":var n=t;this.radioState.receivePacket(n)}},t.prototype.initAsync=function(t){s.prototype.initAsync.call(this,t);t.options;var e=t.boardDefinition,i={state:this,boardDef:e,partsList:t.parts,partDefs:t.partDefinitions||{},fnArgs:t.fnArgs,maxWidth:"100%",maxHeight:"100%",highContrast:t.highContrast},n=new r.visuals.BoardHost(r.visuals.mkBoardView({visual:e.visual,highContrast:t.highContrast}),i);return document.body.innerHTML="",document.body.appendChild(this.view=n.getView()),Promise.resolve()},t.prototype.screenshot=function(){return r.svg.toDataUri((new XMLSerializer).serializeToString(this.view))},t}(r.CoreBoard);function t(){r.U.assert(!r.runtime.board);var t=new e;r.runtime.board=t,r.runtime.postError=function(t){r.led.setBrightness(255);var e=i().ledMatrixState.image;e.clear(),e.set(0,4,255),e.set(1,3,255),e.set(2,3,255),e.set(3,3,255),e.set(4,4,255),e.set(0,0,255),e.set(1,0,255),e.set(0,1,255),e.set(1,1,255),e.set(3,0,255),e.set(4,0,255),e.set(3,1,255),e.set(4,1,255),r.runtime.updateDisplay()}}function i(){return r.runtime.board}r.DalBoard=e,r.initRuntimeWithDalBoard=t,r.initCurrentRuntime||(r.initCurrentRuntime=t),r.board=i}(pxsim||(pxsim={})),function(u){var t;(t=u.input||(u.input={})).onGesture=function(t,e){var i=u.board().accelerometerState;i.accelerometer.activate(),11!=t||i.useShake||(i.useShake=!0,u.runtime.queueDisplayUpdate()),u.pxtcore.registerWithDal(27,t,e)},t.acceleration=function(t){var e=u.board().accelerometerState.accelerometer;switch(e.activate(),t){case 0:return e.getX();case 1:return e.getY();case 2:return e.getZ();default:return Math.floor(Math.sqrt(e.instantaneousAccelerationSquared()))}},t.rotation=function(t){var e=u.board().accelerometerState.accelerometer;e.activate();var i=e.getX(u.MicroBitCoordinateSystem.NORTH_EAST_DOWN),n=e.getY(u.MicroBitCoordinateSystem.NORTH_EAST_DOWN),s=e.getZ(u.MicroBitCoordinateSystem.NORTH_EAST_DOWN),r=Math.atan2(n,s),a=Math.atan(-i/(n*Math.sin(r)+s*Math.cos(r))),o=0;switch(t){case 0:o=a;break;case 1:o=r}return Math.floor(o/Math.PI*180)},t.setAccelerometerRange=function(t){u.board().accelerometerState.accelerometer.setSampleRange(t)}}(pxsim||(pxsim={})),function(n){var s,t;(t=s=n.MicroBitCoordinateSystem||(n.MicroBitCoordinateSystem={}))[t.RAW=0]="RAW",t[t.SIMPLE_CARTESIAN=1]="SIMPLE_CARTESIAN",t[t.NORTH_EAST_DOWN=2]="NORTH_EAST_DOWN";var e=function(){function t(t){this.runtime=t,this.sigma=0,this.lastGesture=0,this.currentGesture=0,this.sample={x:0,y:0,z:-1023},this.shake={x:!1,y:!1,z:!1,count:0,shaken:0,timer:0},this.isActive=!1,this.sampleRange=2,this.id=4}return t.prototype.setSampleRange=function(t){this.activate(),this.sampleRange=Math.max(1,Math.min(8,t))},t.prototype.activate=function(){this.isActive||(this.isActive=!0,this.runtime.queueDisplayUpdate())},t.prototype.update=function(t,e,i){this.sample.x=Math.floor(t),this.sample.y=Math.floor(e),this.sample.z=Math.floor(i),this.updateGesture(),n.board().bus.queue(this.id,1)},t.prototype.instantaneousAccelerationSquared=function(){return this.sample.x*this.sample.x+this.sample.y*this.sample.y+this.sample.z*this.sample.z},t.prototype.instantaneousPosture=function(){var t=this.instantaneousAccelerationSquared(),e=!1;if((this.getX()<-400&&this.shake.x||400<this.getX()&&!this.shake.x)&&(e=!0,this.shake.x=!this.shake.x),(this.getY()<-400&&this.shake.y||400<this.getY()&&!this.shake.y)&&(e=!0,this.shake.y=!this.shake.y),(this.getZ()<-400&&this.shake.z||400<this.getZ()&&!this.shake.z)&&(e=!0,this.shake.z=!this.shake.z),e&&this.shake.count<4&&4==++this.shake.count&&(this.shake.shaken=1),10<=++this.shake.timer&&(this.shake.timer=0)<this.shake.count&&0==--this.shake.count&&(this.shake.shaken=0),this.shake.shaken)return 11;var i=function(t){return t*t};return t<i(400)?7:t>i(3072)?8:t>i(6144)?9:t>i(8192)?10:this.getX()<-800?3:800<this.getX()?4:this.getY()<-800?2:800<this.getY()?1:this.getZ()<-800?5:800<this.getZ()?6:0},t.prototype.updateGesture=function(){var t=this.instantaneousPosture();t==this.currentGesture?this.sigma<5&&this.sigma++:(this.currentGesture=t,this.sigma=0),this.currentGesture!=this.lastGesture&&5<=this.sigma&&(this.lastGesture=this.currentGesture,n.board().bus.queue(27,this.lastGesture))},t.prototype.getX=function(t){switch(void 0===t&&(t=s.SIMPLE_CARTESIAN),this.activate(),t){case s.SIMPLE_CARTESIAN:return-this.sample.x;case s.NORTH_EAST_DOWN:return this.sample.y;default:return this.sample.x}},t.prototype.getY=function(t){switch(void 0===t&&(t=s.SIMPLE_CARTESIAN),this.activate(),t){case s.SIMPLE_CARTESIAN:return-this.sample.y;case s.NORTH_EAST_DOWN:return-this.sample.x;default:return this.sample.y}},t.prototype.getZ=function(t){switch(void 0===t&&(t=s.SIMPLE_CARTESIAN),this.activate(),t){case s.NORTH_EAST_DOWN:return-this.sample.z;default:return this.sample.z}},t.prototype.getPitch=function(){return this.activate(),Math.floor(360*this.getPitchRadians()/(2*Math.PI))},t.prototype.getPitchRadians=function(){return this.recalculatePitchRoll(),this.pitch},t.prototype.getRoll=function(){return this.activate(),Math.floor(360*this.getRollRadians()/(2*Math.PI))},t.prototype.getRollRadians=function(){return this.recalculatePitchRoll(),this.roll},t.prototype.recalculatePitchRoll=function(){var t=this.getX(s.NORTH_EAST_DOWN),e=this.getY(s.NORTH_EAST_DOWN),i=this.getZ(s.NORTH_EAST_DOWN);this.roll=Math.atan2(e,i),this.pitch=Math.atan(-t/(e*Math.sin(this.roll)+i*Math.cos(this.roll)))},t}();n.Accelerometer=e;var i=function(t){this.useShake=!1,this.accelerometer=new e(t)};n.AccelerometerState=i}(pxsim||(pxsim={})),function(n){var t;(t=n.input||(n.input={})).onButtonPressed=function(t,e){var i=n.board().buttonPairState;t!=i.props.ID_BUTTON_AB||i.usesButtonAB||(i.usesButtonAB=!0,n.runtime.queueDisplayUpdate()),n.pxtcore.registerWithDal(t,3,e)},t.buttonIsPressed=function(t){var e=n.board().buttonPairState;return t!=e.abBtn.id||e.usesButtonAB||(e.usesButtonAB=!0,n.runtime.queueDisplayUpdate()),t==e.aBtn.id?e.aBtn.pressed:t==e.bBtn.id?e.bBtn.pressed:e.abBtn.pressed||e.aBtn.pressed&&e.bBtn.pressed}}(pxsim||(pxsim={})),function(w){!function(M){function p(t){var e=["sim-button","sim-button-outer"],i=e[0],n=e[1],s=M.PIN_DIST/2.5,r=M.PIN_DIST/5,a=.8*M.PIN_DIST,o=M.PIN_DIST/8,u=M.PIN_DIST/12,l=o+r,h=t[0],c=t[1],d=h-s/2,p=c-s/2,m=3*M.PIN_DIST-s,f=2*M.PIN_DIST+s,g=d,v=p+s,b=g+f/2,y=v+m/2,x=w.svg.elt("g"),S=function(t,e){w.svg.child(x,"rect",{class:"sim-button-tab",x:t,y:e,width:s,height:s})};S(d,p),S(d+2*M.PIN_DIST,p),S(d,p+3*M.PIN_DIST),S(d+2*M.PIN_DIST,p+3*M.PIN_DIST),w.svg.child(x,"rect",{class:n,x:g,y:v,rx:u,ry:u,width:f,height:m});var P=function(t,e){w.svg.child(x,"circle",{class:"sim-button-nut",cx:t,cy:e,r:r})};P(g+l,v+l),P(g+f-l,v+l),P(g+l,v+m-l),P(g+f-l,v+m-l);w.svg.child(x,"circle",{class:i,cx:b,cy:y,r:a});return{el:x,y:p,x:d,w:f,h:m+2*s}}M.mkBtnSvg=p,M.BUTTON_PAIR_STYLE="\n            .sim-button {\n                pointer-events: none;\n                fill: #000;\n            }\n            .sim-button-outer:active ~ .sim-button,\n            .sim-button-virtual:active {\n                fill: #FFA500;\n            }\n            .sim-button-outer {\n                cursor: pointer;\n                fill: #979797;\n            }\n            .sim-button-outer:hover {\n                stroke:gray;\n                stroke-width: "+M.PIN_DIST/5+"px;\n            }\n            .sim-button-nut {\n                fill:#000;\n                pointer-events:none;\n            }\n            .sim-button-nut:hover {\n                stroke:"+M.PIN_DIST/15+"px solid #704A4A;\n            }\n            .sim-button-tab {\n                fill:#FFF;\n                pointer-events:none;\n            }\n            .sim-button-virtual {\n                cursor: pointer;\n                fill: rgba(255, 255, 255, 0.6);\n                stroke: rgba(255, 255, 255, 1);\n                stroke-width: "+M.PIN_DIST/5+"px;\n            }\n            .sim-button-virtual:hover {\n                stroke: rgba(128, 128, 128, 1);\n            }\n            .sim-text-virtual {\n                fill: #000;\n                pointer-events:none;\n            }\n            ";var t=function(){function t(){this.style=M.BUTTON_PAIR_STYLE}return t.prototype.init=function(t,e){this.state=e,this.bus=t,this.defs=[],this.element=this.mkBtns(),this.updateState(),this.attachEvents()},t.prototype.moveToCoord=function(t){var e=3*M.PIN_DIST,i=t[0],n=t[1];M.translateEl(this.aBtn,[i,n]),M.translateEl(this.bBtn,[i+e,n]),M.translateEl(this.abBtn,[i+1.5*M.PIN_DIST,n+4*M.PIN_DIST])},t.prototype.updateState=function(){this.state.aBtn,this.state.bBtn,this.state.abBtn,this.aBtn,this.bBtn,this.abBtn;this.state.usesButtonAB&&"visible"!=this.abBtn.style.visibility&&(this.abBtn.style.visibility="visible")},t.prototype.updateTheme=function(){},t.prototype.mkBtns=function(){this.aBtn=p([0,0]).el,this.bBtn=p([0,0]).el;var t,e,i,n,s,r,a,o,u,l,h,c;this.abBtn=(t=2.8*M.PIN_DIST,e=(t-2*M.PIN_DIST)/2,i=M.PIN_DIST/2,s=n=0-e+t/2,r=1.3*M.PIN_DIST,o=a=-e,u=M.PIN_DIST/7,l=M.PIN_DIST/10,h=w.svg.elt("g"),w.svg.child(h,"rect",{class:"sim-button-virtual",x:a,y:o,rx:i,ry:i,width:t,height:t}),c=M.mkTxt(n+u,s+l,r,0,"A+B"),w.svg.addClass(c,"sim-text"),w.svg.addClass(c,"sim-text-virtual"),h.appendChild(c),h),this.abBtn.style.visibility="hidden";var d=w.svg.elt("g");return w.svg.addClass(d,"sim-buttonpair"),d.appendChild(this.aBtn),d.appendChild(this.bBtn),d.appendChild(this.abBtn),d},t.prototype.attachEvents=function(){var n=this,s=[this.state.aBtn,this.state.bBtn];[this.aBtn,this.bBtn].forEach(function(e,i){w.pointerEvents.down.forEach(function(t){return e.addEventListener(t,function(t){s[i].pressed=!0})}),e.addEventListener(w.pointerEvents.leave,function(t){s[i].pressed=!1}),e.addEventListener(w.pointerEvents.up,function(t){s[i].pressed=!1,n.bus.queue(s[i].id,n.state.props.BUTTON_EVT_UP),n.bus.queue(s[i].id,n.state.props.BUTTON_EVT_CLICK)})});var e=function(e){s.forEach(function(t){return t.pressed=e})};w.pointerEvents.down.forEach(function(t){return n.abBtn.addEventListener(t,function(t){e(!0)})}),this.abBtn.addEventListener(w.pointerEvents.leave,function(t){e(!1)}),this.abBtn.addEventListener(w.pointerEvents.up,function(t){e(!1),n.bus.queue(n.state.abBtn.id,n.state.props.BUTTON_EVT_UP),n.bus.queue(n.state.abBtn.id,n.state.props.BUTTON_EVT_CLICK)})},t}();M.ButtonPairView=t}(w.visuals||(w.visuals={}))}(pxsim||(pxsim={})),function(e){var t;(t=e.input||(e.input={})).compassHeading=function(){var t=e.board().compassState;return t.usesHeading||(t.usesHeading=!0,e.runtime.queueDisplayUpdate()),t.heading},t.magneticForce=function(){return 0}}(pxsim||(pxsim={})),function(n){var t;(t=n.input||(n.input={})).onPinPressed=function(t,e){var i=n.getPin(t);i&&(i.isTouched(),n.runtime.queueDisplayUpdate(),n.pxtcore.registerWithDal(i.id,3,e))},t.onPinReleased=function(t,e){var i=n.getPin(t);i&&(i.isTouched(),n.runtime.queueDisplayUpdate(),n.pxtcore.registerWithDal(i.id,2,e))},t.pinIsPressed=function(t){var e=n.getPin(t);return!!e&&e.isTouched()}}(pxsim||(pxsim={})),function(e){e.getPin=function(t){return e.board().edgeConnectorState.getPin(t)}}(pxsim||(pxsim={})),function(r){!function(t){function n(t,e){var i=r.getPin(t);i&&(i.mode=r.PinFlags.Analog|r.PinFlags.Output,i.period=e,r.runtime.queueDisplayUpdate())}t.digitalReadPin=function(t){var e=r.getPin(t);return e?(e.mode=r.PinFlags.Digital|r.PinFlags.Input,100<e.value?1:0):-1},t.digitalWritePin=function(t,e){var i=r.getPin(t);i&&(i.mode=r.PinFlags.Digital|r.PinFlags.Output,i.value=0<e?1023:0,r.runtime.queueDisplayUpdate())},t.setPull=function(t,e){var i=r.getPin(t);i&&(i.pull=e)},t.analogReadPin=function(t){var e=r.getPin(t);return e?(e.mode=r.PinFlags.Analog|r.PinFlags.Input,e.value||0):-1},t.analogWritePin=function(t,e){var i=r.getPin(t);i&&(i.mode=r.PinFlags.Analog|r.PinFlags.Output,i.value=e?1:0,r.runtime.queueDisplayUpdate())},t.analogSetPeriod=n,t.servoWritePin=function(t,e){var i=r.getPin(t);i&&(n(t,2e4),i.servoAngle=e)},t.servoSetPulse=function(t,e){r.getPin(t)},t.analogSetPitchPin=function(t){var e=r.getPin(t);e&&(r.board().edgeConnectorState.pins.filter(function(t){return!!t}).forEach(function(t){return t.pitch=!1}),e.pitch=!0)},t.analogPitch=function(t,e){var i=r.board().edgeConnectorState.pins,n=i.filter(function(t){return!!t&&t.pitch})[0]||i[0];n.mode=r.PinFlags.Analog|r.PinFlags.Output,t<=0?(n.value=0,n.period=0):(n.value=512,n.period=1e6/t),r.runtime.queueDisplayUpdate();var s=r.getResume();r.AudioContextManager.tone(t,1),e<=0?s():setTimeout(function(){r.AudioContextManager.stop(),n.value=0,n.period=0,n.mode=r.PinFlags.Unused,r.runtime.queueDisplayUpdate(),s()},e)}}(r.pins||(r.pins={}))}(pxsim||(pxsim={})),function(e){var i,t;(t=i=e.PinFlags||(e.PinFlags={}))[t.Unused=0]="Unused",t[t.Digital=1]="Digital",t[t.Analog=2]="Analog",t[t.Input=4]="Input",t[t.Output=8]="Output",t[t.Touch=16]="Touch";var n=function(){function t(t){this.id=t,this.touched=!1,this.value=0,this.period=0,this.servoAngle=0,this.mode=i.Unused,this.pitch=!1,this.pull=0}return t.prototype.digitalReadPin=function(){return this.mode=i.Digital|i.Input,100<this.value?1:0},t.prototype.digitalWritePin=function(t){this.mode=i.Digital|i.Output,this.value=0<t?200:0,e.runtime.queueDisplayUpdate()},t.prototype.setPull=function(t){this.pull=t},t.prototype.analogReadPin=function(){return this.mode=i.Analog|i.Input,this.value||0},t.prototype.analogWritePin=function(t){this.mode=i.Analog|i.Output,this.value=Math.max(0,Math.min(1023,t)),e.runtime.queueDisplayUpdate()},t.prototype.analogSetPeriod=function(t){this.mode=i.Analog|i.Output,this.period=t,e.runtime.queueDisplayUpdate()},t.prototype.servoWritePin=function(t){this.analogSetPeriod(2e4),this.servoAngle=Math.max(0,Math.min(180,t)),e.runtime.queueDisplayUpdate()},t.prototype.servoSetPulse=function(t,e){},t.prototype.isTouched=function(){return this.mode=i.Touch|i.Analog|i.Input,this.touched},t}();e.Pin=n;var s=function(){function t(t){this.props=t,this.pins=t.pins.map(function(t){return null!=t?new n(t):null})}return t.prototype.getPin=function(e){return this.pins.filter(function(t){return t&&t.id==e})[0]||null},t}();e.EdgeConnectorState=s}(pxsim||(pxsim={})),function(n){var t;(t=n.files||(n.files={})).appendLine=function(t,e){n.board().fileSystem.append(t,e+"\r\n")},t.appendString=function(t,e){n.board().fileSystem.append(t,e)},t.appendNumber=function(t,e){n.board().fileSystem.append(t,e.toString())},t.remove=function(t){n.board().fileSystem.remove(t)},t.readToSerial=function(t){var e=n.board(),i=e.fileSystem.files[t];i&&e.serialState.writeSerial(i)}}(pxsim||(pxsim={})),function(u){var e,t;(t=e=u.DisplayMode||(u.DisplayMode={}))[t.bw=0]="bw",t[t.greyscale=1]="greyscale";var i=function(t){this.image=l(5),this.brigthness=255,this.displayMode=e.bw,this.font=r(),this.animationQ=new u.AnimationQueue(t)};u.LedMatrixState=i;var n=function(n){function t(t,e){var i=n.call(this)||this;return i.width=t,i.data=e,i}return __extends(t,n),t.prototype.print=function(){console.debug("Image id:"+this.id+" refs:"+this.refcnt+" size:"+this.width+"x"+t.height)},t.prototype.get=function(t,e){return t<0||t>=this.width||e<0||5<=e?0:this.data[e*this.width+t]},t.prototype.set=function(t,e,i){t<0||t>=this.width||e<0||5<=e||(this.data[e*this.width+t]=Math.max(0,Math.min(255,i)))},t.prototype.copyTo=function(t,e,i,n){for(var s=0;s<e;s++)for(var r=0;r<5;r++){var a=this.get(t+s,r);i.set(n+s,r,a)}},t.prototype.shiftLeft=function(t){for(var e=0;e<this.width;++e)for(var i=0;i<5;++i)this.set(e,i,e<this.width-t?this.get(e+t,i):0)},t.prototype.shiftRight=function(t){for(var e=this.width-1;0<=e;--e)for(var i=0;i<5;++i)this.set(e,i,t<=e?this.get(e-t,i):0)},t.prototype.clear=function(){for(var t=0;t<this.data.length;++t)this.data[t]=0},t.height=5,t}(u.RefObject);function l(t){var e=s(t);return u.runtime.unregisterLiveObject(e,!0),e}function s(t){return new n(t,new Array(5*t))}function r(){for(var t=[0,0,0,0,0,8,8,8,0,8,10,74,64,0,0,10,95,234,95,234,14,217,46,211,110,25,50,68,137,51,12,146,76,146,77,8,8,0,0,0,4,136,8,8,4,8,4,132,132,136,0,10,68,138,64,0,4,142,196,128,0,0,0,4,136,0,0,14,192,0,0,0,0,8,0,1,34,68,136,16,12,146,82,82,76,4,140,132,132,142,28,130,76,144,30,30,194,68,146,76,6,202,82,95,226,31,240,30,193,62,2,68,142,209,46,31,226,68,136,16,14,209,46,209,46,14,209,46,196,136,0,8,0,8,0,0,4,128,4,136,2,68,136,4,130,0,14,192,14,192,8,4,130,68,136,14,209,38,192,4,14,209,53,179,108,12,146,94,210,82,28,146,92,146,92,14,208,16,16,14,28,146,82,82,92,30,208,28,144,30,30,208,28,144,16,14,208,19,113,46,18,82,94,210,82,28,136,8,8,28,31,226,66,82,76,18,84,152,20,146,16,16,16,16,30,17,59,117,177,49,17,57,53,179,113,12,146,82,82,76,28,146,92,144,16,12,146,82,76,134,28,146,92,146,81,14,208,12,130,92,31,228,132,132,132,18,82,82,82,76,17,49,49,42,68,17,49,53,187,113,18,82,76,146,82,17,42,68,132,132,30,196,136,16,30,14,200,8,8,14,16,8,4,130,65,14,194,66,66,78,4,138,64,0,0,0,0,0,0,31,8,4,128,0,0,0,14,210,82,79,16,16,28,146,92,0,14,208,16,14,2,66,78,210,78,12,146,92,144,14,6,200,28,136,8,14,210,78,194,76,16,16,28,146,82,8,0,8,8,8,2,64,2,66,76,16,20,152,20,146,8,8,8,8,6,0,27,117,177,49,0,28,146,82,82,0,12,146,82,76,0,28,146,92,144,0,14,210,78,194,0,14,208,16,16,0,6,200,4,152,8,8,14,200,7,0,18,82,82,79,0,17,49,42,68,0,17,49,53,187,0,18,76,140,146,0,17,42,68,152,0,30,196,136,30,6,196,140,132,134,8,8,8,8,8,24,8,12,136,24,0,0,12,131,96],e=t.length,i=e/5,n=l(e),s=0;s<i;s++)for(var r=0;r<5;r++)for(var a=t[5*s+r],o=0;o<5;o++)0!=(a&1<<o)&&n.set(5*s+4-o,r,255);return n}u.Image=n,u.createInternalImage=l,u.createImage=s,u.createImageFromBuffer=function(t){return new n(t.length/5,t)},u.createImageFromString=function(t){for(var e=u.board().ledMatrixState.font,i=e.width,n=l(6*t.length-1),s=0,r=0;r<t.length;r++){var a=t.charCodeAt(r),o=5*(a-32);(o<0||i<o+5)&&(o=5*((a=" ".charCodeAt(0))-32)),e.copyTo(o,5,n,s),s+=5,r<t.length-1&&(s+=1)}return n},u.createFont=r}(pxsim||(pxsim={})),function(t){var e;(e=t.images||(t.images={})).createImage=function(t){return t},e.createBigImage=function(t){return t}}(pxsim||(pxsim={})),function(a){var n;(n=a.ImageMethods||(a.ImageMethods={})).showImage=function(t,e,i){a.pxtrt.nullCheck(t);var n=a.getResume(),s=!0;a.board().ledMatrixState.animationQ.enqueue({interval:i,frame:function(){return!(!s||(t.copyTo(e,5,a.board().ledMatrixState.image,0),s=!1))},whenDone:n})},n.plotImage=function(t,e){a.pxtrt.nullCheck(t),a.board().ledMatrixState.animationQ.enqueue({interval:0,frame:function(){return t.copyTo(e,5,a.board().ledMatrixState.image,0),!1}})},n.height=function(t){return a.pxtrt.nullCheck(t),a.Image.height},n.width=function(t){return a.pxtrt.nullCheck(t),t.width},n.plotFrame=function(t,e){n.plotImage(t,e*a.Image.height)},n.showFrame=function(t,e,i){n.showImage(t,e*a.Image.height,i)},n.pixel=function(t,e,i){return a.pxtrt.nullCheck(t),t.get(e,i)},n.setPixel=function(t,e,i,n){a.pxtrt.nullCheck(t),t.set(e,i,n)},n.clear=function(t){a.pxtrt.nullCheck(t),t.clear()},n.setPixelBrightness=function(t,e,i,n){a.pxtrt.nullCheck(t),t.set(e,i,n)},n.pixelBrightness=function(t,e,i){return a.pxtrt.nullCheck(t),t.get(e,i)},n.scrollImage=function(e,i,t){a.pxtrt.nullCheck(e),0==i&&(i=1);var n=a.getResume(),s=0<i?0:e.width-1,r=a.board().ledMatrixState.image;a.board().ledMatrixState.animationQ.enqueue({interval:t,frame:function(){if(s>=e.width||s<0)return!1;if(0<i){r.shiftLeft(i);var t=Math.min(i,e.width-s);e.copyTo(s,t,r,5-i)}else r.shiftRight(-i),t=Math.min(-i,e.width-s),e.copyTo(s,t,r,0);return s+=i,!0},whenDone:n})}}(pxsim||(pxsim={})),function(a){!function(i){function n(t,e){r(t,e)}function s(){a.board().ledMatrixState.image.clear(),a.runtime.queueDisplayUpdate()}function r(t,e){a.ImageMethods.scrollImage(t,5,e)}i.showNumber=function(t,e){e<=0&&(e=1);var i=a.createImageFromString(t.toString());t<0||10<=t?a.ImageMethods.scrollImage(i,1,e):n(i,5*e)},i.showString=function(t,e){e<=0&&(e=1),0==t.length?(s(),i.pause(5*e)):1==t.length?n(a.createImageFromString(t),0):a.ImageMethods.scrollImage(a.createImageFromString(t+" "),1,e)},i.showLeds=n,i.clearScreen=s,i.showAnimation=r,i.plotLeds=function(t){a.ImageMethods.plotImage(t,0)}}(a.basic||(a.basic={}))}(pxsim||(pxsim={})),function(s){var t;(t=s.led||(s.led={})).plot=function(t,e){s.board().ledMatrixState.image.set(t,e,255),s.runtime.queueDisplayUpdate()},t.plotBrightness=function(t,e,i){var n=s.board().ledMatrixState;0!=(i=Math.max(0,Math.min(255,i)))&&255!=i&&n.displayMode!=s.DisplayMode.greyscale&&(n.displayMode=s.DisplayMode.greyscale),n.image.set(t,e,i),s.runtime.queueDisplayUpdate()},t.unplot=function(t,e){s.board().ledMatrixState.image.set(t,e,0),s.runtime.queueDisplayUpdate()},t.point=function(t,e){return!!s.board().ledMatrixState.image.get(t,e)},t.brightness=function(){return s.board().ledMatrixState.brigthness},t.setBrightness=function(t){s.board().ledMatrixState.brigthness=Math.max(0,Math.min(255,t)),s.runtime.queueDisplayUpdate()},t.stopAnimation=function(){s.board().ledMatrixState.animationQ.cancelAll(),s.board().ledMatrixState.image.clear()},t.setDisplayMode=function(t){s.board().ledMatrixState.displayMode=t,s.runtime.queueDisplayUpdate()},t.displayMode=function(){return s.board().ledMatrixState.displayMode},t.screenshot=function(){var t=s.createImage(5);return s.board().ledMatrixState.image.copyTo(0,5,t,0),t},t.enable=function(t){s.board().ledMatrixState.disabled=!t,s.runtime.queueDisplayUpdate()}}(pxsim||(pxsim={})),function(e){(e.input||(e.input={})).lightLevel=function(){var t=e.board().lightSensorState;return t.usesLightLevel||(t.usesLightLevel=!0,e.runtime.queueDisplayUpdate()),t.lightLevel}}(pxsim||(pxsim={})),function(s){!function(n){function e(){return s.svg.parseString('\n        <svg xmlns="http://www.w3.org/2000/svg" id="svg2" width="112.188" height="299.674">\n          <g id="layer1" stroke-linecap="round" stroke-linejoin="round" transform="scale(0.8)">\n            <path id="path8212" fill="#0061ff" stroke-width="6.6" d="M.378 44.61v255.064h112.188V44.61H.378z"/>\n            <path id="crankbase" fill="#00f" stroke-width="6.6" d="M56.57 88.047C25.328 88.047 0 113.373 0 144.615c.02 22.352 11.807 42.596 32.238 51.66.03 3.318.095 5.24.088 7.938 0 13.947 11.307 25.254 25.254 25.254 13.947 0 25.254-11.307 25.254-25.254-.006-2.986-.415-5.442-.32-8.746 19.487-9.45 30.606-29.195 30.625-50.852 0-31.24-25.33-56.568-56.57-56.568z"/>\n            <path id="lowertip" fill="#00a2ff" stroke-width="2" d="M.476 260.78v38.894h53.82v-10.486a6.82 6.566 0 0 1-4.545-6.182 6.82 6.566 0 0 1 6.82-6.566 6.82 6.566 0 0 1 6.82 6.566 6.82 6.566 0 0 1-4.545 6.182v10.486h53.82V260.78H.475z"/>\n            <path id="uppertip" fill="#00a2ff" stroke-width="2" d="M112.566 83.503V44.61h-53.82v10.487a6.82 6.566 0 0 1 4.544 6.18 6.82 6.566 0 0 1-6.818 6.568 6.82 6.566 0 0 1-6.82-6.567 6.82 6.566 0 0 1 4.546-6.18V44.61H.378v38.893h112.188z"/>\n            <path id="VCC" fill="red" stroke-width="2" d="M53.72 21.93h5.504v22.627H53.72z"/>\n            <path id="LOGIC" fill="#fc0" stroke-width="2" d="M47.3 21.93h5.503v22.627H47.3z"/>\n            <path id="GND" fill="#a02c2c" stroke-width="2" d="M60.14 21.93h5.505v22.627H60.14z"/>\n            <path id="connector" stroke-width="2" d="M45.064 0a1.488 1.488 0 0 0-1.488 1.488v24.5a1.488 1.488 0 0 0 1.488 1.487h22.71a1.488 1.488 0 0 0 1.49-1.488v-24.5A1.488 1.488 0 0 0 67.774 0h-22.71z"/>\n            <g id="crank" transform="translate(0 -752.688)">\n              <path id="arm" fill="#ececec" stroke="#000" stroke-width="1.372" d="M47.767 880.88c-4.447 1.162-8.412 8.278-8.412 18.492s3.77 18.312 8.412 18.494c8.024.314 78.496 5.06 78.51-16.952.012-22.013-74.377-21.117-78.51-20.035z"/>\n              <circle id="path8216" cx="56.661" cy="899.475" r="8.972" fill="gray" stroke-width="2"/>\n            </g>\n          </g>\n        </svg>\n                    ').firstElementChild}n.mkMicroServoPart=function(t){return void 0===t&&(t=[0,0]),{el:e(),x:t[0],y:t[1],w:112.188,h:299.674}};var t=function(){function t(){this.style="",this.overElement=void 0,this.defs=[],this.currentAngle=0,this.targetAngle=0,this.lastAngleTime=0}return t.prototype.init=function(t,e,i,n){this.state=e,this.pin=this.state.props.servos[s.readPin(n.name||n.pin)],this.bus=t,this.defs=[],this.initDom(),this.updateState()},t.prototype.initDom=function(){this.element=e(),this.crankEl=this.element.querySelector("#crank"),this.crankTransform=this.crankEl.getAttribute("transform")},t.prototype.moveToCoord=function(t){var e=t[0],i=t[1];n.translateEl(this.element,[e,i])},t.prototype.updateState=function(){if(this.targetAngle=180-this.state.getPin(this.pin).servoAngle,this.targetAngle!=this.currentAngle){var t=s.U.now(),e=Math.min(t-this.lastAngleTime,50)/1e3,i=this.targetAngle-this.currentAngle;this.currentAngle+=Math.min(Math.abs(i),300*e)*(0<i?1:-1),this.crankEl.setAttribute("transform",this.crankTransform+" rotate("+this.currentAngle+", 56.661, 899.475)"),this.lastAngleTime=t,setTimeout(function(){return s.runtime.updateDisplay()},20)}},t.prototype.updateTheme=function(){},t}();n.MicroServoView=t}(s.visuals||(s.visuals={}))}(pxsim||(pxsim={})),function(t){var e;(e=t.PanicCode||(t.PanicCode={}))[e.MICROBIT_OOM=20]="MICROBIT_OOM",e[e.MICROBIT_HEAP_ERROR=30]="MICROBIT_HEAP_ERROR",e[e.MICROBIT_NULL_DEREFERENCE=40]="MICROBIT_NULL_DEREFERENCE",t.panic=function(t){throw console.log("PANIC:",t),new Error("PANIC "+t)}}(pxsim||(pxsim={})),function(t){var e;(e=t.basic||(t.basic={})).pause=t.thread.pause,e.forever=t.thread.forever}(pxsim||(pxsim={})),function(n){var t;(t=n.control||(n.control={})).inBackground=n.thread.runInBackground,t.reset=function(){n.U.userError("reset not implemented in simulator yet")},t.waitMicros=function(t){},t.deviceName=function(){var t=n.board();return t&&t.id?t.id.slice(0,4):"abcd"},t.deviceSerialNumber=function(){var t=n.board();return parseInt(t&&t.id?t.id.slice(1):"42")},t.onEvent=function(t,e,i){n.pxtcore.registerWithDal(t,e,i)},t.raiseEvent=function(t,e,i){n.board().bus.queue(t,e)}}(pxsim||(pxsim={})),function(n){(n.pxtcore||(n.pxtcore={})).registerWithDal=function(t,e,i){n.board().bus.listen(t,e,i)}}(pxsim||(pxsim={})),function(t){var e;(e=t.input||(t.input={})).runningTime=function(){return t.runtime.runningTime()},e.calibrateCompass=function(){}}(pxsim||(pxsim={})),function(s){!function(t){function n(t){return s.BufferMethods.createBuffer(t)}t.onPulsed=function(t,e,i){},t.pulseDuration=function(){return 0},t.createBuffer=n,t.pulseIn=function(t,e,i){return s.getPin(t)?5e3:0},t.spiWrite=function(t){return 0},t.spiFrequency=function(t){},t.spiFormat=function(t,e){},t.spiPins=function(t,e,i){},t.i2cReadBuffer=function(t,e,i){return n(e)},t.i2cWriteBuffer=function(t,e,i){},t.getPinAddress=function(t){return s.getPin(t)},t.setEvents=function(t,e){}}(s.pins||(s.pins={}))}(pxsim||(pxsim={})),function(t){var e;(e=t.devices||(t.devices={})).tellCameraTo=function(t){},e.tellRemoteControlTo=function(t){},e.raiseAlertTo=function(t){},e.onSignalStrengthChanged=function(t){},e.signalStrength=function(){return 0},e.onGamepadButton=function(t,e){}}(pxsim||(pxsim={})),function(i){var t;(t=i.bluetooth||(i.bluetooth={})).startIOPinService=function(){},t.startLEDService=function(){},t.startTemperatureService=function(){},t.startMagnetometerService=function(){},t.startAccelerometerService=function(){},t.startButtonService=function(){},t.startUartService=function(){},t.uartWriteString=function(t){i.serial.writeString(t)},t.uartReadUntil=function(t){return i.serial.readUntil(t)},t.onUartDataReceived=function(t,e){i.board().bus.listen(1200,1,e)},t.onBluetoothConnected=function(t){},t.onBluetoothDisconnected=function(t){},t.advertiseUrl=function(t,e,i){},t.advertiseUidBuffer=function(t,e,i){},t.stopAdvertising=function(){},t.setTransmitPower=function(t){}}(pxsim||(pxsim={})),function(r){r.sendBufferAsm=function(t,e){var i=r.board();if(i){var n=i.neopixelState;if(n){var s=t.data;n.updateBuffer(s,e),r.runtime.queueDisplayUpdate()}}}}(pxsim||(pxsim={})),function(i){var e=function(){function e(t){this.runtime=t,this.datagram=[],this.lastReceived=e.defaultPacket()}return e.prototype.queue=function(t){this.datagram.length<4&&this.datagram.push(t),i.runtime.board.bus.queue(29,1)},e.prototype.send=function(t){var e=i.board();i.Runtime.postMessage({type:"radiopacket",rssi:70,serial:e.radioState.bus.transmitSerialNumber?i.control.deviceSerialNumber():0,time:(new Date).getTime(),payload:t})},e.prototype.recv=function(){var t=this.datagram.shift();return t||(t=e.defaultPacket()),this.lastReceived=t},e.defaultPacket=function(){return{rssi:-1,serial:0,time:0,payload:{type:-1,groupId:0}}},e}();i.RadioDatagram=e;var n=function(){function t(t){this.runtime=t,this.power=0,this.transmitSerialNumber=!1,this.datagram=new e(t)}return t.prototype.setTransmitPower=function(t){this.power=Math.max(0,Math.min(7,t))},t.prototype.setTransmitSerialNumber=function(t){this.transmitSerialNumber=!!t},t.prototype.broadcast=function(t,e){i.Runtime.postMessage({type:"event",id:2e3,eventid:t,power:this.power,group:e})},t}();i.RadioBus=n;var t=function(){function t(t){this.bus=new n(t),this.groupId=0}return t.prototype.setGroup=function(t){this.groupId=255&t},t.prototype.broadcast=function(t){this.bus.broadcast(t,this.groupId)},t.prototype.receivePacket=function(t){this.groupId==t.payload.groupId&&this.bus.datagram.queue(t)},t}();i.RadioState=t}(pxsim||(pxsim={})),function(a){!function(e){var i,t;function n(){return a.board().radioState.bus.datagram.lastReceived.payload.numberData||0}function s(){return a.initString(a.board().radioState.bus.datagram.lastReceived.payload.stringData||"")}function r(t,e){switch(e.payload.type){case i.NUMBER:t.writeSerial('{"t":'+e.time+',"s":'+e.serial+',"v":'+e.payload.numberData+"}\r\n");break;case i.VALUE:t.writeSerial('{"t":'+e.time+',"s":'+e.serial+',"n":"'+e.payload.stringData+'","v":'+e.payload.numberData+"}\r\n");break;case i.STRING:t.writeSerial('{"t":'+e.time+',"s":'+e.serial+',"n":"'+e.payload.stringData+'"}\r\n')}}(t=i||(i={}))[t.NUMBER=0]="NUMBER",t[t.VALUE=1]="VALUE",t[t.STRING=2]="STRING",t[t.BUFFER=3]="BUFFER",e.broadcastMessage=function(t){a.board().radioState.broadcast(t)},e.onBroadcastMessageReceived=function(t,e){a.pxtcore.registerWithDal(2e3,t,e)},e.setGroup=function(t){a.board().radioState.setGroup(t)},e.setTransmitPower=function(t){a.board().radioState.bus.setTransmitPower(t)},e.setTransmitSerialNumber=function(t){a.board().radioState.bus.setTransmitSerialNumber(t)},e.sendNumber=function(t){a.board().radioState.bus.datagram.send({type:i.NUMBER,groupId:a.board().radioState.groupId,numberData:t})},e.sendString=function(t){void 0!==t&&(t=t.substr(0,19),a.board().radioState.bus.datagram.send({type:i.STRING,groupId:a.board().radioState.groupId,stringData:t}))},e.sendBuffer=function(t){t&&(t.data.slice(0,18),a.board().radioState.bus.datagram.send({type:i.STRING,groupId:a.board().radioState.groupId}))},e.writeValueToSerial=function(){var t=a.board();r(t,t.radioState.bus.datagram.recv())},e.writeReceivedPacketToSerial=function(){var t=a.board();r(t,t.radioState.bus.datagram.lastReceived)},e.sendValue=function(t,e){t=t.substr(0,12),[].push(),a.board().radioState.bus.datagram.send({type:i.VALUE,groupId:a.board().radioState.groupId,stringData:t,numberData:e})},e.receiveNumber=function(){return a.board().radioState.bus.datagram.recv(),n()},e.receiveString=function(){return a.board().radioState.bus.datagram.recv(),s()},e.receivedSignalStrength=function(){return a.board().radioState.bus.datagram.lastReceived.rssi},e.onDataReceived=function(t){a.pxtcore.registerWithDal(29,1,t),e.receiveNumber()},e.receivedNumber=n,e.receivedSerial=function(){return a.board().radioState.bus.datagram.lastReceived.serial},e.receivedString=s,e.receivedTime=function(){return a.board().radioState.bus.datagram.lastReceived.time}}(a.radio||(a.radio={}))}(pxsim||(pxsim={})),function(e){var t=function(){function t(){this.serialIn=[],this.serialOutBuffer=""}return t.prototype.receiveData=function(t){this.serialIn.push()},t.prototype.readSerial=function(){return this.serialIn.shift()||""},t.prototype.writeSerial=function(t){this.serialOutBuffer+=t,(/\n/.test(this.serialOutBuffer)||16<this.serialOutBuffer.length)&&(e.Runtime.postMessage({type:"serial",data:this.serialOutBuffer,id:e.runtime.id,sim:!0}),this.serialOutBuffer="")},t}();e.SerialState=t}(pxsim||(pxsim={})),function(i){!function(t){function e(){return i.board().serialState.readSerial()}t.writeString=function(t){i.board().writeSerial(t)},t.writeBuffer=function(t){},t.readUntil=function(t){return e()},t.readString=e,t.onDataReceived=function(t,e){i.board().bus.listen(32,1,e)},t.redirect=function(t,e,i){},t.redirectToUSB=function(){}}(i.serial||(i.serial={}))}(pxsim||(pxsim={})),function(t){var e=function(){this.usesTemperature=!1,this.temperature=21};(pxsim||(pxsim={})).ThermometerState=e}(),function(e){(e.input||(e.input={})).temperature=function(){var t=e.board();return t.thermometerState.usesTemperature||(t.thermometerState.usesTemperature=!0,e.runtime.queueDisplayUpdate()),t.thermometerState.temperature}}(pxsim||(pxsim={})),function(e){var i;(i=e.visuals||(e.visuals={})).mkBoardView=function(t){return new i.MicrobitBoardSvg({runtime:e.runtime,theme:i.randomTheme(t.highContrast),disableTilt:!1,wireframe:t.wireframe})}}(pxsim||(pxsim={})),function(v){!function(g){function i(t,e,i){var n={el:null,y:0,x:0,w:0,h:0,leds:[],ledsOuter:[],background:null};n.el=v.svg.elt("g");var s=i*g.PIN_DIST,r=e*g.PIN_DIST,a=Math.round(.35*g.PIN_DIST),o=g.PIN_DIST,u=(o-2*a)/2,l=t[0]-(a+u),h=t[1]-(a+u);n.x=l,n.y=h,n.w=s,n.h=r,n.background=v.svg.child(n.el,"rect",{class:"sim-display",x:l,y:h,width:s,height:r}),n.leds=[],n.ledsOuter=[];for(var c=1.2*a,d=0;d<e;++d)for(var p=h+a+d*o+u,m=0;m<i;++m){var f=l+a+m*o+u;n.ledsOuter.push(v.svg.child(n.el,"circle",{class:"sim-led-back",cx:f,cy:p,r:a})),n.leds.push(v.svg.child(n.el,"circle",{class:"sim-led",cx:f,cy:p,r:c,title:"("+m+","+d+")"}))}return v.svg.fill(n.background,g.defaultLedMatrixTheme.background),v.svg.fills(n.leds,g.defaultLedMatrixTheme.ledOn),v.svg.fills(n.ledsOuter,g.defaultLedMatrixTheme.ledOff),n.leds.forEach(function(t){return t.style.opacity="0"}),n}g.mkLedMatrixSvg=i,g.defaultLedMatrixTheme={background:"#000",ledOn:"#ff5f5f",ledOff:"#DDD"},g.LED_MATRIX_STYLE="\n            .sim-led-back:hover {\n                stroke:#a0a0a0;\n                stroke-width:3px;\n            }\n            .sim-led:hover {\n                stroke:#ff7f7f;\n                stroke-width:3px;\n            }\n            ";var t=function(){function t(){this.DRAW_SIZE=8,this.ACTIVE_SIZE=5,this.style=g.LED_MATRIX_STYLE}return t.prototype.init=function(t,e){this.bus=t,this.state=e,this.theme=g.defaultLedMatrixTheme,this.defs=[],this.element=this.buildDom()},t.prototype.moveToCoord=function(t){g.translateEl(this.element,t)},t.prototype.updateTheme=function(){v.svg.fill(this.background,this.theme.background),v.svg.fills(this.leds,this.theme.ledOn),v.svg.fills(this.ledsOuter,this.theme.ledOff)},t.prototype.updateState=function(){var a=this;if(this.state.disabled)this.leds.forEach(function(t,e){t.style.opacity="0"});else{var o=this.state.displayMode==v.DisplayMode.bw,u=this.state.image;this.leds.forEach(function(t,e){var i=t,n=e%a.DRAW_SIZE,s=(e-n)/a.DRAW_SIZE;if(n<a.ACTIVE_SIZE&&s<a.ACTIVE_SIZE){var r=n+s*a.ACTIVE_SIZE;i.style.opacity=(o?0<u.data[r]?255:0:u.data[r])/255+""}else i.style.opacity="0"})}},t.prototype.buildDom=function(){var t=i([0,0],this.DRAW_SIZE,this.DRAW_SIZE),e=t.el;return this.background=t.background,this.leds=t.leds,this.ledsOuter=t.ledsOuter,e},t}();g.LedMatrixView=t}(v.visuals||(v.visuals={}))}(pxsim||(pxsim={})),function(g){!function(i){var c=[66.7,79.1,91.4,103.7,164.3,176.6,188.9,201.3,213.6,275.2,287.5,299.8,312.1,324.5,385.1,397.4,409.7,422],t=c.map(function(t){return t+5}),e=t[1]-t[0],n=t[4]-t[3],s=c[0]-n/2,r=s-n/2,a=t[3]+n/2,o=t[8]+n/2,u=t[13]+n/2,l=t[t.length-1]+n/2,h=l+n/2,d=[s,a,o,r].concat(t).concat([l,u,h]),p=["P0","P1","P2","P3","P4","P5","P6","P7","P8","P9","P10","P11","P12","P13","P14","P15","P16","P17","P18","P19","P20","GND0","GND","+3v3","GND1"],m=["P0, ANALOG IN","P1, ANALOG IN","P2, ANALOG IN","P3, ANALOG IN, LED Col 1","P4, ANALOG IN, LED Col 2","P5, BUTTON A","P6, LED Col 9","P7, LED Col 8","P8","P9, LED Col 7","P10, ANALOG IN, LED Col 3","P11, BUTTON B","P12, RESERVED ACCESSIBILITY","P13, SPI - SCK","P14, SPI - MISO","P15, SPI - MOSI","P16, SPI - Chip Select","P17, +3v3","P18, +3v3","P19, I2C - SCL","P20, I2C - SDA","GND","GND","+3v3","GND"];i.themes=["#3ADCFE","#FFD43A","#3AFFB3","#FF3A54"].map(function(t){return{accent:t,display:"#000",pin:"#D4AF37",pinTouched:"#FFA500",pinActive:"#FF5500",ledOn:"#ff7f7f",ledOff:"#202020",buttonOuter:"#979797",buttonUp:"#000",buttonDown:"#FFA500",virtualButtonOuter:"#333",virtualButtonUp:"#fff",lightLevelOn:"yellow",lightLevelOff:"#555"}}),i.randomTheme=function(t){var e=i.themes[Math.floor(Math.random()*i.themes.length)];return t&&((e=JSON.parse(JSON.stringify(e))).highContrast=!0,e.ledOff="#888",e.ledOn="#0000bb",e.display="#ffffff",e.pin="#D4AF37",e.accent="#273EE2"),e};var f=function(){function t(t){var e=this;this.props=t,this.headInitialized=!1,this.pinNmToCoord={},this.lastFlashTime=0,this.lastAntennaFlash=0,this.recordPinCoords(),this.buildDom(),t&&t.wireframe&&g.svg.addClass(this.element,"sim-wireframe"),t&&t.theme&&this.updateTheme(),t&&t.runtime&&(this.board=this.props.runtime.board,this.board.updateSubscribers.push(function(){return e.updateState()}),this.updateState(),this.attachEvents())}return t.prototype.getView=function(){return{el:this.element,y:0,x:0,w:500,h:408}},t.prototype.getCoord=function(t){return this.pinNmToCoord[t]},t.prototype.highlightPin=function(t){},t.prototype.getPinDist=function(){return 1.7*e},t.prototype.recordPinCoords=function(){var n=this;p.forEach(function(t,e){var i=d[e];n.pinNmToCoord[t]=[i,396.7]})},t.prototype.updateTheme=function(){var e=this.props.theme;g.svg.fill(this.display,e.display),g.svg.fills(this.leds,e.ledOn),g.svg.fills(this.ledsOuter,e.ledOff),g.svg.fills(this.buttonsOuter.slice(0,2),e.buttonOuter),g.svg.fills(this.buttons.slice(0,2),e.buttonUp),g.svg.fill(this.buttonsOuter[2],e.virtualButtonOuter),g.svg.fill(this.buttons[2],e.virtualButtonUp),g.svg.fills(this.logos,e.accent),this.shakeButton&&g.svg.fill(this.shakeButton,e.virtualButtonUp),this.pinGradients.forEach(function(t){return g.svg.setGradientColors(t,e.pin,e.pinActive)}),g.svg.setGradientColors(this.lightLevelGradient,e.lightLevelOn,e.lightLevelOff),g.svg.setGradientColors(this.thermometerGradient,e.ledOff,e.ledOn)},t.prototype.updateState=function(){var i=this,t=this.board;if(t){var n=this.props.theme,e=t.buttonPairState;if([e.aBtn,e.bBtn,e.abBtn].forEach(function(t,e){g.svg.fill(i.buttons[e],t.pressed?n.buttonDown:n.buttonUp)}),t.ledMatrixState.disabled)this.leds.forEach(function(t,e){t.style.opacity="0"});else{var a=t.ledMatrixState.displayMode==g.DisplayMode.bw,o=t.ledMatrixState.image,u=null!=t.ledMatrixState.brigthness?t.ledMatrixState.brigthness:255;this.leds.forEach(function(t,e){var i=t,n=a?0<o.data[e]?u:0:o.data[e],s=0<n?n/255*155+100:0,r=0<n?n/255*.4+.6:0;i.style.opacity=s/255+"",0<r&&(i.style.transformBox="fill-box",i.style.transformOrigin="50% 50%",i.style.transform="scale("+r+")")})}this.updatePins(),this.updateTilt(),this.updateHeading(),this.updateLightLevel(),this.updateTemperature(),this.updateButtonAB(),this.updateGestures(),!g.runtime||g.runtime.dead?g.svg.addClass(this.element,"grayscale"):g.svg.removeClass(this.element,"grayscale")}},t.prototype.updateGestures=function(){var e=this;this.board.accelerometerState.useShake&&!this.shakeButton&&(this.shakeButton=g.svg.child(this.g,"circle",{cx:380,cy:100,r:16.5,class:"sim-shake"}),g.accessibility.makeFocusable(this.shakeButton),g.svg.fill(this.shakeButton,this.props.theme.virtualButtonUp),g.pointerEvents.down.forEach(function(t){return e.shakeButton.addEventListener(t,function(t){e.board;g.svg.fill(e.shakeButton,e.props.theme.buttonDown)})}),this.shakeButton.addEventListener(g.pointerEvents.leave,function(t){e.board;g.svg.fill(e.shakeButton,e.props.theme.virtualButtonUp)}),this.shakeButton.addEventListener(g.pointerEvents.up,function(t){e.board;g.svg.fill(e.shakeButton,e.props.theme.virtualButtonUp),e.board.bus.queue(27,11)}),g.accessibility.enableKeyboardInteraction(this.shakeButton,void 0,function(){e.board.bus.queue(27,11)}),g.accessibility.setAria(this.shakeButton,"button","Shake the board"),this.shakeText=g.svg.child(this.g,"text",{x:400,y:110,class:"sim-text"}),this.shakeText.textContent="SHAKE")},t.prototype.updateButtonAB=function(){this.board.buttonPairState.usesButtonAB&&!this.buttonABText&&(this.buttonsOuter[2].style.visibility="visible",this.buttons[2].style.visibility="visible",this.buttonABText=g.svg.child(this.g,"text",{class:"sim-text",x:370,y:272}),this.buttonABText.textContent="A+B",this.updateTheme())},t.prototype.updatePin=function(t,e){if(t){var i=this.pinTexts[e],n="";t.mode&g.PinFlags.Analog?(n=Math.floor(100-(t.value||0)/1023*100)+"%",i&&(i.textContent=(t.period?"~":"")+(t.value||0))):t.mode&g.PinFlags.Digital?(n=0<t.value?"0%":"100%",i&&(i.textContent=0<t.value?"1":"0")):(n=t.mode&g.PinFlags.Touch&&t.touched?"0%":"100%",i&&(i.textContent="")),n&&g.svg.setGradientValue(this.pinGradients[e],n),t.mode!==g.PinFlags.Unused&&(g.accessibility.makeFocusable(this.pins[e]),g.accessibility.setAria(this.pins[e],"slider",this.pins[e].firstChild.textContent),this.pins[e].setAttribute("aria-valuemin","0"),this.pins[e].setAttribute("aria-valuemax",t.mode&g.PinFlags.Analog?"1023":"100"),this.pins[e].setAttribute("aria-orientation","vertical"),this.pins[e].setAttribute("aria-valuenow",i?i.textContent:n),g.accessibility.setLiveContent(i?i.textContent:n))}},t.prototype.updateTemperature=function(){var n=this,s=this.board;if(s&&s.thermometerState.usesTemperature){if(!this.thermometer){var t="gradient-thermometer";this.thermometerGradient=g.svg.linearGradient(this.defs,t),this.thermometer=g.svg.child(this.g,"rect",{class:"sim-thermometer no-drag",x:120,y:110,width:20,height:160,rx:5,ry:5,fill:"url(#"+t+")"}),this.thermometerText=g.svg.child(this.g,"text",{class:"sim-text",x:58,y:130}),this.updateTheme();var r=this.element.createSVGPoint();g.svg.buttonEvents(this.thermometer,function(t){var e=g.svg.cursorPoint(r,n.element,t),i=Math.max(0,Math.min(1,(260-e.y)/140));s.thermometerState.temperature=Math.floor(55*i-5),n.updateTemperature()},function(t){},function(t){},function(t){var e="number"==typeof t.which?t.which:t.keyCode;40===e||37===e?(s.thermometerState.temperature--,s.thermometerState.temperature<-5&&(s.thermometerState.temperature=50),n.updateTemperature()):38!==e&&39!==e||(s.thermometerState.temperature++,50<s.thermometerState.temperature&&(s.thermometerState.temperature=-5),n.updateTemperature())}),g.accessibility.makeFocusable(this.thermometer),g.accessibility.setAria(this.thermometer,"slider","Thermometer"),this.thermometer.setAttribute("aria-valuemin","-5"),this.thermometer.setAttribute("aria-valuemax","50"),this.thermometer.setAttribute("aria-orientation","vertical"),this.thermometer.setAttribute("aria-valuenow","21"),this.thermometer.setAttribute("aria-valuetext","21°C")}var e=Math.max(-5,Math.min(50,s.thermometerState.temperature)),i=Math.floor((s.thermometerState.temperature- -5)/55*100);g.svg.setGradientValue(this.thermometerGradient,100-i+"%"),this.thermometerText.textContent=e+"°C",this.thermometer.setAttribute("aria-valuenow",e.toString()),this.thermometer.setAttribute("aria-valuetext",e+"°C"),g.accessibility.setLiveContent(e+"°C")}},t.prototype.updateHeading=function(){var i=this,n=this.board;if(n&&n.compassState.usesHeading){if(!this.headInitialized){this.head.firstChild.nextSibling.setAttribute("d","m269.9,50.134647l0,0l-39.5,0l0,0c-14.1,0.1 -24.6,10.7 -24.6,24.8c0,13.9 10.4,24.4 24.3,24.7l0,0l39.6,0c14.2,0 40.36034,-22.97069 40.36034,-24.85394c0,-1.88326 -26.06034,-24.54606 -40.16034,-24.64606m-0.2,39l0,0l-39.3,0c-7.7,-0.1 -14,-6.4 -14,-14.2c0,-7.8 6.4,-14.2 14.2,-14.2l39.1,0c7.8,0 14.2,6.4 14.2,14.2c0,7.9 -6.4,14.2 -14.2,14.2l0,0l0,0z"),this.updateTheme();var s=this.element.createSVGPoint();g.svg.buttonEvents(this.head,function(t){var e=g.svg.cursorPoint(s,i.element,t);n.compassState.heading=Math.floor(180*Math.atan2(e.y-75,e.x-258)/Math.PI+90),n.compassState.heading<0&&(n.compassState.heading+=360),i.updateHeading()}),this.headInitialized=!0}var t=n.compassState.heading.toString()+"°";t!=this.headText.textContent&&(g.svg.rotateElement(this.head,258,75,n.compassState.heading+180),this.headText.textContent=t)}},t.prototype.flashSystemLed=function(){this.systemLed||(this.systemLed=g.svg.child(this.g,"circle",{class:"sim-systemled",cx:300,cy:20,r:5}));var t=Date.now();150<t-this.lastFlashTime&&(this.lastFlashTime=t,g.svg.animate(this.systemLed,"sim-flash"))},t.prototype.flashAntenna=function(){if(!this.antenna){var t=380;this.antenna=g.svg.child(this.g,"polyline",{class:"sim-antenna",points:t+",40 "+t+",10 "+(t+=18)+",10 "+t+",40 "+(t+=18)+",40 "+t+",10 "+(t+=18)+",10 "+t+",40 "+(t+=18)+",40 "+t+",10 "+(t+=18)+",10"})}var e=Date.now();200<e-this.lastAntennaFlash&&(this.lastAntennaFlash=e,g.svg.animate(this.antenna,"sim-flash-stroke"))},t.prototype.updatePins=function(){var i=this,t=this.board;t&&t.edgeConnectorState.pins.forEach(function(t,e){return i.updatePin(t,e)})},t.prototype.updateLightLevel=function(){var n=this,t=this.board;if(t&&t.lightSensorState.usesLightLevel){if(!this.lightLevelButton){var e="gradient-light-level";this.lightLevelGradient=g.svg.linearGradient(this.defs,e);this.lightLevelButton=g.svg.child(this.g,"circle",{cx:"50px",cy:"50px",r:"35px",class:"sim-light-level-button no-drag",fill:"url(#"+e+")"});var s=this.element.createSVGPoint();g.svg.buttonEvents(this.lightLevelButton,function(t){var e=g.svg.cursorPoint(s,n.element,t),i=Math.max(0,Math.min(255,Math.floor((e.y-32.5)/35*255)));i!=n.board.lightSensorState.lightLevel&&(n.board.lightSensorState.lightLevel=i,n.applyLightLevel())},function(t){},function(t){},function(t){var e="number"==typeof t.which?t.which:t.keyCode;40===e||37===e?(n.board.lightSensorState.lightLevel--,n.board.lightSensorState.lightLevel<0&&(n.board.lightSensorState.lightLevel=255),n.applyLightLevel()):38!==e&&39!==e||(n.board.lightSensorState.lightLevel++,255<n.board.lightSensorState.lightLevel&&(n.board.lightSensorState.lightLevel=0),n.applyLightLevel())}),this.lightLevelText=g.svg.child(this.g,"text",{x:85,y:80,text:"",class:"sim-text"}),this.updateTheme(),g.accessibility.makeFocusable(this.lightLevelButton),g.accessibility.setAria(this.lightLevelButton,"slider","Light level"),this.lightLevelButton.setAttribute("aria-valuemin","0"),this.lightLevelButton.setAttribute("aria-valuemax","255"),this.lightLevelButton.setAttribute("aria-orientation","vertical"),this.lightLevelButton.setAttribute("aria-valuenow","128")}g.svg.setGradientValue(this.lightLevelGradient,Math.min(100,Math.max(0,Math.floor(100*t.lightSensorState.lightLevel/255)))+"%"),this.lightLevelText.textContent=t.lightSensorState.lightLevel.toString()}},t.prototype.applyLightLevel=function(){var t=this.board.lightSensorState.lightLevel;g.svg.setGradientValue(this.lightLevelGradient,Math.min(100,Math.max(0,Math.floor(100*t/255)))+"%"),this.lightLevelText.textContent=t.toString(),this.lightLevelButton.setAttribute("aria-valuenow",t.toString()),g.accessibility.setLiveContent(t.toString())},t.prototype.updateTilt=function(){if(!this.props.disableTilt){var t=this.board;if(t&&t.accelerometerState.accelerometer.isActive){var e=t.accelerometerState.accelerometer.getX(),i=-t.accelerometerState.accelerometer.getY(),n=1-Math.min(.1,Math.pow(Math.max(Math.abs(e),Math.abs(i))/1023,2)/35);this.element.style.transform="perspective(30em) rotateX("+i*(8/1023)+"deg) rotateY("+e*(8/1023)+"deg) scale("+n+", "+n+")",this.element.style.perspectiveOrigin="50% 50% 50%",this.element.style.perspective="30em"}}},t.prototype.buildDom=function(){var r=this;this.element=g.svg.elt("svg"),g.svg.hydrate(this.element,{version:"1.0",viewBox:"0 0 500 408",class:"sim",x:"0px",y:"0px",width:"500px",height:"408px"}),this.style=g.svg.child(this.element,"style",{}),this.style.textContent='\n        svg.sim {\n            box-sizing: border-box;\n            width: 100%;\n            height: 100%;\n            display: block;\n        }\n        svg.sim.grayscale {\n            -moz-filter: grayscale(1);\n            -webkit-filter: grayscale(1);\n            filter: grayscale(1);\n        }\n        .sim-button-group {\n            cursor: pointer;\n        }\n        .sim-button {\n            pointer-events: none;\n        }\n\n        .sim-button-outer:hover {\n            stroke:grey;\n            stroke-width: 3px;\n        }\n        .sim-button-nut {\n            fill:#704A4A;\n            pointer-events:none;\n        }\n        .sim-button-nut:hover {\n            stroke:1px solid #704A4A;\n        }\n        .sim-pin:hover {\n            stroke:#D4AF37;\n            stroke-width:2px;\n        }\n\n        .sim-pin-touch.touched:hover {\n            stroke:darkorange;\n        }\n\n        .sim-led-back:hover {\n            stroke:#a0a0a0;\n            stroke-width:3px;\n        }\n        .sim-led:hover {\n            stroke:#ff7f7f;\n            stroke-width:3px;\n        }\n\n        .sim-systemled {\n            fill:#333;\n            stroke:#555;\n            stroke-width: 1px;\n        }\n\n        .sim-light-level-button {\n            stroke:#fff;\n            stroke-width: 3px;\n        }\n\n        .sim-antenna {\n            stroke:#555;\n            stroke-width: 2px;\n        }\n\n        .sim-text {\n        font-family:"Lucida Console", Monaco, monospace;\n        font-size:25px;\n        fill:#fff;\n        pointer-events: none;\n        }\n\n        .sim-text-pin {\n        font-family:"Lucida Console", Monaco, monospace;\n        font-size:20px;\n        fill:#fff;\n        pointer-events: none;\n        }\n\n        .sim-thermometer {\n            stroke:#aaa;\n            stroke-width: 3px;\n        }\n\n        /* animations */\n        .sim-theme-glow {\n            animation-name: sim-theme-glow-animation;\n            animation-timing-function: ease-in-out;\n            animation-direction: alternate;\n            animation-iteration-count: infinite;\n            animation-duration: 1.25s;\n        }\n        @keyframes sim-theme-glow-animation {\n            from { opacity: 1; }\n            to   { opacity: 0.75; }\n        }\n\n        .sim-flash {\n            animation-name: sim-flash-animation;\n            animation-duration: 0.1s;\n        }\n\n        @keyframes sim-flash-animation {\n            from { fill: yellow; }\n            to   { fill: default; }\n        }\n\n        .sim-flash-stroke {\n            animation-name: sim-flash-stroke-animation;\n            animation-duration: 0.4s;\n            animation-timing-function: ease-in;\n        }\n\n        @keyframes sim-flash-stroke-animation {\n            from { stroke: yellow; }\n            to   { stroke: default; }\n        }\n\n        /* wireframe */\n        .sim-wireframe * {\n            fill: none;\n            stroke: black;\n        }\n        .sim-wireframe .sim-display,\n        .sim-wireframe .sim-led,\n        .sim-wireframe .sim-led-back,\n        .sim-wireframe .sim-head,\n        .sim-wireframe .sim-theme,\n        .sim-wireframe .sim-button-group,\n        .sim-wireframe .sim-button-label,\n        .sim-wireframe .sim-button,\n        .sim-wireframe .sim-text-pin\n        {\n            visibility: hidden;\n        }\n        .sim-wireframe .sim-label\n        {\n            stroke: none;\n            fill: #777;\n        }\n        .sim-wireframe .sim-board {\n            stroke-width: 2px;\n        }\n        *:focus {\n            outline: none;\n        }\n        *:focus .sim-button-outer,\n        .sim-pin:focus,\n        .sim-thermometer:focus,\n        .sim-shake:focus,\n        .sim-light-level-button:focus {\n            stroke: #4D90FE;\n            stroke-width: 5px !important;\n        }\n        .no-drag, .sim-text, .sim-text-pin {\n            user-drag: none;\n            user-select: none;\n            -moz-user-select: none;\n            -webkit-user-drag: none;\n            -webkit-user-select: none;\n            -ms-user-select: none;\n        }\n    '+(this.props.theme.highContrast?"\n.sim-led {\n    stroke: red;\n}\n*:focus .sim-button-outer,\n.sim-pin:focus,\n.sim-thermometer:focus,\n.sim-shake:focus,\n.sim-light-level-button:focus {\n    stroke: #10C8CD !important;\n}\n    ":""),this.defs=g.svg.child(this.element,"defs",{}),this.g=g.svg.elt("g"),this.element.appendChild(this.g);var t=g.svg.child(this.defs,"filter",{id:"ledglow",x:"-75%",y:"-75%",width:"300%",height:"300%"});g.svg.child(t,"feMorphology",{operator:"dilate",radius:"4",in:"SourceAlpha",result:"thicken"}),g.svg.child(t,"feGaussianBlur",{stdDeviation:"5",in:"thicken",result:"blurred"}),g.svg.child(t,"feFlood",{"flood-color":"rgb(255, 17, 77)",result:"glowColor"}),g.svg.child(t,"feComposite",{in:"glowColor",in2:"blurred",operator:"in",result:"ledglow_colored"});var e=g.svg.child(t,"feMerge",{});g.svg.child(e,"feMergeNode",{in:"ledglow_colored"}),g.svg.child(e,"feMergeNode",{in:"SourceGraphic"});var i=g.svg.child(this.defs,"filter",{id:"filterglow",x:"-5%",y:"-5%",width:"120%",height:"120%"});g.svg.child(i,"feGaussianBlur",{stdDeviation:"5",result:"glow"});for(var n=g.svg.child(i,"feMerge",{}),s=0;s<3;++s)g.svg.child(n,"feMergeNode",{in:"glow"});g.svg.path(this.g,"sim-board","M498,31.9C498,14.3,483.7,0,466.1,0H31.9C14.3,0,0,14.3,0,31.9v342.2C0,391.7,14.3,406,31.9,406h434.2c17.6,0,31.9-14.3,31.9-31.9V31.9z M14.3,206.7c-2.7,0-4.8-2.2-4.8-4.8c0-2.7,2.2-4.8,4.8-4.8c2.7,0,4.8,2.2,4.8,4.8C19.2,204.6,17,206.7,14.3,206.7z M486.2,206.7c-2.7,0-4.8-2.2-4.8-4.8c0-2.72.2-4.8,4.8-4.8c2.7,0,4.8,2.2,4.8,4.8C491,204.6,488.8,206.7,486.2,206.7z"),this.display=g.svg.path(this.g,"sim-display","M333.8,310.3H165.9c-8.3,0-15-6.7-15-15V127.5c0-8.3,6.7-15,15-15h167.8c8.3,0,15,6.7,15,15v167.8C348.8,303.6,342.1,310.3,333.8,310.3z"),this.logos=[],this.logos.push(g.svg.child(this.g,"polygon",{class:"sim-theme",points:"115,56.7 173.1,0 115,0"})),this.logos.push(g.svg.path(this.g,"sim-theme","M114.2,0H25.9C12.1,2.1,0,13.3,0,27.7v83.9L114.2,0z")),this.logos.push(g.svg.child(this.g,"polygon",{class:"sim-theme",points:"173,27.9 202.5,0 173,0"})),this.logos.push(g.svg.child(this.g,"polygon",{class:"sim-theme",points:"54.1,242.4 54.1,274.1 22.4,274.1"})),this.logos.push(g.svg.child(this.g,"polygon",{class:"sim-theme",points:"446.2,164.6 446.2,132.8 477.9,132.8"})),this.leds=[],this.ledsOuter=[];for(s=0;s<5;++s)for(var a=44*s+113,o=0;o<5;++o){var u=46*o+154;this.ledsOuter.push(g.svg.child(this.g,"rect",{class:"sim-led-back",x:u,y:a,width:10,height:20,rx:2,ry:2}));var l=g.svg.child(this.g,"rect",{class:"sim-led",x:u-2,y:a-2,width:14,height:24,rx:3,ry:3,title:"("+o+","+s+")"});g.svg.filter(l,"url(#ledglow)"),this.leds.push(l)}this.head=g.svg.child(this.g,"g",{class:"sim-head no-drag"}),g.svg.child(this.head,"circle",{cx:258,cy:75,r:100,fill:"transparent"}),this.logos.push(g.svg.path(this.head,"sim-theme sim-theme-glow","M269.9,50.2L269.9,50.2l-39.5,0v0c-14.1,0.1-24.6,10.7-24.6,24.8c0,13.9,10.4,24.4,24.3,24.7v0h39.6c14.2,0,24.8-10.6,24.8-24.7C294.5,61,284,50.3,269.9,50.2 M269.7,89.2L269.7,89.2l-39.3,0c-7.7-0.1-14-6.4-14-14.2c0-7.8,6.4-14.2,14.2-14.2h39.1c7.8,0,14.2,6.4,14.2,14.2C283.9,82.9,277.5,89.2,269.7,89.2")),this.logos.push(g.svg.path(this.head,"sim-theme sim-theme-glow","M230.6,69.7c-2.9,0-5.3,2.4-5.3,5.3c0,2.9,2.4,5.3,5.3,5.3c2.9,0,5.3-2.4,5.3-5.3C235.9,72.1,233.5,69.7,230.6,69.7")),this.logos.push(g.svg.path(this.head,"sim-theme sim-theme-glow","M269.7,80.3c2.9,0,5.3-2.4,5.3-5.3c0-2.9-2.4-5.3-5.3-5.3c-2.9,0-5.3,2.4-5.3,5.3C264.4,77.9,266.8,80.3,269.7,80.3")),this.headText=g.svg.child(this.g,"text",{x:310,y:100,class:"sim-text"}),this.pins=["M16.5,341.2c0,0.4-0.1,0.9-0.1,1.3v60.7c4.1,1.7,8.6,2.7,12.9,2.7h34.4v-64.7h0.3c0,0,0-0.1,0-0.1c0-13-10.6-23.6-23.7-23.6C27.2,317.6,16.5,328.1,16.5,341.2z M21.2,341.6c0-10.7,8.7-19.3,19.3-19.3c10.7,0,19.3,8.7,19.3,19.3c0,10.7-8.6,19.3-19.3,19.3C29.9,360.9,21.2,352.2,21.2,341.6z","M139.1,317.3c-12.8,0-22.1,10.3-23.1,23.1V406h46.2v-65.6C162.2,327.7,151.9,317.3,139.1,317.3zM139.3,360.1c-10.7,0-19.3-8.6-19.3-19.3c0-10.7,8.6-19.3,19.3-19.3c10.7,0,19.3,8.7,19.3,19.3C158.6,351.5,150,360.1,139.3,360.1z","M249,317.3c-12.8,0-22.1,10.3-23.1,23.1V406h46.2v-65.6C272.1,327.7,261.8,317.3,249,317.3z M249.4,360.1c-10.7,0-19.3-8.6-19.3-19.3c0-10.7,8.6-19.3,19.3-19.3c10.7,0,19.3,8.7,19.3,19.3C268.7,351.5,260.1,360.1,249.4,360.1z"].map(function(t,e){return g.svg.path(r.g,"sim-pin sim-pin-touch",t)}),this.pins.push(g.svg.path(this.g,"sim-pin","M0,357.7v19.2c0,10.8,6.2,20.2,14.4,25.2v-44.4H0z")),c.forEach(function(t){r.pins.push(g.svg.child(r.g,"rect",{x:t,y:356.7,width:10,height:50,class:"sim-pin"}))}),this.pins.push(g.svg.path(this.g,"sim-pin","M483.6,402c8.2-5,14.4-14.4,14.4-25.1v-19.2h-14.4V402z")),this.pins.push(g.svg.path(this.g,"sim-pin","M359.9,317.3c-12.8,0-22.1,10.3-23.1,23.1V406H383v-65.6C383,327.7,372.7,317.3,359.9,317.3z M360,360.1c-10.7,0-19.3-8.6-19.3-19.3c0-10.7,8.6-19.3,19.3-19.3c10.7,0,19.3,8.7,19.3,19.3C379.3,351.5,370.7,360.1,360,360.1z")),this.pins.push(g.svg.path(this.g,"sim-pin","M458,317.6c-13,0-23.6,10.6-23.6,23.6c0,0,0,0.1,0,0.1h0V406H469c4.3,0,8.4-1,12.6-2.7v-60.7c0-0.4,0-0.9,0-1.3C481.6,328.1,471,317.6,458,317.6z M457.8,360.9c-10.7,0-19.3-8.6-19.3-19.3c0-10.7,8.6-19.3,19.3-19.3c10.7,0,19.3,8.7,19.3,19.3C477.1,352.2,468.4,360.9,457.8,360.9z")),this.pins.forEach(function(t,e){return g.svg.hydrate(t,{title:m[e]})}),this.pinGradients=this.pins.map(function(t,e){var i="gradient-pin-"+e,n=g.svg.linearGradient(r.defs,i);return t.setAttribute("fill","url(#"+i+")"),n}),this.pinTexts=[67,165,275].map(function(t){return g.svg.child(r.g,"text",{class:"sim-text-pin",x:t,y:345})}),this.buttonsOuter=[],this.buttons=[];var h=function(t,e,i){var n=56.2,s=g.svg.child(r.g,"g",{class:"sim-button-group"});g.accessibility.makeFocusable(s),g.accessibility.setAria(s,"button",i),r.buttonsOuter.push(s),g.svg.child(s,"rect",{class:"sim-button-outer",x:t,y:e,rx:4,ry:4,width:n,height:n}),g.svg.child(s,"circle",{class:"sim-button-nut",cx:t+10,cy:e+10,r:6}),g.svg.child(s,"circle",{class:"sim-button-nut",cx:t+10,cy:e+n-10,r:6}),g.svg.child(s,"circle",{class:"sim-button-nut",cx:t+n-10,cy:e+n-10,r:6}),g.svg.child(s,"circle",{class:"sim-button-nut",cx:t+n-10,cy:e+10,r:6})};h(25.9,176.4,"A"),this.buttons.push(g.svg.path(this.g,"sim-button","M69.7,203.5c0,8.7-7,15.7-15.7,15.7s-15.7-7-15.7-15.7c0-8.7,7-15.7,15.7-15.7S69.7,194.9,69.7,203.5")),h(418.1,176.4,"B"),this.buttons.push(g.svg.path(this.g,"sim-button","M461.9,203.5c0,8.7-7,15.7-15.7,15.7c-8.7,0-15.7-7-15.7-15.7c0-8.7,7-15.7,15.7-15.7C454.9,187.8,461.9,194.9,461.9,203.5")),h(417,250,"A+B"),this.buttons.push(g.svg.child(this.g,"circle",{class:"sim-button",cx:446,cy:278,r:16.5})),this.buttonsOuter[2].style.visibility="hidden",this.buttons[2].style.visibility="hidden",g.svg.path(this.g,"sim-label","M35.7,376.4c0-2.8,2.1-5.1,5.5-5.1c3.3,0,5.5,2.4,5.5,5.1v4.7c0,2.8-2.2,5.1-5.5,5.1c-3.3,0-5.5-2.4-5.5-5.1V376.4zM43.3,376.4c0-1.3-0.8-2.3-2.2-2.3c-1.3,0-2.1,1.1-2.1,2.3v4.7c0,1.2,0.8,2.3,2.1,2.3c1.3,0,2.2-1.1,2.2-2.3V376.4z"),g.svg.path(this.g,"sim-label","M136.2,374.1c2.8,0,3.4-0.8,3.4-2.5h2.9v14.3h-3.4v-9.5h-3V374.1z"),g.svg.path(this.g,"sim-label","M248.6,378.5c1.7-1,3-1.7,3-3.1c0-1.1-0.7-1.6-1.6-1.6c-1,0-1.8,0.6-1.8,2.1h-3.3c0-2.6,1.8-4.6,5.1-4.6c2.6,0,4.9,1.3,4.9,4.3c0,2.4-2.3,3.9-3.8,4.7c-2,1.3-2.5,1.8-2.5,2.9h6.1v2.7h-10C244.8,381.2,246.4,379.9,248.6,378.5z"),g.svg.path(this.g,"sim-button-label","M48.1,270.9l-0.6-1.7h-5.1l-0.6,1.7h-3.5l5.1-14.3h3.1l5.2,14.3H48.1z M45,260.7l-1.8,5.9h3.5L45,260.7z"),g.svg.path(this.g,"sim-button-label","M449.1,135.8h5.9c3.9,0,4.7,2.4,4.7,3.9c0,1.8-1.4,2.9-2.5,3.2c0.9,0,2.6,1.1,2.6,3.3c0,1.5-0.8,4-4.7,4h-6V135.8zM454.4,141.7c1.6,0,2-1,2-1.7c0-0.6-0.3-1.7-2-1.7h-2v3.4H454.4z M452.4,144.1v3.5h2.1c1.6,0,2-1,2-1.8c0-0.7-0.4-1.8-2-1.8H452.4z"),g.svg.path(this.g,"sim-label","M352.1,381.1c0,1.6,0.9,2.5,2.2,2.5c1.2,0,1.9-0.9,1.9-1.9c0-1.2-0.6-2-2.1-2h-1.3v-2.6h1.3c1.5,0,1.9-0.7,1.9-1.8c0-1.1-0.7-1.6-1.6-1.6c-1.4,0-1.8,0.8-1.8,2.1h-3.3c0-2.4,1.5-4.6,5.1-4.6c2.6,0,5,1.3,5,4c0,1.6-1,2.8-2.1,3.2c1.3,0.5,2.3,1.6,2.3,3.5c0,2.7-2.4,4.3-5.2,4.3c-3.5,0-5.5-2.1-5.5-5.1H352.1z"),g.svg.path(this.g,"sim-label","M368.5,385.9h-3.1l-5.1-14.3h3.5l3.1,10.1l3.1-10.1h3.6L368.5,385.9z"),g.svg.path(this.g,"sim-label","M444.4,378.3h7.4v2.5h-1.5c-0.6,3.3-3,5.5-7.1,5.5c-4.8,0-7.5-3.5-7.5-7.5c0-3.9,2.8-7.5,7.5-7.5c3.8,0,6.4,2.3,6.6,5h-3.5c-0.2-1.1-1.4-2.2-3.1-2.2c-2.7,0-4.1,2.3-4.1,4.7c0,2.5,1.4,4.7,4.4,4.7c2,0,3.2-1.2,3.4-2.7h-2.5V378.3z"),g.svg.path(this.g,"sim-label","M461.4,380.9v-9.3h3.3v14.3h-3.5l-5.2-9.2v9.2h-3.3v-14.3h3.5L461.4,380.9z"),g.svg.path(this.g,"sim-label","M472.7,371.6c4.8,0,7.5,3.5,7.5,7.2s-2.7,7.2-7.5,7.2h-5.3v-14.3H472.7z M470.8,374.4v8.6h1.8c2.7,0,4.2-2.1,4.2-4.3s-1.6-4.3-4.2-4.3H470.8z")},t.prototype.attachEvents=function(){var l=this;g.Runtime.messagePosted=function(t){switch(t.type||""){case"serial":l.flashSystemLed();break;case"radiopacket":l.flashAntenna()}};var h=0;this.element.addEventListener(g.pointerEvents.move,function(t){var e=l.board;if(e.accelerometerState.accelerometer.isActive){h&&(clearInterval(h),h=0);var i=l.element.getBoundingClientRect(),n=(t.clientX-i.width/2)/(i.width/3),s=(t.clientY-i.height/2)/(i.height/3),r=-Math.max(-1023,Math.min(1023,Math.floor(1023*n))),a=-Math.max(-1023,Math.min(1023,Math.floor(1023*s))),o=1046529-r*r-a*a,u=Math.floor((0<o?-1:1)*Math.sqrt(Math.abs(o)));e.accelerometerState.accelerometer.update(r,a,u),l.updateTilt()}},!1),this.element.addEventListener(g.pointerEvents.leave,function(t){var n=l.board;n.accelerometerState.accelerometer.isActive&&(h||(h=setInterval(function(){var t=n.accelerometerState.accelerometer.getX(g.MicroBitCoordinateSystem.RAW);t=Math.floor(.85*Math.abs(t))*(0<t?1:-1);var e=n.accelerometerState.accelerometer.getY(g.MicroBitCoordinateSystem.RAW);e=Math.floor(.85*Math.abs(e))*(0<e?1:-1);var i=-Math.sqrt(Math.max(0,1046529-t*t-e*e));Math.abs(t)<=24&&Math.abs(e)<=24&&(clearInterval(h),e=t=h=0,i=-1023),n.accelerometerState.accelerometer.update(t,e,i),l.updateTilt()},50)))},!1),this.pins.forEach(function(t,s){if(l.board.edgeConnectorState.pins[s]){var r=l.element.createSVGPoint();g.svg.buttonEvents(t,function(t){var e=l.board.edgeConnectorState.pins[s];l.pins[s];if(e.mode&g.PinFlags.Input){var i=(400-g.svg.cursorPoint(r,l.element,t).y)/40*1023;e.value=Math.max(0,Math.min(1023,Math.floor(i)))}l.updatePin(e,s)},function(t){var e=l.board.edgeConnectorState.pins[s],i=l.pins[s];if(g.svg.addClass(i,"touched"),e.mode&g.PinFlags.Input){var n=(400-g.svg.cursorPoint(r,l.element,t).y)/40*1023;e.value=Math.max(0,Math.min(1023,Math.floor(n)))}l.updatePin(e,s)},function(t){var e=l.board.edgeConnectorState.pins[s],i=l.pins[s];return g.svg.removeClass(i,"touched"),l.updatePin(e,s),!1},function(t){var e="number"==typeof t.which?t.which:t.keyCode,i=l.board.edgeConnectorState.pins[s];40===e||37===e?(i.value-=10,i.value<0&&(i.value=1023),l.updatePin(i,s)):38!==e&&39!==e||(i.value+=10,1023<i.value&&(i.value=0),l.updatePin(i,s))})}}),this.pins.slice(0,3).forEach(function(e,i){g.pointerEvents.down.forEach(function(t){return e.addEventListener(t,function(t){var e=l.board;e.edgeConnectorState.pins[i].touched=!0,l.updatePin(e.edgeConnectorState.pins[i],i)})}),e.addEventListener(g.pointerEvents.leave,function(t){var e=l.board;e.edgeConnectorState.pins[i].touched=!1,l.updatePin(e.edgeConnectorState.pins[i],i)}),e.addEventListener(g.pointerEvents.up,function(t){var e=l.board;e.edgeConnectorState.pins[i].touched=!1,l.updatePin(e.edgeConnectorState.pins[i],i),l.board.bus.queue(e.edgeConnectorState.pins[i].id,2),l.board.bus.queue(e.edgeConnectorState.pins[i].id,3)}),g.accessibility.enableKeyboardInteraction(e,void 0,function(){var t=l.board;l.board.bus.queue(t.edgeConnectorState.pins[i].id,2),l.board.bus.queue(t.edgeConnectorState.pins[i].id,3)})});var t=this.board.buttonPairState,n=[t.aBtn,t.bBtn,t.abBtn];this.buttonsOuter.slice(0,2).forEach(function(e,i){g.pointerEvents.down.forEach(function(t){return e.addEventListener(t,function(t){l.board;n[i].pressed=!0,g.svg.fill(l.buttons[i],l.props.theme.buttonDown)})}),e.addEventListener(g.pointerEvents.leave,function(t){l.board;n[i].pressed=!1,g.svg.fill(l.buttons[i],l.props.theme.buttonUp)}),e.addEventListener(g.pointerEvents.up,function(t){l.board;n[i].pressed=!1,g.svg.fill(l.buttons[i],l.props.theme.buttonUp),l.board.bus.queue(n[i].id,2),l.board.bus.queue(n[i].id,3)}),g.accessibility.enableKeyboardInteraction(e,void 0,function(){l.board.bus.queue(n[i].id,2),l.board.bus.queue(n[i].id,3)})}),g.pointerEvents.down.forEach(function(t){return l.buttonsOuter[2].addEventListener(t,function(t){l.board;n[0].pressed=!0,n[1].pressed=!0,n[2].pressed=!0,g.svg.fill(l.buttons[0],l.props.theme.buttonDown),g.svg.fill(l.buttons[1],l.props.theme.buttonDown),g.svg.fill(l.buttons[2],l.props.theme.buttonDown)})}),this.buttonsOuter[2].addEventListener(g.pointerEvents.leave,function(t){l.board;n[0].pressed=!1,n[1].pressed=!1,n[2].pressed=!1,g.svg.fill(l.buttons[0],l.props.theme.buttonUp),g.svg.fill(l.buttons[1],l.props.theme.buttonUp),g.svg.fill(l.buttons[2],l.props.theme.virtualButtonUp)}),this.buttonsOuter[2].addEventListener(g.pointerEvents.up,function(t){l.board;n[0].pressed=!1,n[1].pressed=!1,n[2].pressed=!1,g.svg.fill(l.buttons[0],l.props.theme.buttonUp),g.svg.fill(l.buttons[1],l.props.theme.buttonUp),g.svg.fill(l.buttons[2],l.props.theme.virtualButtonUp),l.board.bus.queue(n[2].id,2),l.board.bus.queue(n[2].id,3)}),g.accessibility.enableKeyboardInteraction(this.buttonsOuter[2],void 0,function(){l.board.bus.queue(n[2].id,2),l.board.bus.queue(n[2].id,3)})},t}();i.MicrobitBoardSvg=f}(g.visuals||(g.visuals={}))}(pxsim||(pxsim={})),function(g){!function(a){var p=3*a.PIN_DIST,r=a.PIN_DIST,i=1.2*a.PIN_DIST,n=12*a.PIN_DIST,s=i,o=n,m=4*a.PIN_DIST,u=1.4*a.PIN_DIST,l=a.PIN_DIST;function h(t){void 0===t&&(t=[0,0]);var e=t[0]+-13.5,i=t[1]+-11,n=g.svg.elt("image");return g.svg.hydrate(n,{class:"sim-neopixel-strip",x:e,y:i,width:87.5,height:190,href:g.svg.toDataUri('<svg viewBox="-5 -1 53 112" xmlns="http://www.w3.org/2000/svg" xmlns:bx="https://boxy-svg.com">\n  <rect x="2.5" width="38" height="100" style="fill: rgb(68, 68, 68);"/>\n  <rect x="11.748" y="3.2" width="1.391" height="2.553" style="fill: none; stroke-linejoin: round; stroke-width: 3; stroke: rgb(165, 103, 52);"/>\n  <rect x="20.75" y="3.2" width="1.391" height="2.553" style="fill: none; stroke-linejoin: round; stroke-width: 3; stroke: rgb(165, 103, 52);"/>\n  <rect x="29.75" y="3.2" width="1.391" height="2.553" style="fill: none; stroke-linejoin: round; stroke-width: 3; stroke: rgb(165, 103, 52);"/>\n  <g>\n    <rect x="9" y="16.562" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="9" y="22.562" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="9" y="28.563" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="11.607" y="14.833" width="19.787" height="18.697" style="fill: rgb(0, 0, 0);"/>\n    <ellipse style="fill: rgb(216, 216, 216);" cx="21.5" cy="24.181" rx="7" ry="7"/>\n  </g>\n  <path d="M -7.25 -103.2 L -2.5 -100.003 L -12 -100.003 L -7.25 -103.2 Z" style="fill: rgb(68, 68, 68);" transform="matrix(-1, 0, 0, -1, 0, 0)" bx:shape="triangle -12 -103.2 9.5 3.197 0.5 0 1@ad6f5cac"/>\n  <path d="M -16.75 -103.197 L -12 -100 L -21.5 -100 L -16.75 -103.197 Z" style="fill: rgb(68, 68, 68);" transform="matrix(-1, 0, 0, -1, 0, 0)" bx:shape="triangle -21.5 -103.197 9.5 3.197 0.5 0 1@07d73149"/>\n  <path d="M -26.25 -103.2 L -21.5 -100.003 L -31 -100.003 L -26.25 -103.2 Z" style="fill: rgb(68, 68, 68);" transform="matrix(-1, 0, 0, -1, 0, 0)" bx:shape="triangle -31 -103.2 9.5 3.197 0.5 0 1@54403e2d"/>\n  <path d="M -35.75 -103.197 L -31 -100 L -40.5 -100 L -35.75 -103.197 Z" style="fill: rgb(68, 68, 68);" transform="matrix(-1, 0, 0, -1, 0, 0)" bx:shape="triangle -40.5 -103.197 9.5 3.197 0.5 0 1@21c9b772"/>\n  <g transform="matrix(1, 0, 0, 1, 0.000002, 29.999994)">\n    <rect x="9" y="16.562" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="9" y="22.562" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="9" y="28.563" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="11.607" y="14.833" width="19.787" height="18.697" style="fill: rgb(0, 0, 0);"/>\n    <ellipse style="fill: rgb(216, 216, 216);" cx="21.5" cy="24.181" rx="7" ry="7"/>\n  </g>\n  <g transform="matrix(1, 0, 0, 1, 0.000005, 59.999992)">\n    <rect x="9" y="16.562" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="9" y="22.562" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="9" y="28.563" width="25" height="3.238" style="fill: rgb(216, 216, 216);"/>\n    <rect x="11.607" y="14.833" width="19.787" height="18.697" style="fill: rgb(0, 0, 0);"/>\n    <ellipse style="fill: rgb(216, 216, 216);" cx="21.5" cy="24.181" rx="7" ry="7"/>\n  </g>\n</svg>')}),{el:n,x:e,y:i,w:87.5,h:190}}a.mkNeoPixelPart=h;var f=function(){function t(t){void 0===t&&(t=[0,0]);var e=g.svg.elt("rect"),i=r,n=(t[0],t[1]),s=n-i;g.svg.hydrate(e,{x:"-50%",y:s,width:"100%",height:2*i,class:"sim-neopixel"}),this.el=e,this.cy=n}return t.prototype.setRgb=function(t){var e=a.rgbToHsl(t),i=e[0],n=e[1],s=e[2],r="hsl("+i+", "+n+"%, "+(s=Math.max(s,60))+"%)";this.el.setAttribute("fill",r)},t}();a.NeoPixel=f;var c=function(){function t(t){this.pixels=[],this.pin=t;var e=g.svg.elt("svg");g.svg.hydrate(e,{class:"sim-neopixel-canvas",x:"0px",y:"0px",width:i+"px",height:n+"px"}),this.canvas=e,this.background=g.svg.child(e,"rect",{class:"sim-neopixel-background hidden"}),this.updateViewBox(-s/2,0,s,o)}return t.prototype.updateViewBox=function(t,e,i,n){this.viewBox=[t,e,i,n],g.svg.hydrate(this.canvas,{viewBox:t+" "+e+" "+i+" "+n}),g.svg.hydrate(this.background,{x:t,y:e,width:i,height:n})},t.prototype.update=function(t){if(t&&!(t.length<=0)){for(var e=0;e<t.length;e++){var i=this.pixels[e];if(!i){var n=[0,m+e*p];i=this.pixels[e]=new f(n),g.svg.hydrate(i.el,{title:"offset: "+e}),this.canvas.appendChild(i.el)}var s=t[e];i.setRgb(s)}g.svg.removeClass(this.background,"hidden");var r=[this.pixels[0],this.pixels[this.pixels.length-1]],a=r[0],o=r[1].cy-a.cy+2*m,u=this.viewBox,l=(u[0],u[1]),h=u[2],c=u[3];if(c<o){var d=h*(o/c);this.updateViewBox(-d/2,l,d,o)}}},t.prototype.setLoc=function(t){var e=t[0],i=t[1];g.svg.hydrate(this.canvas,{x:e,y:i})},t}();a.NeoPixelCanvas=c;var t=function(){function t(){this.style="\n            .sim-neopixel-canvas {\n            }\n            .sim-neopixel-canvas-parent:hover {\n                transform-origin: center;\n                transform: scale(4) translateY(-60px);\n                -moz-transform: scale(4) translateY(-220px);\n            }\n            .sim-neopixel-canvas .hidden {\n                visibility:hidden;\n            }\n            .sim-neopixel-background {\n                fill: rgba(255,255,255,0.9);\n            }\n            .sim-neopixel-strip {\n            }\n        "}return t.prototype.init=function(t,e,i,n){g.U.assert(!!n.mode,"NeoPixels assumes a RGB vs RGBW mode is passed to it"),g.U.assert(!!n.pin,"NeoPixels assumes a pin is passed to it");var s,r=n.mode;this.mode=(s=r,{"NeoPixelMode.RGB":g.NeoPixelMode.RGB,"NeoPixelMode.RGBW":g.NeoPixelMode.RGBW}[s]||g.NeoPixelMode.RGB),this.state=e,this.stripGroup=g.svg.elt("g"),this.element=this.stripGroup;var a=n.pin;this.pin=function(t){if("*"==t)return 7;var e=t.split("DigitalPin.P");g.U.assert(2===e.length,"Unknown format for pin (for NeoPixel): "+t);var i=e[1];return Number(i)+7}(a),this.lastLocation=[0,0];var o=h();this.part=o,this.stripGroup.appendChild(o.el);var u=new c(this.pin);this.canvas=u;var l=g.svg.elt("g",{class:"sim-neopixel-canvas-parent"});(this.overElement=l).appendChild(u.canvas),this.updateStripLoc()},t.prototype.moveToCoord=function(t){var e=[t[0],t[1]];this.lastLocation=e,this.updateStripLoc()},t.prototype.updateStripLoc=function(){var t=this.lastLocation,e=t[0],i=t[1];g.U.assert("number"==typeof e&&"number"==typeof i,"invalid x,y for NeoPixel strip"),this.canvas.setLoc([e+u,i+l]),g.svg.hydrate(this.part.el,{transform:"translate("+e+" "+i+")"})},t.prototype.updateState=function(){var t=this.state.getColors(this.pin,this.mode);this.canvas.update(t)},t.prototype.updateTheme=function(){},t}();a.NeoPixelView=t}(g.visuals||(g.visuals={}))}(pxsim||(pxsim={}));