if("undefined"!=typeof global&&void 0===document){global.TDev||(global.TDev={window:{document:{URL:"http://localhost/"},isNodeJS:!0}});var TDev=global.TDev,window=global.TDev.window,document=global.TDev.window.document}var TDev;!function(m){var e;m.dbg=!1,m.isBeta=!1,(e=m.BrowserSoftware||(m.BrowserSoftware={}))[e.unknown=0]="unknown",e[e.ie10=1]="ie10",e[e.ie11=2]="ie11",e[e.ieOld=3]="ieOld",e[e.android2=4]="android2",e[e.android4=5]="android4",e[e.chrome=6]="chrome",e[e.chromeiOS=7]="chromeiOS",e[e.firefox=8]="firefox",e[e.safari=9]="safari",e[e.silkOld=10]="silkOld",e[e.silk=11]="silk",e[e.opera=12]="opera",e[e.nodeJS=13]="nodeJS",e[e.maxthon=14]="maxthon",e[e.bb10=15]="bb10";var n=m.BrowserSoftware;!function(s){function c(e){var t=n[e];return t&&0!=e?t:"unknownBrowser"}function l(e){var t=window.navigator.userAgent,n=t.indexOf(e+"/");if(0<=n){var i=t.slice(n+e.length+1);s.browserVersion=parseInt(i)}var r=t.match(/Version\/(\d+)\./);r&&(s.browserVersion2=parseInt(r[1]))}function o(){var e=document?document.URL:"";(/dbg=[1t]/.test(e)||window&&window.localStorage&&window.localStorage.dbg)&&(m.dbg=!0),/nodbg/.test(e)&&(m.dbg=!1),(window.betaFriendlyId||m.dbg||/localhost/.test(e)||/consolelog/.test(e))&&(m.isBeta=!0),/nobeta/.test(e)&&(m.isBeta=!1),s.useConsoleLog=m.isBeta&&!!console&&!!console.log,s.startTimestamp=(new Date).getTime(),(window.touchDevelopExec||window.mcefQuery||window.cordova)&&(s.isHosted=!0,s.screenshots=!0),window.isNodeJS&&(s.isNodeJS=!0,s.isHeadless=!0),(window.localProxy||s.isNodeJS)&&(s.localProxy=!0),window.cordova&&(s.inCordova=!0);var t=s.isNodeJS?"NodeJS":window.navigator.userAgent,n=function(e){s.platformCaps.push(e)};s.isNodeJS||(s.webRunner=!!window.webRunner,s.webAppImplicit=!!window.webAppImplicit,s.deviceMotion=!!window.DeviceMotionEvent,s.deviceOrientation=!!window.DeviceOrientationEvent,s.deviceHeading=s.deviceOrientation);var i=(window.runtimeFlags||"").split(/,/);(0<=i.indexOf("notifyBack")&&(s.notifyBackToHost=!0),0<=i.indexOf("logToHost")&&(s.logToHost=!0),0<=i.indexOf("noNetwork")&&(s.noNetwork=!0),/Silk|Kindle/.test(t)?(/ Android [123]\./.test(t)?s.browser=10:s.browser=11,s.isTablet=!0):/ Trident\/[7-9]/.test(t)?(s.browser=2,s.isMobile=/ IEMobile\//.test(t),s.isMobile?s.isCellphone=!0:window.navigator.msMaxTouchPoints?s.isTablet=!0:s.isDesktop=!0,s.hasHardwareBack=s.isCellphone,s.isTrident=!0):/Maxthon\//.test(t)?s.browser=14:/ Android /.test(t)?(/ Chrome\//.test(t)?(s.browser=6,l("Chrome")):/ Android [123]\./.test(t)?s.browser=4:s.browser=5,/ Mobile /.test(t)?s.isCellphone=!0:s.isTablet=!0,s.isAndroid=!0,s.hasHardwareBack=!0):/ Chrome\//.test(t)?(s.browser=6,l("Chrome"),s.isDesktop=!0):/ MSIE 1[0-9]/.test(t)?(s.browser=1,s.isMobile=/ IEMobile\//.test(t),s.isMobile?s.isCellphone=!0:window.navigator.msMaxTouchPoints?s.isTablet=!0:s.isDesktop=!0,s.hasHardwareBack=s.isCellphone,s.isTrident=!0):/ MSIE [2-9]/.test(t)?(s.browser=3,s.isDesktop=!0,s.isTrident=!0):/BB10/.test(t)?(s.browser=15,s.isMobile=!0,s.isCellphone=!0):/\(iPad/.test(t)?(s.browser=9,l("Version"),s.isTablet=!0,n("iPad")):/\(iPhone/.test(t)?(s.browser=9,l("Version"),s.isCellphone=!0,n("iPhone")):/\(iPod/.test(t)?(s.browser=9,l("Version"),s.isCellphone=!0,n("iPod")):/Safari/.test(t)?(s.browser=9,l("Version"),s.isDesktop=!0):/ Firefox\//.test(t)?(s.browser=8,l("Firefox"),/Mobile/.test(t)?s.isCellphone=!0:/Tablet/.test(t)?s.isTablet=!0:s.isDesktop=!0,s.isAndroid=/Android/.test(t),s.isGecko=!0):/Opera\//.test(t)?s.browser=12:/NodeJS/.test(t)&&(s.browser=13,s.useConsoleLog=!0),s.inCordova&&n("cordova"),s.isTrident&&(s.videoTracks=!1,s.directionAuto=!1),/lowMemory/.test(e)&&(s.lowMemory=!0),/noAnim/.test(e)&&(s.noAnimations=!0),s.isTouchDevice=s.isCellphone||s.isTablet,void 0===s.isMobile&&(s.isMobile=s.isTouchDevice),s.isWebkit=/WebKit/.test(t),s.isWebkit)&&((r=t.match(/WebKit\/(\d+)\./))&&(s.webkitVersion=parseInt(r[1])));if(s.isMacOSX=/Macintosh/.test(t),/Windows NT/.test(t)&&(s.isWindows=!0),/Windows NT (6.[2-9]|[789])/.test(t)&&(s.isWindows8plus=!0),s.mobileWebkit=s.isWebkit&&s.isMobile,s.isMobile||(s.assumeMouse=!0),s.builtinTouchToPan=!0,s.isMobileSafari=9==s.browser&&s.isMobile,s.isMobileSafari){var r=t.match(/Safari\/([^.]*)/);s.isMobileSafariOld=(!s.browserVersion||s.browserVersion<8)&&r&&1<r.length&&parseInt(r[1])<7534}!s.isMobileSafari||/Safari/.test(t)||window.navigator.standalone||(s.isEmbedded=!0),1!=s.browser&&2!=s.browser||window.applicationCache||(s.isEmbedded=!0);var o=window;if((o.indexedDB||o.mozIndexedDB||o.msIndexedDB)&&(s.canIndexedDB=!0),(o.openDatabase||s.inCordova)&&(s.canWebSql=!0),s.isMobile&&9==s.browser&&/CriOS/.test(t)&&(s.browser=7,l("CriOS")),s.isWebkit&&(s.isMobileSafari||(s.brokenColumns=!0),s.isAndroid&&(s.brokenGradient=!0)),s.isDesktop&&(s.deviceMotion=!1,s.deviceOrientation=!1),s.isMobileSafari&&537<=s.webkitVersion&&(s.brokenBackButton=!0,s.brokenResize=!0),/Linux armv7/.test(t)&&(s.isRaspberryPiDebian=!0,s.noAnimations=!0,s.noStorage=!0,s.lowMemory=!0),s.browserShortName=c(s.browser),s.isCellphone?s.browserShortName+=".phone":s.isTablet?s.browserShortName+=".tablet":s.browserShortName+=".desktop",s.inCordova&&(s.browserShortName+=".cordova"),n(s.browserShortName),n(c(s.browser)),s.isCellphone&&n("cellphone"),s.isTablet&&n("tablet"),s.isTouchDevice&&n("touch"),s.isMobile&&n("mobile"),s.isMacOSX&&n("macOSX"),s.assumeMouse&&n("assumeMouse"),s.isWindows8plus&&(n("win"),n("win8plus")),s.isAndroid&&n("android"),/X11/.test(t)&&n("x11"),/Windows NT 5.1/.test(t)&&(n("win"),n("winXP")),/Windows NT 6.0/.test(t)&&(n("win"),n("winVista")),/Windows NT 6.1/.test(t)&&(n("win"),n("win7")),(s.isMobileSafari||s.isMobile&&(1==s.browser||2==s.browser))&&(s.audioDataUrls=!1),s.mobileWebkit&&(s.touchStart=!0),s.canWriteLocalStorage=!1,"object"==typeof window&&"object"==typeof window.localStorage&&window.localStorage.removeItem)try{var a=s.startTimestamp+"";window.localStorage.test=a,window.localStorage.test==a&&(s.canWriteLocalStorage=!0,window.localStorage.removeItem("test"))}catch(e){}s.dragAndDrop=!s.isNodeJS&&!s.isMobile&&document&&document.createElement&&"draggable"in document.createElement("span")}s.isNodeJS=!1,s.isHeadless=!1,s.isTouchDevice=!1,s.isMobile=void 0,s.isCellphone=!1,s.isTablet=!1,s.isDesktop=!1,s.isMobileSafari=!1,s.isMobileSafariOld=!1,s.isGecko=!1,s.isTrident=!1,s.isWebkit=!1,s.isAndroid=!1,s.isMacOSX=!1,s.isWindows=!1,s.isWindows8plus=!1,s.isRaspberryPiDebian=!1,s.isCompiledApp=!1,s.isHosted=!1,s.browser=0,s.browserVersion=0,s.browserVersion2=0,s.webkitVersion=0,s.isEmbedded=!1,s.canIndexedDB=!1,s.canWebSql=!1,s.canMemoryTable=!0,s.hasHardwareBack=!1,s.localProxy=!1,s.noAnimations=!1,s.noStorage=!1,s.isGenStubs=!1,s.mobileWebkit=!1,s.touchStart=!1,s.webRunner=!1,s.webAppImplicit=!1,s.inCordova=!1,s.inEditor=!1,s.builtinTouchToPan=!1,s.canLogin=!0,s.canWriteLocalStorage,s.cscript=!1,s.useConsoleLog=!1,s.brokenColumns=!1,s.assumeMouse=!1,s.brokenGradient=!1,s.deviceMotion=!1,s.deviceOrientation=!1,s.deviceHeading=!1,s.audioDataUrls=!0,s.audioWav=!1,s.compilerInlining=!1,s.compilerOkElimination=!0,s.compilerBlockChaining=!1,s.brokenBackButton=!1,s.brokenResize=!1,s.screenshots=!1,s.setInnerHTML=function(e,t){e.innerHTML=t},s.dragAndDrop=!1,s.videoTracks=!0,s.directionAuto=!0,s.notifyBackToHost=!1,s.logToHost=!1,s.noNetwork=!1,s.lowMemory=!1,s.serialLog=!1,s.loadingDone=!1,s.platformCaps=[],s.browserShortName="unknown",s.startTimestamp=0,s.detect=o;var u=function(){return window.rootUrl};function a(){window.browsersUrl&&(window.location.href=window.browsersUrl)}function d(e,t){void 0===t&&(t=void 0);var n=document.getElementById("browserMessage");if(n){var i=window.browserSupported;n.innerHTML=(i?"":t?"<p>There is only a slight problem:</p>":"<p>There is a problem:</p>")+e,i&&(n.style.color="green"),t&&((n=document.getElementById("browserAlmost"))&&(n.innerHTML="<p>You are almost there!</p>"),(n=document.getElementById("browserFix"))&&(n.innerHTML=t))}(n=document.getElementById("userAgent"))&&(n.innerText="User Agent: "+window.navigator.userAgent)}function p(e){try{if(window.tdlite)return;var t=u();if(!t)return;if(window.localStorage){if(window.localStorage.browserReported)return;try{window.localStorage.browserReported="1"}catch(e){}}var n=new Date,i=window.navigator.userAgent,r=n.getFullYear()+"."+(n.getMonth()+1)+"."+n.getDate(),o={};o["browser."+e]=1;var a={dateStr:r,sessionEvents:o,platform:[],jsUrl:window.mainJsName};if((s=new XMLHttpRequest).open("POST",t+"/api/ticks"),s.send(JSON.stringify(a)),"unknown"==e){var s,c="Unsupported-"+e,l={exceptionConstructor:c,exceptionMessage:c,context:"detection",currentUrl:"",scriptId:"",stackTrace:"browserNotSupported",sourceURL:"",line:-1,eventTrace:"",userAgent:i,resolution:"",jsUrl:window.mainJsName,timestamp:n.getTime(),platform:[]};(s=new XMLHttpRequest).open("POST",t+"/api/bug"),s.send(JSON.stringify(l))}}catch(e){}}function h(e){var t=window.statusMsg;t&&t(e)}s.supportMemoryTable=function(e){e?(s.canWriteLocalStorage&&window.localStorage.removeItem("disableMemoryTable"),s.canMemoryTable=!0):(s.canWriteLocalStorage&&(window.localStorage.disableMemoryTable="1"),s.canMemoryTable=!1)},s.check=function(e,t,n){if(void 0===t&&(t=void 0),void 0===n&&(n=void 0),window.isNodeJS)o();else{h("browser detector started");var i=window.navigator.userAgent;if(/ IEMobile\/[3-9]/.test(i))h("IEMobile userAgent: "+i),e?(p("IEMobile"),a()):d("<p>The "+t+" Web App doesn't work on Windows Phone 7.</p>");else if(/ MSIE [6789]/.test(i))h("IEx userAgent: "+i),e?(/ MSIE 9/.test(i)?p("IE9"):p("IE8-"),a()):d("<p>"+t+" doesn't work with Internet Explorer 9 or earlier.<p/>",'<p>You can upgrade your browser to <a href="http://windows.microsoft.com/en-us/internet-explorer/downloads/ie-10/worldwide-languages">Internet Explorer 10</a> if you are running Windows 7, or upgrade your operating system to <a href="http://windows.microsoft.com/en-US/windows/buy">Windows 8</a> which comes with Internet Explorer 10, or try the latest version of Chrome or Firefox.</p>');else{h("browser detector processing"),o();var r=function(n,i){void 0===n&&(n="Touch Develop"),void 0===i&&(i="");var r=function(e,t){return void 0===t&&(t=void 0),{problemHTML:e,fixHTML:t}},e=function(e,t){return void 0===t&&(t=void 0),r(e,t?"<p>Follow these easy steps to run "+n+" on your device:</p><ol class='light'><li>open <b>"+t+"</b></li><li>navigate to <u>"+i+"</u></li></ol><p>You can copy&amp;paste the link into "+t+".</p>":void 0)};if(s.isEmbedded)return e("<p>It seems you're running "+n+" inside of another app.</p>","your regular internet browser");var t=function(e){return r(e,"<p>Follow these easy steps to run "+n+" on Android:</p><ol class='light'><li><b>install the latest <a href='market://details?id=com.android.chrome&hl=en'>Chrome Browser</a> or <a href='market://details?id=org.mozilla.firefox&hl=en'>Firefox Browser</a> or <a href='market://details?id=com.opera.browser&hl=en'>Opera Browser</a> </b> from the Google Play Store</li><li>open <u>"+i+"</u> in the Chrome Browser</li></ol><p>You can copy&amp;paste the link into the installed browser.</p>")},o=function(e){return r(e,"<p>Follow these easy steps to run "+n+" on your device:</p><ol class='light'><li>upgrade your browser to the latest version</li><li>navigate to <u>"+i+"</u></li></ol><p>You can copy&amp;paste the link into your upgraded browser.</p>")};switch(s.browser){case 3:return r(n+" does not work with Internet Explorer versions earlier than 10.");case 10:return r(n+" does not work with the Silk browser in Kindle Fire 1st Gen. Please upgrade to Kindle Fire 2nd Gen or Kindle Fire HD.");case 12:return e(n+" does not work with Opera. Please use Internet Explorer 10+, Chrome or Firefox.","one of the suggested browsers");case 9:if(s.isMobileSafariOld)return o("Please upgrade to the latest version of iOS / Safari.");if(s.isMacOSX&&s.browserVersion2<6)return e("Safari 5 and older are not supported. Please upgrade Safari or <a href='http://www.google.com/mac/'>install Chrome</a> or <a href='http://www.mozilla.org/en-US/firefox/new/'>Firefox</a>.","the upgraded browser");if(s.isTouchDevice)break;if(s.isMacOSX)break;return e(n+" is not supported in Safari on a PC. Please use Internet Explorer 10 or better, Chrome or Firefox.","one of the suggested browsers");case 4:return r(n+" might require a newer version of Android.","<p>Follow these easy steps to run "+n+" on Android:</p><ol class='light'><li><b>try to install the latest <a href='market://details?id=org.mozilla.firefox&hl=en'>Firefox Browser</a></b> from the Google Play Store</li><li>open <u>"+i+"</u> in the Chrome Browser</li></ol><p>You can copy&amp;paste the link into Firefox.</p>");case 5:return t(n+" is not supported in the stock Android browser.");case 8:if(s.browserVersion<16)return o("You are using an outdated version of Firefox.");if(s.isAndroid&&s.browserVersion<29)return o("Please upgrade to the latest version of Firefox for Android.");break;case 6:if(s.isMobileSafari&&s.browserVersion<38)return o("<p>You are using an outdated version of Chrome.</p>");if(s.isMobile&&s.browserVersion<19)return t("<p>You are using an outdated browser.</p>");if(!s.isMobile&&s.browserVersion<21)return o("<p>You are using an outdated version of Chrome.</p>");break;case 7:if(window.bbcMicrobit)return r(n+" is not supported in Chrome for iOS. Please use Safari instead.");break;case 1:case 15:break;case 14:case 0:return e(n+" is not supported in the current browser.","<a href='/app/.browsers#supported'>a supported browser</a>")}return s.canWriteLocalStorage?(s.canMemoryTable=!window.localStorage.disableMemoryTable,s.canWebSql||s.canIndexedDB||s.canMemoryTable?null:1==s.browser||2==s.browser?e("<p>You are running Internet Explorer in the InPrivate mode. "+n+" does not support this mode, as "+n+" needs to maintain a database of installed scripts, but the InPrivate mode does not allow the use of databases.</p>","a regular Internet Explorer window"):e("<p>Your browser does not seem to support databases.</p>","<a href='/app/.browsers#supported'>a supported browser </a>")):9==s.browser?r("<p>You are running Safari in Private Mode or Private Browsing. "+n+" does not support this mode.</p>","<p><b>Please disable Private Mode or Private Browsing, and then try again.</b></p><ul><li>In iOS 6, open 'Settings', select 'Safari', and turn 'Private Browsing' off.</li><li>In iOS 7, 8 and 8.1, open 'Safari', tap on the Bookmarks button, then tap on the 'Private' button in the lower left corner of the screen.</li></ul>"):e("<p>"+n+" does not seem to allow storing data.</p>","regular internet browser")}(t,n);!r||/ignoreAgent/.test(document.URL)||s.inCordova?(h("browser detector success: "+s.browserShortName),window.browserSupported=!0,e?p(s.browserShortName):d("<p>Your browser is supported.</p>")):(h("browser detector failed: "+s.browserShortName),e?(p(s.browserShortName),a()):d(r.problemHTML,r.fixHTML))}}}}(m.Browser||(m.Browser={}))}(TDev||(TDev={}));var __extends=this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev;!function(c){!function(e){var t=function(){function e(){this.on_render_heap=!1,this.versioncounter=1,this.jsonExportMark=!1}return e.normalize=function(e){return e<0?0:1<e?1:e},e.prototype.post_to_wall=function(e){e.rt.mayPostToWall(e.rt.getCurrentPage())||c.Util.userError("cannot post to the wall here");var t=c.WallBox.CreateOrRecycleLeafBox(e.rt,this);if(!t.getContent()){var n;try{n=this.getViewCore(e,t)}catch(n){c.Util.reportError("getViewCore crash: "+typeof this,n,!1),n=c.div("item item-crash",":( something went wrong")}t instanceof c.WallBox&&e.rt.addTapEvent(n,this.rtType(),t,this),t.setContent(n);try{this.updateViewCore(e,t)}catch(n){c.Util.reportError("updateViewCore crash: "+typeof this,n,!1)}}t instanceof c.WallBox&&1===t.getDepth()&&e.rt.renderBox(t)},e.prototype.viewIsRefreshable=function(){return!1},e.prototype.refreshViews=function(e){},e.prototype.debuggerDisplay=function(e){return c.div("wall-text",this.getShortStringRepresentation()).withClick(e)},e.prototype.getViewCore=function(e,t){return c.div("wall-text",this.getShortStringRepresentation())},e.prototype.updateViewCore=function(e,t){},e.prototype.getShortStringRepresentation=function(){try{return this.to_string?this.to_string():this.toString()}catch(e){return c.Util.reportError("getShortStringRepresentation",e,!1),"???"}},e.prototype.toString=function(){return"["+this.rtType()+"]"},e.prototype.isSerializable=function(){return!1},e.prototype.rtType=function(){return"RTValue"},e.mkPicker=function(e,t,n,i){var r=e;return e.set(t),r.userName=n,r.quotedName=i,r},e.prototype.exportJson=function(e){},e.prototype.importJson=function(e,t){},e.prototype.jsonExportKey=function(e){},e.prototype.toJsonKey=function(){throw new Error("cannot use "+this.rtType()+" as a key (it is not a value)")},e.prototype.keyCompareTo=function(e){throw new Error("cannot use "+this.rtType()+" as a key (it is not a value)")},e.prototype.isDefaultValue=function(){return!1},e.CompareKeys=function(e,t){return e?t?e.keyCompareTo(t):1:t?-1:0},e.copySpecificImpls=function(o){var a=c.RT,n=a[o];Object.keys(n).forEach(function(e){if(/Init$/.test(e)){var t=n[e];t instanceof Function&&t()}});var s=new RegExp("^"+o);function e(r){Object.keys(r).forEach(function(e){if(s.test(e)){var t=e.slice(o.length),n=r[e].prototype;if(!n)return;var i=a[t].prototype;Object.keys(n).forEach(function(e){"constructor"!=e&&"rtType"!=e&&(i[e]=n[e])})}})}e(a),e(n)},e.setupTypeTable=function(){var e=function(e,t){t.prototype.rtType=function(){return e}};for(var t in c.RT)if(c.RT.hasOwnProperty(t)){var n=c.RT[t];n.prototype&&n.prototype.rtType&&!n.prototype.noMagicRtType&&(n.prototype.hasOwnProperty("rtType")||e(t,n))}},e.initApis=function(){e.setupTypeTable(),c.Browser.isNodeJS?this.copySpecificImpls("Node"):c.Browser.inCordova&&this.copySpecificImpls("Cordova")},e}();e.RTValue=t;var n=function(){function e(e){this.handler=e}return e.prototype.dispose=function(){this.handler()},e}();e.DisposableHandler=n;var i=function(t){function e(e){t.call(this),this.rt=e,this.rt.disposables.push(this)}return __extends(e,t),e.prototype.dispose=function(){var e=this.rt.disposables.indexOf(this);0<e&&this.rt.disposables.splice(e,1)},e}(t);e.RTDisposableValue=i;var r=function(e){function t(){e.call(this)}return __extends(t,e),t}(t);e.DecoratorCollection=r}(c.RT||(c.RT={}))}(TDev||(TDev={})),function(s){var e=function(){function e(e,t){void 0===t&&(t=!1),this.stackframe=e,this.fullcloudstate=t,this.depth=0}return e.prototype.push=function(e){s.Util.assert(!e.jsonExportMark),e.jsonExportMark=!0,this.depth++},e.prototype.pop=function(e){s.Util.assert(e.jsonExportMark),e.jsonExportMark=!1,this.depth--},e.prototype.encodeObjectNode=function(e,t,n){s.Util.assert(t.length==n.length);var i={},r=e.jsonExportKey(this);r&&(i["⌹id"]=r),this.encodeValues(n);for(var o=0;o<n.length;o++){var a=n[o];void 0!==a&&(i[t[o]]=a)}return i},e.prototype.encodeArrayNode=function(e,t){return s.Util.assert(!e.jsonExportKey(this)),this.encodeValues(t),t},e.prototype.encodeValues=function(e){for(var t,n=0;n<e.length;n++){var i=e[n];if(i&&i instanceof s.RT.RTValue){var r=i.jsonExportKey(this);void 0!==r&&(i.jsonExportMark||this.fullcloudstate&&0<this.depth?e[n]=r:(i.jsonExportMark=!0,t||(t=new Array),t.push(i)))}}for(n=0;n<e.length;n++){var o=e[n];if(null!=o){var a=typeof o;"function"==a?e[n]=void 0:"boolean"!==a&&"string"!==a&&"number"!==a&&(e[n]=o.exportJson(this))}}t&&t.forEach(function(e){s.Util.assert(e.jsonExportMark),e.jsonExportMark=!1})},e}();s.JsonExportCtx=e;var t=function(){function e(e){this.s=e,this.mapping={}}return e.prototype.map=function(e,t){return t&&this.mapping[e+t]||t},e.prototype.addmapping=function(e,t,n){this.mapping[e+t]=n},e.prototype.importString=function(e,t){var n=e?e[t]:void 0;return"string"==typeof n?n:void 0},e.prototype.importNumber=function(e,t){var n=e?e[t]:void 0;return"string"==typeof n&&(n=Number(n)),"number"==typeof n?n:void 0},e.prototype.importBoolean=function(e,t){var n=e?e[t]:void 0;return"boolean"==typeof n?n:void 0},e.prototype.importDateTime=function(e,t){var n=e?e[t]:void 0;return s.RT.DateTime.mkFromJson(this,n)},e.prototype.importColor=function(e,t){var n=e?e[t]:void 0;return s.RT.Color.mkFromJson(this,n)},e.prototype.importJsonObject=function(e,t){var n=e?e[t]:void 0;return s.RT.JsonObject.mkFromJson(this,n)},e.prototype.importLocation=function(e,t){var n=e?e[t]:void 0;return s.RT.Location_.mkFromJson(this,n)},e.prototype.importVector3=function(e,t){var n=e?e[t]:void 0;return s.RT.Vector3.mkFromJson(this,n)},e.prototype.importUser=function(e,t){var n=e?e[t]:void 0;return s.RT.User.mkFromJson(this,n)},e.prototype.importStringMap=function(e,t,n){var i=e?e[n]:void 0;if(i)return t||(t=new s.RT.StringMap),t.importJson(this,i)},e.prototype.importNumberMap=function(e,t,n){var i=e?e[n]:void 0;if(i)return t||(t=new s.RT.NumberMap),t.importJson(this,i)},e.prototype.importCollection=function(e,t,n,i){var r=e?e[n]:void 0;if(r)return t||(t=s.RT.Collection.fromArray([],i)),t.importJson(this,r)},e.prototype.importJsonBuilder=function(e,t,n){var i=e?e[n]:void 0;if(i)return t||(t=new s.RT.JsonBuilder),t.importJson(this,i)},e.prototype.importLink=function(e,t,n){var i=e?e[n]:void 0;if(i)return t||(t=new s.RT.Link),t.importJson(this,i)},e.prototype.importOAuthResponse=function(e,t,n){var i=e?e[n]:void 0;if(i)return t||(t=new s.RT.OAuthResponse),t.importJson(this,i)},e.prototype.importRecord=function(e,t,n,i){var r=e?e[n]:void 0;if(r)return i.importJsonRecord(this,t,r,!1)},e}();s.JsonImportCtx=t}(TDev||(TDev={})),function(w){!function(u){function t(e){if(!e)return!1;if(/\.\/art\//i.test(e))return!0;for(var t=0;t<u.config.altCdnUrls.length;++t){var n=u.config.altCdnUrls[t]+"/pub/";if(e.substr(0,n.length)==n)return!0}return!1}function i(e){return t(e)?e.replace(/^.*?\/pub\//,""):null}function n(){return u.config.rootUrl}function r(){return!!o()}function o(){return window.localStorage.getItem("access_token")}function a(i,r){return i=JSON.parse(JSON.stringify(i)),Object.keys(r).forEach(function(e){var t=i[e]||{},n=r[e];(void 0===t.index||t.index<=n.index)&&(n.guid&&(t.guid=n.guid),t.index=n.index,n.completed&&(void 0===t.completed||t.completed>n.completed)&&(t.completed=n.completed),t.numSteps=n.numSteps,t.lastUsed=n.lastUsed),i[e]=t}),i}function s(){return c("total_progress")}function c(e){return void 0===e&&(e="progress"),JSON.parse(window.localStorage.getItem(e)||"{}")}function l(){return!e()}function e(){var e=!w.Browser.noNetwork&&(w.Browser.isNodeJS||window.navigator.onLine)&&d();return w.dbg&&e&&p()&&w.RT.Math_.random(10)<4&&(e=!1),e}function d(){return!window.localStorage.getItem("offline_mode")&&!u.transientOfflineMode}function p(){return!!window.localStorage.getItem("chaos_offline_mode")}function h(){return u.isOffline()?w.lf("You appear to be offline. ")+(d()?w.lf("Please connect to the internet and try again."):w.lf("Please go to the settings in the main hub to disable offline mode.")):w.lf("You are online.")}u.lite=!0,u.fullTD=!0,u.litePermissions={},u._migrate,u.useNativeCompilation=!1,u.config={searchApiKey:"E43690E2B2A39FEB68117546BF778DB8",searchUrl:"https://tdsearch.search.windows.net",cdnUrl:"https://az31353.vo.msecnd.net",primaryCdnUrl:"https://az31353.vo.msecnd.net",altCdnUrls:["https://az31353.vo.msecnd.net","https://touchdevelop.blob.core.windows.net","http://cdn.touchdevelop.com"],translateCdnUrl:"https://tdtutorialtranslator.blob.core.windows.net",translateApiUrl:"https://tdtutorialtranslator.azurewebsites.net/api",workspaceUrl:null,rootUrl:"https://www.touchdevelop.com",shareUrl:"http://tdev.ly",hashtag:"#TouchDevelop",liteVersion:null,helpPath:"/docs",specHelpPaths:{},topicPath:"/docs/",legalButtons:[{name:"terms of use",url:"/terms-of-use"},{name:"privacy and cookies",url:"/privacy"},{name:"support",url:"https://touchdevelop.uservoice.com"}],doNothingText:"do nothing",hintLevel:"full",userVoice:"touchdevelop",tutorialsid:"vjsseqks",showcaseid:"njigpnyj",primaryLocale:"en-US",cloudId:"touchdevelop.com",scriptRenderers:{blocks:function(e){var t=w.Ticker.mainJsName.replace(/main.js$/,"").match(/(https?:\/\/[^\/]+)(.*)/)[1];return/http:\/\/localhost/.test(t)&&(t+="/editor/local"),t+"/blockly/render.html?id="+encodeURIComponent(e)}},microbitGitTag:"v79"},u.isArtUrl=t,u.toCdnUrl=function(e,t){void 0===t&&(t=""),t||(t="pub");var n=i(e);return n?u.config.primaryCdnUrl+"/"+t+"/"+n:e},u.getArtId=function(e){var t=i(e);return/^\w+/.test(t)?t:null},u.artCssImg=function(e,t){return void 0===t&&(t=!1),w.HTML.cssImage(u.artUrl(e,t))},u.artUrl=function(e,t){return void 0===t&&(t=!1),e?w.HTML.proxyResource(w.Util.fmt("{0}/{1}/{2:uri}",u.config.primaryCdnUrl,t?"thumb":"pub",e)):void 0},u.setPermissions=function(e){void 0===e&&(e=null),null!==e&&(localStorage.litePermissions=e),u.litePermissions={},(localStorage.litePermissions||"").split(",").forEach(function(e){e&&(u.litePermissions[e]=!0)}),/http:\/\/localhost/i.test(document.URL)&&(u.litePermissions.internal=!0)},u.hasPermission=function(e){return u.litePermissions.hasOwnProperty(e)||u.litePermissions.hasOwnProperty("admin")},u.isRestricted=function(){return!u.fullTD},u.getServiceUrl=n,u.mkLegalDiv=function(){var e=function(e,t){return w.HTML.mkA(null,n()+t,"_blank",e)};return w.div("wall-dialog-body",w.div("smallText",w.lf("Publishing is subject to our "),e(w.lf("terms of use"),"/terms-of-use"),w.lf(". Please read our "),e(w.lf("privacy policy"),"/privacy"),"."))},u.authenticateAsync=function(a,s,c,l){if(void 0===s&&(s=!1),void 0===c&&(c=!1),void 0===l&&(l=!1),!l&&!u.isAccessTokenExpired())return w.Promise.as(!0);return u.isOnlineWithPingAsync().then(function(e){if(!e)return w.Promise.as(!1);var t=(window.location.hash||"#").replace(/#/,""),n=w.Login;n&&(n.show&&!c||(n=null),s||t&&!/^(hub|list:.*:user:me:)/.test(t)||(n=null));var i=new w.PromiseInv,r=new w.ModalDialog;l?r.addHTML(w.lf("<h3>we need you to sign in again</h3>")+"<p class='agree'>"+w.lf("Accessing private data requires verification of your sign in credentials.")+"</p>"):r.addHTML(w.lf("<h3>{0:q} requires sign&nbsp;in</h3>",a)+(w.TheEditor?"<p class='agree'>"+w.lf("You can run and save your scripts locally, but to access your scripts from all devices, you need to be signed in. After you sign in, we will save and sync your scripts between your devices.")+"</p>":"")),r.fullWhite();var o=!1;return r.add(w.div("wall-dialog-buttons",w.HTML.mkButton(w.lf("maybe later"),function(){r.dismiss()}),w.HTML.mkButton(w.lf("sign in"),function(){var e;o=!0,r.dismiss(),n?n.show():(e=u.getServiceUrl()+"/oauth/dialog?response_type=token&client_id=webapp&identity_provider="+encodeURIComponent(u.getIdentityProvider()||""),w.RT.Web.oauth_v2_async(e,"touchdevelop").then(function(e){if(e.is_error())return!1;var t=e.others().at("id"),n=u.getUserId();return!(n&&t!=n||(u.setUserId(e.others().at("id")),u.setAccessToken(encodeURIComponent(e.access_token())),u.setIdentityProvider(e.others().at("identity_provider")),0))})).done(function(e){return i.success(e)})}))),r.onDismiss=function(){o||i.success(!1)},r.show(),i})},u.anonMode=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=!1),u.isOffline()?(u.showModalOnlineInfo(w.lf("{0} requires online access",e)),!0):!u.getUserId()&&(u.authenticateAsync(e,n).done(function(e){e&&t&&t()}),!0)},u.parseAccessToken=function(e,t,n){var i=e.match(/.*&state=([^&]*)/),r=i?i[1]:"";if(-1==u.oauthStates().indexOf(decodeURIComponent(r)))return t(),!1;var o=e.match(/.*#access_token=([^&]*)/)[1],a=e.match(/.*&identity_provider=([^&]*)/),s=a?decodeURIComponent(a[1]):void 0,c=e.match(/.*&id=([^&]*)/)[1],l=(parseInt((e.match(/.*&expires_in=([^&]*)/)||["0","0"])[1]),u.getUserId());return l&&c!=l?(n(),!1):(/.*[#&]dbg=true/.test(e)?window.localStorage.setItem("dbg","true"):window.localStorage.removeItem("dbg"),u.setUserId(c),u.setIdentityProvider(s||""),u.setAccessToken(o),!0)},u.hasAccessToken=r,u.getAccessToken=o,u.isAccessTokenExpired=function(){return!r()||!!window.localStorage.getItem("access_token_expired")},u.accessTokenExpired=function(){window.localStorage.setItem("access_token_expired","1")},u.setAccessToken=function(e){window.localStorage.removeItem("access_token_expired"),e?window.localStorage.setItem("access_token",e):window.localStorage.removeItem("access_token")},u.getUserId=function(){return window.localStorage.getItem("userid")},u.currentReleaseId="",u.getWorldId=function(){var e=window.localStorage.getItem("worldId");return e||window.localStorage.setItem("worldId",e="$webclient$-"+w.Util.guidGen()),e},u.oauthStates=function(){var e=JSON.parse(window.localStorage.getItem("oauth_states")||"[]");return 0==e.length&&(e=[w.Random.normalized().toString()]),window.localStorage.setItem("oauth_states",JSON.stringify(e)),e},u.setUserId=function(e){e?window.localStorage.setItem("userid",e):window.localStorage.removeItem("userid")},u.getIdentityProvider=function(){return window.localStorage.getItem("identity_provider")},u.setIdentityProvider=function(e){e?window.localStorage.setItem("identity_provider",e):window.localStorage.removeItem("identity_provider")},u.storeProgress=function(e){var t=a(c(),e);window.localStorage.setItem("progress",JSON.stringify(t)),window.localStorage.setItem("total_progress",JSON.stringify(a(s(),e)))},u.loadProgress=s,u.isOffline=l,u.isOnline=e,u.isOnlineWithPingAsync=function(){return e()?_():w.Promise.as(!1)},u.transientOfflineMode=!1,u.isTouchDevelopOnline=d,u.setTouchDevelopOnline=function(e){e?window.localStorage.removeItem("offline_mode"):window.localStorage.setItem("offline_mode","true")},u.isChaosOffline=p,u.setChaosOffline=function(e){e?window.localStorage.setItem("chaos_offline_mode","true"):window.localStorage.removeItem("chaos_offline_mode")},u.offlineErrorAsync=function(){var r=d()?"offline mode is on":"force offline mode is on";return new w.Promise(function(e,t,n){var i=new Error(r);i.status=502,t(i)})},u.canPublish=function(){return"paema"!=u.getUserId()},u.onlineInfo=h,u.showOnlineInfoProgess=function(){w.HTML.showProgressNotification(h(),!0)},u.showModalOnlineInfo=function(e){w.ModalDialog.info(e,h())};var m=function(e){return e+(/\?/.test(e)?"&":"?")+"access_token="+o()+"&world_id="+encodeURIComponent(u.getWorldId())+"&release_id="+encodeURIComponent(u.currentReleaseId)+"&user_platform="+encodeURIComponent(w.Browser.platformCaps.join(","))+"&anon_token="+encodeURIComponent(u.config.anonToken||"")};function f(e){return m(n()+"/api/"+e)}function g(e){return m(n()+"/api"+(null==e?"":"/"+e))}function v(e){return w.Util.httpGetJsonAsync(g(e))}function y(e,t){return w.Util.httpPostJsonAsync(g(e),t)}function b(e,t,n){if(void 0===n&&(n=!0),e){if(502==e.status)return void(n?u.showModalOnlineInfo(w.lf("could not {0}",t)):w.HTML.showProgressNotification(w.lf("could not {0}, are you connected to internet?",t)));if(429==e.status)return void w.ModalDialog.info(w.lf("could not {0}",t),w.lf("Did you post a lot recently? Please try again later."));if(403==e.status)return u.accessTokenExpired(),void(localStorage.everLoggedIn?u.isOnlineWithPingAsync().done(function(e){return u.showSigninNotification(e)}):u.authenticateAsync(t).done());if(419==e.status||402==e.status)return void w.ModalDialog.info(w.lf("access denied"),w.lf("Your account is not authorized to perform this action."));if(404==e.status)return void w.ModalDialog.info(w.lf("publication not found"),w.lf("Maybe it has been removed?"));if(442==e.status&&u._migrate)return void u._migrate();if(452==e.status)return u.authenticateAsync(t,!0,!1,!0).then(function(){return null});if(400==e.status)throw new Error(w.lf("Cloud precondition violated ({0})",e.errorMessage))}throw e}function _(){if(/http:\/\/localhost/i.test(document.URL))return w.Promise.as(!0);var r=w.RT.Math_.random(16777215).toString(),o=f("ping?value="+encodeURIComponent(r));return new w.Promise(function(e,t,n){var i;(i=new XMLHttpRequest).onreadystatechange=function(){4==i.readyState&&e(200==i.status&&i.responseText===r)},i.open("GET",o),i.send()})}u.getPublicApiUrl=f,u.getPrivateApiUrl=g,u.getScriptTextAsync=function(e){return w.Util.httpGetTextAsync(f(encodeURIComponent(e)+"/text?original=true"))},u.getPrivateApiAsync=v,u.getPublicApiAsync=function(e){return w.Util.httpGetJsonAsync(f(e))},u.postPrivateApiAsync=y,u.deletePrivateApiAsync=function(e){return w.Util.httpRequestAsync(u.getPrivateApiUrl(e),"DELETE")},u.deletePublicationAsync=function(e){return w.Util.httpRequestAsync(u.getPrivateApiUrl(e),"DELETE")},u.getRandomAsync=function(){return w.Util.httpGetTextAsync(f("random"))},u.isVersionNewer=function(e,t){return"object"==typeof e&&"object"==typeof t&&(e.instanceId==t.instanceId?e.version>t.version||e.version==t.version&&e.time>t.time:e.time>t.time)},u.getUserInstalledAsync=function(){return v("me/installed")},u.getUserInstalledLongAsync=function(e,t){return v("me/installedlong"+(e?"?v="+e+(t?"&m=1":""):""))},u.getUserInstalledBodyAsync=function(e){return v("me/installed/"+e)},u.postUserInstalledAsync=function(e){return w.Util.httpPostJsonAsync(g("me/installed"),e)},u.postUserInstalledPublishAsync=function(e,t,n,i){var r="me/installed/"+e+"/publish?hidden="+(t?"true":"false");n&&(r+="&scriptversion="+encodeURIComponent(n)),i||(i={});var o=i.parentIds;return o&&(r+="&mergeids="+encodeURIComponent(o)),w.Util.httpPostJsonAsync(g(r),i)},u.isFota=function(){return/fota=1/.test(document.URL)||0<navigator.userAgent.indexOf("Profile/OTA-DFU1.0")},u.canCompile=function(){return u.isRestricted()},u.postUserInstalledCompileAsync=function(e,t,n){void 0===n&&(n={});var i=new w.PromiseInv,r="",o=function(){w.Util.httpGetJsonAsync(r).done(function(e){w.HTML.showProgressNotification(w.lf("compilation finished")),e.url=r,i.success(e)},function(e){return w.Util.setTimeout(1e3,o)})};return w.Util.httpPostJsonAsync(g("me/installed/"+e+"/compile"),{config:"ws",source:t,meta:n,repohash:u.config.microbitGitTag}).done(function(e){r=e.statusurl,o()},function(e){i.success(void 0),u.handlePostingError(e,w.lf("could not start compilation"))}),i},u.errorCallback=function(t){return void 0===t&&(t=w.lf("do this")),function(e){return b(e,t)}},u.showSigninNotification=function(e){e?w.HTML.showWarningNotification(w.lf("You are not signed in."),{els:[w.HTML.mkLinkButton(w.lf("sign in"),function(){var e=w.Login;e&&e.show&&e.show()})]}):w.HTML.showProgressNotification(w.lf("You appear to be offline."))},u.handlePostingError=b,u.postApiBatch=function(e){return w.Util.httpPostJsonAsync(g(null),e)},u.postBugReportAsync=function(e){return y("bug",e)},u.postTicksAsync=function(e){return y("ticks",e)},u.postNotificationsAsync=function(){return y("me/notifications",{})},u.postNotificationChannelAsync=function(e){return w.Util.httpPostJsonAsync(g("me/notificationchannel"),e)},u.getUserSettingsAsync=function(e){return void 0===e&&(e=!1),w.Util.httpGetJsonAsync(g("me/settings?format="+(e?"sensitive":"nonsensitive"))).then(function(e){return e},function(e){return u.handlePostingError(e,w.lf("get settings")),new w.PromiseInv})},u.postUserSettingsAsync=function(e){return w.Util.httpPostJsonAsync(g("me/settings"),e)},u.getAppAsync=function(e,t){return w.Util.httpGetJsonAsync(g(e+"/"+t+"app"))},u.postAppAsync=function(e,t,n){return w.Util.httpPostTextAsync(g(e+"/"+t+"app"),JSON.stringify(n))},u.postAskBetaAsync=function(e){return w.Util.httpPostTextAsync(g("/me/askbeta?accept="+e),"")},u.postAskSomethingAsync=function(e){return w.Util.httpPostTextAsync(g("/me/asksomething?accept="+e),"")},u.pingAsync=_,u.postPendingProgressAsync=function(){if(!u.getUserId()||!r()||l())return w.Promise.as();var e=c();return 0==Object.keys(e).length?w.Promise.as():(w.Util.log("progress: "+JSON.stringify(e)),u.postPrivateApiAsync("me/progress",e).then(function(){return i=e,r=c(),Object.keys(i).forEach(function(e){var t=r[e],n=i[e];t&&(!t.guid||!n.guid||t.guid==n.guid)&&(void 0===t.index||void 0===n.index||t.index<=n.index)&&(void 0===t.completed||void 0===n.completed||t.completed<=n.completed)&&delete r[e]}),void window.localStorage.setItem("progress",JSON.stringify(r));var i,r},function(){}))},u.postCommentAsync=function(e,t){var n={kind:"comment",text:t,userplatform:w.Browser.platformCaps};return u.postPrivateApiAsync(e+"/comments",n)}}(w.Cloud||(w.Cloud={}))}(TDev||(TDev={})),function(w){!function(l){function i(e){return w.Util.fmt("<div class='md-video-wrapper'><iframe src='{0:url}' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>",e)}function t(e,t){var n=w.div("md-video-link");return w.Browser.setInnerHTML(n,w.SVG.getVideoPlay(e)),n.setAttribute("data-playerurl",t),n.withClick(function(){n.innerHTML=i(t)}),n}function o(e,t,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),t){var r=t.match(/^data:audio\/(mpeg|mp3|mp4|wav);base64,/i);if(r){w.Util.log("audio: src datauri "+r[1]);var o=document.createElement("source");o.src=t,o.type="audio/"+r[1],e.setChildren([o])}else{var a=document.createElement("source");a.src=y(t),a.type="audio/wav";var s=document.createElement("source");s.src=y(i||t),s.type="audio/mp3";var c=document.createElement("source");c.src=y(n||t),c.type="audio/mp4",e.setChildren([c,a,s])}}else e.setChildren([])}function u(){return document.createElement("br")}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=document.createElement("button");return null!=e&&(i.className=e),i.appendChildren(t),w.dirAuto(i),i}function s(e,t,n){void 0===n&&(n="");var i=a("wall-button "+n,w.text(e));return w.Util.clickHandler(i,t),i}function c(e,t,n){return 0==t?e.withClick(n):(e.id="btn-"+w.Ticker.tickName(t),e.withClick(function(e){w.Ticker.tick(t),n(e)}))}function e(r){return r?new w.Promise(function(t,e,n){var i=new FileReader;i.onerror=function(e){return t(null)},i.onload=function(e){return t(i.result)},i.readAsArrayBuffer(r)}):w.Promise.as(null)}function d(r,t){return void 0===t&&(t=""),r?t?e(r).then(function(e){return e?"data:"+t+";base64,"+btoa(w.Util.uint8ArrayToString(new Uint8Array(e))):null}):new w.Promise(function(t,e,n){var i=new FileReader;i.onerror=function(e){return t(null)},i.onload=function(e){return t(i.result)},i.readAsDataURL(r)}):w.Promise.as(null)}function p(e,t,n,i){var r=document.createElement("input");return r.setAttribute("type",e),t&&(r.setAttribute("placeholder",t),r.setAttribute("aria-label",i||t)),n&&l.setRole(r,n),r.autofocus=!1,r.className="wall-textbox",w.dirAuto(r),9==w.Browser.browser&&(r.autocapitalize=!1),r.onselectstart=function(e){return e.stopImmediatePropagation(),!0},r}function h(e,t){e.theBox.setChildren(t?[w.text("✓")]:[]),e.selected=t}function r(e,t,n,i){void 0===n&&(n=void 0);var r=w.div("theBox",w.text("")),o=w.div("checkbox",r,w.text(t));return o.theBox=r,c(o,e,function(){var e=!o.selected;h(o,e),n&&n(e)}),void 0!==i&&h(o,i),o}var m;function n(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o=document.createElement("a");return o.href=t,o.target=n,e&&(o.className=e),o.appendChildren(i),o}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=document.createElement("span");return e&&(i.className=e),i.setChildren(t),i}function g(e,t,n){void 0===n&&(n="octet/stream");try{if("undefined"!=typeof saveAs){var i=new Blob([e],{type:n});return void saveAs(i,t,!0)}if(window.navigator.msSaveOrOpenBlob&&!w.Browser.isMobile)i=new Blob([e],{type:n}),window.navigator.msSaveOrOpenBlob(i,t);else{var r=window.document.createElement("a"),o="data:"+n+";base64,"+w.Util.base64EncodeBytes(e);"string"==typeof r.download?(r.href=o,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)):document.location.href=o}}catch(e){w.Util.reportError("browserdownload",e,!1),l.showProgressNotification(w.lf("saving file failed..."))}}function v(e){w.elt("root").appendChild(e);var t=w.Animation.fadeOut(e);t.delay=6e3,t.duration=2e3,t.begin()}function y(e){return e&&(e=w.Cloud.toCdnUrl(e),l.localCdn&&!/http:\/\/localhost/i.test(e)&&(w.Cloud.isArtUrl(e)||/^(https?:\/\/lexmediaservice3.blob.core.windows.net|https:\/\/tdtutorialtranslator.blob.core.windows.net)/i.test(e))&&(e=l.localCdn+encodeURIComponent(e))),e}l.tr=function(e,t){var n=document.createElement("tr");return n.className=t,e.appendChild(n),n},l.td=function(e,t){var n=document.createElement("td");return n.className=t,e.appendChild(n),n},l.col=function(e){var t=document.createElement("col");return e.appendChild(t),t},l.jsrequireAsync=function(r){return new w.Promise(function(t,e,n){if(w.Util.children(document.head).some(function(e){return/script/i.test(e.tagName)&&e.getAttribute("src")==r}))t(void 0);else{w.Util.log("require "+r);var i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.onload=function(){i.readyState&&"complete"!==i.readyState||(w.Util.log("require success "+r),t(void 0))},i.onreadystatechange=i.onload,i.onerror=function(e){w.Util.log("require error: {0}",e),t(e)},i.src=r,document.head.appendChild(i)}})},l.mkOEmbed=function(e,t){return w.div("md-video-link",w.div("",l.mkImg(t.thumbnail_url)).withClick(function(){return window.open(e,"oembed")}),t.title,l.mkA("",t.author_url,"oembed",t.author_name),l.mkA("",t.provider_url,"oembed",t.provider_url))},l.mkVideoIframe=i,l.mkLazyVideoPlayer=t,l.mkYouTubePlayer=function(e){return t(w.Util.fmt("https://img.youtube.com/vi/{0:q}/hqdefault.jpg",e),w.Util.fmt("//www.youtube-nocookie.com/embed/{0:uri}?modestbranding=1&autoplay=1&autohide=1&origin={1:uri}",e,w.Cloud.config.rootUrl))},l.mkAudio=function(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=!1);var r=document.createElement("audio");return r.crossorigin="anonymous",r.controls=i,o(r,e,t,n),r},l.audioLoadAsync=function(o){return new w.Promise(function(t,e,n){o.oncanplay=function(){w.Util.log("loaded sound oncanplay"),o.oncanplay=null,o.oncanplaythrough=null,o.onerror=null,t(o)},o.oncanplaythrough=function(){w.Util.log("loaded sound oncanplaythrough"),o.oncanplay=null,o.oncanplaythrough=null,o.onerror=null,t(o)},o.onerror=function(e){w.Util.log("failed loading sound - "+o.readyState),o.oncanplay=null,o.oncanplaythrough=null,o.onerror=null,t(o)};var i=20,r=function(){var e=o.readyState;o.oncanplay&&(e===HTMLMediaElement.HAVE_ENOUGH_DATA?(o.oncanplay=null,o.oncanplaythrough=null,o.onerror=null,t(o)):0<i--?(w.Util.log("retry loading sound. readState:"+e+", networkState:"+o.networkState+", try:"+i),w.Util.setTimeout(250,r)):(w.Util.log("timeout loading sound"),o.oncanplay=null,o.oncanplaythrough=null,o.onerror=null,t(o)))};try{w.Util.log("start loading sound"),o.load(),w.Util.setTimeout(400,r)}catch(e){w.Util.log("failed loading sound: "+e.message),t(o)}})},l.setAudioSource=o,l.parseWtt=function(e){var t=[];if(e)try{for(var n,i=/((\d{2}):)?(\d{2}):(\d{2})\.(\d{3}) --> ((\d{2}):)?(\d{2}):(\d{2})\.(\d{3})/gi;n=i.exec(e);){var r=3600*parseInt(n[2]||"0")+60*parseInt(n[3])+parseInt(n[4])+parseInt(n[5])/1e3,o=3600*parseInt(n[7]||"0")+60*parseInt(n[8])+parseInt(n[9])+parseInt(n[10])/1e3,a=e.substr(n.index+n[0].length).trim(),s=/^$/m.exec(a);s&&(a=a.substr(0,s.index).trim()),t.push({startTime:r,endTime:o,message:a})}}catch(e){return w.Util.reportError("wtt",e,!1),t}return t},l.pauseVideos=function(e){if(e)for(var t=e.getElementsByTagName("video"),n=0;n<t.length;++n)try{t.item(n).pause()}catch(e){}},l.patchWavToMp4Url=function(e){if(e){if(/^\.\/art\//i.test(e))return e+".m4a";if(w.Cloud.isArtUrl(e))return w.Cloud.toCdnUrl(e,"aac")+".m4a"}return e},l.mkBr=u,l.mkTextArea=function(e){void 0===e&&(e=null);var t=document.createElement("textarea");return null!=e&&(t.className=e),w.dirAuto(t),t.onselectstart=function(e){return e.stopImmediatePropagation(),!0},t},l.wrong=function(e){w.Util.coreAnim("shakeTip",500,e)},l.setupDragAndDrop=function(e,t){w.Browser.dragAndDrop&&(e.addEventListener("dragover",function(e){if("Files"==e.dataTransfer.types[0])return e.preventDefault&&e.preventDefault(),!(e.dataTransfer.dropEffect="copy")},!1),e.addEventListener("drop",function(e){return e.dataTransfer.files[0]&&(e.stopPropagation(),e.preventDefault(),t(e.dataTransfer.files)),!1},!1),e.addEventListener("dragend",function(e){return!1},!1))},l.mkButtonElt=a,l.mkImg=function(e,t,n,i){/^\//.test(e)&&(e=e.slice(1));var r,o=/^scripticons(96)?\/(.*)\.png/.exec(e);if(o&&(e="svg:"+o[2]+",white"),/^svg:/.test(e))r=w.SVG.getIconSVG(e.slice(4),i?void 0:n);else{var a=document.createElement("img");a.src=y(e),i||(a.alt=n||""),r=a}return t&&(r.className+=" "+t),i&&r.setAttribute("aria-hidden","true"),r},l.mkImgButton=function(e,t){var n=l.mkImg(e);l.setRole(n,"presentation");var i=a("wall-button",n);return w.Util.clickHandler(i,t),i},l.mkDisablableButton=function(e,t){var n=s(e,function(){n.getFlag("disabled")||t()});return n},l.mkAsyncButton=function(e,t,n){void 0===n&&(n="");var i=a("wall-button "+n,w.text(e)),r=!1;return w.Util.clickHandler(i,function(){r||(r=!0,i.style.opacity="0.5",i.setFlag("disabled",!0),t().done(function(){r=!1,i.style.opacity=null,i.setFlag("disabled",!1)}))}),i},l.mkButton=s,l.mkAButton=function(e,t){return l.mkA("wall-button",t,"_blank",e)},l.mkLinkButton=function(e,t,n){void 0===n&&(n="");var i=a("link-button "+n,w.text(e));return w.Util.clickHandler(i,t),i},l.mkButtonTick=function(e,t,n,i){void 0===i&&(i="");var r=a("wall-button "+i,w.text(e));return c(r,t,n),r},l.mkButtonOnce=function(e,t,n){void 0===n&&(n=!1);var i=a("wall-button",w.text(e));return w.Util.clickHandler(i,function(e){n?i.parentNode.removeAllChildren():i.removeSelf(),t()}),i},l.setTickCallback=c,l.mkRoundButton=function(e,t,n,i){var r=l.mkButtonElt("topMenu-button "+(11<t.length?"topMenu-button-long-desc":""),[w.div("topMenu-button-frame",l.mkImg(e)),w.div("topMenu-button-desc",t)]);return c(r,n,i),r},l.fileReadAsArrayBufferAsync=e,l.fileReadAsDataURLAsync=d,l.documentMimeTypes={"text/css":"css","application/javascript":"js","text/plain":"txt","application/pdf":"pdf","application/x-zip-compressed":"zip","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/x-microbit-hex":"hex"},l.mkDocumentInput=function(t){var n=l.mkTextInput("file",w.lf("choose a file"));return n.accept=Object.keys(l.documentMimeTypes).join(";"),{element:n,validate:function(){var e=n.files[0];return e?0<t&&e.size>1024*t*1024?w.lf("Sorry, the file is too big. It must be less than {0}Mb...",t):n.accept.indexOf(e.type)<0?w.lf("Sorry, this document format is not supported..."):null:w.lf("Oops, you need to select a file...")},readAsync:function(){return d(n.files[0])}}},l.mkAudioInput=function(n,i){var r=l.mkTextInput("file",w.lf("choose a file"));return r.accept="audio/mpeg",{element:r,validate:function(){var e=r.files;if(0==e.length)return n?null:"Oops, you need to select a sound...";var t=e[0];return 0<i&&t.size>1e6*i?w.lf("Sorry, the sound is too big. The sound must be less than {0}Mb...",i):"audio/mpeg"!==t.type&&"audio/mp3"!==t.type?w.lf("Sorry, you can only upload MP3 sounds..."):null},readAsync:function(){return d(r.files[0])}}},l.mkImageChooser=function(n){var i=l.mkTextInput("file",w.lf("choose a picture"));return i.accept="image/jpeg,image/png",i.onchange=function(){var e=0<i.files.length?i.files[0]:null;if(e){var t=new FileReader;t.onload=function(e){return n(t.result)},t.readAsDataURL(e)}},i},l.mkFileInput=function(e,t,n){var i;return void 0===n&&(n=""),n=n||e.type,/^image\//.test(n)?((i=document.createElement("img")).style.maxWidth="15em",i.style.maxHeight="7em",d(i.src=e,n).done(function(e){return i.src=e})):/^audio\//.test(n)?((i=document.createElement("audio")).crossorigin="anonymous",d(i.src=e,n).done(function(e){return i.src=e})):i=w.div("wall-textbox",w.lf("{0} {1}Kb",e.name,Math.ceil(e.size/1e3))),i.style.margins="0.5em",{element:i,validate:function(){return null},readAsync:function(){return d(e,n)}}},l.mkImageInput=function(n,i){var o=l.mkTextInput("file",w.lf("choose a picture"));return o.accept="image/jpeg,image/png",{element:o,validate:function(){var e=o.files;if(0==e.length)return n?null:w.lf("Oops, you need to select a picture...");var t=e[0];return 0<i&&t.size>1e6*i?w.lf("Sorry, the picture is too big. The picture must be less than {0} Mb...",i):"image/jpeg"!==t.type&&"image/png"!==t.type?w.lf("Sorry, you can only upload JPEG and PNG pictures..."):null},readAsync:function(){var r=o.files[0];return r?new w.Promise(function(t,e,n){var i=new FileReader;i.onerror=function(e){return t(null)},i.onload=function(e){return t(i.result)},i.readAsDataURL(r)}):w.Promise.as(null)}}},l.setRole=function(e,t){e&&(t?e.setAttribute("role",t):e.removeAttribute("role"))},l.enableSpeech=function(e,t){e.setAttribute("x-webkit-speech","x-webkit-speech"),e.onwebkitspeechchange=function(){t()},e.onspeechchange=function(){t()}},l.mkTextInput=p,l.mkTextInputWithOk=function(e,t,n){var i=p(e,t),r=null;return w.Util.onInputChange(i,function(){r||(i.style.width="calc(100% - 6em)",r=s(w.lf("ok"),function(){var e=r;r=null,i.style.width="",e&&e.removeSelf(),i.blur()},"input-confirm"),i.parentNode.insertBefore(r,i.nextSibling))}),i.addEventListener("blur",function(){var e=r;r=null,i.style.width="",e&&e.removeSelf(),n&&n()},!1),i},l.mkOption=function(e,t,n){void 0===n&&(n=void 0);for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o=document.createElement("option");return o.label=t,o.value=e,void 0!==n&&(o.selected=n),t&&o.appendChildren(t),o.appendChildren(i),o},l.mkComboBox=function(e){var t=document.createElement("select");return t.autofocus=!1,t.className="wall-textbox",t.appendChildren(e),t},l.getCheckboxValue=function(e){return!!e.selected},l.setCheckboxValue=h,l.mkCheckBox=function(e,t,n){return void 0===t&&(t=void 0),r(0,e,t,n)},l.mkTickCheckBox=r,l.mkCheckBoxLocalStorage=function(t,e){var n=!!window.localStorage.getItem(t);return l.mkCheckBox(e,function(e){return w.Util.localStore(t,e?"1":void 0)},n)},l.mkRadioButtons=function(e){var i={current:-1,enabled:!0,buttons:e.map(function(e,t){return c(a("radio-button",w.div("radio-outer",w.div("radio-inner")),w.div("radio-label",e.name)),e.tick,function(){i.enabled&&i.change(t)})}),onchange:function(e){},change:function(n){i.current=n,i.buttons.forEach(function(e,t){return e.setFlag("selected",t==n)}),i.onchange(n)},elt:w.div("radio-group")};return i.elt.setChildren(i.buttons),i},l.mkModalList=function(e){var t=w.div("modalList",e);return w.Util.setupDragToScroll(t),t},l.showProgressNotification=function(e,t,n,i){if(void 0===t&&(t=!0),void 0===n&&(n=1e3),void 0===i&&(i=2e3),w.Browser.isHeadless)w.Util.log("progress: "+e);else{var r="progressNotification",o=w.elt("root"),a=o.getElementsByClassName(r),s=0<a.length?a.item(0):void 0,c=function(){m=void 0,t&&((m=w.Animation.fadeOut(s)).delay=n,m.duration=i,m.completed=function(){m=void 0},m.begin())};s?(m&&m.stop(),s.style.opacity="1",void 0!==e&&(s.removeAllChildren(),s.appendChildren(e)),c()):e&&((s=w.div(r,e)).setAttribute("role","alert"),s.setAttribute("aria-live","status"),o.appendChild(s),(m=w.Animation.fadeIn(s)).completed=c,m.begin())}},l.showWarningNotification=function(e,t){if(void 0===t&&(t={}),w.Browser.isHeadless)w.Util.log("warning: "+e);else{var n=w.div("info",e),i=w.div("warningNotification",n);i.setAttribute("role","alert"),i.setAttribute("aria-label",e);var r=w.Animation.fadeOut(i);r.delay=6e3,r.duration=500,r.begin(),t&&t.els&&n.appendChildren(t.els),t&&t.details&&(i.appendChild(w.div("info link",w.lf("learn more..."))),i.withClick(function(){w.tick(470),w.ModalDialog.info(e,t.details)})),n.appendChild(l.mkLinkButton(w.lf("dismiss"),function(){r.complete()})),w.elt("root").appendChild(i)}},l.showPluginNotification=function(e){var t=w.div("pluginNotification",w.div("info",e));t.setAttribute("role","alert"),t.setAttribute("aria-live","status"),w.elt("root").appendChild(t);var n=w.Animation.fadeOut(t);n.delay=6e3,n.duration=3e3,n.begin()},l.showUndoNotification=function(e,t){var n=w.elt("infoNotification");n&&n.removeSelf();var i=w.divId("infoNotification","infoNotification",e,l.mkButtonOnce(w.lf("undo"),function(){i.removeSelf(),t()}));w.elt("root").appendChild(i);var r=w.Animation.fadeIn(i,1e3);r.completed=function(){var e=w.Animation.fadeOut(i);e.delay=4e3,e.duration=1e3,e.begin()},r.begin()},l.showErrorNotification=function(e){if(w.Browser.isHeadless)w.Util.log("error: "+e);else{var t=w.div("errorNotification",e);t.setAttribute("role","alert"),t.setAttribute("alert-label",e),w.elt("root").appendChild(t);var n=w.Animation.fadeOut(t);n.delay=2e3,n.duration=2e3,n.begin()}},l.showSaveNotification=function(e,t){void 0===t&&(t=1e3);var n=w.div("saveNotification",e);w.elt("root").appendChild(n);var i=w.Animation.fadeOut(n);return i.delay=t,i.duration=1e3,i.begin(),n},l.showWebNotification=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=1e4),!w.Cloud.isRestricted()&&"Notification"in window&&!document.hasFocus()){var r=window.Notification,o=function(){var e=new r(t,n);e.onshow=function(){w.Util.setTimeout(i,function(){return e.close()})}};"granted"===r.permission?o():r.requestPermission(function(e){"granted"===e&&o()})}},l.mkA=n,l.li=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=document.createElement("li");return e&&(i.className=e),i.setChildren(t),i},l.span=f,l.label=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=document.createElement("label");return e&&(i.className=e),i.setChildren(t),i},l.browserDownloadText=function(e,t,n){void 0===n&&(n="octet/stream"),g(w.Util.stringToUint8Array(w.Util.toUTF8(e)),t,n)},l.browserDownloadUInt8Array=g,l.browserDownload=function(n,e){try{var t=function(){var e=/data:([^;]+);base64,/.exec(n),t=w.Util.stringToUint8Array(atob(n.slice(e[0].length)));return new Blob([t],{type:e[1]})};if("undefined"!=typeof saveAs)return void saveAs(t(),e,!0);if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t(),e);else{var i=window.document.createElement("a");i.href=n,"string"==typeof i.download?(i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)):document.location.href=n}}catch(e){w.Util.reportError("browserdownload",e,!1),l.showProgressNotification(w.lf("saving file failed..."))}},l.showNotification=v,l.showNotificationText=function(e){v(w.div("errorNotification",e))},l.showProxyNotification=function(e,t){v(w.div("errorNotification",e,u(),f("smallText","URL: "+t)))},l.showCorsNotification=function(e){v(w.div("errorNotification",w.lf("Access Denied: Your web browser and the web site prevent cross-origin resource sharing (CORS)."),n("",w.Cloud.config.rootUrl+w.Cloud.config.topicPath+"CORS","_blank",w.lf("Learn more...")),u(),f("smallText",w.lf("URL: {0}",e))))},l.mkProgressBar=function(){var t=w.div("progressBar",w.Util.range(0,4).map(function(e){return w.div("progressDot progressDot-"+e)}));l.setRole(t,"progressbar");var n=0;function e(e){(n+=e)<0&&(n=0),t.style.display=0<n?"block":"none"}return e(0),w.Browser.noAnimations?t.start=t.stop=t.reset=function(){}:(t.start=function(){e(1)},t.stop=function(){e(-1)},t.reset=function(){e(-n)}),t},l.mkAutoExpandingTextArea=function(e){void 0===e&&(e={});var t,n,i,r=l.mkTextArea(),o=document.createElement("pre");(e.showDismiss||e.editFullScreenAsync)&&(i=w.div("close-round-buttons"),e.showDismiss&&i.appendChild(t=w.div("",l.mkImg("svg:check,currentColor")).withClick(function(){c.onDismiss&&c.onDismiss()})),e.editFullScreenAsync&&i.appendChild(n=w.div("",l.mkImg("svg:expand,currentColor")).withClick(function(){e.editFullScreenAsync(r.value).done(function(e){r.value=e,c.onDismiss&&c.onDismiss()})})));var a=f(null,null);o.setChildren([a,u()]);var s=function(){a.textContent=r.value,c.onUpdate()};w.Util.onInputChange(r,s);var c={div:w.div("expandingTextAreaContainer",o,r,i),textarea:r,update:s,onUpdate:function(){},dismiss:t,onDismiss:function(){},fullScreen:n};return e.singleLine&&(r.onkeydown=function(e){if(13==(e.keyCode||e.which))return e.stopPropagation(),c.onDismiss&&c.onDismiss(),!0}),c},l.fixWp8Links=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];e.forEach(function(e){for(var n=e.getElementsByTagName("A"),i=0;i<n.length;++i)!function(){var e=n[i],t=e.getAttribute("href");/^#/.test(t)&&(e.onclick=function(){return!1},e.withClick(function(){return w.Util.setHash(t),!1}))}()})},l.localCdn=null,l.proxyResource=y,l.cssImage=function(e,t){if(void 0===t&&(t=1),!e)return"";var n="url("+y(e)+")";return t<1&&(n=w.Util.fmt("linear-gradient(to bottom, rgba(255,255,255,{0}) 0%,rgba(255,255,255,{0}) 100%), {1}",(1-t).toFixed(3),n)),n},l.html5Tags={dialog:-1,embed:-1,keygen:-1,link:-1,meta:-1,noscript:-1,object:-1,param:-1,script:-1,applet:-1,frame:-1,frameset:-1,noframes:-1,html:-1,body:-1,head:-1,form:-1,style:-1,basefont:-2,font:-2,center:-2,big:-2,dir:-2,acronym:-2,strike:-2,tt:-2,a:1,ul:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ol:1,li:1,blockquote:1,pre:1,b:1,button:1,code:1,img:1,strong:1,span:1,br:1,del:1,div:1,em:1,p:1,i:1,u:1,video:1,source:1,audio:1,track:1,small:1,hr:1,iframe:1,svg:1,path:1,circle:1,g:1,title:1,abbr:2,address:2,area:2,article:2,aside:2,bdi:2,bdo:2,canvas:2,caption:2,cite:2,col:2,colgroup:2,datalist:2,dd:2,details:2,dfn:2,dl:2,dt:2,fieldset:2,figcaption:2,figure:2,footer:2,header:2,hgroup:2,input:2,ins:2,kbd:2,label:2,legend:2,main:2,map:2,mark:2,menu:2,menuitem:2,meter:2,nav:2,optgroup:2,option:2,output:2,progress:2,q:2,rp:2,rt:2,ruby:2,s:2,samp:2,section:2,select:2,sub:2,summary:2,sup:2,table:2,tbody:2,td:2,textarea:2,tfoot:2,th:2,thead:2,time:2,tr:2,var:2,wbr:2};var b={src:1,srcset:1,href:1,xmlns:1,class:2,frameborder:2,allowfullscreen:2,alt:2,style:2,type:2,target:2,rel:2,name:2,translate:2,dir:2,id:2,width:2,height:2,placeholder:2,title:2,controls:2,autoplay:2,disabled:2,role:2,"aria-atomic":2,"aria-busy":2,"aria-controls":2,"aria-describedby":2,"aria-disabled":2,"aria-dropeffect":2,"aria-flowto":2,"aria-grabbed":2,"aria-haspopup":2,"aria-hidden":2,"aria-invalid":2,"aria-label":2,"aria-labelledby":2,"aria-live":2,"aria-owns":2,"aria-relevant":2,viewbox:2,preserveaspectratio:2,fill:2,d:2,cx:2,cy:2,r:2,stroke:2,"stroke-width":2,transform:2,"fill-opacity":2,"stroke-miterlimit":2,"stroke-dasharray":2,sandbox:2};function _(e,t,n){n&&(e+=": "+n.slice(0,100));var i=new Error("Critical: HTML sanitization failure, "+e);throw i.bugAttachments=[t],n&&100<n.length&&i.bugAttachments.push(n),i}l.sanitizeHTML=function(n){if(!w.isBeta)return n;if(!n)return n;try{var e=n.replace(/<([^<>]+)>/g,function(e,t){return function(e,t){if(!/^\!--.*--$/.exec(e)){var n=/^\/?([a-zA-Z0-9]+)(\s|\/?$)/.exec(e);n||_("no tag name",t,e);var i=n[1].toLowerCase();l.html5Tags.hasOwnProperty(i)||_("unknown tag",t,i);var r=l.html5Tags[i];for(1!==r&&_("tag not allowed, "+r,t,i),e=e.slice(n[0].length);!/^\s*\/?$/.test(e);){(n=/^\s*([a-zA-Z0-9-]+)($|\s|="([^"]*)"|='([^']*)'|=([a-zA-Z0-9]+))/.exec(e))||_("cannot parse html attribute",t,e);var o=n[1].toLowerCase(),a=n[3]||n[4]||n[5]||"";if(/^data-/.test(o));else if(b.hasOwnProperty(o)){var s=b[o];1==s?/^(http|\/|\.\/|#|mailto:)/i.test(a)||_("bad URL",t,e):2==s||_("forbidden attribute",t,e)}else _("unknown attribute",t,e);e=e.slice(n[0].length)}}}(t,n),"(tag)"});return/[<>]/.test(e)&&_("unexpected tag",n,e),n}catch(e){return w.Util.reportError("html",e,!1),n}},l.allowedTagName=function(e){if(e=e.toLowerCase(),!l.html5Tags.hasOwnProperty(e))return!1;var t=l.html5Tags[e];return 1===t||2===t},l.allowedAttribute=function(e,t){if(/^data-/.test(e))return!0;if(!b.hasOwnProperty(e))return!1;var n=b[t];return 1===n?/^(http|\/|\.\/|#|mailto:)/.test(t):2===n}}(w.HTML||(w.HTML={}))}(TDev||(TDev={})),function(TDev){var StackFrameBase=function(e){this.rt=e,this.returnAddr=null,this.entryAddr=null,this.previous=null,this.isLibProxy=!1};TDev.StackFrameBase=StackFrameBase;var StackBottom=function(t){function e(e){t.call(this,e),this.needsPicker=!1,this.pc="",this.stackDepth=0,this.name="<entry-point>",this.d=this.rt.datas.this,this.libs=this.rt.compiled.libs}return __extends(e,t),e}(StackFrameBase);TDev.StackBottom=StackBottom;var LibProxy=function(o){function e(e,t,n,i,r){o.call(this,t.rt),this.libRefName=n,this.libActionName=i,this.invoke=r,this.isLibProxy=!0,this.pc="",this.libs=e,this.previous=t,this.prevPC=t.pc,this.d=this.rt.datas[this.libRefName],this.name=this.libActionName,this.stackDepth=t.stackDepth}return __extends(e,o),e}(StackFrameBase);TDev.LibProxy=LibProxy;var ResumeCtx=function(){function e(e){this.stackframe=e,this.used=!1,this.isBlocking=!1,this.rt=e.rt,e.rendermode=e.rt.rendermode}return e.prototype.isTaskCtx=function(){return!1},e.prototype.clearProgress=function(){this.shownProgress&&(this.shownProgress=!1,TDev.HTML.showProgressNotification(""))},e.prototype.resumeVal=function(e){this.used||(this.used=!0,this.clearProgress(),this.resumeCore(e))},e.prototype.resumeCore=function(e){this.rt._resumeVal(e,this)},e.prototype.resume=function(){return this.resumeVal(void 0)},e.prototype.progress=function(e){this.shownProgress=!0,TDev.HTML.showProgressNotification(e,!1)},e}(),Qp;TDev.ResumeCtx=ResumeCtx,Qp=TDev.RtState||(TDev.RtState={}),Qp[Qp.Stopped=0]="Stopped",Qp[Qp.Running=1]="Running",Qp[Qp.Paused=2]="Paused",Qp[Qp.AtAwait=3]="AtAwait",Qp[Qp.BreakpointHit=4]="BreakpointHit";var RtState=TDev.RtState,RuntimeSettings,Rp;Rp=RuntimeSettings=TDev.RuntimeSettings||(TDev.RuntimeSettings={}),Rp.readSetting=function(e){return window.localStorage[e]},Rp.storeSetting=function(e,t){window.localStorage[e]=t},Rp.location=function(){return!Rp.readSetting("rtnolocation")},Rp.setLocation=function(e){Rp.storeSetting("rtnolocation",e||void 0)},Rp.sounds=function(){return!Rp.readSetting("rtsnosounds")},Rp.setSounds=function(e){Rp.storeSetting("rtsnosounds",e||void 0),e||TDev.RT.Player.pause()},Rp.askSourceAccess=!0;var Runtime=function(){function g(e){this.handlingException=!1,this.datas={},this.testMode=!1,this.devMode=!0,this.eventQ=null,this.recordTypesRegistered=!1,this.resumePointOverride=null,this.versionNumber=1,this.restartQueued=!1,this.tutorialState=null,this.renderedComments="",this.webState={},this.state=0,this.stateMsg=void 0,this.eventExecuting=!1,this.mainLoopRunning=!1,this.resumeAllowed=!1,this.runningPluginOn="",this.headlessPluginMode=!1,this.tutorialObject="",this.pageTransitionStyle="slide",this.currentScriptId=void 0,this.currentAuthorId=void 0,this.baseScriptId=void 0,this.disposables=[],this.asyncStack=[],this.asyncTasks=[],this.runMap=new TDev.RunBitMap,this.debuggerLastState=null,this.eventCategory=null,this.eventVariable=null,this.inCloudCall=!1,this.inQuery=!1,this.rendermode=!1,this.lastBreak=0,this.quickLoopDepth=0,this.sessions=e||new TDev.Revisions.Sessions,this.sessions.rt=this}return g.prototype.liveMode=function(){return this.host.liveMode()},g.prototype.getWall=function(){return this.host.getWall()},g.prototype.runtimeKind=function(){return this.devMode?"editor":"website"},g.prototype.requiresAuth=function(){return this.compiled.hasCloudData&&this.sessions.getCurrentSession().requiresAuth},g.prototype.getUserId=function(){return this.authUserId?this.authUserId:this.sessions.isNodeClient()?this.sessions.getCurrentSession().clientUserId:TDev.Cloud.getUserId()},g.prototype.getScriptGuid=function(){return this.host.currentGuid},g.prototype.getScriptName=function(){return this.compiled.scriptTitle},g.prototype.getScriptColor=function(){return this.compiled.scriptColor},g.prototype.beenHere=function(e){this.runMap.push(e)},g.prototype.resetRunMap=function(){this.runMap.clear()},g.prototype.initBreakpoints=function(e){this.breakpoints=e,this.updateScriptBreakpoints()},g.prototype.hitBreakpoint=function(e){this.debuggerLastState=this.state,this.setState(4,"breakpoint"),this.host.notifyBreakpointHit(e)},g.prototype.updateScriptBreakpoints=function(){var t=this;if(this.compiled){var n=this.compiled.breakpointBindings;Object.keys(n).forEach(function(e){n[e].setter(t.breakpoints.get(e))})}},g.prototype.debuggerContinue=function(){this.debuggerStopped()&&(null!==this.debuggerLastState&&this.setState(this.debuggerLastState,"debugger last state"),this.debuggerCC&&this.mainLoop(this.debuggerCC,"resume debugger"))},g.prototype.debuggerStopped=function(){return 4===this.state},g.prototype.debuggerQueryGlobalValue=function(e){if(TDev.Util.log("Runtime.debuggerQueryGlobalValue: "+e),this.compiled&&this.current)return this.current.d[e]},g.prototype.debuggerQueryLocalValue=function(t,e,n){var i;if((TDev.Util.log("Runtime.debuggerQueryLocalValue: "+e),this.compiled&&this.current)&&(this.compiled.forEachLib(function(e){!i&&e.localNamesBindings&&(i=e.localNamesBindings[t])}),i)){e=i[e],TDev.Util.log("Runtime.debuggerQueryLocalValue resolved to: "+e);var r=n||this.current;return r&&r["$"+e]}},g.prototype.debuggerQueryOutValue=function(e,t){if(TDev.Util.log("Runtime.debuggerQueryOutValue: "+e),this.compiled&&this.current){var n=t||this.current;return 0<e?n.results[e]:n.orig_result||n.result||n.results&&n.results[0]}},g.prototype.saveAndCloseAllSessionsAsync=function(){return this.sessions.clearScriptContext(!0)},g.prototype.permissionsAsync=function(){return this.sessions.getLocalSessionAttributeAsync("____source_access",this).then(function(e){return JSON.parse(e||"{}")})},g.prototype.savePermissionsAsync=function(e){return this.sessions.setLocalSessionAttributeAsync("____source_access",JSON.stringify(e),this)},g.offerNotifications=function(){return!!g.refreshNotifications||!!localStorage.gcm},g.prototype.getActionResults=function(){var e=this.returnedFrom;return e?e.results?e.results.slice(0):[e.result]:null},g.prototype.setNextEvent=function(e,t){this.eventCategory=e,this.eventVariable=t},g.prototype.resetNextEvent=function(){this.eventCategory=null,this.eventVariable=null},g.prototype.currentTime=function(){return TDev.Util.perfNow()},g.prototype.setHost=function(e){this.host=e,this.host.init(this)},g.prototype.startCloudCall=function(e,t,n,i,r,o){TDev.Util.assert(!this.inCloudCall),TDev.Util.assert(!this.inQuery),this.inCloudCall=!0,o?this.inQuery=!0:this.sessions.getCurrentSession().user_start_cloud_operation(e,t,n,i,r,2)},g.prototype.endCloudCall=function(e,t,n,i,r,o){TDev.Util.assert(this.inCloudCall),this.inCloudCall=!1,o?(TDev.Util.assert(this.inQuery),this.inQuery=!1):this.sessions.getCurrentSession().user_stop_cloud_operation(e,t,n,i,r)},g.prototype.log=function(e){TDev.Util.log(e)},g.prototype.mayPostToWall=function(e){return!this.headlessPluginMode&&(!e.isAuto()||this.rendermode||e.crashed)},g.prototype.clearWall=function(){var e=this.getCurrentPage();e.isAuto()&&TDev.Util.userError(TDev.lf("cannot clear wall on pages")),e.clear(),e.render(this.host)},g.prototype.setWallDirection=function(e){var t=this.getCurrentPage();t.isAuto()&&TDev.Util.userError(TDev.lf("cannot set wall direction on pages")),t.setReversed(e)},g.prototype.postHtml=function(e,t){this.postBoxedHtml(e,t)},g.prototype.postText=function(e,t){this.postHtml(TDev.div("wall-text",e),t)},g.prototype.postException=function(e){var t=this.getCurrentPage();this.rendermode?this.abortRender():t.isAuto()&&t.clear(),t.crashed=!0,this.postBoxedHtml(e,"")},g.prototype.addTapEvent=function(e,t,n,i){var r=this;this.eventEnabled("tap wall "+t)&&(n&&this.getCurrentPage().isAuto()?n.withClick(function(){r.eventQ.add("tap wall "+t,null,[i])}):(e.style.cursor="pointer",e.withClick(function(){r.eventQ.add("tap wall "+t,null,[i])})))},g.prototype.getPageCount=function(){return this.pageStack?this.pageStack.length<1?1:this.pageStack.length:0},g.prototype.pushPage=function(e){void 0===e&&(e=!1),this.getCurrentPage().deactivate();var t=new TDev.WallPage(this,e);return e&&1==this.pageStack.length&&!this.pageStack[0].isAuto()&&this.pageStack[0].lastChildCount<0&&!this.pageStack[0].fullScreenElement?this.pageStack[0]=t:this.pageStack.push(t),this.getWall().appendChild(t.getElement()),"slide"==this.pageTransitionStyle?TDev.Util.coreAnim("showPageRight",400,t.getElement()):"fade"==this.pageTransitionStyle&&TDev.Util.coreAnim("fadeIn",400,t.getElement()),this.forcePageRefresh(),this.host.notifyPagePush(),this.applyPageAttributes(),t},g.prototype.popPagesIncluding=function(e){for(;0<=this.pageStack.indexOf(e);)if(!this.popPage())return},g.prototype.popPage=function(e){var t=this;if(void 0===e&&(e=null),this.pageStack.length<=1)return!1;var n=this.pageStack.pop(),i=n,r=n.getElement();(n=this.getCurrentPage()).activate();var o=null;if("slide"==e||"slide right"==e?o="hidePageLeft 0.2":"slide up"==e?o="hidePageUp 0.7":"slide down"==e?o="hidePageDown 0.7":"fade"==e?o="fadeOut 0.3":"none"==e&&(o="fadeOut 0.01"),o||"slide"!=this.pageTransitionStyle||(o="hidePageLeft 0.2"),o){n.getElement().style.opacity="0";var a=o.split(/ /),s=1e3*parseFloat(a[1]);o=a[0],TDev.Util.coreAnim(o,s,r,function(){r.removeSelf(),n.getElement().style.opacity=null,"slide"==t.pageTransitionStyle?TDev.Util.coreAnim("showPageLeft",300,n.getElement()):"fade"==t.pageTransitionStyle&&TDev.Util.coreAnim("fadeIn",400,n.getElement())})}else"fade"==this.pageTransitionStyle?(TDev.Util.coreAnim("fadeOut",400,r,function(){return r.removeSelf()}),TDev.Util.coreAnim("fadeIn",400,n.getElement())):r.removeSelf();return this.eventEnabled("page navigated from")&&this.eventQ.add("page navigated from",null,[i.rtPage()]),i.onNavigatedFrom.handlers&&this.queueLocalEvent(i.onNavigatedFrom),this.host.notifyPagePop(i),this.applyPageAttributes(),n.isAuto()?this.forcePageRefresh():n.render(this.host),!0},g.prototype.getPageAt=function(e){return 0==e?this.getCurrentPage():this.pageStack[e]},g.prototype.initPageStack=function(){var e=new TDev.WallPage(this,!1);this.pageStack=[e];var t=this.getWall();t&&t.setChildren([e.getElement()]),this.sessions.scriptRestarted(),this.resetRender()},g.prototype.refreshPageStackForNewScript=function(){this.pageStack.forEach(function(e){return e.refreshForNewScript()})},g.prototype.getCurrentPage=function(){return this.pageStack?this.pageStack.peek():new TDev.WallPage(this,!1)},g.prototype.onCssPage=function(){if(!this.pageStack)return!1;var e=this.pageStack.peek();return!!e&&e.csslayout},g.prototype.addPageButton=function(e){this.forceNonRender("You may not add a page button here"),this.getCurrentPage().buttons.push(e),this.host.notifyPageButtonUpdate(),this.addTapEvent(e.getElement(),"Page Button",null,e)},g.prototype.clearPageButtons=function(){this.forceNonRender("You may not remove a page button here"),this.getCurrentPage().buttons=[],this.host.notifyPageButtonUpdate()},g.prototype.getPageButtons=function(){return this.getCurrentPage().buttons},g.prototype.applyPageAttributes=function(e){void 0===e&&(e=!1);var t=this.getCurrentPage();this.host.applyPageAttributes(t),e&&!t.isAuto()&&t.render(this.host)},g.prototype.postAutoPage=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this.eventQ.add("page",null,e)},g.prototype.forceNonRender=function(e){void 0===e&&(e="You may not perform this operation here"),this.rendermode&&TDev.Util.userError(e+". Only side-effect-free operations are allowed in page display code.")},g.prototype.mkLibObject=function(e,t){var n=new(this.getLibRecordSingleton(e,t).entryCtor)(this);return n.on_render_heap=this.rendermode,n},g.prototype.getLibRecordSingleton=function(e,t){var n=this.current.libs[e+"$lib"];n&&(e=n);var i=this.datas[e];return(0,this.compiled.libScripts[e].objectSingletons[t])(i)},g.prototype.logDataWrite=function(e){void 0===e&&(e=!1),e||this.forceNonRender("You may not modify global variables here"),this.inQuery&&this.forceNonRender("You may not change data in a query function"),this.forcePageRefresh()},g.prototype.logObjectMutation=function(e){e?(e.versioncounter++,e.on_render_heap||(this.forcePageRefresh(),this.forceNonRender())):(this.forceNonRender(),this.forcePageRefresh())},g.prototype.forcePageRefresh=function(){TDev.Browser.isNodeJS||this.eventQ&&this.eventQ.queuePageUpdate()},g.prototype.yield_when_possible=function(){this.eventQ&&this.eventQ.queueYield()},g.prototype.yield_now=function(){var e=this.sessions.yieldSession();this.eventQ&&this.eventQ.finishYield(e,this.eventEnabled("cloud data updated"))},g.prototype.registerTimeDependency=function(){this.rendermode&&this.eventQ&&this.eventQ.registerTimeDependency()},g.prototype.canPause=function(){return this.pageStack&&this.pageStack.length&&this.pageStack[this.pageStack.length-1].isAuto()},g.prototype.canResume=function(){return this.canPause()&&this.resumeAllowed},g.prototype.liveViewSupported=function(){return this.canResume()&&this.getCurrentPage().isAuto()},g.prototype.enter_render=function(){this.rendermode=!0,TDev.LayoutMgr.SetRenderExecutionMode(!0);var e=this.getCurrentPage();e.startrender(),TDev.LayoutMgr.setCurrentRenderBox(e.getCurrentBox()),TDev.Util.log("Enter Render Mode")},g.prototype.leave_render=function(){TDev.Util.log("Leave Render Mode"),this.render(),TDev.LayoutMgr.SetRenderExecutionMode(!1),this.rendermode=!1,this.eventQ&&this.eventQ.finishPageUpdate()},g.prototype.abortRender=function(){TDev.LayoutMgr.SetRenderExecutionMode(!1),this.rendermode=!1,this.getCurrentPage().clear(),this.host.setFullScreenElement(void 0)},g.prototype.resetRender=function(){TDev.LayoutMgr.SetRenderExecutionMode(!1),this.rendermode=!1,this.host.setFullScreenElement(void 0)},g.prototype.markAllocated=function(e){this.rendermode&&e&&(e.on_render_heap=!0)},g.prototype.getCurrentBoxBase=function(e){return void 0===e&&(e=!1),this.rendermode?TDev.LayoutMgr.getCurrentRenderBox():(e||TDev.Util.userError(TDev.lf("'box' can only be accessed in page display code")),this.getCurrentPage().getCurrentBox())},g.prototype.getCurrentBox=function(){var e=this.getCurrentBoxBase();return e instanceof TDev.WallBox||TDev.Util.userError(TDev.lf("'box' cannot be accessed in HTML layout mode")),e},g.prototype.getCurrentHtmlBox=function(){var e=this.getCurrentBoxBase();return e instanceof TDev.HtmlBox||TDev.Util.userError(TDev.lf("'html' can only be accessed in HTML layout mode")),e},g.prototype.render=function(e){void 0===e&&(e=0),TDev.Util.assertCode(0<=e),this.getCurrentPage().render(this.host,e)},g.prototype.renderBox=function(e){var t=this.getCurrentPage();if((t.crashed||!t.isAuto())&&1===e.getDepth()){var n=0,i=e.parent;TDev.Util.assert(i instanceof TDev.WallBox),i.size()>g.maxBoxLength&&(i.shift(),n++),this.render(n)}},g.prototype.postBoxedHtml=function(e,t,n){void 0===n&&(n=null),this.mayPostToWall(this.getCurrentPage())||TDev.Util.userError(TDev.lf("cannot post to the wall here"));var i=TDev.WallBox.CreateOrRecycleLeafBox(this,n);return i.setContent(e),this.renderBox(i),i},g.prototype.postBoxedTextWithTap=function(e,t,n){this.mayPostToWall(this.getCurrentPage())||TDev.Util.userError(TDev.lf("cannot post to the wall here"));var i=TDev.WallBox.CreateOrRecycleLeafBox(this,t);if(!i.getContent()){var r;switch(i.setContent(e),this.renderBox(i),typeof t){case"boolean":r="Bool";break;case"string":r="String";break;case"number":r="Number";break;default:r=t.rtType()}i instanceof TDev.WallBox&&this.addTapEvent(i.getContent(),r,i,t)}return i},g.prototype.postBoxedText=function(e,t){this.mayPostToWall(this.getCurrentPage())||TDev.Util.userError(TDev.lf("cannot post to the wall here"));var n=TDev.WallBox.CreateOrRecycleLeafBox(this,e);return n.getContent()||(n.setContent(e),this.renderBox(n)),n},g.prototype.postUnboxedText=function(e,t){this.mayPostToWall(this.getCurrentPage())||TDev.Util.userError(TDev.lf("cannot post to the wall here"));var n=TDev.WallBox.CreateOrRecycleLeafBox(this,e);return n.getContent()||(n.setContent(TDev.text(e)),this.renderBox(n)),n},g.prototype.postEditableText=function(e,t,n,i){this.mayPostToWall(this.getCurrentPage())||TDev.Util.userError(TDev.lf("cannot post to the wall here"));var r=TDev.WallBox.CreateOrRecycleLeafBox(this,e);if(r.getContent())r.textarea="textarea"===e,r.bindEditableText(t,n,i);else{if("textarea"===e){r.textarea=!0;var o=TDev.HTML.mkTextArea();o.id="i"+r.getId(),r.setContent(o)}else{r.textarea=!1,e=g.inputboxstylemap[e]||"text";var a=TDev.HTML.mkTextInput(e,TDev.lf("edit"));a.id="i"+r.getId(),r.setContent(a)}r.bindEditableText(t,n,i),this.renderBox(r)}return r},g.prototype.nextHitCount=function(e){return 200<=e?Math.round(200+50*Math.random()):Math.round(e*(Math.random()+1)+2)},g.prototype.isHeadless=function(){return this.host&&this.host.isHeadless()},g.prototype.restartAfterException=function(){this.current=null,this.asyncStack=[],this.setState(3,"restart after exception"),this.queueRestart()},g.prototype.stopAsync=function(e){var t=this;void 0===e&&(e=!1);var n=TDev.Promise.as();if(this.isHeadless()||TDev.HistoryMgr.instance.clearModalStack(),0!=this.state){if(this.setState(0,"stopAsync"),e||(this.versionNumber++,this.eventQ&&this.eventQ.clear()),this.eventExecuting=!1,this.resumeAllowed=e,this.headlessPluginMode&&TDev.ProgressOverlay.hide(),this.asyncStack=[],this.asyncTasks=[],this.compiled.stopFn(this),!e&&!this.resumeAllowed&&!this.handlingException){var i=this.compiled._getProfilingResults();this.host.attachProfilingInfo(i);var r=this.getRunMap();r&&this.host.attachCoverageInfo({compilerversion:this.compiled._compilerVersion,astnodes:r.toJSON()},this.compiled._showCoverage)}this.resumeAllowed||(this.killDisposables(),this.killTempState()),n=(n=this.host.notifyStopAsync()).then(function(){return t.sessions.stopAsync()})}return n},g.prototype.stopAndHideAsync=function(){var e=this.stopAsync();return this.host.notifyHideWall(),e},g.prototype.isStopped=function(){return 0==this.state},g.prototype.queueEvent=function(e,t,n,i){void 0===i&&(i=!0),null!=this.eventQ&&this.eventQ.add(e,t,n,i)},g.prototype.queueBoardEvent=function(e,t,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!1),null!=this.eventQ&&this.eventQ.addBoardEvent(e,t,n,i,r)},g.prototype.queueLocalEvent=function(e,t,n,i,r){void 0===t&&(t=[]),void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===r&&(r=void 0),null!=this.eventQ&&this.eventQ.addLocalEvent(e,t,n,i,r)},g.prototype.queueAsyncEvent=function(e){this.asyncTasks.push(e),this.queueRestart()},g.prototype.queueRestart=function(){var t=this;this.restartQueued||3!=this.state||(this.restartQueued=!0,TDev.Util.setTimeout(0,function(){if(t.restartQueued=!1,3==t.state){var e=t.pumpEventsCore();e&&t.mainLoop(e,"queue restart")}}))},g.prototype.eventEnabled=function(e){return null!=this.eventQ&&!!this.eventQ.eventsByCategory[e]},g.prototype.enterAsync=function(n,e){var i=this;return this.current.continueAt=e.returnAddr,this.asyncStack.push(this.current),e.asyncTask=n,e.returnAddr=function(e){var t=e.rt.returnedFrom;return n.resume(t.results||t.result),i.setState(3,"enterAsync stop"),null},this.enter(e)},g.prototype.isTopScriptFrame=function(e){return e.libs.scriptId===e.libs.topScriptId},g.prototype.getTopScriptPc=function(){return this.current?!this.rendermode||this.isTopScriptFrame(this.current)?this.current.pc:this.last_topscript_pc:""},g.prototype.enter=function(e){return(this.current=e).previous&&(this.rendermode&&e.previous.isLibProxy&&this.isTopScriptFrame(e.previous.previous)&&(this.last_topscript_pc=e.previous.previous.pc,e.previous.previous.libs),e.stackDepth=e.previous.stackDepth+1,1e3<e.stackDepth&&TDev.Util.userError("stack overflow")),e.entryAddr},g.prototype.leave=function(){var e=this.current;this.current=e.previous,this.current.isLibProxy&&(this.current=this.current.previous),e.serverRequest&&e.serverRequest.response().sendNow();var t=(this.returnedFrom=e).returnAddr;return e.returnAddr=g.pumpEvents,t},g.toRestArgument=function(t,e){if(void 0===t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t;if(t.exportJson)try{var n=new TDev.JsonExportCtx(e),i=t;return n.push(i),t=t.exportJson(n),n.pop(i),t}catch(e){TDev.Util.userError("JSON export failed on "+t.toString())}else TDev.Util.userError("unsupported value in JSON cloud call: "+t.toString())},g.prototype.getRuntimeType=function(e,t){var n,i=this.datas[e];return Object.keys(i).forEach(function(e){i[e].name===t&&(n=i[e])}),n},g.stringToBoolean=function(e){return!!e&&!/^(false|no|0)$/i.test(e)},g.fromRestArgument=function(e,t,n){var i=n.d["$"+t];if(void 0!==i)return i.fromRest(e);var r=t.indexOf("→");if(-1!==r){var o=t.slice(0,r),a=t.slice(r+1);if(-1!==o.indexOf("Collection of")){o=o.slice(14);var s=n.rt.getRuntimeType(o,a);return TDev.RT.Collection.fromArray(e.map(function(e){return s.fromRest(e)}),s)}return n.rt.getRuntimeType(o,a).fromRest(e)}switch(t){case"Number":return parseFloat(e);case"String":return e+"";case"Boolean":return g.stringToBoolean(e);case"Json Object":return RT.JsonObject.wrap(e);case"Json Builder":return"object"==typeof e?RT.JsonBuilder.wrap(TDev.Util.jsonClone(e)):void 0;default:return void TDev.RT.App.logEvent(TDev.RT.App.WARNING,"rest",TDev.lf("unsupported type {0}",t),void 0)}},g.prototype.callServiceOffline=function(t,e,n,i,r,o,a,s,c,l){for(var u=[],d=10;d<arguments.length;d++)u[d-10]=arguments[d];var p=c.libs[i][r](c),h=l;if(this.rendermode&&!t&&this.forceNonRender('Can not call a cloud function that is not "read-only" in display code'),!this.inCloudCall&&!this.host.isServer){for(var m={},f=0;f<u.length;f++)m[o[f]]=g.toRestArgument(u[f],c);c.rt.startCloudCall(n,r,o,a,m,t),h=function(e){return e.rt.endCloudCall(n,r,o,a,m,t),l}}return p.invoke.apply(p,[p,h].concat(u))},g.prototype.queryServiceAsync=function(e,t,n){void 0===n&&(n="");var i={"Content-type":"application/json;charset=UTF-8"};return this.authAccessToken&&(i.Authorization="Bearer "+this.authAccessToken),n||(n=this.compiled.azureSite),TDev.Util.httpRequestAsync(n+"-tdevrpc-/"+e,"POST",JSON.stringify(t),i).then(function(e){return e?JSON.parse(e):{}})},g.prototype.callService=function(e,r,o,t,a,s,c,l,u,n){for(var d=this,p=[],i=10;i<arguments.length;i++)p[i-10]=arguments[i];return{previous:u,returnAddr:n,d:u.d,rt:this,libs:u.libs,entryAddr:function(n){d.rendermode&&d.forceNonRender('Can not call a remote cloud function in display code (only "offline available" "read-only" are allowed)');for(var i=d.getAwaitResumeCtx(function(e){return e.rt.leave()}),e={},t=0;t<p.length;t++)e[s[t]]=g.toRestArgument(p[t],u);d.queryServiceAsync(encodeURIComponent(o)+"/"+encodeURIComponent(a),e,r).done(function(t){var e=c.map(function(e){return t[e]});1==(e=e.map(function(e,t){return g.fromRestArgument(e,l[t],n)})).length?n.result=e[0]:n.results=e,i.resume()},function(e){TDev.Runtime.theRuntime.handleException(e,n)})},name:a}},g.prototype.pickParameters=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=r.map(function(e){return[TDev.div("picker-name",e.userName+":"),TDev.div("picker-input",e.html)]}),o=this.getAwaitResumeCtx(e);i.push(TDev.div("wall-dialog-buttons",TDev.HTML.mkButton(TDev.lf("ok"),function(){var n=!0,i=t.current;r.forEach(function(e){var t=e.validate();n=n&&t,e.html.setFlag("invalid",!t),t&&(i[e.quotedName]=e.get())}),n&&o.resume()}))),this.postHtml(TDev.div("picker-form",i),"")},g.prototype.displayResult=function(t,e){var n=this,i=TDev.div("picker-form"),r=this.current.pc,o=new TDev.WallBox(this,this.getCurrentBoxBase(!0),r);o.setContent(i),this.getCurrentPage().setCurrentBox(o);var a=function(e){n.postHtml(TDev.div("picker-name",t+":"),r),n.postHtml(TDev.div("picker-input",e),r)};try{switch(typeof e){case"string":a(e);break;case"number":a(e+"");break;case"boolean":a(e?"True":"False");break;case"undefined":a("[invalid]");break;default:null===e?a("[null]"):e.postResult?e.postResult(this.current):(this.postText(t+":",r),e.post_to_wall(this.current))}}finally{this.getCurrentPage().setCurrentBox(o.parent)}o.forEachChild(function(e){i.appendChild(e.getContent())}),this.renderBox(o)},g.prototype.setState=function(e,t){0!=this.state&&0!=e||TDev.Util.log("runtime state: {0} -> {1}, {2}",this.state,e,t),this.state=e,this.stateMsg=t},g.prototype.getResumeCtxCore=function(e,t){TDev.Util.assert(1==this.state),e?this.setState(2,"getBlockingResumeCtx"):this.setState(3,"getAwaitResumeCtx"),this.current.continueAt=t;var n=new ResumeCtx(this.current);return n.isBlocking=e,n.versionNumber=this.versionNumber,n},g.prototype.getBlockingResumeCtx=function(e){return this.getResumeCtxCore(!0,e)},g.prototype.getAwaitResumeCtx=function(e){return this.rendermode&&TDev.Util.userError("non-atomic APIs cannot be called in page display code"),this.getResumeCtxCore(!1,e)},g.prototype.getAsyncResumeCtx=function(){TDev.Util.assert(1==this.state),this.rendermode&&TDev.Util.userError("'async' cannot be used in page display code");var e=new RT.Task,t=new RT.TaskResumeCtx(e,this.current);return t.versionNumber=this.versionNumber,t},g.prototype.mkActionTask=function(){return new RT.Task},g.prototype._resumeVal=function(e,t){var n=this,i=t.stackframe;t.versionNumber==this.versionNumber&&(2==this.state?t.isBlocking?(this._resumeValCore(e,i),this.mainLoop(i.continueAt,"_resumeValBlocking")):this.queueAsyncEvent(function(){return n.continueStackFrame(e,i)}):3==this.state?(TDev.Util.assert(!t.isBlocking,"blocking await"),this._resumeValCore(e,i),this.mainLoop(i.continueAt,"_resumeValAwait")):TDev.Util.oops("wrong resume state: "+this.state))},g.prototype.continueStackFrame=function(e,t){return this._resumeValCore(e,t),t.continueAt},g.prototype._resumeValCore=function(e,t){void 0!==(this.current=t).rendermode&&(this.rendermode=t.rendermode),t.pauseValue=e},g.prototype.initFrom=function(e){(this.compiled=e).authorId&&(this.currentAuthorId=e.authorId),e.scriptId&&(this.currentScriptId=this.baseScriptId=e.scriptId),e.initPages(),EventQueue.init(this),this.sessions.scriptStarted(e.authorId)},g.prototype.nextAsyncTask=function(){if(0<this.asyncStack.length){this.current.asyncTask&&(this.current.isDetached=!0);var e=this.asyncStack.pop();return this.current=e,this.setState(1,"async stack"),e.continueAt}if(0<this.asyncTasks.length){var t=this.asyncTasks.shift();return this.setState(1,"async task"),t()}return null},g.prototype.runInlineJavascript=function(e){e()},g.prototype.wrap=function(t,e){if(this.isStopped())return function(){};t||(t=this.current);var n=t.rt;return TDev.Util.assert(n==this),function(){try{if(n.isStopped())return;(g.theRuntime=n).current=t,e.apply(this,arguments)}catch(e){throw e.tdStackFrame=t,e}}},g.prototype.pumpEventsCore=function(){this.yield_now(),TDev.Util.assert(!this.isStopped(),"pump-stopped");var e=this.nextAsyncTask();if(e)return e;if(null==this.eventQ)return this.stopAsync().done(),null;if(this.eventExecuting)return this.setState(3,"event executing"),null;var t=this.eventQ.maybeRunPageRefresh();return t||(t=this.eventQ.process()),!t&&this.host.dontWaitForEvents()?this.stopAsync(!0).done():t?this.setState(1,"got event"):this.liveMode()?this.stopAsync(!0).done():this.headlessPluginMode?this.stopAsync().done():this.setState(3,"no event"),t},g.pumpEvents=function(e){return e.rt.eventExecuting=!1,e.rt.pumpEventsCore()},g.prototype.pauseExecution=function(){this.queueEvent("pause",null,[])},g.prototype.resumeExecution=function(e){if(void 0===e&&(e=!1),this.eventQ.clearPause(),0==this.state&&this.resumeAllowed){this.refreshPageStackForNewScript(),this.eventQ.clear(),this.liveMode()||this.getWall().setChildrenIfNeeded(this.pageStack.map(function(e){return e.getElement()}));try{this.eventQ.blockEvents=!1,this.logDataWrite(),this.eventQ.blockEvents=e;var t=new StackBottom(this);t.entryAddr=g.pumpEvents,t.returnAddr=g.pumpEvents;var n=this.enter(t);this.mainLoop(n,"resume execution")}catch(e){this.handleException(e,this.current)}}},g.mkStackFrame=function(e,t){return{previous:e,prevPC:e.pc,d:e.d,rt:e.rt,libs:e.libs,returnAddr:t}},g.syntheticFrame=function(i){return function(e,t){var n=g.mkStackFrame(e,t);return n.name="__synthetic",n.entryAddr=function(e){return e.rt.forcePageRefresh(),i(e),e.rt.leave()},n}},g.prototype.getActionFrame=function(e,t,n){void 0===n&&(n=!0);var i,r=new StackBottom(this);return null==t&&(r.needsPicker=!0,t=[]),n&&(this.eventExecuting=!0),i=0==t.length?e(r,g.pumpEvents):e.apply(null,[r,g.pumpEvents].concat(t)),this.resetNextEvent(),this.enter(i)},g.prototype.queueEventCallback=function(n){var e=new RT.Event_;e.addHandler(new RT.PseudoAction(function(e,t){n(e,t)})),this.queueLocalEvent(e)},g.prototype.getEventFrame=function(e,t,n){void 0===n&&(n=!0);try{return 1!=this.state&&(TDev.Util.assert(3==this.state),this.setState(1,"getEventFrame dispatch")),this.getActionFrame(e,t,n)}catch(e){return function(){throw e}}},g.handleUserError=function(e){var t=g.theRuntime;return!(!t||0==t.state||t.handlingException||!e.isUserError)&&(t.handleException(e,t.current),!0)},g.stopPendingScriptsAsync=function(){return g.theRuntime&&0!=g.theRuntime.state?g.theRuntime.stopAsync():TDev.Promise.as()},g.prototype.rerunAsync=function(){var e=this;return this.stopAsync().then(function(){TDev.Util.assert(e.isStopped(),"rerun-isStopped"),e.initPageStack(),e.run(e.startMk,e.startArgs)})},g.prototype.run=function(i,r){var o=this;TDev.Util.assert(this.isStopped(),"run-isStopped"),this.startMk=i,this.startArgs=r,this.tutorialState=null,g.stopPendingScriptsAsync().done(function(){(g.theRuntime=o).eventQ&&(o.eventQ.blockEvents=!1),o.resetRunMap(),o.killTempState(),TDev.ProgressOverlay.setMessage("loading..."),RT.ArtCache.resetProgress(),o.initDataAsync().done(function(){try{if(o.headlessPluginMode?(TDev.ProgressOverlay.setMessage("running..."),TDev.ProgressOverlay.unblockKeyboard(),TDev.ProgressOverlay.showLog()):TDev.ProgressOverlay.hide(),!o.isStopped())return;o.host.agreeTermsOfUseAsync().done(function(){try{var e=o.getActionFrame(i,r);if(o.validatorAction){var t=o.current.libs.tutorialLib[o.validatorAction];t||TDev.Util.userError(TDev.lf("problem with tutorial: validator function '{0}' not found",o.validatorAction));var n=t(o.current);o.tutorialObject=n.libs.topScriptId,/norun/i.test(o.validatorActionFlags)&&(e=g.pumpEvents),e=o.enter(n.invoke(n,e,o.editorObj))}o.mainLoop(e,"Runtime.run")}catch(e){o.handleException(e,o.current)}})}catch(e){o.handleException(e,o.current)}},function(e){o.handleException(e,null)})})},g.prototype.resyncData=function(){this.datas={}},g.prototype.initDataAsync=function(){var e=this;this.compiled.startFn(this);var t=this.sessions.ensureSessionLoaded().thenalways(function(){e.sessions.yieldSession()});return this.compiled.initGlobals(this.datas,this),TDev.Promise.join([this.compiled.initArtAsync(this.datas),t])},g.prototype.addDisposableHandler=function(e){var t=new RT.DisposableHandler(e);return this.disposables.push(t),t},g.prototype.killDisposables=function(){this.disposables.forEach(function(e){try{e.dispose()}catch(e){TDev.Util.reportError("",e,!1)}}),this.disposables=[]},g.prototype.killTempState=function(){this.renderedComments="",this._libinitDone=!1,this.sessions.unlink(),this.compiled.resetData(this.datas)},g.prototype.resetData=function(){0==this.state&&this.resumeAllowed&&(this.resumeAllowed=!1,this.killTempState(),this.initPageStack(),this.host.notifyRunState())},g.prototype.quietlyHandleError=function(i,e){var r=this;try{this.augmentException(i)}catch(e){}var o=!1,a=!!e;for(e||(e=i.tdStackFrame);e;e=e.previous){if(e.isDetached){e.asyncTask.setException(i);break}e.errorHandler&&function(){o=!0;var t=e,n=e.errorHandler;e.errorHandler=null,TDev.Util.setTimeout(0,function(){try{var e=i.tdIsSecondary;i.tdIsSecondary=a,n(i,t),i.tdIsSecondary=e}catch(e){r.host.exceptionHandler(e)}})}()}return o},g.prototype.augmentException=function(e){if("object"==typeof e){var t=this.current;e.tdStackFrame&&(t=e.tdStackFrame);var n=e.stack;if(t&&void 0!==n&&!e.tdStack){e.tdStack=this.getStackTrace(t,!0),e.tdMeta||(e.tdMeta={}),t&&new RT.AppLogger("dummy").setMetaFromContext(e.tdMeta,t);var i=TDev.StackUtil.compress(e.tdStack);if(i&&(i="StK"+i,e.tdMeta.compressedStack=i),i){n=(n=(n=(e.tdMeta.originalStack=n).replace(/^\s*at a_\S+\$\d[^]*/m,"")).replace(/((compiled|noderuntime).js):\d+:\d+/g,function(e,t){return t+":1:1"})).replace(/^\s*at /m,function(e){return e+i+" (td.js:42:42)\n"+e});try{e.stack=n}catch(e){}}e.tdMeta.reportId||(e.tdMeta.reportId=TDev.Ticker.mkReportId())}}},g.prototype.handleException=function(e,t){e.tdStackFrame||(e.tdStackFrame=t);var n=this.quietlyHandleError(e);this.handlingException=!0,n||(this.compiled.extractAllRunMaps(this),this.host.exceptionHandler(e)),this.stopAsync().done()},g.prototype.getStackTrace=function(e,t){void 0===t&&(t=!1);for(var n=[],i=e||this.current;i;i=i.previous){var r;r=t?{pc:i.pc,prevPC:i.prevPC,name:i.name,d:{libName:i.d?i.d.libName:void 0}}:TDev.Util.flatClone(i),n.push(r)}return n.forEach(function(e,t){e.prevPC&&n[t+1]&&(n[t+1].pc=e.prevPC)}),n},g.prototype.getRunMap=function(){return this.runMap.clear(),this.compiled.extractAllRunMaps(this)?this.runMap:void 0},g.prototype.saveComment=function(e){this.renderedComments+=e},g.prototype.wrapFromHandler=function(e){var t=this.state,n=this.current;this.current=new StackBottom(this),this.setState(1,"runUserAction from handler");try{e(),this.setState(t,"runUserAction from handler restore"),this.current=n}catch(e){this.handleException(e,this.current)}},g.prototype.runUserAction=function(e,t){var n=this;t.unshift(function(e){return n.state=2,null}),t.unshift(this.current);var i=this.enter(e.apply(null,t));return this.quickLoop(i)},g.prototype.runValidUserAction=function(e,t){var n=this.runUserAction(e,t);return void 0===n&&TDev.Util.userError("user function passed to library returned invalid"),n},g.prototype.quickLoop=function(e){20<this.quickLoopDepth&&TDev.Util.userError("stack overflow (more than 20 runtime/user code switches)"),TDev.Util.assert(1==this.state),this.quickLoopDepth++;var t=this.returnedFrom;this.returnedFrom=null;try{for(;;){var n=e(this.current);if(1!=this.state){if(2==this.state){this.state=1;break}4==this.state&&TDev.Util.userError("breakpoints in library callbacks are not supported"),TDev.Util.oops("wrong state in quick Loop "+this.state)}n||TDev.Util.oops("no newFn: "+e),e=n}}finally{this.quickLoopDepth--}var i=this.returnedFrom?this.returnedFrom.result:void 0;return this.returnedFrom=t,i},g.prototype.mainLoop=function(e,t){var n=this;if(g.continueAfter||(g.continueAfter=TDev.Util.setTimeout),this.handlingException=!1,this.mainLoopRunning)return this.setState(1,"resume point override"),void(this.resumePointOverride=e);var i=this.state;if(this.setState(1,t),0==i&&this.host.notifyRunState(),this.sessions.readyForExecution()){var r=!1,o=0,a=0;this.mainLoopRunning=!0;try{for(;;){var s=e(this.current);if(1!=this.state){if(4==this.state){this.debuggerCC=s;break}if(0==this.state)break;if(this.debuggerCC&&(this.debuggerCC=null,this.host.notifyBreakpointContinue()),3==this.state){if(!(s=this.pumpEventsCore()))break;TDev.Util.check(!this.resumePointOverride),this.resumePointOverride=null}if(1!=this.state)break}if(s||TDev.Util.oops("no newFn: "+e),this.resumePointOverride?(e=this.resumePointOverride,this.resumePointOverride=null):e=s,10<a++){if(Date.now()-this.lastBreak>(TDev.Browser.isNodeJS?1e3:50)){r=!0,o=this.versionNumber;break}a=0}}}catch(e){this.handleException(e,this.current)}if(this.mainLoopRunning=!1,r&&o==this.versionNumber&&0!=this.state){this.setState(2,"continue later");var c=this.versionNumber,l=this.current;g.continueAfter(1,function(){c==n.versionNumber&&(n.lastBreak=Date.now(),n.current=l,n.mainLoop(e,"continue later - run"))})}TDev.Util.assert(1!=this.state)}else this.stopAsync().done()},g.prototype.saveDataAsync=function(){return this.sessions.yieldSession(),TDev.Promise.as()},g.prototype.getRestRequest=function(){for(var e=this.current;e&&!e.serverRequest;)e=e.previous;return e?e.serverRequest:void 0},g.prototype.getRestArgument=function(e,t,n){return this.getRestRequest().getRestArgument(e,t,n)},g.prototype.runLibInits=function(n,i){var r=this;if(!this._libinitDone){var o=this.current;this._libinitDone=!0;var a=function(e){if(e>=n.length)return i(o);var t=r.compiled.libs[n[e]]._libinit(o);return r.enter(t.invoke(t,function(){return a(e+1)}))};return a(0)}},g.shellVersion=41,g.maxBoxLength=1e3,g.lockOrientation=function(){},g.legalNotice="",g.companyCopyright="Microsoft",g.appName="TouchDevelop",g.notificationIcon="https://www.touchdevelop.com/images/touchdevelop114x114.png",g.accelerometerTiltBooster=1,g.inputboxstylemap={textline:"text",password:"password",number:"number"},g}();TDev.Runtime=Runtime;var EventHandlerDesc=function(e,t){this.varId=e,this.entry=t};TDev.EventHandlerDesc=EventHandlerDesc;var EventEntry=function(){function e(e,t,n){this.binding=e,this.args=t,this.isLast=n,this.category="local",this.done=!1}return e.prototype.isPageEvent=function(){return this.binding._event.isPageEvent},e.prototype.dispatch=function(e,t){if(this.done)return null;this.done=!0;var n=this.binding._event;n.pendinghandlers--,this.binding.inQueue=!1;var i=this.binding._handler;if(!i)return null;if(i instanceof RT.PseudoAction)return i.run(e,this.args),null;var r=e.getEventFrame(i,this.args,n.isBlocking);if(e.current){if(e.current.currentHandler=this.binding,n.finalCallback){var o=n.finalCallback;n.finalCallback=null,e.current.returnAddr=function(e){return o(e),Runtime.pumpEvents(e)}}n.errorHandler&&(e.current.errorHandler=n.errorHandler)}return r},e.prototype.clear=function(){this.binding._event.pendinghandlers=0},e.prototype.isPause=function(){return!1},e.prototype.isGameLoop=function(){return!1},e}();TDev.EventEntry=EventEntry;var GlobalEventEntry=function(){function e(e,t,n,i){void 0===i&&(i=0),this.category=e,this.varValue=t,this.args=n,this.idx=i,TDev.Util.assert("local"!=e)}return e.prototype.isPageEvent=function(){return!1},e.prototype.dispatch=function(e,t){if(void 0===this.evts&&(this.evts=t[this.category]),void 0===this.evts)return null;for(;this.idx<this.evts.length;){var n=this.evts[this.idx++],i=this.handlerMatch(n,e);if(i.matches)return e.setNextEvent(this.category,n.varId),e.getEventFrame(n.entry,i.args)}return null},e.prototype.handlerMatch=function(e,t){if(null==e.varId)return{matches:!0,args:this.args};if(0<=this.category.search(/ in /)){var n=t.datas.this[e.varId];if(n){var i=n.index_of_obj(this.varValue);if(0<=i)return{matches:!0,args:[this.varValue,i].concat(this.args)}}}else if(t.datas.this[e.varId]===this.varValue)return{matches:!0,args:this.args};return{matches:!1,args:[]}},e.prototype.isGameLoop=function(){return"gameloop"==this.category&&!this.evts},e.prototype.isPause=function(){return"pause"==this.category&&!this.evts},e.prototype.clear=function(){},e}();TDev.GlobalEventEntry=GlobalEventEntry;var BoardEventEntry=function(){function e(e,t,n,i){this.categories=e,this.valueStack=t,this.args=n,this.matchAll=i,this.category="board"}return e.prototype.dispatch=function(e,t){void 0===this.categoryHandlers&&(this.categoryHandlers=this.categories.map(function(e){return t[e]}));for(var n=0;!this.matchedHandlers&&n<this.valueStack.length;){for(var i=this.valueStack[n++],r=0;r<this.categories.length;){var o=this.categories[r],a=this.categoryHandlers[r++];if(a)for(var s=0;s<a.length;){var c=a[s++],l=this.handlerMatch(c,o,i,e);l.matches&&(this.matchedHandlers||(this.matchedHandlers=[]),this.matchedHandlers.push({category:o,varid:c.varId,handler:c.entry,args:l.args}))}}if(!this.matchAll&&this.matchedHandlers)break}if(this.matchedHandlers&&0<this.matchedHandlers.length){var u=this.matchedHandlers.shift();return e.setNextEvent(u.category,u.varid),e.getEventFrame(u.handler,u.args)}return null},e.prototype.handlerMatch=function(e,t,n,i){var r,o;if(0<=t.search(/ sprite in /)&&((r=i.datas.this[e.varId])&&0<=(o=r.index_of_obj(n))))return{matches:!0,args:[n,o].concat(this.args)};if(0<=t.search(/touch over /)){if((r=i.datas.this[e.varId])&&0<=(o=r.index_of_obj(n)))return{matches:!0,args:[n,o].concat(this.args)}}else if(0<=t.search(/ sprite:/)){if(i.datas.this[e.varId]==n)return{matches:!0,args:[n].concat(this.args)}}else if(i.datas.this[e.varId]===n)return{matches:!0,args:this.args};return{matches:!1,args:[]}},e.prototype.isGameLoop=function(){return!1},e.prototype.isPause=function(){return!1},e.prototype.isPageEvent=function(){return!1},e.prototype.clear=function(){},e}();TDev.BoardEventEntry=BoardEventEntry;var EventQueue=function(){function i(e){this.rt=e,this.queue=[],this.needPageRefresh=!1,this.needYield=!1,this.needCloudstateRefresh=!1,this.eventsByCategory=null,this.hasGameLoop=!1,this.needsGameLoopTimer=!1,this.blockEvents=!1,this.eps=0,this.minimumEps=0,this.maximumEps=0,this.averageEps=0,this.epsHistory=[],this.profiling=!1,this.numPageEvents=0,this.pageIsTimeDependent=!1,this.refreshtimerpending=!1}return i.prototype.add=function(e,t,n,i){if(void 0===i&&(i=!0),!this.blockEvents&&(TDev.Util.assert(!(t instanceof RT.Event_)),void 0!==this.eventsByCategory[e])){var r=new GlobalEventEntry(e,t,n);this.queue.push(r),this.rt.queueRestart()}},i.prototype.addLocalEvent=function(e,t,n,i,r){if(void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===r&&(r=void 0),!this.blockEvents&&e.handlers){for(var o=!1,a=0;a<e.handlers.length;++a){var s=e.handlers[a];if((!r||r(s))&&(!i||!s.inQueue)){var c=new EventEntry(s,t,a==e.handlers.length-1);c.isPageEvent()&&this.numPageEvents++,e.pendinghandlers++,s.inQueue=!0,this.queue.push(c),o=!0}}o&&this.rt.queueRestart()}e.runAwaiters(t)},i.prototype.addBoardEvent=function(e,t,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!1),this.blockEvents||(this.queue.push(new BoardEventEntry(e,t,n,r)),this.rt.queueRestart())},i.prototype.clear=function(){this.queue.forEach(function(e){return e.clear()}),this.queue=[]},i.prototype.clearPause=function(){this.queue=this.queue.filter(function(e){return!e.isPause()})},i.prototype.calculateEpsInfo=function(){if(2<this.epsHistory.length){var e=this.epsHistory.slice(1);e.pop();for(var t=Number.MAX_VALUE,n=0,i=0,r=0;r<e.length;++r)e[r]>n&&(n=e[r]),e[r]<t&&(t=e[r]),i+=e[r];TDev.dbg&&TDev.Util.log("Gameloop Events per Second statistics: minimum "+t+", maximum "+n+", average "+(i/e.length).toFixed(2)+". Ran for "+e.length+"s."),this.minimumEps=t,this.maximumEps=n,this.averageEps=i/e.length,this.epsHistory=[]}},i.prototype.setupGameLoopTimer=function(){var n=this,i=!1,t=function(){var e=n.eps;n.eps=0,i||TDev.Util.setTimeout(1e3,t),0<e&&n.epsHistory.push(e)},r=function(){if(n.rt.isStopped())return n.needsGameLoopTimer=!0,void(i=!0);for(var e=!1,t=0;t<n.queue.length;++t)if(n.queue[t].isGameLoop()){e=!0;break}e||n.add("gameloop",null,[]),TDev.Util.setTimeout(20,r)};this.needsGameLoopTimer=!1,r(),this.profiling&&t()},i.prototype.queuePageUpdate=function(){this.needPageRefresh=!0,this.rt.queueRestart()},i.prototype.viewIsCurrent=function(){return!this.needPageRefresh},i.prototype.registerTimeDependency=function(){this.pageIsTimeDependent=!0},i.prototype.finishPageUpdate=function(){var e=this;this.needPageRefresh=!1,this.pageIsTimeDependent?(this.pageIsTimeDependent=!1,this.refreshtimerpending||(this.refreshtimerpending=!0,TDev.Util.setTimeout(100,function(){e.refreshtimerpending&&(e.refreshtimerpending=!1,e.queuePageUpdate())}))):this.refreshtimerpending=!1},i.prototype.queueYield=function(){this.needYield=!0,this.rt.queueRestart()},i.prototype.finishYield=function(e,t){this.needYield=!1,e&&(t&&this.add("cloud data updated",null,[]),this.queuePageUpdate())},i.prototype.maybeRunPageRefresh=function(){var e=this;if(this.rt.isHeadless())return null;if(!this.needPageRefresh&&!this.needYield)return null;if(0<this.numPageEvents)return null;var t=this.rt.getCurrentPage();return t.isAuto()&&!t.crashed?function(){var n=e.rt.getCurrentPage();return e.rt.getEventFrame(function(e,t){return n.getFrame(e,t)},[])}:(this.needPageRefresh=!1,this.needYield=!1,null)},i.prototype.process=function(){for(this.needsGameLoopTimer&&this.setupGameLoopTimer();0<this.queue.length;){var e=this.queue[0];this.profiling&&this.hasGameLoop&&e.isGameLoop()&&++this.eps;var t=e.dispatch(this.rt,this.eventsByCategory);if(null!=t)return t;this.queue.shift(),e.isPageEvent()&&this.numPageEvents--,TDev.Util.assert(0<=this.numPageEvents)}return null},i.init=function(e){var t=e.compiled,n=new i(e);e.eventQ=n,t.eventsByCategory&&t.eventsByCategory.local||t.registerEventHandler("local",null,null),n.hasGameLoop=t.eventsByCategory&&void 0!==t.eventsByCategory.gameloop,n.eps=0,n.needsGameLoopTimer=n.hasGameLoop,n.eventsByCategory=t.eventsByCategory},i}();TDev.EventQueue=EventQueue;var BreakpointCollection=function(){function e(e){this.cs=e}return e.prototype.init=function(e){var n=this;e.forEach(function(e,t){return n.cs.breakpointBindings[e].setter(!0)})},e.prototype.set=function(e,t){this.cs.breakpointBindings[e].setter(t)},e.prototype.get=function(e){return this.cs.breakpointBindings[e].getter()},e}();TDev.BreakpointCollection=BreakpointCollection;var CompilerOptStatistics=function(e,t,n,i,r,o,a,s,c,l,u,d,p,h){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===c&&(c=0),void 0===l&&(l=0),void 0===u&&(u=0),void 0===d&&(d=0),void 0===p&&(p=0),void 0===h&&(h=0),this.inlinedFunctions=e,this.inlinedCalls=t,this.eliminatedOks=n,this.termsReused=i,this.constantsPropagated=r,this.reachingDefsTime=o,this.inlineAnalysisTime=a,this.dominatorsTime=s,this.usedAnalysisTime=c,this.availableExpressionsTime=l,this.constantPropagationTime=u,this.compileTime=d,this.numActions=p,this.numStatements=h};TDev.CompilerOptStatistics=CompilerOptStatistics;var CompiledScript=function(){function CompiledScript(){this.steps=[],this.actionsByName={},this.actionsByStableName={},this.pagesByName={},this.eventsByCategory=null,this.reflectionInfo={},this.artInitializers=[],this.artPromises=[],this.missingApis=[],this.globals=[],this.packageResources=[],this.imports={npmModules:{},cordovaPlugins:{},pipPackages:{}},this.scriptTitle="",this.scriptColor="",this.showAd=!1,this.startFn=function(e){},this.stopFn=function(e){},this.setupRestRoutes=function(e){},this.extractRunMap=void 0,this._resetGlobals=function(e){},this._initGlobals=function(e,t){},this._initGlobals2=function(e){},this._importJson=function(e,t,n){},this._exportJson=function(e,t){},this._getProfilingResults=function(){return null},this._showCoverage=!1,this.breakpointBindings={},this.initBreakpoints=null,this.localNamesBindings={},this.optStatistics=new CompilerOptStatistics,this.libScripts={this:this},this.breakpoints=new BreakpointCollection(this)}return CompiledScript.prototype.forEachLib=function(t){var n=this;Object.keys(this.libScripts).forEach(function(e){t(n.libScripts[e])})},CompiledScript.prototype.extractAllRunMaps=function(n){var i=this,r=!0;return Object.keys(this.libScripts).forEach(function(e){var t=i.libScripts[e].extractRunMap;t?t(n):r=!1}),r},CompiledScript.prototype.registerAction=function(e,t,n,i){this.actionsByName[e]=n,this.actionsByStableName[t]=n,i&&!this.eventsByCategory&&this.registerEventHandler("async",null,null)},CompiledScript.prototype.initPages=function(){var t=this;Object.keys(this.libScripts).some(function(e){return 0<Object.keys(t.libScripts[e].pagesByName).length})&&this.registerEventHandler("page",null,function(e,t,n,i){for(var r=[],o=4;o<arguments.length;o++)r[o-4]=arguments[o];var a=e.rt.pushPage(!0);return a.libName=n,a.pageName=i,a.drawArgs=r,a.getFrame(e,t)})},CompiledScript.prototype.getCompiledCode=function(){return null},CompiledScript.prototype.initFromPrecompiled=function(i){var r=this;void 0===i&&(i=null),i||(i=TDev.precompiledScript),Object.keys(i).forEach(function(e){if("this"!=e){var t=i[e],n=r;"string"==typeof t?n=r.libScripts[t]:t(n=new CompiledScript),r.registerLibRef(e,n)}}),i.this(this)},CompiledScript.prototype.registerPage=function(e,t,n){this.actionsByName[e]=n,this.actionsByStableName[t]=n,this.pagesByName[e]=n},CompiledScript.prototype.registerLambda=function(e,t,n){this.actionsByName[e]=n,this.actionsByStableName[t]=n},CompiledScript.prototype.forEachData=function(t,n){var i=this,r=[];return Object.keys(this.libScripts).forEach(function(e){t[e]||(t[e]={}),t[e].libName=e,r.push(n(t[e],i.libScripts[e],e))}),r},CompiledScript.prototype.resetData=function(e){this.forEachData(e,function(e,t){t._resetGlobals(e)})},CompiledScript.prototype.initGlobals=function(e,n){this.forEachData(e,function(e,t){t._initGlobals(e,n),t._initGlobals2(e)})},CompiledScript.prototype.registerArtResource=function(i,r,t){var o=this;this.artInitializers.push(function(n){if(!n[r]){var e=TDev.RT[i].fromArtUrl;e&&o.artPromises.push(e(t).then(function(e){if(void 0===e)switch(i){case"Picture":e=TDev.RT.Picture.fromArtUrl("data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAW7SURBVHhe7ZxbTBxVGMc/7gssdGG5LSIUC6UKTQu1Rg19EDVqmja2SWNTo1HTxMTESLw90PhkUk29PZgYo6kPTXyqDbGJPhgDKW1tLRWsWhrFyp0F2kUuy7VcnG/2bGcG+sAuifufM+eXbPg+CAT2x3fmfDPnnLji423LpIAhXnxUgKCEgKGEgKGEgKGEgKGEgKGEgKGEgKGEgKGEgKGEgKGEgKGEgKGEgKGEgKGEgOFoIdmuxNuv9ESMt8KxQg5X5lL7oa3669LBKirzuMRXYosjhTyQ76aGnXeJjOjopQG6cnNaZLHFcUKK3Mn05WOllBAfp+c/9IzRVx039BgBRwlJ0Bx89kgpeVIS9bx/cp7eONurxyg4SsjLW/NpW26aHi8tL9Ob53poYn5Rz1FwjJCKLBe9tr1AZERf/xmgC/6gyHBwhBAeqj6oLSGXmNoOBOfp2OVBPUbDEUL2bcq+PVQxH7f54YaqMNILSdWq4q0dhSIj6p6Yo8broyLDQ3ohz9+bQwXpSSIj+vTXIVoEXjwrtRCuDp5ZhUGvDkZqIXvvySKvK9RzMMevjkBXByO1kGcrckRENL2wRN9e/1dkuEgrpNKbaplZfd81RuOgMyszcEKe2uihLx4tpVO7y+mZzV7x2cg5UGb93pOdARFhAyXkUIWXPq8rpSdKPHR/vpuO1RZTfbXRXUfC4yUbREQUmF2gi0N4XfmdgBLyYmWeiAwORlEl5R6Xflc3THPfhIjwgRJinhGFcScliGjtPKlVmJmmvnER4QMlpKV/9X9y63DkQ01tYYaIiOYWl6jpDj8XFSghR1sH6MyA8eZ1BGboyE99IlsbyfFxVJ1nzK7aR6ZpRpvy2gXIXbh5qYmUk5pEf43N0sJSZL9ejTbVbdxTITKiE9du0jsXIpMaS6AqJMzIzAJ1jM5ELIOpyjGqg7nonxSRPYAUsh6qc9NFFIKrzE5IJ2RzlrGcZ1LrzDuVkNhSkpEiIqJRrSG0G1IJ4RlWRrLRt3RPzonIPkglxGd6EMX4g7dEZB8kE2LcLmHUkBVjvFr/YsY/PS8i+yDdRd3uSCXEnWT9c3jaazekEpKSYP1z5qPo9GONGrLAUELAkEoIP/sww42i3ZBKSPCWVYi5a7cLasgCQyoh/qC1EfSlWTt3OyCVEF7uY8a8yNouyFUhU9abiRszjVvxdkEqIdwI+qeMYWvl3V87IN1F3Txs8QkNdpv6SiekbcQ4AIBvpdTkWZ+xoyOhEOvCOiUkxvwRmBFRiCqvdVkQOtIJ4VUm5tvuD/rcIrIH0glhWgaMxXG8gJtXw9sFOCE7tDG/YWchfbirWN+8Ew0rV7vX3Z0pInyghPAmzW92l+s7Zw+UhzbvvHRfrvjq2mnun6BF08OpuiJj8w46UEJe3V5A8XHWvuGFKIRwL9I6PCUy0lfDr3y8iwrUb+lLW91Zc3MXDd91GztuuR/ZX5YtMmyghJwdXL1S/fdAdCe9newc1bdCh3luS+SVFgughLz7c7++SSdM1/gcNZyPbm8Hb9I5/Y9RJbwIm/eOoAO3YYePUtqSnaqf+vbLcJBm13H0wracNDq919i80/j3KNW39IgME7grHb//V7UqOa8NX+uRwfDBlk2mHbg8iyvJwH5oZY+pxzr4pN0vIq364uP0mRwy0gv5bUWV7N+UDV0l0gthVlbJ6zU+keHhCCFcJSeuGWfzPq1VyUOgNx0dIYR5v3WQhkzP3N97uJhcPKUDwzFCprS+5Ihpv3rphhQ6XLX6bJVY4xghzI+943RK60XC1Ff79F4FCUcJYd4+10tXboRuxyRpF3g+ejwTaMmp44Tw6RCvNHfRyHToelKkTYE/2lWsxwhAnnXyf1CTm077yrJEFjoTBeGQAccKQcVxQxY6SggYSggYSggYSggYSggYSggYSggYSggYSggYSggYSggYSggYSggYSggYSggURP8B901+vZyEn/4AAAAASUVORK5CYII=")._value;break;case"Sound":var t=TDev.Cloud.artUrl("pxiraczt");TDev.Browser.audioWav||(t=TDev.HTML.patchWavToMp4Url(t)),e=TDev.RT.Sound.mk(t)}n[r]=e}))}})},CompiledScript.prototype.registerGlobal=function(e){this.globals.push(e)},CompiledScript.prototype.initArtAsync=function(e){return TDev.Promise.join(this.forEachData(e,function(e,t){return t.initArtCoreAsync(e)}))},CompiledScript.prototype.initArtCoreAsync=function(t){return this.artPromises=[],this.artInitializers.forEach(function(e){e(t)}),TDev.Promise.join(this.artPromises)},CompiledScript.prototype.registerEventHandler=function(e,t,n){null==this.eventsByCategory&&(this.eventsByCategory={});var i=this.eventsByCategory[e];void 0===i&&(i=[],this.eventsByCategory[e]=i),i.push(new EventHandlerDesc(t,n)),this.eventsByCategory.pause||this.registerEventHandler("pause",null,function(e,t){var n={};return n.previous=e,n.rt=e.rt,n.returnAddr=t,n.entryAddr=function(e){return e.rt.stopAsync(!0).done(),null},n}),this.eventsByCategory.async||this.registerEventHandler("async",null,null)},CompiledScript.prototype.registerStep=function(e,t){e.idx=this.steps.length,e.theName=t,this.steps.push(e)},CompiledScript.prototype.registerLibRef=function(e,t){this.libScripts.hasOwnProperty(e)&&TDev.Util.oops("redefinition of libref "+e),this.libScripts[e]=t},CompiledScript.prototype.mkLambdaProxy=function(t,n){return function(e){return new LibProxy(t,e,n,"inline function",null)}},CompiledScript.prototype.mkLibProxyFactory=function(t,n,i){var r=this.libScripts[n].actionsByName[i];return TDev.Util.assert(r),function(e){return new LibProxy(t,e,n,i,r)}},CompiledScript.prototype.lookupLibPage=function(t,n){var i=this,r=this.libScripts[t].actionsByName[n];return TDev.Util.assert(r),function(e){return new LibProxy(i.libBindings[t],e,t,n,r)}},CompiledScript.prototype.lookupAction=function(e,t){return this.libScripts[e].actionsByStableName[t]},CompiledScript.prototype.init=function(code,missingApis,packageResources,safe){if(this.code=code,this.missingApis.pushRange(missingApis),this.packageResources.pushRange(packageResources),safe){var f=eval(code);f(this)}},CompiledScript.prototype.reinit=function(code){this.additionalCode=code;var f=eval(code);f(this)},CompiledScript.additionalScriptStateFields=["leaderboard_score","source_access"],CompiledScript}(),RT;TDev.CompiledScript=CompiledScript,function(a){function e(e,t){return e.rt.wrap(e,t)}function n(e,t){e&&a.App.logException(e,t)}function i(e){e&&TDev.Util.userError(e+"")}a.unwrapJson=function(e){return e?e.value():void 0},a.wrapJson=function(e){return a.JsonObject.wrap(e)},a.queueAction=function(e,t,n,i,r){if(void 0===i&&(i=null),void 0===r&&(r=null),t){var o=new a.Event_;o.isBlocking=!1,o.finalCallback=i,o.errorHandler=r,o.addHandler(t),e.rt.queueLocalEvent(o,n)}},a.protect=e,a.userError=function(e){TDev.Util.userError(e)},a.logError=n,a.checkAndLog=function(e,t){return!e||(n(e,t),!1)},a.checkAndThrow=i,a.checkAndResume=function(t){return e(t,function(e){i(e),t.localResume()})},a.warn=function(e,t){var n=t.rt.editorObj;n&&n.annotate_caller("warning",e,t)}}(RT=TDev.RT||(TDev.RT={}))}(TDev||(TDev={})),function(v){!function(l){function o(){return n}l.revisionservice_http=o;var n="https://storage.touchdevelop.com/sessions";function t(e){return"L"+e}function i(e){return"userid0pn"+p(e)}function r(e,t){return e+"0pr"+p(t)}function a(e,t){return e+"0pu"+s(e,t)}function s(e,t){return p(e+t)}function c(e){return"users:*=W"+(e?" scripts:"+e:"")}function u(e){return"users:*=R"+(e?" scripts:"+e:"")}function d(e){return"users:"+(e?" scripts:"+e:"")}function p(e){for(var t=Math.floor(Math.abs(v.Util.getStableHashCode(e))),n="";0<t;){var i=t%26;t=Math.floor(t/26),n+=String.fromCharCode(97+i)}return n}function h(e){void 0===e&&(e=!1);var t=function(e){void 0===e&&(e=!1);var t=parseInt(window.localStorage.rs_token_expires||"0");if(e||0<t&&Date.now()+600>t)return void m(void 0);return window.localStorage.rs_access_token}(e);return t?v.Promise.wrap(t):v.Cloud.isOffline()?v.Promise.wrapError(v.lf("cloud is offline")):v.Cloud.authenticateAsync(v.lf("cloud data")).then(function(e){return e?(v.Cloud.getUserId(),v.Util.log("asking TD server for revision service access token"),v.Cloud.postPrivateApiAsync("me/storage/access_token",{}).then(function(e){var t=e.access_token;return m(t,e.expires_in),t},function(e){return v.Util.log("could not get revision service token, web request failed"),v.Promise.wrapError("Failed to receive revision service token")})):(v.Util.log("could not get revision service token, user not signed in"),v.Promise.wrapError("User not signed in"))})}function m(e,t){void 0===t&&(t=0),e?(v.Util.log("received revision service token (expires in "+(1e3*t).toString()+"ms)"),window.localStorage.rs_access_token=e,0<t?window.localStorage.rs_token_expires=Date.now()+1e3*t:window.localStorage.removeItem("rs_token_expires")):(v.Util.log("revision service access token expired"),window.localStorage.removeItem("rs_access_token"),window.localStorage.removeItem("rs_token_expires"))}l.parseUrlParameters=function(e){if(/altrevserv3/.test(e))n="http://localhost:843/sessions3";else if(/altrevserv2/.test(e))n="http://localhost:843/sessions2";else if(/altrevserv1/.test(e))n="http://localhost:843/sessions1";else if(/altrevserv/.test(e))n="http://localhost:843/sessions";else if(/simrevserv1/.test(e))n="http://127.0.0.1:82/sessions1";else if(/simrevserv/.test(e))n="http://127.0.0.1:82/sessions";else if(/revserv=/.test(e)){var t=new RegExp("revserv=([^?&#]+)","i").exec(e);n="https://"+t[1]+"/sessions"}},l.localsessionid=t,l.nodesessionid=i,l.justmesessionid=r,l.everyonesessionid=a,l.make_astsessionid=function(e){return e+"0pa"+p(v.Util.guidGen())},l.scripthash=s,l.publicpermission=c,l.broadcastpermission=u,l.privatepermission=d,l.letterify=p,l.getRevisionServiceTokenAsync=h,l.getServerInfoAsync=function(n){return l.getRevisionServiceTokenAsync().then(function(e){if(v.Cloud.isOffline())return v.Promise.wrapError("Cloud is offline");var t=l.revisionservice_http()+"/"+n+"/info?user="+v.Cloud.getUserId()+"&access_token="+encodeURIComponent(e);return v.Util.httpRequestAsync(t,"GET",void 0).then(function(e){return v.RT.JsonObject.mk(e,v.RT.Time.log)},function(e){})},function(e){})},l.queryMySessionsOnRevisionServerAsync=function(n,i){void 0===i&&(i=!1);var r=v.Cloud.getUserId();return h().then(function(e){if(v.Cloud.isOffline())return v.Promise.wrapError("Cloud is offline");var t=o()+"?user="+r+"&access_token="+encodeURIComponent(e);return i&&(t=t+"&guidhash="+encodeURIComponent(p(n.sessions.getScriptGuid()))+"&scripthash="+encodeURIComponent(s(n.sessions.getScriptAuthor(),n.sessions.getScriptName()))),v.Util.httpRequestAsync(t,"GET",void 0).then(function(e){var t=JSON.parse(e),n=new Array;for(var i in t)if(t.hasOwnProperty(i)){var r=new v.RT.CloudSession;if(r._id=i,!r.validate())continue;r.serverinfo=t[i],r._title=r.serverinfo.title,r._permissions="",n.push(r)}return n})})},l.queryCachedSessionsAsync=function(r,a){var s=[],c=[];return v.Storage.getTableAsync("Sessions").then(function(t){return t.getValueAsync("%").then(function(e){(e||"").split(" ").forEach(function(e){var t=new v.RT.CloudSession;if(t._id=e,t.validate()){if(r){var n=p(a.sessions.getScriptGuid()),i=l.scripthash(a.sessions.getScriptAuthor(),a.sessions.getScriptName());if("pr"===t.tag&&t.guidhash!=n)return;if("pu"===t.tag&&t.guidhash!=i)return;if("pn"===t.tag)return;if("c"===t.tag[0]&&"s"===t.guidhash[0]&&1!==t.guidhash.lastIndexOf(i,1))return}s.push(t)}});var o=s.map(function(e,t,n){return e._id+"/S"});return t.getItemsAsync(o).then(function(e){for(var t=0;t<s.length;t++){var n=s[t],i=e[o[t]];if(i){var r=JSON.parse(i);v.Util.assert(n._id===r.servername),v.Util.assert(n._id===r.localname),n.localname=n._id,n._title=r.description,n._permissions=r.permissions,n.membernumber=r.membernumber,n.enable_sync=r.enable_sync,c.push(n)}}return c})})})},l.deleteSessionAsync=function(n,e){var t=[];if(t.push(f.deleteSessionFileAsync(e.sessions,n)),!n.nodeserver&&n.servername){var i=n.servername.indexOf("0");3<i&&i<n.servername.length-4&&n.servername.substr(0,i)==v.Cloud.getUserId()&&t.push(f.queueSessionWork(n.localname,"deleting session on server",function(){return h().then(function(e){if(v.Cloud.isOffline())return v.Promise.wrapError("Cloud is offline");var t=o()+"/"+n.servername+"?user="+v.Cloud.getUserId()+"&access_token="+encodeURIComponent(e);return v.Util.httpRequestAsync(t,"DELETE",void 0)})}))}return v.Promise.join(t)};var f=function(){function o(e,t,n){this.context=e,this.getCurrent=t,this.setCurrent=n}return o.prototype.connect=function(e,t){var n=this;void 0===t&&(t=!1);var i=this.getCurrent();if(i){if(i.servername===e.servername&&i.localname===e.localname&&(i.user===e.user||""===i.user))return i.script===e.script&&i.readonly===e.readonly&&i.user===e.user||(i.script=e.script,i.readonly=e.readonly,i.user=e.user,i.loaded&&""!=i.servername&&(i.disconnect(),i.try_reconnect_in(1e3))),this.context.updateStatus(),i.loadtask.isPending()||this.context.afterload(),i.loadtask;this.disconnect(!1,"unload previous session")}if(e.localname){var r=o.slots[e.localname];r&&r.disconnect(!1,"opening session in different context")}return i=this.context.createSession(e),this.setCurrent(i),i.localname&&(o.slots[i.localname]=this),i.user_set_doorbell(function(){return n.context.onDoorBell()}),this.loadSessionAsync(i)},o.prototype.disconnect=function(t,e){var n=this.getCurrent();if(!n)return v.Promise.as();n.user_unlink(),n.user_set_doorbell(function(){}),this.setCurrent(void 0),n.localname&&o.slots[n.localname]===this&&(o.slots[n.localname]=void 0);var i=o.queueSessionWork(n.localname,"unloading session"+(e?" ("+e+")":""),function(){var e=n.closeAsync(t);return e.done(),e});return this.context.clearCachedData(),this.context.updateStatus(),i},o.prototype.loadSessionAsync=function(e){var t=this;v.Util.assert(void 0!==e),v.Util.assert(void 0===e.loadtask);var n=o.queueSessionWork(e.localname,"loading session",function(){return e.loadAsync(function(){return t.context.afterload()})});return n.thenalways(function(){if(t.context.updateStatus(),e.loaded){if(""!=e.servername)return e.connect(t.context.url_ws(),function(e){return t.context.tokensource(e)})}else e.log("!! failure while loading session")}).done(),this.context.clearCachedData(),this.context.updateStatus(),n},o.createSessionFileAsync=function(e,t){v.Util.assert(t.localname&&!o.slots[t.localname]);var n=e.createSession(t);return o.queueSessionWork(t.localname,"creating session",function(){return n.loadAsync().then(function(){return n.closeAsync(!1)}).then(function(){return n},function(){})})},o.deleteSessionFileAsync=function(e,t){var n=t.localname&&o.slots[t.localname];if(n)return n.disconnect(!0);var i=e.createSession(t);return o.queueSessionWork(t.localname,"deleting session cache",function(){return i.loadAsync().then(function(){return i.closeAsync(!0)})})},o.queueSessionWork=function(t,n,e){var i=o.busysessions[t];return void 0===i?i=v.Promise.wrap(void 0):v.Util.log("["+t+"] queued "+n),i=i.then(function(){return v.Util.log("["+t+"] started "+n),e().then(function(e){return o.busysessions[t]=void 0,v.Util.log("["+t+"] finished "+n),e},function(e){o.busysessions[t]=void 0,v.Util.log("["+t+"] unsuccessfully terminated  "+n)})}),o.busysessions[t]=i._state?void 0:i,i},o.slots={},o.busysessions={},o}();l.Slot=f;var e,g=function(){function e(e){var t=this;void 0===e&&(e=void 0),this.wsServer=e,this.CurrentSession=void 0,this.LocalSession=void 0,this.currentSessionSlot=new f(this,function(){return t.CurrentSession},function(e){return t.CurrentSession=e}),this.localSessionSlot=new f(this,function(){return t.LocalSession},function(e){return t.LocalSession=e}),this.doorbelllisteners=[],this.registereddatacaches=[]}return e.prototype.url_http=function(){return this.current_nodeserver||o()},e.prototype.url_ws=function(){return this.url_http().replace("http","ws")},e.prototype.tokensource=function(e){return this.current_nodeserver?v.Promise.as(this._authtoken||"token"):l.getRevisionServiceTokenAsync(e)},e.prototype.setAccessToken=function(e){this._authtoken=e},e.prototype.isNodeServer=function(){return void 0!==this.wsServer},e.prototype.isNodeClient=function(){return this.current_nodeserver&&void 0===this.wsServer},e.prototype.hasNodeConnection=function(){return this.current_nodeserver&&void 0!==this.CurrentSession&&this.CurrentSession.hasNodeConnection()},e.prototype.nodeConnectionPending=function(){return!1},e.prototype.afterload=function(){},e.prototype.getUserId=function(){return this.current_userid},e.prototype.getScriptGuid=function(){return this.current_scriptguid},e.prototype.getScriptAuthor=function(){return this.current_scriptauthor},e.prototype.getScriptName=function(){return this.current_scriptname},e.prototype.getScript=function(){return this.current_script},e.prototype.getNodeServer=function(){return this.current_nodeserver},e.prototype.setEditorScriptContext=function(e,t,n,i,r){this.current_userid=e,this.current_scriptguid=t,this.current_scriptname=n,this.current_scriptauthor=r,this.current_script=v.RT.CloudSession.makeScriptIdentifier(i,r)},e.prototype.refreshFinalScriptContext=function(){var e,t=v.Cloud.getUserId()||"",n=this.rt.host?this.rt.host.currentGuid:this.current_scriptguid,i=this.rt.compiled.scriptTitle,r=this.rt.compiled.authorId||"",o=this.rt.compiled&&this.rt.compiled.baseScriptId||"",a=v.RT.CloudSession.makeScriptIdentifier(o,r),s=this.rt.compiled.azureSite;return(!s&&this.current_userid!==t||this.current_script!=a||this.current_scriptguid!=n||this.current_scriptname!=i||this.current_nodeserver!=s)&&(e=!0,this.currentSessionSlot.disconnect(!1,"script context changed"),this.localSessionSlot.disconnect(!1,"script context changed")),this.current_userid=t,this.current_scriptguid=n,this.current_scriptname=i,this.current_scriptauthor=r,this.current_script=a,this.current_nodeserver=s,e},e.prototype.clearScriptContext=function(e){var t=[];return t.push(this.currentSessionSlot.disconnect(!1,"clear script context")),e&&t.push(this.localSessionSlot.disconnect(!1,"clear script context")),this.current_userid=void 0,this.current_scriptguid=void 0,this.current_scriptname=void 0,this.current_script=void 0,this.current_scriptauthor=void 0,this.current_nodeserver=void 0,v.Promise.join(t)},e.prototype.getCurrentSession=function(){return v.Util.assert(void 0!==this.CurrentSession),this.CurrentSession},e.prototype.getLocalSession=function(){return this.isNodeServer()?(v.Util.assert(void 0!==this.CurrentSession),this.CurrentSession):(v.Util.assert(void 0!==this.LocalSession),this.LocalSession)},e.prototype.getLastSession=function(){return this.CurrentSession},e.prototype.getJustMeSessionDescriptor=function(){if(this.current_userid)return this.getCloudSessionDescriptor(r(this.current_userid,this.current_scriptguid),'just-me session for script "'+this.current_scriptname+'"',d())},e.prototype.getNodeSessionDescriptor=function(e){var t=this.getCloudSessionDescriptor(i(this.current_scriptguid),'node session for script "'+this.current_scriptname+'"',c(this.current_script));return t.user=e,t},e.prototype.getEveryoneSessionDescriptor=function(){return this.getCloudSessionDescriptor(a(this.current_scriptauthor,this.current_scriptname),'everyone session for script "'+this.current_scriptname+'"',c(this.current_script))},e.prototype.getLocalSessionDescriptor=function(){var e={servername:""};return e.localname=t(this.current_scriptguid),e.user="",e.title="",e.permissions="",e.script=this.current_script,e.readonly=!1,e.nodeserver="",e},e.prototype.getCloudSessionDescriptor=function(e,t,n){var i=-1!=e.indexOf("0pn"),r=e.substr(0,e.indexOf("0")),o={};return o.servername=e,o.user=this.current_userid,o.title=t,o.script=this.current_script,o.permissions=n,o.nodeserver=this.current_nodeserver,o.localname=!i&&v.Browser.isNodeJS?void 0:e,o.readonly=!i&&r!==this.current_userid&&-1!=e.indexOf("0cr"),o},e.prototype.disconnect=function(){this.currentSessionSlot.disconnect(!1,"disconnect"),this.localSessionSlot.disconnect(!1,"disconnect")},e.prototype.unlink=function(){this.CurrentSession&&this.CurrentSession.user_unlink(),this.LocalSession&&this.LocalSession.user_unlink()},e.prototype.scriptRestarted=function(){this.refreshFinalScriptContext()},e.prototype.scriptStarted=function(e){this.refreshFinalScriptContext()},e.prototype.createSession=function(e){var t=e.nodeserver?this.isNodeServer()?new l.ServerSession(e.nodeserver,e.servername,e.localname,e.user,this.rt,this.wsServer):new l.NodeSession(e.nodeserver,e.servername,e.localname,e.user):new l.ClientSession(e.servername,e.localname,e.user);return t.permissions=e.permissions,t.title=e.title,t.script=e.script,t.readonly=e.readonly,t.user=e.user,t},e.prototype.connectCurrent=function(e){var t=-1!=e.servername.indexOf("0pn");return v.Util.assert(t==!!this.current_nodeserver,"must not mix cloud/node sessions"),v.Util.assert(t||!!this.current_userid,"must be signed in to connect cloud session"),v.Util.assert(!this.isNodeServer()||t,"can only use node session on server"),this.currentSessionSlot.connect(e)},e.prototype.enable_script_session_mgt=function(){return v.Cloud.getUserId()&&!!this.current_userid&&!!this.current_scriptguid&&!!this.current_scriptauthor},e.prototype.ensureSessionLoaded=function(){var i=this;return(this.current_userid||!this.rt.compiled.hasCloudData||this.current_nodeserver?v.Promise.as():v.Cloud.authenticateAsync(v.lf("cloud data"))).thenalways(function(){var e,t;if(i.refreshFinalScriptContext(),i.rt.compiled.hasLocalData&&!i.isNodeServer()?e=i.localSessionSlot.connect(i.getLocalSessionDescriptor()).thenalways(function(){i.LocalSession&&i.LocalSession.faulted&&(v.Util.check(!1,"local data corrupted - resetting"),i.localSessionSlot.disconnect(!0,"delete due to faulted load"),i.localSessionSlot.connect(i.getLocalSessionDescriptor()))}):(i.localSessionSlot.disconnect(!1,"no local data"),e=v.Promise.as()),i.rt.compiled.hasCloudData||i.rt.compiled.hasLocalData&&i.isNodeServer())if(i.current_nodeserver||i.current_userid)if(i.current_scriptguid&&i.current_scriptname&&i.current_scriptauthor&&i.current_script){var n=i.current_nodeserver?i.getNodeSessionDescriptor(""):i.CurrentSession||i.getJustMeSessionDescriptor();t=i.connectCurrent(n)}else v.Util.oops("cannot determine script info: runtime lacks information");else t=v.Promise.wrapError("cannot run this script without first signing in");else i.currentSessionSlot.disconnect(!1,"no cloud session"),t=v.Promise.as();return i.updateStatus(),v.Promise.join([e,t])})},e.prototype.readyForExecution=function(){return this.refreshFinalScriptContext()?(v.Util.check(!1,"script info changed between loading and execution"),!1):!(this.rt.compiled.hasCloudData&&!this.current_nodeserver&&!this.current_userid)&&(!this.rt.compiled.hasLocalData||this.isNodeServer()||this.LocalSession&&this.LocalSession.loaded?!(this.rt.compiled.hasCloudData||this.rt.compiled.hasLocalData&&this.isNodeServer())||this.CurrentSession&&this.CurrentSession.loaded?!this.LocalSession||!this.LocalSession.faulted||(v.Util.check(!1,"error loading local session from disk"),!1):(v.Util.check(!1,"failed to load cloud session"),!1):(v.Util.check(!1,"failed to load local session"),!1))},e.prototype.stopAsync=function(){return v.Promise.as()},e.prototype.receive_operation=function(e){if(!this.current_nodeserver)throw new Error("should not be called for unexported apps")},e.prototype.resetCurrentSession=function(){var e=this.CurrentSession;if(e){var t=this.getCloudSessionDescriptor(e.servername,e.title,e.permissions);return this.currentSessionSlot.disconnect(!0,"reset current session"),this.currentSessionSlot.connect(t)}},e.prototype.clearCurrentSession=function(){this.CurrentSession&&(this.CurrentSession.user_clear_all(),this.clearCachedData())},e.prototype.getLocalSessionAttributeAsync=function(e,t){var n=this;return v.Util.assert(!this.isNodeServer(),"cannot access attributes on server"),this.get_attribute_lval(e,t).then(function(e){return v.RT.Conv.fromCloud("string",n.LocalSession.user_get_value(e))})},e.prototype.setLocalSessionAttributeAsync=function(e,t,n){var i=this;v.Util.assert(!this.isNodeServer(),"cannot access attributes on server");var r=v.RT.Conv.toCloud("string",t,!1);return this.get_attribute_lval(e,n).then(function(e){return i.LocalSession.user_modify_lval(e,r)})},e.prototype.get_attribute_lval=function(e,t){var n=this;return(this.LocalSession?v.Promise.as():this.localSessionSlot.connect(this.getLocalSessionDescriptor())).then(function(){return n.LocalSession.user_get_lval(l.Parser.MakeProperty(e,"attributes[]","string"),[],[])})},e.prototype.queueRestRequest=function(n){n._onStop=new v.PromiseInv,this.rt.dispatchServerRequest(n,n._onStop).then(function(e){},function(e){v.RT.App.log("404 "+n.method().toUpperCase()+" "+n.url());var t=n.getNodeRequest().tdResponse;t.writeHead(404,"API Error"),t.end(e.message)})},e.prototype.yieldSession=function(){var e=!1;this.CurrentSession&&(this.CurrentSession.user_yield()&&(this.updateStatus(),this.clearCachedData(),e=!0));this.LocalSession&&(this.LocalSession.user_yield()&&(this.clearCachedData(),e=!0));return e},e.prototype.updateStatus=function(){this.isNodeServer()||(this.CurrentSession?(this.rt.host&&this.rt.host.updateCloudState(!0,this.CurrentSession.getCloudSession().type(),this.CurrentSession.user_get_connectionstatus(!1)),v.RT.CloudData.refreshSessionInfo(this.CurrentSession)):this.rt.host&&this.rt.host.updateCloudState(!1,"",""))},e.prototype.onDoorBell=function(){if(this.isNodeClient()&&this.CurrentSession&&(this.CurrentSession.marooned||this.CurrentSession.faulted)){var e=this.CurrentSession;e.log("discard cache because it is "+(e.marooned?"marooned":e.faulted?"faulted":"")),this.currentSessionSlot.disconnect(!0,"reset because "+(e.marooned?"marooned":e.faulted?"faulted":"")),this.currentSessionSlot.connect(e)}v.Browser.isNodeJS||this.rt.yield_when_possible(),this.doorbelllisteners=this.doorbelllisteners.filter(function(e){return e()}),this.updateStatus()},e.prototype.addDoorbellListener=function(e){this.doorbelllisteners.push(e)},e.prototype.clearCachedData=function(){for(var e in this.registereddatacaches)this.registereddatacaches.hasOwnProperty(e)&&this.registereddatacaches[e].clearCachedData()},e.prototype.registerDataCache=function(e,t){this.registereddatacaches[e]=t},e.prototype.unregisterDataCache=function(e){delete this.registereddatacaches[e]},e.prototype.deleteAllLocalDataAsync=function(e){var t=f.deleteSessionFileAsync(this,this.getLocalSessionDescriptor());if(this.current_nodeserver)return v.Promise.join([f.deleteSessionFileAsync(this,this.getNodeSessionDescriptor("")),t]);var n=v.Cloud.getUserId();if(n&&n===this.current_userid&&e===this.current_scriptguid){var i=this.getJustMeSessionDescriptor(),r=this.getEveryoneSessionDescriptor();return v.Promise.join([f.deleteSessionFileAsync(this,i),f.deleteSessionFileAsync(this,r),t])}return t},e.prototype.createCustomSessionAsync=function(e,t){v.Util.assert(!!this.current_userid,"must be signed in to create a cloud session"),v.Util.assert(!this.current_nodeserver,"cannot create sessions for cloud library");var n={},i=a?"a":"s",r=a?"":s(this.current_scriptauthor,this.current_scriptname),o=p(v.Util.guidGen()),a=!1;return"shareable"===t?(n.servername=this.current_userid+"0cw"+i+r+o,n.permissions=c(a?"":this.current_script)):"broadcast"===t?(n.servername=this.current_userid+"0cr"+i+r+o,n.permissions=u(a?"":this.current_script)):(n.servername=this.current_userid+"0cp"+i+r+o,n.permissions=d(a?"":this.current_script)),n.localname=n.servername,n.readonly=!1,n.user=this.current_userid,n.title=e,n.nodeserver="",n.script=this.current_script,f.createSessionFileAsync(this,n).then(function(e){return e.getCloudSession()})},e}();l.Sessions=g,(e=l.CloudOperationType||(l.CloudOperationType={}))[e.UNKNOWN=0]="UNKNOWN",e[e.RPC=1]="RPC",e[e.OFFLINE=2]="OFFLINE";l.CloudOperationType}(v.Revisions||(v.Revisions={}));var c=function(){function e(e,t,n){this.server=e,this.request=t,this.socket=n}return e.prototype.origin=function(){return this.request.headers.origin},e.prototype.path=function(){return this.request.url},e.prototype.accept=function(){var n=this;(this.socket.tdWrapper=this).server._conns.push(this.socket);var e=function(){var e=n.server._conns,t=e.indexOf(n.socket);0<=t&&e.splice(t,1)};return this.onClose(e),this.onError(e),this.socket},e.prototype.reject=function(){this.socket.close()},e.prototype.remoteAddress=function(){return this.socket.remoteAddress},e.prototype.onMessage=function(t){this.socket.addEventListener("message",function(e){return"string"==typeof e.data?t(e.data,null):t(null,e.data)},!1)},e.prototype.onClose=function(t){this.socket.addEventListener("close",function(e){return t(e.code,e.reason)},!1)},e.prototype.onError=function(e){this.socket.addEventListener("error",e,!1)},e.prototype.mkTdWebSocket=function(e){this.socket||this.accept();var i=new v.RT.WebSocket_(this.socket,e);return this.onMessage(function(e,t){var n=e;t&&(n=v.RT.Buffer.fromTypedArray(t)),i.receiveMessage(v.RT.WebSocketMessage.mk(n))}),this.onError(function(e){var t=e.message||e+"";v.RT.App.logEvent(v.RT.App.DEBUG,"ws","error: "+t,void 0),i.receiveMessage(v.RT.WebSocketMessage.mkError(t))}),this.onClose(function(e,t){i.gotClose()}),i},e}();v.WebSocketWrapper=c;var e=function(){function e(e){this.WebSocketModule=e,this.handlers=[],this._conns=[]}return e.prototype.isReal=function(){return!!this.WebSocketModule},e.prototype.upgradeCallback=function(e,t,n){var i=this,r=this.WebSocketModule;if(r.isWebSocket(e)){var o=new r(e,t,n),a=new c(this,e,o),s=function(e){i.handlers[e]?i.handlers[e](a,function(){return s(e+1)}):a.reject()};s(0)}},e.prototype.closeConnections=function(){this._conns.forEach(function(e){return e.close()}),this._conns=[]},e.prototype.addHandler=function(e){this.handlers.push(e)},e.prototype.connections=function(){return this._conns},e}();v.WebSocketServerWrapper=e}(TDev||(TDev={})),function(v){!function(f){var e;(e=f.StatusType||(f.StatusType={}))[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ok=2]="Ok";var t;f.StatusType;(t=f.EncodingMode||(f.EncodingMode={}))[t.CLIENT_LAYER_TO_DISK=0]="CLIENT_LAYER_TO_DISK",t[t.CLIENT_BASE_TO_DISK=1]="CLIENT_BASE_TO_DISK",t[t.CLIENT_LAYER_TO_SERVER=2]="CLIENT_LAYER_TO_SERVER",t[t.SERVER_BASE_TO_DISK=3]="SERVER_BASE_TO_DISK",t[t.SERVER_LAYER_TO_CLIENT=4]="SERVER_LAYER_TO_CLIENT",t[t.SERVER_UPDATES_TO_CLIENT=5]="SERVER_UPDATES_TO_CLIENT",t[t.TRACE_LOAD=6]="TRACE_LOAD";f.EncodingMode;var r=function(){function e(e,t,n,i,r,o){void 0===o&&(o=!1),this.delcount=0,this.session=e,this.name=t,this.data=n,void 0!==i&&(this.clientround=i),void 0!==r&&(this.serverround=r),this.grounded=o}return e.prototype.hasData=function(){return this.data&&0!==this.data.length||this.cloudOperations&&0!==this.cloudOperations.length||this.grounded||this.clientrounds},e.prototype.clear=function(){var t=this,n=!1;return this.data.forEach(function(e){void 0!==e.removeOperation(t)&&(n=!0)}),n},e.prototype.cleanIfNeeded=function(e){var t=this;this.delcount>e&&(this.data=this.data.filter(function(e){return void 0!==e.getOperation(t.name)}),this.delcount=0)},e.prototype.invalidate_all=function(){this.data.forEach(function(e){e instanceof u?e.invalidate(!0):e.invalidate(!1)})},e.prototype.CommitCloudOperation=function(e){this.cloudOperations?this.cloudOperations.push(e):this.cloudOperations=[e]},e.prototype.mergeCloudOperations=function(e){e.cloudOperations&&(this.cloudOperations||(this.cloudOperations=[]),this.cloudOperations=this.cloudOperations.concat(e.cloudOperations))},e.prototype.removeCloudOperations=function(){delete this.cloudOperations},e}();f.Layer=r;var n=function(e,t,n){this.continuation=e,this.round=t,this.exclusive=n},c=function(){function e(){this.fromCloudOp=v.Runtime.theRuntime&&v.Runtime.theRuntime.inCloudCall,this.ops={}}return e.prototype.invalidate=function(e){delete this.cached,e&&(this.deleted=!0,this.unlink())},e.prototype.get_op=function(e){return this.ops[e]},e.prototype.set_op=function(e,t){this.ops[e]=t},e.prototype.del_op=function(e){delete this.ops[e]},e.prototype.all_ops=function(){return Object.keys(this.ops)},e.prototype.getOperation=function(e){return this.get_op(e)},e.prototype.recordOperation=function(e,t){var n=this.get_op(e.name),i=this.collapse(n,t,e.grounded);return void 0!==i?(this.set_op(e.name,i),void 0===n&&e.data.push(this)):void 0!==n&&(this.del_op(e.name),e.delcount+=1),n!==i},e.prototype.removeOperation=function(e){var t=this.get_op(e.name);return void 0!==t&&(this.del_op(e.name),e.delcount+=1),t},e.prototype.compute_current=function(){var e=this.getOperation("B");if(!this.session.readonly){for(var t=this.session.get_layer("B").clientround,n=this.session.localround,i=t+1;i<n;i++){e=this.session.get_layer("D"+i).grounded?this.getOperation("D"+i):this.collapse(e,this.getOperation("D"+i),!0)}var r=this.session.get_layer("D"+n);e=r&&r.grounded?this.getOperation("D"+n):this.collapse(e,this.getOperation("D"+n),!0);var o=this.session.get_layer("T");o&&(e=o.grounded?this.getOperation("T"):this.collapse(e,this.getOperation("T"),!0))}return v.Util.check(!v.dbg||void 0===this.cached||null!==this.cached&&this.cached===e||null===this.cached&&void 0===e),this.cached=void 0===e?null:e,e},e.prototype.has_deleted_dependencies=function(){var n=this,i=!1;return this.ukeys.forEach(function(e){var t=n.session.get_item(e);t&&!n.session.user_is_datum_deleted(t)||(i=!0)}),v.Util.assert(!i||this.deleted),i},e.prototype.linkDeps=function(){var n=this;this.ukeys.forEach(function(e){var t=n.session.get_item(e);t&&t.addDependency(n)||(n.deleted=!0)})},e.prototype.collapse=function(e,t,n){},e.prototype.target=function(){return""},e.prototype.unlink=function(){},e}(),u=function(n){function i(){n.apply(this,arguments),this.deps={}}return __extends(i,n),i.prototype.target=function(){return this.uid},i.prototype.unlink=function(){this.backlink&&(this.backlink.unlink(),delete this.backlink)},i.prototype.collapse=function(e,t,n){return void 0===e?t:void 0===t?e:"D"===e?(this.session.assertConsistency("D"===t),n?void 0:"D"):(v.Util.assert("C"===e[0]),void("D"!==t&&this.session.assertConsistency(!1,"collapse uid="+this.uid+" def="+(this.backlink&&this.backlink.parent&&this.backlink.parent.cloudtype)+" second="+t)))},i.prototype.recordCreation=function(e,t){void 0===t?this.recordOperation(e,"C"):this.recordOperation(e,"C"+t)},i.prototype.recordDeletion=function(e){this.recordOperation(e,"D")},i.prototype.recordOperation=function(e,t){return"D"===t&&this.removeRedundantOps(e),n.prototype.recordOperation.call(this,e,t)},i.prototype.compareTo=function(e){var t,n=this.compute_current();return"C"===n?"C"===(t=e.compute_current())?Number(this.uid)-Number(e.uid):1:"C"===(t=e.compute_current())?-1:Number(n.substr(1))-Number(t.substr(1))},i.prototype.addDependency=function(e){return this.deps["$"+e.target()]=e,!this.deleted},i.prototype.removeDependency=function(e){delete this.deps["$"+e.target()]},i.prototype.invalidate=function(e){for(var t in n.prototype.invalidate.call(this,e),this.deps)this.deps.hasOwnProperty(t)&&"$"===t[0]&&this.deps[t].invalidate(e);this.session.remove_item_from_index(this)},i.prototype.removeRedundantOps=function(e){for(var t in this.deps)if(this.deps.hasOwnProperty(t)&&"$"===t[0]){var n=this.deps[t];n.removeOperation(e),n instanceof i&&n.removeRedundantOps(e)}},i}(f.Datum=c);f.Item=u;var l=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.target=function(){return i.MakeModTarget(this.definition,this.ukeys,this.lkeys)},t}(c);f.Entry=l;var h=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.target=function(){return i.MakeModTarget(this.definition,this.ukeys,this.lkeys)},t.prototype.parseDefinition=function(){var e=new g(this.definition,0);this.name=e.ParseDefinitionString(),v.Util.assert(","===e.text[e.pos]),e.pos+=1,this.codomain=e.ParseDefinitionString(),v.Util.assert("["===e.text[e.pos]),this.indexdomain=e.text.slice(e.pos+1,e.text.length-1)},t.prototype.collapse=function(e,t,n){if(void 0===t)return e;if(void 0===e){if("double"===this.codomain||"long"===this.codomain)return n?(0===t.lastIndexOf("A",0)&&(t=t.slice(1)),"0"===t?void 0:t):"A0"===t?void 0:t;if("ast"===this.codomain)return t;if(0!==t.lastIndexOf("^?",0))return n&&!t?void 0:t;if(""===(s=t.substring(2)))return;return n?"^"===s.charAt(0)?"^!"+s:s:t}if("double"===this.codomain||"long"===this.codomain){if("A"!==t.charAt(0))return n&&"0"===t?void 0:t;var i=Number(t.slice(1)),r=!1,o=Number(e);isNaN(o)&&(v.Util.assert("A"===e.charAt(0)),o=Number(e.slice(1)),r=!0,v.Util.assert(!n));var a=o+i;return 0!==a||!r&&!n?r?"A"+a:a.toString():void 0}if("ast"===this.codomain)return t;if(0!==t.lastIndexOf("^?",0))return n&&!t?void 0:t;if(0!==e.lastIndexOf("^?",0)){if(""===e||"^!"===e){var s,c="^"===(s=t.substring(2)).charAt(0)?"^!"+s:s;return n&&!c?void 0:c}return e}return 2===e.length?n&&!t?void 0:t:e},t}(c);f.LVal=h;var i=function(){function p(e,t,n){this.servername=e,this.localname=t,this.user=n,this.sendCloudOperations=!1,this.concatIdToItem=!1,this.includeKeysInStatus=!1,this.acceptsUpdates=!1,this.requiresAuth=!0,this.trace_save_and_load=!1,this.trace_incoming_packets=!1,this.trace_saving=!1,this.membernumber=-1,this.disambiguator="",this.enable_sync=void 0,this.serveritemcount=0,this.userdata={},this.localround=1,this.uidcount=0,this.sendinterval=250,this.pendingroundlimit=5,this.scrublimit=1e3,this.connectionretrydelay=2e4,this.qcount=0,this.last_S_save=v.Promise.as(),this.last_C_save=v.Promise.as(),this.ring_doorbell_when_done=!1,this.CLstate_needsave=!1,this.Sstate_needsave=!1,this.previewround=0,this.percentfull=0,this.presence=[],this.dochannelcompression=!1,this.statuschanges=!1,this.fences=[],this.doorbell=function(){},this.initialize_data(),this.loaded=void 0===t,void 0===this.user&&(this.user=""),v.Util.assert(!!e||!!t)}return p.prototype.samesession=function(e){return this.servername===e.servername&&this.localname===e.localname},p.prototype.getMemberNumber=function(){return this.membernumber},p.prototype.key_sessionlist=function(){return"%"},p.prototype.key_Sstate=function(){return this.localname+"/S"},p.prototype.key_Cstate=function(){return this.localname+"/C"},p.prototype.key_layer=function(e){return this.localname+"/"+e},p.prototype.S_toJSONstring=function(){return JSON.stringify({servername:this.servername,localname:this.localname,description:this.title,membernumber:this.membernumber,disambiguator:this.disambiguator,enable_sync:this.enable_sync,serveritemcount:this.serveritemcount,permissions:this.permissions,userdata:this.userdata})},p.prototype.S_fromJSONstring=function(e){var t=JSON.parse(e);v.Util.assert(this.servername===t.servername),v.Util.assert(this.localname===t.localname),!this.title&&t.description&&(this.title=t.description),this.membernumber=t.membernumber,this.disambiguator=t.disambiguator,void 0===this.enable_sync&&(this.enable_sync=t.enable_sync),this.serveritemcount=t.serveritemcount,this.permissions=t.permissions,this.userdata=t.userdata||{}},p.prototype.C_toJSONstring=function(){return JSON.stringify({uidcount:this.uidcount,localround:this.localround})},p.prototype.C_fromJSONstring=function(e){var t=JSON.parse(e);this.uidcount=t.uidcount,this.localround=t.localround},p.prototype.user_specify_ast_encoding=function(e){this.astencoding=e},p.prototype.assertConsistency=function(e,t){e||(this.faulted=!0,this.statuschanges=!0,v.Util.check(e,"local cache inconsistent with server"))},p.prototype.user_get_lval=function(e,t,n){var i=p.MakeModTarget(e,t,n),r=this.get_lval(i);if(r){this.assertConsistency(r.definition===e),this.assertConsistency(t.length===r.ukeys.length);for(var o=0;o<t.length;o++)this.assertConsistency(t[o]===r.ukeys[o]);this.assertConsistency(n.length===r.lkeys.length);for(o=0;o<n.length;o++)this.assertConsistency(n[o]===r.lkeys[o])}else(r=new h).session=this,r.definition=e,r.ukeys=t,r.lkeys=n,r.parseDefinition(),r.entry=this.user_get_entry(r.indexdomain,t,n),r.linkDeps(),this.add_lval(r),this.add_lval_to_index(r);return r},p.prototype.user_get_entry=function(e,t,n){var i=p.MakeModTarget(e,t,n),r=this.get_entry(i);if(r){this.assertConsistency(r.definition===e),this.assertConsistency(t.length===r.ukeys.length);for(var o=0;o<t.length;o++)this.assertConsistency(t[o]===r.ukeys[o]);this.assertConsistency(n.length===r.lkeys.length);for(o=0;o<n.length;o++)this.assertConsistency(n[o]===r.lkeys[o])}else(r=new l).session=this,r.definition=e,r.ukeys=t,r.lkeys=n,r.linkDeps(),this.add_entry(r);return r},p.prototype.user_get_entries_in_indexdomain=function(e){var n=this,i=new Array,r=this.qcount;return this.qcount+=1,this.get_lvals_for_indexdomain(e).forEach(function(e){if(!n.user_is_defaultvalue(e)){var t=e.entry;t.qcount!==r&&(t.qcount=r,i.push(e.entry),t.lvals=new Array),t.lvals.push(e)}}),i},p.prototype.user_modify_lval=function(e,t){if(!this.readonly&&(!this.user_is_datum_deleted(e)&&(e.invalidate(!1),void 0!==t))){var n=this.get_layer("T")||this.create_layer("T");e.recordOperation(n,t)}},p.prototype.user_get_items_in_domain=function(e){var t=this;return this.get_items_in_domain(e).filter(function(e){return!t.user_is_datum_deleted(e)})},p.prototype.user_get_item=function(e){var t=this.get_item(e);if(void 0===t){var n=e.indexOf(".");-1!=n&&e.substr(0,n)===this.membernumber.toString()&&(t=this.get_item(e.substr(n+1)))}return t},p.prototype.user_create_tombstone=function(e,t,n,i){var r=new u;return r.session=this,r.definition=e,r.uid=t,r.ukeys=n,r.lkeys=i,r.deleted=!0,r},p.prototype.user_create_item=function(e,t,n){var i=new u;if(i.session=this,i.definition=e,v.Util.assert(this.loaded||this.faulted),this.uidcount+=1,i.uid=(this.concatIdToItem?this.membernumber+".":"")+this.uidcount.toString(),i.ukeys=t,i.lkeys=n,this.assertConsistency(!this.get_item(i.uid)),this.readonly)return i.deleted=!0,i;if(i.linkDeps(),this.add_item(i),!i.has_deleted_dependencies()){var r=this.get_layer("T")||this.create_layer("T");i.recordCreation(r),this.add_item_to_index(i)}return i},p.prototype.user_delete_item=function(e){if(!this.readonly&&!this.user_is_datum_deleted(e)){var t=this.get_layer("T")||this.create_layer("T");e.recordDeletion(t),e.invalidate(!0)}},p.prototype.user_clear_all=function(){if(!this.readonly){var e,t=this.get_layer("B");t.invalidate_all();for(var n=t.clientround,i=this.localround,r=n+1;r<=i;r++){var o=this.get_layer("D"+r);o&&o.invalidate_all()}(e=this.get_layer("T"))&&e.invalidate_all(),this.delete_layer("T",!1),(e=this.create_layer("T")).grounded=!0}},p.prototype.log=function(e){v.Util.log("{0}",this.logmsg(e))},p.prototype.logmsg=function(e){return"["+(this.servername||this.localname)+"] "+e},p.prototype.user_is_datum_deleted=function(e){if(e.has_deleted_dependencies())return!0;var t=!1;if(e instanceof u){var n=e.compute_current();t=!n||"C"!==n[0]}return v.Util.assert(!v.dbg||t===!!e.deleted),t},p.prototype.user_is_datum_confirmed=function(e){var t=e.all_ops();return this.servername?!t.some(function(e){return"D"===e[0]||"T"===e[0]}):!t.some(function(e){return"D1"!=e})},p.prototype.user_get_value=function(e){var t;return e.has_deleted_dependencies()||(t=e.compute_current()),t},p.prototype.user_is_defaultvalue=function(e){if(e.has_deleted_dependencies())return!0;var t=e.compute_current();return void 0===t||("long"===e.codomain||"double"===e.codomain?"A0"===t||"0"===t:"string"===e.codomain?""===t||"^"===t||"^?"===t||"^!"===t:""===t)},p.prototype.get_datum=function(e){return this.data[e]},p.prototype.get_item=function(e){return this.data[e]},p.prototype.get_lval=function(e){return this.data[e]},p.prototype.get_entry=function(e){return this.data[e]},p.prototype.add_item=function(e){this.data[e.uid]=e},p.prototype.add_lval=function(e){this.data[e.target()]=e},p.prototype.add_entry=function(e){this.data[e.target()]=e},p.prototype.get_items_in_domain=function(e){var t=this.domains[e];return t?v.Util.values(t):[]},p.prototype.add_item_to_index=function(e){var t=this.domains[e.definition];t||(t=this.domains[e.definition]={}),t[e.target()]=e},p.prototype.remove_item_from_index=function(e){var t=this.domains[e.definition];t&&delete t[e.target()]},p.prototype.get_lvals_for_indexdomain=function(e){var t=this.properties[e];return t?v.Util.values(t):[]},p.prototype.add_lval_to_index=function(e){var t=this.properties[e.indexdomain];t||(t=this.properties[e.indexdomain]={}),t[e.target()]=e},p.prototype.remove_lval_from_index=function(e){var t=this.properties[e.indexdomain];t&&delete t[e.target()]},p.prototype.user_unlink=function(){for(var e in this.data){var t=this.data[e];t.backlink&&(t.backlink.unlink(),t.backlink=void 0)}},p.prototype.checkinvariants=function(){},p.prototype.user_dump_stable_data=function(e){var i=this,r=new Array;e(this.loaded),this.checkinvariants();var t=0;for(var n in v.Util.values(this.data))if(n instanceof c){var o=n.all_ops();0!==o.length&&(e(1===o.length),e("B"===o[0]),t+=1)}var a=this.get_layer("B").data,s=0;return a.forEach(function(e){var t,n=e.getOperation("B");void 0!==n&&(e instanceof u?"C"===n[0]?t=d.MakeNewPacket(e.definition,e.uid,e.ukeys,e.lkeys,1===n.length?void 0:Number(n.substr(1))):(v.Util.assert("D"===n),t=d.MakeDelPacket(e.uid)):e instanceof h&&void 0!==n&&(t=d.MakeModPacket(e.definition,n,e.ukeys,e.lkeys,i.astencoding)),r.push(t.toString()),s+=1)}),e(t===s),r},p.prototype.initialize_data=function(){this.data={},this.domains={},this.properties={},this.layers={B:new r(this,"B",new Array,0,0,!0)}},p.prototype.create_layer=function(e,t,n){v.Util.assert(!this.layers[e]);var i=new r(this,e,new Array,t,n,!1);return this.layers[e]=i,1===t&&void 0===n&&""===this.servername&&(i.grounded=!0),i},p.prototype.get_layer=function(e){return this.layers[e]},p.prototype.collapse_layers=function(e,t,i){var r=this,o=this.layers[e],a=this.layers[t];v.Util.assert(o&&a);var s=!1,c="B"===e&&"S"===t;return a.grounded&&(s=o.clear(),c&&o.invalidate_all()),(void 0===o.serverround||o.serverround<a.serverround)&&(s=!0,o.serverround=a.serverround),(void 0===o.clientround||o.clientround<a.clientround)&&(s=!0,o.clientround=a.clientround),a.data.forEach(function(e){var t=e.getOperation(a.name);if(i||e.removeOperation(a),e.recordOperation(o,t)&&(s=!0,c))if(e instanceof u){var n=e;e.invalidate("D"===t),t&&"C"===t[0]&&r.add_item_to_index(n)}else v.Util.assert(e instanceof h),e.invalidate(!1),void 0!==t&&r.add_lval_to_index(e)}),a.grounded&&(o.grounded=!0),i||delete this.layers[a.name],s},p.prototype.delete_layer=function(e,t){var n=this.layers[e];if(t)v.Util.assert(n);else if(void 0===n)return!1;var i=n.clear();return delete this.layers[e],i},p.prototype.all_layers=function(){return v.Util.values(this.layers)},p.prototype.logLayers=function(){for(var e=this.all_layers(),t=0;t<e.length;t++){var n=e[t];this.log(v.Util.fmt("Layer {0} (s:{1}/c:{2})",n.name,n.serverround,n.clientround))}},p.prototype.unsent_changes=function(){var e=this.get_layer("D"+this.localround);return e&&e.hasData()},p.prototype.dependency_is_gone=function(e,t){var n=this;return!!e.ukeys.some(function(e){return n.uid_is_gone(e,t)})&&(e.removeOperation(t),!0)},p.prototype.item_is_gone=function(e,t){var n=e.getOperation(t.name);return void 0===n||("D"===n?(e.removeOperation(t),!0):this.dependency_is_gone(e,t))},p.prototype.uid_is_gone=function(e,t){var n=this.get_item(e);return!n||this.item_is_gone(n,t)},p.prototype.forEachValidDatum=function(n,i){var r=this;n.data.forEach(function(e){var t=e.getOperation(n.name);void 0===t||n.grounded&&(e instanceof u&&r.item_is_gone(e,n)||r.dependency_is_gone(e,n))||i(e,t)})},p.prototype.EncodeLayer=function(i,r,o){var a=this,s=2!=r&&5!=r,e=3==r,c=new Array,l=o&&o.channelCompressor;return i.grounded&&c.push(d.MakeCldStarPacket(l)),i.data.forEach(function(e){if(4==r){if(!o.keyset.contains_and_clr(e.target()))return}else if(5==r&&!o.keyset.is_unsent_and_clr(e.target()))return;var t=e.getOperation(i.name);if(void 0!==t)if(i.grounded&&(e instanceof u&&a.item_is_gone(e,i)||a.dependency_is_gone(e,i)));else{if(e.fromCloudOp&&!s)return;var n;e instanceof u?"C"===t[0]?n=d.MakeNewPacket(e.definition,e.uid,e.ukeys,e.lkeys,1==t.length?void 0:Number(t.substr(1)),l):(a.assertConsistency("D"===t&&!i.grounded),n=d.MakeDelPacket(e.uid)):e instanceof h&&(n=d.MakeModPacket(e.definition,t,e.ukeys,e.lkeys,a.astencoding,l)),n.fromCloudOp=e.fromCloudOp,c.push(n)}}),this.sendCloudOperations&&void 0!==i.cloudOperations&&i.cloudOperations.forEach(function(e){if(1!=e.optype||0!=r){var t=d.MakeCopPacket(e.libName+"/"+e.actionName,e.args,e.opid,e.uidcountstart,e.uidcountstop);c.push(t)}}),c.push(d.MakeFramePacket(i,e)),c},p.MakeModTarget=function(e,t,n){var i=e?g.WriteComboString(e):"";return t.forEach(function(e){i=i+"|"+e}),n.forEach(function(e){i=i+"|+"+g.WriteComboString(e)}),i},p.ParseModTarget=function(e,t){var n=new g(e,0).ParseComboComponents();t.definition=n[0],t.ukeys=new Array,t.lkeys=new Array;for(var i=2;i<n.length;i++){"+"===(e=n[i]).charAt(0)?t.lkeys.push(e.slice(1)):t.ukeys.push(e)}},p.prototype.isFaulted=function(){return this.faulted},p.prototype.isMarooned=function(){return this.marooned},p.prototype.isClosed=function(){return this.closed},p.prototype.stopAsync=function(){return v.Promise.as()},p.prototype.send_layer=function(e){var t=this,n=this.EncodeLayer(e,2,this.ws);this.log(v.Util.fmt("Sending {0}[{1},{2}]",e.name,e.clientround,e.serverround)),n.forEach(function(e){return e.send(t.ws)})},p.prototype.getCloudSession=function(){if(!this.cachedsession){var e=new v.RT.CloudSession;e._id=this.servername,e._permissions=this.permissions,e._title=this.title,e.sessionimpl=this,e.validate()&&(this.cachedsession=e)}return this.cachedsession},p.prototype.loadAsync=function(e){var n=this;if(v.Util.assert(void 0===this.loadtask&&!this.loaded),!this.localname||this.closed)return e?e():v.Promise.as();var t=this.LoadFromDiskAsync();return t=t.then(function(e){if(!n.closed){n.intervalhandle=setInterval(function(){n.closed||n.faulted||n.SaveAndSend()},n.sendinterval);var t=n.intervalhandle;t.unref&&t.unref()}},function(e){n.faulted=!0,n.initialize_data(),n.statuschanges=!0,n.log("failed to load stored session, error="+e)}),e&&(t=t.thenalways(function(){return e()})),t.thenalways(this.doorbell),this.loadtask=t},p.prototype.LoadFromDiskAsync=function(){var s=this;return v.Storage.getTableAsync("Sessions").then(function(e){s.table=e;var a=[s.key_Sstate(),s.key_Cstate(),s.key_layer("B")];return e.getItemsAsync(a).then(function(e){var t=e[a[0]],n=e[a[1]],i=e[a[2]];if(t){s.S_fromJSONstring(t),n&&s.C_fromJSONstring(n);var o=s.get_layer("B");if(i)JSON.parse(i).forEach(function(e){return s.ProcessLoadedPacket(e,o)});a=new Array;for(var r=o.clientround+1;r<=s.localround;r++)a.push(s.key_layer("D"+r));return s.table.getItemsAsync(a).then(function(r){a.forEach(function(e){var t=r[e];if(t){var n=JSON.parse(t),i=s.create_layer(e.substr(e.indexOf("/")+1));i.clientround=Number(e.substr(e.indexOf("/")+2)),n.forEach(function(e){return s.ProcessLoadedPacket(e,i)})}else e!==s.key_layer("D"+s.localround)&&(o.clientround=o.clientround+1)}),s.loaded=!0,s.statuschanges=!0,s.trace_save_and_load&&s.trace_load()})}return s.Sstate_needsave=!0,s.loaded=!0,s.statuschanges=!0,s.trace_save_and_load&&s.trace_load(),s.table.getValueAsync(s.key_sessionlist()).then(function(e){var t={};return t[s.key_sessionlist()]=(e||"")+s.localname+" ",s.table.setItemsAsync(t)})})})},p.prototype.trace_load=function(){this.log(v.Util.fmt("Loaded S:\n{0}\nLoaded C:{1}\nLoaded Data:\n{2}",this.S_toJSONstring(),this.C_toJSONstring(),this.EncodeLayer(this.get_layer("B"),6).map(function(e){return e.toString()}).join("\n")))},p.prototype.deleteLocalStorageAsync=function(){for(var n=this,e=[this.key_Sstate(),this.key_Cstate(),this.key_layer("B")],t=this.get_layer("B").clientround+1;t<=this.localround;t++)e.push(this.key_layer("D"+t));var i=[];return e.forEach(function(e){return i[e]=void 0}),this.table.getValueAsync(this.key_sessionlist()).then(function(e){var t=new RegExp(n.localname+" ","g");return i[n.key_sessionlist()]=(e||"").replace(t,""),n.table.setItemsAsync(i)})},p.prototype.try_reconnect_in=function(e){var t=this,n=this.ws,i=new Date;this.nexttry=i.getTime()+e,this.statuschanges=!0,this.retrypending=n,v.Util.setTimeout(e,function(){return t.user_retry_now()})},p.prototype.user_retry_now=function(){this.retrypending===this.ws&&(this.retrypending=void 0,this.connect(this.url,this.tokensource))},p.prototype.connect=function(e,t){var n=this;if(this.url=e,this.tokensource=t,v.Util.assert(""!==this.servername),void 0===this.enable_sync&&(this.enable_sync=!0),v.Cloud.isOffline())this.try_reconnect_in(this.connectionretrydelay);else if(this.enable_sync&&!this.marooned&&!this.closed&&!this.faulted){var i=this.encountered_token_expiration;this.delete_layer("R",!1),this.delete_layer("S",!1),this.receivedstatus=!1,this.last_serverround_received=void 0,this.last_clientround_received=void 0,this.last_serverround_sent=void 0,this.last_clientround_sent=void 0,this.encountered_token_expiration=void 0;var r=!1;this.tokenpromise=this.tokensource(i);var o=new WebSocket(e);this.log("connecting to "+e),this.ws=o,this.nexttry=0,this.dochannelcompression&&(this.ws.channelCompressor=new m),this.ws.onmessage=function(e){n.ws===o&&(n.trace_incoming_packets&&n.log("receive: "+e.data.replace(/\n/g," ").substr(0,300)),n.ReceivePacket(d.ParsePacket(e.data,n.ws)))},this.ws.onopen=function(){n.ws===o&&(n.log("connected to "+e),r=!0,n.nexttry=void 0,n.tokenpromise.then(function(e){n.ws===o&&n.SendStatusPacket(e)},function(e){n.log("could not get authentication token"),n.ws===o&&(n.errorcategory="offline",n.error="could not get authentication token from server",n.disconnect(),n.try_reconnect_in(n.connectionretrydelay))}).then(function(){n.doorbell()}))},this.ws.onclose=function(e){var t=1;n.ws===o&&(n.log("disconnected, code="+e.code+", reason="+e.reason),1011===e.code||1005===e.code||1e3===e.code?-1!==e.reason.indexOf("switched server")||-1!==e.reason.indexOf("member not found")||-1!==e.reason.indexOf("session salt mismatch")?n.marooned=!0:-1!==e.reason.indexOf("connection reset")?(n.errorcategory="connecting",n.error="refreshing base value",n.rebase=!0,t=10):-1!==e.reason.indexOf("cannot create session")?-1!==n.membernumber?n.marooned=!0:0!==n.servername.lastIndexOf(n.user,0)?(n.errorcategory="not found",n.error="possible causes: spelling error in session id, the owner has not connected to this session yet, the session has been deleted",t=2):(n.errorcategory="not found",n.error="cannot create session on server"+e.reason.substr(21),t=1):-1!==e.reason.indexOf("Cannot reconnect: member still connected on existing socket")?(n.errorcategory="connecting",n.error="cleaning up old connection",t=7):-1!==e.reason.indexOf("access denied: readonly.")?(n.errorcategory="connecting",n.error="reconnecting as readonly",n.readonly=!0,t=10):-1!==e.reason.indexOf("access denied: ")?(n.error=e.reason.substr(15),-1!==e.reason.indexOf("old script version")||-1!==e.reason.indexOf("outdated script, must update first")?(n.errorcategory="need update",t=.01):n.errorcategory="access denied"):-1!==e.reason.indexOf("Token Expired")?(n.errorcategory="connecting",n.error=e.reason,n.encountered_token_expiration=!0,t=10):-1!==e.reason.indexOf("failed to migrate session")||-1!==e.reason.indexOf("Migrating session to new script version")?(n.errorcategory="transitioning",n.error="server is migrating session to newer script version",t=10):-1!==e.reason.indexOf("reset")?(n.errorcategory="transitioning",n.error=e.reason,t=10):-1!==e.reason.indexOf("server: ")?(n.errorcategory="transitioning",n.error=e.reason):(n.errorcategory="not working",n.error="server error: "+e.reason):1006===e.code?(n.errorcategory="offline",n.error=r?"lost connection to server":"could not connect to server",t=r?10:1):(n.errorcategory="not working",n.error="websocket error "+e.code+" clean="+e.wasClean+" reason="+e.reason),n.try_reconnect_in(n.connectionretrydelay/t),n.presence=[],n.statuschanges=!0,n.doorbell())}}},p.prototype.disconnect=function(){var e=this.ws;void 0!==e&&(this.ws=void 0,this.nexttry=void 0,e.close(),this.statuschanges=!0)},p.prototype.finishPendingOperationsAsync=function(){var t=this;return this.localname&&this.loadtask?this.closetask?this.closetask:this.loadtask.then(function(){return v.Promise.join([t.last_C_save.then(function(e){return t.SaveAndSend(),t.last_C_save},function(e){t.faulted=!0,v.Util.oops("session save failed... local storage full?")}),t.last_S_save.then(function(e){return t.MergeAndSaveSB(),t.last_S_save},function(e){t.faulted=!0,v.Util.oops("session save failed... local storage full?")})])}):v.Promise.as()},p.prototype.closeAsync=function(e){var t=this;this.closed=!0;var n=this.loadtask;return this.intervalhandle&&clearInterval(this.intervalhandle),this.disconnect(),this.user_unlink(),n?this.localname&&e?this.closetask=n.then(function(){return v.Promise.join([t.last_C_save,t.last_S_save]).then(function(){return t.deleteLocalStorageAsync()})}):this.closetask=n.then(function(){return t.finishPendingOperationsAsync()}):this.closetask=e?this.deleteLocalStorageAsync():v.Promise.as()},p.prototype.MergeAndSaveSB=function(){var t=this;if(v.Util.assert(this.loaded),this.faulted)return!1;var e,n,i=!1,r=!1,o=!1,a={},s=(new Array,this.get_layer("S"));if(s){for(var c=(u=s.clientround)+1;c<=this.localround;c++){var l=this.get_layer("D"+c);l&&l.grounded&&s.invalidate_all()}if(this.readblock){if(s.serverround>=this.readblock){s.grounded=!0,this.collapse_layers("B","S");d=this.get_layer("B").clientround;var u=s.clientround;o=r=!0;for(c=d+1;c<=u;c++){p="D"+c;this.delete_layer(p,!0),this.localname&&(i=!(a[this.key_layer(p)]=void 0))}this.readblock=void 0}}else{var d=this.get_layer("B").clientround;r=this.collapse_layers("B","S"),o=u===this.localround-1,this.get_layer("B").cleanIfNeeded(this.scrublimit);for(var c=d+1;c<=u;c++){var p="D"+c;this.delete_layer(p,!0),this.localname&&(i=!(a[this.key_layer(p)]=void 0))}}}if(this.localname&&!this.faulted&&(r&&(a[this.key_layer("B")]=JSON.stringify(e=this.EncodeLayer(n=this.get_layer("B"),1)),i=!0),this.Sstate_needsave&&(i=!0,this.Sstate_needsave=!1),i)){a[this.key_Sstate()]=this.S_toJSONstring();var h="("+(e?"B["+n.clientround+","+n.serverround+"]: "+e.length+" pkts":"status only")+")";this.trace_saving&&this.log("saving merged data "+h),this.trace_save_and_load&&this.log(v.Util.fmt("\nSaving S:\n{0}\nSaving B:\n{1}",a[this.key_Sstate()],e?e.map(function(e){return e.toString()}).join("\n"):"none")),this.last_S_save=this.table.setItemsAsync(a).then(function(e){t.trace_saving&&t.log("saved merged data "+h),t.ring_doorbell_when_done&&(t.ring_doorbell_when_done=!1,t.last_S_save=v.Promise.as(),t.doorbell())},function(e){t.log("!! failure while saving data "+h),v.Util.oops("save failed... local storage full?")})}return r||o},p.prototype.SaveAndSend=function(){var e=this;if(v.Util.assert(this.loaded),0===this.last_C_save._state)return this.last_C_save;if(this.ShouldSend()){var t=this.get_layer("D"+this.localround);t||(t=this.create_layer("D"+this.localround,this.localround));var n=this.get_layer("B");this.localround+=1;var i=this.create_layer("D"+this.localround,this.localround);v.Util.check(void 0!==n.serverround,"undefined serverround on baselayer");t.serverround=n.serverround,t.clientround;if(this.localname){var r=this.ws;return this.SaveToDiskAsync([t,i]).then(function(){e.ws===r&&e.send_layer(t)})}return this.send_layer(t),v.Promise.as()}if(this.localname&&this.CLstate_needsave){var o=this.get_layer("D"+this.localround);o||(o=this.create_layer("D"+this.localround,this.localround));var a=this.SaveToDiskAsync([o]);return this.CLstate_needsave=!1,a}},p.prototype.cleanOutstandingLayers=function(){for(var e=this.get_layer("B"),t=[],n=e.clientround+1;n<=this.localround;n++)this.delete_layer("D"+n,!0),t.push("D"+n);return this.localround=e.clientround+1,t},p.prototype.RemoveFromDiskAsync=function(e){var t=this,n={};return n[this.key_Cstate()]=this.C_toJSONstring(),n[this.key_Sstate()]=this.S_toJSONstring(),e.forEach(function(e){return n[t.key_layer(e)]=void 0}),this.table.setItemsAsync(n)},p.prototype.SaveToDiskAsync=function(e){var n=this;if(this.faulted)return v.Promise.as();var i={};i[this.key_Cstate()]=this.C_toJSONstring(),e.forEach(function(e){var t=n.EncodeLayer(e,0);i[n.key_layer(e.name)]=JSON.stringify(t)});var t=this.ws,r="("+e.map(function(e){return e.name+"["+e.clientround+", "+e.serverround+"]"}).join("/")+")";return this.trace_saving&&this.log("saving data "+r),this.last_C_save=this.table.setItemsAsync(i).then(function(e){if(n.ws===t)return v.Promise.as(t);n.trace_saving&&n.log("saved data "+r)},function(e){n.log("!! failure while saving data "+r),v.Util.oops("save failed... local storage full?"),n.faulted=!0}),this.last_C_save},p.prototype.ShouldSend=function(){var t=this;if(this.faulted)return!1;if(void 0===this.ws||this.ws.readyState!=WebSocket.OPEN||!this.receivedstatus)return!1;if(this.readonly||0!=this.ws.bufferedAmount)return!1;var e=this.get_layer("B");if(void 0!==this.writeblock){if(e.serverround<this.writeblock)return!1;this.writeblock=void 0,this.statuschanges=!0;for(var n=this.localround,i=e.clientround+1;i<n;i++)this.send_layer(this.get_layer("D"+i))}return!(this.localround-e.clientround>this.pendingroundlimit)&&!(!this.unsent_changes()&&!this.fences.some(function(e){return t.localround===e.round}))},p.prototype.user_issue_fence=function(e,t){this.fences.push(new n(e,this.loaded?this.localround:0,t)),this.user_yield()},p.prototype.user_set_doorbell=function(e){this.doorbell=e},p.prototype.user_enable_sync=function(e){e!==this.enable_sync&&((this.enable_sync=e)?this.try_reconnect_in(500):this.disconnect(),this.Sstate_needsave=!0,this.statuschanges=!0,this.doorbell())},p.prototype.user_sync_enabled=function(){return void 0===this.enable_sync||this.enable_sync},p.prototype.user_get_next_connection_attempt=function(){return this.marooned||this.closed||this.faulted?void 0:this.nexttry},p.prototype.user_get_missing_rounds=function(){if(!this.faulted&&this.loaded&&!this.marooned&&!this.closed&&this.ws&&this.ws.readyState===WebSocket.OPEN&&this.receivedstatus){var e=this.get_layer("B");return this.readblock?this.readblock-(this.get_layer("S")?this.get_layer("S").serverround:0):this.writeblock?this.writeblock-e.serverround:this.localround-1>e.clientround?this.localround-1-e.clientround:this.previewround>e.serverround?this.previewround-e.serverround:this.NumberWaitingRpcs()}return 0},p.prototype.user_is_websocket_open=function(){return this.ws&&this.ws.readyState===WebSocket.OPEN},p.prototype.user_get_percent_full=function(){return this.receivedserverinfo&&this.percentfull||0},p.prototype.user_get_presence=function(){return this.presence||-1===this.membernumber?this.presence:[{userId:this.user,sessionId:this.membernumber}]},p.prototype.user_get_connectionstatus=function(e){var t=this.user_get_connectionstatus_full();return e?t.status+" ("+t.description+")":t.status},p.prototype.user_get_connectionstatus_full=function(){if(this.faulted)return{type:0,status:v.lf("not working"),description:v.lf("local cache corrupted or storage full")};if(this.loaded){if(this.marooned)return{type:0,status:v.lf("isolated"),description:v.lf("cloud session was deleted on server")};if(this.closed)return{type:0,status:v.lf("closed"),description:""};if(void 0===this.ws)return!1===this.enable_sync?{type:1,status:v.lf("disabled"),description:v.lf("sync was disabled on purpose")}:v.Cloud.isOffline()?{type:1,status:v.lf("offline"),description:v.lf("touch develop is in offline mode{0}","")}:{type:0,status:v.lf("offline"),description:""};if(this.ws.readyState===WebSocket.CONNECTING)return{type:1,status:v.lf("connecting"),description:v.lf("trying to contact server")};if(this.ws.readyState===WebSocket.OPEN){var e=this.get_layer("B");return this.receivedstatus?this.readblock?{type:2,status:v.lf("connecting"),description:v.lf("receiving server data")}:this.writeblock?{type:2,status:v.lf("connecting"),description:v.lf("checking changes on server")}:this.localround-1>e.clientround?{type:2,status:"connected",description:this.NumberWaitingRpcs()?v.lf(" waiting for server"):v.lf(" sending changes")}:this.previewround>e.serverround?{type:2,status:v.lf("connected"),description:v.lf("receiving changes")}:this.unsent_changes()||this.get_layer("T")?{type:2,status:v.lf("connected"),description:v.lf("local changes pending")}:this.NumberWaitingRpcs()?{type:2,status:v.lf("connected"),description:v.lf("waiting for server")}:{type:2,status:v.lf("connected"),description:""}:{type:2,status:v.lf("connecting"),description:v.lf("waiting for server connection")}}return{type:0,status:this.errorcategory,description:this.error?this.error+"":""}}return{type:2,status:v.lf("loading"),description:v.lf("retrieving state from local storage")}},p.prototype.NumberWaitingRpcs=function(){return 0},p.prototype.user_set_userdata=function(e,t,n){void 0!==n&&n(this.userdata[e],t)||(this.userdata[e]=t,this.Sstate_needsave=!0)},p.prototype.user_get_userdata=function(e){return this.userdata[e]},p.prototype.user_push=function(){if(this.loaded){this.checkinvariants();var e=this.get_layer("D"+this.localround);if(e||(e=this.create_layer("D"+this.localround,this.localround)),this.get_layer("T")){var t=this.collapse_layers(e.name,"T");e.cleanIfNeeded(this.scrublimit),this.CLstate_needsave=this.CLstate_needsave||t}this.SaveAndSend(),this.checkinvariants()}},p.prototype.user_yield=function(){if(this.loaded){this.checkinvariants();var e=this.statuschanges;this.statuschanges=!1;var t=this.get_layer("D"+this.localround);if(t||(t=this.create_layer("D"+this.localround,this.localround)),this.get_layer("T")){var n=this.collapse_layers(t.name,"T");t.cleanIfNeeded(this.scrublimit),this.CLstate_needsave=this.CLstate_needsave||n}if(0===this.last_S_save._state)return!(this.ring_doorbell_when_done=!0);var i=this.MergeAndSaveSB();if(this.SaveAndSend(),this.checkinvariants(),0<this.fences.length){var r=this.get_layer("B").clientround;this.fences=this.fences.filter(function(e){return r<e.round||(e.continuation(),!1)})}return i||e}},p.prototype.protocolversion=function(){return"3.0"},p.prototype.SendStatusPacket=function(e){var t=this.get_layer("B"),n="";if(this.includeKeysInStatus){var i=[];this.forEachValidDatum(t,function(e){return i.push(e.target())}),n=i.join("?").replace("|","/")}var r=d.MakeStatusPacket(this.protocolversion()+(this.dochannelcompression?"C":"")+(this.readonly?"R":""),this.servername,this.membernumber.toString(),this.user,this.title,this.disambiguator,t.clientround.toString(),this.rebase?"0":t.serverround.toString(),e,this.script,this.permissions,n);this.rebase=!1,this.assertConsistency(!1===this.receivedstatus),this.assertConsistency(void 0===this.last_serverround_sent),this.assertConsistency(void 0===this.last_serverround_received),this.assertConsistency(void 0===this.last_clientround_sent),this.assertConsistency(void 0===this.last_clientround_received),r.send(this.ws)},p.prototype.ReceivePacket=function(e){if("sts"===e.code)this.ReceiveStatusPacket(e),this.doorbell();else if("inf"===e.code)this.ReceiveInfoPacket(e),this.doorbell();else if("frm"===e.code)this.ReceiveFramePacket(e),this.doorbell();else{var t=this.get_layer("R")||this.create_layer("R");"new"===e.code?(e.serveritemcount=this.serveritemcount,this.serveritemcount+=1,this.ProcessNewPacket(e,t,this.ws.channelCompressor)):"del"===e.code?this.ProcessDelPacket(e,t):"cld"===e.code?(this.ws.channelCompressor&&(e.definition=this.ws.channelCompressor.InBound(e.definition,e.lkeys)),"*"===e.definition&&this.ProcessClearRootPacket(e,t)):"clp"===e.code?this.ws.channelCompressor&&(e.definition=this.ws.channelCompressor.InBound(e.definition,e.lkeys)):(v.Util.assert("mod"===e.code),this.ProcessModPacket(e,t,this.ws.channelCompressor))}},p.prototype.ProcessLoadedPacket=function(e,t){if("string"==typeof e&&(e=d.ParsePacket(e,this.ws,!0)),"new"===e.code){var n=this.ProcessNewPacket(e,t);this.add_item_to_index(n)}else if("del"===e.code){(n=this.ProcessDelPacket(e,t))&&n.invalidate(!0)}else if("mod"===e.code){var i=this.ProcessModPacket(e,t);this.add_lval_to_index(i)}else if("cld"===e.code&&"*"===e.definition){if(this.ProcessClearRootPacket(e,t),"B"!=t.name){var r=this.get_layer("B");r.invalidate_all();r.clientround,this.localround;for(var o=r.clientround+1;o<t.clientround;o++){var a=this.get_layer("D"+o);a&&a.invalidate_all()}}}else if("cop"===e.code){var s=JSON.parse(e.lkeys[0]),c={libName:s.path.split("/")[0],actionName:s.path.split("/")[1],paramNames:Object.keys(s.params),returnNames:s.returnNames,args:s.params,opid:void 0===s.opid?void 0:Number(s.opid),uidcountstart:void 0===s.uidcountstart?void 0:Number(s.uidcountstart),uidcountstop:void 0===s.uidcountstop?void 0:Number(s.uidcountstop),optype:s.optype||0};t.CommitCloudOperation(c)}else v.Util.assert("frm"===e.code),this.ProcessFramePacket(e,t)},p.prototype.ReceiveInfoPacket=function(e){this.receivedserverinfo=!0,this.previewround=Number(e.lkeys[0]),this.percentfull=Number(e.lkeys[1]);var t=e.lkeys[2].split(","),n=e.lkeys[3].split(",");v.Util.assert(t.length==n.length),this.presence=t.map(function(e,t){return{userId:e,sessionId:parseInt(n[t])}}),this.statuschanges=!0},p.prototype.ReceiveStatusPacket=function(e){var t=e.lkeys[0],n=e.lkeys[1],i=Number(e.lkeys[2]),r=e.lkeys[3],o=e.lkeys[4],a=e.lkeys[5],s=Number(e.lkeys[6]),c=Number(e.lkeys[7]),l=(e.lkeys[8],e.lkeys[9],e.lkeys[10]),u=e.lkeys[11];this.clientUserId=u,o&&(this.title=o),this.disambiguator=a,this.permissions=l,this.statusPacket=e,this.previewround=s,v.Util.assert(t===this.protocolversion()),v.Util.assert(n===this.servername),v.Util.assert(-1===this.membernumber||this.membernumber===i),v.Util.assert(0<i),this.membernumber=i,v.Util.assert(r===this.user);var d=this.get_layer("B");this.assertConsistency(c===d.serverround||0===c),this.assertConsistency(s>=d.serverround);var p=this.receivedstatus;this.receivedstatus=!0,p?(this.delete_layer("R",!1),this.delete_layer("S",!1)):this.assertConsistency(void 0===this.last_clientround_received),this.last_serverround_received=c,this.last_clientround_received=0,(p||c<d.serverround)&&(this.readblock=s),!p&&d.clientround<this.localround-1&&(this.writeblock=s),this.statuschanges=!0,this.Sstate_needsave=!0},p.prototype.ReceiveFramePacket=function(e){var t=Number(e.lkeys[0]),n=Number(e.lkeys[1]);this.assertConsistency(this.receivedstatus),this.assertConsistency(n>this.last_serverround_received||this.acceptsUpdates),this.assertConsistency(t>=this.last_clientround_received),this.assertConsistency(!this.last_serverround_sent||n>this.last_serverround_sent||this.acceptsUpdates),this.assertConsistency(!this.last_clientround_sent||t<=this.last_clientround_sent),this.last_clientround_received=t,this.last_serverround_received=n;var i=this.get_layer("B");this.assertConsistency(n>=i.serverround||this.acceptsUpdates),this.assertConsistency(t>=i.clientround);var r=this.get_layer("S")||this.create_layer("S",t,n);this.assertConsistency(n>=r.serverround||this.acceptsUpdates),this.assertConsistency(t>=r.clientround),this.get_layer("R")&&this.collapse_layers("S","R"),this.get_layer("S").cleanIfNeeded(this.scrublimit),r.serverround=n,r.clientround=t,this.fences.some(function(e){return e.exclusive})&&this.user_yield()},p.prototype.ProcessFramePacket=function(e,t){if(t.clientround=Number(e.lkeys[0]),t.serverround=""==e.lkeys[1]?void 0:Number(e.lkeys[1]),e.lkeys[2]){var n=t.clientrounds={};e.lkeys[2].split(",").forEach(function(e){var t=e.split(":");n[Number(t[0])]=Number(t[1])})}},p.prototype.ProcessNewPacket=function(e,t,n){var i=e.ukeys.shift(),r=e.ukeys,o=e.lkeys,a=e.fromCloudOp,s=n?n.InBound(e.definition,o):e.definition,c=this.get_item(i);if(c){this.assertConsistency(c.uid===i),this.assertConsistency(c.definition===s),this.assertConsistency(r.length===c.ukeys.length);for(var l=0;l<r.length;l++)this.assertConsistency(r[l]===c.ukeys[l]);this.assertConsistency(o.length===c.lkeys.length);for(l=0;l<o.length;l++)this.assertConsistency(o[l]===c.lkeys[l])}else(c=new u).session=this,c.definition=s,c.uid=i,c.ukeys=r,c.lkeys=o,c.linkDeps(),c.fromCloudOp=a,this.add_item(c);return this.assertConsistency(-1!==i.indexOf(".")||Number(i)<=this.uidcount),c.recordCreation(t,e.serveritemcount),c},p.prototype.ProcessDelPacket=function(e,t){var n=e.ukeys[0],i=this.get_item(n);return i&&(this.assertConsistency(i.uid===n),i.recordDeletion(t)),i},p.prototype.ProcessModPacket=function(e,t,n,i){var r=e.ukeys,o=e.lkeys,a=n?n.InBound(e.definition,o):e.definition,s=e.fromCloudOp,c=o.pop();0===c.lastIndexOf("^#",0)&&(c=new g(c.substr(2),0).ParseComboComponents().map(function(e){return n?n.InBound(e,o):e}),this.astencoding&&(c=this.astencoding.fromstrings(c)));var l=p.MakeModTarget(a,r,o),u=this.get_lval(l);if(u){this.assertConsistency(u.definition===a),this.assertConsistency(r.length===u.ukeys.length);for(var d=0;d<r.length;d++)this.assertConsistency(r[d]===u.ukeys[d]);this.assertConsistency(o.length===u.lkeys.length);for(d=0;d<o.length;d++)this.assertConsistency(o[d]===u.lkeys[d])}else(u=new h).session=this,u.definition=a,u.ukeys=r,u.lkeys=o,u.parseDefinition(),u.entry=this.user_get_entry(u.indexdomain,r,o),u.linkDeps(),u.fromCloudOp=s,this.add_lval(u);return void 0!==i&&0===u.codomain.indexOf("^")&&0!==c.indexOf(".")&&(c=i+"."+c),u.recordOperation(t,c),u},p.prototype.ProcessClearRootPacket=function(e,t){v.Util.assert("cld"===e.code&&"*"===e.definition),t.grounded=!0},p}(),o=function(o){function e(e,t,n,i){o.call(this,t,n,i),this.returnMap={},this.sendCloudOperations=!0,this.includeKeysInStatus=!0,this.acceptsUpdates=!0,this.requiresAuth=!1,this.recording=null,v.Util.assert(!!e),this.nodeserver=e}return __extends(e,o),e.prototype.hasNodeConnection=function(){return void 0!==this.ws&&this.ws.readyState===WebSocket.OPEN},e.prototype.stopAsync=function(){return this.disconnect(),v.Promise.as()},e.prototype.ReceivePacket=function(e){if("rpc"!==e.code)return o.prototype.ReceivePacket.call(this,e);this.ReceiveOperation(e),this.doorbell()},e.prototype.user_start_cloud_operation=function(e,t,n,i,r,o){v.Util.assert(null==this.recording),v.Util.assert(null==this.recordinground),v.Util.assert(2==o),this.log("start recording operation: "+t);v.Runtime.theRuntime.compiled.libScripts[e];this.recording={libName:e,actionName:t,paramNames:n,returnNames:i,uidcountstart:this.uidcount,args:r,optype:o},this.recordinground=this.localround},e.prototype.user_stop_cloud_operation=function(e,t,n,i,r){v.Util.assert(this.recording.libName==e),v.Util.assert(this.recording.actionName==t),v.Util.assert(this.recording.paramNames==n),v.Util.assert(this.recording.returnNames==i),v.Util.assert(this.recording.args==r),v.Util.assert(this.recordinground==this.localround),this.log("done recording operation: "+t);var o=this.get_layer("T")||this.create_layer("T");this.recording.uidcountstop=this.uidcount,o.CommitCloudOperation(this.recording),this.recording=null,this.recordinground=null},e.prototype.user_rpc_cloud_operation=function(e,t,n,i,r){this.log("record rpc operation: "+t);var o=new v.PromiseInv,a=(v.Runtime.theRuntime.compiled.libScripts[e],this.get_layer("T")||this.create_layer("T"));this.uidcount+=1;var s=this.uidcount;this.returnMap[s]=o;var c={libName:e,actionName:t,paramNames:n,returnNames:i,args:r,opid:s,optype:1};return a.CommitCloudOperation(c),this.user_yield(),o},e.prototype.NumberWaitingRpcs=function(){return Object.keys(this.returnMap).length},e.prototype.ReceiveOperation=function(e){var t=this,n=JSON.parse(e.lkeys[0]),i=Number(n.opid),r=n.params;"err"===n.path?this.RemoveFromDiskAsync(this.cleanOutstandingLayers()).thenalways(function(){-1===i||void 0===t.returnMap[i]?v.Runtime.theRuntime.handleException(r,null):t.returnMap[i].error(r)}).done():void 0!==this.returnMap[i]&&(this.returnMap[i].success(r),delete this.returnMap[i])},e.prototype.unsent_changes=function(){var e=this.get_layer("D"+this.localround);return!(!e||!(0!=e.data.length||e.grounded||e.cloudOperations&&0<e.cloudOperations.length))},e.prototype.collapse_layers=function(e,t,n){var i=this.get_layer(e),r=this.get_layer(t);return i.grounded||i.mergeCloudOperations(r),o.prototype.collapse_layers.call(this,e,t,n)},e}(f.ClientSession=i),a=function(a){function e(e,t,n,i,r,o){a.call(this,e,t,n,i),this.rt=r,this.wsServer=o,this.sendCloudOperations=!1,this.concatIdToItem=!0,this.includeKeysInStatus=!1,this.requiresAuth=!1,this.current_membernumber=0,this.membernumber=0,this.disambiguators={},this.schema={},this.full_keys={},this.types={},this.transactionFailed=!1,this.transactionRunning=!1}return __extends(e,a),e.prototype.log=function(e){v.Util.log(e)},e.prototype.user_create_item=function(e,t,n){var i=new u;if(i.session=this,i.definition=e,v.Util.assert(this.loaded||this.faulted),void 0===this.uidcountstart||this.uidcountstart>this.uidcountstop){this.uidcount++;var r="0."+this.uidcount}else{this.uidcountstart++;r=this.membernumber+"."+this.uidcountstart}if(i.uid=r,i.ukeys=t,i.lkeys=n,v.Util.assert(!this.get_item(i.uid)),this.readonly)return i.deleted=!0,i;if(i.linkDeps(),this.add_item(i),!i.has_deleted_dependencies()){var o=this.get_layer("T")||this.create_layer("T");i.recordCreation(o),this.add_item_to_index(i)}return i},e.prototype.create_layer=function(e,t,n){return void 0===n&&(n=t),a.prototype.create_layer.call(this,e,t,n)},e.prototype.get_unsaved_layer=function(){var e=this.get_layer("D"+this.localround);return e||(e=this.create_layer("D"+this.localround,this.localround,this.localround)),e},e.prototype.collapse_layers=function(e,t,n){var i=this.get_layer(e),r=this.get_layer(t);return void 0!==r.clientrounds&&(void 0===i.clientrounds&&(i.clientrounds={}),Object.keys(r.clientrounds).forEach(function(e){void 0!==i.clientrounds[e]&&void 0!==r.clientrounds[e]&&v.Util.assert(i.clientrounds[e]<=r.clientrounds[e]),i.clientrounds[e]=r.clientrounds[e]})),a.prototype.collapse_layers.call(this,e,t,n)},e.prototype.user_start_transaction=function(e,t){var n=this.get_layer("T")||this.create_layer("T");return void 0!==t&&(n.clientrounds={},n.clientrounds[e]=t),this.checkinvariants(),n},e.prototype.user_end_transaction=function(){this.get_layer("T")||this.create_layer("T");var e=this.get_unsaved_layer();this.collapse_layers(e.name,"T"),e.cleanIfNeeded(this.scrublimit),this.Sstate_needsave=!0},e.prototype.user_rollback_transaction=function(){var e=this.get_layer("T");v.Util.assert(void 0!==e,"transaction layer has to be created by user_start_transaction before calling user_rollback_transaction"),this.delete_layer("T",!0)},e.prototype.user_yield=function(){return!this.transactionRunning&&a.prototype.user_yield.call(this)},e.prototype.user_push=function(){if(!this.transactionRunning)return a.prototype.user_push.call(this)},e.prototype.MergeAndSaveSB=function(){return!1},e.prototype.sendLayerToClient=function(e,t){var n=this,i=this.EncodeLayer(e,4,t),r=e.clientrounds&&e.clientrounds[t.membernumber]||t.lastclientroundsent,o=e.serverround;this.updateForClient(i,r,t.membernumber),i.forEach(function(e){return n.sendPacketToClient(n,e,t)}),v.Util.assert(r>=t.lastclientroundsent),v.Util.assert(o>t.lastserverroundsent),t.lastclientroundsent=r,t.lastserverroundsent=o},e.prototype.sendUpdatesToClient=function(t){var n=this;if(t.keyset.has_unsent_keys()){var e=this.get_layer("B"),i=this.EncodeLayer(e,5,t);if(2<i.length){var r=e.clientrounds&&e.clientrounds[t.membernumber]||t.lastclientroundsent;v.Util.assert(r>=t.lastclientroundsent),this.updateForClient(i,r,t.membernumber),i.slice(1).forEach(function(e){return"cld"!==e.code?n.sendPacketToClient(n,e,t):void 0})}}},e.prototype.sendPacketToClient=function(e,t,n){var i=t.toString();e.log(n.membernumber.toString()+"< "+i),n.send(i)},e.prototype.updateForClient=function(e,t,n){var i=this;0<e.length&&(e[e.length-1].lkeys[0]=String(t));for(var r=0;r<e.length-1;r++){var o=e[r];if(o.ukeys=o.ukeys.map(function(e){return i.filteruid(e,n)}),"mod"==o.code&&-1!==o.definition.indexOf("^")){var a=o.lkeys.length-1,s=o.lkeys[a];o.lkeys[a]=this.filteruid(s,n)}}return e},e.prototype.filteruid=function(e,t){var n=/^\d+/.exec(e);return(n?n[0]:void 0)===String(t)?e.slice(e.indexOf(".")+1):e},e.prototype.update_keysets=function(i){var r=this;this.forEachValidDatum(i,function(e,t){if(e instanceof u)if("C"===t[0]){var n=/^\w+/.exec(e.definition)[0];e.uid,"full"===r.types[n].replication&&r.add_item_to_keysets(e)}else v.Util.assert("D"===t),v.Util.assert(!i.grounded)}),this.add_closure_to_keysets()},e.prototype.add_item_to_keysets=function(t){this.sockets().forEach(function(e){return e.keyset.add(t.uid)})},e.prototype.add_closure_to_keysets=function(){var t=this;this.sockets().forEach(function(e){return t.add_closure_to_keyset(e.keyset)})},e.prototype.add_closure_to_keyset=function(e){for(var t=!0;t;)t=this.add_closure_to_keyset_it(e)},e.prototype.add_closure_to_keyset_it=function(a){var s=this;a.track();var e=this.get_layer("B");return this.forEachValidDatum(e,function(e){if(e instanceof u){var t=e;s.all_keys_in_keyset(t.ukeys,a)&&a.add(t.uid)}else{if(e instanceof h){var n=e;return/^\w+\[.*\]/.exec(n.indexdomain)?void(a.contains(n.lkeys[0])&&s.add_lval_to_keyset(n,a)):void(/\w+\(.*\)/.exec(n.indexdomain)&&a.contains(n.ukeys[0])&&s.add_lval_to_keyset(n,a))}if(e instanceof l){var i=e;if("partial"===s.get_replication_type(i)&&a.contains(i.lkeys[0])&&"]"===i.definition.charAt(i.definition.length-1))for(var r=i.definition.slice(i.definition.indexOf("["),i.definition.lastIndexOf("]")).split(","),o=0;o<r.length;o++)-1!==r[o].indexOf("(")&&a.add(i.ukeys[o])}else v.Util.assert(!1)}}),a.track()},e.prototype.add_lval_to_keyset=function(e,t){var n=e.target();t.add(n);var i=this.data[n];if(i instanceof u){var r=i;this.all_keys_in_keyset(r.ukeys,t)&&t.add(r.uid)}},e.prototype.all_keys_in_keyset=function(e,i){var r=this;return e.reduce(function(e,t){var n=r.get_item(t);return e&&(void 0===n||i.contains(t))},!0)},e.prototype.initializeKeyset=function(n,e){var i=this;1===e.length&&""===e[0]||e.forEach(function(e){return n.keyset.keys[e]=!0}),void 0!==n.clientUserId&&n.keyset.add(n.clientUserId);var t=this.get_layer("B");this.forEachValidDatum(t,function(e){if(e instanceof u){var t=e;"full"===i.get_replication_type(t)&&n.keyset.add(t.uid)}}),this.add_closure_to_keyset(n.keyset)},e.prototype.addKeysFromLayer=function(e,t){this.forEachValidDatum(e,function(e){return t.add(e.target())})},e.prototype.setupKeyset=function(e){e.keyset=new s(this)},e.prototype.getMetaData=function(){var i=this;if(void 0!==this.rt){var t=this.rt.datas;Object.keys(t).forEach(function(e){var n=t[e];Object.keys(n).forEach(function(e){if(/^\$\w+/.exec(e)){var t=e.slice(1);i.types[t]={replication:n[e]?n[e].replication:void 0}}})})}},e.prototype.get_replication_type=function(e){var t=/^\w+/.exec(e.definition);if(t){var n=this.types[t[0]];if(n)return n.replication}},e.prototype.isOriginAllowed=function(e){return!0},e.prototype.connect=function(e,t){this.url=e,this.closed||this.faulted||(this.hasPartialData=this.rt.compiled.hasPartialData,this.hasLocalData=this.rt.compiled.hasLocalData,this.rt.compiled.hostCloudData&&this.setupWebSockets(),this.getMetaData())},e.prototype.sockets=function(){return this.wsServer.connections().filter(function(e){return e.isTdWebSocket})},e.prototype.setupWebSockets=function(){var s=this;this.log("setting up websockets server"),this.wsServer.addHandler(function(i,e){if("/"==i.path()){if(!s.isOriginAllowed(i.origin()))return i.reject(),void s.log(v.Util.fmt("WebSocket connection from {0} rejected",i.origin()));s.log(v.Util.fmt("WS request from {0}",i.origin()));var r=i.accept();r.isTdWebSocket=!0,s.log(v.Util.fmt("accepted socket {0}",i.remoteAddress()));var o=[],a=!1;s.setupKeyset(r),i.onMessage(function(e,t){if(t)s.log("ERROR: Received Binary Message of "+t.length+" bytes");else{s.log((r.membernumber||"?")+"> "+e);var n=d.ParsePacket(e,r);if("sts"===n.code)return s.handleStatusPacket(n,r),void(a=!0);v.Util.assert(a),"frm"===n.code?(s.queuePackets(o,n,r,i,r.membernumber),o=[]):o.push(n)}}),i.onClose(function(e,t){a=!1,s.log(" Peer "+i.remoteAddress()+" disconnected.")})}else e()})},e.prototype.handleStatusPacket=function(t,e){t.lkeys[0];var n=t.lkeys[1],i=Number(t.lkeys[2]),r=(t.lkeys[3],t.lkeys[4],t.lkeys[5]),o=Number(t.lkeys[6]),a=Number(t.lkeys[7]),s=t.lkeys[8],c=(t.lkeys[9],t.lkeys[10],t.lkeys[11].replace("/","|").replace(/(^\d+(?!\.))|(\|\d+(?!\.))|(\?\d+(?!\.))/g,function(e){return 0===e.indexOf("|")?"|"+t.lkeys[2]+"."+e.slice(1):0===e.indexOf("?")?"?"+t.lkeys[2]+"."+e.slice(1):t.lkeys[2]+"."+e}).split("?")),l=v.Runtime.theRuntime;if(l.authValidator){var u="";l.wrapFromHandler(function(){(u=l.runUserAction(l.authValidator,[s]))&&!/:/.test(u)&&v.Util.userError("user id returned from validator has to have a namespace (eg., fb:123456)")}),u?(this.log("authorized as "+u),e.keyset.add(u)):this.log("invalid authorization attempt"),t.lkeys[11]=u,e.clientUserId=u}if(n!==f.nodesessionid(this.rt.host.currentGuid))return e.close(1e3,"switched script");var d=this.get_layer("B"),p=0;if(-1===i)v.Util.assert(""===r),i=++this.current_membernumber,r=(+new Date).toString(36),t.lkeys[5]=r,t.lkeys[2]=i.toString(),this.disambiguators[i]=r;else{if(i>this.current_membernumber||this.disambiguators[i]!==r)return e.close(1e3,"switched server");a<=d.serverround&&this.get_layer("D"+(a+1).toString())&&d.clientrounds&&d.clientrounds[i]>=o&&(p=a)}if(t.lkeys[6]=String(d.serverround),t.lkeys[7]=String(p),e.membernumber=i,this.sendPacketToClient(this,t,e),this.initializeKeyset(e,c),this.CLstate_needsave=!0,0===d.serverround)return this.log("Sending Nothing"),e.lastclientroundsent=0,void(e.lastserverroundsent=0);if(0===p)this.log("Sending Base ("+d.serverround+")"),e.lastclientroundsent=0,e.lastserverroundsent=0,this.sendLayerToClient(d,e);else{this.log("Sending "+(d.serverround-p).toString()+" Deltas"),e.lastclientroundsent=o;for(var h=(e.lastserverroundsent=p)+1;h<=d.serverround;h++){var m=this.get_layer("D"+h);this.sendLayerToClient(m,e)}this.log("Sending Updates"),this.sendUpdatesToClient(e)}},e.prototype.queuePackets=function(e,t,c,l,n){var u=this,i=Number(t.lkeys[0]);this.rt.queueAsync(function(e,t){u.user_start_transaction(n,i),u.transactionRunning=!0,u.membernumber=n}),e.forEach(function(i){if("cop"===i.code){if(u.transactionFailed)return;var e=JSON.parse(i.lkeys[0]),t=e.path,n=e.params,r=e.opid,o=e.optype,a=isNaN(Number(e.uidcountstart))?void 0:Number(e.uidcountstart),s=isNaN(Number(e.uidcountstop))?void 0:Number(e.uidcountstoptart);u.queueOperation(t,n,l.origin,c.membernumber,c,a,s).then(function(e){(u.get_layer("T")||u.create_layer("T")).CommitCloudOperation({libName:t.split("/")[0],actionName:t.split("/")[1],paramNames:Object.keys(n),returnNames:[],args:[],optype:o,opid:r,res:e,socket:c})},function(e){u.sendError(r,e,c)})}else u.rt.queueAsync(function(e,t){var n=u.get_layer("T")||u.create_layer("T");u.handleCloudPacket(i,n,l,c)})}),this.rt.queueAsync(function(e,t){u.membernumber=0,u.transactionFailed?(u.user_rollback_transaction(),u.transactionFailed=!1):(u.addKeysFromLayer(u.get_layer("T"),c.keyset),u.user_end_transaction(),u.log("finished handling cloud request"),u.SaveAndSend()),u.transactionRunning=!1})},e.prototype.queueOperation=function(e,t,n,i,r,o,a){var s=this,c=new v.PromiseInv,l={method:"WS",headers:{host:n.replace(/^[a-z]+:\/\//,"")},url:"/api/"+e,body:t,connection:r,tdQueryString:{}},u=v.RT.ServerRequest.mk(l,c);r.clientUserId&&(u._user=v.RT.User.mk(r.clientUserId)),u.setJsonBody(t),u._api_path=e,(this.currentOp=c).thenalways(function(){s.currentOp===c&&(s.currentOp=void 0)}),this.rt.queueAsync(function(e,t){s.membernumber=i,s.uidcountstart=o,s.uidcountstop=a});var d=this.rt.dispatchServerRequest(u,c);return this.rt.queueAsync(function(e,t){s.membernumber=0,s.uidcountstart=void 0,s.uidcountstop=void 0}),d},e.prototype.abortCurrentTransaction=function(e){null!=this.currentOp&&(this.currentOp.error(e),this.transactionFailed=!0,this.log("rolled back transaction because of error")),this.log(e.exceptionMessage)},e.prototype.handleCloudPacket=function(e,t,n,i){if(v.Util.assert(void 0!==t),this.completeIds(e,t,i.membernumber),"new"===e.code)return this.log("Handling new effect"),e.serveritemcount=this.serveritemcount,this.serveritemcount+=1,this.ProcessNewPacket(e,t).uid;if("del"===e.code)this.log("Handling del effect"),this.ProcessDelPacket(e,t);else if("cld"===e.code)this.log("Handling cld effect"),"*"===e.definition&&this.ProcessClearRootPacket(e,t);else{if("clp"!==e.code)return v.Util.assert("mod"===e.code),this.log("Handling mod effect"),this.ProcessModPacket(e,t,void 0,i.membernumber).target();this.log("Handling clp effect")}},e.prototype.completeIds=function(t,e,n){t.ukeys.forEach(function(e){-1===(e=t.ukeys[0]).indexOf(".")&&(t.ukeys[0]=String(n)+"."+e)})},e.prototype.sendResults=function(e){var t=this;void 0!==e.cloudOperations&&e.cloudOperations.forEach(function(e){void 0!==e.opid&&(v.Util.assert(void 0!==e.socket),v.Util.assert(void 0!==e.res),t.sendResult(e.opid,e.res,e.socket))})},e.prototype.sendResult=function(e,t,n){var i=d.MakeRpcPacket("",t,e);n.send(i.toString())},e.prototype.sendError=function(e,t,n){var i=d.MakeRpcPacket("err",t,e);n.send(i.toString())},e.prototype.SaveAndSend=function(e){var t=this;v.Util.assert(this.loaded);var n=v.Promise.as();if(void 0!==e&&this.localround>e)return this.last_C_save;if(0===this.last_C_save._state)return this.last_C_save.then(function(){return t.SaveAndSend(e)});var i=this.get_layer("D"+this.localround);if(i&&i.hasData()){var r=this.get_unsaved_layer();this.get_layer("B");this.localround+=1;this.create_layer("D"+this.localround,this.localround,this.localround);this.collapse_layers("B",r.name,!0),this.last_C_save=this.SaveToDiskAsync().then(function(){t.update_keysets(r),t.log("Broadcasting Layer "+r.name),t.sockets().forEach(function(e){e.lastserverroundsent<r.serverround?(v.Util.assert(e.lastserverroundsent==r.serverround-1),t.sendLayerToClient(r,e)):v.Util.assert(e.lastserverroundsent==r.serverround)}),t.log("Sending Updates"),t.sockets().forEach(function(e){return t.sendUpdatesToClient(e)}),t.sendResults(r),r.removeCloudOperations()}),n=this.last_C_save,this.CLstate_needsave=!1}else if(this.CLstate_needsave)return n=this.SaveToDiskAsync(),this.CLstate_needsave=!1,n;return n},e.prototype.S_toJSONstring=function(){return JSON.stringify({uidcount:this.uidcount,localround:this.localround,disambiguators:this.disambiguators,current_membernumber:this.current_membernumber})},e.prototype.S_fromJSONstring=function(e){var t=JSON.parse(e);this.uidcount=t.uidcount,this.disambiguators=t.disambiguators||{},this.localround=t.localround,this.current_membernumber=t.current_membernumber},e.prototype.SaveToDiskAsync=function(){var t=this,e=this.get_layer("B"),n={};n[this.key_Sstate()]=this.S_toJSONstring();var i=this.EncodeLayer(e,3);return n[this.key_layer("B")]=JSON.stringify(i),this.log("saving state..."),this.trace_save_and_load&&this.log(v.Util.fmt("\nSaved Metadata:\n{0}\nSaved Data:\n{1}",n[this.key_Sstate()],i.map(function(e){return e.toString()}).join("\n"))),this.last_C_save=this.table.setItemsAsync(n).then(function(e){return t.log("saved state."),v.Promise.as()},function(e){throw t.log("!! failure while saving data "),v.Util.oops("save failed... local storage full?"),t.faulted=!0,e}),this.last_C_save},e.prototype.LoadFromDiskAsync=function(){var o=this;return v.Storage.getTableAsync("Sessions").then(function(e){o.table=e;var r=[o.key_Sstate(),o.key_layer("B")];return e.getItemsAsync(r).then(function(e){var t=e[r[0]],n=e[r[1]],i=o.get_layer("B");t?(o.S_fromJSONstring(t),n&&JSON.parse(n).forEach(function(e){return o.ProcessLoadedPacket(e,i)})):o.Sstate_needsave=!0;i.serverround<o.localround-1&&(o.log("Corrupted files - lost "+(o.localround-i.serverround-1)+" rounds. "),o.localround=i.serverround+1),o.loaded=!0,o.statuschanges=!0,o.trace_save_and_load&&o.log(v.Util.fmt("Loaded Metadata:\n{0}\nLoaded Data:\n{1}",o.S_toJSONstring(),o.EncodeLayer(o.get_layer("B"),6).map(function(e){return e.toString()}).join("\n")))})})},e.prototype.user_sync_enabled=function(){throw new Error("Should not be called on the server")},e.prototype.user_enable_sync=function(e){throw new Error("Should not be called on the server")},e.prototype.user_issue_fence=function(e,t){throw new Error("Should not be called on the server")},e.prototype.user_get_connectionstatus=function(e){throw new Error("Should not be called on the server")},e.prototype.user_get_next_connection_attempt=function(){throw new Error("Should not be called on the server")},e.prototype.user_get_missing_rounds=function(){throw new Error("Should not be called on the server")},e.prototype.user_is_websocket_open=function(){throw new Error("Should not be called on the server")},e.prototype.user_retry_now=function(){throw new Error("Should not be called on the server")},e.prototype.user_get_percent_full=function(){throw new Error("Should not be called on the server")},e.prototype.isFaulted=function(){throw new Error("Should not be called on the server")},e.prototype.isClosed=function(){throw new Error("Should not be called on the server")},e.prototype.isMarooned=function(){throw new Error("Should not be called on the server")},e.prototype.getCloudSession=function(){throw new Error("Should not be called on the server")},e}(f.NodeSession=o);f.ServerSession=a;var s=function(){function e(e){this.session=e,this.keys={},this.delta={}}return e.prototype.add=function(e){v.Util.assert(void 0!==e),this.keys[e]||(this.added=!0,this.delta[e]=!0,this.keys[e]=!0)},e.prototype.remove=function(e){delete this.keys[e],delete this.delta[e]},e.prototype.contains=function(e){return void 0!==this.keys[e]},e.prototype.contains_and_clr=function(e){var t=this.contains(e);return t?(void 0!==this.delta[e]&&this.session.log("sending "+e),delete this.delta[e]):this.session.log(v.Util.fmt("Does not contain: {0}",e)),t},e.prototype.is_unsent_and_clr=function(e){var t=void 0!==this.delta[e];return t&&(this.session.log("send update for "+e),delete this.delta[e]),t},e.prototype.has_unsent_keys=function(){return 0<Object.keys(this.delta).length},e.prototype.key_sent=function(e){delete this.delta[e]},e.prototype.unsent_keys=function(){return this.delta},e.prototype.reset_delta=function(){this.delta={}},e.prototype.track=function(){var e=this.added;return this.added=!1,e},e}();f.Keyset=s;var d=function(){function c(){}return c.MakeStatusPacket=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new c;return n.code="sts",n.ukeys=[],n.lkeys=e,n},c.MakeNewPacket=function(e,t,n,i,r,o){var a=new c;return a.code="new",a.ukeys=[t].concat(n),o?(a.lkeys=i.slice(0),a.definition=o.OutBound(e,a.lkeys)):(a.lkeys=i,a.definition=e),a.serveritemcount=r,a},c.MakeDelPacket=function(e){var t=new c;return t.code="del",t.ukeys=[e],t.lkeys=[],t},c.MakeCldStarPacket=function(e){var t=new c;return t.code="cld",t.ukeys=[],t.lkeys=[],t.definition=e?e.OutBound("*",t.lkeys):"*",t},c.MakeModPacket=function(e,t,n,i,r,o){var a=new c;a.code="mod";var s=[];return"string"!=typeof t&&(v.Util.assert(Array.isArray(t)),r&&(t=r.tostrings(t)),t="^#"+t.map(function(e){return g.WriteComboString(o?o.OutBound(e,s):e)}).join("|")),s.reverse(),s.push(t),a.definition=o?o.OutBound(e,s):e,a.ukeys=n,a.lkeys=i.concat(s),a},c.MakeFramePacket=function(t,e){var n=new c;return n.code="frm",n.ukeys=[],n.lkeys=[t.clientround.toString()],n.lkeys.push(void 0===t.serverround?"":t.serverround.toString()),e&&t.clientrounds&&n.lkeys.push(Object.keys(t.clientrounds).map(function(e){return e+":"+t.clientrounds[e].toString()}).join(",")),n},c.MakeCopPacket=function(e,t,n,i,r){var o={path:e,params:t,opid:n,uidcountstart:i,uidcountstop:r},a=new c;return a.code="cop",a.ukeys=[],a.lkeys=[JSON.stringify(o)],a},c.MakeRpcPacket=function(e,t,n){var i={path:e,params:t,opid:n},r=new c;return r.code="rpc",r.ukeys=[],r.lkeys=[JSON.stringify(i)],r},c.ParsePacket=function(e,t,n){var i=new c,r=(e.slice(0,3),new g(e,0).ParseComboComponents()),o=0;for(i.code=r[o++],i.definition=r[o++],n&&(i.fromCloudOp=Boolean(r[o++])),i.ukeys=new Array,i.lkeys=new Array;o<r.length;o++){var a=r[o],s=a.charAt(0);"+"===s?i.lkeys.push(a.slice(1)):"-"===s?i.serveritemcount=Number(a.slice(1)):i.ukeys.push(a)}return i},c.prototype.toString=function(){var t=this.code+"|"+(this.definition?g.WriteComboString(this.definition):"");return this.ukeys.forEach(function(e){t=t+"|"+e}),this.lkeys.forEach(function(e){t=t+"|+"+g.WriteComboString(e)}),void 0!==this.serveritemcount&&(t=t+"|-"+this.serveritemcount),t},c.prototype.send=function(e){v.Util.check("frm"!==this.code||void 0!==this.lkeys[1],"undefined serverround sent frame"),e.send(this.toString())},c}();f.Packet=d;var m=function(){function e(){this.map={},this.hash={},this.localcount=0}return e.prototype.InBound=function(e,t){var n,i;return v.Util.assert(0<e.length),"+"===e[0]?(n=Number(e.substr(1)),v.Util.assert(void 0!==n),i=t.pop(),this.map[n]=i,this.hash[i]=n):(n=Number(e),v.Util.assert(void 0!==n),i=this.map[n],v.Util.assert(void 0!==i)),i},e.prototype.OutBound=function(e,t){var n,i=this.hash[e];return void 0!==i?n=i.toString():(n="+"+(--this.localcount).toString(),this.map[this.localcount]=e,this.hash[e]=this.localcount,t.push(e)),n},e}();f.ChannelCompressor=m;var g=function(){function r(e,t){this.DefinitionEscapeChar="$",this.DefinitionMetaCharacters="([,])",this.ComboEscapeChar="@",this.ComboMetaCharacters="|",this.text=e,this.pos=t}return r.MakeDomain=function(e,t,n){var i=r.WriteDefinitionString(e);return t!==r.DOMAIN_BUILTIN&&(i+=t===r.DOMAIN_DYNAMIC?"(":"[",i+=n.join(","),i+=t===r.DOMAIN_DYNAMIC?")":"]"),i},r.MakeProperty=function(e,t,n){return r.WriteDefinitionString(e)+","+n+"["+t+"]"},r.MakeKeyString=function(e,t){var n="";return e.forEach(function(e){n=n+"|"+e}),t.forEach(function(e){n=n+"|+"+r.WriteComboString(e)}),n},r.prototype.ParseKeyString=function(e,t){for(var n=this.ParseComboComponents(),i=0;i<n.length;i++){var r=n[i];"+"===r.charAt(0)?t.push(r.slice(1)):e.push(r)}},r.prototype.ParseComboComponents=function(){for(var e=new Array;this.pos<this.text.length;)e.push(this.ParseComboString()),this.pos++;return e},r.WriteDefinitionString=function(e){return e.replace(/[\$\(\[.\]\)]/g,"$$$&")},r.WriteComboString=function(e){return e.replace(/[@\|]/g,"@$&")},r.prototype.ParseDefinitionString=function(){return this.ParseString(this.DefinitionEscapeChar,this.DefinitionMetaCharacters)},r.prototype.ParseComboString=function(){return this.ParseString(this.ComboEscapeChar,this.ComboMetaCharacters)},r.prototype.ParseString=function(e,t){for(var n="";this.pos<this.text.length;){var i=this.text.charAt(this.pos);if(this.pos+=1,i===e)n+=this.text.charAt(this.pos)||e,this.pos+=1;else{if(-1!=t.indexOf(i))return this.pos-=1,n;n+=i}}return n},r.DOMAIN_BUILTIN=0,r.DOMAIN_STATIC=1,r.DOMAIN_DYNAMIC=2,r}();f.Parser=g}(v.Revisions||(v.Revisions={}))}(TDev||(TDev={})),function(p){var h,e;h=p.Revisions||(p.Revisions={}),e=function(){function e(e){this.rt=e}return e.prototype.runtest=function(e){"function"==typeof this[e]?(this.print('running test "'+e+'"'),this[e]()):this.print('no such test: "'+e+'"')},e.prototype.print=function(e){this.rt.postBoxedText(e,"")},e.prototype.fail=function(e){this.print("FAILED: "+e)},e.prototype.assert=function(e){e||this.print("FAILED")},e.prototype.randomsuffix=function(){var e=(new Date).getMilliseconds();return String.fromCharCode("a".charCodeAt(0)+e%26)+String.fromCharCode("a".charCodeAt(0)+Math.floor(e/26)%26)},e.prototype.refreshtoken=function(){var t=this;h.getRevisionServiceTokenAsync().then(function(e){t.print("success:"),t.print("token="+e)},function(e){t.fail("error: "+e)})},e.prototype.list=function(){var t=this,e=p.Cloud.getUserId();this.print("issuing get request for sessions by user "+e+"..."),h.queryMySessionsOnRevisionServerAsync(this.rt).then(function(e){t.print("success:"),e.forEach(function(e){t.print(""),t.print("id="+e._id),t.print("d="+e._title)})},function(e){t.fail("error: "+e)})},e.prototype.deletetests=function(){var n=this,e=p.Cloud.getUserId();this.print("issuing get request for sessions by user "+e+"..."),h.queryMySessionsOnRevisionServerAsync(this.rt).then(function(e){n.print("success:"),e.forEach(function(t){0==t._title.indexOf("test session for")&&(n.print("deleting "+t._id),h.deleteSessionAsync(n.rt.sessions.getCloudSessionDescriptor(e._id,e._title,e._permissions),n.rt).then(function(e){n.print("successfully deleted "+t._id)},function(e){n.fail("error deleting "+t._id+": "+e)}).done())})},function(e){n.fail("error: "+e)})},e.prototype.connect1=function(){var t=this;this.print("connecting...");var e=this.randomsuffix(),n="connectone"+e,i=new p.Revisions.ClientSession(p.Cloud.getUserId()+"0"+n,"a"+e,p.Cloud.getUserId());i.connect(this.rt.sessions.url_ws(),h.getRevisionServiceTokenAsync),this.print("create elt...");var r="customer()",o=i.user_create_item(r,[],[]),a=i.user_get_items_in_domain(r);this.assert(1==a.length),this.assert(a[0]===o),this.print("issuing fence 1..."),i.user_issue_fence(function(){t.print("fence 1 completed.");var e=i.user_get_items_in_domain(r);t.assert(1==e.length),t.assert(e[0]===o),t.print("delete elt..."),i.user_delete_item(o);e=i.user_get_items_in_domain(r);t.assert(0==e.length),t.print("issuing fence 2..."),i.user_issue_fence(function(){t.print("fence 2 completed.");var e=i.user_get_items_in_domain(r);t.assert(0==e.length),t.print("DATA:"),i.user_dump_stable_data(function(e){return t.assert(e)}).forEach(function(e){return t.print(e)}),t.print("test completed.")},!0)},!0)},e.prototype.connect2=function(){var n=this;this.print("connecting...");var e=p.Cloud.getUserId()+"0connecttwo"+this.randomsuffix(),i=new p.Revisions.ClientSession(e,e,p.Cloud.getUserId());i.connect(this.rt.sessions.url_ws(),h.getRevisionServiceTokenAsync);var t=i.user_get_value(i.user_get_lval("mystring,string[void[]]",[],[])),r=i.user_get_value(i.user_get_lval("mydouble,double[void[]]",[],[]));this.assert(""===t),this.assert(0===r),this.print("writing data..."),i.user_modify_lval(i.user_get_lval("mystring,string[void[]]",[],[]),""),i.user_modify_lval(i.user_get_lval("mydouble,double[void[]]",[],[]),3.14);t=i.user_get_value(i.user_get_lval("mystring,string[void[]]",[],[])),r=i.user_get_value(i.user_get_lval("mydouble,double[void[]]",[],[]));this.assert(""===t),this.assert(3.14===r),this.print("yielding..."),i.user_yield(),i.user_modify_lval(i.user_get_lval("mystring,string[void[]]",[],[]),"new"),i.user_modify_lval(i.user_get_lval("mydouble,double[void[]]",[],[]),"A-3");t=i.user_get_value(i.user_get_lval("mystring,string[void[]]",[],[])),r=i.user_get_value(i.user_get_lval("mydouble,double[void[]]",[],[]));this.assert("new"===t),this.assert(r-.14<1e-9),this.print("issuing fence 1..."),i.user_issue_fence(function(){n.print("fence 1 completed.");var e=i.user_get_value(i.user_get_lval("mystring,string[void[]]",[],[])),t=i.user_get_value(i.user_get_lval("mydouble,double[void[]]",[],[]));n.assert("new"===e),n.assert(t-.14<1e-9),n.print("DATA:"),i.user_dump_stable_data(function(e){return n.assert(e)}).forEach(function(e){return n.print(e)}),n.print("test completed.")},!0)},e.prototype.serverpersistence1=function(){var o=this;this.print("connecting first session...");var e=this.randomsuffix(),t=p.Cloud.getUserId()+"0serverpersistenceone"+e,a=new p.Revisions.ClientSession(t,"a",p.Cloud.getUserId());a.connect(this.rt.sessions.url_ws(),h.getRevisionServiceTokenAsync),this.print("data...");var n=a.user_create_item("customer()",[],[]),i=a.user_create_item("customer()",[],[]),r=a.user_create_item("customer()",[],[]),s=a.user_create_item("customer()",[],[]);a.user_modify_lval(a.user_get_lval("name,string[customertable[customer()]]",[n.uid],[]),"Alice"),a.user_modify_lval(a.user_get_lval("name,string[customertable[customer()]]",[i.uid],[]),"Bob"),a.user_modify_lval(a.user_get_lval("name,string[customertable[customer()]]",[r.uid],[]),"Charlie"),a.user_modify_lval(a.user_get_lval("name,string[customertable[customer()]]",[s.uid],[]),"");var c=a.user_get_items_in_domain("customer()").map(function(e){return e.target()}).sort(),l=[n.uid,i.uid,r.uid,s.uid].sort();this.assert(c.length==l.length);for(var u=0;u<c.length;u++)this.assert(c[u]===l[u]);var d=a.user_get_entries_in_indexdomain("customertable[customer()]").map(function(e){return e.target()}).sort();l=[a.user_get_entry("customertable[customer()]",[n.uid],[]),a.user_get_entry("customertable[customer()]",[i.uid],[]),a.user_get_entry("customertable[customer()]",[r.uid],[])].map(function(e){return e.target()}).sort();this.assert(d.length==l.length);for(u=0;u<d.length;u++)this.assert(d[u]===l[u]);this.print("saving..."),a.user_issue_fence(function(){o.print("save completed."),o.print("connecting second session..."),(a=new p.Revisions.ClientSession(t,"b",p.Cloud.getUserId())).connect(o.rt.sessions.url_ws(),h.getRevisionServiceTokenAsync),o.print("loading..."),a.user_issue_fence(function(){o.print("load completed."),o.print("checking data...");var e=a.user_get_items_in_domain("customer()");o.assert(4==e.length);var t=a.user_get_entries_in_indexdomain("customertable[customer()]");o.assert(3==t.length),o.print("DATA:");var n=a.user_dump_stable_data(function(e){return o.assert(e)}),i=["new|customer()|1.1","new|customer()|1.2","new|customer()|1.3","new|customer()|1.4","mod|name,string[customertable[customer()]]|1.1|+Alice","mod|name,string[customertable[customer()]]|1.2|+Bob","mod|name,string[customertable[customer()]]|1.3|+Charlie"];o.assert(n.length==i.length);for(var r=0;r<n.length;r++)o.assert(n[r]===i[r]),o.print(n[r]);o.print("test completed.")},!0)},!0)},e}(),h.SessionTests=e}(TDev||(TDev={})),function(x){!function(e){var t="M 90,129L 240,129L 240,149L 90,149L 90,129 Z M 140,169L 240,169L 240,189L 140,189L 140,169 Z M 140,209L 240,209L 240,229L 140,229L 140,209 Z M 190,249L 370,249L 370,269L 190,269L 190,249 Z M 90,289L 370,289L 370,309L 90,309L 90,289 Z M 140,329L 370,329L 370,349L 140,349L 140,329 Z M 140,369L 370,369L 370,389L 140,389L 140,369 Z M ",n={"⌹":f("0 0 380 380","<path fill='#000000' d=' M 263.5,153.201L 263.5,181.142L 263.5,181.799L 71.5,181.799L 71.5,181.142L 71.5,153.201L 71.5,152.543L 263.5,152.543L 263.5,153.201 Z M 2.79943e-005,0L 335,0L 335,335L 2.79943e-005,335L 2.79943e-005,0 Z M 24.4999,24.5L 24.4999,310.5L 310.5,310.5L 310.5,24.5L 24.4999,24.5 Z M 167.5,66.6287C 180.203,66.6287 190.5,76.926 190.5,89.6286C 190.5,102.331 180.203,112.629 167.5,112.629C 154.797,112.629 144.5,102.331 144.5,89.6286C 144.5,76.926 154.797,66.6287 167.5,66.6287 Z M 167.5,267.714C 154.797,267.714 144.5,257.416 144.5,244.714C 144.5,232.011 154.797,221.714 167.5,221.714C 180.203,221.714 190.5,232.011 190.5,244.714C 190.5,257.416 180.203,267.714 167.5,267.714 Z '/>"),"◳":f("0 0 380 380","<path fill='#000000' d=' M 179.812,155.187L 310.5,155.187L 310.5,24.4998L 179.812,24.4998L 179.812,155.187 Z M 155.172,179.812L 155.172,155.187L 155.188,155.187L 155.188,24.4999L 24.4999,24.4999L 24.4999,310.5L 310.5,310.5L 310.5,179.812L 155.172,179.812 Z M -2.2889e-005,0L 335,0L 335,335L -2.2889e-005,335L -2.2889e-005,0 Z '/>")},c={};e.loadScriptIcons=function(e){c=e};var d={findrefs:"M 100,240L 176,240L 91,155L 117,130L 202,215L 202,138L 232,168L 232,270L 130,270L 100,240 Z M 278,138L 278,215L 363,130L 388,155L 303,240L 380,240L 350,270L 248,270L 248,168L 278,138 Z M 240,279C 260,279 277,296 277,317C 277,337 260,354 240,354C 219,354 203,337 203,317C 203,296 219,279 240,279 Z ",back:"M 272,137L 213,137L 112,238L 213,340L 272,340L 196,264L 365,264L 365,213L 196,213L 272,137 Z ",select:"M 248,139L 313,120L 313,119L 313,119L 341,119L 341,354L 313,354L 313,354L 313,353L 248,334L 313,315L 313,158L 248,139 Z M 297,175L 297,202L 127,202L 127,175L 297,175 Z M 297,221L 297,249L 127,249L 127,221L 297,221 Z M 297,266L 297,294L 127,294L 127,266L 297,266 Z ",add:"M 219,119L 260,119L 260,220L 361,220L 361,261L 260,261L 260,363L 219,363L 219,261L 117,261L 117,220L 219,220L 219,119 Z ",color:"M 219,360C 190,355 163,341 145,322C 137,314 135,311 130,302C 115,272 113,230 125,198C 134,174 152,150 171,134C 181,127 198,118 209,115C 223,112 240,112 251,116C 262,119 268,123 275,131C 284,140 287,151 286,165C 285,169 282,180 279,190C 270,215 270,219 269,234C 268,246 268,247 267,247C 262,247 254,251 250,255C 245,259 240,266 237,278C 234,287 231,289 221,292C 216,293 213,293 213,293C 212,293 212,290 211,287C 207,273 192,265 179,269C 161,274 154,294 164,309C 169,318 182,323 192,320C 194,319 198,318 200,316L 204,314L 209,316C 213,318 232,323 237,323C 240,323 240,324 245,330C 253,341 269,343 280,336C 286,333 291,325 292,319C 292,315 293,314 298,310C 305,304 310,295 310,290C 310,286 311,286 314,284C 316,283 319,281 320,280C 322,279 322,279 324,282C 326,283 328,287 329,290C 332,295 332,297 332,307C 332,316 332,318 329,324C 322,338 302,351 272,358C 259,361 231,362 219,360 Z M 176,239C 182,236 188,230 190,224C 194,216 191,203 185,196C 172,183 150,187 142,203C 139,208 139,219 141,224C 147,238 163,245 176,239 Z M 239,193C 249,188 254,180 254,169C 254,161 252,155 246,150C 241,145 236,143 229,143C 215,143 203,152 202,166C 199,186 221,201 239,193 Z M 239,314C 232,312 218,309 214,307C 210,306 211,305 221,302C 238,299 242,295 248,276C 251,267 257,260 264,259C 269,258 270,258 272,262C 278,278 281,281 292,284C 295,285 298,287 299,288C 303,293 289,306 274,312C 267,314 249,315 239,314 Z M 294,277C 290,275 284,269 282,265C 280,260 281,254 285,249C 289,243 310,222 336,197C 366,169 374,163 385,163C 397,163 396,174 383,194C 365,221 330,260 314,271C 304,278 300,280 294,277 Z ",script:"M 145,329L 145,314L 176,314L 176,345L 145,345M 197,329L 197,314L 381,314L 381,345L 197,345M 145,278L 145,263L 279,263L 279,293L 145,293M 145,227L 145,212L 176,212L 176,242L 145,242M 197,227L 197,212L 381,212L 381,242L 197,242M 145,176L 145,160L 176,160L 176,191L 145,191M 197,176L 197,160L 381,160L 381,191L 197,191M 145,124L 145,108L 279,108L 279,140L 145,140",cursorright:"M 145,372L 204,372L 323,239L 204,105L 145,105L 264,239L 145,372",cursorleft:"M 323,105L 264,105L 145,238L 264,372L 323,372L 204,238L 323,105",actionlocation:t+"322,214L 373,162L 259,162L 259,128L 373,128L 322,77L 362,77L 430,145L 362,214L 322,214 Z ",actionevent:t+"333,70L 398,70L 342,128L 392,128L 289,231L 330,149L 283,149L 333,70 Z ",play:"M 353,238L 171,139L 171,338L 353,238 Z ",touchdevelop:"M 325.771,240.507L 256.702,292.393L 256.702,188.608L 325.771,240.507 Z M 275.211,115.775C 343.573,113.37 400.414,167.062 402.864,234.975C 404.979,302.949 351.353,360.095 283.378,362.207C 240.754,363.628 202.621,343.247 179.365,311.196L 191.855,302.111C 212.239,330.188 245.485,348.056 282.862,346.829C 342.441,344.974 389.341,295.087 387.486,235.491C 385.322,175.842 335.761,129.107 275.822,131.267L 275.727,131.267C 245.163,132.189 218.147,145.678 198.99,166.69L 187.512,156.267C 209.335,132.35 240.382,116.857 275.211,115.775 Z M 143.005,154.602C 176.572,154.602 204.154,181.844 204.154,215.751C 204.154,249.658 176.572,276.806 143.005,276.806C 109.437,276.806 81.2436,249.741 81.2436,215.751C 81.2436,181.766 109.437,154.602 143.005,154.602 Z M 143.005,165.141C 115.101,165.141 91.7829,187.608 91.7829,215.751C 91.7829,239.424 108.257,258.99 130.081,264.628L 120.282,229.356L 118.637,223.613L 167.182,223.613L 165.306,229.472L 154.771,264.908C 177.02,259.672 193.615,239.881 193.615,215.751C 193.615,187.525 170.908,165.141 143.005,165.141 Z M 143.005,266.266L 144.495,266.245L 154.577,232.793L 131.032,232.793L 140.295,266.196L 143.005,266.266 Z M 114.907,279.177L 169.437,279.177L 169.437,284.792L 114.907,289.084L 114.907,279.177 Z M 169.437,288.762L 169.437,296.364L 114.907,300.656L 114.907,293.055L 169.437,288.762 Z M 169.437,300.334L 169.437,306.936L 115.568,311.229L 114.907,304.627L 169.437,300.334 Z M 116.894,314.873L 125.818,314.212L 160.514,311.229L 169.115,310.564L 168.776,311.568L 167.471,314.873L 165.145,319.83C 164.162,321.475 162.84,323.462 160.852,325.123C 158.869,326.767 156.221,328.415 153.251,329.738C 150.284,331.06 146.975,331.725 144.327,332.064C 141.36,332.386 139.034,332.064 136.725,331.725C 134.419,331.06 131.771,330.399 129.788,329.077C 127.801,328.093 125.818,326.767 124.169,325.445C 122.508,324.123 121.186,322.474 119.86,320.491C 118.538,318.826 117.555,317.182 116.894,314.873 Z ",undo:"M 256,133C 228,133 202,143 183,163C 174,172 166,183 161,194L 121,148L 121,260L 220,260L 186,221C 189,208 195,195 205,185C 219,172 237,164 256,164C 275,164 293,172 306,185C 320,199 327,217 327,236C 327,255 320,273 306,287C 300,293 300,303 306,309C 310,312 314,314 318,314C 322,314 326,312 329,309C 348,290 359,264 359,236C 359,208 348,182 329,163C 309,143 283,133 256,133 Z ",cut:"M 328,324C 325,330 322,333 318,333C 315,333 311,331 308,327L 289,301L 289,299L 276,282L 273,277C 277,272 283,267 291,267C 299,267 307,272 316,281C 331,297 332,315 328,324 Z M 173,326C 165,335 157,334 153,324C 149,315 149,297 165,281C 174,272 182,267 189,267C 197,267 204,273 208,277L 196,293L 192,299L 192,300L 173,326 Z M 333,265C 320,251 305,243 291,243C 277,243 266,251 258,258L 256,254L 262,246L 292,227L 336,156L 336,109L 241,235L 146,109L 146,156L 189,227L 219,246L 225,255L 223,258C 215,251 204,243 189,243C 175,243 161,251 148,265C 124,289 124,317 131,334C 137,348 152,357 165,357C 171,357 192,342 193,341L 204,325L 241,275L 278,326L 290,342C 290,343 310,357 316,357C 330,357 343,348 349,334C 356,317 357,289 333,265 Z ",search:"M 277,139C 310,139 338,166 338,200C 338,233 310,261 277,261C 243,261 216,233 216,200C 216,166 243,139 277,139 Z M 156,354L 233,277C 246,284 261,288 277,288C 325,288 365,248 365,200C 365,151 325,112 277,112C 228,112 189,151 189,200C 189,218 194,235 204,249L 127,325C 123,329 122,334 122,339C 122,345 123,350 127,354C 135,362 148,362 156,354 Z ",history:"M 343,215L 378,181L 343,146L 257,146L 257,112L 223,112L 223,146L 154,146L 154,215L 223,215L 223,232L 136,232L 102,267L 136,301L 223,301L 223,388L 257,388L 257,301L 326,301L 326,232L 257,232L 257,215L 343,215 Z ",edit:"M 135,344L 141,303L 175,337L 135,344 Z M 195,331L 147,283L 269,160L 318,209L 195,331 Z M 328,198L 281,150L 290,141L 294,137C 306,125 327,127 340,139C 352,152 353,173 341,185C 340,186 340,186 339,188L 328,198 Z ",backspace:"M 242,198L 267,224L 293,198L 308,213L 282,238L 308,264L 293,279L 267,253L 242,279L 227,264L 253,238L 227,213L 242,198 Z M 75,238L 173,161L 349,161L 349,316L 173,316L 75,238 Z M 105,238L 182,300L 333,300L 333,177L 182,177L 105,238 Z ",hammer:"M 251,118C 256,115 268,109 283,109C 298,109 316,116 328,123C 340,130 346,137 349,141C 352,145 352,145 350,147C 348,150 343,154 344,160C 345,166 352,174 357,175C 362,176 367,171 370,169C 373,167 375,170 377,172C 378,174 380,177 380,179C 380,181 379,183 373,189C 367,195 356,206 351,212C 345,217 345,217 343,217C 342,217 339,217 337,216C 334,215 332,212 332,209C 331,207 332,204 333,202C 334,200 336,198 337,196C 338,194 338,192 336,190C 334,187 330,185 327,183C 323,181 320,181 318,182C 315,183 312,185 298,198C 284,211 259,234 246,247C 234,259 234,260 234,261C 235,263 235,264 232,268C 229,272 223,278 209,291C 195,305 174,326 163,337C 152,348 152,348 150,348C 149,348 146,348 142,344C 138,341 133,335 130,331C 128,327 128,326 142,312C 156,298 185,270 199,256C 214,242 214,242 215,242C 216,243 218,243 220,244C 221,244 221,244 234,232C 247,220 272,195 284,183C 297,170 297,170 298,166C 300,163 303,156 302,149C 302,142 297,134 291,130C 285,125 276,124 269,124C 262,123 255,123 252,122C 248,122 246,122 251,118 Z ",circleplus:"M 236.481,4.8425C 365.798,4.8425 470.63,109.674 470.63,238.991C 470.63,368.307 365.798,473.139 236.481,473.139C 107.165,473.139 2.33301,368.307 2.33301,238.991C 2.33301,109.674 107.165,4.8425 236.481,4.8425 Z M 236.481,26.9594C 119.379,26.9594 24.4499,121.889 24.4499,238.991C 24.4499,356.092 119.38,451.022 236.481,451.022C 353.583,451.022 448.513,356.092 448.513,238.991C 448.513,121.889 353.583,26.9594 236.481,26.9594 Z M 255.648,137.451L 255.648,219.824L 338.02,219.824L 338.02,258.157L 255.648,258.157L 255.648,340.53L 217.315,340.53L 217.315,258.157L 134.942,258.157L 134.942,219.824L 217.315,219.824L 217.315,137.451L 255.648,137.451 Z ",cancel:"M 172.862,139.945L 240.453,207.537L 308.045,139.945L 339.499,171.399L 271.907,238.991L 339.499,306.582L 308.045,338.036L 240.453,270.445L 172.862,338.036L 141.408,306.582L 208.999,238.991L 141.408,171.399L 172.862,139.945 Z ",stop:"M 153,153L 326,153L 326,326L 153,326L 153,326 Z ",gameboard:"M 154.865,98.1082L 154.865,154.865L 211.622,154.865L 211.622,98.1089L 154.865,98.1082 Z M 98.1082,90.0002L 381.892,90.0002L 390,90.0002L 390,390L 381.892,390L 98.1082,390L 90.0001,390L 90.0001,90.0001L 98.1082,90.0002 Z M 98.1081,325.136L 154.865,325.136L 154.865,268.379L 98.108,268.379L 98.1081,325.136 Z M 98.108,211.622L 154.865,211.622L 154.865,154.866L 98.1081,154.865L 98.108,211.622 Z M 381.892,154.865L 325.135,154.865L 325.135,98.1089L 268.378,98.109L 268.378,154.866L 325.135,154.866L 325.135,211.622L 381.892,211.622L 381.892,154.865 Z M 381.892,268.379L 325.135,268.379L 325.135,325.136L 381.892,325.136L 381.892,268.379 Z M 325.135,268.379L 325.135,211.622L 268.378,211.622L 268.378,268.379L 325.135,268.379 Z M 325.135,381.892L 325.135,325.136L 268.378,325.136L 268.378,381.892L 325.135,381.892 Z M 211.622,381.892L 211.622,325.136L 154.865,325.136L 154.865,381.892L 211.622,381.892 Z M 211.622,154.865L 211.622,211.622L 268.378,211.622L 268.378,154.866L 211.622,154.865 Z M 268.378,268.379L 211.622,268.379L 211.622,325.136L 268.378,325.136L 268.378,268.379 Z M 154.865,268.379L 211.622,268.379L 211.622,211.622L 154.865,211.622L 154.865,268.379 Z ",follower:"M 240.779,79.9986C 226.097,79.9986 214.194,91.9003 214.194,106.582C 214.194,121.258 226.097,133.16 240.779,133.16C 255.455,133.16 267.357,121.258 267.357,106.582C 267.357,91.9003 255.455,79.9986 240.779,79.9986 Z M 213.625,146.396C 204.769,146.396 195.965,149.489 189.708,154.791C 183.446,160.1 179.802,167.559 179.802,175.059L 179.802,175.818C 179.784,176.15 179.784,176.476 179.802,176.808L 179.802,288.21C 179.749,293.4 185.117,298.181 191.107,298.258C 197.202,298.335 202.802,293.5 202.743,288.21L 202.743,192.312L 210.1,192.312L 210.1,285.515L 210.137,285.515L 210.137,385.659C 210.041,392.01 215.729,397.883 222.081,397.983C 225.321,398.03 228.562,396.721 230.855,394.427C 233.143,392.136 234.458,388.901 234.404,385.659L 234.404,285.515L 246.538,285.515L 246.538,385.659C 246.443,392.01 252.13,397.883 258.482,397.983C 261.722,398.03 264.963,396.721 267.257,394.427C 269.544,392.136 270.859,388.901 270.806,385.659L 270.806,285.515L 270.847,285.515L 270.847,192.312L 278.163,192.312L 278.163,289.614C 278.082,294.827 283.49,299.638 289.504,299.698C 295.6,299.757 301.187,294.905 301.104,289.614L 301.104,178.247C 301.116,177.958 301.116,177.666 301.104,177.377L 301.104,175.059C 301.104,167.559 297.461,160.1 291.204,154.791C 284.942,149.489 276.137,146.396 267.279,146.396",nicehammer:"M 260.037,115.075C 264.533,111.92 274.714,105.811 288.337,105.666C 301.96,105.52 319.025,111.338 330.176,117.64C 341.326,123.943 346.562,130.73 349.18,134.172C 351.798,137.614 351.798,137.711 349.956,139.796C 348.114,141.88 344.429,145.953 345.496,151.48C 346.562,157.006 352.38,163.988 357.276,164.909C 362.173,165.83 366.148,160.691 368.96,159.091C 371.772,157.491 373.421,159.43 374.923,161.612C 376.426,163.794 377.784,166.218 378.123,168.108C 378.462,169.999 377.784,171.357 372.439,177.102C 367.094,182.846 357.083,192.979 351.956,198.118C 346.829,203.257 346.587,203.402 345.241,203.499C 343.896,203.596 341.448,203.645 339.29,202.433C 337.133,201.221 335.266,198.748 334.612,196.421C 333.957,194.094 334.515,191.912 335.727,189.961C 336.939,188.01 338.805,186.289 339.593,184.519C 340.381,182.749 340.09,180.931 338.236,178.726C 336.381,176.52 332.964,173.926 329.873,172.544C 326.782,171.163 324.019,170.993 321.413,171.829C 318.807,172.666 316.359,174.508 301.52,188.886C 286.681,203.265 259.451,230.18 245.902,244.041C 232.352,257.902 232.484,258.71 232.743,259.951C 233.003,261.191 233.391,262.863 230.837,266.31C 228.284,269.757 222.789,274.978 206.547,291.429C 190.305,307.88 163.316,335.561 149.773,349.402C 136.23,363.242 136.133,363.242 134.792,363.242C 133.45,363.242 130.865,363.242 127.168,360.337C 123.471,357.433 118.664,351.623 116.26,348.331C 113.856,345.038 113.856,344.262 130.465,327.068C 147.073,309.873 180.29,276.26 196.996,259.518C 213.702,242.776 213.896,242.906 214.962,243.197C 216.029,243.487 217.968,243.94 219.164,244.198C 220.36,244.457 220.812,244.522 234.532,230.753C 248.252,216.985 275.239,189.383 288.782,175.405C 302.324,161.426 302.421,161.071 303.762,157.855C 305.103,154.639 307.689,148.563 306.913,142.034C 306.138,135.505 302.001,128.524 296.215,124.646C 290.43,120.767 282.996,119.992 276.338,119.507C 269.68,119.022 263.798,118.828 260.263,118.63C 256.728,118.432 255.54,118.23 260.037,115.075 Z ",resume:"M 379.088,238.991L 200.911,336.845L 200.911,141.136L 379.088,238.991 Z M 150.921,141.091L 181.27,141.091L 181.27,336.89L 150.921,336.89L 150.921,141.091 Z ",pausesq:"M 256.877,141.174L 295.645,141.174L 295.645,336.807L 256.877,336.807L 256.877,141.174 Z M 185.261,141.174L 224.029,141.174L 224.029,336.807L 185.261,336.807L 185.261,141.174 Z ",experiment:"M 364.4,192.137L 364.363,192.112L 225.122,99.8953L 232.252,89.1295L 291.226,128.169L 336.644,128.169L 246.104,68.215L 253.232,57.4525L 392.51,149.694C 404.23,157.456 407.439,173.25 399.676,184.97C 391.914,196.69 376.121,199.899 364.4,192.137 Z M 200.75,294.907C 206.525,294.907 211.207,299.589 211.207,305.364C 211.207,311.139 206.525,315.82 200.75,315.82C 194.975,315.82 190.293,311.139 190.293,305.364C 190.293,299.589 194.975,294.907 200.75,294.907 Z M 223.827,267.863C 229.602,267.863 234.284,272.545 234.284,278.32C 234.284,284.095 229.602,288.777 223.827,288.777C 218.052,288.777 213.37,284.095 213.37,278.32C 213.37,272.545 218.052,267.863 223.827,267.863 Z M 217.343,195.686C 223.118,195.686 227.8,200.368 227.8,206.143C 227.8,211.918 223.118,216.6 217.343,216.6C 211.568,216.6 206.886,211.918 206.886,206.143C 206.886,200.368 211.568,195.686 217.343,195.686 Z M 95.4793,378.08L 190.255,258.966L 190.255,138.415L 204.394,138.415L 204.394,267.793L 159.43,325.71L 275.622,325.71L 230.659,267.792L 230.659,138.415L 244.797,138.415L 244.797,258.966L 339.573,378.08L 95.4793,378.08 Z M 183.646,337.876C 177.87,337.876 173.189,342.558 173.189,348.333C 173.189,354.108 177.87,358.79 183.646,358.79C 189.421,358.79 194.102,354.108 194.102,348.333C 194.102,342.558 189.421,337.876 183.646,337.876 Z M 238.19,328.321C 232.415,328.321 227.733,333.002 227.733,338.777C 227.733,344.553 232.415,349.234 238.19,349.234C 243.965,349.234 248.647,344.553 248.647,338.777C 248.647,333.002 243.965,328.321 238.19,328.321 Z ",stackpoint:"M 288.576,32.0641L 464.928,240.48L 288.576,464.928L 288.576,320.64C 235.136,320.64 181.696,320.64 133.6,293.839C 85.5041,267.039 42.752,213.438 29.392,162.67C 16.032,111.902 32.064,63.9671 48.0961,16.032C 74.8161,69.472 101.536,122.912 141.616,149.632C 181.696,176.352 235.136,176.352 288.576,176.352L 288.576,32.0641 Z",breakpoint:"M 240.48,64.1281C 143.084,64.1281 64.128,143.084 64.128,240.48C 64.128,337.877 143.084,416.832 240.48,416.832C 337.877,416.832 416.832,337.877 416.832,240.48C 416.832,143.084 337.877,64.1281 240.48,64.1281 Z",currentpoint:"M 288.576, 32.0641L 464.928, 240.48L 288.576, 464.928L 288.576, 320.64L 64.128, 320.64L 64.128, 176.352L 288.576, 176.352L 288.576, 32.0641 Z",stepin:"M 288.576,272.544L 384.768,272.544L 384.768,368.736L 288.576,368.736L 288.576,272.544 Z M 208.416,256.512L 272.544,320.64L 208.416,384.768L 144.288,384.768L 176.352,352.704C 133.6,352.704 90.848,352.704 69.472,312.624C 48.096,272.544 48.096,192.384 77.488,152.304C 106.88,112.224 165.664,112.224 224.448,112.224L 224.448,176.352C 187.04,176.352 149.632,176.352 130.928,195.056C 112.224,213.76 112.224,251.168 122.912,269.872C 133.6,288.576 154.976,288.576 176.352,288.576L 144.288,256.512L 208.416,256.512 Z",stepover:"M 224,160L 320,160L 320,256L 224,256L 224,160 Z M 288,288L 352,352L 288,416L 224,416L 256,384C 202.667,384 149.333,384 122.667,330.667C 96,277.333 96,170.667 122.667,117.333C 149.333,64 202.667,64 256,64L 256,128C 224,128 192,128 176,160C 160,192 160,256 176,288C 192,320 224,320 256,320L 224,288L 288,288 Z",stepout:"M 272.544,288.576L 368.736,288.576L 368.736,384.768L 272.544,384.768L 272.544,288.576 Z M 296.926,224.448L 361.054,160.32L 296.926,96.192L 232.798,96.192L 264.862,128.256C 200.734,128.256 136.606,128.256 104.542,168.336C 72.478,208.416 72.478,288.576 101.87,328.656C 131.262,368.736 190.046,368.736 248.83,368.736L 248.83,304.608C 211.422,304.608 174.014,304.608 155.31,285.904C 136.606,267.2 136.606,229.792 157.982,211.088C 179.358,192.384 222.11,192.384 264.862,192.384L 232.798,224.448L 296.926,224.448 Z",bug:"M 292.799,197.661C 299.238,200.966 301.197,209.996 297.176,217.83C 295.167,221.744 292.045,224.618 288.62,226.103C 290.629,232.763 291.696,240.224 291.803,248.223C 297.67,249.987 304.994,252.703 309.852,254.9C 315.641,257.519 317.928,259.4 320.115,265.05C 322.302,270.701 324.39,280.121 325.146,292.748C 325.902,305.375 325.326,321.209 323.033,323.428C 320.74,325.646 316.73,314.249 314.514,303.137C 312.299,292.025 311.878,281.197 311.642,275.628C 311.406,270.06 311.355,269.751 309.385,268.48C 307.415,267.209 303.526,264.976 299.269,263.357C 296.524,262.313 293.626,261.524 291.2,261.006C 289.985,272.614 286.958,284.971 282.073,297.402C 283.702,298.245 285.222,299.07 286.539,299.83C 291.843,302.893 293.856,304.916 295.416,310.544C 296.976,316.172 298.081,325.406 297.604,337.59C 297.126,349.774 295.066,364.908 292.655,366.818C 290.244,368.728 287.483,357.413 286.417,346.543C 285.35,335.673 285.978,325.247 286.282,319.883C 286.586,314.519 286.566,314.218 284.797,312.811C 283.32,311.636 280.623,309.691 277.486,307.941C 276.823,309.327 276.136,310.713 275.426,312.096C 270.586,321.523 265.021,330.133 258.986,337.767C 260.824,339.452 262.539,341.108 263.918,342.54C 267.756,346.525 268.998,348.784 268.944,354.059C 268.89,359.334 267.54,367.625 264.079,378.081C 260.617,388.536 255.044,401.156 252.475,402.211C 249.905,403.266 250.338,392.755 252.13,383.054C 253.923,373.352 257.075,364.46 258.68,359.881C 260.286,355.301 260.344,355.035 259.161,353.371C 257.977,351.708 255.552,348.648 252.632,345.966C 252.515,345.858 252.397,345.751 252.278,345.645C 230.233,369.66 203.612,381.193 183.106,373.604L 239.423,257.632L 177.902,371.186C 158.057,359.941 151.05,330.794 157.811,297.747C 157.357,297.637 156.901,297.533 156.444,297.438C 152.473,296.61 148.483,296.418 146.395,296.426C 144.306,296.434 144.12,296.641 141.27,300.707C 138.42,304.772 132.907,312.695 125.911,319.97C 118.915,327.245 110.436,333.872 109.78,331.107C 109.124,328.341 116.292,316.183 122.92,307.071C 129.548,297.959 135.636,291.893 139.989,288.703C 144.342,285.513 146.961,285.198 152.562,286.012C 154.806,286.339 157.529,286.846 160.333,287.449C 163.024,278.004 166.804,268.366 171.693,258.842C 172.45,257.367 173.225,255.912 174.017,254.478C 170.422,252.71 166.829,251.497 164.827,250.928C 162.603,250.296 162.341,250.46 158.063,253.911C 153.785,257.362 145.492,264.101 135.819,269.696C 126.146,275.291 115.094,279.742 115.244,276.599C 115.394,273.456 126.747,262.72 136.591,255.057C 146.435,247.395 154.771,242.808 160.38,240.749C 165.989,238.689 168.871,239.157 174.58,241.74C 176.221,242.483 178.097,243.401 180.059,244.415C 187.485,233.022 195.966,223.249 204.893,215.474C 202.919,213.6 200.195,211.32 197.31,209.409C 193.426,206.836 189.251,204.934 187.02,204.054C 184.789,203.174 184.501,203.316 179.731,206.44C 174.961,209.564 165.709,215.671 155.15,220.455C 144.59,225.24 132.725,228.702 133.202,225.472C 133.679,222.243 146.499,212.323 157.447,205.422C 168.395,198.521 177.471,194.64 183.473,193.089C 189.474,191.538 192.401,192.317 198.03,195.568C 203.089,198.491 210.331,203.411 215.377,207.398C 220.512,203.941 225.713,201.157 230.873,199.111C 230.904,196.199 231.633,193.135 233.128,190.224C 237.47,181.765 246.627,177.801 253.58,181.37C 258.671,183.984 261.168,189.911 260.437,196.218C 261.218,196.418 261.993,196.644 262.759,196.896C 271.644,169.666 279.848,143.046 281.456,122.34C 283.248,99.2486 276.837,83.5108 271.788,73.9875C 266.739,64.4644 263.051,61.1559 263.828,58.6207C 264.604,56.0857 269.845,54.3239 275.163,57.0064C 280.481,59.6888 285.876,66.8152 288.889,82.9933C 291.903,99.1714 292.534,124.401 287.268,146.464C 282.807,165.148 274.117,181.562 264.779,197.627C 265.844,198.05 266.893,198.525 267.923,199.053C 269.165,199.691 270.36,200.397 271.507,201.166C 279.203,190.277 287.4,179.795 298.365,171.556C 311.758,161.494 329.278,154.778 341.378,152.35C 353.477,149.922 360.155,151.782 363.759,154.849C 367.362,157.916 367.89,162.191 366.408,163.47C 364.926,164.75 361.434,163.035 353.226,162.105C 345.018,161.176 332.094,161.032 316.844,168.885C 303.547,175.733 288.482,188.661 273.19,202.368C 273.822,202.846 274.437,203.346 275.037,203.865C 279.377,197.427 286.935,194.65 292.799,197.661 Z ",twobugs:" M 217.767,207.218C 222.158,209.472 223.494,215.63 220.751,220.973C 219.381,223.642 217.252,225.602 214.917,226.614C 216.287,231.156 217.014,236.245 217.088,241.7C 219.876,242.538 223.148,243.692 225.996,244.821C 228.874,241.683 233.516,237.555 237.748,234.26C 244.462,229.035 250.146,225.907 253.971,224.502C 257.796,223.098 259.762,223.417 263.655,225.179L 267.392,227.003C 272.456,219.233 278.24,212.568 284.327,207.266C 282.981,205.989 281.123,204.433 279.156,203.13C 276.507,201.376 273.66,200.078 272.139,199.478C 270.617,198.878 270.421,198.975 267.168,201.105C 263.915,203.236 257.605,207.401 250.404,210.663C 243.204,213.926 235.112,216.287 235.437,214.085C 235.763,211.883 244.505,205.118 251.971,200.412C 259.437,195.705 265.627,193.059 269.719,192.001C 273.812,190.943 275.808,191.474 279.647,193.692C 283.097,195.685 288.036,199.04 291.477,201.759C 294.979,199.402 298.526,197.503 302.044,196.107C 302.065,194.121 302.563,192.032 303.582,190.047C 306.543,184.278 312.788,181.575 317.53,184.009C 321.001,185.791 322.704,189.833 322.205,194.135L 323.789,194.597C 329.848,176.027 335.443,157.874 336.539,143.753C 337.762,128.006 333.39,117.274 329.946,110.779C 326.503,104.285 323.988,102.029 324.518,100.3C 325.047,98.5709 328.621,97.3695 332.248,99.1988C 335.874,101.028 339.554,105.888 341.609,116.921C 343.664,127.953 344.094,145.159 340.503,160.204C 337.461,172.947 331.535,184.14 325.166,195.096L 327.311,196.068C 328.158,196.503 328.972,196.984 329.755,197.509C 335.003,190.083 340.593,182.935 348.071,177.317C 357.204,170.454 369.152,165.875 377.403,164.219C 385.655,162.563 390.209,163.831 392.666,165.923C 395.124,168.015 395.484,170.93 394.473,171.802C 393.462,172.675 391.081,171.505 385.483,170.871C 379.886,170.238 371.072,170.139 360.673,175.495C 351.605,180.165 341.331,188.981 330.903,198.328L 332.162,199.35C 335.122,194.959 340.276,193.066 344.275,195.119C 348.666,197.373 350.002,203.531 347.26,208.873C 345.89,211.542 343.76,213.502 341.425,214.515C 342.795,219.056 343.523,224.145 343.596,229.6C 347.597,230.803 352.592,232.655 355.904,234.153C 359.852,235.939 361.412,237.222 362.903,241.075C 364.395,244.929 365.818,251.352 366.334,259.963C 366.849,268.575 366.457,279.373 364.893,280.886C 363.329,282.399 360.595,274.627 359.084,267.048C 357.573,259.47 357.286,252.086 357.125,248.289C 356.964,244.491 356.929,244.28 355.586,243.414C 354.242,242.547 351.59,241.025 348.687,239.92C 346.815,239.208 344.839,238.67 343.185,238.317C 342.356,246.233 340.292,254.66 336.96,263.138L 340.006,264.793C 343.623,266.882 344.996,268.261 346.06,272.1C 347.123,275.938 347.877,282.235 347.552,290.544C 347.226,298.853 345.821,309.174 344.177,310.476C 342.533,311.778 340.65,304.063 339.922,296.65C 339.195,289.237 339.623,282.126 339.831,278.468C 340.038,274.811 340.024,274.605 338.818,273.646C 337.811,272.845 335.972,271.518 333.832,270.324L 332.427,273.158C 329.127,279.587 325.332,285.458 321.216,290.664C 322.47,291.814 323.639,292.943 324.58,293.92C 327.197,296.637 328.044,298.178 328.007,301.775C 327.97,305.372 327.05,311.027 324.689,318.157C 322.329,325.287 318.528,333.893 316.776,334.612C 315.023,335.331 315.318,328.164 316.541,321.548C 317.763,314.932 319.913,308.868 321.008,305.745C 322.102,302.622 322.142,302.44 321.335,301.306C 320.528,300.172 318.874,298.085 316.883,296.256L 316.642,296.037C 301.608,312.414 283.454,320.279 269.469,315.104L 307.875,236.016L 265.921,313.455C 252.387,305.786 247.609,285.909 252.22,263.373L 251.287,263.162C 248.579,262.597 245.858,262.466 244.434,262.472C 243.01,262.477 242.883,262.619 240.939,265.391C 240.523,265.984 240.025,266.698 239.45,267.501C 239.603,268.945 239.73,270.466 239.826,272.063C 240.341,280.674 239.948,291.472 238.385,292.985C 236.821,294.498 234.086,286.726 232.576,279.148C 232.414,278.34 232.267,277.533 232.132,276.734C 231.592,277.334 231.036,277.934 230.465,278.528C 226.488,282.664 221.807,286.493 220.101,286.559C 220.855,290.418 221.309,295.86 221.043,302.644C 220.718,310.953 219.312,321.273 217.668,322.575C 216.024,323.878 214.142,316.162 213.414,308.749C 212.687,301.336 213.115,294.226 213.322,290.568C 213.53,286.91 213.516,286.705 212.31,285.745C 211.303,284.944 209.463,283.617 207.324,282.424L 205.919,285.258C 202.619,291.687 198.824,297.558 194.708,302.764C 195.961,303.913 197.131,305.042 198.072,306.019C 200.688,308.737 201.535,310.277 201.499,313.875C 201.462,317.472 200.542,323.126 198.181,330.256C 195.82,337.387 192.02,345.993 190.267,346.712C 188.515,347.431 188.81,340.263 190.033,333.648C 191.255,327.032 193.405,320.968 194.499,317.845C 195.594,314.722 195.634,314.54 194.827,313.406C 194.02,312.271 192.366,310.185 190.375,308.355L 190.133,308.136C 175.1,324.513 156.946,332.379 142.961,327.203L 181.367,248.116L 139.412,325.554C 125.879,317.886 121.1,298.009 125.711,275.472L 124.779,275.261C 122.071,274.697 119.35,274.566 117.926,274.571C 116.502,274.577 116.374,274.718 114.431,277.491C 112.487,280.263 108.728,285.666 103.957,290.627C 99.1859,295.589 93.4034,300.108 92.9563,298.222C 92.5091,296.336 97.3974,288.045 101.917,281.831C 106.437,275.617 110.589,271.48 113.558,269.305C 116.526,267.129 118.312,266.915 122.131,267.47C 123.662,267.692 125.519,268.038 127.431,268.45C 129.266,262.009 131.844,255.436 135.178,248.941L 136.763,245.965C 134.312,244.759 131.861,243.932 130.496,243.544C 128.979,243.113 128.8,243.225 125.883,245.578C 122.966,247.932 117.31,252.527 110.714,256.343C 104.117,260.158 96.5803,263.194 96.6827,261.051C 96.7851,258.907 104.527,251.585 111.24,246.36C 117.953,241.135 123.638,238.007 127.463,236.602C 131.288,235.198 133.254,235.517 137.147,237.278L 140.883,239.102C 145.947,231.333 151.731,224.668 157.819,219.366C 156.473,218.088 154.615,216.533 152.648,215.23C 149.999,213.475 147.152,212.178 145.63,211.578C 144.109,210.978 143.913,211.074 140.66,213.205C 137.407,215.336 131.097,219.5 123.896,222.763C 116.695,226.026 108.604,228.387 108.929,226.184C 109.254,223.982 117.997,217.217 125.463,212.511C 132.929,207.805 139.118,205.158 143.211,204.1C 147.304,203.043 149.3,203.574 153.139,205.791C 156.589,207.784 161.528,211.14 164.968,213.858C 168.471,211.501 172.018,209.602 175.536,208.207C 175.557,206.221 176.055,204.132 177.074,202.147C 180.035,196.378 186.28,193.675 191.021,196.109C 194.493,197.891 196.196,201.933 195.697,206.234L 197.281,206.697C 203.34,188.127 208.935,169.974 210.031,155.853C 211.254,140.106 206.882,129.373 203.438,122.879C 199.995,116.384 197.48,114.128 198.01,112.399C 198.539,110.671 202.113,109.469 205.739,111.298C 209.366,113.128 213.045,117.988 215.1,129.02C 217.155,140.053 217.586,157.258 213.995,172.304C 210.953,185.046 205.026,196.239 198.658,207.195L 200.802,208.168C 201.649,208.603 202.464,209.084 203.246,209.609C 208.495,202.183 214.085,195.035 221.563,189.416C 230.696,182.554 242.644,177.974 250.895,176.319C 259.146,174.663 263.701,175.931 266.158,178.023C 268.615,180.114 268.976,183.029 267.965,183.902C 266.954,184.775 264.572,183.605 258.975,182.971C 253.377,182.337 244.564,182.239 234.164,187.595C 225.097,192.265 214.823,201.081 204.394,210.428L 205.654,211.449C 208.614,207.059 213.768,205.165 217.767,207.218 Z M 236.395,253.175C 236.976,254.676 237.547,256.568 238.057,258.827C 238.774,258.2 239.446,257.66 240.066,257.205C 243.035,255.03 244.82,254.815 248.64,255.37C 250.17,255.593 252.027,255.939 253.939,256.35C 255.774,249.909 258.352,243.336 261.686,236.841L 263.271,233.865C 260.82,232.66 258.37,231.832 257.004,231.444C 255.487,231.014 255.308,231.125 252.391,233.479C 249.474,235.832 243.818,240.428 237.222,244.243C 235.307,245.351 233.312,246.393 231.448,247.262C 233.949,248.636 235.194,250.072 236.395,253.175 Z M 230.617,260.388C 230.456,256.591 230.421,256.38 229.078,255.513C 227.734,254.647 225.082,253.124 222.179,252.02C 220.307,251.308 218.331,250.77 216.676,250.417C 215.848,258.333 213.783,266.76 210.452,275.237L 213.498,276.893C 217.114,278.982 218.488,280.361 219.551,284.199C 219.592,284.345 219.632,284.494 219.671,284.647C 220.669,281.477 224.674,274.889 228.426,269.732C 229.279,268.559 230.118,267.46 230.94,266.435C 230.765,263.992 230.681,261.904 230.617,260.388 Z ",bandage:"M 248.07,189.861L 289.582,231.373L 343.085,177.87C 350.508,170.447 350.508,158.412 343.085,150.989L 328.454,136.358C 321.031,128.935 308.996,128.935 301.574,136.358L 248.07,189.861 Z M 289.582,231.373L 232.836,288.12L 240.453,295.737L 297.2,238.991L 289.582,231.373 Z M 232.836,288.12L 191.324,246.608L 137.821,300.111C 130.398,307.534 130.398,319.569 137.821,326.992L 152.452,341.623C 159.875,349.046 171.91,349.046 179.333,341.623L 232.836,288.12 Z M 191.324,246.608L 248.07,189.861L 240.453,182.244L 183.707,238.991L 191.324,246.608 Z M 253.315,251.852C 255.495,249.672 255.495,246.138 253.315,243.958C 251.135,241.778 247.601,241.778 245.421,243.958C 243.241,246.138 243.241,249.672 245.421,251.852C 247.601,254.032 251.135,254.032 253.315,251.852 Z M 235.271,269.896C 237.451,267.717 237.451,264.182 235.271,262.002C 233.091,259.822 229.556,259.822 227.376,262.002C 225.196,264.182 225.196,267.717 227.376,269.896C 229.556,272.077 233.091,272.077 235.271,269.896 Z M 271.359,233.809C 273.539,231.629 273.539,228.094 271.359,225.914C 269.179,223.734 265.644,223.734 263.464,225.914C 261.284,228.094 261.284,231.629 263.464,233.809C 265.644,235.989 269.179,235.989 271.359,233.809 Z M 235.486,234.023C 237.666,231.843 237.666,228.309 235.486,226.129C 233.306,223.949 229.771,223.949 227.591,226.129C 225.411,228.309 225.411,231.843 227.591,234.023C 229.771,236.203 233.306,236.203 235.486,234.023 Z M 217.442,252.067C 219.622,249.887 219.622,246.353 217.442,244.173C 215.262,241.993 211.727,241.993 209.547,244.173C 207.367,246.353 207.367,249.887 209.547,252.067C 211.727,254.247 215.262,254.247 217.442,252.067 Z M 253.53,215.979C 255.71,213.799 255.71,210.265 253.53,208.085C 251.35,205.905 247.815,205.905 245.635,208.085C 243.455,210.265 243.455,213.799 245.635,215.979C 247.815,218.159 251.35,218.159 253.53,215.979 Z M 334.194,126.317L 353.126,145.25C 363.568,155.692 363.568,172.622 353.126,183.064L 297.2,238.991L 353.126,294.917C 363.568,305.359 363.568,322.289 353.126,332.732L 334.194,351.664C 323.752,362.106 306.822,362.106 296.38,351.664L 240.453,295.737L 184.527,351.664C 174.084,362.106 157.154,362.106 146.712,351.664L 127.78,332.732C 117.338,322.289 117.338,305.359 127.78,294.917L 183.707,238.991L 127.78,183.064C 117.338,172.622 117.338,155.692 127.78,145.25L 146.712,126.318C 157.154,115.875 174.084,115.875 184.527,126.318L 240.453,182.244L 296.38,126.318C 306.822,115.875 323.752,115.875 334.194,126.317 Z ",eye:"M 349.943,192.816C 353.79,209.607 345.604,223.355 341.548,218.002C 321.074,196.481 291.853,180.14 240.803,180.14C 195.394,180.14 141.395,202.522 131.663,234.793C 130.839,232.063 128.494,234.793 131.663,224.233C 143.803,188.948 198.826,159.234 265.989,159.234C 316.361,159.234 346.03,167.63 349.943,192.816 Z M 224.012,243.188L 209.43,227.165C 207.876,231.401 207.385,236.692 207.385,242.433C 207.385,256.342 215.617,268.375 224.012,268.375C 240.803,268.375 257.594,259.979 257.594,243.188C 257.594,229.278 238.086,217.246 224.176,217.246C 221.994,217.246 220.084,217.524 218.413,218.045L 224.012,243.188 Z M 299.735,250.828C 299.735,283.284 268.787,309.596 240.967,309.596C 213.147,309.596 182.199,283.284 182.199,250.828C 182.199,232.076 192.529,215.376 206.618,204.616C 170.27,212.023 141.014,230.95 133.526,255.781C 143.258,288.052 189.753,310.352 240.803,310.352C 291.853,310.352 338.348,288.052 348.08,255.781C 340.622,231.053 311.576,212.179 275.436,204.708C 289.464,215.471 299.735,232.13 299.735,250.828 Z M 280.633,283.423C 284.181,279.111 287.039,274.209 289.039,268.888L 264.787,254.886C 263.82,260.607 260.841,265.644 256.604,269.245L 256.745,269.632L 256.389,269.426C 252.205,272.899 246.83,274.987 240.967,274.987L 240.826,274.987L 250.404,301.301C 256.041,300.254 261.354,298.286 266.182,295.558C 271.719,292.43 276.618,288.304 280.633,283.423 Z M 349.741,247.386C 349.875,248.771 349.943,250.17 349.943,251.584C 349.943,254.442 349.664,257.243 349.125,259.979C 342.32,294.497 294.038,318.747 240.803,318.747C 187.568,318.747 139.286,294.497 132.481,259.979C 131.941,257.243 131.663,254.442 131.663,251.584C 131.663,250.17 131.731,248.771 131.865,247.386C 135.425,210.652 185.435,184.421 240.803,184.421C 296.171,184.421 346.181,210.652 349.741,247.386 Z M 240.803,335.538L 240.803,327.142L 240.803,335.538 Z M 240.803,142.443L 240.803,150.839L 240.803,142.443 Z",timer:"M 346.944,236.425C 346.944,290.093 298.523,333.6 238.792,333.6C 179.062,333.6 130.64,290.093 130.64,236.425C 130.64,186.531 172.492,145.419 226.373,139.884L 226.373,136.022C 211.128,132.468 200.029,121.559 200.029,108.653C 200.029,92.8638 216.641,80.064 237.132,80.064C 257.623,80.064 274.235,92.8638 274.235,108.653C 274.235,121.528 263.19,132.415 248.003,135.996L 248.003,139.598C 266.312,140.985 283.322,146.471 297.894,155.03L 313.116,139.487L 313.581,139.835C 313.62,139.783 313.662,139.734 313.708,139.686C 315.542,137.779 322.03,140.116 328.199,144.906C 334.129,149.51 337.605,154.704 336.238,156.794L 337.022,157.382L 321.223,173.514C 337.265,190.466 346.944,212.43 346.944,236.425 Z M 248.003,132.297C 260.554,128.861 269.541,119.629 269.541,108.78C 269.541,95.0001 255.043,83.8294 237.16,83.8294C 219.277,83.8294 204.779,95.0001 204.779,108.78C 204.779,119.645 213.793,128.889 226.373,132.312L 226.373,122.218L 220.168,122.218L 220.168,102.783L 254.235,102.783L 254.235,122.218L 248.003,122.218L 248.003,132.297 Z M 238.792,148.968C 185.035,148.968 141.456,188.124 141.456,236.425C 141.456,284.727 185.035,323.883 238.792,323.883C 292.549,323.883 336.128,284.727 336.128,236.425C 336.128,188.124 292.549,148.968 238.792,148.968 Z M 291.264,180.523L 256.618,235C 256.697,235.615 256.738,236.24 256.738,236.874C 256.738,245.765 248.716,252.972 238.821,252.972C 228.926,252.972 220.904,245.765 220.904,236.874C 220.904,228.4 228.191,221.455 237.442,220.822L 291.264,180.523 Z M 187.778,207.084C 186.399,208.951 185.144,210.899 184.022,212.917L 159.076,199.977C 160.24,197.982 161.494,196.036 162.833,194.143L 187.778,207.084 Z M 211.527,188.204C 209.281,189.212 207.113,190.34 205.034,191.579L 190.632,169.166C 192.738,167.963 194.904,166.836 197.125,165.791L 211.527,188.204 Z M 159.076,274.963L 184.022,262.022C 185.143,264.041 186.399,265.988 187.778,267.856L 162.833,280.796C 161.494,278.904 160.24,276.958 159.076,274.963 Z M 190.632,305.774L 205.034,283.36C 207.113,284.6 209.28,285.728 211.527,286.736L 197.125,309.149C 194.904,308.103 192.738,306.977 190.632,305.774 Z M 314.872,280.796L 289.927,267.856C 291.306,265.988 292.562,264.041 293.684,262.022L 318.629,274.963C 317.465,276.958 316.211,278.904 314.872,280.796 Z M 280.581,309.149L 266.179,286.736C 268.425,285.728 270.593,284.6 272.671,283.36L 287.074,305.774C 284.967,306.977 282.801,308.103 280.581,309.149 Z M 293.684,212.917C 292.562,210.899 291.306,208.951 289.927,207.083L 314.872,194.143C 316.211,196.036 317.465,197.982 318.629,199.977L 293.684,212.917 Z M 272.671,191.579C 270.593,190.34 268.425,189.212 266.179,188.204L 280.581,165.79C 282.801,166.836 284.967,167.963 287.074,169.166L 272.671,191.579 Z M 328.788,240.84L 299.989,240.84C 300.064,239.725 300.102,238.601 300.102,237.47C 300.102,236.338 300.064,235.215 299.989,234.1L 328.788,234.1L 328.865,237.47L 328.788,240.84 Z M 148.917,234.1L 177.716,234.1C 177.641,235.214 177.603,236.338 177.603,237.47C 177.603,238.601 177.641,239.725 177.716,240.839L 148.917,240.839L 148.841,237.47L 148.917,234.1 Z M 235.102,318.277L 235.102,292.401C 236.343,292.468 237.593,292.503 238.853,292.503C 240.112,292.503 241.363,292.468 242.603,292.401L 242.603,318.277L 238.853,318.346L 235.102,318.277 Z M 235.102,182.538L 235.102,156.662L 238.853,156.593L 242.603,156.662L 242.603,182.538C 241.363,182.471 240.112,182.437 238.853,182.437C 237.593,182.437 236.343,182.471 235.102,182.538 Z",chip:"M 136.738,226.451L 170.519,226.451L 170.519,195.786L 136.738,195.786L 136.738,170.707L 170.519,170.707L 170.519,135.695C 170.519,130.129 175.032,125.617 180.598,125.617L 300.309,125.617C 305.875,125.617 310.387,130.129 310.387,135.695L 310.387,170.707L 344.168,170.707L 344.168,195.786L 310.387,195.786L 310.387,226.451L 344.168,226.451L 344.168,251.53L 310.387,251.53L 310.387,282.184L 344.168,282.184L 344.168,307.263L 310.387,307.263L 310.387,342.286C 310.387,347.852 305.875,352.364 300.309,352.364L 180.598,352.364C 175.032,352.364 170.519,347.852 170.519,342.286L 170.519,307.263L 136.738,307.263L 136.738,282.184L 170.519,282.184L 170.519,251.53L 136.738,251.53L 136.738,226.451 Z ",delete:" M 248,316C 231,316 215,311 202,302L 314,190C 323,203 328,219 328,236C 328,280 292,316 248,316 Z M 248,155C 264,155 280,160 293,169L 181,281C 172,268 167,252 167,236C 167,191 203,155 248,155 Z M 248,125C 187,125 137,174 137,236C 137,297 187,346 248,346C 309,346 358,297 358,236C 358,174 309,125 248,125 Z ",clock2:"M 240,83.3306C 326,83.3306 396,153 396,238C 396,324 326,394 240,394C 154,394 84.7931,324 84.7931,238C 84.7931,153 154,83.3306 240,83.3306 Z M 240,117C 173,117 119,172 119,238C 119,305 173,360 240,360C 307,360 361,305 361,238C 361,172 307,117 240,117 Z M 226,134L 257,134L 257,222L 344,222L 344,254L 257,254L 226,254L 226,222L 226,134 Z ",brokenheart:"M 330.477,132.197C 356.937,138.77 391.78,171.336 377.523,214.52C 363.524,256.922 300.573,315.649 236.736,374.673L 236.661,377.192L 236.462,377.511L 236.458,377.474C 236.027,377.024 235.597,376.574 235.166,376.125C 234.604,376.645 234.041,377.165 233.478,377.686L 234.248,375.165C 173.755,311.965 113.848,249.002 102.394,205.56C 90.7992,161.586 128.204,131.166 155.016,126.221C 181.828,121.275 198.047,141.805 213.619,155.886L 213.62,155.898L 216.057,174.84L 207.556,193.875L 234.339,205.886L 223.103,240.42L 244.574,264.845L 225.139,285.432L 246.366,312.2L 228.578,323.124L 237.755,340.49L 236.989,366.187L 244.202,342.568L 239.924,323.398L 259.961,317.546L 246.537,286.132L 270.708,271.392L 256.431,242.173L 276.367,211.819L 253.695,193.176L 266.91,177.053L 269.626,158.078C 286.004,144.978 304.064,125.636 330.477,132.197 Z ",wholeheart:"M 298.517,129.106C 306.097,129.106 313.441,130.486 320.548,133.247C 327.655,136.007 333.928,140.168 339.366,145.73C 344.805,151.292 349.162,158.296 352.437,166.742C 355.712,175.188 357.35,185.159 357.35,196.653C 357.35,209.467 355.3,221.404 351.201,232.466C 347.102,243.529 341.715,253.932 335.04,263.675C 328.366,273.419 320.837,282.545 312.452,291.053C 304.068,299.56 295.581,307.687 286.991,315.433C 278.401,323.178 270.099,330.594 262.086,337.681C 254.072,344.767 247.182,351.709 241.414,358.507L 239.683,358.507C 233.915,351.709 227.066,344.767 219.135,337.681C 211.204,330.594 202.943,323.178 194.353,315.433C 185.763,307.687 177.276,299.56 168.892,291.053C 160.507,282.545 152.978,273.419 146.304,263.675C 139.629,253.932 134.243,243.529 130.143,232.466C 126.044,221.404 123.994,209.467 123.994,196.653C 123.994,185.159 125.632,175.188 128.907,166.742C 132.183,158.296 136.539,151.292 141.978,145.73C 147.416,140.168 153.689,136.007 160.796,133.247C 167.903,130.486 175.247,129.106 182.827,129.106C 190.12,129.106 196.681,130.064 202.511,131.98C 208.34,133.896 213.593,136.491 218.27,139.767C 222.946,143.042 227.045,146.76 230.568,150.922C 234.09,155.083 237.129,159.326 239.683,163.652L 241.414,163.652C 244.009,159.326 247.099,155.083 250.684,150.922C 254.268,146.76 258.398,143.042 263.074,139.767C 267.751,136.491 273.004,133.896 278.833,131.98C 284.663,130.064 291.224,129.106 298.517,129.106 Z ",plug:"M 359.701,173.023C 369.366,173.023 377.202,180.858 377.202,190.524C 377.202,200.19 369.366,208.025 359.701,208.025L 286.266,208.025L 286.266,269.956L 359.701,269.956C 369.366,269.956 377.202,277.791 377.202,287.457C 377.202,297.123 369.366,304.958 359.701,304.958L 286.266,304.958L 286.266,341.604L 208.803,341.604L 208.803,341.45C 181.438,341.366 159.277,317.007 159.277,286.97L 159.277,286.88L 159.277,279.85L 159.277,272.47L 107.202,272.47L 107.202,205.511L 159.277,205.511L 159.277,190.702L 159.418,190.701C 159.495,160.685 181.702,136.377 209.085,136.377L 209.203,136.377L 286.266,136.377L 286.266,173.023L 359.701,173.023 Z ",diamond:"M 196.624,189.138L 162.308,129.7L 230.941,129.7L 196.624,189.138 Z M 283.757,189.138L 249.441,129.7L 318.074,129.7L 283.757,189.138 Z M 327.492,129.7L 361.809,189.138L 293.176,189.138L 327.492,129.7 Z M 240.51,129.7L 274.826,189.138L 206.193,189.138L 240.51,129.7 Z M 153.415,129.7L 187.731,189.138L 119.098,189.138L 153.415,129.7 Z M 240.453,392.787L 119.062,199.376L 191.65,199.376L 240.453,392.787L 206.066,199.376L 274.841,199.377L 240.453,392.787L 289.257,199.377L 361.844,199.376L 240.453,392.787 Z ",cloudupload:"M 307.457,322.847L 263.012,278.402L 263.012,377.169L 233.382,377.169L 233.382,278.402L 188.937,322.847L 188.937,288.279L 248.197,229.019L 307.457,288.279L 307.457,322.847 Z M 134.171,193.154L 134.264,193.154L 152.596,193.154C 155.211,174.969 170.855,160.995 189.763,160.995C 196.549,160.995 202.914,162.795 208.407,165.943C 220.476,139.797 246.926,121.653 277.612,121.653C 318.303,121.653 351.542,153.555 353.684,193.71C 374.206,197.034 389.875,214.834 389.875,236.294C 389.875,260.12 370.561,279.434 346.735,279.434L 312.878,279.434L 298.847,265.403L 342.068,265.403L 342.068,265.08C 357.647,264.738 370.171,252.001 370.171,236.34C 370.171,220.679 357.647,207.942 342.068,207.6L 342.068,207.593L 341.424,207.593L 337.448,207.593C 337.984,204.35 338.263,201.021 338.263,197.626C 338.263,164.096 311.081,136.915 277.552,136.915C 246.798,136.915 221.385,159.782 217.388,189.441C 212.187,181.43 203.163,176.132 192.901,176.132C 176.789,176.132 163.728,189.193 163.728,205.305L 163.816,207.593L 135.032,207.593C 119.156,207.593 106.286,220.464 106.286,236.34C 106.286,252.216 119.156,265.087 135.032,265.087L 135.032,265.403L 197.548,265.403L 183.516,279.434L 134.171,279.434C 110.345,279.434 91.031,260.119 91.031,236.294C 91.031,212.468 110.346,193.154 134.171,193.154 Z ",emptyplay:"M 368.719,238.991L 178.28,343.579L 178.28,134.402L 368.719,238.991 Z M 333.017,238.991L 195.594,163.519L 195.594,314.463L 333.017,238.991 Z ",braces:"M 162.632,350.534C 136.692,350.21 123.722,337.172 123.722,311.421L 123.722,273.524C 123.722,256.527 116.804,247.61 102.97,246.773L 102.97,231.209C 116.804,230.371 123.722,221.278 123.722,203.931L 123.722,167.087C 123.722,140.985 136.692,127.772 162.632,127.447L 162.632,143.012C 148.798,143.363 141.88,151.78 141.88,168.263L 141.88,205.674C 141.88,223.535 135.476,234.505 122.668,238.585L 122.668,239.112C 135.476,242.922 141.88,253.785 141.88,271.7L 141.88,308.503C 141.88,317.906 143.427,324.627 146.521,328.667C 149.615,332.707 154.985,334.808 162.632,334.97L 162.632,350.534 Z M 377.937,246.773C 364.102,247.61 357.184,256.527 357.184,273.524L 357.184,311.421C 357.184,337.172 344.214,350.21 318.274,350.534L 318.274,334.97C 325.786,334.808 331.122,332.686 334.284,328.606C 337.445,324.526 339.026,317.825 339.026,308.503L 339.026,271.7C 339.026,253.785 345.43,242.922 358.238,239.112L 358.238,238.585C 345.43,234.505 339.026,223.535 339.026,205.674L 339.026,168.263C 339.026,151.78 332.109,143.363 318.274,143.012L 318.274,127.447C 344.214,127.772 357.184,140.985 357.184,167.087L 357.184,203.931C 357.184,221.278 364.102,230.371 377.937,231.209L 377.937,246.773 Z M 179.21,177.142L 194.321,177.142L 301.697,177.142L 301.697,207.604L 194.321,207.604L 194.321,285.313L 255.16,285.313L 255.16,300.839L 179.21,300.839L 179.21,292.62L 179.21,285.313L 179.209,207.604L 179.21,177.142 Z M 201.558,213.199L 268.948,213.199L 268.948,243.661L 201.558,243.661L 201.558,213.199 Z M 201.229,249.256L 293.972,249.256L 293.972,279.718L 201.229,279.718L 201.229,249.256 Z ",wand:"M 341.424,128.115L 351.527,138.218L 323.055,166.69L 312.952,156.587L 341.424,128.115 Z M 351.123,249.865L 341.02,259.968L 312.548,231.496L 322.651,221.393L 351.123,249.865 Z M 257.44,156.183L 247.337,166.286L 218.865,137.814L 228.968,127.711L 257.44,156.183 Z M 372.71,189.221L 372.71,203.509L 332.444,203.509L 332.444,189.221L 372.71,189.221 Z M 291.446,147.61L 277.158,147.61L 277.158,107.344L 291.446,107.344L 291.446,147.61 Z M 281.85,158.275L 320.558,196.984L 146.905,370.637L 108.196,331.929L 281.85,158.275 Z M 234.93,216.045L 119.152,331.823L 147.01,359.681L 262.789,243.903L 234.93,216.045 Z ",commandline:"M 108.874,328.138L 372.032,328.138L 372.032,149.843L 108.874,149.843L 108.874,328.138 Z M 188.674,271.59L 141.412,304.72L 141.412,286.282L 175.317,265.526L 175.317,265.206L 141.412,242.848L 141.412,224.262L 188.674,258.969L 188.674,271.59 Z M 200.548,287.425L 241.265,287.425L 241.265,302.664L 200.548,302.664L 200.548,287.425 Z ",split:"M 168.96,188.271L 130.92,226.311L 215.453,226.311L 215.453,251.67L 130.92,251.67L 168.96,289.71L 139.373,289.71L 88.6535,238.99L 139.373,188.271L 168.96,188.271 Z M 311.946,289.71L 349.986,251.671L 265.453,251.671L 265.453,226.311L 349.986,226.311L 311.946,188.271L 341.533,188.271L 392.253,238.991L 341.533,289.71L 311.946,289.71 Z M 226.511,75.2216L 254.395,75.2216L 254.395,402.76L 226.511,402.76L 226.511,75.2216 Z ",package:"M 142.374,266.405L 233.787,266.405L 233.787,350.836L 142.374,350.836L 142.374,266.405 Z M 247.119,266.405L 338.532,266.405L 338.532,350.836L 247.119,350.836L 247.119,266.405 Z M 350.276,186.1L 350.276,254.025L 247.119,254.025L 247.119,191.217C 245.407,191.325 243.69,191.427 241.973,191.529C 241.966,191.6 241.959,191.67 241.952,191.74L 233.788,191.24L 233.788,254.025L 130.63,254.025L 130.63,186.1L 197.792,186.1C 191.84,184.338 186.527,181.957 182.152,178.668C 168.397,168.327 163.909,149.012 172.104,135.939C 180.298,122.867 201.175,116.039 215.515,120.428C 229.855,124.818 237.66,140.427 240.977,154.182C 241.177,155.013 241.361,155.837 241.53,156.655C 241.677,155.953 241.837,155.246 242.008,154.535C 245.28,140.966 252.979,125.569 267.125,121.238C 281.272,116.908 301.865,123.644 309.949,136.539C 318.033,149.434 313.606,168.488 300.037,178.689C 295.655,181.983 290.32,184.354 284.34,186.1L 350.276,186.1 Z M 232.489,181.725C 233.312,173.359 234.135,164.993 231.803,155.323C 229.472,145.654 223.986,134.682 213.905,131.596C 203.824,128.51 189.149,133.31 183.388,142.499C 177.628,151.689 180.782,165.267 190.452,172.536C 200.121,179.805 216.305,180.765 232.489,181.725 Z M 250.381,181.706C 266.346,180.758 282.311,179.811 291.85,172.641C 301.388,165.47 304.5,152.075 298.818,143.01C 293.135,133.945 278.658,129.21 268.714,132.254C 258.769,135.298 253.357,146.122 251.057,155.661C 248.757,165.199 249.569,173.452 250.381,181.706 Z ",smiliesad:"M 197.203,320.447C 191.802,320.447 187.205,318.673 183.41,315.127C 179.615,311.58 177.717,307.325 177.717,302.362C 177.717,297.341 179.615,293.028 183.41,289.423C 187.205,285.818 191.802,284.015 197.203,284.015C 202.691,284.015 207.355,285.818 211.193,289.423C 215.032,293.028 216.951,297.341 216.951,302.362C 216.951,307.325 215.032,311.58 211.193,315.127C 207.355,318.673 202.691,320.447 197.203,320.447 Z M 197.203,211.151C 191.802,211.151 187.205,209.378 183.41,205.831C 179.615,202.284 177.717,198.03 177.717,193.067C 177.717,188.046 179.615,183.733 183.41,180.127C 187.205,176.522 191.802,174.72 197.203,174.72C 202.691,174.72 207.355,176.522 211.193,180.127C 215.032,183.733 216.951,188.046 216.951,193.067C 216.951,198.03 215.032,202.284 211.193,205.831C 207.355,209.378 202.691,211.151 197.203,211.151 Z M 320.642,362.484L 292.618,362.484C 264.593,330.168 250.581,290.321 250.581,242.942C 250.581,195.388 264.593,154.898 292.618,121.473L 320.642,121.473C 292.618,156.153 278.605,196.555 278.605,242.679C 278.605,288.394 292.618,328.329 320.642,362.484 Z ",signalalt:"M 125.019,266.274L 169.669,266.274L 169.669,324.752L 125.019,324.752L 125.019,266.274 Z M 183.23,228.487L 227.88,228.487L 227.88,324.752L 183.23,324.752L 183.23,228.487 Z M 241.441,192.022L 286.091,192.022L 286.091,324.752L 241.441,324.752L 241.441,192.022 Z M 299.32,155.063L 343.97,155.063L 343.97,324.752L 299.32,324.752L 299.32,155.063 Z M 305.697,162.256L 305.697,317.208L 337.594,317.208L 337.594,162.256L 305.697,162.256 Z M 247.817,200.291L 247.817,317.208L 279.714,317.208L 279.714,200.291L 247.817,200.291 Z M 189.317,235.184L 189.317,317.208L 221.214,317.208L 221.214,235.184L 189.317,235.184 Z M 131.065,274.708L 131.065,317.208L 162.962,317.208L 162.962,274.708L 131.065,274.708 Z ",signal:"M 125.011,266.081L 169.661,266.081L 169.661,324.559L 125.011,324.559L 125.011,266.081 Z M 183.222,228.294L 227.872,228.294L 227.872,324.559L 183.222,324.559L 183.222,228.294 Z M 241.432,191.83L 286.082,191.83L 286.082,324.559L 241.432,324.559L 241.432,191.83 Z M 299.312,154.87L 343.962,154.87L 343.962,324.559L 299.312,324.559L 299.312,154.87 Z ",lock:"M 151.624,205.982L 167.789,205.982C 171.332,160.444 202.513,124.832 240.453,124.832C 278.394,124.832 309.574,160.444 313.118,205.982L 329.282,205.982L 329.282,353.149L 151.624,353.149L 151.624,205.982 Z M 240.453,149.899C 216.112,149.899 196.02,177.033 193.033,205.982L 287.874,205.982C 284.886,177.033 264.794,149.899 240.453,149.899 Z M 240.453,244.36C 231.985,244.36 225.12,251.225 225.12,259.693C 225.12,265.145 227.965,269.932 232.251,272.651L 227.403,315.19L 253.503,315.19L 248.655,272.651C 252.941,269.932 255.786,265.145 255.786,259.693C 255.786,251.225 248.921,244.36 240.453,244.36 Z ",emptycircle:"M 240.453,101.462C 316.408,101.462 377.982,163.036 377.982,238.991C 377.982,314.946 316.408,376.519 240.453,376.519C 164.498,376.519 102.924,314.946 102.924,238.991C 102.924,163.036 164.498,101.462 240.453,101.462 Z M 240.453,135.773C 183.447,135.773 137.235,181.985 137.235,238.991C 137.235,295.996 183.447,342.209 240.453,342.209C 297.459,342.209 343.671,295.996 343.671,238.991C 343.671,181.985 297.459,135.773 240.453,135.773 Z ",group:"M 146.602,137.257C 155.992,137.257 163.608,144.873 163.608,154.267C 163.608,163.658 155.992,171.273 146.602,171.273C 137.208,171.273 129.591,163.658 129.591,154.267C 129.591,144.873 137.208,137.257 146.602,137.257 Z M 129.227,179.743L 163.558,179.743C 169.226,179.743 174.86,181.722 178.867,185.115C 182.87,188.511 185.201,193.284 185.201,198.083L 185.201,199.566L 185.201,200.123L 185.201,271.383C 185.255,274.768 181.679,277.873 177.779,277.835C 173.931,277.797 170.47,274.719 170.523,271.383L 170.523,209.123L 165.841,209.123L 165.841,268.76L 165.815,268.76L 165.815,332.839C 165.849,334.913 165.007,336.983 163.544,338.449C 162.076,339.916 160.002,340.754 157.93,340.724C 153.865,340.66 150.226,336.902 150.287,332.839L 150.287,268.76L 142.523,268.76L 142.523,332.839C 142.557,334.913 141.715,336.983 140.252,338.449C 138.785,339.916 136.711,340.754 134.638,340.724C 130.573,340.66 126.934,336.902 126.995,332.839L 126.995,268.76L 126.972,268.76L 126.972,209.123L 122.264,209.123L 122.264,270.484C 122.302,273.869 118.719,276.963 114.818,276.914C 110.986,276.864 107.551,273.805 107.585,270.484L 107.585,199.202L 107.585,198.569L 107.585,198.083C 107.585,193.284 109.916,188.511 113.923,185.115C 117.927,181.722 123.56,179.743 129.227,179.743 Z M 240.662,137.257C 250.052,137.257 257.668,144.873 257.668,154.267C 257.668,163.658 250.052,171.273 240.662,171.273C 231.267,171.273 223.651,163.658 223.651,154.267C 223.651,144.873 231.267,137.257 240.662,137.257 Z M 223.287,179.743L 257.618,179.743C 263.286,179.743 268.92,181.722 272.927,185.115C 276.93,188.511 279.261,193.284 279.261,198.083L 279.261,199.566L 279.261,200.123L 279.261,271.383C 279.315,274.768 275.739,277.873 271.839,277.835C 267.991,277.797 264.53,274.719 264.583,271.383L 264.583,209.123L 259.901,209.123L 259.901,268.76L 259.875,268.76L 259.875,332.839C 259.909,334.912 259.067,336.983 257.604,338.449C 256.136,339.916 254.062,340.754 251.989,340.724C 247.925,340.66 244.286,336.902 244.347,332.839L 244.347,268.76L 236.583,268.76L 236.583,332.839C 236.617,334.912 235.775,336.983 234.312,338.449C 232.844,339.916 230.77,340.754 228.697,340.724C 224.633,340.66 220.994,336.902 221.055,332.839L 221.055,268.76L 221.032,268.76L 221.032,209.123L 216.324,209.123L 216.324,270.484C 216.362,273.869 212.778,276.963 208.878,276.914C 205.046,276.864 201.611,273.805 201.645,270.484L 201.645,199.202L 201.645,198.569L 201.645,198.083C 201.645,193.284 203.976,188.511 207.983,185.115C 211.987,181.722 217.62,179.743 223.287,179.743 Z M 334.722,137.258C 344.112,137.258 351.728,144.873 351.728,154.267C 351.728,163.658 344.112,171.273 334.722,171.273C 325.327,171.273 317.711,163.658 317.711,154.267C 317.711,144.873 325.327,137.258 334.722,137.258 Z M 317.347,179.743L 351.678,179.743C 357.346,179.743 362.98,181.722 366.987,185.115C 370.99,188.511 373.321,193.284 373.321,198.083L 373.321,199.566L 373.321,200.123L 373.321,271.383C 373.375,274.768 369.799,277.873 365.899,277.835C 362.051,277.797 358.59,274.719 358.642,271.383L 358.642,209.123L 353.961,209.123L 353.961,268.76L 353.935,268.76L 353.935,332.839C 353.969,334.913 353.127,336.983 351.664,338.449C 350.196,339.916 348.122,340.754 346.049,340.724C 341.985,340.66 338.345,336.902 338.407,332.839L 338.407,268.76L 330.643,268.76L 330.643,332.839C 330.677,334.913 329.835,336.983 328.372,338.449C 326.904,339.916 324.83,340.754 322.757,340.724C 318.693,340.66 315.054,336.902 315.115,332.839L 315.115,268.76L 315.091,268.76L 315.091,209.123L 310.384,209.123L 310.384,270.484C 310.421,273.869 306.838,276.963 302.938,276.914C 299.105,276.864 295.671,273.805 295.705,270.484L 295.705,199.202L 295.705,198.569L 295.705,198.083C 295.705,193.284 298.036,188.511 302.043,185.115C 306.046,181.722 311.68,179.743 317.347,179.743 Z ",im:"M 393.488,206.958L 393.488,321.247L 357.423,321.247L 357.423,369.234L 328.898,321.247L 196.081,321.247L 196.081,206.958L 393.488,206.958 Z M 87.4178,146.461L 292.537,146.461L 292.537,193.312L 182.971,193.312L 182.971,265.214L 154.531,265.214L 124.892,315.075L 124.892,265.214L 87.4178,265.214L 87.4178,146.461 Z ",arrowdownl:"M 183.668,152.318L 141.826,194.16L 141.826,337.618L 285.284,337.618L 327.126,295.776L 219.532,295.776L 339.08,176.228L 303.216,140.364L 183.668,259.911L 183.668,152.318 Z ",blockeditor:"M 291.345,115.775C 359.131,119.293 411.588,177.379 408.425,245.148C 404.906,312.946 346.532,365.37 278.767,362.207C 247.808,360.803 220,347.803 199.579,327.738L 209.998,317.088C 227.904,334.688 252.181,346.11 279.378,347.353L 279.473,347.353C 339.239,350.124 390.47,304.138 393.55,244.421C 396.342,184.655 350.368,133.746 290.639,130.649C 259.036,129.1 230.084,141.134 209.387,161.831L 198.853,151.297C 222.42,127.73 255.551,114.036 291.345,115.775 Z M 330.947,239.837L 261.91,291.7L 261.91,187.962L 330.947,239.837 Z M 94.3721,159.556L 179.659,159.556C 185.931,159.556 191.498,162.764 195.239,167.509C 198.981,172.233 201.128,178.543 201.128,185.365L 201.128,292.732C 201.128,299.554 198.981,305.748 195.239,310.493C 191.498,315.217 185.931,318.446 179.659,318.446L 146.623,318.446C 144.797,318.446 142.493,316.815 141.861,315.539C 141.234,314.284 141.345,313.169 141.345,313.169L 141.345,312.558L 141.461,311.926L 145.169,298.104L 145.074,298.104C 145.846,294.991 145.768,291.811 144.748,289.54C 142.927,285.571 140.024,283.085 137.331,282.714L 137.121,282.714L 136.815,282.619L 135.096,282.413C 135.165,282.457 133.721,282.809 132.475,283.651L 132.359,283.651L 132.264,283.746C 130.249,284.956 128.345,287.475 127.313,291.088C 126.925,292.443 126.925,294.264 127.313,295.618L 127.313,295.924L 130.926,312.042L 131.137,312.653L 131.137,313.169L 131.021,313.896C 130.976,314.428 130.765,315.799 129.588,316.993C 128.395,318.186 127.119,318.38 126.586,318.446L 125.765,318.446L 94.0665,318.446C 87.7896,318.446 82.2272,315.217 78.4859,310.493C 74.7239,305.748 72.5972,299.554 72.5972,292.732L 72.5972,263.309L 72.5972,262.583L 72.5972,260.518L 72.4816,254.629L 72.4816,248.645L 72.4816,246.581L 72.5972,245.664L 72.8078,244.821L 73.324,243.599L 73.7246,242.967L 74.4513,242.241L 75.6943,241.534L 77.5485,241.113L 78.4859,241.113L 79.4026,241.534L 93.5503,247.097L 93.6453,247.097C 95.3425,247.807 99.567,247.13 100.777,245.664C 101.826,244.194 102.164,244.21 102.536,243.599C 102.953,242.889 103.535,241.613 103.663,238.627L 103.663,238.532C 103.969,233.193 103.486,233.032 102.115,229.968C 100.872,227.226 98.7452,225.545 96.6474,224.69C 94.5496,223.852 92.584,224.306 92.6129,224.29L 92.4229,224.385L 92.0967,224.5L 85.5969,227.692L 82.1942,229.241C 81.2279,229.691 81.0007,229.984 79.8238,230.368L 79.0021,230.579L 78.2753,230.579L 75.6943,229.968L 74.4513,228.82L 73.9352,228.114L 73.6296,227.597L 73.324,226.565L 73.2084,225.838L 73.2084,224.806L 73.1134,221.919L 72.9978,213.45L 72.9028,201.156L 72.9028,186.092C 72.5642,171.684 81.8555,159.556 94.3721,159.556 Z M 94.3721,169.458C 88.438,169.458 82.5328,175.785 82.8053,185.881L 82.8053,201.156L 82.921,213.334L 83.0159,217.885L 87.6616,215.725L 88.0828,215.609C 91.9687,213.528 96.2427,213.85 100.356,215.514C 104.617,217.224 108.714,220.643 111.101,225.838L 111.196,225.933C 112.472,228.807 113.925,232.565 113.587,239.048C 113.376,243.372 112.294,246.486 111.006,248.645C 109.68,250.838 107.954,252.841 108.825,251.532L 108.615,251.743L 108.52,251.858C 103.791,257.615 96.1643,258.841 89.937,256.293L 89.842,256.293L 82.4048,253.291L 82.4048,254.534L 82.4997,260.423L 82.4997,262.372L 82.4997,263.309L 82.4997,292.732C 82.4997,297.473 84.0153,301.619 86.2287,304.394C 88.4214,307.185 91.0974,308.523 94.0665,308.523L 120.086,308.523L 117.716,298.315L 117.716,298.104C 116.828,294.892 116.795,291.605 117.716,288.392C 119.294,282.858 122.539,278.167 127.007,275.392L 127.313,275.277C 129.811,273.65 132.198,272.506 135.056,272.506L 138.669,272.906L 139.185,273.022L 139.185,273.117C 146.057,274.277 151.008,279.456 153.734,285.295L 153.734,285.41C 155.992,290.378 155.959,295.701 154.766,300.475L 154.766,300.57L 154.671,300.57L 152.606,308.523L 179.659,308.523C 182.624,308.523 185.304,307.185 187.496,304.394C 189.689,301.619 191.205,297.473 191.205,292.732L 191.205,185.365C 191.205,180.624 189.689,176.478 187.496,173.703C 185.304,170.912 182.624,169.458 179.659,169.458L 94.3721,169.458 Z ",bitcompile:"M 185.748,120.291L 226.777,161.32L 226.777,88.4853L 254.129,88.4853L 254.13,161.32L 295.159,120.291L 295.159,152.202L 240.453,206.908L 185.748,152.202L 185.748,120.291 Z M 283.951,302.191C 283.951,293.063 291.357,285.652 300.492,285.652C 309.638,285.652 317.027,293.063 317.027,302.191C 317.027,311.322 309.638,318.739 300.492,318.739C 291.357,318.739 283.951,311.322 283.951,302.191 Z M 162.457,302.194C 162.457,293.065 169.87,285.652 179.005,285.652C 188.134,285.652 195.542,293.065 195.542,302.194C 195.542,311.325 188.134,318.741 179.005,318.741C 169.87,318.741 162.457,311.325 162.457,302.194 Z M 179.001,220.264L 301.555,220.466C 347.222,220.466 383.84,257.019 383.84,302.198C 383.84,347.377 347.083,384.132 301.903,384.132L 179.001,384.132C 133.824,384.132 97.0666,347.377 97.0666,302.198C 97.0666,257.019 133.824,220.264 179.001,220.264 Z M 129.837,302.198C 129.837,329.303 151.896,351.362 179.001,351.362L 301.903,351.362C 329.01,351.362 351.062,329.303 351.062,302.198C 351.062,275.086 329.01,253.034 301.903,253.034L 179.001,253.034C 151.896,253.034 129.837,275.086 129.837,302.198 Z ",bitload:"M 295.158,156.941L 254.13,115.912L 254.13,188.747L 226.777,188.747L 226.777,115.912L 185.748,156.941L 185.748,125.029L 240.453,70.3241L 295.158,125.029L 295.158,156.941 Z M 283.951,300.514C 283.951,291.385 291.357,283.974 300.492,283.974C 309.639,283.974 317.027,291.385 317.027,300.514C 317.027,309.645 309.639,317.061 300.492,317.061C 291.357,317.061 283.951,309.645 283.951,300.514 Z M 162.457,300.516C 162.457,291.387 169.87,283.974 179.005,283.974C 188.134,283.974 195.542,291.387 195.542,300.516C 195.542,309.647 188.134,317.064 179.005,317.064C 169.87,317.064 162.457,309.647 162.457,300.516 Z M 179.001,218.586L 301.555,218.788C 347.222,218.788 383.84,255.341 383.84,300.52C 383.84,345.699 347.083,382.454 301.903,382.454L 179.001,382.454C 133.824,382.454 97.0667,345.699 97.0667,300.52C 97.0667,255.341 133.824,218.586 179.001,218.586 Z M 129.837,300.52C 129.837,327.625 151.896,349.684 179.001,349.684L 301.903,349.684C 329.01,349.684 351.062,327.625 351.062,300.52C 351.062,273.409 329.01,251.357 301.903,251.357L 179.001,251.357C 151.896,251.357 129.837,273.409 129.837,300.52 Z "},p={alert:"M42,34v-6c-0.2-4.6-3.6-8.4-8-9.3V16h-4v2.7c-4.4,0.9-7.8,4.7-8,9.3v6l-6,8h32L42,34z M28,44 l8,0 l0,4 l-8,0 z",create:"M48,36H36v12h-8V36H16v-8h12V16h8v12h12V36z",edit:"M17.1,39.5v7.4h7.4l0.9-0.8l-7.5-7.5L17.1,39.5z M19.8,36.7L40.5,16l7.4,7.4L27.3,44.1L19.8,36.7z",duplicate:"M45.4,19.1h-5.8L32.5,12H14v29h12.9v7.7h25.9V26.5L45.4,19.1z M26.9,24.1h-5.5v2.8h5.5v0.9h-5.5v2.8h5.5v0.9h-5.5v2.8h5.5V39H17V15h14.9l4.1,4.1h-9.1V24.1z M50,45.9H29.7v-24h15.1l5.2,5.2C50,27.1,50,45.9,50,45.9z M34.3,31.1h11.1v2.8H34.3V31.1z M34.3,34.8h11.1v2.8H34.3V34.8z M34.3,38.5h11.1v2.8H34.3V38.5z",import:"M31.2,39l2,2H15V15h26v21.9l3,3V33h5v16H33v-5h7.5L22,25.3l3.6-3.7L39,34.9V17H17v22H31.2z",info:"M32,16c-8.8,0-16,7.2-16,16s7.2,16,16,16s16-7.2,16-16S40.8,16,32,16z M34,41h-4V29h4V41z M34,27h-4v-4h4V27z",left:"M19,32l26,16v-7.2L30.4,32L45,23.2V16L19,32z",love:"M45.4,20.6c-3.5-3.5-9-3.5-12.5,0c-0.3,0.3-0.6,0.7-0.9,1.1c-0.3-0.4-0.6-0.7-0.9-1.1c-3.5-3.5-9-3.5-12.5,0c-3.5,3.5-3.5,9,0,12.5L32,46.5l13.4-13.4C48.9,29.6,48.9,24,45.4,20.6z",pairnew:"M38.1,26.5c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S39.2,26.5,38.1,26.5z M23.1,26.4c-1.1,0-2.1,0.9-2.1,2s0.9,2.1,2.1,2.1c1.1,0,2-0.9,2-2.1C25.1,27.3,24.2,26.4,23.1,26.4z M48.4,28.5c0-5.5-4.5-10.1-10.1-10.1H23.1c-5.5,0-10.1,4.5-10.1,10.1c0,5.5,4.5,10.1,10.1,10.1h15.2C43.9,38.6,48.4,34,48.4,28.5z M38.3,34.5H23.1c-3.4,0-6.1-2.7-6.1-6.1s2.7-6.1,6.1-6.1h15.2c3.4,0,6.1,2.7,6.1,6.1C44.4,31.8,41.7,34.5,38.3,34.5z M52,38.8v-5.3h-3.5v5.3h-5.3v3.5h5.3v5.2H52v-5.2h5.2v-3.5H52z",play:"M21,48l26-16L21,16V48z",print:"M40,32H24V16h13l3,3V32z M42,28v4v2h-2H24h-2v-2v-4h-6v12.1l5.9,5.9H22v-5h20v5h0.1l5.9-5.9V28H42z M24,48h16v-5H24V48z",publish:"M32.2,28.8L21.3,39.7l2.6,2.7l6.3-6.3v11.3h4.1V36.1l6.3,6.3l2.6-2.7L32.2,28.8z M26.2,32.3l1.3-1.3c-0.2-0.1-0.3-0.2-0.4-0.3c0.1-0.1,0.3-0.2,0.4-0.4c0.3-0.3,0.3-0.4-0.1-0.6c-0.4-0.4-0.7-0.7-1.1-1.2c-0.1-0.1,0-0.2-0.1-0.3c-0.1-0.4-0.1-0.8-0.2-1.2c-0.2-0.5-0.4-1.1-0.6-1.6c-0.1-0.4-0.2-0.7-0.2-1.1c0.1-0.7,0.4-0.9,1-0.4c0.5,0.5,1.1,1.1,1.6,1.6c0.4,0.4,0.8,0.7,1.3,1c0.3,0.3,0.6,0.2,0.9,0c0.1-0.1,0.3-0.2,0.4-0.3c0.4-0.3,0.8-0.5,1.3-0.7c0.5-0.2,1.1,0.2,1.1,0.7c0,0.1,0,0.3,0,0.4l0.7,0.7l4.8,4.9l1.2-1c2-1.9,3.2-4.6,3.2-7.5c0-5.7-4.7-10.4-10.4-10.4S21.9,18,21.9,23.7C21.8,27.3,23.5,30.4,26.2,32.3z M29.9,16.2c0.4-0.2,0.7,0,1,0.3c0.7,0.5,1.3,1.3,1.9,1.9c0.4,0.5,1,0.9,1.6,1.1c0.2,0.1,0.4,0.2,0.6,0.3c0.4,0.3,0.8,0.5,0.9,1.1c0.1,0.4,0.3,0.4,0.5,0.4c0.4-0.2,1-0.4,1.4-0.5c0.5-0.2,1.1-0.2,1.6-0.1c0.2,0.1,0.4,0.1,0.6,0.2c0.4,1,0.6,2,0.6,3.1c0,1.4-0.4,2.8-1,3.9c-0.7,0.2-1.3-0.1-1.5-0.9c-0.1-0.4-0.2-1-0.1-1.5c0.1-0.6,0.4-1.2,0.5-1.8c0.1-0.4,0.3-0.9,0.4-1.3c0.1-0.3-0.1-0.4-0.4-0.5s-0.5-0.1-0.9-0.1c-0.3,0-0.4,0-0.7-0.1c-0.4-0.1-0.7-0.1-1,0.2c-0.4,0.3-0.7,0.6-1.1,0.9c-0.6,0.4-1.3,0.8-2.2,0.9c-0.8,0.1-1.5-0.1-1.9-0.9c-0.3-0.5-0.4-1.2-0.6-1.7c-0.3-0.8-0.4-1.5-0.7-2.3c-0.1-0.4-0.3-0.8-0.3-1.3C29.4,16.8,29.5,16.3,29.9,16.2z",right:"M45,32L19,16v7.2L33.6,32L19,40.8V48L45,32z",save:"M42.5,15H16v31.6h30.9V19.4L42.5,15z M31.4,17.8h3.9V25h-3.9V17.8z M37.5,43.8H25.2v-9.4h12.4L37.5,43.8L37.5,43.8z M44.1,43.8h-4V32H22.7v11.9h-3.9v-26h6.1v9.7h12.9v-9.7h4.1l2.2,2.2C44.1,20.1,44.1,43.8,44.1,43.8z",search:"M48,44.5l-8.2-8.2c3.4-5.1,2.9-12-1.6-16.5C35.7,17.3,32.3,16,29,16s-6.7,1.3-9.2,3.8c-5.1,5.1-5.1,13.3,0,18.4c2.5,2.5,5.9,3.8,9.2,3.8c2.5,0,5-0.7,7.2-2.2l8.3,8.2L48,44.5z M22.6,35.3c-1.7-1.7-2.6-4-2.6-6.4c0-2.4,0.9-4.7,2.6-6.4c1.7-1.6,4-2.5,6.4-2.5s4.7,0.9,6.4,2.6c3.5,3.5,3.5,9.2,0,12.7c-1.7,1.7-4,2.6-6.4,2.6S24.3,37,22.6,35.3z",share:"M21.2,37.8c1.6,0,3-0.7,4-1.8l9,4.8c-0.1,0.4-0.2,0.8-0.2,1.3c0,3,2.5,5.5,5.5,5.5s5.5-2.4,5.5-5.5c0-3-2.5-5.5-5.5-5.5c-1.6,0-3,0.7-4,1.8L26,33.2v-2.7l9.7-5.5c1,1,2.3,1.5,3.8,1.5c3,0,5.5-2.5,5.5-5.5s-2.5-5.5-5.5-5.5S34,17.9,34,21c0,0.6,0.1,1.1,0.2,1.6L25 28.4c-1-0.9-2.3-1.5-3.8-1.5c-3,0-5.5,2.4-5.5,5.5C15.8,35.3,18.2,37.8,21.2,37.8z",trash:"M40,47.5l-1,0.9l-1-0.9V26h-5v21.5l-1.1,0.9L31,47.5V26h-5v21.5l-1,0.9l-1-0.9V26h-4.2l0.4,25h23.6l0.4-25H40V47.5z M28,16.5c0-0.2,0-0.4,1-0.4l0,0L28.6,16h7.6c0.2,0,0.8,0.3,0.8,0.5V17h2v-0.5c0-1.6-1.2-2.5-2.8-2.5h-7.6l0.4-0.4l0,0c-2,0-3,1.3-3,2.9V17h2V16.5z M45.5,21c0-1-1.1-2-2.9-2h-22c-1.1,0-2.7,0.8-2.7,2.2V25h28v-4H45.5z",uninstall:"M35.5,32L48,19.6L44.4,16L32,28.5L19.6,16L16,19.6L28.5,32L15.9,44.5l3.6,3.6L32,35.5L44.5,48l3.6-3.5L35.5,32z",upload:"M43.1,31.9L32.3,21.2L21.6,31.9l2.4,2.5l6-6.2V42h-9v-5h-2v6h2.1h2.1h7.1h3.9H34V28.2l6.4,6.2L43.1,31.9zM42,37v5h-7v1h2h4.4H44v-2.5V37H42z"},h={document:"fa-file-o",copy:"fa-files-o",paste:"fa-clipboard",recyclelib:"fa-recycle",settings:"fa-cogs",setting:"fa-cogs",chapback:"fa-fast-backward",save:"gel-save",email:"fa-envelope-o",cycle:"fa-refresh",folder:"fa-folder-open",video:"fa-video-camera",rewind:"fa-backward",sharethis:"gel-share",subtract:"fa-minus",heart:"gel-love",award:"fa-trophy",person:"fa-user",art:"fa-paint-brush",videoptr:"fa-video-camera",bbc:"play",edit:"gel-edit",upload:"gel-publish",play:"gel-play",clone:"gel-duplicate",search:"gel-search",print:"gel-print",info:"gel-info",cursorleft:"gel-left",cursorright:"gel-right"},m={cutlery:"M640 1472v-640q0 -61 -35.5 -111t-92.5 -70v-779q0 -52 -38 -90t-90 -38h-128q-52 0 -90 38t-38 90v779q-57 20 -92.5 70t-35.5 111v640q0 26 19 45t45 19t45 -19t19 -45v-416q0 -26 19 -45t45 -19t45 19t19 45v416q0 26 19 45t45 19t45 -19t19 -45v-416q0 -26 19 -45 t45 -19t45 19t19 45v416q0 26 19 45t45 19t45 -19t19 -45zM1408 1472v-1600q0 -52 -38 -90t-90 -38h-128q-52 0 -90 38t-38 90v512h-224q-13 0 -22.5 9.5t-9.5 22.5v800q0 132 94 226t226 94h256q26 0 45 -19t19 -45z",rocket:"M1440 1088q0 40 -28 68t-68 28t-68 -28t-28 -68t28 -68t68 -28t68 28t28 68zM1664 1376q0 -249 -75.5 -430.5t-253.5 -360.5q-81 -80 -195 -176l-20 -379q-2 -16 -16 -26l-384 -224q-7 -4 -16 -4q-12 0 -23 9l-64 64q-13 14 -8 32l85 276l-281 281l-276 -85q-3 -1 -9 -1 q-14 0 -23 9l-64 64q-17 19 -5 39l224 384q10 14 26 16l379 20q96 114 176 195q188 187 358 258t431 71q14 0 24 -9.5t10 -22.5z","code-fork":"M288 64q0 40 -28 68t-68 28t-68 -28t-28 -68t28 -68t68 -28t68 28t28 68zM288 1216q0 40 -28 68t-68 28t-68 -28t-28 -68t28 -68t68 -28t68 28t28 68zM928 1088q0 40 -28 68t-68 28t-68 -28t-28 -68t28 -68t68 -28t68 28t28 68zM1024 1088q0 -52 -26 -96.5t-70 -69.5 q-2 -287 -226 -414q-68 -38 -203 -81q-128 -40 -169.5 -71t-41.5 -100v-26q44 -25 70 -69.5t26 -96.5q0 -80 -56 -136t-136 -56t-136 56t-56 136q0 52 26 96.5t70 69.5v820q-44 25 -70 69.5t-26 96.5q0 80 56 136t136 56t136 -56t56 -136q0 -52 -26 -96.5t-70 -69.5v-497 q54 26 154 57q55 17 87.5 29.5t70.5 31t59 39.5t40.5 51t28 69.5t8.5 91.5q-44 25 -70 69.5t-26 96.5q0 80 56 136t136 56t136 -56t56 -136z",indent:"M352 704q0 -14 -9 -23l-288 -288q-9 -9 -23 -9q-13 0 -22.5 9.5t-9.5 22.5v576q0 13 9.5 22.5t22.5 9.5q14 0 23 -9l288 -288q9 -9 9 -23zM1792 224v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1728q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1728q13 0 22.5 -9.5 t9.5 -22.5zM1792 608v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1088q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1088q13 0 22.5 -9.5t9.5 -22.5zM1792 992v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1088q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1088 q13 0 22.5 -9.5t9.5 -22.5zM1792 1376v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1728q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1728q13 0 22.5 -9.5t9.5 -22.5z",history:"M1536 640q0 -156 -61 -298t-164 -245t-245 -164t-298 -61q-172 0 -327 72.5t-264 204.5q-7 10 -6.5 22.5t8.5 20.5l137 138q10 9 25 9q16 -2 23 -12q73 -95 179 -147t225 -52q104 0 198.5 40.5t163.5 109.5t109.5 163.5t40.5 198.5t-40.5 198.5t-109.5 163.5 t-163.5 109.5t-198.5 40.5q-98 0 -188 -35.5t-160 -101.5l137 -138q31 -30 14 -69q-17 -40 -59 -40h-448q-26 0 -45 19t-19 45v448q0 42 40 59q39 17 69 -14l130 -129q107 101 244.5 156.5t284.5 55.5q156 0 298 -61t245 -164t164 -245t61 -298zM896 928v-448q0 -14 -9 -23 t-23 -9h-320q-14 0 -23 9t-9 23v64q0 14 9 23t23 9h224v352q0 14 9 23t23 9h64q14 0 23 -9t9 -23z","file-image-o":"M1468 1156q28 -28 48 -76t20 -88v-1152q0 -40 -28 -68t-68 -28h-1344q-40 0 -68 28t-28 68v1600q0 40 28 68t68 28h896q40 0 88 -20t76 -48zM1024 1400v-376h376q-10 29 -22 41l-313 313q-12 12 -41 22zM1408 -128v1024h-416q-40 0 -68 28t-28 68v416h-768v-1536h1280z M1280 320v-320h-1024v192l192 192l128 -128l384 384zM448 512q-80 0 -136 56t-56 136t56 136t136 56t136 -56t56 -136t-56 -136t-136 -56z",trash:"M512 160v704q0 14 -9 23t-23 9h-64q-14 0 -23 -9t-9 -23v-704q0 -14 9 -23t23 -9h64q14 0 23 9t9 23zM768 160v704q0 14 -9 23t-23 9h-64q-14 0 -23 -9t-9 -23v-704q0 -14 9 -23t23 -9h64q14 0 23 9t9 23zM1024 160v704q0 14 -9 23t-23 9h-64q-14 0 -23 -9t-9 -23v-704 q0 -14 9 -23t23 -9h64q14 0 23 9t9 23zM480 1152h448l-48 117q-7 9 -17 11h-317q-10 -2 -17 -11zM1408 1120v-64q0 -14 -9 -23t-23 -9h-96v-948q0 -83 -47 -143.5t-113 -60.5h-832q-66 0 -113 58.5t-47 141.5v952h-96q-14 0 -23 9t-9 23v64q0 14 9 23t23 9h309l70 167 q15 37 54 63t79 26h320q40 0 79 -26t54 -63l70 -167h309q14 0 23 -9t9 -23z",binoculars:"M704 1216v-768q0 -26 -19 -45t-45 -19v-576q0 -26 -19 -45t-45 -19h-512q-26 0 -45 19t-19 45v512l249 873q7 23 31 23h424zM1024 1216v-704h-256v704h256zM1792 320v-512q0 -26 -19 -45t-45 -19h-512q-26 0 -45 19t-19 45v576q-26 0 -45 19t-19 45v768h424q24 0 31 -23z M736 1504v-224h-352v224q0 14 9 23t23 9h288q14 0 23 -9t9 -23zM1408 1504v-224h-352v224q0 14 9 23t23 9h288q14 0 23 -9t9 -23z",globe:"M768 1408q209 0 385.5 -103t279.5 -279.5t103 -385.5t-103 -385.5t-279.5 -279.5t-385.5 -103t-385.5 103t-279.5 279.5t-103 385.5t103 385.5t279.5 279.5t385.5 103zM1042 887q-2 -1 -9.5 -9.5t-13.5 -9.5q2 0 4.5 5t5 11t3.5 7q6 7 22 15q14 6 52 12q34 8 51 -11 q-2 2 9.5 13t14.5 12q3 2 15 4.5t15 7.5l2 22q-12 -1 -17.5 7t-6.5 21q0 -2 -6 -8q0 7 -4.5 8t-11.5 -1t-9 -1q-10 3 -15 7.5t-8 16.5t-4 15q-2 5 -9.5 10.5t-9.5 10.5q-1 2 -2.5 5.5t-3 6.5t-4 5.5t-5.5 2.5t-7 -5t-7.5 -10t-4.5 -5q-3 2 -6 1.5t-4.5 -1t-4.5 -3t-5 -3.5 q-3 -2 -8.5 -3t-8.5 -2q15 5 -1 11q-10 4 -16 3q9 4 7.5 12t-8.5 14h5q-1 4 -8.5 8.5t-17.5 8.5t-13 6q-8 5 -34 9.5t-33 0.5q-5 -6 -4.5 -10.5t4 -14t3.5 -12.5q1 -6 -5.5 -13t-6.5 -12q0 -7 14 -15.5t10 -21.5q-3 -8 -16 -16t-16 -12q-5 -8 -1.5 -18.5t10.5 -16.5 q2 -2 1.5 -4t-3.5 -4.5t-5.5 -4t-6.5 -3.5l-3 -2q-11 -5 -20.5 6t-13.5 26q-7 25 -16 30q-23 8 -29 -1q-5 13 -41 26q-25 9 -58 4q6 1 0 15q-7 15 -19 12q3 6 4 17.5t1 13.5q3 13 12 23q1 1 7 8.5t9.5 13.5t0.5 6q35 -4 50 11q5 5 11.5 17t10.5 17q9 6 14 5.5t14.5 -5.5 t14.5 -5q14 -1 15.5 11t-7.5 20q12 -1 3 17q-5 7 -8 9q-12 4 -27 -5q-8 -4 2 -8q-1 1 -9.5 -10.5t-16.5 -17.5t-16 5q-1 1 -5.5 13.5t-9.5 13.5q-8 0 -16 -15q3 8 -11 15t-24 8q19 12 -8 27q-7 4 -20.5 5t-19.5 -4q-5 -7 -5.5 -11.5t5 -8t10.5 -5.5t11.5 -4t8.5 -3 q14 -10 8 -14q-2 -1 -8.5 -3.5t-11.5 -4.5t-6 -4q-3 -4 0 -14t-2 -14q-5 5 -9 17.5t-7 16.5q7 -9 -25 -6l-10 1q-4 0 -16 -2t-20.5 -1t-13.5 8q-4 8 0 20q1 4 4 2q-4 3 -11 9.5t-10 8.5q-46 -15 -94 -41q6 -1 12 1q5 2 13 6.5t10 5.5q34 14 42 7l5 5q14 -16 20 -25 q-7 4 -30 1q-20 -6 -22 -12q7 -12 5 -18q-4 3 -11.5 10t-14.5 11t-15 5q-16 0 -22 -1q-146 -80 -235 -222q7 -7 12 -8q4 -1 5 -9t2.5 -11t11.5 3q9 -8 3 -19q1 1 44 -27q19 -17 21 -21q3 -11 -10 -18q-1 2 -9 9t-9 4q-3 -5 0.5 -18.5t10.5 -12.5q-7 0 -9.5 -16t-2.5 -35.5 t-1 -23.5l2 -1q-3 -12 5.5 -34.5t21.5 -19.5q-13 -3 20 -43q6 -8 8 -9q3 -2 12 -7.5t15 -10t10 -10.5q4 -5 10 -22.5t14 -23.5q-2 -6 9.5 -20t10.5 -23q-1 0 -2.5 -1t-2.5 -1q3 -7 15.5 -14t15.5 -13q1 -3 2 -10t3 -11t8 -2q2 20 -24 62q-15 25 -17 29q-3 5 -5.5 15.5 t-4.5 14.5q2 0 6 -1.5t8.5 -3.5t7.5 -4t2 -3q-3 -7 2 -17.5t12 -18.5t17 -19t12 -13q6 -6 14 -19.5t0 -13.5q9 0 20 -10t17 -20q5 -8 8 -26t5 -24q2 -7 8.5 -13.5t12.5 -9.5l16 -8t13 -7q5 -2 18.5 -10.5t21.5 -11.5q10 -4 16 -4t14.5 2.5t13.5 3.5q15 2 29 -15t21 -21 q36 -19 55 -11q-2 -1 0.5 -7.5t8 -15.5t9 -14.5t5.5 -8.5q5 -6 18 -15t18 -15q6 4 7 9q-3 -8 7 -20t18 -10q14 3 14 32q-31 -15 -49 18q0 1 -2.5 5.5t-4 8.5t-2.5 8.5t0 7.5t5 3q9 0 10 3.5t-2 12.5t-4 13q-1 8 -11 20t-12 15q-5 -9 -16 -8t-16 9q0 -1 -1.5 -5.5t-1.5 -6.5 q-13 0 -15 1q1 3 2.5 17.5t3.5 22.5q1 4 5.5 12t7.5 14.5t4 12.5t-4.5 9.5t-17.5 2.5q-19 -1 -26 -20q-1 -3 -3 -10.5t-5 -11.5t-9 -7q-7 -3 -24 -2t-24 5q-13 8 -22.5 29t-9.5 37q0 10 2.5 26.5t3 25t-5.5 24.5q3 2 9 9.5t10 10.5q2 1 4.5 1.5t4.5 0t4 1.5t3 6q-1 1 -4 3 q-3 3 -4 3q7 -3 28.5 1.5t27.5 -1.5q15 -11 22 2q0 1 -2.5 9.5t-0.5 13.5q5 -27 29 -9q3 -3 15.5 -5t17.5 -5q3 -2 7 -5.5t5.5 -4.5t5 0.5t8.5 6.5q10 -14 12 -24q11 -40 19 -44q7 -3 11 -2t4.5 9.5t0 14t-1.5 12.5l-1 8v18l-1 8q-15 3 -18.5 12t1.5 18.5t15 18.5q1 1 8 3.5 t15.5 6.5t12.5 8q21 19 15 35q7 0 11 9q-1 0 -5 3t-7.5 5t-4.5 2q9 5 2 16q5 3 7.5 11t7.5 10q9 -12 21 -2q7 8 1 16q5 7 20.5 10.5t18.5 9.5q7 -2 8 2t1 12t3 12q4 5 15 9t13 5l17 11q3 4 0 4q18 -2 31 11q10 11 -6 20q3 6 -3 9.5t-15 5.5q3 1 11.5 0.5t10.5 1.5 q15 10 -7 16q-17 5 -43 -12zM879 10q206 36 351 189q-3 3 -12.5 4.5t-12.5 3.5q-18 7 -24 8q1 7 -2.5 13t-8 9t-12.5 8t-11 7q-2 2 -7 6t-7 5.5t-7.5 4.5t-8.5 2t-10 -1l-3 -1q-3 -1 -5.5 -2.5t-5.5 -3t-4 -3t0 -2.5q-21 17 -36 22q-5 1 -11 5.5t-10.5 7t-10 1.5t-11.5 -7 q-5 -5 -6 -15t-2 -13q-7 5 0 17.5t2 18.5q-3 6 -10.5 4.5t-12 -4.5t-11.5 -8.5t-9 -6.5t-8.5 -5.5t-8.5 -7.5q-3 -4 -6 -12t-5 -11q-2 4 -11.5 6.5t-9.5 5.5q2 -10 4 -35t5 -38q7 -31 -12 -48q-27 -25 -29 -40q-4 -22 12 -26q0 -7 -8 -20.5t-7 -21.5q0 -6 2 -16z",film:"M384 -64v128q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h128q26 0 45 19t19 45zM384 320v128q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h128q26 0 45 19t19 45zM384 704v128q0 26 -19 45t-45 19h-128 q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h128q26 0 45 19t19 45zM1408 -64v512q0 26 -19 45t-45 19h-768q-26 0 -45 -19t-19 -45v-512q0 -26 19 -45t45 -19h768q26 0 45 19t19 45zM384 1088v128q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45 t45 -19h128q26 0 45 19t19 45zM1792 -64v128q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h128q26 0 45 19t19 45zM1408 704v512q0 26 -19 45t-45 19h-768q-26 0 -45 -19t-19 -45v-512q0 -26 19 -45t45 -19h768q26 0 45 19t19 45zM1792 320v128 q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h128q26 0 45 19t19 45zM1792 704v128q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h128q26 0 45 19t19 45zM1792 1088v128q0 26 -19 45t-45 19h-128q-26 0 -45 -19 t-19 -45v-128q0 -26 19 -45t45 -19h128q26 0 45 19t19 45zM1920 1248v-1344q0 -66 -47 -113t-113 -47h-1600q-66 0 -113 47t-47 113v1344q0 66 47 113t113 47h1600q66 0 113 -47t47 -113z",headphones:"M1664 650q0 -166 -60 -314l-20 -49l-185 -33q-22 -83 -90.5 -136.5t-156.5 -53.5v-32q0 -14 -9 -23t-23 -9h-64q-14 0 -23 9t-9 23v576q0 14 9 23t23 9h64q14 0 23 -9t9 -23v-32q71 0 130 -35.5t93 -95.5l68 12q29 95 29 193q0 148 -88 279t-236.5 209t-315.5 78 t-315.5 -78t-236.5 -209t-88 -279q0 -98 29 -193l68 -12q34 60 93 95.5t130 35.5v32q0 14 9 23t23 9h64q14 0 23 -9t9 -23v-576q0 -14 -9 -23t-23 -9h-64q-14 0 -23 9t-9 23v32q-88 0 -156.5 53.5t-90.5 136.5l-185 33l-20 49q-60 148 -60 314q0 151 67 291t179 242.5 t266 163.5t320 61t320 -61t266 -163.5t179 -242.5t67 -291z","file-text-o":"M1468 1156q28 -28 48 -76t20 -88v-1152q0 -40 -28 -68t-68 -28h-1344q-40 0 -68 28t-28 68v1600q0 40 28 68t68 28h896q40 0 88 -20t76 -48zM1024 1400v-376h376q-10 29 -22 41l-313 313q-12 12 -41 22zM1408 -128v1024h-416q-40 0 -68 28t-28 68v416h-768v-1536h1280z M384 736q0 14 9 23t23 9h704q14 0 23 -9t9 -23v-64q0 -14 -9 -23t-23 -9h-704q-14 0 -23 9t-9 23v64zM1120 512q14 0 23 -9t9 -23v-64q0 -14 -9 -23t-23 -9h-704q-14 0 -23 9t-9 23v64q0 14 9 23t23 9h704zM1120 256q14 0 23 -9t9 -23v-64q0 -14 -9 -23t-23 -9h-704 q-14 0 -23 9t-9 23v64q0 14 9 23t23 9h704z",calculator:"M384 0q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM768 0q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM384 384q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5 t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM1152 0q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM768 384q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5 t37.5 90.5zM384 768q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM1152 384q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM768 768q0 53 -37.5 90.5t-90.5 37.5 t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM1536 0v384q0 52 -38 90t-90 38t-90 -38t-38 -90v-384q0 -52 38 -90t90 -38t90 38t38 90zM1152 768q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5z M1536 1088v256q0 26 -19 45t-45 19h-1280q-26 0 -45 -19t-19 -45v-256q0 -26 19 -45t45 -19h1280q26 0 45 19t19 45zM1536 768q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM1664 1408v-1536q0 -52 -38 -90t-90 -38 h-1408q-52 0 -90 38t-38 90v1536q0 52 38 90t90 38h1408q52 0 90 -38t38 -90z","check-square-o":"M1408 606v-318q0 -119 -84.5 -203.5t-203.5 -84.5h-832q-119 0 -203.5 84.5t-84.5 203.5v832q0 119 84.5 203.5t203.5 84.5h832q63 0 117 -25q15 -7 18 -23q3 -17 -9 -29l-49 -49q-10 -10 -23 -10q-3 0 -9 2q-23 6 -45 6h-832q-66 0 -113 -47t-47 -113v-832 q0 -66 47 -113t113 -47h832q66 0 113 47t47 113v254q0 13 9 22l64 64q10 10 23 10q6 0 12 -3q20 -8 20 -29zM1639 1095l-814 -814q-24 -24 -57 -24t-57 24l-430 430q-24 24 -24 57t24 57l110 110q24 24 57 24t57 -24l263 -263l647 647q24 24 57 24t57 -24l110 -110 q24 -24 24 -57t-24 -57z",gift:"M928 180v56v468v192h-320v-192v-468v-56q0 -25 18 -38.5t46 -13.5h192q28 0 46 13.5t18 38.5zM472 1024h195l-126 161q-26 31 -69 31q-40 0 -68 -28t-28 -68t28 -68t68 -28zM1160 1120q0 40 -28 68t-68 28q-43 0 -69 -31l-125 -161h194q40 0 68 28t28 68zM1536 864v-320 q0 -14 -9 -23t-23 -9h-96v-416q0 -40 -28 -68t-68 -28h-1088q-40 0 -68 28t-28 68v416h-96q-14 0 -23 9t-9 23v320q0 14 9 23t23 9h440q-93 0 -158.5 65.5t-65.5 158.5t65.5 158.5t158.5 65.5q107 0 168 -77l128 -165l128 165q61 77 168 77q93 0 158.5 -65.5t65.5 -158.5 t-65.5 -158.5t-158.5 -65.5h440q14 0 23 -9t9 -23z","paint-brush":"M1615 1536q70 0 122.5 -46.5t52.5 -116.5q0 -63 -45 -151q-332 -629 -465 -752q-97 -91 -218 -91q-126 0 -216.5 92.5t-90.5 219.5q0 128 92 212l638 579q59 54 130 54zM706 502q39 -76 106.5 -130t150.5 -76l1 -71q4 -213 -129.5 -347t-348.5 -134q-123 0 -218 46.5 t-152.5 127.5t-86.5 183t-29 220q7 -5 41 -30t62 -44.5t59 -36.5t46 -17q41 0 55 37q25 66 57.5 112.5t69.5 76t88 47.5t103 25.5t125 10.5z","list-ol":"M381 -84q0 -80 -54.5 -126t-135.5 -46q-106 0 -172 66l57 88q49 -45 106 -45q29 0 50.5 14.5t21.5 42.5q0 64 -105 56l-26 56q8 10 32.5 43.5t42.5 54t37 38.5v1q-16 0 -48.5 -1t-48.5 -1v-53h-106v152h333v-88l-95 -115q51 -12 81 -49t30 -88zM383 543v-159h-362 q-6 36 -6 54q0 51 23.5 93t56.5 68t66 47.5t56.5 43.5t23.5 45q0 25 -14.5 38.5t-39.5 13.5q-46 0 -81 -58l-85 59q24 51 71.5 79.5t105.5 28.5q73 0 123 -41.5t50 -112.5q0 -50 -34 -91.5t-75 -64.5t-75.5 -50.5t-35.5 -52.5h127v60h105zM1792 224v-192q0 -13 -9.5 -22.5 t-22.5 -9.5h-1216q-13 0 -22.5 9.5t-9.5 22.5v192q0 14 9 23t23 9h1216q13 0 22.5 -9.5t9.5 -22.5zM384 1123v-99h-335v99h107q0 41 0.5 122t0.5 121v12h-2q-8 -17 -50 -54l-71 76l136 127h106v-404h108zM1792 736v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1216q-13 0 -22.5 9.5 t-9.5 22.5v192q0 14 9 23t23 9h1216q13 0 22.5 -9.5t9.5 -22.5zM1792 1248v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1216q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1216q13 0 22.5 -9.5t9.5 -22.5z",gamepad:"M832 448v128q0 14 -9 23t-23 9h-192v192q0 14 -9 23t-23 9h-128q-14 0 -23 -9t-9 -23v-192h-192q-14 0 -23 -9t-9 -23v-128q0 -14 9 -23t23 -9h192v-192q0 -14 9 -23t23 -9h128q14 0 23 9t9 23v192h192q14 0 23 9t9 23zM1408 384q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5 t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM1664 640q0 53 -37.5 90.5t-90.5 37.5t-90.5 -37.5t-37.5 -90.5t37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM1920 512q0 -212 -150 -362t-362 -150q-192 0 -338 128h-220q-146 -128 -338 -128q-212 0 -362 150 t-150 362t150 362t362 150h896q212 0 362 -150t150 -362z",user:"M1408 131q0 -120 -73 -189.5t-194 -69.5h-874q-121 0 -194 69.5t-73 189.5q0 53 3.5 103.5t14 109t26.5 108.5t43 97.5t62 81t85.5 53.5t111.5 20q9 0 42 -21.5t74.5 -48t108 -48t133.5 -21.5t133.5 21.5t108 48t74.5 48t42 21.5q61 0 111.5 -20t85.5 -53.5t62 -81 t43 -97.5t26.5 -108.5t14 -109t3.5 -103.5zM1088 1024q0 -159 -112.5 -271.5t-271.5 -112.5t-271.5 112.5t-112.5 271.5t112.5 271.5t271.5 112.5t271.5 -112.5t112.5 -271.5z","file-o":"M1468 1156q28 -28 48 -76t20 -88v-1152q0 -40 -28 -68t-68 -28h-1344q-40 0 -68 28t-28 68v1600q0 40 28 68t68 28h896q40 0 88 -20t76 -48zM1024 1400v-376h376q-10 29 -22 41l-313 313q-12 12 -41 22zM1408 -128v1024h-416q-40 0 -68 28t-28 68v416h-768v-1536h1280z ",bolt:"M885 970q18 -20 7 -44l-540 -1157q-13 -25 -42 -25q-4 0 -14 2q-17 5 -25.5 19t-4.5 30l197 808l-406 -101q-4 -1 -12 -1q-18 0 -31 11q-18 15 -13 39l201 825q4 14 16 23t28 9h328q19 0 32 -12.5t13 -29.5q0 -8 -5 -18l-171 -463l396 98q8 2 12 2q19 0 34 -15z",book:"M1639 1058q40 -57 18 -129l-275 -906q-19 -64 -76.5 -107.5t-122.5 -43.5h-923q-77 0 -148.5 53.5t-99.5 131.5q-24 67 -2 127q0 4 3 27t4 37q1 8 -3 21.5t-3 19.5q2 11 8 21t16.5 23.5t16.5 23.5q23 38 45 91.5t30 91.5q3 10 0.5 30t-0.5 28q3 11 17 28t17 23 q21 36 42 92t25 90q1 9 -2.5 32t0.5 28q4 13 22 30.5t22 22.5q19 26 42.5 84.5t27.5 96.5q1 8 -3 25.5t-2 26.5q2 8 9 18t18 23t17 21q8 12 16.5 30.5t15 35t16 36t19.5 32t26.5 23.5t36 11.5t47.5 -5.5l-1 -3q38 9 51 9h761q74 0 114 -56t18 -130l-274 -906 q-36 -119 -71.5 -153.5t-128.5 -34.5h-869q-27 0 -38 -15q-11 -16 -1 -43q24 -70 144 -70h923q29 0 56 15.5t35 41.5l300 987q7 22 5 57q38 -15 59 -43zM575 1056q-4 -13 2 -22.5t20 -9.5h608q13 0 25.5 9.5t16.5 22.5l21 64q4 13 -2 22.5t-20 9.5h-608q-13 0 -25.5 -9.5 t-16.5 -22.5zM492 800q-4 -13 2 -22.5t20 -9.5h608q13 0 25.5 9.5t16.5 22.5l21 64q4 13 -2 22.5t-20 9.5h-608q-13 0 -25.5 -9.5t-16.5 -22.5z",table:"M512 160v192q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23v-192q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM512 544v192q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23v-192q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM1024 160v192q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23 v-192q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM512 928v192q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23v-192q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM1024 544v192q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23v-192q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM1536 160v192 q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23v-192q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM1024 928v192q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23v-192q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM1536 544v192q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23v-192 q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM1536 928v192q0 14 -9 23t-23 9h-320q-14 0 -23 -9t-9 -23v-192q0 -14 9 -23t23 -9h320q14 0 23 9t9 23zM1664 1248v-1088q0 -66 -47 -113t-113 -47h-1344q-66 0 -113 47t-47 113v1088q0 66 47 113t113 47h1344q66 0 113 -47t47 -113 z","list-ul":"M384 128q0 -80 -56 -136t-136 -56t-136 56t-56 136t56 136t136 56t136 -56t56 -136zM384 640q0 -80 -56 -136t-136 -56t-136 56t-56 136t56 136t136 56t136 -56t56 -136zM1792 224v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1216q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5 t22.5 9.5h1216q13 0 22.5 -9.5t9.5 -22.5zM384 1152q0 -80 -56 -136t-136 -56t-136 56t-56 136t56 136t136 56t136 -56t56 -136zM1792 736v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1216q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1216q13 0 22.5 -9.5t9.5 -22.5z M1792 1248v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1216q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1216q13 0 22.5 -9.5t9.5 -22.5z","th-list":"M512 288v-192q0 -40 -28 -68t-68 -28h-320q-40 0 -68 28t-28 68v192q0 40 28 68t68 28h320q40 0 68 -28t28 -68zM512 800v-192q0 -40 -28 -68t-68 -28h-320q-40 0 -68 28t-28 68v192q0 40 28 68t68 28h320q40 0 68 -28t28 -68zM1792 288v-192q0 -40 -28 -68t-68 -28h-960 q-40 0 -68 28t-28 68v192q0 40 28 68t68 28h960q40 0 68 -28t28 -68zM512 1312v-192q0 -40 -28 -68t-68 -28h-320q-40 0 -68 28t-28 68v192q0 40 28 68t68 28h320q40 0 68 -28t28 -68zM1792 800v-192q0 -40 -28 -68t-68 -28h-960q-40 0 -68 28t-28 68v192q0 40 28 68t68 28 h960q40 0 68 -28t28 -68zM1792 1312v-192q0 -40 -28 -68t-68 -28h-960q-40 0 -68 28t-28 68v192q0 40 28 68t68 28h960q40 0 68 -28t28 -68z",subscript:"M897 167v-167h-248l-159 252l-24 42q-8 9 -11 21h-3l-9 -21q-10 -20 -25 -44l-155 -250h-258v167h128l197 291l-185 272h-137v168h276l139 -228q2 -4 23 -42q8 -9 11 -21h3q3 9 11 21l25 42l140 228h257v-168h-125l-184 -267l204 -296h109zM1536 -50v-206h-514l-4 27 q-3 45 -3 46q0 64 26 117t65 86.5t84 65t84 54.5t65 54t26 64q0 38 -29.5 62.5t-70.5 24.5q-51 0 -97 -39q-14 -11 -36 -38l-105 92q26 37 63 66q80 65 188 65q110 0 178 -59.5t68 -158.5q0 -66 -34.5 -118.5t-84 -86t-99.5 -62.5t-87 -63t-41 -73h232v80h126z","list-alt":"M384 352v-64q0 -13 -9.5 -22.5t-22.5 -9.5h-64q-13 0 -22.5 9.5t-9.5 22.5v64q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5 -9.5t9.5 -22.5zM384 608v-64q0 -13 -9.5 -22.5t-22.5 -9.5h-64q-13 0 -22.5 9.5t-9.5 22.5v64q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5 -9.5t9.5 -22.5z M384 864v-64q0 -13 -9.5 -22.5t-22.5 -9.5h-64q-13 0 -22.5 9.5t-9.5 22.5v64q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5 -9.5t9.5 -22.5zM1536 352v-64q0 -13 -9.5 -22.5t-22.5 -9.5h-960q-13 0 -22.5 9.5t-9.5 22.5v64q0 13 9.5 22.5t22.5 9.5h960q13 0 22.5 -9.5t9.5 -22.5z M1536 608v-64q0 -13 -9.5 -22.5t-22.5 -9.5h-960q-13 0 -22.5 9.5t-9.5 22.5v64q0 13 9.5 22.5t22.5 9.5h960q13 0 22.5 -9.5t9.5 -22.5zM1536 864v-64q0 -13 -9.5 -22.5t-22.5 -9.5h-960q-13 0 -22.5 9.5t-9.5 22.5v64q0 13 9.5 22.5t22.5 9.5h960q13 0 22.5 -9.5 t9.5 -22.5zM1664 160v832q0 13 -9.5 22.5t-22.5 9.5h-1472q-13 0 -22.5 -9.5t-9.5 -22.5v-832q0 -13 9.5 -22.5t22.5 -9.5h1472q13 0 22.5 9.5t9.5 22.5zM1792 1248v-1088q0 -66 -47 -113t-113 -47h-1472q-66 0 -113 47t-47 113v1088q0 66 47 113t113 47h1472q66 0 113 -47 t47 -113z",facebook:"M959 1524v-264h-157q-86 0 -116 -36t-30 -108v-189h293l-39 -296h-254v-759h-306v759h-255v296h255v218q0 186 104 288.5t277 102.5q147 0 228 -12z",twitter:"M1620 1128q-67 -98 -162 -167q1 -14 1 -42q0 -130 -38 -259.5t-115.5 -248.5t-184.5 -210.5t-258 -146t-323 -54.5q-271 0 -496 145q35 -4 78 -4q225 0 401 138q-105 2 -188 64.5t-114 159.5q33 -5 61 -5q43 0 85 11q-112 23 -185.5 111.5t-73.5 205.5v4q68 -38 146 -41 q-66 44 -105 115t-39 154q0 88 44 163q121 -149 294.5 -238.5t371.5 -99.5q-8 38 -8 74q0 134 94.5 228.5t228.5 94.5q140 0 236 -102q109 21 205 78q-37 -115 -142 -178q93 10 186 50z",upload:"M1280 64q0 26 -19 45t-45 19t-45 -19t-19 -45t19 -45t45 -19t45 19t19 45zM1536 64q0 26 -19 45t-45 19t-45 -19t-19 -45t19 -45t45 -19t45 19t19 45zM1664 288v-320q0 -40 -28 -68t-68 -28h-1472q-40 0 -68 28t-28 68v320q0 40 28 68t68 28h427q21 -56 70.5 -92 t110.5 -36h256q61 0 110.5 36t70.5 92h427q40 0 68 -28t28 -68zM1339 936q-17 -40 -59 -40h-256v-448q0 -26 -19 -45t-45 -19h-256q-26 0 -45 19t-19 45v448h-256q-42 0 -59 40q-17 39 14 69l448 448q18 19 45 19t45 -19l448 -448q31 -30 14 -69z","files-o":"M1696 1152q40 0 68 -28t28 -68v-1216q0 -40 -28 -68t-68 -28h-960q-40 0 -68 28t-28 68v288h-544q-40 0 -68 28t-28 68v672q0 40 20 88t48 76l408 408q28 28 76 48t88 20h416q40 0 68 -28t28 -68v-328q68 40 128 40h416zM1152 939l-299 -299h299v299zM512 1323l-299 -299 h299v299zM708 676l316 316v416h-384v-416q0 -40 -28 -68t-68 -28h-416v-640h512v256q0 40 20 88t48 76zM1664 -128v1152h-384v-416q0 -40 -28 -68t-68 -28h-416v-640h896z",recycle:"M836 367l-15 -368l-2 -22l-420 29q-36 3 -67 31.5t-47 65.5q-11 27 -14.5 55t4 65t12 55t21.5 64t19 53q78 -12 509 -28zM449 953l180 -379l-147 92q-63 -72 -111.5 -144.5t-72.5 -125t-39.5 -94.5t-18.5 -63l-4 -21l-190 357q-17 26 -18 56t6 47l8 18q35 63 114 188 l-140 86zM1680 436l-188 -359q-12 -29 -36.5 -46.5t-43.5 -20.5l-18 -4q-71 -7 -219 -12l8 -164l-230 367l211 362l7 -173q170 -16 283 -5t170 33zM895 1360q-47 -63 -265 -435l-317 187l-19 12l225 356q20 31 60 45t80 10q24 -2 48.5 -12t42 -21t41.5 -33t36 -34.5 t36 -39.5t32 -35zM1550 1053l212 -363q18 -37 12.5 -76t-27.5 -74q-13 -20 -33 -37t-38 -28t-48.5 -22t-47 -16t-51.5 -14t-46 -12q-34 72 -265 436l313 195zM1407 1279l142 83l-220 -373l-419 20l151 86q-34 89 -75 166t-75.5 123.5t-64.5 80t-47 46.5l-17 13l405 -1 q31 3 58 -10.5t39 -28.5l11 -15q39 -61 112 -190z",clipboard:"M768 -128h896v640h-416q-40 0 -68 28t-28 68v416h-384v-1152zM1024 1312v64q0 13 -9.5 22.5t-22.5 9.5h-704q-13 0 -22.5 -9.5t-9.5 -22.5v-64q0 -13 9.5 -22.5t22.5 -9.5h704q13 0 22.5 9.5t9.5 22.5zM1280 640h299l-299 299v-299zM1792 512v-672q0 -40 -28 -68t-68 -28 h-960q-40 0 -68 28t-28 68v160h-544q-40 0 -68 28t-28 68v1344q0 40 28 68t68 28h1088q40 0 68 -28t28 -68v-328q21 -13 36 -28l408 -408q28 -28 48 -76t20 -88z",download:"M1280 192q0 26 -19 45t-45 19t-45 -19t-19 -45t19 -45t45 -19t45 19t19 45zM1536 192q0 26 -19 45t-45 19t-45 -19t-19 -45t19 -45t45 -19t45 19t19 45zM1664 416v-320q0 -40 -28 -68t-68 -28h-1472q-40 0 -68 28t-28 68v320q0 40 28 68t68 28h465l135 -136 q58 -56 136 -56t136 56l136 136h464q40 0 68 -28t28 -68zM1339 985q17 -41 -14 -70l-448 -448q-18 -19 -45 -19t-45 19l-448 448q-31 29 -14 70q17 39 59 39h256v448q0 26 19 45t45 19h256q26 0 45 -19t19 -45v-448h256q42 0 59 -39z",camera:"M960 864q119 0 203.5 -84.5t84.5 -203.5t-84.5 -203.5t-203.5 -84.5t-203.5 84.5t-84.5 203.5t84.5 203.5t203.5 84.5zM1664 1280q106 0 181 -75t75 -181v-896q0 -106 -75 -181t-181 -75h-1408q-106 0 -181 75t-75 181v896q0 106 75 181t181 75h224l51 136 q19 49 69.5 84.5t103.5 35.5h512q53 0 103.5 -35.5t69.5 -84.5l51 -136h224zM960 128q185 0 316.5 131.5t131.5 316.5t-131.5 316.5t-316.5 131.5t-316.5 -131.5t-131.5 -316.5t131.5 -316.5t316.5 -131.5z",cog:"M1024 640q0 106 -75 181t-181 75t-181 -75t-75 -181t75 -181t181 -75t181 75t75 181zM1536 749v-222q0 -12 -8 -23t-20 -13l-185 -28q-19 -54 -39 -91q35 -50 107 -138q10 -12 10 -25t-9 -23q-27 -37 -99 -108t-94 -71q-12 0 -26 9l-138 108q-44 -23 -91 -38 q-16 -136 -29 -186q-7 -28 -36 -28h-222q-14 0 -24.5 8.5t-11.5 21.5l-28 184q-49 16 -90 37l-141 -107q-10 -9 -25 -9q-14 0 -25 11q-126 114 -165 168q-7 10 -7 23q0 12 8 23q15 21 51 66.5t54 70.5q-27 50 -41 99l-183 27q-13 2 -21 12.5t-8 23.5v222q0 12 8 23t19 13 l186 28q14 46 39 92q-40 57 -107 138q-10 12 -10 24q0 10 9 23q26 36 98.5 107.5t94.5 71.5q13 0 26 -10l138 -107q44 23 91 38q16 136 29 186q7 28 36 28h222q14 0 24.5 -8.5t11.5 -21.5l28 -184q49 -16 90 -37l142 107q9 9 24 9q13 0 25 -10q129 -119 165 -170q7 -8 7 -22 q0 -12 -8 -23q-15 -21 -51 -66.5t-54 -70.5q26 -50 41 -98l183 -28q13 -2 21 -12.5t8 -23.5z",cogs:"M896 640q0 106 -75 181t-181 75t-181 -75t-75 -181t75 -181t181 -75t181 75t75 181zM1664 128q0 52 -38 90t-90 38t-90 -38t-38 -90q0 -53 37.5 -90.5t90.5 -37.5t90.5 37.5t37.5 90.5zM1664 1152q0 52 -38 90t-90 38t-90 -38t-38 -90q0 -53 37.5 -90.5t90.5 -37.5 t90.5 37.5t37.5 90.5zM1280 731v-185q0 -10 -7 -19.5t-16 -10.5l-155 -24q-11 -35 -32 -76q34 -48 90 -115q7 -10 7 -20q0 -12 -7 -19q-23 -30 -82.5 -89.5t-78.5 -59.5q-11 0 -21 7l-115 90q-37 -19 -77 -31q-11 -108 -23 -155q-7 -24 -30 -24h-186q-11 0 -20 7.5t-10 17.5 l-23 153q-34 10 -75 31l-118 -89q-7 -7 -20 -7q-11 0 -21 8q-144 133 -144 160q0 9 7 19q10 14 41 53t47 61q-23 44 -35 82l-152 24q-10 1 -17 9.5t-7 19.5v185q0 10 7 19.5t16 10.5l155 24q11 35 32 76q-34 48 -90 115q-7 11 -7 20q0 12 7 20q22 30 82 89t79 59q11 0 21 -7 l115 -90q34 18 77 32q11 108 23 154q7 24 30 24h186q11 0 20 -7.5t10 -17.5l23 -153q34 -10 75 -31l118 89q8 7 20 7q11 0 21 -8q144 -133 144 -160q0 -9 -7 -19q-12 -16 -42 -54t-45 -60q23 -48 34 -82l152 -23q10 -2 17 -10.5t7 -19.5zM1920 198v-140q0 -16 -149 -31 q-12 -27 -30 -52q51 -113 51 -138q0 -4 -4 -7q-122 -71 -124 -71q-8 0 -46 47t-52 68q-20 -2 -30 -2t-30 2q-14 -21 -52 -68t-46 -47q-2 0 -124 71q-4 3 -4 7q0 25 51 138q-18 25 -30 52q-149 15 -149 31v140q0 16 149 31q13 29 30 52q-51 113 -51 138q0 4 4 7q4 2 35 20 t59 34t30 16q8 0 46 -46.5t52 -67.5q20 2 30 2t30 -2q51 71 92 112l6 2q4 0 124 -70q4 -3 4 -7q0 -25 -51 -138q17 -23 30 -52q149 -15 149 -31zM1920 1222v-140q0 -16 -149 -31q-12 -27 -30 -52q51 -113 51 -138q0 -4 -4 -7q-122 -71 -124 -71q-8 0 -46 47t-52 68 q-20 -2 -30 -2t-30 2q-14 -21 -52 -68t-46 -47q-2 0 -124 71q-4 3 -4 7q0 25 51 138q-18 25 -30 52q-149 15 -149 31v140q0 16 149 31q13 29 30 52q-51 113 -51 138q0 4 4 7q4 2 35 20t59 34t30 16q8 0 46 -46.5t52 -67.5q20 2 30 2t30 -2q51 71 92 112l6 2q4 0 124 -70 q4 -3 4 -7q0 -25 -51 -138q17 -23 30 -52q149 -15 149 -31z","floppy-o":"M384 0h768v384h-768v-384zM1280 0h128v896q0 14 -10 38.5t-20 34.5l-281 281q-10 10 -34 20t-39 10v-416q0 -40 -28 -68t-68 -28h-576q-40 0 -68 28t-28 68v416h-128v-1280h128v416q0 40 28 68t68 28h832q40 0 68 -28t28 -68v-416zM896 928v320q0 13 -9.5 22.5t-22.5 9.5 h-192q-13 0 -22.5 -9.5t-9.5 -22.5v-320q0 -13 9.5 -22.5t22.5 -9.5h192q13 0 22.5 9.5t9.5 22.5zM1536 896v-928q0 -40 -28 -68t-68 -28h-1344q-40 0 -68 28t-28 68v1344q0 40 28 68t68 28h928q40 0 88 -20t76 -48l280 -280q28 -28 48 -76t20 -88z",refresh:"M1511 480q0 -5 -1 -7q-64 -268 -268 -434.5t-478 -166.5q-146 0 -282.5 55t-243.5 157l-129 -129q-19 -19 -45 -19t-45 19t-19 45v448q0 26 19 45t45 19h448q26 0 45 -19t19 -45t-19 -45l-137 -137q71 -66 161 -102t187 -36q134 0 250 65t186 179q11 17 53 117 q8 23 30 23h192q13 0 22.5 -9.5t9.5 -22.5zM1536 1280v-448q0 -26 -19 -45t-45 -19h-448q-26 0 -45 19t-19 45t19 45l138 138q-148 137 -349 137q-134 0 -250 -65t-186 -179q-11 -17 -53 -117q-8 -23 -30 -23h-199q-13 0 -22.5 9.5t-9.5 22.5v7q65 268 270 434.5t480 166.5 q146 0 284 -55.5t245 -156.5l130 129q19 19 45 19t45 -19t19 -45z","envelope-o":"M1664 32v768q-32 -36 -69 -66q-268 -206 -426 -338q-51 -43 -83 -67t-86.5 -48.5t-102.5 -24.5h-1h-1q-48 0 -102.5 24.5t-86.5 48.5t-83 67q-158 132 -426 338q-37 30 -69 66v-768q0 -13 9.5 -22.5t22.5 -9.5h1472q13 0 22.5 9.5t9.5 22.5zM1664 1083v11v13.5t-0.5 13 t-3 12.5t-5.5 9t-9 7.5t-14 2.5h-1472q-13 0 -22.5 -9.5t-9.5 -22.5q0 -168 147 -284q193 -152 401 -317q6 -5 35 -29.5t46 -37.5t44.5 -31.5t50.5 -27.5t43 -9h1h1q20 0 43 9t50.5 27.5t44.5 31.5t46 37.5t35 29.5q208 165 401 317q54 43 100.5 115.5t46.5 131.5z M1792 1120v-1088q0 -66 -47 -113t-113 -47h-1472q-66 0 -113 47t-47 113v1088q0 66 47 113t113 47h1472q66 0 113 -47t47 -113z","video-camera":"M1792 1184v-1088q0 -42 -39 -59q-13 -5 -25 -5q-27 0 -45 19l-403 403v-166q0 -119 -84.5 -203.5t-203.5 -84.5h-704q-119 0 -203.5 84.5t-84.5 203.5v704q0 119 84.5 203.5t203.5 84.5h704q119 0 203.5 -84.5t84.5 -203.5v-165l403 402q18 19 45 19q12 0 25 -5 q39 -17 39 -59z","folder-open":"M1879 584q0 -31 -31 -66l-336 -396q-43 -51 -120.5 -86.5t-143.5 -35.5h-1088q-34 0 -60.5 13t-26.5 43q0 31 31 66l336 396q43 51 120.5 86.5t143.5 35.5h1088q34 0 60.5 -13t26.5 -43zM1536 928v-160h-832q-94 0 -197 -47.5t-164 -119.5l-337 -396l-5 -6q0 4 -0.5 12.5 t-0.5 12.5v960q0 92 66 158t158 66h320q92 0 158 -66t66 -158v-32h544q92 0 158 -66t66 -158z",forward:"M45 -115q-19 -19 -32 -13t-13 32v1472q0 26 13 32t32 -13l710 -710q8 -8 13 -19v710q0 26 13 32t32 -13l710 -710q19 -19 19 -45t-19 -45l-710 -710q-19 -19 -32 -13t-13 32v710q-5 -10 -13 -19z",backward:"M1619 1395q19 19 32 13t13 -32v-1472q0 -26 -13 -32t-32 13l-710 710q-8 9 -13 19v-710q0 -26 -13 -32t-32 13l-710 710q-19 19 -19 45t19 45l710 710q19 19 32 13t13 -32v-710q5 11 13 19z",question:"M704 280v-240q0 -16 -12 -28t-28 -12h-240q-16 0 -28 12t-12 28v240q0 16 12 28t28 12h240q16 0 28 -12t12 -28zM1020 880q0 -54 -15.5 -101t-35 -76.5t-55 -59.5t-57.5 -43.5t-61 -35.5q-41 -23 -68.5 -65t-27.5 -67q0 -17 -12 -32.5t-28 -15.5h-240q-15 0 -25.5 18.5 t-10.5 37.5v45q0 83 65 156.5t143 108.5q59 27 84 56t25 76q0 42 -46.5 74t-107.5 32q-65 0 -108 -29q-35 -25 -107 -115q-13 -16 -31 -16q-12 0 -25 8l-164 125q-13 10 -15.5 25t5.5 28q160 266 464 266q80 0 161 -31t146 -83t106 -127.5t41 -158.5z","share-alt":"M1216 512q133 0 226.5 -93.5t93.5 -226.5t-93.5 -226.5t-226.5 -93.5t-226.5 93.5t-93.5 226.5q0 12 2 34l-360 180q-92 -86 -218 -86q-133 0 -226.5 93.5t-93.5 226.5t93.5 226.5t226.5 93.5q126 0 218 -86l360 180q-2 22 -2 34q0 133 93.5 226.5t226.5 93.5 t226.5 -93.5t93.5 -226.5t-93.5 -226.5t-226.5 -93.5q-126 0 -218 86l-360 -180q2 -22 2 -34t-2 -34l360 -180q92 86 218 86z",pause:"M1536 1344v-1408q0 -26 -19 -45t-45 -19h-512q-26 0 -45 19t-19 45v1408q0 26 19 45t45 19h512q26 0 45 -19t19 -45zM640 1344v-1408q0 -26 -19 -45t-45 -19h-512q-26 0 -45 19t-19 45v1408q0 26 19 45t45 19h512q26 0 45 -19t19 -45z",star:"M1664 889q0 -22 -26 -48l-363 -354l86 -500q1 -7 1 -20q0 -21 -10.5 -35.5t-30.5 -14.5q-19 0 -40 12l-449 236l-449 -236q-22 -12 -40 -12q-21 0 -31.5 14.5t-10.5 35.5q0 6 2 20l86 500l-364 354q-25 27 -25 48q0 37 56 46l502 73l225 455q19 41 49 41t49 -41l225 -455 l502 -73q56 -9 56 -46z",minus:"M1408 800v-192q0 -40 -28 -68t-68 -28h-1216q-40 0 -68 28t-28 68v192q0 40 28 68t68 28h1216q40 0 68 -28t28 -68z",check:"M1671 970q0 -40 -28 -68l-724 -724l-136 -136q-28 -28 -68 -28t-68 28l-136 136l-362 362q-28 28 -28 68t28 68l136 136q28 28 68 28t68 -28l294 -295l656 657q28 28 68 28t68 -28l136 -136q28 -28 28 -68z","heart-o":"M1664 940q0 81 -21.5 143t-55 98.5t-81.5 59.5t-94 31t-98 8t-112 -25.5t-110.5 -64t-86.5 -72t-60 -61.5q-18 -22 -49 -22t-49 22q-24 28 -60 61.5t-86.5 72t-110.5 64t-112 25.5t-98 -8t-94 -31t-81.5 -59.5t-55 -98.5t-21.5 -143q0 -168 187 -355l581 -560l580 559 q188 188 188 356zM1792 940q0 -221 -229 -450l-623 -600q-18 -18 -44 -18t-44 18l-624 602q-10 8 -27.5 26t-55.5 65.5t-68 97.5t-53.5 121t-23.5 138q0 220 127 344t351 124q62 0 126.5 -21.5t120 -58t95.5 -68.5t76 -68q36 36 76 68t95.5 68.5t120 58t126.5 21.5 q224 0 351 -124t127 -344z",trophy:"M458 653q-74 162 -74 371h-256v-96q0 -78 94.5 -162t235.5 -113zM1536 928v96h-256q0 -209 -74 -371q141 29 235.5 113t94.5 162zM1664 1056v-128q0 -71 -41.5 -143t-112 -130t-173 -97.5t-215.5 -44.5q-42 -54 -95 -95q-38 -34 -52.5 -72.5t-14.5 -89.5q0 -54 30.5 -91 t97.5 -37q75 0 133.5 -45.5t58.5 -114.5v-64q0 -14 -9 -23t-23 -9h-832q-14 0 -23 9t-9 23v64q0 69 58.5 114.5t133.5 45.5q67 0 97.5 37t30.5 91q0 51 -14.5 89.5t-52.5 72.5q-53 41 -95 95q-113 5 -215.5 44.5t-173 97.5t-112 130t-41.5 143v128q0 40 28 68t68 28h288v96 q0 66 47 113t113 47h576q66 0 113 -47t47 -113v-96h288q40 0 68 -28t28 -68z",bell:"M912 -160q0 16 -16 16q-59 0 -101.5 42.5t-42.5 101.5q0 16 -16 16t-16 -16q0 -73 51.5 -124.5t124.5 -51.5q16 0 16 16zM1728 128q0 -52 -38 -90t-90 -38h-448q0 -106 -75 -181t-181 -75t-181 75t-75 181h-448q-52 0 -90 38t-38 90q50 42 91 88t85 119.5t74.5 158.5 t50 206t19.5 260q0 152 117 282.5t307 158.5q-8 19 -8 39q0 40 28 68t68 28t68 -28t28 -68q0 -20 -8 -39q190 -28 307 -158.5t117 -282.5q0 -139 19.5 -260t50 -206t74.5 -158.5t85 -119.5t91 -88z",wrench:"M384 64q0 26 -19 45t-45 19t-45 -19t-19 -45t19 -45t45 -19t45 19t19 45zM1028 484l-682 -682q-37 -37 -90 -37q-52 0 -91 37l-106 108q-38 36 -38 90q0 53 38 91l681 681q39 -98 114.5 -173.5t173.5 -114.5zM1662 919q0 -39 -23 -106q-47 -134 -164.5 -217.5 t-258.5 -83.5q-185 0 -316.5 131.5t-131.5 316.5t131.5 316.5t316.5 131.5q58 0 121.5 -16.5t107.5 -46.5q16 -11 16 -28t-16 -28l-293 -169v-224l193 -107q5 3 79 48.5t135.5 81t70.5 35.5q15 0 23.5 -10t8.5 -25z","fast-backward":"M1747 1395q19 19 32 13t13 -32v-1472q0 -26 -13 -32t-32 13l-710 710q-9 9 -13 19v-710q0 -26 -13 -32t-32 13l-710 710q-9 9 -13 19v-678q0 -26 -19 -45t-45 -19h-128q-26 0 -45 19t-19 45v1408q0 26 19 45t45 19h128q26 0 45 -19t19 -45v-678q4 11 13 19l710 710 q19 19 32 13t13 -32v-710q4 11 13 19z",flag:"M320 1280q0 -72 -64 -110v-1266q0 -13 -9.5 -22.5t-22.5 -9.5h-64q-13 0 -22.5 9.5t-9.5 22.5v1266q-64 38 -64 110q0 53 37.5 90.5t90.5 37.5t90.5 -37.5t37.5 -90.5zM1792 1216v-763q0 -25 -12.5 -38.5t-39.5 -27.5q-215 -116 -369 -116q-61 0 -123.5 22t-108.5 48 t-115.5 48t-142.5 22q-192 0 -464 -146q-17 -9 -33 -9q-26 0 -45 19t-19 45v742q0 32 31 55q21 14 79 43q236 120 421 120q107 0 200 -29t219 -88q38 -19 88 -19q54 0 117.5 21t110 47t88 47t54.5 21q26 0 45 -19t19 -45z",cloud:"M1920 384q0 -159 -112.5 -271.5t-271.5 -112.5h-1088q-185 0 -316.5 131.5t-131.5 316.5q0 132 71 241.5t187 163.5q-2 28 -2 43q0 212 150 362t362 150q158 0 286.5 -88t187.5 -230q70 62 166 62q106 0 181 -75t75 -181q0 -75 -41 -138q129 -30 213 -134.5t84 -239.5z ",laptop:"M416 256q-66 0 -113 47t-47 113v704q0 66 47 113t113 47h1088q66 0 113 -47t47 -113v-704q0 -66 -47 -113t-113 -47h-1088zM384 1120v-704q0 -13 9.5 -22.5t22.5 -9.5h1088q13 0 22.5 9.5t9.5 22.5v704q0 13 -9.5 22.5t-22.5 9.5h-1088q-13 0 -22.5 -9.5t-9.5 -22.5z M1760 192h160v-96q0 -40 -47 -68t-113 -28h-1600q-66 0 -113 28t-47 68v96h160h1600zM1040 96q16 0 16 16t-16 16h-160q-16 0 -16 -16t16 -16h160z",expand:"M755 480q0 -13 -10 -23l-332 -332l144 -144q19 -19 19 -45t-19 -45t-45 -19h-448q-26 0 -45 19t-19 45v448q0 26 19 45t45 19t45 -19l144 -144l332 332q10 10 23 10t23 -10l114 -114q10 -10 10 -23zM1536 1344v-448q0 -26 -19 -45t-45 -19t-45 19l-144 144l-332 -332 q-10 -10 -23 -10t-23 10l-114 114q-10 10 -10 23t10 23l332 332l-144 144q-19 19 -19 45t19 45t45 19h448q26 0 45 -19t19 -45z",list:"M256 224v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-192q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5 -9.5t9.5 -22.5zM256 608v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-192q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5 -9.5 t9.5 -22.5zM256 992v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-192q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5 -9.5t9.5 -22.5zM1792 224v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1344q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1344 q13 0 22.5 -9.5t9.5 -22.5zM256 1376v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-192q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5 -9.5t9.5 -22.5zM1792 608v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1344q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5 t22.5 9.5h1344q13 0 22.5 -9.5t9.5 -22.5zM1792 992v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1344q-13 0 -22.5 9.5t-9.5 22.5v192q0 13 9.5 22.5t22.5 9.5h1344q13 0 22.5 -9.5t9.5 -22.5zM1792 1376v-192q0 -13 -9.5 -22.5t-22.5 -9.5h-1344q-13 0 -22.5 9.5t-9.5 22.5v192 q0 13 9.5 22.5t22.5 9.5h1344q13 0 22.5 -9.5t9.5 -22.5z",share:"M1792 896q0 -26 -19 -45l-512 -512q-19 -19 -45 -19t-45 19t-19 45v256h-224q-98 0 -175.5 -6t-154 -21.5t-133 -42.5t-105.5 -69.5t-80 -101t-48.5 -138.5t-17.5 -181q0 -55 5 -123q0 -6 2.5 -23.5t2.5 -26.5q0 -15 -8.5 -25t-23.5 -10q-16 0 -28 17q-7 9 -13 22 t-13.5 30t-10.5 24q-127 285 -127 451q0 199 53 333q162 403 875 403h224v256q0 26 19 45t45 19t45 -19l512 -512q19 -19 19 -45z",youtube:"M971 292v-211q0 -67 -39 -67q-23 0 -45 22v301q22 22 45 22q39 0 39 -67zM1309 291v-46h-90v46q0 68 45 68t45 -68zM343 509h107v94h-312v-94h105v-569h100v569zM631 -60h89v494h-89v-378q-30 -42 -57 -42q-18 0 -21 21q-1 3 -1 35v364h-89v-391q0 -49 8 -73 q12 -37 58 -37q48 0 102 61v-54zM1060 88v197q0 73 -9 99q-17 56 -71 56q-50 0 -93 -54v217h-89v-663h89v48q45 -55 93 -55q54 0 71 55q9 27 9 100zM1398 98v13h-91q0 -51 -2 -61q-7 -36 -40 -36q-46 0 -46 69v87h179v103q0 79 -27 116q-39 51 -106 51q-68 0 -107 -51 q-28 -37 -28 -116v-173q0 -79 29 -116q39 -51 108 -51q72 0 108 53q18 27 21 54q2 9 2 58zM790 1011v210q0 69 -43 69t-43 -69v-210q0 -70 43 -70t43 70zM1509 260q0 -234 -26 -350q-14 -59 -58 -99t-102 -46q-184 -21 -555 -21t-555 21q-58 6 -102.5 46t-57.5 99 q-26 112 -26 350q0 234 26 350q14 59 58 99t103 47q183 20 554 20t555 -20q58 -7 102.5 -47t57.5 -99q26 -112 26 -350zM511 1536h102l-121 -399v-271h-100v271q-14 74 -61 212q-37 103 -65 187h106l71 -263zM881 1203v-175q0 -81 -28 -118q-37 -51 -106 -51q-67 0 -105 51 q-28 38 -28 118v175q0 80 28 117q38 51 105 51q69 0 106 -51q28 -37 28 -117zM1216 1365v-499h-91v55q-53 -62 -103 -62q-46 0 -59 37q-8 24 -8 75v394h91v-367q0 -33 1 -35q3 -22 21 -22q27 0 57 43v381h91z",instagram:"M1362 110v648h-135q20 -63 20 -131q0 -126 -64 -232.5t-174 -168.5t-240 -62q-197 0 -337 135.5t-140 327.5q0 68 20 131h-141v-648q0 -26 17.5 -43.5t43.5 -17.5h1069q25 0 43 17.5t18 43.5zM1078 643q0 124 -90.5 211.5t-218.5 87.5q-127 0 -217.5 -87.5t-90.5 -211.5 t90.5 -211.5t217.5 -87.5q128 0 218.5 87.5t90.5 211.5zM1362 1003v165q0 28 -20 48.5t-49 20.5h-174q-29 0 -49 -20.5t-20 -48.5v-165q0 -29 20 -49t49 -20h174q29 0 49 20t20 49zM1536 1211v-1142q0 -81 -58 -139t-139 -58h-1142q-81 0 -139 58t-58 139v1142q0 81 58 139 t139 58h1142q81 0 139 -58t58 -139z",vine:"M1497 709v-198q-101 -23 -198 -23q-65 -136 -165.5 -271t-181.5 -215.5t-128 -106.5q-80 -45 -162 3q-28 17 -60.5 43.5t-85 83.5t-102.5 128.5t-107.5 184t-105.5 244t-91.5 314.5t-70.5 390h283q26 -218 70 -398.5t104.5 -317t121.5 -235.5t140 -195q169 169 287 406 q-142 72 -223 220t-81 333q0 192 104 314.5t284 122.5q178 0 273 -105.5t95 -297.5q0 -159 -58 -286q-7 -1 -19.5 -3t-46 -2t-63 6t-62 25.5t-50.5 51.5q31 103 31 184q0 87 -29 132t-79 45q-53 0 -85 -49.5t-32 -140.5q0 -186 105 -293.5t267 -107.5q62 0 121 14z",print:"M384 0h896v256h-896v-256zM384 640h896v384h-160q-40 0 -68 28t-28 68v160h-640v-640zM1536 576q0 26 -19 45t-45 19t-45 -19t-19 -45t19 -45t45 -19t45 19t19 45zM1664 576v-416q0 -13 -9.5 -22.5t-22.5 -9.5h-224v-160q0 -40 -28 -68t-68 -28h-960q-40 0 -68 28t-28 68 v160h-224q-13 0 -22.5 9.5t-9.5 22.5v416q0 79 56.5 135.5t135.5 56.5h64v544q0 40 28 68t68 28h672q40 0 88 -20t76 -48l152 -152q28 -28 48 -76t20 -88v-256h64q79 0 135.5 -56.5t56.5 -135.5z",vimeo:"M1254 899q16 85 -21 132q-52 65 -187 45q-17 -3 -41 -12.5t-57.5 -30.5t-64.5 -48.5t-59.5 -70t-44.5 -91.5q80 7 113.5 -16t26.5 -99q-5 -52 -52 -143q-43 -78 -71 -99q-44 -32 -87 14q-23 24 -37.5 64.5t-19 73t-10 84t-8.5 71.5q-23 129 -34 164q-12 37 -35.5 69 t-50.5 40q-57 16 -127 -25q-54 -32 -136.5 -106t-122.5 -102v-7q16 -8 25.5 -26t21.5 -20q21 -3 54.5 8.5t58 10.5t41.5 -30q11 -18 18.5 -38.5t15 -48t12.5 -40.5q17 -46 53 -187q36 -146 57 -197q42 -99 103 -125q43 -12 85 -1.5t76 31.5q131 77 250 237 q104 139 172.5 292.5t82.5 226.5zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z",code:"M617 137l-50 -50q-10 -10 -23 -10t-23 10l-466 466q-10 10 -10 23t10 23l466 466q10 10 23 10t23 -10l50 -50q10 -10 10 -23t-10 -23l-393 -393l393 -393q10 -10 10 -23t-10 -23zM1208 1204l-373 -1291q-4 -13 -15.5 -19.5t-23.5 -2.5l-62 17q-13 4 -19.5 15.5t-2.5 24.5 l373 1291q4 13 15.5 19.5t23.5 2.5l62 -17q13 -4 19.5 -15.5t2.5 -24.5zM1865 553l-466 -466q-10 -10 -23 -10t-23 10l-50 50q-10 10 -10 23t10 23l393 393l-393 393q-10 10 -10 23t10 23l50 50q10 10 23 10t23 -10l466 -466q10 -10 10 -23t-10 -23z","puzzle-piece":"M1664 438q0 -81 -44.5 -135t-123.5 -54q-41 0 -77.5 17.5t-59 38t-56.5 38t-71 17.5q-110 0 -110 -124q0 -39 16 -115t15 -115v-5q-22 0 -33 -1q-34 -3 -97.5 -11.5t-115.5 -13.5t-98 -5q-61 0 -103 26.5t-42 83.5q0 37 17.5 71t38 56.5t38 59t17.5 77.5q0 79 -54 123.5 t-135 44.5q-84 0 -143 -45.5t-59 -127.5q0 -43 15 -83t33.5 -64.5t33.5 -53t15 -50.5q0 -45 -46 -89q-37 -35 -117 -35q-95 0 -245 24q-9 2 -27.5 4t-27.5 4l-13 2q-1 0 -3 1q-2 0 -2 1v1024q2 -1 17.5 -3.5t34 -5t21.5 -3.5q150 -24 245 -24q80 0 117 35q46 44 46 89 q0 22 -15 50.5t-33.5 53t-33.5 64.5t-15 83q0 82 59 127.5t144 45.5q80 0 134 -44.5t54 -123.5q0 -41 -17.5 -77.5t-38 -59t-38 -56.5t-17.5 -71q0 -57 42 -83.5t103 -26.5q64 0 180 15t163 17v-2q-1 -2 -3.5 -17.5t-5 -34t-3.5 -21.5q-24 -150 -24 -245q0 -80 35 -117 q44 -46 89 -46q22 0 50.5 15t53 33.5t64.5 33.5t83 15q82 0 127.5 -59t45.5 -143z",bars:"M1536 192v-128q0 -26 -19 -45t-45 -19h-1408q-26 0 -45 19t-19 45v128q0 26 19 45t45 19h1408q26 0 45 -19t19 -45zM1536 704v-128q0 -26 -19 -45t-45 -19h-1408q-26 0 -45 19t-19 45v128q0 26 19 45t45 19h1408q26 0 45 -19t19 -45zM1536 1216v-128q0 -26 -19 -45 t-45 -19h-1408q-26 0 -45 19t-19 45v128q0 26 19 45t45 19h1408q26 0 45 -19t19 -45z","external-link":"M1408 608v-320q0 -119 -84.5 -203.5t-203.5 -84.5h-832q-119 0 -203.5 84.5t-84.5 203.5v832q0 119 84.5 203.5t203.5 84.5h704q14 0 23 -9t9 -23v-64q0 -14 -9 -23t-23 -9h-704q-66 0 -113 -47t-47 -113v-832q0 -66 47 -113t113 -47h832q66 0 113 47t47 113v320 q0 14 9 23t23 9h64q14 0 23 -9t9 -23zM1792 1472v-512q0 -26 -19 -45t-45 -19t-45 19l-176 176l-652 -652q-10 -10 -23 -10t-23 10l-114 114q-10 10 -10 23t10 23l652 652l-176 176q-19 19 -19 45t19 45t45 19h512q26 0 45 -19t19 -45z",ban:"M1312 643q0 161 -87 295l-754 -753q137 -89 297 -89q111 0 211.5 43.5t173.5 116.5t116 174.5t43 212.5zM313 344l755 754q-135 91 -300 91q-148 0 -273 -73t-198 -199t-73 -274q0 -162 89 -299zM1536 643q0 -157 -61 -300t-163.5 -246t-245 -164t-298.5 -61t-298.5 61 t-245 164t-163.5 246t-61 300t61 299.5t163.5 245.5t245 164t298.5 61t298.5 -61t245 -164t163.5 -245.5t61 -299.5z"};function f(e,t,n,i){return void 0===n&&(n=""),void 0===i&&(i=""),"<svg class='svg svg-icon-"+n+"' viewBox='"+e+"' preserveAspectRatio='xMinYMin' xmlns='http://www.w3.org/2000/svg'>"+(i?"<title>"+i.replace(/[<>]/g,"")+"</title>":"")+t+"</svg>"}var i=(e.svgBoilerPlate=f)("0 0 480 100",'<path fill="#F1511B" d="M 304.013,30.6004L 287.456,30.5787L 287.456,14.0221L 304.012,14.0221L 304.013,30.6004 Z "/><path fill="#7FCB28" d="M 322.293,30.5783L 305.731,30.5848L 305.736,14.0221L 322.293,14.0221L 322.293,30.5783 Z "/><path fill="#00ADEE" d="M 304.012,48.8651L 287.456,48.8651L 287.456,32.309L 303.997,32.3036L 304.012,48.8651 Z "/><path fill="#FABC09" d="M 322.293,48.8651L 305.736,48.8651L 305.747,32.3192L 322.293,32.309L 322.293,48.8651 Z "/><path fill="#DF4A32" d="M 374.073,59.2197L 401.083,59.2197C 401.73,59.2197 402.255,59.7444 402.255,60.3916L 402.255,87.4013C 402.255,88.0485 401.73,88.5732 401.083,88.5732L 393.197,88.5732L 388.656,88.5732L 374.073,88.5732C 373.426,88.5732 372.901,88.0485 372.901,87.4013L 372.901,60.3916C 372.901,59.7444 373.426,59.2197 374.073,59.2197 Z M 386.737,63.2903L 388.618,63.2903L 390.501,62.1863L 384.402,62.1863C 383.593,62.1863 382.725,62.2811 381.8,62.4701C 380.865,62.6892 379.964,63.1573 379.097,63.874C 377.835,65.099 377.204,66.4629 377.204,67.9665C 377.204,69.2112 377.649,70.3014 378.54,71.2373C 379.391,72.243 380.629,72.7558 382.252,72.7757C 382.559,72.7757 382.886,72.7558 383.232,72.7159L 383.046,73.2413C 382.97,73.4215 382.931,73.647 382.931,73.9171C 382.931,74.3678 383.032,74.7534 383.232,75.0737C 383.404,75.4043 383.6,75.7147 383.82,76.005C 383.109,76.025 382.215,76.1142 381.138,76.2734C 380.051,76.4622 379.013,76.8399 378.025,77.4066C 377.146,77.9331 376.538,78.5444 376.202,79.2404C 375.857,79.9362 375.684,80.5672 375.684,81.1339C 375.684,82.2968 376.215,83.2957 377.279,84.1308C 378.332,85.0252 379.927,85.4825 382.063,85.5025C 384.615,85.4626 386.568,84.8502 387.922,83.6651C 389.226,82.5198 389.879,81.2053 389.879,79.7217C 389.86,78.676 389.623,77.8295 389.166,77.1822C 388.681,76.5448 388.117,75.9625 387.474,75.4345L 386.44,74.5832C 386.29,74.4337 386.137,74.2596 385.978,74.0603C 385.792,73.8512 385.699,73.5874 385.699,73.2686C 385.699,72.94 385.79,72.6512 385.971,72.4022C 386.126,72.1631 386.294,71.9492 386.475,71.7599L 387.375,70.9384C 387.629,70.6694 387.87,70.3758 388.097,70.057C 388.561,69.3997 388.802,68.5236 388.82,67.428C 388.82,66.8304 388.753,66.3076 388.619,65.8595C 388.456,65.4114 388.269,65.0231 388.059,64.6945C 387.838,64.3459 387.613,64.0521 387.383,63.8131C 387.144,63.5841 386.928,63.4098 386.737,63.2903 Z M 387.915,80.9187C 387.915,81.8748 387.546,82.6566 386.808,83.2644C 386.051,83.882 384.953,84.2006 383.516,84.2207C 381.914,84.2006 380.651,83.8421 379.729,83.145C 378.758,82.4475 378.272,81.5611 378.272,80.4855C 378.272,79.9376 378.384,79.4696 378.607,79.0811C 378.802,78.7125 379.039,78.4036 379.321,78.1548C 379.612,77.9159 379.899,77.7314 380.18,77.6021L 380.836,77.333C 381.496,77.1337 382.142,76.9894 382.773,76.8999C 383.414,76.8401 383.812,76.8201 383.968,76.8401L 384.652,76.87C 385.789,77.6668 386.624,78.339 387.158,78.8871C 387.663,79.4644 387.915,80.1418 387.915,80.9187 Z M 383.663,71.9419C 383.027,71.9419 382.462,71.7476 381.968,71.3582C 381.474,70.9691 381.07,70.4952 380.758,69.9363C 380.112,68.739 379.79,67.5862 379.79,66.4785C 379.77,65.6406 379.991,64.8822 380.453,64.2035C 381,63.555 381.688,63.2207 382.514,63.2007C 383.139,63.2207 383.692,63.4054 384.173,63.7545C 384.644,64.1237 385.023,64.6027 385.312,65.1914C 385.927,66.4188 386.234,67.6362 386.234,68.8436C 386.234,69.1232 386.212,69.4674 386.168,69.8763C 386.094,70.2856 385.928,70.6846 385.67,71.0736C 385.135,71.6227 384.466,71.9121 383.663,71.9419 Z M 400.017,71.7155L 396.809,71.7155L 396.809,68.4458L 394.931,68.4458L 394.931,71.7155L 391.703,71.7155L 391.703,73.5403L 391.723,73.5403L 391.723,73.6096L 394.931,73.6096L 394.931,76.8175L 396.809,76.8175L 396.809,73.6096L 400.095,73.6096L 400.095,71.7318L 400.017,71.7318L 400.017,71.7155 Z "/><path fill="#3F008F" d="M 447.118,85.0025L 442.792,84.4735L 443.273,80.6767L 447.599,81.205L 447.118,85.0025 Z M 451.446,61.9735L 447.311,78.657L 444.089,78.2252L 444.042,61.0608L 451.446,61.9735 Z M 436.542,82.1673C 434.069,84.0011 431.003,85.0745 427.368,85.3876L 422.716,85.3876C 419.055,85.0745 415.993,84.0011 413.561,82.1673C 410.581,79.9555 409.09,77.0707 409.09,73.5128C 409.09,70.0033 410.581,67.1659 413.561,64.9548C 416.494,62.6954 420.34,61.5899 425.051,61.5899C 429.715,61.5899 433.561,62.6954 436.542,64.9548C 439.474,67.1659 440.965,70.0033 440.965,73.5128C 440.965,77.0707 439.474,79.9555 436.542,82.1673 Z M 434.33,70.5798L 434.907,69.7628L 430.965,69.7146L 426.782,69.7146L 426.975,70.5798L 429.474,70.9648C 429.426,71.4932 428.129,72.6952 425.677,74.5702C 423.802,72.2144 422.407,70.3401 421.494,68.9941L 424.426,68.7048L 424.523,68.0311C 423.225,67.936 421.59,67.936 419.619,67.9836C 416.782,67.936 415.244,67.936 415.099,68.0311L 415.099,68.8488L 417.888,69.2332C 418.369,69.6182 419.379,70.7245 420.917,72.5995C 422.407,74.4269 423.177,75.4843 423.273,75.7729L 423.321,77.0232L 423.321,77.6472C 423.321,78.657 423.273,79.2343 423.177,79.3293C 423.033,79.4747 422.6,79.5704 421.878,79.6187L 420.484,79.6662L 420.34,80.5321L 424.667,80.4838L 429.522,80.4838L 429.571,79.5704L 426.59,79.5222L 426.398,77.6961L 426.446,76.9742L 426.542,75.7729C 426.686,75.3396 427.551,74.4745 429.234,73.1284C 430.821,71.83 431.734,71.1563 432.071,71.0613L 434.33,70.5798 Z "/><path fill="#000000" d="M 448.753,81.205L 448.417,81.205L 448.417,80.9653L 449.33,80.9653L 449.33,81.205L 448.994,81.205L 448.994,82.1184L 448.753,82.1184L 448.753,81.205 Z M 449.811,81.3015L 449.811,82.1184L 449.571,82.1184L 449.571,80.9653L 449.859,80.9653L 450.196,81.5418L 450.532,80.9653L 450.772,80.9653L 450.772,82.1184L 450.532,82.1184L 450.532,81.3015L 450.196,81.8787L 450.147,81.8787L 449.811,81.3015 Z "/><path fill="#3B5998" d="M 362.345,88.5734L 354.865,88.5734L 354.865,77.2061L 358.68,77.2061L 359.251,72.7761L 354.865,72.7761L 354.865,69.9477C 354.865,68.6651 355.221,67.791 357.06,67.791L 359.406,67.7899L 359.406,63.8277C 359,63.7738 357.608,63.6532 355.988,63.6532C 352.605,63.6532 350.29,65.7177 350.29,69.5091L 350.29,72.7761L 346.465,72.7761L 346.465,77.2061L 350.29,77.2061L 350.29,88.5734L 336.231,88.5734C 335.336,88.5734 334.611,87.848 334.611,86.9534L 334.611,60.8398C 334.611,59.9449 335.336,59.2197 336.231,59.2197L 362.345,59.2197C 363.239,59.2197 363.965,59.9449 363.965,60.8398L 363.965,86.9534C 363.965,87.848 363.239,88.5734 362.345,88.5734 Z "/><path fill="#686868" d="M 345.055,34.0982L 350.422,20.9961L 355.338,20.9961L 355.338,41.8745L 351.737,41.8745L 351.737,28.6072L 351.897,24.8576L 351.822,24.8576C 351.685,25.4729 351.535,26.1565 351.394,26.507L 345.163,41.8745L 342.802,41.8745L 336.525,26.6446L 336.046,24.8576L 335.972,24.8576L 336.068,26.1946L 336.118,29.0398L 336.118,41.8745L 332.742,41.8745L 332.742,20.9961L 337.86,20.9961L 343.095,34.128C 343.554,35.2844 343.847,36.1942 344.022,36.8356L 344.077,36.8356L 345.055,34.0982 Z M 358.728,41.8747L 358.728,26.9128L 362.247,26.9128L 362.247,41.8747L 358.728,41.8747 Z M 360.524,20.5542C 361.133,20.5542 361.648,20.7572 362.054,21.1582C 362.46,21.5597 362.666,22.0478 362.666,22.61C 362.666,23.183 362.454,23.667 362.037,24.0493C 361.622,24.4293 361.113,24.6219 360.524,24.6219C 359.935,24.6219 359.427,24.4293 359.017,24.049C 358.605,23.667 358.396,23.183 358.396,22.61C 358.396,22.0279 358.607,21.5336 359.024,21.1421C 359.439,20.7522 359.944,20.5542 360.524,20.5542 Z M 374.707,26.7628C 375.387,26.9041 375.935,27.0894 376.336,27.3139L 376.383,27.3408L 376.383,30.7383L 376.235,30.631C 375.169,29.8574 374.042,29.4655 372.885,29.4655C 371.533,29.4655 370.422,29.9241 369.584,30.8282C 368.743,31.7343 368.317,32.9631 368.317,34.4804C 368.317,35.9881 368.726,37.1847 369.533,38.0378C 370.338,38.89 371.446,39.3221 372.827,39.3221C 373.324,39.3221 373.891,39.2119 374.513,38.9948C 375.137,38.7781 375.716,38.4765 376.235,38.0986L 376.383,37.9909L 376.383,41.2148L 376.337,41.2417C 375.192,41.9013 373.764,42.2356 372.091,42.2356C 370.659,42.2356 369.364,41.9207 368.243,41.3005C 367.122,40.679 366.236,39.7833 365.61,38.6372C 364.985,37.4933 364.668,36.1969 364.668,34.7828C 364.668,33.1691 364.994,31.7227 365.638,30.4834C 366.283,29.2413 367.233,28.2648 368.46,27.5811C 369.685,26.8979 371.125,26.552 372.741,26.552C 373.369,26.552 374.03,26.6228 374.707,26.7628 Z M 386.304,26.6528C 386.891,26.6528 387.355,26.7232 387.682,26.8624L 387.739,26.8864L 387.739,30.4347L 387.591,30.3278C 387.428,30.2105 387.152,30.0987 386.771,29.9959C 386.385,29.8927 386.03,29.8405 385.712,29.8405C 384.777,29.8405 384.011,30.2449 383.436,31.0429C 382.854,31.85 382.559,32.9189 382.559,34.2207L 382.559,41.8745L 379.04,41.8745L 379.04,26.9126L 382.559,26.9126L 382.559,29.5033L 382.596,29.5033C 382.926,28.6622 383.355,27.9881 383.95,27.4967C 384.628,26.937 385.42,26.6528 386.304,26.6528 Z M 398.661,38.0724C 399.328,37.2372 399.666,35.99 399.666,34.3647C 399.666,32.76 399.307,31.5278 398.599,30.7029C 397.894,29.8813 396.911,29.4657 395.676,29.4657C 394.402,29.4657 393.392,29.9008 392.673,30.7597C 391.951,31.6231 391.584,32.8652 391.584,34.4513C 391.584,35.9896 391.951,37.1999 392.673,38.0488C 393.391,38.8936 394.411,39.322 395.704,39.322C 397.005,39.322 398,38.9019 398.661,38.0724 Z M 395.863,26.5518C 398.187,26.5518 400.031,27.2433 401.341,28.6077C 402.651,29.9708 403.315,31.8688 403.315,34.2491C 403.315,36.6588 402.607,38.6127 401.211,40.057C 399.815,41.5026 397.893,42.2355 395.502,42.2355C 393.207,42.2355 391.352,41.539 389.989,40.1664C 388.626,38.7933 387.935,36.9094 387.935,34.5669C 387.935,32.1 388.642,30.1262 390.039,28.7009C 391.436,27.2748 393.396,26.5518 395.863,26.5518 Z M 411.121,33.0948C 412.514,33.6559 413.512,34.2914 414.087,34.9833C 414.666,35.6802 414.96,36.5453 414.96,37.5538C 414.96,38.9529 414.414,40.096 413.337,40.9529C 412.267,41.8039 410.801,42.2356 408.979,42.2356C 408.39,42.2356 407.711,42.1573 406.962,42.0023C 406.213,41.8478 405.577,41.6514 405.073,41.4189L 405.019,41.3937L 405.019,37.9631L 405.167,38.0696C 405.772,38.5046 406.443,38.8448 407.161,39.081C 407.879,39.3175 408.534,39.4373 409.11,39.4373C 410.658,39.4373 411.411,38.9488 411.411,37.9428C 411.411,37.5894 411.337,37.304 411.19,37.0947C 411.04,36.8813 410.773,36.6617 410.397,36.4438L 408.596,35.6048C 407.631,35.1897 406.902,34.782 406.431,34.3933C 405.955,34.0014 405.597,33.5332 405.366,33.0016C 405.136,32.4734 405.019,31.8494 405.019,31.1471C 405.019,29.7957 405.56,28.679 406.626,27.8276C 407.688,26.9812 409.076,26.5519 410.754,26.5519C 411.267,26.5519 411.858,26.6128 412.51,26.7334C 413.164,26.8548 413.701,27.0048 414.11,27.1796L 414.166,27.2036L 414.166,30.4573L 414.02,30.3583C 413.578,30.0571 413.047,29.8109 412.444,29.6274C 411.84,29.4435 411.233,29.3498 410.639,29.3498C 409.999,29.3498 409.489,29.494 409.123,29.7778C 408.759,30.06 408.582,30.4088 408.582,30.8439C 408.582,31.3348 408.725,31.7222 409.008,31.9965C 409.3,32.2795 410.011,32.649 411.121,33.0948 Z M 427.222,38.0724C 427.888,37.2371 428.226,35.99 428.226,34.3646C 428.226,32.7599 427.868,31.5277 427.16,30.7029C 426.455,29.8812 425.471,29.4657 424.236,29.4657C 422.963,29.4657 421.952,29.9007 421.234,30.7596C 420.511,31.623 420.145,32.8651 420.145,34.4512C 420.145,35.9895 420.511,37.1998 421.234,38.0487C 421.952,38.8935 422.972,39.3219 424.265,39.3219C 425.566,39.3219 426.561,38.9018 427.222,38.0724 Z M 424.423,26.5518C 426.747,26.5518 428.591,27.2433 429.902,28.6076C 431.212,29.9707 431.876,31.8687 431.876,34.249C 431.876,36.6587 431.168,38.6126 429.771,40.0569C 428.375,41.5025 426.454,42.2354 424.063,42.2354C 421.768,42.2354 419.913,41.5389 418.55,40.1663C 417.186,38.7932 416.495,36.9093 416.495,34.5668C 416.495,32.0999 417.203,30.1261 418.599,28.7008C 419.997,27.2747 421.956,26.5518 424.423,26.5518 Z M 450.642,29.7826L 447.077,29.7826L 447.077,36.8463C 447.077,37.7525 447.24,38.3993 447.56,38.7692C 447.877,39.1359 448.387,39.3215 449.077,39.3215L 449.78,39.2022L 450.497,38.8894L 450.642,38.7928L 450.642,41.691L 450.595,41.7179C 450.383,41.8393 450.023,41.9533 449.493,42.0672C 448.974,42.1787 448.464,42.2354 447.98,42.2354C 445.036,42.2354 443.544,40.6312 443.544,37.467L 443.544,29.7826L 438.263,29.7826L 438.263,41.8745L 434.7,41.8745L 434.7,29.7826L 432.218,29.7826L 432.218,26.9122L 434.7,26.9122L 434.7,24.841C 434.7,23.8007 434.929,22.8606 435.383,22.0469C 435.837,21.2319 436.485,20.5909 437.31,20.1414C 438.133,19.6939 439.078,19.4669 440.118,19.4669C 440.943,19.4669 441.608,19.5559 442.097,19.7321L 442.159,19.754L 442.159,22.7773L 442.028,22.7189C 441.503,22.4848 440.981,22.3659 440.478,22.3659C 439.779,22.3659 439.23,22.5905 438.846,23.0338C 438.459,23.4808 438.263,24.152 438.263,25.0287L 438.263,26.9122L 443.544,26.9122L 443.544,23.5314L 443.609,23.5111L 446.957,22.4865L 447.077,22.4496L 447.077,26.9122L 450.642,26.9122L 450.642,29.7826 Z "/><path fill="#686868" d="M 295.763,86.9415C 293.441,86.9415 291.587,86.2508 290.201,84.8695C 288.815,83.4882 288.122,81.6565 288.122,79.3746C 288.122,76.891 288.844,74.9517 290.289,73.5563C 291.734,72.161 293.681,71.4635 296.131,71.4635C 298.484,71.4635 300.317,72.1418 301.63,73.4982C 302.944,74.8547 303.6,76.7375 303.6,79.1466C 303.6,81.503 302.892,83.3913 301.477,84.8114C 300.062,86.2314 298.157,86.9415 295.763,86.9415 Z M 295.935,74.1424C 294.627,74.1424 293.593,74.5982 292.833,75.5097C 292.074,76.4213 291.694,77.6786 291.694,79.2816C 291.694,80.8257 292.078,82.0418 292.847,82.9301C 293.616,83.8185 294.646,84.2627 295.935,84.2627C 297.25,84.2627 298.261,83.8262 298.968,82.9534C 299.675,82.0806 300.028,80.8381 300.028,79.2258C 300.028,77.6042 299.675,76.3515 298.968,75.4679C 298.261,74.5843 297.25,74.1424 295.935,74.1424 Z M 315.506,75.0354C 315.091,74.6385 314.494,74.4401 313.716,74.4401C 312.699,74.4401 311.85,74.8927 311.169,75.7981C 310.489,76.7035 310.148,77.9344 310.148,79.4908L 310.148,86.6438L 306.874,86.6438L 306.874,71.7612L 310.148,71.7612L 310.148,74.7749L 310.209,74.7749C 310.544,73.7332 311.059,72.9208 311.755,72.3379C 312.451,71.7549 313.227,71.4635 314.083,71.4635C 314.706,71.4635 315.181,71.5581 315.506,71.7472L 315.506,75.0354 Z "/><path fill="#686868" d="M 28.7274,69.3415L 28.7274,61.271C 29.4541,61.9977 30.3205,62.6527 31.3267,63.2362C 32.3329,63.8197 33.4002,64.3105 34.5287,64.7088C 35.6572,65.1071 36.7839,65.4163 37.9089,65.6364C 39.0339,65.8565 40.0715,65.9666 41.0218,65.9666C 44.3338,65.9666 46.8021,65.39 48.4267,64.2372C 50.0513,63.0842 50.8636,61.4142 50.8636,59.2272C 50.8636,58.1162 50.5928,57.1537 50.0513,56.3396C 49.5098,55.5256 48.7534,54.7814 47.7821,54.1071C 46.8109,53.4328 45.6702,52.7865 44.36,52.1681L 40.1414,50.2343C 38.5343,49.3888 37.0355,48.5312 35.645,47.6612C 34.2545,46.7913 33.0456,45.8288 32.0185,44.7737C 30.9913,43.7185 30.186,42.529 29.6026,41.2048C 29.0191,39.8807 28.7274,38.3278 28.7274,36.5459C 28.7274,34.3519 29.2252,32.446 30.221,30.8285C 31.2167,29.2109 32.5321,27.8745 34.1671,26.8194C 35.8022,25.7644 37.6608,24.9818 39.7431,24.4717C 41.8253,23.9616 43.9495,23.7065 46.1156,23.7065C 51.0488,23.7065 54.6438,24.2655 56.9007,25.3835L 56.9007,33.0977C 54.2036,30.8617 50.7343,29.7437 46.493,29.7437C 45.3191,29.7437 44.1522,29.859 42.9922,30.0896C 41.8323,30.3202 40.7929,30.7027 39.8741,31.2373C 38.9553,31.7718 38.2093,32.4566 37.6364,33.2915C 37.0634,34.1266 36.7769,35.1345 36.7769,36.3153C 36.7769,37.3565 36.997,38.2578 37.4372,39.0195C 37.8774,39.7811 38.522,40.4764 39.371,41.1052C 40.22,41.7341 41.2576,42.3473 42.4839,42.9447L 46.734,44.8889C 48.39,45.7344 49.9517,46.6253 51.4191,47.5616C 52.8865,48.498 54.1774,49.5304 55.2919,50.6588C 56.4064,51.7873 57.2885,53.0415 57.9384,54.4215C 58.5882,55.8016 58.9131,57.372 58.9131,59.1328C 58.9131,61.5016 58.431,63.5 57.4667,65.1281C 56.5025,66.7561 55.2028,68.0802 53.5677,69.1004C 51.9327,70.1206 50.0531,70.8595 47.9289,71.3172C 45.8047,71.7749 43.5582,72.0037 41.1895,72.0037C 40.3999,72.0037 39.4304,71.9425 38.281,71.8203C 37.1315,71.698 35.9542,71.5216 34.7488,71.291C 33.5435,71.0604 32.4028,70.7809 31.3267,70.4525C 30.2507,70.1241 29.3842,69.7538 28.7274,69.3415 Z M 69.5934,30.4146C 68.3147,30.4146 67.2212,30.0077 66.3128,29.1936C 65.4044,28.3795 64.9502,27.3437 64.9502,26.0859C 64.9502,24.8352 65.4044,23.7906 66.3128,22.9521C 67.2212,22.1136 68.3147,21.6944 69.5934,21.6944C 70.921,21.6944 72.0442,22.1136 72.9631,22.9521C 73.8819,23.7906 74.3414,24.8352 74.3414,26.0859C 74.3414,27.2738 73.8819,28.2922 72.9631,29.1412C 72.0442,29.9902 70.921,30.4146 69.5934,30.4146 Z M 73.6706,71.3331L 66.2918,71.3331L 66.2918,37.7934L 73.5497,37.8614L 73.6706,71.3331 Z M 113.918,68.8385C 113.918,81.2343 107.829,87.4321 95.6495,87.4321C 91.3523,87.4321 87.6035,86.6809 84.4032,85.1787L 84.4032,78.041C 88.0297,80.2769 91.471,81.395 94.7272,81.395C 102.602,81.395 106.539,77.3807 106.539,69.3521L 106.539,65.5999L 106.414,65.5999C 103.926,69.8692 100.188,72.0039 95.1988,72.0039C 91.1601,72.0039 87.904,70.5225 85.4304,67.5598C 82.9568,64.5972 81.7201,60.6213 81.7201,55.6323C 81.7201,49.9724 83.0494,45.4725 85.7082,42.1326C 88.3669,38.7926 92.0161,37.1226 96.6557,37.1226C 101.044,37.1226 104.296,38.9288 106.414,42.5414L 106.539,42.5414L 106.539,37.7933L 113.918,37.7933L 113.918,68.8385 Z M 106.613,55.9572L 106.613,51.6389C 106.613,49.2982 105.856,47.2998 104.344,45.6438C 102.831,43.9877 100.943,43.1597 98.6786,43.1597C 95.8906,43.1597 93.7088,44.2148 92.1331,46.325C 90.5574,48.4352 89.7696,51.3875 89.7696,55.1816C 89.7696,58.4517 90.526,61.0668 92.0388,63.0267C 93.5515,64.9867 95.5552,65.9667 98.0497,65.9667C 100.586,65.9667 102.647,65.0304 104.234,63.1577C 105.82,61.2851 106.613,58.8849 106.613,55.9572 Z M 153.495,71.333L 146.116,71.333L 146.116,52.5193C 146.116,46.2795 143.884,43.1597 139.419,43.1597C 137.085,43.1597 135.158,44.0244 133.638,45.7538C 132.119,47.4832 131.359,49.6615 131.359,52.2887L 131.359,71.333L 123.98,71.333L 123.98,37.7933L 131.359,37.7933L 131.359,43.4846L 131.485,43.4846C 133.986,39.2432 137.595,37.1225 142.312,37.1225C 145.945,37.1225 148.717,38.3034 150.628,40.6652C 152.54,43.0269 153.495,46.4368 153.495,50.8948L 153.495,71.333 Z M 184.299,30.4146C 183.02,30.4146 181.927,30.0075 181.019,29.1935C 180.11,28.3794 179.656,27.3436 179.656,26.0858C 179.656,24.8351 180.11,23.7904 181.019,22.952C 181.927,22.1135 183.02,21.6942 184.299,21.6942C 185.627,21.6942 186.75,22.1135 187.669,22.952C 188.588,23.7904 189.047,24.8351 189.047,26.0858C 189.047,27.2737 188.588,28.2921 187.669,29.1411C 186.75,29.9901 185.627,30.4146 184.299,30.4146 Z M 188.376,71.333L 180.998,71.333L 180.998,37.7932L 188.344,37.8003L 188.376,71.333 Z M 227.953,71.3329L 220.574,71.3329L 220.574,52.5193C 220.574,46.2795 218.342,43.1596 213.877,43.1596C 211.543,43.1596 209.616,44.0243 208.097,45.7537C 206.577,47.4831 205.817,49.6614 205.817,52.2887L 205.817,71.3329L 198.438,71.3329L 198.438,37.7932L 205.817,37.7932L 205.817,43.4845L 205.943,43.4845C 208.444,39.2431 212.053,37.1224 216.77,37.1224C 220.403,37.1224 223.175,38.3033 225.087,40.6651C 226.998,43.0269 227.953,46.4367 227.953,50.8947L 227.953,71.3329 Z "/>',"login"),r=f("-20 -15 455 58",'<path fill="#5ACC13" d="M 144.047,34.0633C 152.854,34.0633 160.032,26.8941 160.032,18.0977C 160.032,9.30162 152.854,2.13243 144.047,2.13243C 135.24,2.13243 128.062,9.30162 128.062,18.0977C 128.062,26.8941 135.24,34.0633 144.047,34.0633 Z M 144.047,32.1437C 136.25,32.1437 129.984,25.8845 129.984,18.0977C 129.984,10.3109 136.251,3.96493 144.047,3.96493C 151.844,3.96493 158.11,10.3109 158.11,18.0977C 158.11,25.8845 151.844,32.1437 144.047,32.1437 Z M 142.113,22.7178C 142.452,22.7178 142.74,22.6112 142.977,22.3938C 143.213,22.1789 143.329,21.9187 143.329,21.617C 143.329,21.3135 143.213,21.0512 142.977,20.8303C 142.74,20.6126 142.452,20.5035 142.113,20.5035C 141.778,20.5035 141.496,20.6126 141.264,20.8303C 141.029,21.0512 140.914,21.3135 140.914,21.617C 140.914,21.9187 141.029,22.1789 141.264,22.3938C 141.496,22.6112 141.778,22.7178 142.113,22.7178 Z M 142.113,16.0708C 142.452,16.0708 142.74,15.9646 142.977,15.7489C 143.213,15.5312 143.329,15.2751 143.329,14.9734C 143.329,14.6666 143.213,14.4033 142.977,14.1858C 142.74,13.965 142.452,13.8566 142.113,13.8566C 141.778,13.8566 141.496,13.965 141.264,14.1858C 141.029,14.4033 140.914,14.6666 140.914,14.9734C 140.914,15.2751 141.029,15.5312 141.264,15.7489C 141.496,15.9646 141.778,16.0708 142.113,16.0708 Z M 145.957,25.2742C 147.724,23.309 148.61,20.8861 148.61,18.0047C 148.61,15.1131 147.727,12.6509 145.966,10.6178L 144.319,10.6178C 146.044,12.7258 146.908,15.1849 146.908,17.9883C 146.908,20.7687 146.047,23.1975 144.328,25.2742L 145.957,25.2742 Z M 15.8976,34.0625C 24.7052,34.0625 31.8824,26.8933 31.8824,18.0969C 31.8824,9.30157 24.7052,2.13238 15.8976,2.13238C 7.09033,2.13238 -7.77965e-006,9.30157 -7.77965e-006,18.0969C -7.77965e-006,26.8933 7.09033,34.0625 15.8976,34.0625 Z M 15.8976,32.2297C 8.10089,32.2297 1.83402,25.8838 1.83402,18.0969C 1.83402,10.3111 8.10089,4.05116 15.8976,4.05116C 23.6944,4.05116 30.0487,10.3111 30.0487,18.0969C 30.0487,25.8838 23.6944,32.2297 15.8976,32.2297 Z M 16.3347,20.453C 19.3352,20.453 21.7501,18.0391 21.7501,15.0444C 21.7501,12.0464 19.3352,9.63488 16.3347,9.63488C 13.3359,9.63488 10.8311,12.0464 10.8311,15.0444C 10.8311,18.0391 13.3359,20.453 16.3347,20.453 Z M 16.3347,19.0567C 16.1515,19.0567 15.9708,19.0449 15.7936,19.0221L 14.7623,15.2186L 17.9069,15.2186L 16.7929,19.0318C 16.6427,19.0483 16.4898,19.0567 16.3347,19.0567 Z M 20.352,15.0444C 20.352,16.7246 19.3582,18.1402 17.9135,18.744L 19.0423,14.8692C 19.0524,14.8114 19.0524,14.7529 19.0423,14.695C 19.0251,14.6313 18.9958,14.5714 18.9551,14.5209L 18.8681,14.4328L 18.7799,14.3457L 18.6927,14.3457L 18.6055,14.2586L 18.5183,14.2586L 14.1511,14.2586L 14.0629,14.2586C 14.0001,14.2759 13.9401,14.3063 13.8885,14.3457C 13.8166,14.3882 13.7556,14.4491 13.7141,14.5209C 13.6736,14.5725 13.6432,14.6323 13.6269,14.695L 13.6269,14.7821L 13.6269,14.8692L 14.7566,18.7495C 13.2804,18.1489 12.2288,16.7297 12.2288,15.0444C 12.2288,12.7988 14.0891,11.0309 16.3347,11.0309C 18.5832,11.0309 20.352,12.7988 20.352,15.0444 Z M 13.6513,21.9858L 18.9561,21.5727L 18.9624,21.034L 13.6645,21.026L 13.6513,21.9858 Z M 13.6513,22.3766L 13.6513,23.1086L 18.9512,22.6864L 18.9562,21.9474L 13.6513,22.3766 Z M 13.6706,23.4914L 13.7344,24.1272L 18.9513,23.7252L 18.9562,23.0752L 13.6706,23.4914 Z M 13.838,24.4958L 13.838,24.516L 13.8462,24.5151L 13.838,24.4958 Z M 13.8462,24.5151C 13.9245,24.6987 14.004,24.8784 14.1125,25.0484C 14.2241,25.2215 14.3692,25.3835 14.5262,25.5232C 14.6824,25.6629 14.8527,25.7855 15.0595,25.8889C 15.2643,25.9952 15.5046,26.0841 15.7366,26.1378C 15.9707,26.1906 16.1999,26.2067 16.4747,26.1764C 16.7485,26.146 17.0635,26.0649 17.3516,25.9444C 17.6425,25.8249 17.908,25.6629 18.1037,25.4949C 18.2994,25.3278 18.4281,25.1518 18.5265,24.9846C 18.6269,24.8146 18.6967,24.6526 18.7525,24.516L 18.8672,24.1938L 18.8833,24.1018L 18.045,24.1555L 14.6905,24.4289L 13.8462,24.5151 Z M 58.7067,34.0625C 67.5139,34.0625 74.6922,26.8933 74.6922,18.0969C 74.6922,9.30154 67.5139,2.13235 58.7067,2.13235C 49.9001,2.13235 42.7218,9.30154 42.7218,18.0969C 42.7218,26.8933 49.9001,34.0625 58.7067,34.0625 Z M 58.7063,32.2299C 50.9106,32.2299 44.6434,25.8839 44.6434,18.0971C 44.6434,10.3113 50.9106,4.05133 58.7063,4.05133C 66.503,4.05133 72.7698,10.3113 72.7698,18.0971C 72.7698,25.8839 66.503,32.2299 58.7063,32.2299 Z M 51.8838,25.6428L 54.5955,25.2188L 52.3063,22.9356L 51.8838,25.6428 Z M 55.9113,24.8147L 64.1227,16.6148L 60.8909,13.386L 52.6795,21.587L 55.9113,24.8147 Z M 64.8214,15.9162L 65.52,15.2187C 65.6506,15.089 65.6278,15.0956 65.6831,15.0404C 66.5185,14.2061 66.4252,12.8181 65.5898,11.9838C 64.7565,11.1515 63.3626,11.0148 62.5304,11.8491L 62.288,12.0778L 61.6768,12.6885L 64.8214,15.9162 Z M 101.238,34.0624C 110.045,34.0624 117.223,26.8932 117.223,18.0968C 117.223,9.30075 110.045,2.13233 101.238,2.13233C 92.4305,2.13233 85.3402,9.30075 85.3402,18.0968C 85.3402,26.8932 92.4305,34.0624 101.238,34.0624 Z M 101.238,32.23C 93.4411,32.23 87.1742,25.8837 87.1742,18.0969C 87.1742,10.3101 93.4411,4.05118 101.238,4.05118C 109.035,4.05118 115.389,10.3101 115.389,18.0969C 115.389,25.8837 109.035,32.23 101.238,32.23 Z M 107.567,18.1122L 98.0294,10.9521L 98.0294,25.2702L 107.567,18.1122 Z "/><path fill="#000000" d="M 201.679,28.4272C 200.753,28.851 199.884,29.0629 199.072,29.0629C 196.153,29.0629 194.694,27.3434 194.694,23.9042L 194.694,10.8501L 191.208,10.8501L 191.208,9.30013L 194.694,9.30013L 194.694,4.09301L 195.664,3.77817C 196,3.68936 196.323,3.59248 196.634,3.48754L 196.634,9.30013L 201.679,9.30013L 201.679,10.8501L 196.634,10.8501L 196.634,23.6923C 196.634,25.0365 196.843,26.0093 197.259,26.6107C 197.675,27.2122 198.383,27.5129 199.381,27.5129C 200.092,27.5129 200.858,27.2788 201.679,26.8105L 201.679,28.4272 Z M 213.331,29.0629C 210.458,29.0629 208.185,28.1406 206.514,26.2959C 204.842,24.4512 204.007,22.0535 204.007,19.1029C 204.007,15.91 204.881,13.4134 206.629,11.6131C 208.377,9.81281 210.68,8.91267 213.538,8.91267C 216.347,8.91267 218.565,9.80676 220.192,11.5949C 221.818,13.3831 222.632,15.8595 222.632,19.0241C 222.632,22.0152 221.802,24.4361 220.143,26.2868C 218.484,28.1376 216.213,29.0629 213.331,29.0629 Z M 213.459,10.4627C 211.171,10.4627 209.347,11.2276 207.987,12.7575C 206.627,14.2873 205.947,16.4145 205.947,19.1392C 205.947,21.662 206.611,23.6883 207.939,25.2182C 209.266,26.748 211.082,27.5129 213.386,27.5129C 215.726,27.5129 217.529,26.7601 218.794,25.2545C 220.059,23.7489 220.692,21.66 220.692,18.9878C 220.692,16.2389 220.062,14.1309 218.803,12.6636C 217.544,11.1963 215.763,10.4627 213.459,10.4627 Z M 240.093,28.6754L 240.093,25.085L 240.02,25.085C 238.666,27.7369 236.583,29.0629 233.769,29.0629C 229.19,29.0629 226.9,26.193 226.9,20.4531L 226.9,9.30017L 228.84,9.30017L 228.84,20.0413C 228.84,22.657 229.266,24.5562 230.117,25.7389C 230.967,26.9216 232.306,27.5129 234.133,27.5129C 235.908,27.5129 237.344,26.8519 238.444,25.53C 239.543,24.208 240.093,22.4471 240.093,20.2472L 240.093,9.30017L 242.033,9.30017L 242.033,28.6754L 240.093,28.6754 Z M 260.967,27.7733C 259.496,28.633 257.74,29.0629 255.699,29.0629C 252.999,29.0629 250.822,28.1658 249.169,26.3716C 247.516,24.5774 246.689,22.2291 246.689,19.3269C 246.689,16.2753 247.619,13.7767 249.478,11.8311C 251.338,9.88546 253.728,8.91266 256.651,8.91266C 258.158,8.91266 259.623,9.20732 261.046,9.79665L 261.046,11.7523C 259.636,10.8926 258.09,10.4627 256.408,10.4627C 254.096,10.4627 252.222,11.275 250.785,12.8997C 249.348,14.5244 248.629,16.6285 248.629,19.2118C 248.629,21.7104 249.287,23.7186 250.603,25.2363C 251.919,26.754 253.654,27.5129 255.808,27.5129C 257.784,27.5129 259.504,26.9942 260.967,25.9569L 260.967,27.7733 Z M 278.507,28.6754L 278.507,17.0866C 278.507,14.7979 278.097,13.1217 277.276,12.0581C 276.456,10.9945 275.177,10.4627 273.439,10.4627C 271.802,10.4627 270.362,11.1105 269.119,12.4063C 267.876,13.702 267.255,15.5588 267.255,17.9767L 267.255,28.6754L 265.314,28.6754L 265.314,2.67029e-005L 267.255,2.67029e-005L 267.255,12.8483L 267.333,12.8483C 268.861,10.2245 271.084,8.91265 274.003,8.91265C 276.1,8.91265 277.699,9.58473 278.798,10.9289C 279.898,12.2731 280.447,14.2005 280.447,16.7112L 280.447,28.6754L 278.507,28.6754 Z M 303.341,28.6754L 299.072,28.6754L 299.072,25.309L 299,25.309C 297.597,27.8116 295.439,29.0629 292.525,29.0629C 290.16,29.0629 288.267,28.2011 286.847,26.4776C 285.426,24.754 284.716,22.4087 284.716,19.4419C 284.716,16.2571 285.501,13.706 287.071,11.7887C 288.641,9.87132 290.734,8.91265 293.349,8.91265C 295.94,8.91265 297.823,9.95609 299,12.043L 299.072,12.043L 299.072,2.28882e-005L 303.341,2.28882e-005L 303.341,28.6754 Z M 299.133,19.8052L 299.133,17.2925C 299.133,15.9281 298.698,14.7717 297.827,13.8231C 296.955,12.8745 295.847,12.4002 294.501,12.4002C 292.909,12.4002 291.656,13.0057 290.742,14.2166C 289.829,15.4276 289.372,17.1088 289.372,19.2603C 289.372,21.2099 289.81,22.7498 290.688,23.8801C 291.565,25.0103 292.743,25.5754 294.222,25.5754C 295.681,25.5754 296.865,25.0284 297.772,23.9345C 298.679,22.8407 299.133,21.4642 299.133,19.8052 Z M 326.234,20.1503L 312.653,20.1503C 312.706,21.886 313.274,23.2241 314.357,24.1646C 315.44,25.1051 316.93,25.5754 318.825,25.5754C 320.951,25.5754 322.904,24.9295 324.682,23.6379L 324.682,27.3252C 322.855,28.4837 320.442,29.0629 317.443,29.0629C 314.496,29.0629 312.185,28.189 310.51,26.4412C 308.835,24.6934 307.997,22.2332 307.997,19.0604C 307.997,16.0654 308.919,13.6253 310.762,11.7402C 312.605,9.85517 314.894,8.91264 317.631,8.91264C 320.367,8.91264 322.485,9.75728 323.985,11.4466C 325.484,13.1359 326.234,15.4801 326.234,18.4792L 326.234,20.1503 Z M 321.578,17.0503C 321.566,15.581 321.196,14.4386 320.468,13.6233C 319.741,12.8079 318.736,12.4002 317.455,12.4002C 316.198,12.4002 315.134,12.8291 314.263,13.6868C 313.392,14.5446 312.855,15.6657 312.653,17.0503L 321.578,17.0503 Z M 346.799,9.30015L 339.148,28.6754L 334.298,28.6754L 327.01,9.30015L 331.788,9.30015L 336.256,22.8507C 336.595,23.8478 336.806,24.7176 336.887,25.4603L 336.947,25.4603C 337.064,24.5279 337.246,23.6823 337.493,22.9234L 342.179,9.30015L 346.799,9.30015 Z M 366.589,20.1503L 353.008,20.1503C 353.06,21.886 353.628,23.2241 354.711,24.1646C 355.795,25.1051 357.284,25.5754 359.18,25.5754C 361.306,25.5754 363.258,24.9295 365.036,23.6379L 365.036,27.3252C 363.209,28.4837 360.796,29.0629 357.797,29.0629C 354.851,29.0629 352.54,28.189 350.864,26.4412C 349.189,24.6934 348.351,22.2331 348.351,19.0604C 348.351,16.0653 349.273,13.6253 351.116,11.7402C 352.959,9.85516 355.249,8.91264 357.985,8.91264C 360.722,8.91264 362.84,9.75727 364.339,11.4466C 365.839,13.1358 366.589,15.48 366.589,18.4792L 366.589,20.1503 Z M 361.932,17.0503C 361.92,15.581 361.55,14.4386 360.823,13.6233C 360.095,12.8079 359.091,12.4002 357.809,12.4002C 356.552,12.4002 355.488,12.8291 354.617,13.6868C 353.746,14.5446 353.21,15.6657 353.008,17.0503L 361.932,17.0503 Z M 374.349,28.6754L 370.081,28.6754L 370.081,0L 374.349,0L 374.349,28.6754 Z M 388.967,29.0629C 385.939,29.0629 383.522,28.1638 381.715,26.3655C 379.909,24.5672 379.005,22.1827 379.005,19.2118C 379.005,15.9786 379.947,13.4537 381.831,11.6373C 383.714,9.82084 386.252,8.91263 389.446,8.91263C 392.513,8.91263 394.903,9.79562 396.615,11.5616C 398.327,13.3276 399.182,15.7787 399.182,18.9151C 399.182,21.9829 398.26,24.4411 396.415,26.2898C 394.57,28.1386 392.087,29.0629 388.967,29.0629 Z M 389.191,12.4002C 387.485,12.4002 386.137,12.9935 385.147,14.1803C 384.157,15.367 383.662,17.0038 383.662,19.0907C 383.662,21.1009 384.163,22.6842 385.165,23.8407C 386.168,24.9971 387.509,25.5754 389.191,25.5754C 390.905,25.5754 392.222,25.0072 393.144,23.871C 394.065,22.7347 394.526,21.117 394.526,19.018C 394.526,16.9069 394.065,15.2762 393.144,14.1258C 392.222,12.9754 390.905,12.4002 389.191,12.4002 Z M 407.798,25.7449L 407.719,25.7449L 407.719,37.588L 403.451,37.588L 403.451,9.30013L 407.719,9.30013L 407.719,12.7574L 407.798,12.7574C 409.326,10.1942 411.561,8.91262 414.503,8.91262C 417.009,8.91262 418.963,9.77341 420.363,11.495C 421.764,13.2166 422.464,15.5285 422.464,18.4307C 422.464,21.6478 421.674,24.2241 420.093,26.1597C 418.513,28.0952 416.355,29.0629 413.618,29.0629C 411.1,29.0629 409.16,27.9569 407.798,25.7449 Z M 407.683,18.1704L 407.683,20.5499C 407.683,21.9506 408.138,23.1383 409.05,24.1131C 409.961,25.088 411.12,25.5754 412.527,25.5754C 414.172,25.5754 415.463,24.9477 416.401,23.6923C 417.339,22.437 417.808,20.6851 417.808,18.4368C 417.808,16.5477 417.371,15.0693 416.498,14.0017C 415.625,12.934 414.441,12.4002 412.945,12.4002C 411.365,12.4002 410.093,12.9501 409.129,14.0501C 408.165,15.1501 407.683,16.5235 407.683,18.1704 Z "/>'),o=f("0 0 100 30","<path fill='#E72A59' d='M 0.583332,10.9896L 71.726,10.9896C 73.4524,5.17697 78.8353,0.937502 85.2083,0.937502C 92.9748,0.937502 99.2708,7.2335 99.2708,15C 99.2708,22.7665 92.9748,29.0625 85.2083,29.0625C 78.8353,29.0625 73.4524,24.823 71.726,19.0104L 0.583332,19.0104L 0.583332,10.9896 Z'/><path fill='#FFFFFF' d='M 85.2083,5.52735C 90.4399,5.52735 94.681,9.76839 94.681,15C 94.681,20.2316 90.4399,24.4727 85.2083,24.4727C 79.9767,24.4727 75.7158,20.2316 75.7357,15C 75.7552,9.85417 79.9767,5.52735 85.2083,5.52735 Z '/>"),a=f("0 0 30 100","<path fill='#E72A59' d='M 19.0104,0.583336L 19.0104,71.726C 24.823,73.4524 29.0625,78.8353 29.0625,85.2083C 29.0625,92.9748 22.7665,99.2708 15,99.2708C 7.23349,99.2708 0.937499,92.9748 0.937499,85.2083C 0.937499,78.8353 5.17696,73.4524 10.9896,71.726L 10.9896,0.583336L 19.0104,0.583336 Z'/><path fill='#FFFFFF' d='M 24.4727,85.2083C 24.4727,90.4399 20.2316,94.681 15,94.681C 9.7684,94.681 5.52735,90.4399 5.52735,85.2083C 5.52735,79.9767 9.76844,75.7158 15,75.7357C 20.1458,75.7552 24.4727,79.9767 24.4727,85.2083 Z'/>"),s=f("0 0 2200 480",'<path fill="#0095FF" d="M 396.586,234.249L 284.566,318.402L 284.566,150.077L 396.586,234.249 Z M 314.585,31.9531C 425.459,28.0533 517.645,115.134 521.618,225.278C 525.049,335.522 438.076,428.204 327.832,431.628C 258.702,433.933 196.856,400.879 159.138,348.896L 179.394,334.162C 212.455,379.699 266.374,408.679 326.994,406.689C 423.623,403.68 499.688,322.771 496.679,226.115C 493.168,129.373 412.788,53.5758 315.576,57.0802L 315.422,57.0802C 265.851,58.5744 222.036,80.4518 190.966,114.531L 172.352,97.6253C 207.744,58.8358 258.099,33.7086 314.585,31.9531 Z M 100.167,94.925C 154.609,94.925 199.342,139.108 199.342,194.1C 199.342,249.091 154.609,293.121 100.167,293.121C 45.7246,293.121 -5.03592e-005,249.225 -5.03592e-005,194.1C -5.03592e-005,138.981 45.7246,94.925 100.167,94.925 Z M 100.167,112.018C 54.911,112.018 17.0931,148.456 17.0931,194.1C 17.0931,232.494 43.8115,264.227 79.2072,273.371L 63.3136,216.165L 60.6467,206.851L 139.378,206.851L 136.336,216.352L 119.25,273.825C 155.335,265.333 182.248,233.235 182.248,194.1C 182.248,148.322 145.422,112.018 100.167,112.018 Z M 100.167,276.028L 102.584,275.993L 118.935,221.74L 80.7484,221.74L 95.7724,275.913L 100.167,276.028 Z M 54.5961,296.967L 143.037,296.967L 143.037,306.073L 54.5961,313.035L 54.5961,296.967 Z M 143.037,312.512L 143.037,324.841L 54.5961,331.803L 54.5961,319.474L 143.037,312.512 Z M 143.037,331.28L 143.037,341.988L 55.6682,348.95L 54.5962,338.242L 143.037,331.28 Z M 57.8191,354.86L 72.2924,353.788L 128.564,348.95L 142.514,347.871L 141.965,349.499L 139.847,354.86L 136.075,362.9C 134.48,365.567 132.336,368.79 129.113,371.484C 125.897,374.151 121.602,376.824 116.784,378.968C 111.973,381.112 106.606,382.191 102.311,382.741C 97.4999,383.263 93.7275,382.741 89.9818,382.191C 86.2429,381.112 81.9479,380.04 78.7316,377.896C 75.5086,376.301 72.2924,374.151 69.6188,372.006C 66.9252,369.862 64.781,367.189 62.6302,363.972C 60.486,361.272 58.8912,358.605 57.8191,354.86 Z "/><path class="hidden-portrait" fill="#7e7e7e" d="M 751.846,162.195L 732.672,162.195L 732.672,89.8798C 732.672,83.9597 733.055,76.7088 733.821,68.1279L 733.521,68.1279C 732.423,73.017 731.441,76.5259 730.575,78.6546L 698.32,162.195L 685.986,162.195L 653.656,79.2782C 652.74,76.8335 651.783,73.1168 650.785,68.1279L 650.485,68.1279C 650.951,72.6013 651.184,79.9018 651.184,90.0294L 651.184,162.195L 632.011,162.195L 632.011,50.4419L 660.147,50.4419L 688.233,124.877C 690.38,130.582 691.778,134.839 692.428,137.649L 692.802,137.649C 694.633,131.779 696.123,127.414 697.271,124.553L 725.882,50.4419L 751.846,50.4419L 751.846,162.195 Z M 780.48,64.814C 777.435,64.814 774.83,63.8453 772.666,61.9079C 770.502,59.9706 769.42,57.5052 769.42,54.5116C 769.42,51.5348 770.502,49.0488 772.666,47.0532C 774.83,45.0575 777.435,44.0597 780.48,44.0597C 783.643,44.0597 786.318,45.0575 788.507,47.0532C 790.695,49.0488 791.79,51.5348 791.79,54.5116C 791.79,57.3388 790.695,59.7625 788.507,61.7832C 786.318,63.8036 783.643,64.814 780.48,64.814 Z M 790.192,162.198L 772.616,162.198L 772.616,82.3751L 790.192,82.3751L 790.192,162.198 Z M 868.485,158.407C 862.093,161.999 854.529,163.795 845.791,163.795C 833.94,163.795 824.374,160.116 817.093,152.757C 809.811,145.398 806.17,135.865 806.17,124.157C 806.17,111.087 810.077,100.589 817.891,92.6648C 825.706,84.7408 836.154,80.7786 849.236,80.7786C 856.509,80.7786 862.926,82.0591 868.485,84.6201L 868.485,101.533C 863.025,97.2756 857.2,95.147 851.008,95.147C 843.502,95.147 837.348,97.7079 832.546,102.83C 827.745,107.952 825.344,114.654 825.344,122.935C 825.344,131.117 827.607,137.578 832.135,142.317C 836.662,147.057 842.737,149.427 850.359,149.427C 856.767,149.427 862.809,147.298 868.485,143.041L 868.485,158.407 Z M 929.202,99.9362C 926.971,97.8075 923.768,96.7432 919.59,96.7432C 914.131,96.7432 909.575,99.1714 905.921,104.027C 902.268,108.883 900.441,115.485 900.441,123.833L 900.441,162.198L 882.865,162.198L 882.865,82.3751L 900.441,82.3751L 900.441,98.5393L 900.766,98.5393C 902.563,92.9518 905.331,88.5946 909.067,85.4682C 912.803,82.3418 916.969,80.7786 921.562,80.7786C 924.908,80.7786 927.454,81.2856 929.202,82.3002L 929.202,99.9362 Z M 975.014,163.795C 962.548,163.795 952.595,160.09 945.155,152.682C 937.716,145.273 933.996,135.449 933.996,123.209C 933.996,109.889 937.874,99.4871 945.63,92.0038C 953.386,84.5203 963.838,80.7784 976.987,80.7784C 989.619,80.7784 999.46,84.4163 1006.51,91.6918C 1013.56,98.9675 1017.08,109.066 1017.08,121.987C 1017.08,134.626 1013.28,144.753 1005.68,152.37C 998.087,159.986 987.863,163.795 975.014,163.795 Z M 975.938,95.1467C 968.914,95.1467 963.364,97.5914 959.286,102.48C 955.208,107.37 953.169,114.113 953.169,122.71C 953.169,130.992 955.233,137.515 959.361,142.28C 963.489,147.044 969.014,149.427 975.938,149.427C 982.995,149.427 988.421,147.086 992.216,142.404C 996.011,137.723 997.908,131.059 997.908,122.411C 997.908,113.714 996.011,106.996 992.216,102.256C 988.421,97.5167 982.995,95.1467 975.938,95.1467 Z M 1026.67,159.18L 1026.67,141.444C 1033.36,146.766 1040.74,149.427 1048.81,149.427C 1059.62,149.427 1065.02,146.574 1065.02,140.87C 1065.02,139.058 1064.55,137.519 1063.63,136.256C 1062.71,134.992 1061.46,133.869 1059.89,132.888C 1058.31,131.907 1056.46,131.03 1054.32,130.256L 1047.17,127.625C 1043.92,126.344 1041,124.98 1038.39,123.534C 1035.79,122.087 1033.62,120.449 1031.89,118.62C 1030.16,116.791 1028.85,114.712 1027.98,112.384C 1027.11,110.055 1026.67,107.345 1026.67,104.252C 1026.67,100.427 1027.58,97.055 1029.42,94.1364C 1031.25,91.218 1033.71,88.765 1036.79,86.7776C 1039.88,84.7904 1043.38,83.2937 1047.3,82.2876C 1051.22,81.2815 1055.28,80.7784 1059.47,80.7784C 1066.9,80.7784 1073.54,81.9842 1079.4,84.3953L 1079.4,101.533C 1073.92,97.2754 1067.63,95.1467 1060.52,95.1467C 1058.29,95.1467 1056.28,95.3545 1054.48,95.7704C 1052.68,96.1862 1051.15,96.7597 1049.87,97.4915C 1048.6,98.2231 1047.61,99.1046 1046.9,100.136C 1046.2,101.167 1045.84,102.306 1045.84,103.553C 1045.84,105.249 1046.2,106.692 1046.93,107.881C 1047.65,109.07 1048.73,110.118 1050.15,111.024C 1051.57,111.93 1053.27,112.758 1055.25,113.506L 1062.12,115.951C 1065.52,117.331 1068.57,118.745 1071.28,120.191C 1074,121.638 1076.31,123.28 1078.22,125.118C 1080.14,126.955 1081.61,129.071 1082.64,131.466C 1083.67,133.861 1084.19,136.713 1084.19,140.022C 1084.19,144.047 1083.24,147.556 1081.34,150.549C 1079.45,153.542 1076.92,156.02 1073.75,157.983C 1070.59,159.945 1066.94,161.404 1062.79,162.36C 1058.65,163.317 1054.28,163.795 1049.69,163.795C 1040.83,163.795 1033.16,162.257 1026.67,159.18 Z M 1133.2,163.795C 1120.73,163.795 1110.78,160.09 1103.34,152.682C 1095.9,145.273 1092.18,135.449 1092.18,123.209C 1092.18,109.889 1096.06,99.4871 1103.81,92.0036C 1111.57,84.52 1122.02,80.7784 1135.17,80.7784C 1147.8,80.7784 1157.64,84.416 1164.69,91.6918C 1171.74,98.9673 1175.27,109.066 1175.27,121.987C 1175.27,134.626 1171.47,144.753 1163.87,152.37C 1156.27,159.986 1146.05,163.795 1133.2,163.795 Z M 1134.12,95.1465C 1127.1,95.1465 1121.55,97.5912 1117.47,102.48C 1113.39,107.37 1111.35,114.113 1111.35,122.71C 1111.35,130.992 1113.42,137.515 1117.55,142.28C 1121.67,147.044 1127.2,149.427 1134.12,149.427C 1141.18,149.427 1146.61,147.086 1150.4,142.404C 1154.19,137.723 1156.09,131.059 1156.09,122.411C 1156.09,113.714 1154.19,106.996 1150.4,102.256C 1146.61,97.5164 1141.18,95.1465 1134.12,95.1465 Z M 1231.99,58.4276C 1229.44,57.3633 1226.54,56.8311 1223.28,56.8311C 1214.12,56.8311 1209.54,61.7621 1209.54,71.6234L 1209.54,82.3746L 1228.79,82.3746L 1228.79,96.743L 1209.62,96.743L 1209.62,162.198L 1192.04,162.198L 1192.04,96.743L 1177.66,96.743L 1177.66,82.3746L 1192.04,82.3746L 1192.04,69.5032C 1192.04,61.1382 1194.83,54.5403 1200.39,49.7094C 1205.96,44.8783 1212.92,42.4628 1221.28,42.4628C 1225.79,42.4628 1229.36,42.9367 1231.99,43.8847L 1231.99,58.4276 Z M 1282.32,161.051C 1278.82,162.88 1274.23,163.795 1268.54,163.795C 1253.23,163.795 1245.57,156.403 1245.57,141.619L 1245.57,96.743L 1232.79,96.743L 1232.79,82.3746L 1245.57,82.3746L 1245.57,63.641L 1263.15,58.4276L 1263.15,82.3746L 1282.32,82.3746L 1282.32,96.743L 1263.15,96.743L 1263.15,136.355C 1263.15,141.045 1264.01,144.396 1265.73,146.408C 1267.45,148.42 1270.32,149.426 1274.33,149.426C 1277.41,149.426 1280.07,148.362 1282.32,146.233L 1282.32,161.051 Z M 746.992,250.992L 699.508,250.992L 699.508,393.442L 671.018,393.442L 671.018,250.992L 623.535,250.992L 623.535,227.249L 746.992,227.249L 746.992,250.992 Z M 796.071,395.816C 777.548,395.816 762.758,390.307 751.704,379.289C 740.649,368.272 735.121,353.662 735.121,335.459C 735.121,315.651 740.884,300.182 752.408,289.053C 763.933,277.924 779.464,272.359 799.002,272.359C 817.773,272.359 832.395,277.769 842.869,288.589C 853.343,299.409 858.579,314.427 858.579,333.642C 858.579,352.437 852.935,367.499 841.645,378.826C 830.355,390.152 815.164,395.816 796.071,395.816 Z M 797.444,293.727C 787.007,293.727 778.76,297.362 772.7,304.633C 766.641,311.904 763.612,321.933 763.612,334.718C 763.612,347.034 766.678,356.734 772.812,363.82C 778.945,370.905 787.156,374.448 797.444,374.448C 807.93,374.448 815.992,370.967 821.631,364.005C 827.27,357.044 830.089,347.133 830.089,334.272C 830.089,321.339 827.27,311.348 821.631,304.299C 815.992,297.251 807.93,293.727 797.444,293.727 Z M 986.786,393.442L 960.67,393.442L 960.67,374.226L 960.225,374.226C 952.459,388.619 940.415,395.816 924.092,395.816C 896.245,395.816 882.322,379.023 882.322,345.438L 882.322,274.733L 908.438,274.733L 908.438,342.582C 908.438,363.826 916.698,374.448 933.218,374.448C 941.206,374.448 947.779,371.524 952.935,365.675C 958.092,359.826 960.67,352.165 960.67,342.693L 960.67,274.733L 986.786,274.733L 986.786,393.442 Z M 1107.87,387.803C 1098.37,393.145 1087.13,395.816 1074.15,395.816C 1056.54,395.816 1042.33,390.344 1031.51,379.4C 1020.69,368.457 1015.28,354.28 1015.28,336.869C 1015.28,317.431 1021.08,301.82 1032.69,290.035C 1044.3,278.251 1059.83,272.358 1079.27,272.358C 1090.08,272.358 1099.61,274.263 1107.87,278.071L 1107.87,303.223C 1099.76,296.892 1091.1,293.726 1081.9,293.726C 1070.75,293.726 1061.6,297.535 1054.47,305.152C 1047.33,312.769 1043.77,322.736 1043.77,335.051C 1043.77,347.219 1047.13,356.827 1053.86,363.875C 1060.58,370.924 1069.61,374.448 1080.94,374.448C 1090.46,374.448 1099.44,371.282 1107.87,364.951L 1107.87,387.803 Z M 1238.45,393.441L 1212.33,393.441L 1212.33,328.819C 1212.33,305.424 1204.4,293.726 1188.52,293.726C 1180.53,293.726 1173.8,297.114 1168.32,303.891C 1162.84,310.667 1160.1,319.323 1160.1,329.857L 1160.1,393.441L 1133.99,393.441L 1133.99,217.752L 1160.1,217.752L 1160.1,294.876L 1160.55,294.876C 1169.5,279.864 1182.31,272.358 1198.98,272.358C 1225.29,272.358 1238.45,288.421 1238.45,320.547L 1238.45,393.441 Z M 1340.54,393.441L 1340.54,227.248L 1388.58,227.248C 1449.94,227.248 1480.62,254.255 1480.62,308.268C 1480.62,333.913 1472.1,354.521 1455.08,370.089C 1438.05,385.657 1415.23,393.441 1386.62,393.441L 1340.54,393.441 Z M 1369.03,250.99L 1369.03,369.699L 1390.96,369.699C 1410.27,369.699 1425.3,364.401 1436.03,353.803C 1446.76,343.206 1452.13,328.238 1452.13,308.898C 1452.13,270.293 1432.08,250.99 1391.99,250.99L 1369.03,250.99 Z M 1611.2,341.209L 1528.1,341.209C 1528.42,351.843 1531.9,360.042 1538.53,365.804C 1545.15,371.566 1554.27,374.448 1565.87,374.448C 1578.88,374.448 1590.82,370.491 1601.7,362.577L 1601.7,385.169C 1590.52,392.266 1575.76,395.815 1557.41,395.815C 1539.38,395.815 1525.24,390.461 1514.99,379.752C 1504.74,369.044 1499.61,353.97 1499.61,334.531C 1499.61,316.182 1505.25,301.232 1516.53,289.682C 1527.81,278.133 1541.82,272.358 1558.56,272.358C 1575.3,272.358 1588.26,277.533 1597.44,287.883C 1606.61,298.233 1611.2,312.596 1611.2,330.97L 1611.2,341.209 Z M 1582.71,322.216C 1582.63,313.214 1580.37,306.215 1575.92,301.219C 1571.47,296.224 1565.32,293.726 1557.48,293.726C 1549.79,293.726 1543.28,296.353 1537.95,301.609C 1532.62,306.864 1529.34,313.733 1528.1,322.216L 1582.71,322.216 Z M 1737.03,274.732L 1690.22,393.441L 1660.54,393.441L 1615.95,274.732L 1645.18,274.732L 1672.52,357.754C 1674.6,363.863 1675.88,369.192 1676.38,373.743L 1676.75,373.743C 1677.47,368.03 1678.58,362.849 1680.09,358.199L 1708.76,274.732L 1737.03,274.732 Z M 1858.12,341.209L 1775.02,341.209C 1775.34,351.843 1778.81,360.042 1785.44,365.804C 1792.07,371.566 1801.18,374.447 1812.78,374.447C 1825.79,374.447 1837.74,370.49 1848.62,362.576L 1848.62,385.168C 1837.44,392.266 1822.68,395.815 1804.33,395.815C 1786.3,395.815 1772.16,390.461 1761.91,379.752C 1751.65,369.044 1746.53,353.97 1746.53,334.531C 1746.53,316.181 1752.17,301.231 1763.44,289.682C 1774.72,278.132 1788.73,272.357 1805.48,272.357C 1822.22,272.357 1835.18,277.533 1844.35,287.882C 1853.53,298.233 1858.12,312.595 1858.12,330.97L 1858.12,341.209 Z M 1829.63,322.216C 1829.55,313.214 1827.29,306.215 1822.84,301.219C 1818.38,296.223 1812.24,293.725 1804.4,293.725C 1796.71,293.725 1790.2,296.353 1784.87,301.608C 1779.54,306.864 1776.26,313.733 1775.02,322.216L 1829.63,322.216 Z M 1905.6,393.441L 1879.48,393.441L 1879.48,217.751L 1905.6,217.751L 1905.6,393.441 Z M 1995.04,395.815C 1976.52,395.815 1961.73,390.306 1950.67,379.288C 1939.62,368.271 1934.09,353.661 1934.09,335.458C 1934.09,315.649 1939.85,300.18 1951.38,289.051C 1962.9,277.922 1978.43,272.357 1997.97,272.357C 2016.74,272.357 2031.36,277.767 2041.84,288.587C 2052.31,299.407 2057.55,314.425 2057.55,333.641C 2057.55,352.436 2051.9,367.498 2040.61,378.825C 2029.32,390.151 2014.13,395.815 1995.04,395.815 Z M 1996.41,293.725C 1985.98,293.725 1977.73,297.36 1971.67,304.631C 1965.61,311.902 1962.58,321.931 1962.58,334.717C 1962.58,347.033 1965.65,356.733 1971.78,363.819C 1977.91,370.904 1986.12,374.447 1996.41,374.447C 2006.9,374.447 2014.96,370.966 2020.6,364.004C 2026.24,357.043 2029.06,347.132 2029.06,334.271C 2029.06,321.337 2026.24,311.346 2020.6,304.297C 2014.96,297.249 2006.9,293.725 1996.41,293.725 Z M 2110.26,375.486L 2109.78,375.486L 2109.78,448.047L 2083.66,448.047L 2083.66,274.731L 2109.78,274.731L 2109.78,295.913L 2110.26,295.913C 2119.61,280.209 2133.29,272.357 2151.29,272.357C 2166.63,272.357 2178.58,277.631 2187.15,288.179C 2195.72,298.726 2200,312.891 2200,330.673C 2200,350.384 2195.17,366.168 2185.5,378.027C 2175.83,389.885 2162.62,395.815 2145.88,395.815C 2130.47,395.815 2118.6,389.039 2110.26,375.486 Z M 2109.56,329.078L 2109.56,343.657C 2109.56,352.238 2112.35,359.516 2117.92,365.488C 2123.5,371.461 2130.59,374.447 2139.2,374.447C 2149.26,374.447 2157.17,370.601 2162.9,362.91C 2168.64,355.219 2171.51,344.485 2171.51,330.71C 2171.51,319.136 2168.84,310.078 2163.5,303.537C 2158.16,296.995 2150.91,293.725 2141.76,293.725C 2132.09,293.725 2124.3,297.094 2118.41,303.833C 2112.51,310.573 2109.56,318.987 2109.56,329.078 Z "/>'),l=f("0 0 320 180",'<g transform="translate(0,-872.36218)"><path d="m193.35,76.144a35.355,35.355,0,1,1,-70.711,0,35.355,35.355,0,1,1,70.711,0z" fill-opacity="0.41269842000000001" transform="matrix(1.4083841,0,0,1.4083841,-58.307492,855.21509)" stroke="#FFF" stroke-miterlimit="10" stroke-dasharray="none" stroke-width="6.85040394999999960" fill="#000"/><path fill="#FFF" d="m151.19,939.89-0.21124,46.293,36.567-22.321z"/></g>',"videoplay","Play video icon"),u="<path style='fill:none;stroke:fgcolor;stroke-width:4;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:desiredopacity;stroke-dasharray:none;marker-start:none' d='M 53.728638,839.48313 C 44.890866,821.0777 75.842011,799.132 90.002668,814.85472 m 95.479832,42.85851 c -1.38106,-5.8005 4.40628,-18.7826 16.84904,-18.7826 13.54573,0 21.94059,7.3948 22.09708,21.2685 0.12491,11.0738 -9.9144,15.1917 -18.78252,15.1917 -113.282692,0 -116.668932,-0.117 -192.520858,0 -19.4386752,0.03 -13.81264047,-42.1213 18.48727,-28.1053 M 171.91337,824.7065 c -4.93156,-14.64758 -17.61648,-26.12905 -40.14249,-26.46505 -23.58689,-0.35183 -48.384356,11.52296 -51.525738,39.03198 m 118.210358,2.1465 c -2.39812,-10.1263 -12.21999,-14.27103 -22.09021,-14.82478 -25.14358,-1.41071 -32.89057,15.94078 -28.71083,28.10798 m -117.127762,6.9436 c -2.458337,-17.837 10.678185,-24.8171 21.948736,-24.6319'/>",g="<path style='fill:fgcolor;fill-opacity:desiredopacity;fill-rule:nonzero;stroke:none' d='m 166.22645,843.32735 c 2.92046,0 5.28806,3.01049 5.28806,6.72401 0,3.71352 -2.3676,6.72401 -5.28806,6.72401 -2.92065,0 -5.28825,-3.01049 -5.28825,-6.72401 0,-3.71352 2.3676,-6.72401 5.28825,-6.72401 z m 11.17157,32.21923 -22.41337,0 c 0,-5.97691 0,-11.95381 1.49422,-14.94226 1.49423,-2.98845 4.48268,-2.98845 6.91658,-2.98845 2.4341,0 4.31346,0 6.19301,0 2.60312,0 5.20644,0 6.50791,2.98845 1.30165,2.98845 1.30165,8.96535 1.30165,14.94226 z M 87.781795,843.05114 c 2.920462,0 5.288062,3.01049 5.288062,6.72401 0,3.71352 -2.3676,6.72401 -5.288062,6.72401 -2.92065,0 -5.288249,-3.01049 -5.288249,-6.72401 0,-3.71352 2.367599,-6.72401 5.288249,-6.72401 z m 11.171572,32.21923 -22.413373,0 c 0,-5.97691 0,-11.95381 1.494225,-14.94226 1.494225,-2.98845 4.482674,-2.98845 6.91658,-2.98845 2.434092,0 4.313454,0 6.193002,0 2.603126,0 5.20644,0 6.50791,2.98845 1.301656,2.98845 1.301656,8.96535 1.301656,14.94226 z m 20.869203,-32.21924 c 2.92046,0 5.28806,3.01049 5.28806,6.72401 0,3.71352 -2.3676,6.72401 -5.28806,6.72401 -2.92065,0 -5.28825,-3.01049 -5.28825,-6.72401 0,-3.71352 2.3676,-6.72401 5.28825,-6.72401 z m 11.17157,32.21923 -22.41337,0 c 0,-5.97691 0,-11.95381 1.49422,-14.94226 1.49423,-2.98845 4.48268,-2.98845 6.91658,-2.98845 2.4341,0 4.31346,0 6.19301,0 2.60312,0 5.20644,0 6.50791,2.98845 1.30165,2.98845 1.30165,8.96535 1.30165,14.94226 z M 66.249157,842.77492 c 2.920462,0 5.288062,3.01049 5.288062,6.72401 0,3.71352 -2.3676,6.72401 -5.288062,6.72401 -2.92065,0 -5.288249,-3.01049 -5.288249,-6.72401 0,-3.71352 2.367599,-6.72401 5.288249,-6.72401 z m 11.171572,32.21923 -22.413373,0 c 0,-5.97691 0,-11.95381 1.494225,-14.94226 1.494225,-2.98845 4.482674,-2.98845 6.91658,-2.98845 2.434092,0 4.313454,0 6.193002,0 2.603126,0 5.20644,0 6.50791,2.98845 1.301656,2.98845 1.301656,8.96535 1.301656,14.94226 z'/>",v="<path style='fill:fgcolor;fill-opacity:desiredopacity;fill-rule:nonzero;stroke:none' d='m 158.25,47.375 c -2.92046,0 -5.28125,3.00523 -5.28125,6.71875 0,3.71352 2.36079,6.75 5.28125,6.75 2.92065,0 5.28125,-3.03648 5.28125,-6.75 0,-3.71352 -2.3606,-6.71875 -5.28125,-6.71875 z m -45.5625,0.28125 c -2.92046,0 -5.3125,3.00523 -5.3125,6.71875 0,3.71352 2.39204,6.71875 5.3125,6.71875 2.92065,0 5.28125,-3.00523 5.28125,-6.71875 0,-3.71352 -2.3606,-6.71875 -5.28125,-6.71875 z m 24.03125,0 c -2.92046,0 -5.28125,3.00523 -5.28125,6.71875 0,3.71352 2.36079,6.71875 5.28125,6.71875 2.92065,0 5.28125,-3.00523 5.28125,-6.71875 0,-3.71352 -2.3606,-6.71875 -5.28125,-6.71875 z m -74.4375,0.28125 c -2.92046,0 -5.3125,3.00523 -5.3125,6.71875 0,3.71352 2.39204,6.71875 5.3125,6.71875 2.92065,0 5.28125,-3.00523 5.28125,-6.71875 0,-3.71352 -2.3606,-6.71875 -5.28125,-6.71875 z m 34.932585,-5.692657 -10.799454,9.091808 -11.274272,0 0.276214,10.50813 3.443568,-0.276213 2.762136,9.509162 3.875,0 -1.933496,-8.847876 13.650304,10.65534 z M 154.875,61.6875 c -2.60312,0 -5.19853,-0.0197 -6.5,2.96875 -0.4408,1.012029 -0.71345,2.387341 -0.90625,3.96875 -0.22102,-1.459898 -0.52452,-2.736531 -1,-3.6875 -1.49423,-2.98845 -4.5036,-3 -6.9375,-3 l -6.1875,0 c -2.60312,0 -5.19853,0.01155 -6.5,3 -1.30165,2.98845 -1.3125,8.96059 -1.3125,14.9375 l 22.4375,0 c 0,-0.0947 1e-5,-0.186562 0,-0.28125 l 21.53125,0 c 0,-5.97691 -0.006,-11.94905 -1.5,-14.9375 -1.49422,-2.98845 -4.50359,-2.96875 -6.9375,-2.96875 z m -45.5625,0.25 c -2.60312,0 -5.19853,0.01155 -6.5,3 -1.30165,2.98845 -1.3125,8.96059 -1.3125,14.9375 l 22.40625,0 c 0,-5.97691 -0.006,-11.94905 -1.5,-14.9375 -1.49423,-2.98845 -4.47235,-3 -6.90625,-3 z m -50.40625,0.28125 c -2.60312,0 -5.19853,0.01155 -6.5,3 -1.30165,2.98845 -1.3125,8.96059 -1.3125,14.9375 l 22.40625,0 c 0,-5.97691 0.02547,-11.94905 -1.46875,-14.9375 -1.49423,-2.98845 -4.5036,-3 -6.9375,-3 z' transform='translate(-0.0892384, 795.39085)'/>",y='<svg xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" width="107" height="107.00001" viewBox="0 0 107 107.00001" id="svg4207" version="1.1" inkscape:version="0.91 r13725" sodipodi:docname="Microbit CK Logo.svg"><defs id="defs4209" /><sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="2.8" inkscape:cx="11.591697" inkscape:cy="15.87942" inkscape:document-units="px" inkscape:current-layer="layer1" showgrid="false" units="px" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:window-width="1680" inkscape:window-height="1001" inkscape:window-x="0" inkscape:window-y="23" inkscape:window-maximized="1" /><metadata id="metadata4212"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title /></cc:Work></rdf:RDF></metadata><g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-154.28575,-805.36218)"><rect style="opacity:1;fill:#333333;fill-opacity:1;stroke:none;stroke-width:0.07577424;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" id="rect11957" width="107" height="107.00001" x="154.28575" y="805.36218" /><path id="path12604" d="m 167.13201,841.77337 c -1.09811,-1.17115 -2.4386,-1.31504 -3.58068,-0.38517 -1.17442,0.95712 -1.33105,2.37283 -0.40153,3.63846 0.88264,1.18679 2.51601,1.3543 3.70096,0.403 0.94441,-0.75837 1.39754,-2.56616 0.28125,-3.65629 z" inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:#f48023;fill-opacity:1;fill-rule:evenodd" /><path id="path12606" d="m 195.32515,827.53564 c -1.12791,-1.23947 -2.4782,-1.42079 -3.63883,-0.48983 -1.22347,0.9822 -1.37501,2.38192 -0.40117,3.70206 0.73075,1.07667 2.47422,1.33902 3.64757,0.379 1.10392,-0.903 1.28634,-2.46333 0.39243,-3.59123 z" inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:#f48023;fill-opacity:1;fill-rule:evenodd" /><path id="path12608" d="m 183.0551,829.91611 c 0.99746,1.22384 2.68969,1.43169 3.94151,0.48437 1.21948,-0.9237 1.49237,-2.59558 0.62936,-3.85903 -1.10211,-1.45642 -2.70132,-1.75474 -4.04072,-0.75437 -1.41207,1.05487 -1.61447,2.62901 -0.53015,4.12903 z" inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:#f48023;fill-opacity:1;fill-rule:evenodd" /><path id="path12610" d="m 167.42926,837.87472 c 0.94478,1.29253 2.74166,1.52873 4.01311,0.52726 1.27218,-1.00218 1.48474,-2.81214 0.4713,-4.01819 -1.18461,-1.32995 -2.68316,-1.53163 -3.96696,-0.53344 -1.32668,1.03126 -1.52654,2.58469 -0.51745,4.02437 z" inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:#f48023;fill-opacity:1;fill-rule:evenodd" /><path id="path12612" d="m 179.04562,827.68135 c -1.49566,-1.52327 -3.32561,-1.73402 -4.84378,-0.5556 -1.47712,1.14681 -2.04907,3.1628 -0.79506,4.93099 0.80704,1.19841 2.18496,1.77763 3.64028,1.46803 1.35321,-0.28779 2.3056,-1.09339 2.70931,-2.43024 0.37646,-1.24493 0.24346,-2.42481 -0.71075,-3.41318 z" inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:#f48023;fill-opacity:1;fill-rule:evenodd" /><path id="path12614" d="m 181.91736,845.16983 c -0.2013,-0.12973 -0.40987,-0.25 -0.60248,-0.39135 -2.67261,-1.96295 -5.34196,-3.93025 -8.01676,-5.88993 -0.16243,-0.11919 -0.34157,-0.41897 -0.53706,-0.2511 -0.27145,0.23402 0.0839,0.42151 0.19804,0.58649 1.83212,2.64609 3.68061,5.28128 5.52038,7.92192 0.1319,0.18933 0.32268,0.35031 0.35174,0.61483 -0.3194,0.0665 -0.5694,-0.11592 -0.83285,-0.20966 -2.91244,-1.03888 -5.81981,-2.09085 -8.73189,-3.12938 -0.17115,-0.0611 -0.38409,-0.29361 -0.55487,-0.002 -0.15153,0.25799 -0.1388,0.49782 0.14135,0.68605 0.13917,0.0934 0.25473,0.22202 0.38264,0.33322 2.37755,2.06397 4.75693,4.12539 7.13049,6.19371 0.29071,0.25328 0.57594,0.52145 0.82123,0.8176 1.1577,1.39898 2.36956,2.76127 3.42298,4.23585 0.64426,0.90154 1.42443,1.09448 2.41172,1.06179 2.50184,-0.0833 4.72641,-0.96731 6.74896,-2.36957 3.17226,-2.19987 5.54146,-5.01748 6.59923,-8.81619 0.23693,-0.85176 0.25365,-1.59776 -0.26562,-2.39536 -0.75073,-1.1519 -1.35175,-2.40082 -2.05343,-3.58688 -0.32012,-0.54033 -0.44877,-1.09885 -0.48874,-1.71622 -0.12209,-1.88482 -0.29215,-3.76564 -0.41606,-5.65011 -0.0225,-0.3423 -0.15625,-0.41242 -0.45676,-0.49201 -0.39063,-0.10356 -0.45495,0.1152 -0.54325,0.37246 -0.30632,0.89099 -0.60938,1.78309 -0.92043,2.67227 -0.43895,1.25363 -0.88409,2.50582 -1.36919,3.87829 -1.18679,-2.51238 -2.31396,-4.89102 -3.42989,-7.27477 -0.13772,-0.2936 -0.26309,-0.45348 -0.64426,-0.37645 -0.41316,0.0833 -0.32668,0.33576 -0.31505,0.59121 0.1439,3.04835 0.28998,6.09597 0.42733,9.14432 0.007,0.17151 0.13409,0.37972 -0.0999,0.5407 -0.14208,-0.16678 -0.28452,-0.32776 -0.41897,-0.49491 -1.98875,-2.47094 -3.99312,-4.92918 -5.94845,-7.42665 -0.37173,-0.47529 -0.61845,-0.37645 -1.06249,-0.1726 -0.57704,0.26526 -0.24093,0.58648 -0.13118,0.87718 1.26019,3.34487 2.53272,6.68537 3.80162,10.02731 -0.04,0.0298 -0.0793,0.06 -0.1181,0.0902 z" inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:#ffce3c;fill-opacity:1;fill-rule:evenodd" /><path id="path12616" d="m 200.39423,846.01541 c -0.84885,-0.28853 -1.70641,-0.12065 -2.56216,-0.0476 -0.28452,0.0244 -0.30159,0.23982 -0.34919,0.46511 -1.31942,6.26385 -8.51278,12.69703 -15.10476,12.36418 -0.29942,-0.0148 -0.44877,0.0829 -0.50618,0.36701 -0.27581,1.37174 -0.52726,2.74494 -0.29506,4.15228 0.0723,0.86665 0.10247,1.73912 0.22348,2.59885 0.75618,5.37612 3.38592,9.45937 8.37033,11.82385 3.47786,1.65008 7.18608,2.02399 10.97863,1.65262 1.24891,-0.12208 2.48185,-0.38264 3.63448,-0.93459 0.3928,-0.18824 0.58539,-0.4237 0.5923,-0.88046 0.0134,-0.91825 0.0556,-1.83941 0.14606,-2.75293 0.0683,-0.68604 -0.11264,-0.78452 -0.77762,-0.60683 -5.01601,1.34195 -9.4539,-1.55197 -10.10726,-6.55201 -0.55704,-4.26237 1.96804,-7.86051 6.12759,-8.63959 1.70132,-0.31868 3.42625,-0.23438 5.12212,0.10756 0.54616,0.1101 0.62428,-0.0284 0.6232,-0.54106 -0.006,-2.5429 -0.16098,-5.07926 -0.33613,-7.61343 -0.0814,-1.17878 -0.25508,-2.35139 -0.53052,-3.5091 -0.12973,-0.54688 -0.4168,-0.79652 -0.94187,-0.93278 -1.41499,-0.36775 -2.85503,-0.48438 -4.30744,-0.52108 z" inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:#33c5f3;fill-opacity:1;fill-rule:evenodd" /><path id="path12618" d="m 217.44994,846.74471 c -1.87102,0.0938 -3.90847,0.0167 -5.93282,0.27688 -0.37427,0.0484 -0.55815,0.14645 -0.54361,0.57123 0.0469,1.37937 0.0163,2.76237 0.0891,4.14029 0.35901,6.7951 0.7322,13.58947 1.12246,20.38275 0.12537,2.17371 0.21658,4.35251 0.55633,6.5095 0.0755,0.48001 0.27181,0.67842 0.79761,0.70131 3.17298,0.13771 6.34379,0.0683 9.51606,-0.0109 0.72165,-0.0181 0.94113,-0.23475 0.8899,-0.97531 -0.1886,-2.7322 -0.15371,-5.46987 -0.13228,-8.20716 0.006,-0.58686 0.36338,-0.5756 0.72531,-0.66608 0.37681,-0.0941 0.66897,-0.11919 0.85392,0.36229 0.35466,0.92333 0.80088,1.81069 1.18242,2.72459 1.00582,2.40916 1.87974,4.86593 2.63447,7.36559 0.0738,0.24492 0.0622,0.56832 0.51418,0.55306 3.12065,-0.10574 6.24422,-0.15335 9.31001,-0.8612 0.58249,-0.13445 0.74347,-0.31323 0.53743,-0.97057 -1.6301,-5.20861 -3.88084,-10.14868 -6.39212,-14.97721 -0.2649,-0.50945 -0.23582,-0.84048 0.11846,-1.28307 3.38447,-4.22569 5.66719,-9.02912 7.35979,-14.13927 0.129,-0.3899 0.16278,-0.55922 -0.35575,-0.65626 -3.0102,-0.56286 -6.05599,-0.68313 -9.1018,-0.84047 -0.5189,-0.0269 -0.74129,0.12354 -0.899,0.63517 -1.38191,4.48514 -3.22312,8.7962 -5.03782,13.11673 -0.0719,0.17115 -0.0876,0.39099 -0.30996,0.45276 -0.58139,0.16098 -1.19222,-0.26272 -1.23437,-0.87319 -0.2947,-4.2533 -0.48911,-8.50986 -0.4019,-12.77442 0.01,-0.45495 -0.0985,-0.57304 -0.54724,-0.56651 -1.71912,0.0244 -3.43898,0.01 -5.31871,0.01 z" inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:#ffce3c;fill-opacity:1;fill-rule:evenodd" /></g></svg>',b='<svg viewBox="0 0 90 90" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="78" height="77.593796" id="svg2169" sodipodi:version="0.32" inkscape:version="0.48.5 r10040" version="1.0" sodipodi:docname="python-logo1.svg" inkscape:output_extension="org.inkscape.output.svg.inkscape"> <defs id="defs2171"> <linearGradient id="linearGradient11301" inkscape:collect="always"> <stop id="stop11303" offset="0" style="stop-color:#ffe052;stop-opacity:1" /> <stop id="stop11305" offset="1" style="stop-color:#ffc331;stop-opacity:1" /> </linearGradient> <linearGradient gradientUnits="userSpaceOnUse" y2="168.1012" x2="147.77737" y1="111.92053" x1="89.136749" id="linearGradient11307" xlink:href="#linearGradient11301" inkscape:collect="always" /> <linearGradient id="linearGradient9515" inkscape:collect="always"> <stop id="stop9517" offset="0" style="stop-color:#387eb8;stop-opacity:1" /> <stop id="stop9519" offset="1" style="stop-color:#366994;stop-opacity:1" /> </linearGradient> <linearGradient gradientUnits="userSpaceOnUse" y2="131.85291" x2="110.14919" y1="77.070274" x1="55.549179" id="linearGradient9521" xlink:href="#linearGradient9515" inkscape:collect="always" /> </defs> <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="1" inkscape:cx="9.3947058" inkscape:cy="72.439766" inkscape:document-units="px" inkscape:current-layer="layer1" width="131.10236px" height="184.25197px" inkscape:window-width="872" inkscape:window-height="624" inkscape:window-x="82" inkscape:window-y="82" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" showborder="true" inkscape:showpageshadow="false" inkscape:window-maximized="0" /> <metadata id="metadata2174"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> </cc:Work> </rdf:RDF> </metadata> <g inkscape:label="Calque 1" inkscape:groupmode="layer" id="layer1" transform="translate(-489.57146,-267.85101)"> <g id="g1894" transform="matrix(0.70638641,0,0,0.70638641,457.82822,220.192)"> <path style="color:#000000;fill:url(#linearGradient9521);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible" d="M 99.75,67.46875 C 71.718268,67.468752 73.46875,79.625 73.46875,79.625 L 73.5,92.21875 l 26.75,0 0,3.78125 -37.375,0 c 0,0 -17.9375,-2.034276 -17.9375,26.25 -2e-6,28.28427 15.65625,27.28125 15.65625,27.28125 l 9.34375,0 0,-13.125 c 0,0 -0.503652,-15.65625 15.40625,-15.65625 15.9099,0 26.53125,0 26.53125,0 0,0 14.90625,0.24096 14.90625,-14.40625 0,-14.647206 0,-24.21875 0,-24.21875 0,-2e-6 2.26318,-14.65625 -27.03125,-14.65625 z M 85,75.9375 c 2.661429,-2e-6 4.8125,2.151071 4.8125,4.8125 2e-6,2.661429 -2.151071,4.8125 -4.8125,4.8125 -2.661429,2e-6 -4.8125,-2.151071 -4.8125,-4.8125 -2e-6,-2.661429 2.151071,-4.8125 4.8125,-4.8125 z" id="path8615" inkscape:connector-curvature="0" /> <path id="path8620" d="m 100.5461,177.31485 c 28.03174,0 26.28125,-12.15625 26.28125,-12.15625 l -0.0312,-12.59375 -26.75,0 0,-3.78125 37.375,0 c 0,0 17.9375,2.03427 17.9375,-26.25001 10e-6,-28.284267 -15.65625,-27.281247 -15.65625,-27.281247 l -9.34375,0 0,13.124997 c 0,0 0.50366,15.65625 -15.40625,15.65625 -15.909902,0 -26.531252,0 -26.531252,0 0,0 -14.90625,-0.24096 -14.90625,14.40626 0,14.6472 0,24.21875 0,24.21875 0,0 -2.26318,14.65625 27.031252,14.65625 z m 14.75,-8.46875 c -2.66143,0 -4.8125,-2.15107 -4.8125,-4.8125 0,-2.66143 2.15107,-4.8125 4.8125,-4.8125 2.66143,0 4.8125,2.15107 4.8125,4.8125 1e-5,2.66143 -2.15107,4.8125 -4.8125,4.8125 z" style="color:#000000;fill:url(#linearGradient11307);fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible" inkscape:connector-curvature="0" /> </g> </g> </svg>';function _(){return Object.keys(d).concat(Object.keys(p).map(function(e){return"gel-"+e})).concat(Object.keys(m).map(function(e){return"fa-"+e}))}function w(e){var t=e.split(/,/),n=480;e=t[0];var i=t[1],r=0,o=1;t.forEach(function(e){/clip=/.test(e)&&(r=1*e.slice(5)),/opacity=/.test(e)&&(o=1*e.slice(8)),/h=/.test(e)&&(n=1*e.slice(2))});var a=e.toLowerCase();if("codekingdoms"==a)return y;if("python"==a)return b;h.hasOwnProperty(a)&&(a=h[a]);var s=d[a],c=!1,l=!1;s||(s=m[a.replace(/^fa-/,"")])&&(c=!0),!s&&/^gel-/.test(a)&&(s=p[a.replace(/^gel-/,"")])&&(l=!0),s||(x.Util.log("SCRIPTICON: "+e),s=d.cancel);var u="";return 1!=o&&(u=" style='fill-opacity:"+o+"' "),c&&(u+=" transform='scale(0.13,-0.13) translate(1000,-2500)' "),l&&(u+=" transform='scale(7.5,7.5)' "),f(r+" "+r+" "+(480-2*r)+" "+(n-2*r),"<path fill='"+i+"' "+u+" d='"+s+"' />",e)}function k(e){var t=x.div(null);return t.innerHTML=e,t.firstChild}e.getIconSVG=function(e,t){var n=t||e.split(",")[0],i=x.div(null);i.innerHTML=w(e);var r=i.firstChild;x.HTML.setRole(r,"img"),r.setAttribute("aria-label",n);var o=document.createElementNS("http://www.w3.org/2000/svg","title");return o.textContent=n,r.insertBefore(o,r.firstElementChild),r},e.getIconNames=_,e.getAllIcons=function(){var n="";return _().forEach(function(e){var t=w(e+",currentColor");t=t.replace(/^<svg /,"<svg style='width:100%;height:100%' "),n+=t="<div style='margin:1em;display:inline-block;width:3em;height:3em;'>"+t+"<div style='font-size:0.6em;text-align:center'>"+e+"</div></div>"}),n},e.getIconSVGUrl=function(e){return"data:image/svg+xml,"+escape(w(e))},e.getVideoPlay=function(e,t){return void 0===t&&(t=""),x.Util.fmt("<img src='{0:url}' alt='{1:q}' />",e,t||"")+l},e.getIconSVGCore=w,e.drawSVG=function(e,t){var n=d[t.toLowerCase()]||(c?c[t.toLowerCase()]:null);if(null!=n){for(var i=(n=(n=n.replace(/,/g," ")).replace(/([0-9])([A-Z])/g,function(e,t,n){return t+" "+n})).split(/ +/),r="",o=function(e){return parseFloat(i[e])},a=0;a<i.length;){var s=i[a];switch(/^[A-Za-z]$/.test(s)?a++:s=r,s){case"M":e.moveTo(o(a+0),o(a+1)),a+=2,r="L";break;case"C":e.bezierCurveTo(o(a+0),o(a+1),o(a+2),o(a+3),o(a+4),o(a+5)),a+=6,r="C";break;case"L":e.lineTo(o(a+0),o(a+1)),a+=2,r="L";break;case"Z":e.closePath();break;default:a++}}e.fill()}},e.svgToElement=k,e.codeSignHtml=function(e){return n[e]},e.getHorizLogo=function(){return k(r)},e.getTopLogo=function(){return k(s)},e.getLoginButton=function(){return k(i)},e.getHorizontalCursorMarker=function(){return k(o)},e.getVerticalCursorMarker=function(){return k(a)},e.getCloudSymbol=function(e,t,n,i){var r=n?"1":"0.3",o="public"==t?g:"broadcast"==t?v:"",a=k(f("0 795 227 82",u.replace(/fgcolor/,e).replace(/desiredopacity/,r)+(o?o.replace(/fgcolor/,e).replace(/desiredopacity/,r):"")));return i&&(a.style.height=i.toString()+"em",a.style.width=(2.77*i).toString()+"em"),a},e.justName=function(e){return e?e.replace(/^svg:/,"").replace(/,.*/,""):null}}(x.SVG||(x.SVG={}))}(TDev||(TDev={})),function(e){var o=function(e,t){this.id=e,this.action=t};e.CallNode=o;var t=function(){function t(){this.pack=[],this.path=[]}return t.buildFrom=function(e){var n=new t,i=[],r=[];return e.forEach(function(e){var t=i.indexOf(e.pc);-1===t&&(t=i.push(e.pc)-1,r.push(e.name)),n.path.push(t)}),i.forEach(function(e,t){return n.pack.push(new o(e,r[t]))}),n},t.toFakeStackTrace=function(e){if(!e)return[];var t=e.pack.map(function(e){return{pc:e.id,name:e.action}});return e.path.map(function(e){return t[e]})},t}();e.PackedStackTrace=t;var n=function(){function n(){this.empty=!0,this.data={}}return n.prototype.push=function(e){this.data[e]=!0,this.empty=!1},n.prototype.contains=function(e){return!!this.data[e]},n.prototype.toJSON=function(){return Object.keys(this.data)},n.prototype.isEmpty=function(){return this.empty},n.prototype.clear=function(){this.empty=!0,this.data={}},n.fromJSON=function(e){if(null==e)return null;if(e instanceof Array){var t=new n;return e.forEach(function(e){null!=e&&t.push(e)}),t}},n}();e.RunBitMap=n}(TDev||(TDev={})),function(o){function t(e,t){return n("span",e,t)}function n(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=document.createElement(e);return t&&(i.className=t),"string"==typeof n?i.appendChild(document.createTextNode(n)):i.appendChildren(n),i}function i(e){if(e)if(o.Browser.directionAuto)e.setAttribute("dir","auto");else{var t=e.innerText,n=/^[\s\.;:(+0-9]*[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/i.test(t)?"rtl":"ltr";e.setAttribute("dir",n)}return e}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i="div";"wall-dialog-header"!=e&&"modalSearchHeader"!=e||(i="h1");var r=document.createElement(i);return e&&(r.className=e),r.tabIndex=-1,r.appendChildren(t.filter(function(e){return null!=e})),"sdLoadingMore"==e&&r.setAttribute("aria-live","polite"),r}o.debuggerExceptions=!1,o.forceLocalStorage=!1,o.withTracing=!1,o.asyncEnabled=!0,o.isWebWorker=!1,o.noHub=!1,o.hubHash="hub",o.enumToString=function(e,t){var n=e[t];if(!n)throw new Error("Cannot convert enum to string: "+t);return n},o.nullify=function(e){return null==e?null:e},o.coalesce=function t(n){return function(e){return e&&null!=n?t(e(n)):e?t(null):n}},o.tweetify=function(e){return e&&140<e.length?e.substr(0,140)+"...":e},o.elt=function(e){return document.getElementById(e)},o.span=t,o.show=function e(t){t instanceof o.Promise?t.done(e):console.log(t)},o.createElement=n,o.text=function(e){return document.createTextNode(e)},o.lzmaDecompressAsync=function(i){var r=window.LZMA;return r?new o.Promise(function(n,e,t){try{r.decompress(i,function(e,t){n(t?void 0:e)})}catch(e){n(void 0)}}):o.Promise.as(void 0)},o.lzmaCompressAsync=function(i){var r=window.LZMA;return r?new o.Promise(function(n,e,t){try{r.compress(i,7,function(e,t){n(t?void 0:new Uint8Array(e))})}catch(e){n(void 0)}}):o.Promise.as(void 0)},o.img=function(e,t,n){var i=document.createElement("img");return e&&(i.className=e),i.src=t,i.alt=n,i},o.spanDirAuto=function(e){return i(t("",e))},o.dirAuto=i,o.div=a,o.divId=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=a(t,n);return r.id=e,r}}(TDev||(TDev={})),function(e){(e.Debug||(e.Debug={})).whenSet=function(e){e()}}(TDev||(TDev={})),function(ne){var ie,r;!function(e){e.enabled=!1;var t=[],n=0;e.log=function(e){e.timestamp=Date.now(),/^[\{\[]/.test(e.contentText)&&(e.contentJson=JSON.parse(e.contentText),delete e.contentText),e.method=e.method.toUpperCase(),r.startsWith(e.url,ne.Cloud.getServiceUrl())&&(e.url=e.url.slice(ne.Cloud.getServiceUrl().length).replace(/.access_token=.*/,"")),n||(n=e.timestamp),e.relativeTime=e.timestamp-n,t.push(r.jsonClone(e))},e.show=function(){return t.forEach(function(e){return console.log(e)}),t}}(ie=ne.HttpLog||(ne.HttpLog={})),function(p){function n(e){if(/^http(s)?:/i.test(e))return e;var t=document.createElement("a");return t.href=e,t.href}function i(e){return p.trimAfter(e,".")}function d(e){return e&&(e=decodeURIComponent(e.replace(/[+]/g," "))),e}function r(e,t){return p.httpRequestAsync(n(e),"get",void 0,t)}function o(t){if(!t)return{};try{return JSON.parse(t)}catch(e){return JSON.parse(t.replace(/":NaN,"/g,'":0,"'))}}function a(e,t){void 0===t&&(t="");try{if(!e)throw Error("check failed: "+t)}catch(e){try{j("check",e,!1)}catch(e){}}return e}function e(e,t){void 0===t&&(t=null);var n=new Error("OOPS: "+e);throw t&&(n.bugAttachments=t),n}var s;p.eventLogging=!1,p.mouseLogging=!1,p.splitKeyValues=function(e,t,n){void 0===t&&(t=","),void 0===n&&(n="=");var i={};return e&&e.split(t).forEach(function(e){var t=e.split(n);t[1]&&(i[t[0]]=t[1])}),i},p.hasCJKChars=function(e){return/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf\u3130-\u318F\uAC00-\uD7AF]/.test(e)},p.wordLength=function(e){var t=0;return e.split(/(\s+|-)/).forEach(function(e){return t=Math.max(e.length,t)}),t},p.isoTime=function(e){var t=new Date(1e3*e);return p.fmt("{0}-{1:f02.0}-{2:f02.0} {3:f02.0}:{4:f02.0}:{5:f02.0}",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},p.timeSince=function(e){var t=(p.now()-(e*=1e3))/1e3;return isNaN(t)?"":t<-30?(t=-t)<60?oe("in a few seconds"):t<120?oe("in a minute"):t<3600?oe("in {0} minute{0:s}",Math.floor(t/60)):t<7200?oe("in an hour"):t<86400?oe("in {0} hour{0:s}",Math.floor(t/60/60)):t<2592e3?oe("in {0} day{0:s}",Math.floor(t/60/60/24)):t<31536e3?oe("in {0} month{0:s}",Math.floor(t/60/60/24/30)):oe("in {0} year{0:s}",Math.floor(t/60/60/24/365)):t<0?oe("now"):t<10?oe("a few seconds ago"):t<60?oe("{0} second{0:s} ago",Math.floor(t)):t<120?oe("a minute ago"):t<3600?oe("{0} minute{0:s} ago",Math.floor(t/60)):t<7200?oe("an hour ago"):t<86400?oe("{0} hour{0:s} ago",Math.floor(t/60/60)):t<2592e3?oe("{0} day{0:s} ago",Math.floor(t/60/60/24)):t<31536e3?oe("{0} month{0:s} ago",Math.floor(t/60/60/24/30)):oe("{0} year{0:s} ago",Math.floor(t/60/60/24/365))},p.toAbsoluteUrl=n,p.trimAfter=function(e,t){if(!e)return e;var n=e.indexOf(t,0);return-1<n?e.substr(0,n+t.length):e},p.translatedFirstSentence=function(e){var t=re(e=(e=(e=(e=e.replace(/{hints:[^}]+}/g,"")).replace(/\n/g," ")).replace(/^\s+/,"")).replace(/\s+$/,""),!!p.translationToken),n=i(t);return t==e?re(n,!1):n},p.firstSentence=i,p.httpGetJsonAsync=function(e,t){return r(e,t).then(function(e){return JSON.parse(e)})},p.forEachResponseHeader=function(e,n){var t=e.getAllResponseHeaders();t&&(t=t.replace(/^\s*/,"")).split("\r\n").forEach(function(e){var t=e.indexOf(": ");0<t&&n(e.substr(0,t),e.substr(t+2))})},p.decodeErrorMessage=d,p.httpGetTextAsync=r,p.httpPostRealJsonAsync=function(e,t){return p.httpRequestAsync(e,"POST",JSON.stringify(t),"application/json;charset=UTF-8").then(function(e){return e?JSON.parse(e):{}})},p.parseJsonWithHack=o,p.httpPostJsonAsync=function(e,t){return p.httpRequestAsync(e,"POST",JSON.stringify(t),ne.Cloud.lite?"application/json;charset=UTF-8":"text/plain;charset=UTF-8").then(function(e){return e?o(e):{}})},p.httpPostTextAsync=function(e,t){return p.httpRequestAsync(e,"POST",t)},p.httpDeleteAsync=function(e){return p.httpRequestAsync(e,"DELETE")},p.httpRequestAsync=function(s,c,l,u){return void 0===c&&(c="GET"),void 0===l&&(l=void 0),void 0===u&&(u=null),ne.Cloud.isOffline()?ne.Cloud.offlineErrorAsync():new ne.Promise(function(e,t,n){var i,r=!1;function o(){t(function(e,t,n){var i=new Error(p.fmt("cannot {0} '{1}'; status={2}",t,n,e.status));i.status=e.status;try{i.errorMessage=d(e.getResponseHeader("ErrorMessage"))}catch(i){}return null==i.errorMessage&&(i.errorMessage=e.responseText),404==e.status||403==e.status||409==e.status||400==e.status||(i.isNetworkError=1),i}(i,c,s))}var a=u||{};"string"==typeof a&&(a={"Content-Type":a}),ie.enabled&&ie.log({url:s,method:c,contentText:l,headers:Object.keys(a).map(function(e){return{name:e,value:a[e]}})}),i=new XMLHttpRequest,ne.Cloud.lite&&(s=function(e,t,r){if(!ne.Cloud.lite)return t;var n=ne.Cloud.getServiceUrl()+"/api";if(t.slice(0,n.length)!=n||!/^[\/\?]/.test(t.slice(n.length)))return t;e.withCredentials=!0;var i=/([^\?]+)\?(.*)/.exec(t),o="";return i&&(i[2].split(/&/).forEach(function(e){var t=e,n="true",i=/([^=]+)=(.*)/.exec(e);switch(i&&(t=i[1],n=decodeURIComponent(i[2])),t=decodeURIComponent(t)){case"user_platform":if(ne.Cloud.isRestricted())break;case"world_id":case"release_id":case"access_token":n&&(r["x-td-"+t.replace(/_/g,"-")]=n);break;case"anon_token":n&&(r.authorization=n);break;default:o+=o?"&":"?",o+=e}}),t=i[1]+o),t}(i,s,a)),i.onreadystatechange=function(){r||4==i.readyState&&(r=!0,200==i.status?e(i.responseText):o())},i.open(c,s),Object.keys(a).forEach(function(e){i.setRequestHeader(e,a[e])}),void 0===l?i.send():i.send(l)})},p.betaCheck=function(e,t){void 0===t&&(t=""),ne.isBeta&&a(e,t)},p.check=a,p.assert=function(e,t){if(void 0===t&&(t=""),!e)throw Error("assertion failed: "+t)},p.assertCode=function(e){if(!e){var t=Error("assertion failed");throw t.includeSource=!0,t}},p.die=function(){throw Error("OOPS")},p.oops=e,p.abstract=function(){e("this method should have been overriden")},p.initHtmlExtensions=function(){window.performance&&window.performance.now?p.perfNow=function(){return window.performance.now()}:p.perfNow=function(){return Date.now()},ne.Promise.errorHandler=p.reportError,ne.Promise.checkHandler=function(e){return p.check(!1,e)};var e=Element.prototype;e.removeAllChildren=function(){for(;this.hasChildNodes();)this.removeChild(this.firstChild)},e.removeSelf=function(){this.parentNode&&this.parentNode.removeChild(this)},e.setFlag=function(e,t){this.setAttribute("data-"+e,t?"yes":"no")},e.getFlag=function(e){var t=this.getAttribute("data-"+e);return!(!t||"no"==t)},e.appendChildren=function(e){if(e)if(Array.isArray(e))for(var t=0;t<e.length;++t)this.appendChildren(e[t]);else"string"==typeof e?this.appendChild(ne.text(e)):this.appendChild(e)},e.setChildren=function(e){this.removeAllChildren(),this.appendChildren(e)},e.setChildrenIfNeeded=function(e){if(Array.isArray(e)&&e.length==this.childNodes.length){for(var t=!0,n=0;n<e.length;++n)if(this.childNodes[n]!==e[n]){t=!1;break}if(t)return}this.removeAllChildren(),this.appendChildren(e)},e.setPosition=function(e,t,n,i){this.style.left=e+"px",this.style.top=t+"px",n&&(this.style.width=n+"px"),i&&(this.style.height=i+"px")},e.offsetPosition=function(){return{top:this.offsetTop,bot:this.offsetTop+this.offsetHeight,left:this.offsetLeft,right:this.offsetLeft+this.offsetWidth,width:this.offsetWidth,height:this.offsetHeight}},s=[],window.addEventListener("message",function(e){if(e.source==window&&e.data==c)for(e.stopPropagation();0<s.length;){var t=s.shift();t()}},!0),Error.stackTraceLimit=64,ne.Browser.setInnerHTML=function(e,t){e.innerHTML=ne.HTML.sanitizeHTML(t)}};var c="tdev-zero-timeout-message";function l(e){for(var t=[],n=0;n<e.length;++n)for(var i=e[n],r=0;r<i.length;++r)t.push(i[r]);return t}function u(e,t){if(void 0===t&&(t=null),!t){var n=e.match(/^data:([^;]+);base64,/);if(!n)return;t=n[1]}for(var i="data:"+t+";base64,",r=e.substr(i.length),o=atob(r),a=new ArrayBuffer(o.length),s=new Uint8Array(a),c=0;c<o.length;c++)s[c]=255&o.charCodeAt(c);return s}function h(e,t){var n=t>>4*e&15;return n=n<=9?n+48:n+55}p.initGenericExtensions=function(){var e=Array.prototype;e.peek=function(){return 0===this.length?void 0:this[this.length-1]},e.collect=function(e){for(var t=[],n=0;n<this.length;++n)for(var i=e(this[n]),r=0;r<i.length;++r)t.push(i[r]);return t},e.pushRange=function(e){for(var t=0;t<e.length;++t)this.push(e[t])},e.max=function(){return Math.max.apply(null,this)},e.min=function(){return Math.min.apply(null,this)},e.spliceArr=function(e,t,n){return Array.prototype.splice.apply(this,[e,t].concat(n))},e.stableSortObjs=function(i){for(var e=0;e<this.length;++e)this[e].__stableSortIdx=e;for(this.sort(function(e,t){var n=i(e,t);return 0==n?e.__stableSortIdx-t.__stableSortIdx:n}),e=0;e<this.length;++e)delete this[e].__stableSortIdx},e.stableSorted=function(i){for(var e=new Array(this.length),t=0;t<e.length;++t)e[t]=t;var r=this;for(e.sort(function(e,t){var n=i(r[e],r[t]);return 0==n?e-t:n}),t=0;t<e.length;++t)e[t]=r[e[t]];return e},e.stableSort=function(e){for(var t=this.stableSorted(e),n=0;n<this.length;++n)this[n]=t[n]},e.clear=function(){return this.splice(0,this.length)};var t=String.prototype;t.startsWith=function(e){this.slice(0,e.length)},t.endsWith=function(e){this.slice(-e.length)},t.count=function(){return this.length},t.at=function(e){return this.charAt(e)}},p.intersectArraysVA=function(n){if(!n.length)return[];n.sort(function(e,t){return e.length-t.length});var i=[];return n[0].forEach(function(e){for(var t=1;t<n.length;++t)if(n[t].indexOf(e)<0)return;i.push(e)}),i},p.concatArraysVA=l,p.concatArrays=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return l(e)},p.startsWith=function(e,t){return!t||!(!e||e.length<t.length)&&e.slice(0,t.length)==t},p.stableSum=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i]-n,o=t+r;n=o-t-r,t=o}return t},p.initCscript=function(){ne.Browser.cscript=!0;var e=Array.prototype;e.map=function(e){for(var t=[],n=0;n<this.length;++n){var i=e(this[n],n);t.push(i)}return t},e.forEach=function(e){for(var t=0;t<this.length;++t)e(this[t],t)},e.filter=function(e){for(var t=[],n=0;n<this.length;++n)e(this[n],n)&&t.push(this[n]);return t},Object.prototype.create=function(e){function t(){}return t.prototype=e,new t},Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}},p.values=function(t){return Object.keys(t).map(function(e){return t[e]})},p.userError=function(t,n,i){void 0===n&&(n="");var r=new Error(t);r.isUserError=!0,i&&(r.statusCode=i);try{throw r}catch(e){throw p.log("error: {0}, {1}, {2}",t,n,i),p.log(e.stack+""),r}},p.syntaxError=function(e,t){var n=new Error(e);throw n.syntaxErrorDeclName=t,n.isUserError=!0,n},p.indexCheck=function(e,t){return((e=Math.floor(e))<0||t<=e)&&p.userError("index "+e+" out of bounds (collection size: "+t+")"),e},p.isOOB=function(e,t){return(e=Math.floor(e))<0||t<=e},p.notImplementedYet=function(e,t){e.rt.devMode&&p.userError(t+" not implemented yet")},p.notSupported=function(e,t){e.rt.devMode&&p.userError(t+" is not supported in this version of Touch Develop")},p.guidGen=function(){function e(){return(65536|ne.Random.uint32()).toString(16).slice(-4)}return e()+e()+"-"+e()+"-4"+e().slice(-3)+"-"+e()+"-"+e()+e()+e()},p.guidToAlpha=function(e){return e.replace(/-/g,"z").replace(/[0-9]/g,function(e){var t=e.charCodeAt(0)-"0".charCodeAt(0)+"m".charCodeAt(0);return String.fromCharCode(t)})},p.colors=["#FF00FF","#800080","#A52A2A","#E25822","#FF0038","#008080","#00008B","#004B49"],p.svgGravatar=function(e){e||(e="none");for(var t=function(e,t){return(e<<16)+(e<<6)+t-e<<0},n=0,i=0;i<e.length;++i)n=t(n,e.charCodeAt(i));for(var r=65535&n,o=r%(p.colors.length-1),a=p.colors[o],s="",c=0;c<6;){for(var l=0;l<3;++l)for(var u=0;u<5;++u)3e4<(r=65535&(n=t(n,e.charCodeAt(i++%e.length))))||(s+=p.fmt(" M {0} {1} l 46 0 0 46 -46 0 Z",50*l+2,50*u+2),2!=l&&(s+=p.fmt(" M {0} {1} l 46 0 0 46 -46 0 Z",50*(4-l)+2,50*u+2)),c++);c++}var d=p.fmt("<path fill='{0}' d='{1}' />",a,s);return ne.SVG.svgBoilerPlate("0 0 250 250",d)},p.base64Encode=function(e){function t(e){return e<=25?e+65:e<=51?e+71:e<=61?e-4:62==e?43:47}for(var n=new Array,i=0,r=0,o=0;o<e.length;o++){var a=e.charCodeAt(o);if(255<a)return;0==i?(n.push(String.fromCharCode(t(a>>2))),i=1,r=(3&a)<<4):1==i?(n.push(String.fromCharCode(t(r|a>>4))),r=(15&a)<<(i=2)):2==i&&(n.push(String.fromCharCode(t(r|a>>6),t(63&a))),r=i=0)}return 1==i?n.push(String.fromCharCode(t(r),61,61)):2==i&&n.push(String.fromCharCode(t(r),61)),n.join("")},p.base64EncodeBytes=function(e){function t(e){return e<=25?e+65:e<=51?e+71:e<=61?e-4:62==e?43:47}for(var n=new Array,i=0,r=0,o=0;o<e.length;o++){var a=e[o];if(255<a)return;0==i?(n.push(String.fromCharCode(t(a>>2))),i=1,r=(3&a)<<4):1==i?(n.push(String.fromCharCode(t(r|a>>4))),r=(15&a)<<(i=2)):2==i&&(n.push(String.fromCharCode(t(r|a>>6),t(63&a))),r=i=0)}return 1==i?n.push(String.fromCharCode(t(r),61,61)):2==i&&n.push(String.fromCharCode(t(r),61)),n.join("")},p.stringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n},p.uint8ArrayToString=function(e){for(var t=e.length,n="",i=0;i<t;++i)n+=String.fromCharCode(e[i]);return n},p.base64Decode=function(e){function t(e){return 47==e?63:43==e?62:e<=57?e+4:e<=90?e-65:e-71}function n(e,t,n){for(var i=0,r=0;r<=e-t;r++)i=1+(i<<1);return n>>t&i}for(var i=new Array,r=!0,o=!1,a=!1,s=!1,c=!1,l=!1,u=0,d=new RegExp("^([A-Za-z0-9+/=])$"),p=0;p<e.length;p++){var h=e.charCodeAt(p);if(!String.fromCharCode(h).match(d)||61==h&&(r||o)||61==h&&0!=u||61!=h&&c||l)return;r?(u=t(h)<<2,l=c=s=a=!(o=!(r=!1))):o?(i.push(String.fromCharCode(u|n(5,4,t(h)))),u=(15&t(h))<<4,l=c=s=!(a=!(o=r=!1))):a?61==h?(u=0,l=!(c=!(s=a=o=r=!1))):(i.push(String.fromCharCode(u|n(5,2,t(h)))),u=(3&t(h))<<6,l=c=!(s=!(a=o=r=!1))):s?61==h?(u=0,l=!(c=s=a=o=r=!1)):(i.push(String.fromCharCode(u|t(h))),l=c=s=a=o=!(r=!(u=0))):c&&(u=0,l=!(c=s=a=o=r=!1))}if(r||l)return i.join("")},p.splitDataUrl=function(e){if(e){var t=/^data:([^;]+);base64,/.exec(e);if(t)return{contentType:t[1],content:e.substr(t[0].length)}}return null},p.base64EncodeToBase64=function(e,t){var n="data:"+t+";base64,";if(e&&ne.RT.String_.starts_with(e,n))return e.substr(n.length)},p.decodeDataURL=u;var _=void 0,w=void 0;function t(e){if(!e)return e;for(var t,n=new Array,i=!1,r=0,o=0;o<e.length;o++){var a=e.charCodeAt(o);if(i){if(!(56320<=a&&a<=57343))return;n.push(String.fromCharCode((t=void 0,t=(t=15&(r<<2|a>>8&3))<=9?t+48:t+55),h(1,a),h(0,a),59)),i=!1,r=0}else if(String.fromCharCode(a).match(/^([\x20\x21\x23-\x25\x28-\x3B\x3D\x3F-\x7E\xA1-\xAC\xAE-\u036F])$/))n.push(String.fromCharCode(a));else if(34==a)n.push(String.fromCharCode(38,113,117,111,116,59));else if(38==a)n.push(String.fromCharCode(38,97,109,112,59));else if(60==a)n.push(String.fromCharCode(38,108,116,59));else if(62==a)n.push(String.fromCharCode(38,103,116,59));else if(a<16)n.push(String.fromCharCode(38,35,88,h(0,a),59));else if(a<256)n.push(String.fromCharCode(38,35,88,h(1,a),h(0,a),59));else if(a<4096)n.push(String.fromCharCode(38,35,88,h(2,a),h(1,a),h(0,a),59));else if(55296<=a&&a<=56319)15==(a>>6&15)?n.push(String.fromCharCode(38,35,88,49,48,h(0,a>>2))):n.push(String.fromCharCode(38,35,88,h(0,1+(a>>6)),h(0,a>>2))),i=!0,r=3&a;else{if(56320<=a&&a<=57343||65535==a||65534==a)return;n.push(String.fromCharCode(38,35,88,h(3,a),h(2,a),h(1,a),h(0,a),59))}}return i?void 0:n.join("")}function m(e,t){for(var n=0,i=0;e&&e!=t;)n+=e.offsetLeft+e.clientLeft-e.scrollLeft,i+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{x:n,y:i}}p.htmlUnescape=function(e){if(!e)return e;function n(e){return 48<=e&&e<=57}function t(e,t){return 10*e+(t-48)}function i(e){return e%10+48}function r(e){return e/10%10+48}function o(e){return e/100%10+48}function a(e){return e/1e3%10+48}function s(e){return e/1e4%10+48}function c(e){return 48<=e&&e<=57||65<=e&&e<=70}function l(e,t){return e<<4|(n(t)?t-48:t-55)}function u(e){return d(15&e)?48+(15&e):55+(15&e)}function d(e){return 0<=e&&e<=9}function p(e){return d(e>>4&15)?48+(e>>4&15):55+(e>>4&15)}function h(e){return d(e>>8&15)?48+(e>>8&15):55+(e>>8&15)}function m(e){return d(e>>12&15)?48+(e>>12&15):55+(e>>12&15)}_||(_={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ"},w=new RegExp("&("+Object.keys(_).join("|")+");","gim")),e=e.replace(w,function(e,t){return _[t]});for(var f=new Array,g=0,v=0,y=0;y<e.length;y++){var b=e.charCodeAt(y);0==g&&38==b?g=38:0==g?f.push(String.fromCharCode(b)):38==g&&35==b?g=35:38==g&&97==b?g=97:38==g&&113==b?g=113:38==g&&108==b?g=108:38==g&&103==b?g=103:38==g&&38==b?f.push(String.fromCharCode(38)):38==g?(f.push(String.fromCharCode(38,b)),g=0):35==g&&88==b?g=88:35==g&&38==b?(f.push(String.fromCharCode(38,35)),g=38):35==g&&n(b)?(g=1,v=b-48):35==g?(f.push(String.fromCharCode(38,35,b)),g=0):1==g&&n(b)?(g=2,v=t(v,b)):1==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):1==g&&38==b?(f.push(String.fromCharCode(38,35,i(v))),g=38,v=0):1==g?(f.push(String.fromCharCode(38,35,i(v),b)),v=g=0):2==g&&n(b)?(g=3,v=t(v,b)):2==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):2==g&&38==b?(f.push(String.fromCharCode(38,35,r(v),i(v))),g=38,v=0):2==g?(f.push(String.fromCharCode(38,35,r(v),i(v),b)),v=g=0):3==g&&n(b)?(g=4,v=t(v,b)):3==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):3==g&&38==b?(f.push(String.fromCharCode(38,35,o(v),r(v),i(v))),g=38,v=0):3==g?(f.push(String.fromCharCode(38,35,o(v),r(v),i(v),b)),v=g=0):4==g&&n(b)&&t(v,b)<=65535?(g=5,v=t(v,b)):4==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):4==g&&38==b?(f.push(String.fromCharCode(38,35,a(v),o(v),r(v),i(v))),g=38,v=0):4==g?(f.push(String.fromCharCode(38,35,a(v),o(v),r(v),i(v),b)),v=g=0):5==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):5==g&&38==b?(f.push(String.fromCharCode(38,35,s(v),a(v),o(v),r(v),i(v))),g=38,v=0):5==g?(f.push(String.fromCharCode(38,35,s(v),a(v),o(v),r(v),i(v),b)),v=g=0):88==g&&38==b?(f.push(String.fromCharCode(38,35,88)),g=38):88==g&&c(b)?(g=6,v=l(0,b)):88==g?(g=0,f.push(String.fromCharCode(38,35,88,b)),v=0):6==g&&c(b)?(g=7,v=l(v,b)):6==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):6==g&&38==b?(f.push(String.fromCharCode(38,35,88,u(v))),g=38,v=0):6==g?(f.push(String.fromCharCode(38,35,88,u(v),b)),v=g=0):7==g&&c(b)?(g=8,v=l(v,b)):7==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):7==g&&38==b?(f.push(String.fromCharCode(38,35,88,p(v),u(v))),g=38,v=0):7==g?(f.push(String.fromCharCode(38,35,88,p(v),u(v),b)),v=g=0):8==g&&c(b)?(g=9,v=l(v,b)):8==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):8==g&&38==b?(f.push(String.fromCharCode(38,35,88,h(v),p(v),u(v))),g=38,v=0):8==g?(f.push(String.fromCharCode(38,35,88,h(v),p(v),u(v),b)),v=g=0):9==g&&59==b?(f.push(String.fromCharCode(v)),v=g=0):9==g&&38==b?(f.push(String.fromCharCode(38,35,88,m(v),h(v),p(v),u(v))),g=38,v=0):9==g?(f.push(String.fromCharCode(38,35,88,m(v),h(v),p(v),u(v),b)),v=g=0):108==g&&116==b?g=76:108==g&&38==b?(f.push(String.fromCharCode(38,108)),g=38):108==g?(f.push(String.fromCharCode(38,108,b)),g=0):76==g&&59==b?(f.push(String.fromCharCode(60)),g=0):76==g&&38==b?(f.push(String.fromCharCode(38,108,116)),g=38):76==g?(f.push(String.fromCharCode(38,108,116,b)),g=0):103==g&&116==b?g=71:103==g&&38==b?(f.push(String.fromCharCode(38,103)),g=38):103==g?(f.push(String.fromCharCode(38,103,b)),g=0):71==g&&59==b?(f.push(String.fromCharCode(62)),g=0):71==g&&38==b?(f.push(String.fromCharCode(38,103,116)),g=38):71==g?(f.push(String.fromCharCode(38,103,116,b)),g=0):113==g&&117==b?g=117:113==g&&38==b?(f.push(String.fromCharCode(38,113)),g=38):113==g?(f.push(String.fromCharCode(38,113,b)),g=0):117==g&&111==b?g=111:117==g&&38==b?(f.push(String.fromCharCode(38,113,117)),g=38):117==g?(f.push(String.fromCharCode(38,113,117,b)),g=0):111==g&&116==b?g=116:111==g&&38==b?(f.push(String.fromCharCode(38,113,117,111)),g=38):111==g?(f.push(String.fromCharCode(38,113,117,111,b)),g=0):116==g&&59==b?(f.push(String.fromCharCode(34)),g=0):116==g&&38==b?(f.push(String.fromCharCode(38,113,117,111,116)),g=38):116==g?(f.push(String.fromCharCode(38,113,117,111,116,b)),g=0):97==g&&109==b?g=109:97==g&&112==b?g=80:97==g&&38==b?(f.push(String.fromCharCode(38,97)),g=38):97==g?(f.push(String.fromCharCode(38,97,b)),g=0):109==g&&112==b?g=112:109==g&&38==b?(f.push(String.fromCharCode(38,97,109)),g=38):109==g?(f.push(String.fromCharCode(38,97,109,b)),g=0):112==g&&59==b?(f.push(String.fromCharCode(38)),g=0):112==g&&38==b?(f.push(String.fromCharCode(38,97,109,112)),g=38):112==g?(f.push(String.fromCharCode(38,97,109,112,b)),g=0):80==g&&111==b?g=79:80==g&&38==b?(f.push(String.fromCharCode(38,97,112)),g=38):80==g?(f.push(String.fromCharCode(38,97,112,b)),g=0):79==g&&115==b?g=83:79==g&&38==b?(f.push(String.fromCharCode(38,97,112,111)),g=38):79==g?(f.push(String.fromCharCode(38,97,112,111,b)),g=0):83==g&&59==b?(f.push(String.fromCharCode(39)),g=0):83==g&&38==b?(f.push(String.fromCharCode(38,97,112,111,115)),g=38):83==g?(f.push(String.fromCharCode(38,97,112,111,115,b)),g=0):v=g=0}return 0==g||(38==g?f.push(String.fromCharCode(38)):35==g?f.push(String.fromCharCode(38,35)):88==g?f.push(String.fromCharCode(38,35,88)):1==g?f.push(String.fromCharCode(38,35,i(v))):2==g?f.push(String.fromCharCode(38,35,r(v),i(v))):3==g?f.push(String.fromCharCode(38,35,o(v),r(v),i(v))):4==g?f.push(String.fromCharCode(38,35,a(v),o(v),r(v),i(v))):5==g?f.push(String.fromCharCode(38,35,s(v),a(v),o(v),r(v),i(v))):6==g?f.push(String.fromCharCode(38,35,88,u(v))):7==g?f.push(String.fromCharCode(38,35,88,p(v),u(v))):8==g?f.push(String.fromCharCode(38,35,88,h(v),p(v),u(v))):9==g?f.push(String.fromCharCode(38,35,88,m(v),h(v),p(v),u(v))):108==g?f.push(String.fromCharCode(38,108)):76==g?f.push(String.fromCharCode(38,108,116)):103==g?f.push(String.fromCharCode(38,103)):71==g?f.push(String.fromCharCode(38,103,116)):113==g?f.push(String.fromCharCode(38,113)):117==g?f.push(String.fromCharCode(38,113,117)):111==g?f.push(String.fromCharCode(38,113,117,111)):116==g?f.push(String.fromCharCode(38,113,117,111,116)):97==g?f.push(String.fromCharCode(38,97)):109==g?f.push(String.fromCharCode(38,97,109)):112==g?f.push(String.fromCharCode(38,97,109,112)):80==g?f.push(String.fromCharCode(38,97,112)):79==g?f.push(String.fromCharCode(38,97,112,111)):83==g&&f.push(String.fromCharCode(38,97,112,111,115))),f.join("")},p.htmlEscape=t,p.formatText=function(e){return t(e).replace(/&#XA;/g,"<br/>\n").replace(/ /g,"&#x2005;")},p.selectOnFocusTextArea=function(e){e.onfocus=function(){e.select()},e.onmouseup=function(){return!1}},p.selectOnFocus=function(e){e.onfocus=function(){e.select()},e.onmouseup=function(){return!1}},p.setKeyboardFocusTextArea=function(e,t){void 0===t&&(t=!1),e.focus();try{e.setSelectionRange(t?0:e.value.length,e.value.length)}catch(e){}},p.setKeyboardFocus=function(e,t){if(void 0===t&&(t=!1),e.focus(),"text"===e.type||"number"===e.type)try{e.setSelectionRange(t?0:e.value.length,e.value.length)}catch(e){}},p.hideKeyboard=function(){var e=document.activeElement;e&&e.blur&&(ne.Browser.isAndroid?(e.readonly="readonly",e.disabled="true",p.setTimeout(10,function(){e.blur(),e.removeAttribute("readonly"),e.removeAttribute("disabled")})):e.blur())},p.offsetIn=m,p.children=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=[];return e.forEach(function(e){for(var t=e.children,n=0;n<t.length;++n)i.push(t[n])}),i},p.childNodes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=[];return e.forEach(function(e){for(var t=e.childNodes,n=0;n<t.length;++n)i.push(t[n])}),i};var f="",g="";p.setTransform=function(e,t,n,i){void 0===n&&(n=void 0),void 0===i&&(i=void 0);var r=e.style;f||(void 0!==r.transform?f="transform":["Webkit","ms","Moz","O"].forEach(function(e){var t=e+"Transform";f||void 0===r[t]||(f=t,g=e+"Perspective")}),f||(f="transform",g="perspective")),void 0!==n&&(r[f+"Origin"]=n),void 0!==i&&(r[g]=i),r[f]=t},p.id=function(e){return e},p.doNothing=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t]};var v=[];p.logSz=200;var y=-1;function b(){return Date.now()}p.timeSeries=function(e,t){void 0===t&&(t=10);for(var r=[],o=function(e){var t=0;return e.forEach(function(e){return t+=e}),Math.round(t/e.length*100)/100},n=function(e){void 0===e&&(e=""),r.sort(function(e,t){return e-t});var t=r.slice(0,Math.round(.7*r.length)),n=0;t.forEach(function(e){return n+=e});var i=0;r.forEach(function(e){return i+=e}),p.log("iter {0}; {2}ms (with drop {1}; otherwise {3}ms) [{5}] {4}",r.length,r.length-t.length,o(t),o(r),e,r.map(function(e){return Math.round(e)}).join(", "))},i=0,a=0;a<t;++a){var s=p.perfNow();e();var c=p.perfNow()-s;i+=c,r.push(c),1e3<i&&(n(),i=0)}n("done")},p.time=function(e,t,n){if(void 0===n&&(n=!1),n)t();else{var i=ne.RT.Perf.start(e);t(),ne.RT.Perf.stop(i)}},p.now=b,p.startupTime=b(),p.perfNow,p.externalLog=null,p.remoteLogEndpoint="";var k=null,x=!1;function C(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=D(e,t),r=b(),o=D("{0:f04.3}: {1}",[(b()-p.startupTime)/1e3,i]),a={timestamp:r,level:/^log:/.test(e)?6:/^crash/i.test(e)?3:7,category:"tdlog",msg:i};if(0<=y?(v[y++]=a,y>=p.logSz&&(y=0)):(v.push(a),v.length>=p.logSz&&(y=0)),/^(DBG|TICK): /.test(e)||ne.Ticker.tick(454,i.slice(0,200)),ne.Browser.cscript||ne.Browser.useConsoleLog&&(ne.isWebWorker?console.log("WORK-TD-LOG: "+o):console.log("TD-LOG: "+o)),ne.Browser.logToHost&&p.externalNotify("LOG: "+o),function(e){if(p.remoteLogEndpoint){if(!x){x=!0;var t=new WebSocket(p.remoteLogEndpoint);t.onopen=function(){console.log("Remote log connection opened"),k=t,S().forEach(function(e){return t.send(e.elapsed+": "+e.msg)})},t.onclose=function(){console.log("Remote log connection closed"),k=null},t.onerror=function(){console.log("Remote log connection error"),k=null}}k&&k.send(e)}}(o),p.externalLog&&p.externalLog(o),!ne.Browser.loadingDone&&/debugMsg/.test(document.URL)){var s=ne.elt("statusMsg");s&&ne.Browser.setInnerHTML(s,p.formatText(o)+"</br>"+s.innerHTML)}}function S(){var e=y,t=[],n=!1;e<0&&(e=0);for(var i=b();e<v.length;){var r=p.clone(v[e]);if(r.elapsed=p.elapsed(r.timestamp,i),t.push(r),++e!=v.length||n||(n=!0,e=0),n&&y<=e)break}return t}function A(){return ne.Browser.isWebkit?"webkitAnimation":ne.Browser.isGecko?"MozAnimation":"animation"}function T(e,t,n,i){void 0===i&&(i=void 0);var r=function(){n.removeSelf()};if(ne.Browser.noAnimations)return/^fadeOut/.test(e)&&(n.style.opacity="0",i||(i=r)),void(i&&p.setTimeout(300,function(){return i()}));var o=ne.Browser.isWebkit?"webkitAnimationEnd":"animationend",a=A(),s=n.style.opacity,c=!1,l=p.catchErrors("animationEnd "+e,function(){c||(c=!0,window.clearTimeout(u),n.removeEventListener(o,l),n.style[a]="",n.style.opacity=s,i&&i())}),u=p.setTimeout(t+300,l);return n.addEventListener(o,l),/^fadeOut/.test(e)&&(n.style.opacity="0",i||(i=r)),n.style[a]=e+" "+t+"ms",n}p.log=C,p.dbglog=C,p.elapsed=function(e,t){return("00000000"+(t-e)).slice(-7).replace(/(\d\d\d)$/,function(e){return"."+e})},p.getLogMsgs=S,p.externalNotify=function(e){var t=window;t&&t.external&&"notify"in t.external&&t.external.notify(e)},p.showLog=function(e){p.log("show log");var t=S().map(function(e){return"<div class='logMsg'>"+p.formatText(e.msg)+"</div>\n"});t.reverse(),ne.Browser.setInnerHTML(e,t.join(""))},p.jsonEq=function e(t,n){switch(typeof t){case"string":case"number":case"boolean":return t===n}if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t)){if(Array.isArray(n)){if(t.length!=n.length)return!1;for(var i=0;i<t.length;++i)if(!e(t[i],n[i]))return!1;return!0}return!1}for(var r in n)if(n.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;for(var r in t)if(t.hasOwnProperty(r)){if(!n.hasOwnProperty(r))return!1;if(!e(t[r],n[r]))return!1}return!0},p.range=function(e,t){for(var n=[],i=0;i<t;++i)n.push(i+e);return n},p.iterHtml=function e(t,n){if(t instanceof HTMLElement&&!n(t))for(var i=0;i<t.childNodes.length;++i)e(t.childNodes[i],n)},p.highlightWords=function e(t,n,i){if(void 0===i&&(i=!1),t instanceof Text){for(var r=t.data,o=r.toLowerCase(),a=[],s=0,c=0;c<o.length;++c)for(var l=0;l<n.length;++l)if(0!=n[l].length&&o.slice(c,c+n[l].length)==n[l]){var u=document.createTextNode(r.slice(s,c)),d=ne.span("highlight",r.slice(c,c+n[l].length));a.push(u),a.push(d),s=c+=n[l].length,c--;break}if(0==s)return;a.push(document.createTextNode(r.slice(s,r.length)));var p=t.parentNode;i&&!p.originalCache&&(p.originalCache=p.innerHTML),t.parentNode.replaceChild(ne.span(null,a),t)}else if(t instanceof HTMLElement){var h=t;for(i&&h.originalCache&&(h.innerHTML=h.originalCache),c=0;c<t.childNodes.length;++c)e(t.childNodes[c],n)}},p.animationProperty=A,p.cancelAnim=function(e){e.style[A()]=""},p.coreAnim=T,p.delayButton=function(e,t,n){return void 0===t&&(t=3e3),void 0===n&&(n=!1),e.style.opacity="0",e.style.visibility="hidden",p.setTimeout(t,function(){e.style.visibility="",p.fadeIn(e,function(){e.style.opacity="1",n&&p.setTimeout(2e3,function(){return p.coreAnim("blinkLocation",4e3,e)})})}),e},p.animAsync=function(i,r,o){return new ne.Promise(function(e,t,n){T(i,r,o,function(){return e(null)})})};var L=" cubic-bezier(0.1, 0.9, 0.2, 1)";function M(){return this.stopPropagation(),this.preventDefault(),!1}function E(e){switch(e){case 13:return"Enter";case 33:return"PageUp";case 34:return"PageDown";case 35:return"End";case 36:return"Home";case 37:return"Left";case 38:return"Up";case 39:return"Right";case 40:return"Down";case 45:return"Insert";case 46:return"Del";case 8:return"Backspace";case 17:return"Control";default:return null}}function N(e,t,n){return t<e&&(t=e),n<t&&(t=n),t}function D(e,u){return 0==u.length?e:e.replace(/\{([0-9]+)(\:[^\}]+)?\}/g,function(e,t,n){var i=u[parseInt(t)],r="",o=/^:f(\d*)\.(\d+)/.exec(n);if(o){var a=parseInt(o[2]),s=parseInt(o[1])||0,c=/^0/.test(o[1])?"0":" ",l=i.toFixed(a);if(0<s&&0<a&&(s+=a+1),0<s)for(;l.length<s;)l=c+l;r=l}else r=":x"==n?"0x"+i.toString(16):void 0===i?"(undef)":null===i?"(null)":i.toString?i.toString():i+"";return":a"==n?/^\s*[euioah]/.test(r.toLowerCase())?r="an "+r:/^\s*[bcdfgjklmnpqrstvwxz]/.test(r.toLowerCase())&&(r="a "+r):":s"==n?r=1==i?"":"s":":q"==n?r=p.htmlEscape(r):":jq"==n?r=p.jsStringQuote(r):":uri"==n?r=encodeURIComponent(r).replace(/'/g,"%27").replace(/"/g,"%22"):":url"==n?r=encodeURI(r).replace(/'/g,"%27").replace(/"/g,"%22"):":%"==n&&(r=(100*i).toFixed(1).toString()+"%"),r})}function I(e,t){void 0===t&&(t=!1);try{var n=p.flatClone(e);n.eventTrace="",p.log(ne.Ticker.bugReportToString(n))}catch(e){}ne.Cloud.postBugReportAsync(e).done(function(){},function(e){})}p.showPopup=function(e,t){return void 0===t&&(t=void 0),T("showPopup"+L,300,e,t)},p.hidePopup=function(e,t){return void 0===t&&(t=void 0),T("fadeOut",100,e,t)},p.fadeIn=function(e,t){return void 0===t&&(t=void 0),T("fadeIn",150,e,t)},p.fadeOut=function(e,t){return void 0===t&&(t=void 0),T("fadeOut",150,e,t)},p.showLeftPanel=function(e,t){return void 0===t&&(t=void 0),T("showLeftPanel"+L,250,e,t)},p.showRightPanel=function(e,t){return void 0===t&&(t=void 0),T("showRightPanel"+L,250,e,t)},p.showBottomPanel=function(e,t){return void 0===t&&(t=void 0),T("showBottomPanel"+L,150,e,t)},p.normalizeKeyEvent=function(e){var t=e.key;switch(e.keyIdentifier&&(t=e.keyIdentifier),e.keyCode){case 27:t="Esc";break;case 9:t="Tab";break;case 32:t="Space";break;default:if(ne.Browser.isGecko&&E(e.keyCode))t=E(e.keyCode);else{var n=String.fromCharCode(e.keyCode);/^[A-Z0-9]$/.test(n)&&(t=n)}}switch(t){case"U+007F":e.charCode||(t="Del");break;case"U+0008":t="Backspace";break;case"U+0020":t="Space";break;case"Insert":t="Ins";break;case"PageDown":t="PgDn";break;case"PageUp":t="PgUp"}e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.shiftKey&&(t="Shift-"+t),e.keyName=t;var i=e.srcElement;i||(i=e.originalTarget);try{var r=i?i.type:"";e.fromTextBox=e.fromTextBox||"text"==r||"textarea"==r||"wall-textbox"==i.className,e.fromTextArea=e.fromTextArea||"textarea"==r}catch(e){}i&&e.fromTextBox&&ne.LayoutMgr.instance.FlagTypingActivity(i.getAttribute("id")),e.stopIt=M},p.keyEventString=function(e,t){if(void 0===t&&(t=""),!e.fromTextBox){var n=String.fromCharCode(e.charCode);if(/^[A-Za-z0-9]$/.test(n)||0<=t.indexOf(n))return n}return""},p.onInputChange=function(e,t){var n=e.value;e.addEventListener("input",function(){e.value!=n&&(n=e.value,t(n))})},p.boundTo=N,p.between=function(e,t,n){return N(e,t,n)},p.intBetween=function(e,t,n){return Math.round(N(e,t,n))},p.fmt_va=D,p.fmt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return D(e,t)},p.ensureVisible=function(e,t,n){if(void 0===t&&(t=void 0),void 0===n&&(n=void 0),!t){if(!(t=e.parentNode))return;for(;!t.scrollEnabled;)if(!(t=t.parentNode))return}n||(n=5),n<1&&(n=t.clientHeight*n);var i=m(e,t),r=i.y,o=i.y+e.offsetHeight,a=t.scrollTop;a<o-t.clientHeight+n&&(a=o-t.clientHeight+n),r-n<a&&(a=r-n),t.scrollTop=a,ne.Browser.isMobileSafari&&p.setTimeout(500,function(){t.scrollTop=a})},p.flatClone=function(t){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n},p.sendErrorReport=I;var P={};function R(t,n){return t&&(n(t)||"object"==typeof t&&Object.keys(t).some(function(e){return t[e]&&n(t[e])}))}function q(t){var n=void 0;return t&&(t.constructor&&null!=t.code?n=t.constructor.name+" code "+t.code+": "+t.message:t.name?n=t.name:"object"==typeof t&&Object.keys(t).forEach(function(e){null==n&&(n=q(t[e]))}),t.databaseOrigin&&(n+="; origin: "+t.databaseOrigin)),n}function j(e,t,n){if(void 0===n&&(n=!0),!ne.Runtime.handleUserError(t)){var i=ne.Ticker.mkBugReport(t,e),r=n,o=window.localStorage.lastBugReload;if(o&&b()-o<3e4&&(r=!1),b()-p.startupTime<3e4&&(r=!1),ne.dbg&&(r=!1),R(t,function(e){return e.isNetworkError})){if(r=!1,!t||424!==t.status)return void ne.HTML.showProgressNotification(oe("we're having network problems..."));ne.HTML.showProgressNotification(oe("we're having problems, try again later..."))}var a=ne.Ticker.bugReportForHash(i),s=P[a];if(s&&b()-s<3e5||(I(i,r),30<Object.keys(P).length&&(P={}),P[a]=b()),R(t,function(e){return e.isDatabaseError}))if(!r)return void p.navigateInWindow(window.errorUrl+"#storage,"+encodeURIComponent(q(t)));if(!r||ne.Storage.showTemporaryWarning())try{if(n||ne.dbg){var c=p.formatText(ne.dbg?i.exceptionMessage:"Something went wrong; please reload the webpage."),l=ne.div("errorNotification");ne.Browser.setInnerHTML(l,c),ne.elt("root").appendChild(l),p.setTimeout(5e3,function(){l.removeSelf()})}}catch(e){}else{try{ne.ProgressOverlay.show(oe("Whoops! Something went wrong.")),ne.ProgressOverlay.setProgress(""),ne.ProgressOverlay.setAddInfo([ne.div(null,oe("We're reloading the page.")),ne.div("item-subtle",oe("Technical information: {0}",i.exceptionMessage||"None"))])}catch(e){}p.setTimeout(3e3,function(){window.location.reload()})}}}p.sendPendingBugReports=function(){var e=window.localStorage.storedBug;if(e){window.localStorage.removeItem("storedBug");try{I(JSON.parse(e))}catch(e){}}},p.navigatingAway=!1,p.navigateInWindow=function(e){window.location.href=e,p.navigatingAway=!0},p.navigateNewWindow=function(e){ne.RT.Web.browseAsync(e).done()},p.isError=R,p.getErrorInfo=q,p.reportError=j,p.catchErrors=function(t,e){return function(){p.eventLogging&&p.log("catching errors in "+t);try{return e.apply(this,arguments)}catch(e){return void(ne.Browser.isHeadless?ne.Promise.errorHandler(t,e):j(t,e))}}},p.setTimeout=function(t,n){return 0==t&&s?(i=n,s.push(function(){p.eventLogging&&p.log("executing zero timeout "+i.toString());try{i()}catch(e){p.reportError("zero-timeout-"+i.toString(),e)}}),window.postMessage(c,"*"),-1):window.setTimeout(function(){p.eventLogging&&p.log("executing timeout "+t+" / "+n.toString());try{n()}catch(e){p.reportError("timeout-"+t+"-"+n.toString(),e)}},t);var i};var B,z=16777619,O=-2128831035;function U(e){var t="";if(!e)return t;for(var n=0;n<e.length;++n){var i=e.charCodeAt(n);t+=String.fromCharCode(255&i),t+=String.fromCharCode(i>>8&255)}return t}function F(e,t){return((65535&e)*(t>>>16)+(65535&t)*(e>>>16)<<16)+(65535&e)*(65535&t)}function H(e){var t=O;if(e)for(var n=0;n<e.length;++n)t=F(t,z)^e.charCodeAt(n);return t}function G(e){return e.replace(/([^a-zA-Z0-9])([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/[^a-zA-Z0-9]/g,"")}function V(e){return e.replace(/[^A-Z0-9a-z .!?_\-$]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substr(0,4-t.length)+t})}function K(e,t){return e==t?0:e<t?-1:1}function J(e){return JSON.parse(JSON.stringify(e))}function W(e,t){return Array(t+1).join(e)}p.toUTF16LE=U,p.fromUTF8Bytes=function(e){if(!e)return"";for(var t="",n=0;n<e.length;++n){var i=255&e[n];t+=37==i||127<i?"%"+i.toString(16):String.fromCharCode(i)}return decodeURIComponent(t)},p.fromUTF8=function(e){if(!e)return"";for(var t="",n=0;n<e.length;++n){var i=255&e.charCodeAt(n);t+=37==i||127<i?"%"+i.toString(16):e.charAt(n)}return decodeURIComponent(t)},p.toUTF8=function(e){var t="";if(!e)return t;for(var n=0;n<e.length;++n){var i=e.charCodeAt(n);if(i<=127)t+=e.charAt(n);else if(i<=2047)t+=String.fromCharCode(192|i>>6,128|63&i);else{if(55296<=i&&i<=56319){var r=e.charCodeAt(++n);isNaN(r)||(i=65536+(i-55296<<10)+(r-56320))}t+=i<=65535?String.fromCharCode(224|i>>12,128|i>>6&63,128|63&i):String.fromCharCode(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}}return t},p.intMult=F,p.getStableHashCodeBytes=H,p.getStableHashCode=function(e){return H(U(e))},p.isntNull=function(e){return null!=e},p.capitalizeFirst=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},p.tagify=G,p.toHashTag=function(e){return"#"+G(e)},p.getHashTags=function(e){var n=[];return e.replace(/#(\w+)/g,function(e,t){return n.push(t),""}),n},p.jsStringQuote=V,p.jsStringLiteral=function(e){return'"'+V(e)+'"'},p.canvasToBlob=function(e,t){if(void 0===t&&(t=null),e.mozGetAsFile)return e.mozGetAsFile(t||"img.png","image/png");if(e.msToBlob)return e.msToBlob();var n=u(e.toDataURL("image/png"),"image/png");try{return new Blob([n],{type:"image/png"})}catch(e){return null}},p.stringCompare=K,p.nameCompare=function(e,t){return K(e.getName(),t.getName())},p.jsonClone=J,p.jsonCopyFrom=function(t,e){var n=J(e);Object.keys(e).forEach(function(e){t[e]=n[e]})},p.clone=function(e){var t=new e.constructor;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},p.chopArray=function(e,t){for(var n=[],i=0;i<e.length;i+=t)n.push(e.slice(i,i+t));return n},p.unique=function(e,n){var i=[],r={};return e.forEach(function(e){var t=n(e);r.hasOwnProperty(t)||(r[t]=null,i.push(e))}),i},p.groupBy=function(e,n){var i={};return e.forEach(function(e){var t=n(e);i.hasOwnProperty(t)||(i[t]=[]),i[t].push(e)}),i},p.toDictionary=function(e,t){var n={};return e.forEach(function(e){n[t(e)]=e}),n},p.toArray=function(e){for(var t=[],n=0;n<e.length;++n)t.push(e[n]);return t},p.indexOfMatching=function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},p.memoize=function(t){var n={};return function(e){return n.hasOwnProperty(e)?n[e]:n[e]=t(e)}},p.memoizeHashed=function(n,i){var r={};return function(e){var t=n(e);return r.hasOwnProperty(t)?r[t]:r[t]=i(e)}},p.even=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n]);return t},p.odd=function(e){for(var t=[],n=1;n<e.length;n+=2)t.push(e[n]);return t},p.repeatString=W,p.numberToStringNoE=function(e){var t=e.toString(),n=/^([+\-])?(\d)(\.(\d*))?[eE]([+\-])?(\d+)$/.exec(t);if(!n)return t;var i=n[1]||"",r=n[2],o=n[4]||"",a=n[5],s=parseInt(n[6]);if("-"==a)return i+"0."+W("0",s-1)+r+o;var c=s-o.length;return c<0?i+r+o.slice(0,s)+"."+o.slice(c):i+r+o+W("0",c)},p.msSubtract=function(i,r){var o={};return Object.keys(i).forEach(function(e){var t=0;r.hasOwnProperty(e)&&(t=r[e]);var n=i[e]-t;0<n&&(o[e]=n)}),o},p.msAdd=function(n,i){var r={};return Object.keys(n).forEach(function(e){var t=0;i.hasOwnProperty(e)&&(t=i[e]),r[e]=n[e]+t}),Object.keys(i).forEach(function(e){n.hasOwnProperty(e)||(r[e]=i[e])}),r},p.setAdd=function(e,t){var n={};return Object.keys(e).forEach(function(e){return n[e]=!0}),Object.keys(t).forEach(function(e){return n[e]=!0}),n},p.setAddTo=function(t,e){Object.keys(e).forEach(function(e){return t[e]=!0})},p.setIntersect=function(e,t){var n={};return Object.keys(e).forEach(function(e){t.hasOwnProperty(e)&&(n[e]=!0)}),n},p.onSetHash,p.onGoBack,p.setHash=function(e,t){void 0===t&&(t=!1),p.log("navigate "+e),e=e.replace(/^#/,""),p.setTimeout(1,function(){return p.onSetHash(e,t)})},p.goBack=function(){p.onGoBack()},p.toFileName=function(e,t){var n=(e=e||"").replace(/[^\w]+/g," ").trim().replace(/ /g,"-")||t;return/^\w/.test(n)||(n="_"+n),n},p.mkAbsoluteUrl=function(e){return ne.Ticker.mainJsName.replace(/main.js$/,"")+e},p.localStore=function(e,t){t?window.localStorage.setItem(e,t):window.localStorage.removeItem(e)},p.translationDebug=!1,p.translations={},p.enableTranslationTracking=function(e){void 0===e&&(e=!1),B={},e&&($=!0,p.localTranslationTracking=!0)};var $=!(p.dumpTranslationFreqs=function(){var e=Object.keys(B);e.sort(function(e,t){return B[t]-B[e]});var t=0,n="";return e.forEach(function(e){t+=e.split(/\s+/).filter(function(e){return!!e}).length,n+=JSON.stringify(e).slice(1).replace(/"$/,"")+"\n"}),n="# words: "+t+", texts: "+e.length+"\n"+n}),Y=!1;p.translationToken="",p.localTranslationTracking=!1,p._localize=function(e,t){return B&&t&&(B[e]=(B[e]||0)+1,$||Y||function t(){$=!0,p.setTimeout(1e4,function(){Y=!($=!1);var e=B;B={},p.httpPostRealJsonAsync("https://touchdeveloptranslator.azurewebsites.net/api/Svc/submit",{freqs:e,lang:X(),token:p.translationToken}).done(function(e){Y=!1,0<Object.keys(B).length&&!$&&t()},function(e){})})}()),p.translations.hasOwnProperty(e)?p.translations[e]:e},p._languageData;var Z=null;function Q(e){return void 0!==e?(e?window.localStorage.removeItem("skipTranslatedText"):window.localStorage.setItem("skipTranslatedText","1"),!e):!window.localStorage.getItem("skipTranslatedText")}function X(){return Z}function ee(){return window.localStorage.getItem("userLocale")||""}function te(e){var t=/^([a-z]{2,})(-([a-z]{2,}))$/i.exec(e);t&&(e=t[1].toLowerCase(),t[2]&&(e+="-"+t[3].toUpperCase()));var n=e.slice(0,2);"zh"==n&&(e="zh-TW"==e||"zh-HK"==e?"zh-CHT":"zh-CHS"),ne.Cloud.config.primaryLocale.slice(0,2)==e&&(e=ne.Cloud.config.primaryLocale),p.sForPlural="en"==n||"es"==n||"pt"==n||"de"==n||"fr"==n,p.translations={},Z=n,p._languageData&&(p._languageData(e)?Z=e:p._languageData(n))}p.seeTranslatedText=Q,p.getTranslationLanguage=X,p.sForPlural=!0,p.loadUserLanguageSetting=function(){var e=ee();return!!e&&(te(e),!0)},p.getUserLanguageSetting=ee,p.setUserLanguageSetting=function(e,t){void 0===t&&(t=!1);var n=e||"";ee()!=n&&(window.localStorage.setItem("userLocale",n),Q(!0),t&&!ne.Storage.temporary&&p.setTimeout(500,function(){return window.location.reload()}))},p.setTranslationLanguage=te,p.setTranslationTable=function(e){p.translations=e},p._setLanguageArray=function(n,e){p.translations={},e.forEach(function(e,t){e&&(p.translations[n[t]]=e)})}}(r=ne.Util||(ne.Util={}));function re(e,t){return r.translationDebug?r._localize(e,t).toUpperCase():r._localize(e,t)}function i(e,t){var n=r._localize(e,!0);return!r.sForPlural&&n!=e&&/\d:s\}/.test(n)&&(n=n.replace(/\{\d+:s\}/g,"")),r.translationDebug?r.fmt_va(n,t).toUpperCase():r.fmt_va(n,t)}function oe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i(e,t)}ne.lf_static=re,ne.lf_va=i,ne.lf=oe;var e=function(){function e(){this.waiting=[],this.acquired=!1}return e.prototype.acquire=function(e){this.acquired?this.waiting.push(e):(this.acquired=!0,e())},e.prototype.release=function(){(r.assert(this.acquired),0<this.waiting.length)?this.waiting.shift()():this.acquired=!1},e}();ne.Lock=e;var t=function(){function e(e,t){this.interval=e,this.callback=t,this.tick=0}return e.prototype.restart=function(){var e=this;this.tick++;var t=this.tick;r.setTimeout(this.interval,function(){t==e.tick&&e.callback()})},e}();ne.RefreshTimer=t;var n=function(){function i(e,t){this.read=e,this.update=t,this.version=0,this.lastValue=null,this.updateValue=null,this.delay=ne.Browser.isDesktop?300:ne.Browser.isCellphone?800:500}return i.createInput=function(e,t){var n=i.mkInput(ne.HTML.mkTextInput("text",e),t);return n.attach(),n},i.mkInput=function(e,t){var n=new i(function(){return e.value},t);return n.element=e,n},i.mkTextArea=function(e,t){var n=new i(function(){return e.value},t);return n.element=e,n},i.prototype.attach=function(){var e=this;r.onInputChange(this.element,function(){return e.keypress()})},i.prototype.keypress=function(){var e=this,t=this.read();if(t!=this.lastValue){var n=++this.version;this.lastValue=t,this.update&&(this.delay<=0?this.update(t):r.setTimeout(this.delay,function(){n==e.version&&e.update&&t==e.read()&&e.update(t)}))}},i.prototype.resultsCurrent=function(e){return this.read()==e},i}();ne.KeyboardAutoUpdate=n;var o=function(){function t(){this.m_pos=0,this.m_line=1,this.m_col=1,this.space=" ".charCodeAt(0),this.comma=",".charCodeAt(0),this.semiColumn=";".charCodeAt(0),this.doubleQuote='"'.charCodeAt(0),this.cr="\r".charCodeAt(0),this.lf="\n".charCodeAt(0),this.tab="\t".charCodeAt(0),this.dot=".".charCodeAt(0),this.backwack="\\".charCodeAt(0)}return t.prototype.parse=function(e,t){if(!e)return null;this.m_text=e,this.m_errors=[],this.file={headers:[],records:[]},this.m_pos=0,this.m_line=1,this.m_col=1,this.m_separator=t?t.charCodeAt(0):0;try{return this.parseHeader()?(this.atEnd()||this.parseRecords(),this.file):null}catch(e){return null}},t.prototype.atEnd=function(){return this.m_text.length==this.m_pos},t.prototype.peek=function(){return this.atEnd()?-1:this.m_text.charCodeAt(this.m_pos)},t.prototype.read=function(){if(this.atEnd())throw this.fail("end of file."),new Error;return this.m_text.charCodeAt(this.m_pos)===this.lf&&(this.m_line++,this.m_col=1),this.m_text.charCodeAt(this.m_pos++)},t.prototype.expected=function(e){this.fail("expecting: "+e)},t.prototype.fail=function(e){this.m_errors.push({line:this.m_line,column:this.m_col,message:e})},t.prototype.parseHeader=function(){var e=this.parseField();if(null==e)return!1;for(this.file.headers.push(e),this.inferSeparator();this.peek()===this.m_separator;){if(!this.parseSeparator())return!1;var t=this.parseField();if(null==t)return!1;this.file.headers.push(t)}return this.parseCRLF()},t.prototype.inferSeparator=function(){if(0==this.m_separator&&!this.atEnd()){var e=this.peek();e!=this.comma&&e!=this.semiColumn&&e!=this.tab||(this.m_separator=e)}},t.prototype.parseSeparator=function(){return this.read()!=this.m_separator?(this.expected(String.fromCharCode(this.m_separator)),!1):(this.eatWhitespace(),!0)},t.prototype.eatWhitespace=function(){for(;!this.atEnd()&&this.peek()==this.space;)this.read()},t.prototype.parseCRLF=function(){return this.eatWhitespace(),this.eatCR(),this.parseLF()},t.prototype.parseLF=function(){return this.read()==this.lf||(this.expected("<LF>"),!1)},t.prototype.eatCR=function(){this.atEnd()||this.peek()!=this.cr||this.read()},t.prototype.parseRecords=function(){if(!this.parseRecord())return!1;for(;!this.atEnd();){if(!this.parseCRLF())return!1;if(this.atEnd())break;if(!this.parseRecord())return!1}return!0},t.prototype.parseRecord=function(){var e=[],t=this.parseField();if(null==t)return!1;for(e.push(t),this.inferSeparator();!this.atEnd()&&this.peek()===this.m_separator;){if(!this.parseSeparator())return!1;var n=this.parseField();if(null==n)return!1;e.push(n)}return this.file.records.push(e),!0},t.prototype.parseField=function(){return this.peek()==this.doubleQuote?this.parseEscaped():this.parseNonescaped()},t.prototype.parseNonescaped=function(){for(var e=[];!this.atEnd()&&!this.isSeparatorOrCRLF(this.peek());)e.push(String.fromCharCode(this.read()));return e.join("")},t.prototype.isSeparatorOrCRLF=function(e){return e===this.m_separator||e===this.cr||e===this.lf},t.isTextData=function(e){return 32==e||33==e||35<=e&&e<=43||45<=e&&e<=126},t.isEscaped=function(e){return t.isTextData(e)||44==e||13==e||10==e},t.prototype.parseEscaped=function(){var e=[];if(!this.parseDoubleQuote())return null;for(;!this.atEnd();){var t=this.read();if(t==this.doubleQuote){if(this.peek()!=this.doubleQuote)break;e.push(String.fromCharCode(this.read()))}else t==this.backwack?this.peek()==this.doubleQuote&&e.push(String.fromCharCode(this.read())):e.push(String.fromCharCode(t))}return e.join("")},t.prototype.parseDoubleQuote=function(){return this.eatWhitespace(),this.read()==this.doubleQuote||(this.expected("<DoubleQuote>"),!1)},t}();ne.CsvParser=o;var a=function(){function e(){this._list=[]}return e.prototype.add=function(e){this.contains(e)||this._list.push(e)},e.prototype.contains=function(e){return 0<=this._list.indexOf(e)},e.prototype.elts=function(){return this._list},e.prototype.length=function(){return this._list.length},e}();ne.Set=a;var s=function(){function e(e,t,n){this.equal=e,this.l1=t,this.l2=n,this.table=[];for(var i=-1;i<t.length;++i)this.table[i]=[]}return e.prototype.lcs_m=function(e,t){if(void 0!==this.table[e][t])return this.table[e][t];var n=this.lcs_i(e,t);return this.table[e][t]=n},e.prototype.lcs_i=function(e,t){var n=this.l1[e],i=this.l2[t];if(-1==e||-1==t)return[];if(this.equal(n,i))return this.lcs_m(e-1,t-1).concat([n]);var r=0<e?this.lcs_m(e-1,t):[],o=0<t?this.lcs_m(e,t-1):[];return r.length>o.length?r:o},e.prototype.lcs=function(){return this.lcs_i(this.l1.length-1,this.l2.length-1)},e}();ne.Lcs=s}(TDev||(TDev={})),function(w){!function(r){var f=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function g(e,t){return e>>>t|e<<32-t}function p(e,t){w.Util.assert(8==e.length),w.Util.assert(64==t.length);for(var n=16;n<64;++n){var i=g(t[n-15],7)^g(t[n-15],18)^t[n-15]>>>3,r=g(t[n-2],17)^g(t[n-2],19)^t[n-2]>>>10;t[n]=t[n-16]+i+t[n-7]+r|0}var o=e[0],a=e[1],s=e[2],c=e[3],l=e[4],u=e[5],d=e[6],p=e[7];for(n=0;n<64;++n){var h=p+(r=g(l,6)^g(l,11)^g(l,25))+(l&u^~l&d)+f[n]+t[n]|0,m=o&a^o&s^a&s;p=d,d=u,u=l,l=c+h|0,c=s,s=a,o=h+((i=g(a=o,2)^g(o,13)^g(o,22))+m|0)|0}e[0]+=o,e[1]+=a,e[2]+=s,e[3]+=c,e[4]+=l,e[5]+=u,e[6]+=d,e[7]+=p}function t(e){var o=new Uint32Array(8);o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225;var a=new Uint32Array(64),s=64;function t(e){for(var t=e.length-(s-1),n=0;n<t;n+=s){for(var i=0;i<16;i++){var r=(i<<2)+n;a[i]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]}p(o,a)}}t(e);var n=64-(e.length+9)%64;64==n&&(n=0);for(var i=e.length-e.length%s,r=new Uint8Array(e.length-i+1+n+8),c=0;i<e.length;)r[c++]=e[i++];for(r[c++]=128;0<n--;)r[c++]=0;var l=8*e.length;for(c=r.length;0<l;)r[--c]=255&l,l>>=8;t(r);for(var u="",d=0;d<o.length;++d)u+=("000000000"+o[d].toString(16)).slice(-8);return u.toLowerCase()}r.sha256buffer=t,r.sha256string=function(e){return t(w.Util.stringToUint8Array(w.Util.toUTF8(e)))};var o,a=function(){function r(){this.rc4_i=0,this.rc4_j=0,this.rc4_buf=new Uint8Array(256);for(var e=0;e<256;++e)this.rc4_buf[e]=e}return r.prototype.getBytes=function(e){for(var t=this.rc4_i,n=this.rc4_j,i=this.rc4_buf,r=0;r<e.length;++r){n=n+i[t=t+1&255]&255;var o=i[t],a=i[n];i[t]=a,i[n]=o,e[r]=i[o+a&255]}this.rc4_i=t,this.rc4_j=n},r.prototype.addEntropy=function(e){for(var t=this.rc4_buf,n=0,i=0;i<256;++i){n=n+t[i]+e[i%e.length]&255;var r=t[i];t[i]=t[n],t[n]=r}d(new Uint8Array(4096))},r.prototype.uniqueId=function(e){void 0===e&&(e=24);var t=new Uint8Array(e);this.getBytes(t);for(var n="",i=0;i<t.length;++i)n+=r.idChars.charAt(63&t[i]);return n.replace(/^[0-9]/,"x")},r.idChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz012345678942",r}();r.RC4=a;var s,c,e=!1;function l(e){o.addEntropy(e)}function u(){e||r.strongEntropySource||(e=!0,w.Util.setTimeout(1e3,function(){e=!1,y()}))}function n(){if(!o){o=new a,s=new Uint8Array(4),c=new Uint32Array(s.buffer);for(var e=new Uint8Array(64),t=0;t<e.length;++t)e[t]=256*Math.random()&255;l(e);var n=!0,i=window.crypto;try{i&&i.getRandomValues&&(i.getRandomValues(e),l(e),n=!1)}catch(e){}n&&(r.strongEntropySource?(r.strongEntropySource(e),l(e)):(_(window.localStorage.entropy),window.localStorage.gotCloudEntropy||w.Util.setTimeout(1e3,function(){window.localStorage.gotCloudEntropy||w.Cloud.getRandomAsync().done(b,function(e){})}))),u()}}function d(e){n(),i(e),u()}function i(e){o.getBytes(e)}function h(){return n(),i(s),u(),c[0]}r.strongEntropySource=null,r.bytes=d,r.uint32=h;var m=1/4294967296,v=5.421010862427522e-20;function y(){if(n(),!r.strongEntropySource){var e=new Uint8Array(32);i(e),window.localStorage.entropy=w.Util.base64EncodeBytes(e)}}function b(e){e&&(_(e),y(),window.localStorage.gotCloudEntropy="yes")}function _(e){if(e){var t=w.Util.base64Decode(e);t&&(n(),l(w.Util.stringToUint8Array(t)),u())}}r.normalized=function(){return h()*m+h()*v},r.addCloudEntropy=b,r.uniqueId=function(e){void 0===e&&(e=24),n();var t=o.uniqueId(e);return u(),t},r.permute=function(e){for(var t=0;t<e.length;++t){var n=h()%e.length,i=e[t];e[t]=e[n],e[n]=i}},r.pick=function(e){return 0==e.length?null:e[h()%e.length]}}(w.Random||(w.Random={}))}(TDev||(TDev={})),function(e){var t;(t=e.PromiseState||(e.PromiseState={}))[t.Pending=0]="Pending",t[t.Success=1]="Success",t[t.Error=2]="Error";e.PromiseState;var n=function(){function l(e,t){if(void 0===t&&(t=void 0),this._onNotify=t,this._listeners=[],this._state=0,e){var n=this;try{e(function(e){0==n._state?(n._value=e,n._state=1,n._notifyListeners()):l.checkHandler("trying to resolve promise more than once")},function(e){2!=n._state?(n._value=e||new Error("An error occured"),n._state=2,n._notifyListeners()):l.checkHandler("trying to resolve (error) promise more than once")},void 0)}catch(e){l.errorHandler("promiseCtor",e)}}}return l.prototype._notify=function(e){if(this._value instanceof l){var t=this._value;t._state?t._notify(e):t._listeners.push(e)}else e._onNotify(this)},l.prototype.isPending=function(){return 0==this._state},l.prototype._notifyListeners=function(){var t=this;this._listeners.forEach(function(e){return t._notify(e)})},l.propagate=function(e,t,n,i){if(1===e&&t instanceof l){var r=t;if(!r._state)return void r._listeners.push(new l(void 0,function(){l.propagate(r._state,r._value,n,i)}));t=r._value,2==r._state&&(e=2)}2===e?i(t):n(t)},l.prototype.then=function(i,r,e){var o,a;void 0===r&&(r=void 0),void 0===e&&(e=void 0);var t=new l(function(e,t,n){o=e,a=t},function(e){var t=e._value,n=e._state;if(2===n){if(r)try{t=r(t),n=1}catch(e){t=e,n=2}}else if(i)try{t=i(t),n=1}catch(e){t=e,n=2}l.propagate(n,t,o,a)});return this._state?this._notify(t):this._listeners.push(t),t},l.prototype.done=function(e,t,n){void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===n&&(n=void 0),this.then(e,t,n).then(void 0,function(e){l.errorHandler("promiseDone",e)})},l.prototype.thenalways=function(e,t){return void 0===t&&(t=void 0),this.then(e,e,t)},l.is=function(e){return e instanceof l},l.as=function(e){return void 0===e&&(e=void 0),e instanceof l?e:l.wrap(e)},l.wrap=function(i){return void 0===i&&(i=void 0),new l(function(e,t,n){e(i)})},l.wrapError=function(i){return void 0===i&&(i=void 0),new l(function(e,t,n){t(i)})},l.delay=function(e,r){return void 0===r&&(r=null),new l(function(t,n,i){window.setTimeout(function(){return r?r().then(function(e){return t(e)},function(e){return n(e)},function(e){return i(e)}):t(void 0)},e)})},l.join=function(c){return new l(function(e,t,n){var i=Object.keys(c),r=Array.isArray(c)?new Array(c.length):{},o=Array.isArray(c)?new Array(c.length):{};if(0!=i.length){var a=i.length,s=function(){0==--a&&(0==Object.keys(r).length?e(o):t(r))};i.forEach(function(t){l.as(c[t]).then(function(e){o[t]=e,s()},function(e){r[t]=e,s()})})}else e(o)})},l.thenEach=function(t,n,i,r){void 0===n&&(n=void 0),void 0===i&&(i=void 0),void 0===r&&(r=void 0);var o=Array.isArray(t)?new Array(t.length):{};return Object.keys(t).forEach(function(e){o[e]=l.as(t[e]).then(n,i,r)}),l.join(o)},l.sequentialMap=function(s,c){return new l(function(e,r,t){var o=Object.keys(s),a=Array.isArray(s)?new Array(s.length):{};!function t(n){if(n>=o.length)e(a);else{var i=o[n];try{l.as(s[i]).done(function(e){l.as(c(e,i,a)).done(function(e){a[i]=e,t(n+1)},r)})}catch(e){r(e)}}}(0)})},l.errorHandler=function(e,t){throw t},l.checkHandler=function(e){l.errorHandler("promise-check",new Error(e))},l}(),i=function(e){function n(){var n=this;e.call(this,function(e,t){n.success=e,n.error=t})}return __extends(n,e),n.as=function(e){void 0===e&&(e=void 0);var t=new n;return t.success(e),t},n}(e.Promise=n);e.PromiseInv=i}(TDev||(TDev={})),function(n){var e=function(){function i(e){var t=this;this.update=e,this.running=!1,this.beginValue=0,this.delay=0,this.endValue=1,this.duration=1e3,this.frameLength=30,this.beginTime=0,this.quadratic=!0,this.stepFn=function(){t.step()}}return i.prototype.begin=function(){var e=this,t=function(){e.beginTime=(new Date).getTime(),e.step()};this.running=!0,0<this.delay?window.setTimeout(t,this.delay):t()},i.prototype.complete=function(){this.running&&(this.running=!1,this.update(this.endValue),this.completed&&this.completed())},i.prototype.stop=function(){this.running=!1},i.prototype.step=function(){try{if(!this.running)return;var e=(new Date).getTime();if(e>this.beginTime+this.duration||n.Browser.noAnimations)return void this.complete();var t=1-(e-this.beginTime)/this.duration;t=this.quadratic?(this.beginValue-this.endValue)*t*t+this.endValue:(this.beginValue-this.endValue)*t+this.endValue,this.update(t),window.setTimeout(this.stepFn,this.frameLength)}catch(e){n.Util.reportError("animation",e)}},i.fadeIn=function(t,e){void 0===e&&(e=300);var n=new i(function(e){t.style.opacity=e+""});return n.duration=e,n},i.fadeOut=function(t,e){void 0===e&&(e=300);var n=new i(function(e){0==e?t.removeSelf():t.style.opacity=e+""});return n.beginValue=1,n.endValue=0,n.duration=e,n},i}();n.Animation=e}(TDev||(TDev={})),function(t){var r,a=function(){function e(e,t){this.helt=e,this.f=t,this.begX=0,this.begY=0,this.cleared=!1,this.version=0,this.mouseCaptureOverlay=document.body,this.setup()}return e.prototype.clickBegin=function(e){this.helt.setFlag("active",!0),this.begX=e.pageX,this.begY=e.pageY,this.cleared=!1,this.setupVersion()},e.prototype.setupVersion=function(){var e=this,t=++this.version;r.setTimeout(300,function(){e.cleared||t!=e.version||e.clear()})},e.prototype.onMove=function(e){(10<Math.abs(e.pageX-this.begX)||10<Math.abs(e.pageY-this.begY))&&this.clear()},e.prototype.getPos=function(e){if(!e.getPointerList)return{pageX:e.clientX,pageY:e.clientY};var t=e.getPointerList()[0];return{pageX:t.clientX,pageY:t.clientY}},e.prototype.skipIt=function(e){var t=e.target;return e.target!=e.currentTarget&&("INPUT"==t.nodeName||"TEXTAREA"==t.nodeName)},e.prototype.isCanceled=function(e){return!!this.skipIt(e)||(!!e.utilClickCancel||!(e.utilClickCancel=!0))},e.prototype.getPosition=function(e){for(var t=0,n=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:n}},e.prototype.handleEvent=function(e){try{var t=e;if(r.mouseLogging&&(r.log("executing click handler "+e.type+" on "+this.helt.id),r.log("pageX:{0} pageY:{1} offsetX:{2} offsetY:{3} clientX:{4} clientY:{5}",t.pageX,t.pageY,t.offsetX,t.offsetY,t.clientX,t.clientY)),t.touches&&t.touches[0]?t=t.touches[0]:t.touches&&t.touches.item(0)?t=t.touches.item(0):t.changedTouches&&t.changedTouches.item(0)&&(t=t.changedTouches.item(0)),r.mouseLogging){r.log("after touch adjustment");var n=this.getPosition(this.helt);r.log("pageX:{0} pageY:{1} offsetX:{2} offsetY:{3} clientX:{4} clientY:{5} eltX:{6} eltY:{7}",t.pageX,t.pageY,t.offsetX,t.offsetY,t.clientX,t.clientY,n.x,n.y)}switch(e.type){case"pointerdown":if(this.isCanceled(e))break;this.prepareMouseOverlay(),this.clickBegin(this.getPos(e)),this.mouseCaptureOverlay.addEventListener("pointermove",this,!1),this.mouseCaptureOverlay.addEventListener("pointerup",this,!1);break;case"MSPointerDown":if(this.isCanceled(e))break;this.prepareMouseOverlay(),this.clickBegin(this.getPos(e)),this.mouseCaptureOverlay.addEventListener("MSPointerMove",this,!1),this.mouseCaptureOverlay.addEventListener("MSPointerUp",this,!1);break;case"pointermove":case"MSPointerMove":this.cleared||this.onMove(this.getPos(e));break;case"pointerup":case"MSPointerUp":this.cleared||this.fireClick(e);break;case"touchstart":if(this.isCanceled(e))break;this.helt.addEventListener("touchend",this,!1),document.body.addEventListener("touchmove",this,!1),document.body.addEventListener("touchend",this,!1),this.clickBegin(t);break;case"touchmove":this.cleared||this.onMove(t);break;case"touchend":this.cleared||this.fireClick(t);break;case"mousedown":if(this.isCanceled(e))break;if(0!=e.button)break;this.helt.hideFocus=!0,this.helt.addEventListener("mouseup",this,!1),document.addEventListener("mouseup",this,!1),document.body.addEventListener("mousemove",this,!1),this.clickBegin(e);break;case"mousemove":this.cleared||this.onMove(e);break;case"mouseup":this.cleared||this.fireClick(e);break;case"keypress":var i=e;i.target!=this.helt||13!=i.which&&32!=i.which||this.f(e)}}catch(e){r.reportError("clickHandler",e)}},e.prototype.fireClick=function(e){this.clear();var t=e.clickCancelled;e.clickCancelled=!0,t||(e.pgX=this.begX,e.pgY=this.begY,this.f(e))},e.prototype.clear=function(){this.hideMouseOverlay(),this.cleared=!0,this.hideMouseOverlay(),this.helt.removeEventListener("touchend",this,!1),this.helt.removeEventListener("mouseup",this,!1),this.helt.setFlag("active",!1),document.body.removeEventListener("touchmove",this,!1),document.removeEventListener("mouseup",this,!1),document.body.removeEventListener("mouseup",this,!1),document.body.removeEventListener("mousemove",this,!1),document.body.removeEventListener("touchend",this,!1),this.mouseCaptureOverlay.removeEventListener("MSPointerMove",this,!1),this.mouseCaptureOverlay.removeEventListener("MSPointerUp",this,!1),this.mouseCaptureOverlay.removeEventListener("pointermove",this,!1),this.mouseCaptureOverlay.removeEventListener("pointerup",this,!1)},e.prototype.prepareMouseOverlay=function(){},e.prototype.hideMouseOverlay=function(){},e.prototype.setup=function(){window.navigator.pointerEnabled?this.helt.addEventListener("pointerdown",this,!1):window.navigator.msPointerEnabled?this.helt.addEventListener("MSPointerDown",this,!1):t.Browser.touchStart?this.helt.addEventListener("touchstart",this,!1):this.helt.addEventListener("mousedown",this,!1),this.helt.addEventListener("keypress",this,!0)},e.prototype.unhook=function(){this.helt.removeEventListener("MSPointerDown",this,!1),this.helt.removeEventListener("touchstart",this,!1),this.helt.removeEventListener("mousedown",this,!1),this.helt.removeEventListener("keypress",this,!0)},e}();t.ClickHandler=a,function(o){o.clickHandler=function(e,t,n){e&&(e.setAttribute("role","button"),e.tabIndex=0);var i=e.clickHandler;i&&i.unhook();var r=new a(e,function(e){try{return t(e)}catch(e){o.reportError("clickHandler "+t.toString(),e)}});e.clickHandler=r,e.onselectstart=n?function(e){return e.stopImmediatePropagation(),!0}:function(){return!1}};try{"undefined"!=typeof HTMLElement&&(HTMLElement.prototype.withClick=function(e,t){return o.clickHandler(this,e,t),this})}catch(e){}}(r=t.Util||(t.Util={}))}(TDev||(TDev={})),function(t){var e=function(n){function e(e,t){n.call(this,e,null),this.helt=e,this.cb=t,this.offX=0,this.offY=0,this.lockX=!1,this.lockY=!1,this.isTap=!0,this.lastX=0,this.lastY=0,this.beginTime=0,this.moveElt=!0,this.isIeTouch=!1,this.helt.style.msTouchAction="none",this.helt.style.touchAction="none"}return __extends(e,n),e.prototype.setupVersion=function(){},e.prototype.clickBegin=function(e){n.prototype.clickBegin.call(this,e),this.offX=this.helt.offsetLeft-this.begX,this.offY=this.helt.offsetTop-this.begY,this.beginTime=t.Util.now(),this.isTap=!0,this.lastX=this.begX,this.lastY=this.begY,this.cb("drag",0,0,this.begX,this.begY)},e.prototype.onMove=function(e){this.lastX=e.pageX,this.lastY=e.pageY,this.lockX&&(this.lastX=this.begX),this.lockY&&(this.lastY=this.begY),this.moveElt&&(this.helt.style.left=this.offX+this.lastX+"px",this.helt.style.top=this.offY+this.lastY+"px");var t=this.lastX-this.begX,n=this.lastY-this.begY;(10<Math.abs(t)||10<Math.abs(n))&&(this.isTap=!1),this.cb("move",t,n,void 0,void 0)},e.prototype.fireClick=function(e){300<t.Util.now()-this.beginTime&&(this.isTap=!1),this.clear(),this.cb("release",this.lastX-this.begX,this.lastY-this.begY,this.isTap,void 0)},e.prototype.prepareMouseOverlay=function(){this.isIeTouch?this.mouseCaptureOverlay=this.helt:this.mouseCaptureOverlay=document.body},e.prototype.hideMouseOverlay=function(){},e.prototype.handleEvent=function(e){try{if(this.skipIt(e))return;e.stopPropagation(),e.preventDefault(),this.isIeTouch=2==e.pointerType,e.preventMouseEvent&&e.preventMouseEvent(),e.preventManipulation&&e.preventManipulation(),n.prototype.handleEvent.call(this,e)}catch(e){t.Util.reportError("dragHandler",e)}},e}(t.ClickHandler);t.DragHandler=e}(TDev||(TDev={})),function(l){var r,e,n=function(){function e(e){this.helt=e,this.posX=0,this.posY=0,this.theHistory=[],this.vertical=!0,this.horizontal=!1,this.seenTouchEvent=!1,this.captureingMouse=!1}return e.prototype.unhook=function(){l.Browser.touchStart?(this.helt.removeEventListener("touchstart",this,!1),this.helt.removeEventListener("touchmove",this,!1),this.helt.removeEventListener("touchend",this,!1)):(this.helt.removeEventListener("mousedown",this,!1),this.helt.removeEventListener("mouseup",this,!1),this.helt.removeEventListener("mouseout",this,!1),this.helt.removeEventListener("mouseleave",this,!1),this.helt.removeEventListener("mousemove",this,!1))},e.prototype.init=function(){this.helt.dragToScroll=this;l.Browser.touchStart?(this.helt.addEventListener("touchstart",this,!1),this.helt.addEventListener("touchmove",this,!1),this.helt.addEventListener("touchend",this,!1)):(this.helt.addEventListener("mousedown",this,!1),this.helt.addEventListener("mouseup",this,!1),this.helt.addEventListener("mouseout",this,!1),this.helt.addEventListener("mouseleave",this,!1),this.helt.addEventListener("mousemove",this,!1))},e.prototype.record=function(e){var t=(new Date).getTime();this.theHistory.push({x:e.pageX,y:e.pageY,t:t})},e.prototype.stopInertialAnimation=function(){this.inertialAnimation&&(this.inertialAnimation.complete(),this.inertialAnimation=null)},e.prototype.begin=function(e){this.posX=this.helt.scrollLeft+e.pageX,this.posY=this.helt.scrollTop+e.pageY,this.stopInertialAnimation(),this.theHistory=[],this.record(e)},e.prototype.scrollTo=function(e,t){this.horizontal&&(this.helt.scrollLeft=e),this.vertical&&(this.helt.scrollTop=t)},e.prototype.move=function(e){this.scrollTo(this.posX-e.pageX,this.posY-e.pageY),this.record(e)},e.prototype.log=function(){var t=(new Date).getTime(),e=this.theHistory.slice(this.theHistory.length-5).map(function(e){return e.x+","+e.y+","+(e.t-t)}).join(" : ");r.log(e)},e.prototype.end=function(e){var t=this;if(e&&this.record(e),0!=this.theHistory.length){for(var n=this.theHistory[this.theHistory.length-1],i=n.t-200,r=n,o=0;o<this.theHistory.length;++o)if(this.theHistory[o].t>=i){r=this.theHistory[o];break}var a=n.t-r.t;if(0<a){var s=(n.x-r.x)/a*150,c=(n.y-r.y)/a*150;if(Math.abs(s)+Math.abs(c)<50)return;this.inertialAnimation=new l.Animation(function(e){t.scrollTo(t.posX-(n.x+s*e),t.posY-(n.y+c*e))}),this.inertialAnimation.duration=700,this.inertialAnimation.begin()}}},e.prototype.handleEvent=function(e){try{(new Date).getTime();switch(e.type){case"mousedown":this.seenTouchEvent||0!=e.button||(this.captureingMouse=!0,this.begin(e));break;case"mousemove":this.captureingMouse&&this.move(e);break;case"mouseleave":this.end(e),this.captureingMouse=!1;break;case"mouseout":if(this.captureingMouse){var t=e;if(t.relatedTarget)for(var n=this.helt.getElementsByTagName(t.relatedTarget.nodeName),i=0;i<n.length;++i)if(n[i]==t.relatedTarget)return;this.end(e),this.captureingMouse=!1}break;case"mouseup":this.end(e),this.captureingMouse=!1;break;case"touchstart":this.seenTouchEvent=!0,this.begin(e.touches[0]);break;case"touchmove":e.preventDefault(),this.move(e.touches[0]);break;case"touchend":this.end(e.touches[0])}}catch(e){r.reportError("dragToScroll",e)}},e}();l.DragToScrollHandler=n,(e=r=l.Util||(l.Util={})).setupDragToScroll=function(e){e.scrollEnabled=!0,l.Browser.isMobileSafari?(e.style.boxSizing="border-box",e.style.overflowY="scroll",e.className+=" iOSScroll"):l.Browser.builtinTouchToPan?(e.style.boxSizing="border-box",e.style.overflowY="auto"):(e.style.overflowY="hidden",new n(e).init())},e.resetDragToScroll=function(e){if(e.scrollEnabled=!1,l.Browser.builtinTouchToPan||l.Browser.isMobileSafari)e.style.boxSizing="",e.style.overflowX="",e.style.overflowY="",l.Browser.isMobileSafari&&(e.className=e.className.replace(/iOSScroll/g,""));else{var t=e.dragToScroll;t&&t.unhook()}},e.setupHDragToScroll=function(e){if(e.scrollEnabled=!0,l.Browser.isMobileSafari)e.style.boxSizing="border-box",e.style.overflowY="auto",e.className+=" iOSScroll";else if(l.Browser.builtinTouchToPan)e.style.boxSizing="border-box",e.style.overflowX="auto",l.Browser.isTrident&&(e.style.msScrollTranslation="vertical-to-horizontal");else{e.style.overflowX="hidden";var t=new n(e);t.horizontal=!0,t.vertical=!1,t.init()}}}(TDev||(TDev={})),function(o){var e=function(n){function e(e,t){n.call(this,e,null),this.helt=e,this.cb=t,this.offX=0,this.offY=0,this.lockX=!1,this.lockY=!1,this.lastX=0,this.lastY=0,this.isIeTouch=!1,this.helt.style.touchAction="none",this.helt.style.msTouchAction="none"}return __extends(e,n),e.prototype.setupVersion=function(){},e.prototype.getRelativePos=function(e){if(o.Util.mouseLogging){o.Util.log("touch handler ");var t=this.getPosition(this.helt);o.Util.log("pageX:{0} pageY:{1} offsetX:{2} offsetY:{3} clientX:{4} clientY:{5} eltX:{6} eltY:{7}",e.pageX,e.pageY,e.offsetX,e.offsetY,e.clientX,e.clientY,t.x,t.y)}var n,i;e.pageX?(n=e.pageX,i=e.pageY):(n=e.clientX,i=e.clientY);var r=this.getPosition(this.helt);return e.offX=n-r.x,e.offY=i-r.y,e},e.prototype.clickBegin=function(e){n.prototype.clickBegin.call(this,e),this.getRelativePos(e),o.Util.mouseLogging&&o.Util.log("touchBegin: {0},{1}",e.offX,e.offY),this.offX=this.helt.offsetLeft-this.begX,this.offY=this.helt.offsetTop-this.begY,this.cb("down",e.offX,e.offY)},e.prototype.onMove=function(e){this.getRelativePos(e),o.Util.mouseLogging&&o.Util.log("onMove: {0},{1}",e.offX,e.offY),this.cb("move",e.offX,e.offY)},e.prototype.fireClick=function(e){this.getRelativePos(e),o.Util.mouseLogging&&o.Util.log("touchEnd: {0},{1}",e.offX,e.offY),this.clear(),this.cb("up",e.offX,e.offY)},e.prototype.prepareMouseOverlay=function(){this.isIeTouch?this.mouseCaptureOverlay=this.helt:this.mouseCaptureOverlay=document.body},e.prototype.hideMouseOverlay=function(){},e.prototype.handleEvent=function(e){try{e.stopPropagation(),e.preventDefault(),this.isIeTouch=2==e.pointerType,e.preventMouseEvent&&e.preventMouseEvent(),e.preventManipulation&&e.preventManipulation(),n.prototype.handleEvent.call(this,e)}catch(e){o.Util.reportError("dragHandler",e)}},e}(o.ClickHandler);o.TouchHandler=e}(TDev||(TDev={})),function(e){var a=function(e,t){this.key=e,this.next=t};e.HashtableEntry=a;var t=function(){function n(e,t,n){void 0===n&&(n=13),this.getHashCode=e,this.equals=t,this.initialSize=n,this.entryCount=0}return n.prototype.count=function(){return this.entryCount},n.prototype.deleteKey=function(e){if(!this.entries)return null;var t=(2147483647&this.getHashCode(e))%this.entries.length,n=this.entries[t];if(!n)return null;if(this.equals(e,n.key))return this.entries[t]=n.next,n.next=null,this.entryCount--,n;for(var i=n;i&&i.next&&!this.equals(e,i.next.key);)i=i.next;if(!i.next)return null;var r=i.next;return i.next=r.next,r.next=null,this.entryCount--,r},n.prototype.remove=function(e){return this.deleteKey(e)},n.prototype.lookup=function(e,t){if(void 0===t&&(t=!1),!this.entries){if(!t)return null;this.entries=[];for(var n=0;n<this.initialSize;++n)this.entries[n]=null}for(var i=(2147483647&this.getHashCode(e))%this.entries.length,r=this.entries[i],o=r;o&&!this.equals(e,o.key);)o=o.next;return!o&&t&&(o=new a(e,r),this.entryCount++,this.entries[i]=o,this.entryCount>this.entries.length+this.entries.length&&this.rehash()),o},n.prototype.sizeAtLeast=function(e){for(var t=0;t<n.primeSizes.length;++t)if(n.primeSizes[t]>e)return n.primeSizes[t];return 0},n.prototype.rehash=function(){var e=this.sizeAtLeast(this.entries.length);if(0!=e){var t=this.entries;this.entries=[];for(var n=0;n<e;++n)this.entries[n]=null;for(n=0;n<t.length;++n)for(var i,r=t[n];r;r=i){i=r.next;var o=(2147483647&this.getHashCode(r.key))%this.entries.length;r.next=this.entries[o],this.entries[o]=r}}},n.prototype.forEachEntry=function(e){if(this.entries)for(var t=0;t<this.entries.length;++t)for(var n=this.entries[t];n;n=n.next)e(n)},n.prototype.forEach=function(t){this.forEachEntry(function(e){return t(e.key,e.value)})},n.prototype.mapEntries=function(e){var t=[];if(this.entries)for(var n=0;n<this.entries.length;++n)for(var i=this.entries[n];i;i=i.next)t.push(e(i));return t},n.prototype.keys=function(){return this.mapEntries(function(e){return e.key})},n.prototype.pairs=function(){return this.mapEntries(function(e){return{key:e.key,value:e.value}})},n.prototype.filteredValues=function(e){var t=[];if(this.entries)for(var n=0;n<this.entries.length;++n)for(var i=this.entries[n];i;i=i.next){var r=i.value;e(r)&&t.push(r)}return t},n.prototype.countFiltered=function(e){var t=0;if(this.entries)for(var n=0;n<this.entries.length;++n)for(var i=this.entries[n];i;i=i.next){e(i.value)&&(t+=1)}return t},n.prototype.set=function(e,t){this.lookup(e,!0).value=t},n.prototype.get=function(e){var t=this.lookup(e);if(t)return t.value},n.prototype.clear=function(){this.entries=null,this.entryCount=0},n.stringHash=function(e){for(var t=5381,n=0;n<e.length;++n)t=(t+(t<<5)|0)+e.charCodeAt(n)|0;return t},n.stringEq=function(e,t){return e==t},n.forStrings=function(){return new n(n.stringHash,n.stringEq)},n.jsonHash=function(e){return n.stringHash(JSON.stringify(e))},n.jsonEq=function(e,t){return e==t||JSON.stringify(e)==JSON.stringify(t)},n.forJson=function(){return new n(n.jsonHash,n.jsonEq)},n.primeSizes=[13,29,59,127,257,521,1049,2099,4201,8419,16843,33703,67409,134837,269683,539389,1078787,2157587,4315183,8630387,17260781,34521589,69043189,138086407,276172823,552345671,1104691373,2209382761],n}();e.Hashtable=t}(TDev||(TDev={})),function(M){var e;(e=M.Ticks||(M.Ticks={}))[e.noEvent=0]="noEvent",e[e.mainInit=1]="mainInit",e[e.mainHashChange=2]="mainHashChange",e[e.mainKeyEvent=3]="mainKeyEvent",e[e.mainShortcutKeyEvent=4]="mainShortcutKeyEvent",e[e.mainResetWorld=5]="mainResetWorld",e[e.artSoundPreviewPlay=6]="artSoundPreviewPlay",e[e.docsEdit=7]="docsEdit",e[e.exportAzure=8]="exportAzure",e[e.exportCordova=9]="exportCordova",e[e.exportHTML5=10]="exportHTML5",e[e.scriptPropsIconArt=11]="scriptPropsIconArt",e[e.scriptPropsSplashArt=12]="scriptPropsSplashArt",e[e.hourOfCodeDoneStep=13]="hourOfCodeDoneStep",e[e.hourOfCodeKeepCoding=14]="hourOfCodeKeepCoding",e[e.hourOfCodeConfirm=15]="hourOfCodeConfirm",e[e.hourOfCodeDone=16]="hourOfCodeDone",e[e.hourOfCodeMore=17]="hourOfCodeMore",e[e.hourOfCodeFinal=18]="hourOfCodeFinal",e[e.tutorialStart=19]="tutorialStart",e[e.tutorialEnd=20]="tutorialEnd",e[e.tutorialTranslateSplash=21]="tutorialTranslateSplash",e[e.tutorialTranslateStep=22]="tutorialTranslateStep",e[e.tutorialTranslateScript=23]="tutorialTranslateScript",e[e.tutorialKeepEditing=24]="tutorialKeepEditing",e[e.tutorialMoreTutorials=25]="tutorialMoreTutorials",e[e.tutorialNextStep=26]="tutorialNextStep",e[e.dodStart=27]="dodStart",e[e.dodDrop=28]="dodDrop",e[e.dodWrongTarget=29]="dodWrongTarget",e[e.cordovaBuild=30]="cordovaBuild",e[e.translateDocTopic=31]="translateDocTopic",e[e.legalNoticeSignIn=32]="legalNoticeSignIn",e[e.legalNoticeAgree=33]="legalNoticeAgree",e[e.calcAddMissingArgs=34]="calcAddMissingArgs",e[e.calcBackspace=35]="calcBackspace",e[e.calcCopy=36]="calcCopy",e[e.calcCut=37]="calcCut",e[e.calcDedicatedOp=38]="calcDedicatedOp",e[e.calcEdit=39]="calcEdit",e[e.calcEditString=40]="calcEditString",e[e.calcExtract=41]="calcExtract",e[e.calcPromoteToParameter=42]="calcPromoteToParameter",e[e.calcGoToDef=43]="calcGoToDef",e[e.calcFindRefs=44]="calcFindRefs",e[e.calcAddDataVar=45]="calcAddDataVar",e[e.calcUnselect=46]="calcUnselect",e[e.calcExtend=47]="calcExtend",e[e.calcReplaceInScript=48]="calcReplaceInScript",e[e.calcReplaceInSelection=49]="calcReplaceInSelection",e[e.calcReplaceInAction=50]="calcReplaceInAction",e[e.calcInsertAssignment=51]="calcInsertAssignment",e[e.calcInsertString=52]="calcInsertString",e[e.calcIntelliButton=53]="calcIntelliButton",e[e.calcIntelliButton0=54]="calcIntelliButton0",e[e.calcIntelliButton1=55]="calcIntelliButton1",e[e.calcIntelliButton2=56]="calcIntelliButton2",e[e.calcIntelliButton3=57]="calcIntelliButton3",e[e.calcIntelliButton4=58]="calcIntelliButton4",e[e.calcIntelliButton5plus=59]="calcIntelliButton5plus",e[e.calcIntelliLiteral=60]="calcIntelliLiteral",e[e.calcIntelliLocal=61]="calcIntelliLocal",e[e.calcIntelliProperty=62]="calcIntelliProperty",e[e.calcIntelliPropertyPrimary=63]="calcIntelliPropertyPrimary",e[e.calcIntelliSingleton=64]="calcIntelliSingleton",e[e.calcIntelliLibrary=65]="calcIntelliLibrary",e[e.calcIntelliResource=66]="calcIntelliResource",e[e.calcKeyboardSearch=67]="calcKeyboardSearch",e[e.calcMoveCursorLeft=68]="calcMoveCursorLeft",e[e.calcMoveCursorRight=69]="calcMoveCursorRight",e[e.calcNewLine=70]="calcNewLine",e[e.calcNextIntelliTopPage=71]="calcNextIntelliTopPage",e[e.calcNextIntelliPageSearch=72]="calcNextIntelliPageSearch",e[e.calcNextIntelliPage=73]="calcNextIntelliPage",e[e.calcNextIntelliPage0=74]="calcNextIntelliPage0",e[e.calcNextIntelliPage1=75]="calcNextIntelliPage1",e[e.calcNextIntelliPage2=76]="calcNextIntelliPage2",e[e.calcNextIntelliPage3=77]="calcNextIntelliPage3",e[e.calcNextIntelliPage4=78]="calcNextIntelliPage4",e[e.calcNextIntelliPage5plus=79]="calcNextIntelliPage5plus",e[e.calcAsync=80]="calcAsync",e[e.calcAwait=81]="calcAwait",e[e.calcNot=82]="calcNot",e[e.calcNumber=83]="calcNumber",e[e.calcPaste=84]="calcPaste",e[e.calcPickColor=85]="calcPickColor",e[e.calcPickNumber=86]="calcPickNumber",e[e.calcDemoteIntoLocal=87]="calcDemoteIntoLocal",e[e.calcPromoteIntoGlobal=88]="calcPromoteIntoGlobal",e[e.calcPromoteIntoField=89]="calcPromoteIntoField",e[e.calcRenameLocal=90]="calcRenameLocal",e[e.calcRenameProperty=91]="calcRenameProperty",e[e.calcSearchBack=92]="calcSearchBack",e[e.calcSearchRun=93]="calcSearchRun",e[e.calcSearchCompile=94]="calcSearchCompile",e[e.calcSimplify=95]="calcSimplify",e[e.calcStrip=96]="calcStrip",e[e.calcSpecialKey=97]="calcSpecialKey",e[e.calcStartSearch=98]="calcStartSearch",e[e.calcStoreInVar=99]="calcStoreInVar",e[e.calcSwapBoolean=100]="calcSwapBoolean",e[e.calcSwapAsync=101]="calcSwapAsync",e[e.calcIntelliAsync=102]="calcIntelliAsync",e[e.calcSwitchToNormal=103]="calcSwitchToNormal",e[e.calcSwitchToNumber=104]="calcSwitchToNumber",e[e.calcTrueFalse=105]="calcTrueFalse",e[e.calcUndo=106]="calcUndo",e[e.calcGoToBoxProperty=107]="calcGoToBoxProperty",e[e.calcAddBoxProperty=108]="calcAddBoxProperty",e[e.calcInsertStringParamterValue=109]="calcInsertStringParamterValue",e[e.calcHelp=110]="calcHelp",e[e.calcHelpOverlay=111]="calcHelpOverlay",e[e.calcElseIf=112]="calcElseIf",e[e.calcUnElseIf=113]="calcUnElseIf",e[e.calcBindGlobal=114]="calcBindGlobal",e[e.calcFixItAtomic=115]="calcFixItAtomic",e[e.calcEditArt=116]="calcEditArt",e[e.calcAddOptionalParameter=117]="calcAddOptionalParameter",e[e.calcChangeOptionalParameter=118]="calcChangeOptionalParameter",e[e.codeAddAbove=119]="codeAddAbove",e[e.codeAddBelow=120]="codeAddBelow",e[e.codeShow=121]="codeShow",e[e.codeContinue=122]="codeContinue",e[e.codeReturn=123]="codeReturn",e[e.codeBreak=124]="codeBreak",e[e.codeBoxed=125]="codeBoxed",e[e.codeCopy=126]="codeCopy",e[e.codeCopySelection=127]="codeCopySelection",e[e.codeDeleteSelection=128]="codeDeleteSelection",e[e.codeCut=129]="codeCut",e[e.codeCutSelection=130]="codeCutSelection",e[e.codeCycleSidePane=131]="codeCycleSidePane",e[e.codeCycleSidePaneFull=132]="codeCycleSidePaneFull",e[e.codeExtractAction=133]="codeExtractAction",e[e.codeFocusSidePane=134]="codeFocusSidePane",e[e.codeFocusSidePaneFull=135]="codeFocusSidePaneFull",e[e.codeFor=136]="codeFor",e[e.codeForEach=137]="codeForEach",e[e.codeHub=138]="codeHub",e[e.codeIf=139]="codeIf",e[e.codeMoveLeft=140]="codeMoveLeft",e[e.codeNewVar=141]="codeNewVar",e[e.codePaste=142]="codePaste",e[e.codeRun=143]="codeRun",e[e.codeResume=144]="codeResume",e[e.codeStartSelection=145]="codeStartSelection",e[e.codeSurround=146]="codeSurround",e[e.codeUndo=147]="codeUndo",e[e.codeSplit=148]="codeSplit",e[e.codeWhile=149]="codeWhile",e[e.codeUninstallScript=150]="codeUninstallScript",e[e.codeBackFromSearch=151]="codeBackFromSearch",e[e.actionPropPrivate=152]="actionPropPrivate",e[e.actionPropTest=153]="actionPropTest",e[e.actionPropAtomic=154]="actionPropAtomic",e[e.siteMenuCreateCode=155]="siteMenuCreateCode",e[e.siteMenuImportCode=156]="siteMenuImportCode",e[e.siteMenuGroups=157]="siteMenuGroups",e[e.siteMenuTutorials=158]="siteMenuTutorials",e[e.siteMenuProjects=159]="siteMenuProjects",e[e.siteMenuHome=160]="siteMenuHome",e[e.siteMenuHelp=161]="siteMenuHelp",e[e.siteMenuGettingStarted=162]="siteMenuGettingStarted",e[e.siteMenuMyScripts=163]="siteMenuMyScripts",e[e.siteMenuSignIn=164]="siteMenuSignIn",e[e.siteMenuProfile=165]="siteMenuProfile",e[e.siteMenuChannels=166]="siteMenuChannels",e[e.btnPaste=167]="btnPaste",e[e.btnCopy=168]="btnCopy",e[e.btnCut=169]="btnCut",e[e.btnSelect=170]="btnSelect",e[e.btnTryFix=171]="btnTryFix",e[e.btnUndoFix=172]="btnUndoFix",e[e.btnAddUp=173]="btnAddUp",e[e.btnAddDown=174]="btnAddDown",e[e.btnMoveLeft=175]="btnMoveLeft",e[e.btnBreakpoint=176]="btnBreakpoint",e[e.btnChangeKind=177]="btnChangeKind",e[e.calcBtnBackspace=178]="calcBtnBackspace",e[e.calcBtnUndo=179]="calcBtnUndo",e[e.calcBtnNumberKeypad=180]="calcBtnNumberKeypad",e[e.calcBtnMiscKeypad=181]="calcBtnMiscKeypad",e[e.calcBtnNormalKeypad=182]="calcBtnNormalKeypad",e[e.calcBtnApiSearch=183]="calcBtnApiSearch",e[e.editBtnSideSearch=184]="editBtnSideSearch",e[e.chooseCancel=185]="chooseCancel",e[e.editTapBelow=186]="editTapBelow",e[e.coverageShown=187]="coverageShown",e[e.coverageOpenInEditor=188]="coverageOpenInEditor",e[e.coverageBucketSurveyActionEdit=189]="coverageBucketSurveyActionEdit",e[e.coverageBucketSurveyStatementEdit=190]="coverageBucketSurveyStatementEdit",e[e.coverageBucketSurveyDebugger=191]="coverageBucketSurveyDebugger",e[e.coverageBucketSurveyBreakpoint=192]="coverageBucketSurveyBreakpoint",e[e.coverageBucketSurveyExceededSuccessfully=193]="coverageBucketSurveyExceededSuccessfully",e[e.profileShown=194]="profileShown",e[e.profileOpenInEditor=195]="profileOpenInEditor",e[e.debuggerExit=196]="debuggerExit",e[e.debuggerContinue=197]="debuggerContinue",e[e.debuggerStepIn=198]="debuggerStepIn",e[e.debuggerStepOver=199]="debuggerStepOver",e[e.debuggerStepOut=200]="debuggerStepOut",e[e.debuggerToggleBreakpoint=201]="debuggerToggleBreakpoint",e[e.debuggerViewInit=202]="debuggerViewInit",e[e.debuggerPauseWall=203]="debuggerPauseWall",e[e.debuggerShowValues=204]="debuggerShowValues",e[e.debuggerShowStack=205]="debuggerShowStack",e[e.debuggerGotoWall=206]="debuggerGotoWall",e[e.debuggerGotoCurrent=207]="debuggerGotoCurrent",e[e.debuggerAppLog=208]="debuggerAppLog",e[e.debuggerHelp=209]="debuggerHelp",e[e.debuggerValueClicked=210]="debuggerValueClicked",e[e.debuggerKeyboardEvent=211]="debuggerKeyboardEvent",e[e.editorTutorialClose=212]="editorTutorialClose",e[e.editorTutorialNext=213]="editorTutorialNext",e[e.editorTutorialPrevious=214]="editorTutorialPrevious",e[e.externalSave=215]="externalSave",e[e.externalLoad=216]="externalLoad",e[e.externalCompile=217]="externalCompile",e[e.externalRun=218]="externalRun",e[e.sideAddAction=219]="sideAddAction",e[e.sideAddActionTest=220]="sideAddActionTest",e[e.sideAddActionTypeDef=221]="sideAddActionTypeDef",e[e.sideAddEvent=222]="sideAddEvent",e[e.sideAddLibrary=223]="sideAddLibrary",e[e.sideAddPage=224]="sideAddPage",e[e.sideAddRecord=225]="sideAddRecord",e[e.sideAddObject=226]="sideAddObject",e[e.sideAddTable=227]="sideAddTable",e[e.sideAddIndex=228]="sideAddIndex",e[e.sideAddDecorator=229]="sideAddDecorator",e[e.sideAddResource=230]="sideAddResource",e[e.sideAddVariable=231]="sideAddVariable",e[e.sideAddAnything=232]="sideAddAnything",e[e.sideHelp=233]="sideHelp",e[e.sideBraces=234]="sideBraces",e[e.sideDebug=235]="sideDebug",e[e.sideLogs=236]="sideLogs",e[e.sideErrors=237]="sideErrors",e[e.sideDeployWebSite=238]="sideDeployWebSite",e[e.sidePlugins=239]="sidePlugins",e[e.sideButtonPlugin=240]="sideButtonPlugin",e[e.sidePreview=241]="sidePreview",e[e.sideHistory=242]="sideHistory",e[e.sideHistoryGoTo=243]="sideHistoryGoTo",e[e.sidePaste=244]="sidePaste",e[e.sideScript=245]="sideScript",e[e.sideScriptGoToDecl=246]="sideScriptGoToDecl",e[e.sideSearch=247]="sideSearch",e[e.sideSearchGoToDecl=248]="sideSearchGoToDecl",e[e.sideSearchGoToStmt=249]="sideSearchGoToStmt",e[e.sidePublish=250]="sidePublish",e[e.sideShare=251]="sideShare",e[e.sideDisconnect=252]="sideDisconnect",e[e.sideRun=253]="sideRun",e[e.sideCut=254]="sideCut",e[e.sideCopy=255]="sideCopy",e[e.sideDelete=256]="sideDelete",e[e.sideFindRefs=257]="sideFindRefs",e[e.sideActionHeaderInit=258]="sideActionHeaderInit",e[e.sideCommentInit=259]="sideCommentInit",e[e.sideParameterInit=260]="sideParameterInit",e[e.sideResetSidePane=261]="sideResetSidePane",e[e.sideInlineActionInit=262]="sideInlineActionInit",e[e.sideExport=263]="sideExport",e[e.sideAllTests=264]="sideAllTests",e[e.sideTestOne=265]="sideTestOne",e[e.sideEditLibrary=266]="sideEditLibrary",e[e.sideEditString=267]="sideEditString",e[e.sideUpdate=268]="sideUpdate",e[e.sideUpdateOne=269]="sideUpdateOne",e[e.sideActionAddInput=270]="sideActionAddInput",e[e.sideActionAddOutput=271]="sideActionAddOutput",e[e.sideTutorialCancel=272]="sideTutorialCancel",e[e.sideTutorialRedisplay=273]="sideTutorialRedisplay",e[e.sideMoreOptions=274]="sideMoreOptions",e[e.appsCreateAzureWebsite=275]="appsCreateAzureWebsite",e[e.appsDeployWebsite=276]="appsDeployWebsite",e[e.pluginStop=277]="pluginStop",e[e.pluginRunOperation=278]="pluginRunOperation",e[e.pluginAddMore=279]="pluginAddMore",e[e.pluginRunAnnotationOperation=280]="pluginRunAnnotationOperation",e[e.searchApiSynthesis=281]="searchApiSynthesis",e[e.searchApiSearchArt=282]="searchApiSearchArt",e[e.searchApiSearchLib=283]="searchApiSearchLib",e[e.searchApiSearchAuto=284]="searchApiSearchAuto",e[e.searchApiInsertArt=285]="searchApiInsertArt",e[e.searchApiUploadArt=286]="searchApiUploadArt",e[e.searchApiInsertLib=287]="searchApiInsertLib",e[e.wallBack=288]="wallBack",e[e.wallJS=289]="wallJS",e[e.wallEdit=290]="wallEdit",e[e.wallReplay=291]="wallReplay",e[e.wallScreenshot=292]="wallScreenshot",e[e.wallLogs=293]="wallLogs",e[e.wallSerial=294]="wallSerial",e[e.wallStop=295]="wallStop",e[e.wallStopForce=296]="wallStopForce",e[e.wallPause=297]="wallPause",e[e.wallResume=298]="wallResume",e[e.wallRun=299]="wallRun",e[e.wallTraces=300]="wallTraces",e[e.wallAddHeart=301]="wallAddHeart",e[e.wallRemoveHeart=302]="wallRemoveHeart",e[e.commentAttach=303]="commentAttach",e[e.commentBugTracking=304]="commentBugTracking",e[e.coreRun=305]="coreRun",e[e.coreNativeCompile=306]="coreNativeCompile",e[e.coreResume=307]="coreResume",e[e.coreRerun=308]="coreRerun",e[e.corePublishHidden=309]="corePublishHidden",e[e.corePublishPublic=310]="corePublishPublic",e[e.runtimePlayAgain=311]="runtimePlayAgain",e[e.runtimeBack=312]="runtimeBack",e[e.appUpdateAvailable=313]="appUpdateAvailable",e[e.appNoUpdate=314]="appNoUpdate",e[e.appQuickUpdate=315]="appQuickUpdate",e[e.appUpdate=316]="appUpdate",e[e.editorUpdateScript=317]="editorUpdateScript",e[e.editorUpdateLibrary=318]="editorUpdateLibrary",e[e.editorRunWithProfiling=319]="editorRunWithProfiling",e[e.editorRunWithCoverage=320]="editorRunWithCoverage",e[e.editorRunAsMinion=321]="editorRunAsMinion",e[e.viewActionInit=322]="viewActionInit",e[e.viewLibraryRefInit=323]="viewLibraryRefInit",e[e.viewRecordInit=324]="viewRecordInit",e[e.viewScriptInit=325]="viewScriptInit",e[e.viewVariableInit=326]="viewVariableInit",e[e.hubCreateScript=327]="hubCreateScript",e[e.hubCreateGame=328]="hubCreateGame",e[e.hubCreateGroup=329]="hubCreateGroup",e[e.hubCreateList=330]="hubCreateList",e[e.hubJoinGroup=331]="hubJoinGroup",e[e.hubUploadPicture=332]="hubUploadPicture",e[e.hubUploadSound=333]="hubUploadSound",e[e.hubGameTutorial=334]="hubGameTutorial",e[e.hubWinStore=335]="hubWinStore",e[e.hubDocs=336]="hubDocs",e[e.hubFirstTutorial=337]="hubFirstTutorial",e[e.hubDocsTutorial=338]="hubDocsTutorial",e[e.hubBasicEditorVideo=339]="hubBasicEditorVideo",e[e.hubBasicEditorVideoVoice=340]="hubBasicEditorVideoVoice",e[e.hubBasicEditorVideoSubtitles=341]="hubBasicEditorVideoSubtitles",e[e.hubBeginnersGettingStarted=342]="hubBeginnersGettingStarted",e[e.hubCCGA=343]="hubCCGA",e[e.hubChatSearch=344]="hubChatSearch",e[e.hubChooseSkill=345]="hubChooseSkill",e[e.hubDevBootCamp=346]="hubDevBootCamp",e[e.hubDocsApi=347]="hubDocsApi",e[e.hubDocsWhatsNew=348]="hubDocsWhatsNew",e[e.hubAdvancedEditorVideo=349]="hubAdvancedEditorVideo",e[e.hubSeeMoreMyScripts=350]="hubSeeMoreMyScripts",e[e.hubSeeMoreNewScripts=351]="hubSeeMoreNewScripts",e[e.hubSeeMoreArt=352]="hubSeeMoreArt",e[e.hubSeeMoreUsers=353]="hubSeeMoreUsers",e[e.hubSeeMoreCloudOther=354]="hubSeeMoreCloudOther",e[e.hubSeeMoreShowcase=355]="hubSeeMoreShowcase",e[e.hubSeeMoreTutorials=356]="hubSeeMoreTutorials",e[e.hubSeeMoreTopScripts=357]="hubSeeMoreTopScripts",e[e.hubSeeMoreDocs=358]="hubSeeMoreDocs",e[e.hubSeeMoreCloud=359]="hubSeeMoreCloud",e[e.hubSeeMoreGroups=360]="hubSeeMoreGroups",e[e.hubSeeMoreLists=361]="hubSeeMoreLists",e[e.hubMyScriptsShowcase=362]="hubMyScriptsShowcase",e[e.hubMyScriptsTemplate=363]="hubMyScriptsTemplate",e[e.hubNotifications=364]="hubNotifications",e[e.hubUpdates=365]="hubUpdates",e[e.hubDoUpdates=366]="hubDoUpdates",e[e.hubTests=367]="hubTests",e[e.hubShowcaseMgmt=368]="hubShowcaseMgmt",e[e.hubBenchmarks=369]="hubBenchmarks",e[e.hubForum=370]="hubForum",e[e.hubFacebook=371]="hubFacebook",e[e.hubTwitter=372]="hubTwitter",e[e.hubYouTube=373]="hubYouTube",e[e.hubSettings=374]="hubSettings",e[e.hubAbout=375]="hubAbout",e[e.hubHelp=376]="hubHelp",e[e.hubWrongTime=377]="hubWrongTime",e[e.hubTag=378]="hubTag",e[e.hubTagFromList=379]="hubTagFromList",e[e.hubFeedback=380]="hubFeedback",e[e.hubChooseWallpaper=381]="hubChooseWallpaper",e[e.changeSkillScriptProperties=382]="changeSkillScriptProperties",e[e.changeSkillActionProperties=383]="changeSkillActionProperties",e[e.changeSkillScriptExplorer=384]="changeSkillScriptExplorer",e[e.editorSkillBlock=385]="editorSkillBlock",e[e.editorSkillClassic=386]="editorSkillClassic",e[e.editorSkillCurly=387]="editorSkillCurly",e[e.groupCodeReset=388]="groupCodeReset",e[e.groupCodeNew=389]="groupCodeNew",e[e.groupCodeGet=390]="groupCodeGet",e[e.groupDelete=391]="groupDelete",e[e.groupLeave=392]="groupLeave",e[e.groupJoin=393]="groupJoin",e[e.groupAllowAnyoneToJoin=394]="groupAllowAnyoneToJoin",e[e.groupRequireInvitationCodeToJoin=395]="groupRequireInvitationCodeToJoin",e[e.groupChangePicture=396]="groupChangePicture",e[e.publishShareGroup=397]="publishShareGroup",e[e.browseEditInstall=398]="browseEditInstall",e[e.browseRunInstall=399]="browseRunInstall",e[e.browseRun=400]="browseRun",e[e.browseEdit=401]="browseEdit",e[e.browsePin=402]="browsePin",e[e.browseHeart=403]="browseHeart",e[e.browseUnHeart=404]="browseUnHeart",e[e.browseModerate=405]="browseModerate",e[e.browsePublish=406]="browsePublish",e[e.browseUninstall=407]="browseUninstall",e[e.browsePush=408]="browsePush",e[e.browseDiffBase=409]="browseDiffBase",e[e.browseConvertToTutorial=410]="browseConvertToTutorial",e[e.browseConvertToLesson=411]="browseConvertToLesson",e[e.browseAddScriptToList=412]="browseAddScriptToList",e[e.browseUpdate=413]="browseUpdate",e[e.browseSendPullRequest=414]="browseSendPullRequest",e[e.browseClone=415]="browseClone",e[e.browseSave=416]="browseSave",e[e.browseCreateCode=417]="browseCreateCode",e[e.browseImportCode=418]="browseImportCode",e[e.browsePublicationNotes=419]="browsePublicationNotes",e[e.browseListPointers=420]="browseListPointers",e[e.browseListBugs=421]="browseListBugs",e[e.browseListReleases=422]="browseListReleases",e[e.browseShare=423]="browseShare",e[e.browseListMyScripts=424]="browseListMyScripts",e[e.browseListNew=425]="browseListNew",e[e.browseListTop=426]="browseListTop",e[e.browseListShowcase=427]="browseListShowcase",e[e.browseListForum=428]="browseListForum",e[e.browseListDocs=429]="browseListDocs",e[e.browseListHelp=430]="browseListHelp",e[e.browseListGroups=431]="browseListGroups",e[e.browseListArt=432]="browseListArt",e[e.browseListMyArt=433]="browseListMyArt",e[e.browseListTags=434]="browseListTags",e[e.browseListSearch=435]="browseListSearch",e[e.browseListUsers=436]="browseListUsers",e[e.browseListLists=437]="browseListLists",e[e.browseFollowTopic=438]="browseFollowTopic",e[e.introSlideGetStarted=439]="introSlideGetStarted",e[e.introSlideLimitations=440]="introSlideLimitations",e[e.introSlideCreateApps=441]="introSlideCreateApps",e[e.introSlidePopCorn=442]="introSlidePopCorn",e[e.introSlideLogIn=443]="introSlideLogIn",e[e.introSlideDismiss=444]="introSlideDismiss",e[e.recordAddKey=445]="recordAddKey",e[e.recordAddValue=446]="recordAddValue",e[e.recordAddAction=447]="recordAddAction",e[e.recordPersTemporary=448]="recordPersTemporary",e[e.recordPersLocal=449]="recordPersLocal",e[e.recordPersCloud=450]="recordPersCloud",e[e.recordPersPartial=451]="recordPersPartial",e[e.recordExported=452]="recordExported",e[e.dbgEvent=453]="dbgEvent",e[e.dbgLogEvent=454]="dbgLogEvent",e[e.learnPlayVideo=455]="learnPlayVideo",e[e.learnBrowseDoc=456]="learnBrowseDoc",e[e.offlineLoginSync=457]="offlineLoginSync",e[e.offlineLoginSyncNoToken=458]="offlineLoginSyncNoToken",e[e.offlineLoginGettingStarted=459]="offlineLoginGettingStarted",e[e.offlineEnsureLogin=460]="offlineEnsureLogin",e[e.offlineEnsureLoginOk=461]="offlineEnsureLoginOk",e[e.translateNagDisplay=462]="translateNagDisplay",e[e.translateNagOk=463]="translateNagOk",e[e.benchmarksNagDisplay=464]="benchmarksNagDisplay",e[e.benchmarksNagDismiss=465]="benchmarksNagDismiss",e[e.benchmarksNagRunOne=466]="benchmarksNagRunOne",e[e.benchmarksNagRunSuite=467]="benchmarksNagRunSuite",e[e.songAlbumPlay=468]="songAlbumPlay",e[e.songPlay=469]="songPlay",e[e.warningNotificationTap=470]="warningNotificationTap",e[e.crashDialogEdit=471]="crashDialogEdit",e[e.crashDialogDebug=472]="crashDialogDebug",e[e.toLibNewLib=473]="toLibNewLib",e[e.toLibExistingLib=474]="toLibExistingLib",e[e.toLibOKtoMove=475]="toLibOKtoMove",e[e.toLibAdvanceSelectedToPending=476]="toLibAdvanceSelectedToPending",e[e.toLibMakeTheMove=477]="toLibMakeTheMove",e[e.toLibDiscardPending=478]="toLibDiscardPending",e[e.toLibExitToEditor=479]="toLibExitToEditor",e[e.collabFirstLoad=480]="collabFirstLoad",e[e.collabResume=481]="collabResume",e[e.collabRecordAst=482]="collabRecordAst",e[e.collabRealMerge=483]="collabRealMerge",e[e.collabPostChatMessage=484]="collabPostChatMessage",e[e.collabStartCollaboration=485]="collabStartCollaboration",e[e.collabStopCollaboration=486]="collabStopCollaboration",e[e.codeCompile=487]="codeCompile";var n,E=M.Ticks;!function(l){var t,n,o=[],a=200,s=-1,i=-1,r="",c={},u=!1,d=10,p=1,h=300,m=!1;function f(){var e=new Date;r=M.Util.fmt("{0}.{1}.{2}",e.getFullYear(),e.getMonth()+1,e.getDate()),h<d&&(d=h),i=e.getTime()+1e3*d}function g(){u=!0}function e(e){void 0===e&&(e=!1);var t=[],n=window.localStorage.archivedEvents;n&&(t=JSON.parse(n)),t.push({sessionEvents:c,dateStr:r,chunkId:p++}),30<(t=t.filter(function(e){return!!e.dateStr})).length&&(t=t.slice(t.length-30));var i=JSON.stringify(t);5e4<i.length&&(i="[]"),window.localStorage.archivedEvents=i,e&&M.Cloud.hasAccessToken()&&M.Cloud.isOnline()&&y(t)}function v(){M.Util.now()>i&&(f(),e(!0),M.RT.Perf.saveCurrentAsync(!0).done(),d<h&&(d*=1.1,window.localStorage.ticksDelay=d+""),c={})}function y(e){if(0!=e.length){var n=e[0].chunkId,t={dateStr:e[0].dateStr,sessionEvents:e[0].sessionEvents,platform:M.Browser.platformCaps,worldId:"",jsUrl:l.mainJsName};l.fillEditorInfoTicksReport&&l.fillEditorInfoTicksReport(t),0==Object.keys(t.sessionEvents).length?i():M.Cloud.postTicksAsync(t).done(function(){return i()},function(e){})}function i(){var e=window.localStorage.archivedEvents;if(e){var t=JSON.parse(e);window.localStorage.archivedEvents=JSON.stringify(t.filter(function(e){return e.chunkId!=n})),y(t)}}}function b(e){return M.enumToString(E,e)}function _(){if(!window||!window.localStorage)return"";for(var e=window.localStorage,t="",n=0;n<e.length;++n)t+=e.key(n)+" -> "+e[e.key(n)].length+",  ";return t}function w(){return"BuG"+(2e13-Date.now())+M.Random.uniqueId(12)}function k(e){M.Util.log("TICK: "+e),m&&!u&&(v(),x(e=e.replace(/[^a-zA-Z_]/g,"_"))&&(c[e]?c[e]++:c[e]=1))}function x(e){return!!e&&(!M.Cloud.config.tickFilter||!!M.Cloud.config.tickFilter[e.replace(/\|.*/,"")])}function C(e,t,n){if(0!=e&&e){var i=b(e);if(n&&(i+=t+n),454==e?e=453:453==e?M.Util.log("DBG: "+i):M.Util.log("TICK: "+i),m&&!u){v();var r={timestamp:M.Util.now(),event:e,arg:n};if(0<=s?(o[s++]=r,a<=s&&(s=0)):(o.push(r),o.length>=a&&(s=0)),453!=e&&T(),453!=e&&x(i)&&(c[i]?c[i]++:c[i]=1,window.tdAppInsights))try{window.tdAppInsights.trackEvent(i)}catch(e){}}}}function S(e,t){return C(e,"|",t)}function A(){var e=L();e&&!document.hidden&&n&&(M.Browser.isCellphone&&(e+="_mobile"),k("editor_"+e),n=0),M.Util.setTimeout(M.RT.Math_.random_range(3e3,17e3),A)}function T(){n=M.Util.now()}function L(){return t}l.mainJsName="unknown",l.fillEditorInfoBugReport,l.fillEditorInfoTicksReport,l.disable=g,l.init=function(){if(/ckns_policy=..0/.test(document.cookie))g();else{var e=1*window.localStorage.ticksDelay;e&&(d=e),f();var t=window.localStorage.archivedEvents;if(t){var n;try{n=JSON.parse(t)}catch(e){M.Util.log("bogus JSON in archivedEvents: "+t),M.Util.check(!1,"malformed JSON in archived events"),delete window.localStorage.archivedEvents}if(n){n.forEach(function(e){p=Math.max(e.chunkId,p)}),p++;var i=n.peek();i&&i.dateStr==r&&(c=i.sessionEvents,n.pop(),window.localStorage.archivedEvents=JSON.stringify(n)),y(n)}}A(),m=!0}},l.saveCurrent=e,l.tickName=b,l.tickN=function(e,t){S(e+M.Util.boundTo(0,t,5))},l.dbg=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];S(453,M.Util.fmt_va(e,t))},l.localStorageState=_,l.mkReportId=w,l.mkBugReport=function(t,e){void 0===e&&(e="");var n={exceptionConstructor:"(unknown)",exceptionMessage:"(unknown)",context:e,currentUrl:"",worldId:"",kind:"",scriptId:"",stackTrace:"",sourceURL:"",line:-1,eventTrace:"",userAgent:"",resolution:"",jsUrl:l.mainJsName,timestamp:M.Util.now(),platform:[],attachments:[],tdVersion:M.Cloud.config.tdVersion||"",reportId:w()};l.fillEditorInfoBugReport&&l.fillEditorInfoBugReport(n),Array.isArray(t.bugAttachments)&&n.attachments.pushRange(t.bugAttachments);var i=t.tdMeta;i&&i.reportId&&(n.reportId=i.reportId);try{var r=M.Util.isError(t,function(e){return e.isDatabaseError}),o=M.Util.isError(t,function(e){return e.isNetworkError});if(n.kind=r?"databaseError":o?"networkError":"",t?t.message?(n.exceptionMessage=t.message+"",t.stack?n.stackTrace=t.stack+"":t.sourceURL&&(n.stackTrace="@"+t.sourceURL+":"+t.line)):Array.isArray(t)?n.exceptionMessage=t.join("\n"):n.exceptionMessage=t+"":n.exceptionMessage="(null)",t&&t.name&&"Error"!=t.name?n.exceptionConstructor=t.name:n.exceptionConstructor=n.exceptionMessage.substr(0,40),r&&(n.exceptionConstructor="DB "+n.exceptionConstructor),/autotest-/.test(e)&&(n.exceptionConstructor="TEST "+n.exceptionConstructor),/^bitvm/.test(e)&&(n.exceptionConstructor="BITVM "+n.exceptionConstructor),n.exceptionMessage&&/\[object /.test(n.exceptionMessage)){var a=n.exceptionMessage,s=M.Util.getErrorInfo(t);s?a+=" "+s:Object.keys(t).forEach(function(e){a.length<2e3&&(a+=" "+e+": '"+t[e]+"'")}),n.exceptionMessage=a}/QUOTA/.test(n.exceptionMessage)&&(n.exceptionMessage+="  "+_()),"custom"!=e&&l.dbg("CRASH REPORT "+n.exceptionMessage),t.sourceURL&&(n.sourceURL=t.sourceURL),t.line&&(n.line=t.line)}catch(e){}try{n.logMessages=M.Util.getLogMsgs(),n.logMessages.reverse();for(var c=20;1e5<JSON.stringify(n.logMessages).length;)if(n.logMessages=n.logMessages.slice(0,Math.floor(n.logMessages.length/2)),c--<0){n.logMessages=[];break}n.eventTrace=""}catch(e){}if("custom"!=e&&window.tdAppInsights)try{window.tdAppInsights.trackException(t,n)}catch(e){}return n},l.bugReportToString=function(e,t){void 0===t&&(t=!1);var n=function(e){return e.replace(/\r?\n/," ")},i="Error: "+n(e.exceptionMessage)+"\nURL: "+n(e.currentUrl)+" (script: "+n(e.scriptId)+", context: "+n(e.context)+")\nJS-URL: "+n(e.jsUrl)+"\nPlatform: "+n(M.Browser.platformCaps.join(", "))+"\nUserAgent: "+n(e.userAgent)+" (resolution: "+n(e.resolution)+")\nDate: "+new Date(e.timestamp).toString()+"\n";return t||(i+="\nRecentEvents:\n"+e.eventTrace+"\n\nStackTrace:\n"+e.stackTrace+"\n\n"),i},l.bugReportForHash=function(e){return e.exceptionMessage+" "+e.stackTrace},l.rawTick=k,l.tickArg=function(e,t){return C(e,"$",t)},l.tick=S,l.getRecentEvents=function(){return 0<=s?o.slice(s).concat(o.slice(0,s)):o.slice(0)},l.poke=T,l.setCurrentEditorId=function(e){M.Util.log("set editor: "+e),t=e},l.getCurrentEditorId=L}(n=M.Ticker||(M.Ticker={})),M.tick=function(e,t){n.tick(e,t)},M.tickArg=function(e,t){n.tickArg(e,t)},M.tickN=function(e,t){n.tickN(e,t)}}(TDev||(TDev={})),function(y){y.snapView=!1,function(u){u.topFontSize=24,u.windowHeight=800,u.windowWidth=1300,u.wallWindowWidth=1300,u.editorWindowWidth=1300,u.portraitMode=!1,u.phoneMode=!1,u.devicePixelRatio=1,u.hubFontSize=30,u.lastOrientationLockTime=0,u.splitScreen=!1,u.splitScreenRequested=!1;var d=-1,p=-1,h=0,m=0,f=320,g=460;function v(){return!u.phoneMode&&!u.portraitMode&&1.2*u.windowWidth>u.windowHeight}function n(e){void 0===e&&(e=!1),function(){if(!(0<=d)){var e=/phone=([\d\.]+)(x([\d\.]+))?/.exec(window.document.URL);if(e){d=parseFloat(e[1]);var t=e[3];t||(t=e[1]),p=parseFloat(t)}else p=d=0}}();var t=window.innerHeight,n=window.innerWidth;if(y.Browser.isTrident&&y.Browser.isCellphone&&(u.devicePixelRatio=n<t?window.screen.width/n:window.screen.height/n),y.Ticker.dbg("resize(prev w={0} h={1}, curr w={2} h={3})",m,h,n,t),!(!e&&0<h&&y.Browser.isTouchDevice&&Math.abs(n-m)<30&&1<Math.abs(h-t)&&600<y.Util.now()-u.lastOrientationLockTime)){y.Browser.brokenResize&&n<t&&(t<=300?(n=f,t=g,y.Ticker.dbg("brokenResize, fixing up to {0}x{1}",n,t)):(f=n,g=t)),9==y.Browser.browser&&y.Browser.isCellphone&&350<t&&t<=416&&(t=417),y.Browser.mobileWebkit&&y.Util.setTimeout(100,function(){window.scrollTo(0,1)});var i=n,r=t,o=function(e,t){return t<=0?e:t<=2?t*e:t};if(n=o(n,d),t=o(t,p),e||t!=h||n!=m){h=t,m=n;var a=y.Browser.isDesktop?.9:1.2;u.portraitMode=n*a<t,y.Browser.isCellphone&&(u.phoneMode=!0),0<d&&(u.phoneMode=!0),u.splitScreen=u.splitScreenRequested&&v(),(u.phoneMode||u.splitScreen)&&(u.portraitMode=!0),y.Util.log("view:"+(u.portraitMode?" portrait":" landscape")+(u.phoneMode?" phone":"")+(u.splitScreen?" split":"")+" size:"+n+"x"+t);u.windowHeight=t,u.windowWidth=n,u.splitScreen?(u.editorWindowWidth=u.windowWidth/1.618,u.wallWindowWidth=u.windowWidth-u.editorWindowWidth):(u.editorWindowWidth=u.windowWidth,u.wallWindowWidth=u.windowWidth),u.topFontSize=Math.floor(Math.min(t/25,u.editorWindowWidth/(u.phoneMode?25:u.portraitMode?36:55))),u.splitScreen&&(u.wallWindowWidth-=.15*u.topFontSize);var s=window.localStorage.zoomFactor;s&&parseFloat(s)&&(u.topFontSize=Math.round(u.topFontSize*y.Util.between(.3,parseFloat(s),2))),y.elt("root").style.height=t+"px",0<d&&(y.elt("root").style.width=n+"px"),y.Browser.isMobile||(u.topFontSize=16),y.elt("root").style.fontSize=u.topFontSize+"px";var c=u.portraitMode?"portrait":"landscape";u.phoneMode&&(c+=" phone"),u.splitScreen&&(c+=" split"),y.Browser.assumeMouse&&(c+=" assume-mouse"),y.Browser.assumeMouse&&1!=y.Browser.browser&&2!=y.Browser.browser&&(c+=" assume-notouch"),u.topFontSize<=12&&(c+=" tinyFont"),u.topFontSize<=18&&(c+=" smallFont"),c+=" rootClass",y.Browser.brokenColumns&&(c+=" brokenColumns"),y.elt("root").className=c;var l=y.elt("root").style;0<d&&(l.left=(i-n)/2+"px",l.top=(r-t)/2+"px",l.background="#fff",document.body.style.background="#666"),y.currentScreen&&y.currentScreen.applySizes()}}}u.earlyInit=function(){u.phoneMode=y.Browser.isCellphone||/phone=([\d\.]+)/.test(window.document.URL)},u.canSplitScreen=v,u.setSplitScreen=function(e){u.splitScreenRequested=e;var t=u.splitScreenRequested&&v();t!=u.splitScreen&&(u.splitScreen=t,n(!0))},u.applySizes=n,u.getColumnWidth=function(){return this.portraitMode?window.innerWidth-2*this.topFontSize:18.5*this.topFontSize}}(y.SizeMgr||(y.SizeMgr={}))}(TDev||(TDev={})),function(s){s.currentScreen=null,s.allScreens=[];var e=function(){function r(){var n=this;this.numReloads=0,this.urlStack=[],this.numPush=1,this.lastSetHash="",this.replaceNext=!1,c.pushModalHash=function(e,t){return n.pushModalHash(e,t)},c.popModalHash=function(e){return n.popModalHash(e)},r.instance=this,s.Util.onSetHash=function(e,t){return n.setHashHandler(e,t)},s.Util.onGoBack=function(){return n.back()}}return r.prototype.currentHash=function(){return this.lastSetHash},r.urlHash=function(e){var t=e.indexOf("#");return 0<t&&t<e.length-1?e.slice(t):"#"+s.hubHash},r.windowHash=function(){var e=window.location.href;return r.urlHash(e)},r.prototype.pushState=function(e){try{s.Util.log("pushState: "+e),e=window.location.href.replace(/#.*/,"")+(e||""),window.history.pushState(++this.numPush,null,e)}catch(e){}},r.prototype.setHash=function(e,t){s.Util.log("sethash: "+e+" - "+t),s.Ticker.dbg("History.setHash|"+e);var n=this.replaceNext;this.replaceNext=!1,n&&s.Ticker.dbg("History.setHash is a replace"),this.numReloads++,/^#/.test(e)||(e="#"+e),e=="#"+s.hubHash&&(e="#"),this.clearModalSuffix(),c.arrivedAtHash(e),0==this.urlStack.length||this.urlStack.peek().url!=e?(this.urlStack.push({url:e,onPop:function(){}}),this.pushState(e)):s.Ticker.dbg("setHash.. ignoring same hash"),null!==t&&(document.title=t?t+" - "+s.Runtime.appName:s.Runtime.appName)},r.prototype.pushModalHash=function(e,t){var n="#modal-"+e;0<this.urlStack.length&&this.urlStack.peek().url==n&&this.urlStack.pop(),this.urlStack.push({url:n,onPop:t}),this.pushState(this.topHash()),c.arrivedAtHash(n)},r.prototype.popModalHash=function(e){s.Ticker.dbg("popModal "+e);for(var t="#modal-"+e,n=-1,i=0;i<this.urlStack.length;i++)if(this.urlStack[i].url==t){n=i,this.urlStack[i].onPop=null;break}n<0||this.popBack(this.urlStack.length-n)},r.prototype.popBack=function(e){void 0===e&&(e=1),s.Ticker.dbg("historyMgr: popBack "+e);for(var t=this.urlStack.splice(this.urlStack.length-e,e),n=!1,i=t.length-1;0<=i;i--){var r=t[i];if(/#modal-/.test(r.url)||(n=!0),r.onPop){var o=r.onPop;r.onPop=null,o()}}var a=this.urlStack.peek();c.arrivedAtHash(a?a.url:"#"),n?this.dispatch(this.topHash()):this.hashReloaded()},r.prototype.hashReloaded=function(){this.pushState(this.topHash())},r.prototype.topHash=function(){for(var e=this.urlStack.length-1;0<=e;e--){var t=this.urlStack[e];if(t&&!/^#modal-/.test(t.url))return t.url}return"#"},r.prototype.dispatch=function(e){s.Util.log("dispatch: "+e),s.ModalDialog.dismissCurrent(),this.pushState(e),this.reload(e)},r.prototype.initialHash=function(){this.setHashHandler(r.windowHash(),!0),""!=this.lastSetHash||this.replaceNext||(this.pushState(null),this.replaceNext=!0,this.showStartScreen())},r.prototype.showStartScreen=function(){},r.prototype.reload=function(e){},r.prototype.confirmLoadHash=function(){s.Ticker.dbg("History.confirmLoadHash"),this.replaceNext=!1},r.prototype.clearModalSuffix=function(){for(var e=0;e<this.urlStack.length;e++){if(/^#modal-/.test(this.urlStack[e].url))return this.urlStack.splice(e,this.urlStack.length-e).length}return 0},r.prototype.clearModalStack=function(){this.clearModalSuffix()},r.prototype.commandHandler=function(e){},r.prototype.popState=function(e){var t=this;if(s.Ticker.dbg("popState: "+e.state),1!=this.urlStack.length){var n=r.windowHash();if(/^#cmd:/.test(n)){var i=this.topHash();this.whenSafe(function(){t.pushState(i),t.commandHandler(n)})}else this.back()}else window.history.back()},r.prototype.back=function(){var e=this;this.whenSafe(function(){return e.popBack()})},r.prototype.whenSafe=function(e){var t=this;s.ProgressOverlay.isActive()?s.Util.setTimeout(500,function(){return t.whenSafe(e)}):e()},r.prototype.setHashHandler=function(t,n){var i=this;this.whenSafe(function(){if(t||(t="#"),/^#/.test(t)||(t="#"+t),n)for(var e=i.urlStack.length-1;0<=e;--e)if(i.urlStack[e].url==t)return e==i.urlStack.length-1?void s.Util.log("replaced hash already current, skipping "+t):(s.Util.log("found hash to replace in stack, popping "+t),void i.popBack(i.urlStack.length-1-e));i.dispatch(t)})},r.prototype.scriptOrHub=function(e){var t=e.filter(function(e){return/^id=/.test(e)})[0];if(t){var n=t.replace(/^id=/,"script:");"list"==e[0]?s.Util.setHash(e[0]+":"+e[1]+":"+n,!0):s.Util.setHash(n,!0)}else s.Util.setHash(s.hubHash,!0)},r.prototype.hashChange=function(){s.Util.log("hashChange: "+r.windowHash())},r}();s.HistoryMgr=e;var c=function(){function n(){this.paneState=0}return n.prototype.init=function(){},n.prototype.hide=function(){},n.prototype.screenId=function(){return""},n.prototype.loadHash=function(e){},n.prototype.keyDown=function(e){return!1},n.prototype.applySizes=function(){},n.prototype.syncDone=function(){},n.prototype.hashReloaded=function(){},n.prototype.autoHide=function(){return s.SizeMgr.portraitMode},n.prototype.sidePaneVisible=function(){return!this.autoHide()||"block"==this.sidePane().style.display},n.prototype.sidePaneVisibleNow=function(){return!this.autoHide()||0<this.paneState},n.prototype.updateSidePane=function(){var e=this.sidePane();this.autoHide()?this.autoHide()&&this.paneState<0&&(e.style.display="none"):(e.style.display="block",e.style.opacity="1"),s.elt("root").setFlag("pane-hidden","none"==e.style.display)},n.prototype.showSidePane=function(){var e=this;if(this.autoHide()&&!(0<this.paneState)){n.pushModalHash("side",function(){return e.hideSidePane()}),s.elt("root").setFlag("pane-hidden",!1),this.paneState=1;var t=this.sidePane();t.style.display="block",t.style.opacity="1",s.Util.showRightPanel(t)}},n.prototype.sidePane=function(){return null},n.prototype.hideSidePane=function(){var e=this,t=this.sidePane();if(!this.autoHide())return t.style.display="block",void(t.style.opacity="1");this.paneState<0||(n.popModalHash("side"),s.elt("root").setFlag("pane-hidden",!0),this.paneState=-1,s.Util.hidePopup(t,function(){e.paneState<0&&e.autoHide()&&(t.style.display="none")}))},n.prototype.hashCommandHandler=function(e){},n.pushModalHash=function(e,t){},n.popModalHash=function(e){},n.arrivedAtHash=function(e){},n}();s.Screen=c;var t=function(){function r(){this.handlers={}}return r.prototype.register=function(e,t){/^-/.test(e)||(this.handlers[e]=t)},r.prototype.saveState=function(){return s.Util.flatClone(this.handlers)},r.prototype.loadState=function(e){s.Util.check(!!e)&&(this.handlers=e)},r.prototype.triggerKey=function(e){var t=this.handlers[e];t&&t.isBtnShortcut&&t()},r.triggerClick=function(e){var t=e.clickHandler;if(t){var n=document.activeElement;n&&n.blur&&n.blur(),e.setFlag("active",!0),s.Util.setTimeout(150,function(){e.setFlag("active",!1)}),t.fireClick({})}},r.elementVisible=function(e){for(;e;){if("root"==e.id)return!0;if("none"==window.getComputedStyle(e).display)return!1;e=e.parentNode}return!1},r.prototype.btnShortcut=function(e,t){var n=this;if(t){var i=function(){return!!r.elementVisible(e)&&(r.triggerClick(e),!0)};i.isBtnShortcut=!0,/^ /.test(t)||t.split(", ").forEach(function(e){return n.register(e,i)}),e.title=t.replace(/(^| )-/g,"")}},r.prototype.keyUp=function(e){if(s.Util.normalizeKeyEvent(e),/-(Control|Alt)$/.test(e.keyName))return!0;var t=this.handlers["*keyup*"];return!(!t||(s.Ticker.dbg("keyUp.run"),!t(e)))||void 0},r.prototype.processKey=function(e){if(s.Util.normalizeKeyEvent(e),/-(Control|Alt)$/.test(e.keyName))return!0;if(s.Browser.isGecko){var t="keypress"==e.type&&this.previousStoppedEvent&&"keydown"==this.previousStoppedEvent.type;if(this.previousStoppedEvent=null,t)return e.stopIt()}return this.keyHandler(e)?(s.Browser.isGecko&&(this.previousStoppedEvent=e),e.stopIt()):void 0},r.prototype.attach=function(e){var t=this;e.onkeydown=s.Util.catchErrors("textboxKey",function(e){return e.fromTextBox=!0,t.processKey(e)})},r.prototype.keyHandler=function(e){if(s.ProgressOverlay.isKeyboardBlocked())return!0;if("Ctrl-Control"==e.keyName)return!1;if(/^(Del|Ctrl-[CXVA]|Shift-(Left|Right)|(Ctrl|Shift)-(Ins|Del))$/.test(e.keyName)&&e.fromTextBox)return!1;if(s.dbg&&e.keyName&&s.tick(3),(t=this.handlers["*keydown*"])&&(s.dbg&&e.keyName&&s.Ticker.dbg("keyHandler.preCatchAll."+e.keyName),t(e)))return!0;var t=this.handlers[e.keyName];return!(!t||(s.dbg&&e.keyName&&s.Ticker.dbg("keyHandler.byName."+e.keyName),!t(e)))||(!(!(t=this.handlers["***"])||(s.dbg&&e.keyName&&s.Ticker.dbg("keyHandler.catchAll."+e.keyName),!t(e)))||(!(!s.currentScreen||(s.dbg&&e.keyName&&s.Ticker.dbg("keyHandler.currentScreen."+e.keyName),!s.currentScreen.keyDown(e)))||8==e.keyCode&&!e.fromTextBox))},r.instance=new r,r}();s.KeyboardMgr=t}(TDev||(TDev={})),function(b){var _=function(){function o(){this.onBoxSelected=function(){},this.onRendered=function(){},this.numBoxes=0,this.scrollspeculation=!0,this.currentAstNodeId="",this.selectedBox=null,this.boxMenu=null,this.scrollTop=void 0,this.scrollLeft=void 0,this.sideview=!1,this.scrollbarWidth=void 0,this.scrollbarHeight=void 0}return o.prototype.updateEditMode=function(e){this.editMode=e.liveViewSupported()&&(e.isStopped()||e.liveMode()),this.editMode||(this.currentAstNodeId&&this.clearRelatedBoxes(),null!==this.selectedBox&&this.unselectBox(),this.adjustForNormalView()),this.rootBox&&this.updateRootElement()},o.RenderExecutionMode=function(){return o.renderexecutionmode},o.SetRenderExecutionMode=function(e){o.renderexecutionmode=e},o.QueueReLayout=function(){var e=function(){o.needrelayout&&(!o.renderexecutionmode&&o.instance.rootBox?(o.instance.CoreLayout(),o.needrelayout=!1):b.Util.setTimeout(100,e))};o.needrelayout||(o.needrelayout=!0,b.Util.setTimeout(50,e))},o.prototype.adjustForSideView=function(){this.sideview||(this.rootElement.style.overflow="auto",this.rootElement.style.msContentZooming="zoom",this.rootBox instanceof m&&this.rootBox.setRenderedSideView(!0),this.updateRootElement(),this.sideview=!0)},o.prototype.adjustForNormalView=function(){if(this.sideview){var e=this.rootElement;e.style.overflow="",e.style.msContentZooming="",e.scrollTop=0,e.scrollLeft=0,e.msContentZoomFactor=1,this.rootBox instanceof m&&this.rootBox.setRenderedSideView(!1),this.updateRootElement(),this.sideview=!1}},o.prototype.FlagTypingActivity=function(e){this.lastbox_edited=e},o.prototype.ClearTypingActivity=function(e){this.lastbox_edited===e&&(this.lastbox_edited=void 0)},o.prototype.CheckTypingActivity=function(e){return this.lastbox_edited===e},o.createOrRecycleContainerBoxDelayed=function(n,i){var r=n.getTopScriptPc();o.lazyInitCurrentRanderBox=function(){o.lazyInitCurrentRanderBox=function(){};var e=o.htmlTagName||"div";o.htmlTagName=void 0;var t=m.CreateOrRecycleContainerBox(n,i,r,e);o.currentbox=t},o.currentbox=null},o.setHtmlTagName=function(e){o.currentbox&&b.Util.userError(b.lf("you cannot set the HTML tag name here")),o.htmlTagName=e},o.getCurrentRenderBox=function(){return o.lazyInitCurrentRanderBox(),o.currentbox},o.setCurrentRenderBox=function(e){o.lazyInitCurrentRanderBox(),o.currentbox=e},o.prototype.findFirstBoxByNodeId=function(e){if(!this.pcTable)return null;var t=this.pcTable[e];return void 0===t?null:t},o.prototype.findAllBoxesByNodeId=function(t){var n=[];return this.boxes&&this.boxes.forEach(function(e){e.getAstNodeId()===t&&n.push(e)}),n},o.prototype.findAllBoxesByPropertyNodeId=function(i){var r=[];return this.boxes&&this.boxes.forEach(function(e){var t=e.pcTable;for(var n in t)if(t[n]===i){r.push(e);break}}),r},o.prototype.getSelectedBox=function(){return this.selectedBox},o.prototype.setCurrentId=function(e){this.currentAstNodeId=e},o.prototype.getCurrentId=function(){return this.currentAstNodeId},o.prototype.selectBox=function(e){if(null!==this.selectedBox){for(var t=e;null!==t;){if(t===this.selectedBox)return!1;t=t.parent}this.unselectBox()}return this.currentAstNodeId&&this.clearRelatedBoxes(),!(!e||e.depth<=0||e.isSingleChild&&e.isLeaf()&&1<e.depth)&&(this.selectedBox=e,this.highlightSelectedBox(),this.onBoxSelected&&this.onBoxSelected(),!0)},o.prototype.showBoxMenu=function(e){var t=b.HTML.mkRoundButton("svg:edit,currentColor",b.lf("edit"),290,function(){e&&e()});this.boxMenu=b.div("wall-selected",[t]),this.refreshBoxMenu()},o.prototype.refreshBoxMenu=function(){null!==this.boxMenu&&(this.updateBoxMenuPosition(),this.rootElement.appendChild(this.boxMenu),this.checkBoxMenuPosition())},o.prototype.hideBoxMenu=function(){null!==this.boxMenu&&(b.Animation.fadeOut(this.boxMenu).begin(),this.boxMenu=null)},o.prototype.updateBoxMenuPosition=function(){if(null!==this.selectedBox&&null!==this.boxMenu){var e=this.selectedBox,t=b.Util.offsetIn(e.element,this.rootElement),n=this.rootElement.clientWidth,i=this.rootElement.clientHeight,r=1*e.getRenderedWidth(),o=1*e.getRenderedHeight(),a=1*t.x,s=1*t.y,c=.2*b.SizeMgr.topFontSize;a+r/2<n/2?(this.boxMenu.style.right="auto",this.boxMenu.style.left=a+r+c+"px"):(this.boxMenu.style.left="auto",this.boxMenu.style.right=n-(a-c)+"px"),s+o/2<i/2?(this.boxMenu.style.bottom="auto",this.boxMenu.style.top=s+"px"):(this.boxMenu.style.top="auto",this.boxMenu.style.bottom=i-(s+o)+"px")}},o.prototype.checkBoxMenuPosition=function(){if(null!==this.boxMenu){this.selectedBox;var e=b.Util.offsetIn(this.boxMenu,this.rootElement),t=this.rootElement.clientWidth,n=this.rootElement.clientHeight,i=1*this.boxMenu.clientWidth,r=1*this.boxMenu.clientHeight,o=1*e.x-this.rootElement.scrollLeft,a=1*e.y-this.rootElement.scrollTop,s=o+i,c=a+r;o<0?(this.boxMenu.style.left="0px",this.boxMenu.style.right="auto"):t<s&&(this.boxMenu.style.right="0px",this.boxMenu.style.left="auto"),a<0?(this.boxMenu.style.top="0px",this.boxMenu.style.bottom="auto"):n<c&&(this.boxMenu.style.bottom="0px",this.boxMenu.style.top="auto")}},o.prototype.unselectBox=function(){null!==this.selectedBox&&(this.findAllBoxesByNodeId(this.selectedBox.getAstNodeId()).forEach(function(e){e.clearHighlight()}),this.selectedBox=null,this.hideBoxMenu())},o.prototype.highlightSelectedBox=function(){var t=this;null!==this.selectedBox&&(this.selectedBox.setHighlight(),this.scrollToShow(this.selectedBox),this.findAllBoxesByNodeId(this.selectedBox.getAstNodeId()).forEach(function(e){t.selectedBox!==e&&e.setHighlight(!1)}))},o.prototype.highlightRelatedBoxes=function(){if(null!==this.selectedBox&&this.unselectBox(),this.currentAstNodeId){var t=this.findFirstBoxByNodeId(this.currentAstNodeId);null!==t&&(t.setHighlight(),this.selectedBox=t),this.findAllBoxesByPropertyNodeId(this.currentAstNodeId).forEach(function(e){t!==e&&e.setHighlight(!1)})}},o.prototype.clearRelatedBoxes=function(){this.currentAstNodeId&&this.findAllBoxesByPropertyNodeId(this.currentAstNodeId).forEach(function(e){e.clearHighlight()}),this.currentAstNodeId=""},o.prototype.createZoomingUI=function(){var o=this,i=b.span(null,""),a=b.div("cursor"),s=b.div("slider",[a]);this.updateslider=function(e,t){var n=o.scale;o.scale=Math.max(o.minimumScale,Math.min(e,o.maximumScale)),a.style.top="0",a.style.left=(s.clientWidth-a.clientWidth)*o.fromZoomToSliderValue(o.scale)+"px",i.setChildren([Math.round(100*o.scale).toString()+"%"]),t&&(o.updateScaling(o.scale),void 0!==o.scrollTop&&(o.scrollTop=o.scrollTop*o.scale/n+o.rootElement.offsetHeight/2*(o.scale/n-1),o.scrollLeft=o.scrollLeft*o.scale/n+o.rootElement.offsetWidth/2*(o.scale/n-1),o.recoverScroll()))},new b.DragHandler(a,function(e,t,n){var i=b.Util.offsetIn(a,s),r=s.clientWidth-a.clientWidth;o.updateslider(o.fromSliderValueToZoom(i.x/r),!0)});var e=b.HTML.mkButtonElt("wall-zoom-out","-");e.withClick(function(){o.updateslider(.9*o.scale,!0)});var t=b.HTML.mkButtonElt("wall-zoom-in","+");return t.withClick(function(){o.updateslider(1.1*o.scale,!0)}),b.div("wall-zoom",i,e,s,t)},o.prototype.fromSliderValueToZoom=function(e){return this.minimumScale*Math.exp(Math.log(this.maximumScale/this.minimumScale)*e)},o.prototype.fromZoomToSliderValue=function(e){return this.minimumScale>=this.maximumScale?1:Math.log(e/this.minimumScale)/Math.log(this.maximumScale/this.minimumScale)},o.prototype.getRootElement=function(){return this.rootElement},o.prototype.getRootBox=function(){return this.rootBox},o.prototype.updateRootElement=function(){this.rootElement.setAttribute("livemode",this.editMode?"true":"false")},o.prototype.calcDefaultScaling=function(){if(this.sideview){if(void 0===this.scale||isNaN(this.scale)){var e=this.rootElement.offsetWidth/this.rootBox.element.offsetWidth,t=this.rootElement.offsetHeight/this.rootBox.element.offsetHeight;this.minimumScale=.5*Math.min(e,t),this.maximumScale=100*this.minimumScale;var n=Math.max(e,t);this.scale=n,this.updateScaling(this.scale)}}else this.updateScaling(1)},o.prototype.updateScaling=function(e){this.sideview&&this.rootElement.msContentZoomFactor?(b.Util.setTransform(this.rootBox.element,"scale("+10*this.minimumScale+", "+10*this.minimumScale+")","0% 0%"),this.rootElement.msContentZoomFactor=e/(10*this.minimumScale),this.rootElement.style.msContentZoomLimit="10% 1000%"):b.Util.setTransform(this.rootBox.element,"scale("+e+", "+e+")","0% 0%")},o.prototype.FindScrollbarSizes=function(e){if(void 0===this.scrollbarWidth){var t=e.style.overflow||"";this.scrollbarWidth=e.clientWidth,this.scrollbarHeight=e.clientHeight,e.style.overflow="scroll",this.scrollbarWidth-=e.clientWidth,this.scrollbarHeight-=e.clientHeight,e.style.overflow=t}},o.prototype.recoverScroll=function(){this.sideview&&void 0!==this.scrollTop&&(this.rootElement.scrollTop=this.scrollTop,this.rootElement.scrollLeft=this.scrollLeft)},o.prototype.onScroll=function(){this.scrollTop=this.rootElement.scrollTop,this.scrollLeft=this.rootElement.scrollLeft;var e=this.rootElement.msContentZoomFactor;e&&this.updateslider(e*this.minimumScale*10,!1)},o.prototype.scrollToShow=function(e){},o.prototype.render=function(e,t){if(null!==e&&(null===e.parent||void 0===e.parent)){this.rootElement=t,(this.rootBox=e).isRoot=!0;var n=e.element;this.rootElement.firstChild==n&&this.rootBox.structuring_done||this.CreateOrFixElementStructure(),this.CoreLayout()}},o.prototype.isOnScreen=function(e){for(var t=document.documentElement;e;){if(e===t)return!0;if("none"===e.style.display)return!1;e=e.parentNode}return!1},o.prototype.CoreLayout=function(){var e=this;this.rootBox instanceof s?this.rootBox.doLayout():this.isOnScreen(this.rootElement)&&b.Util.time("CoreLayout",function(){e.FindScrollbarSizes(e.rootElement),e.sideview&&void 0!==e.scale&&1!=e.scale&&e.updateScaling(e.scale),e.rootBox.doLayout(),e.rootBox instanceof m&&!e.rootBox.speculationwascorrect(e.scrollspeculation)&&(e.scrollspeculation=!e.scrollspeculation,e.rootBox.doLayout()),e.calcDefaultScaling(),e.sideview&&(e.recoverScroll(),e.updateslider(e.scale,!0)),e.onRendered&&e.onRendered()},!1)},o.prototype.CreateOrFixElementStructure=function(){this.boxes=[],this.pcTable={};for(var e=this.rootElement,t=this.rootBox.element;e.hasChildNodes();){if((n=e.firstChild)==t)break;e.removeChild(n)}for(;e.hasChildNodes();){var n;if((n=e.lastChild)==t)break;e.removeChild(n)}this.passS(this.rootBox),this.rootBox.structuring_done=!0},o.prototype.passS=function(e){e.doLiveNavigation()&&(this.boxes.push(e),this.recordmapping(e)),e.visitS();for(var t=0;t<e.children.length;t++)this.passS(e.children[t])},o.prototype.recordmapping=function(e){for(var t in void 0===this.pcTable[e.getAstNodeId()]&&(this.pcTable[e.getAstNodeId()]=e),e.pcTable)void 0===this.pcTable[e.pcTable[t]]&&(this.pcTable[e.pcTable[t]]=e)},o.instance=new o,o.renderexecutionmode=!1,o.needrelayout=!1,o.lazyInitCurrentRanderBox=function(){},o}();b.LayoutMgr=_;var e=function(){function h(e,t){this.topDown=!1,this.crashed=!1,this.id=b.Random.uniqueId(),this.csslayout=!1,this.lastChildCount=-1,this.title="",this.subtitle="",this.chromeVisible=!0,this.backButtonVisible=!0,this.fgColor="#000000",this.bgColor="#ffffff",this.renderCount=0,this.onNavigatedFrom=new b.RT.Event_,this.runtime=e,this.element=b.div("wall-page"),this.buttons=[],this.auto=t,this.onNavigatedFrom.isPageEvent=!0,this.clear()}return h.prototype.activate=function(){this.getElement().style.display="block"},h.prototype.deactivate=function(){this.getElement().style.display="none"},h.prototype.getElement=function(){return this.element},h.prototype.isAuto=function(){return this.auto},h.prototype.isReversed=function(){return this.topDown},h.prototype.setReversed=function(e){this.topDown!=e&&(this.lastChildCount=-1,this.topDown=e)},h.prototype.rtPage=function(){return this._rtPage||(this._rtPage=b.RT.Page.mk(this)),this._rtPage},h.applySizeUpdate=function(e){var t=function(e){e&&(e.updateSizes&&e.updateSizes(),b.Util.childNodes(e).forEach(t))};t(e)},h.prototype.getFrame=function(e,t){var i=this;e.rt;if(!this.isAuto()){var n={};return n.previous=e,n.rt=e.rt,n.returnAddr=t,n.entryAddr=function(e){return e.rt.leave()},n}if(!this.drawFn){var r=e.rt.compiled.lookupLibPage(this.libName,this.pageName);this.drawFn=function(e,t){var n=r(e);return n.invoke.apply(null,[n,t].concat(i.drawArgs))}}return this.drawFn(e,t)},h.prototype.refreshForNewScript=function(){this.drawFn=null},h.prototype.getCurrentBox=function(){return this.currentBox},h.prototype.setCurrentBox=function(e){this.currentBox=e},h.prototype.setFullScreenElement=function(e,t){this.fullScreenElement=t,e.setFullScreenElement(t)},h.prototype.clear=function(){this.rootBox=m.CreateOrRecycleRoot(this.runtime,null),this.setCurrentBox(this.rootBox),this.lastChildCount=-1},h.prototype.startrender=function(){this.renderCount++,this.rootBox=m.CreateOrRecycleRoot(this.runtime,this.rootBox),this.setCurrentBox(this.rootBox),this.lastChildCount=-1},h.prototype.render=function(e,t){void 0===t&&(t=0),b.Util.assertCode(0<=t);var n=this.getElement(),i=function(e){return b.div("legacy-wall-box",e.getContent())};if(n.style.background="none",n.style.color=this.fgColor,this.isAuto())n.className="wall-page "+(this.csslayout?" html-page":"box-page"),this.setFullScreenElement(e,null),_.instance.render(this.rootBox,n);else{b.Util.assert(this.rootBox instanceof m);var r=0,o=this.rootBox.size(),a=[];if(0<o){var s=this.rootBox.get(o-1);if(s.fullScreen)return this.setFullScreenElement(e,b.div("wall-fullscreen",s.getContent())),void(this.lastChildCount=-1)}if(this.setFullScreenElement(e,null),n.className="wall-page classic-page",this.lastChildCount<0){var c=[];for(r=0;r<o;++r)c.push(this.rootBox.get(this.isReversed()?r:o-r-1));n.setChildren(c.map(i)),a=[n]}else{for(r=this.lastChildCount-t;r<o;++r){var l=i(this.rootBox.get(r));if(a.push(l),this.isReversed())n.appendChild(l);else{var u=n.firstChild;u?n.insertBefore(l,u):n.appendChild(l)}}for(r=0;r<t;++r)if(this.isReversed()){var d=n.firstChild;d&&n.removeChild(d)}else{var p=n.lastChild;p&&n.removeChild(p)}}this.lastChildCount=o,a.forEach(h.applySizeUpdate)}},h}();b.WallPage=e;var t=function(){function e(){this.tappedEvent=this.mkEv(),this.textEditingEvent=this.mkEv()}return e.prototype.applyToStyle=function(e){b.Util.oops("must override")},e.prototype.mkEv=function(){var e=new b.RT.Event_;return e.isPageEvent=!0,e},e}(),a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.applyToStyle=function(e){b.Util.assert(e instanceof s);var t=e;t.element.nodeType==Node.ELEMENT_NODE&&(t.setRenderedClassnames(this.classnames),t.setRenderedStyles(this.styles),t.setRenderedAttributes(this.attributes))},t}(b.BoxAttributes=t);b.HtmlAttributes=a;var r=function(t){function e(e){t.call(this),this.flow=m.FLOW_VERTICAL,this.fontSize=0,this.fontFamily="",this.background="transparent",this.width=[0,1/0],this.height=[0,1/0],this.margin=[0,0,0,0],this.padding=[0,0,0,0],this.stretchwidth=-1,this.stretchheight=-1,this.stretchmargin=[0,0,0,0],this.borderwidth=[0,0,0,0],this.arrangement=[void 0,m.ARRANGE_BASELINE],this.scroll=[e,e],this.legacystretch=[!1,!1],this.legacybaseline=!0,this.wrap=void 0,this.wraplimit=15,this.textEditedEvent=this.mkEv()}return __extends(e,t),e.prototype.applyToStyle=function(e){e.setRenderedPositionMode("absolute"),e.setRenderedTextAlign(this.textalign),e.setRenderedBackgroundColor(this.background),e.setRenderedBackgroundImages(this.backgroundImages),e.setRenderedColor(this.foreground),e.setRenderedFontWeight(this.fontWeight),e.setRenderedFontFamily(this.fontFamily),e.setRenderedFontSize(this.fontSize),e.setRenderedWrap(this.wrap,this.wraplimit),e.setRenderedBorder(this.border,this.borderwidth)},e}(t);b.LayoutAttributes=r;var n=function(){function e(e,t,n){this.obsolete=!1,this.recycled=!1,this.reuseindex=0,this.fresh=!0,this.structuring_done=!1,this.isSingleChild=!1,this.delayedlayout=!1,this.inputversions=new Array,this.runtime=e,this.id=_.instance.numBoxes++,this.astNodeId=n,this.isRoot=!1,this.parent=t,this.parent?(this.parent.children.push(this),this.depth=this.parent.depth+1):this.depth=0,this.children=[],this.pcTable={"":this.astNodeId}}return e.prototype.getContent=function(){},e.prototype.setContent=function(e){},e.prototype.RefreshOnScreen=function(){},e.prototype.SwapImageContent=function(e){},e.prototype.hookContent=function(){},e.prototype.mayReplaceWith=function(e){return!1},e.prototype.isLeaf=function(){return!1},e.prototype.doLiveNavigation=function(){return!0},e.prototype.getRenderedWidth=function(){return 0},e.prototype.getRenderedHeight=function(){return 0},e.prototype.setHighlight=function(e){void 0===e&&(e=!0)},e.prototype.clearHighlight=function(){},e.prototype.Obsolete=function(){this.obsolete=!0,this.children.forEach(function(e){return e.Obsolete()})},e.prototype.getAstNodeId=function(){return this.astNodeId},e.prototype.onFunctionCall=function(e,t){var n=e.toString().match(/function ([^\(]+)/);if(null!==n){var i=n[1];this.onCall(i,t)}},e.prototype.onCall=function(e,t){t&&(this.pcTable[e]=t)},e.prototype.tapped=function(){var e=!1;if(_.instance.editMode)_.instance.selectBox(this)&&(e=!0);else{if(this.obsolete||this.runtime.eventQ&&!this.runtime.eventQ.viewIsCurrent())return;this.attributes.tappedEvent.handlers?(e=!0,this.setRenderedTappable(!0,!0),this.runtime.queueLocalEvent(this.attributes.tappedEvent),this.runtime.forcePageRefresh()):this.contenttapapplies()&&(this.contenttaphandler(),e=!0)}(_.instance.editMode||this instanceof m)&&!e&&this.parent&&this.parent.tapped()},e.prototype.withClick=function(e){this.contenttaphandler=e},e.prototype.contenttapapplies=function(){return this.contenttaphandler&&!this.attributes.tappedEvent.handlers&&!(this.isSingleChild&&this.parent.attributes.tappedEvent.handlers)},e.prototype.setRenderedTappable=function(e,t){},e.prototype.bindEditableText=function(e,t,n){this.addTextEditHandler(t),this.setInputText(e),this.onCall("binding",n)},e.prototype.addTextEditHandler=function(n){n instanceof b.RT.Ref?this.attributes.textEditingEvent.addHandler(new b.RT.PseudoAction(function(e,t){n._set(t[0],e.current),e.forcePageRefresh()})):this.attributes.textEditingEvent.addHandler(n)},e.prototype.getEditableContent=function(){b.Util.oops("virtual")},e.prototype.setEditableContent=function(e){b.Util.oops("virtual")},e.prototype.invalidateCachedLayout=function(e){},e.prototype.onInputTextChange=function(){if(!_.instance.editMode){var e=this.getEditableContent();if(!this.obsolete){if(3===this.inputversions.length&&this.inputversions.pop(),this.inputversions[this.inputversions.length-1]===e)return m.debuginput&&b.Util.log("&&&"+this.id+'                 flag "'+this.inputversions+'"'),void _.instance.FlagTypingActivity("i"+this.id);this.inputversions.push(e),m.debuginput&&b.Util.log("&&&"+this.id+'                 push "'+this.inputversions+'"');this.parent;this.attributes.textEditingEvent.handlers?(this.invalidateCachedLayout(!1),2<=this.inputversions.length&&(this.runtime.queueLocalEvent(this.lastqueuededit=this.attributes.textEditingEvent,[this.inputversions[1]]),this.runtime.forcePageRefresh())):this.invalidateCachedLayout(!0)}}},e.prototype.setInputText=function(e){var t=this.getEditableContent(),n=!1;e===this.inputversions[1]?(this.inputversions.shift(),m.debuginput&&b.Util.log("&&&"+this.id+'                 prune "'+this.inputversions+'"'),e!==t&&(this.inputversions[1]=t,n=!0)):1===this.inputversions.length&&e!=t&&_.instance.CheckTypingActivity("i"+this.id)?(this.inputversions=[e,t],_.instance.ClearTypingActivity("i"+this.id),m.debuginput&&b.Util.log("&&&"+this.id+'                 skip "'+this.inputversions+'"'),n=!0):(this.inputversions=[e],this.lastqueuededit=void 0,m.debuginput&&b.Util.log("&&&"+this.id+'                 set "'+this.inputversions+'"')),1==this.inputversions.length?(e!==t&&(this.setEditableContent(e),this.invalidateCachedLayout(!1)),_.instance.ClearTypingActivity("i"+this.id)):2==this.inputversions.length&&n&&this.attributes.textEditingEvent.handlers&&(m.debuginput&&b.Util.log("&&&"+this.id+'                 requeue "'+this.inputversions+'"'),this.runtime.queueLocalEvent(this.lastqueuededit=this.attributes.textEditingEvent,[this.inputversions[1]]))},e.CreateOrRecycleRoot=function(e,t){var n=e.onCssPage();return _.RenderExecutionMode()&&t&&n==t instanceof s?t.recycle(e,null,"",e.onCssPage()):n?new s(e,null,"","div"):new m(e,null,"")},e.CreateOrRecycleContainerBox=function(e,t,n,i){var r=null;if(_.RenderExecutionMode()&&t.recycled&&t.reuseindex<t.prevchildren.length&&(r=t.prevchildren[t.reuseindex],t.reuseindex=t.reuseindex+1,r.mayReplaceWith(i)))return r.recycle(e,t,n,e.onCssPage());var o=e.onCssPage()?new s(e,t,n,i):new m(e,t,n);return o.replaces=r,o},e.CreateOrRecycleLeafBox=function(e,t){var n=e.getCurrentBoxBase(!0),i=null,r=e.getTopScriptPc();if(_.RenderExecutionMode()&&n.recycled&&n.reuseindex<n.prevchildren.length&&(i=n.prevchildren[n.reuseindex],n.reuseindex=n.reuseindex+1,null!==t&&i.content&&i.reusekey===t&&(!i.reuseversion||i.reuseversion===t.versioncounter)))return i.recycle(e,n,r,e.onCssPage());e.onCssPage();var o=e.onCssPage()?new s(e,n,r):new m(e,n,r);return o.reusekey=t,o.reuseversion=t&&t.versioncounter,o.replaces=i,o},e.prototype.recycle=function(e,t,n,i){return b.Util.assert(!!i==this instanceof s,"mixed up boxes"),this.runtime=e,this.parent=t,this.astNodeId=n,this.parent?(this.parent.children.push(this),b.Util.assert(this.depth===this.parent.depth+1)):b.Util.assert(0===this.depth),this.recycled=!0,this.structuring_done=!1,this.prevchildren=this.children,this.reuseindex=0,this.children=[],this.attributes=i?new a:new r(0==this.depth),this.pcTable={"":this.astNodeId},this},e.prototype.doLayout=function(){},e.prototype.visitS=function(){if(this.recycled)for(var e=this.children.length;e<this.prevchildren.length;e++){var t=this.prevchildren[e];t.Obsolete(),this.element.removeChild(t.element)}var n=this.parent;(this.fresh||n&&!n.recycled)&&(n?this.replaces?(this.replaces.Obsolete(),n.element.replaceChild(this.element,this.replaces.element),this.replaces=null):n.element.appendChild(this.element):(b.Util.assert(this.isRoot),_.instance.rootElement.appendChild(this.element),_.instance.rootElement.onscroll=function(e){_.instance.onScroll()}),this.fresh&&(this.hookContent(),this.fresh=!1))},e.prototype.visitI=function(){this.attributes.applyToStyle(this)},e.debuginput=!1,e}(),s=function(r){function o(e,t,n,i){r.call(this,e,t,n),t&&b.Util.assert(t instanceof o),this.attributes=new a,void 0!==i&&((this.tagName=i)&&!b.HTML.allowedTagName(i)&&b.Util.userError(b.lf("tag name {0} is not allowed",i)),this.element=document.createElement(i),this.element.id=this.id.toString(),this.attributes.applyToStyle(this))}return __extends(o,r),o.prototype.isLeaf=function(){return!this.tagName},o.prototype.mayReplaceWith=function(e){return this.tagName===e},o.prototype.doLiveNavigation=function(){return!!this.tagName},o.prototype.setContent=function(e){b.Util.check(this.isLeaf()),b.Util.check(null!=e),this.element=e,this.attributes.applyToStyle(this)},o.prototype.getContent=function(){return this.element},o.prototype.RefreshOnScreen=function(){},o.prototype.invalidateCachedLayout=function(e){},o.prototype.withClick=function(e){},o.prototype.getRenderedWidth=function(){return this.element.clientWidth},o.prototype.getRenderedHeight=function(){return this.element.clientHeight},o.prototype.getEditableContent=function(){return this.element.value},o.prototype.setEditableContent=function(e){this.element.value=e},o.prototype.hookContent=function(){var t=this,e=this.element&&this.element.tagName;e&&(this.element.withClick(function(){t.tapped()}),/input|textarea/i.test(e)&&(this.element.oninput=function(e){t.onInputTextChange()}))},o.prototype.SwapImageContent=function(e){var t=this.element.parentNode;t&&t.replaceChild(e,this.element),this.element=e},o.prototype.setHighlight=function(e){void 0===e&&(e=!0),this.element&&this.element.style&&(this.element.style.border=e?"5px dotted #C00":"5px dotted #rgba(204, 0, 0, 0.6)",e||(this.element.style.background="rgba(204, 0, 0, 0.4)"))},o.prototype.clearHighlight=function(){this.element.style.cssText=this.rendered_styles},o.prototype.doLayout=function(){this.passA()},o.prototype.passA=function(){this.visitI();for(var e=0;e<this.children.length;e++)this.children[e].passA()},o.prototype.addClassName=function(e,t){void 0===t&&(t=""),this.attributes.classnames||(this.attributes.classnames=[]),this.attributes.classnames.push(e),this.onCall("class name",t)},o.prototype.setAttribute=function(e,t,n){void 0===n&&(n=""),this.attributes.attributes||(this.attributes.attributes={}),this.attributes.attributes[e]=t,this.onCall("attr:"+e,n)},o.prototype.setStyle=function(e,t,n){void 0===n&&(n=""),this.attributes.styles||(this.attributes.styles={}),this.attributes.styles[e]=t,this.onCall("style:"+e,n)},o.prototype.setRenderedClassnames=function(e){var t=e&&0<e.length?e.join(" "):"";t!==this.rendered_classnames&&(t?this.element.className=t:this.element.removeAttribute("class"),this.rendered_classnames=t)},o.prototype.setRenderedStyles=function(t){var e=t?Object.keys(t).map(function(e){return e+": "+t[e]}).join("; "):"";e!==this.rendered_styles&&(this.element.style.cssText=e,this.rendered_styles=e)},o.prototype.setRenderedAttributes=function(t){var n=this,e=JSON.stringify(t);if(e!==this.rendered_attributes){var i=JSON.parse(this.rendered_attributes||"{}");Object.keys(t).forEach(function(e){n.element.setAttribute(e,t[e]),delete i[e]}),Object.keys(i).forEach(function(e){return n.element.removeAttribute(e)}),this.rendered_attributes=e}},o}(b.BoxBase=n);b.HtmlBox=s;var m=function(l){function M(e,t,n){var i=this;l.call(this,e,t,n),this.cached_width=-1,this.cached_height=-1,this.cached_baseline=-1,this.cached_aspectratio=0,t&&b.Util.assert(t instanceof M),this.attributes=new r(0==this.depth),this.contentType=M.CONTENT_NONE,this.content=null,this.element=document.createElement("div"),this.element.id=this.id.toString(),this.element.withClick(function(){i.tapped()}),this.attributes.applyToStyle(this)}return __extends(M,l),M.prototype.mayReplaceWith=function(e){return"div"===e&&null===this.content&&this.contentType===M.CONTENT_NONE},M.prototype.isLeaf=function(){return this.contentType!=M.CONTENT_NONE},M.prototype.RefreshOnScreen=function(){this.contentType!=M.CONTENT_NONE&&(b.Util.assert(this.contentType==M.CONTENT_IMAGE),this.cached_height=-1,this.cached_width=-1,_.QueueReLayout())},M.prototype.SwapImageContent=function(e){b.Util.assert(this.contentType==M.CONTENT_IMAGE),this.element.removeAllChildren(),this.element.appendChild(e),this.content=e,this.cached_height=-1,this.cached_width=-1,_.QueueReLayout()},M.prototype.hookContent=function(){var t=this;if(this.content&&this.content!==this.element){var e=this.element;this.contentType===M.CONTENT_TEXT||this.contentType===M.CONTENT_INPUT&&(this.content.oninput=function(e){t.onInputTextChange()},this.content.onchange=function(e){t.onInputTextChangeDone()},this.content.onclick=function(e){_.instance.editMode?t.tapped():t.attributes.tappedEvent.handlers&&t.runtime.queueLocalEvent(t.attributes.tappedEvent)}),this.auxcontent&&e.appendChild(this.auxcontent),e.appendChild(this.content)}},M.prototype.setHighlight=function(e){void 0===e&&(e=!0),this.element.style.zIndex=e?"2":"1",this.element.setAttribute("sel",e?"strong":"weak")},M.prototype.clearHighlight=function(){this.element.setAttribute("sel",""),this.element.style.zIndex="auto"},M.prototype.visitI=function(){if(this.isRoot){var e=this.runtime.host.fullWallWidth(),t=this.runtime.host.userWallHeight();this.setRenderedWidth(e),this.setRenderedHeight(t),""===this.getFontFamily()&&this.setFontFamily('"Segoe UI", "Segoe WP", "Helvetica Neue", Sans-Serif'),this.getFontSize()<=0&&this.setFontSize(b.SizeMgr.topFontSize)}else""===this.getFontFamily()&&this.setFontFamily(this.parent.getFontFamily()),this.getFontSize()<=0&&this.setFontSize(this.parent.getFontSize());var n=this.parent;if(n&&1===n.children.length&&(this.isSingleChild=!0),this.contentType==M.CONTENT_TEXT){var i=n.attributes;this.attributes.textalign=i.textalign,this.attributes.wrap=i.wrap,this.attributes.wraplimit=i.wraplimit}if(this.contentType==M.CONTENT_INPUT){i=n.attributes;this.attributes.textalign=M.ARRANGE_LEFT,this.attributes.wrap=!!this.textarea&&(void 0===i.wrap||i.wrap),this.attributes.wraplimit=i.wraplimit}if(this.contentType==M.CONTENT_IMAGE){i=n.attributes;this.attributes.textalign=i.textalign,this.attributes.width=i.width,this.attributes.height=i.height,-1!==i.stretchwidth&&(this.attributes.stretchwidth=i.stretchwidth),-1!==i.stretchheight&&(this.attributes.stretchheight=i.stretchheight),this.attributes.wrap=i.wrap,this.attributes.wraplimit=i.wraplimit}var r=this.children.length,o=this.attributes.arrangement[M.H];if(void 0!==o)if(this.attributes.flow!==M.FLOW_HORIZONTAL)for(var a=0;a<r;a++){(c=this.children[a]).attributes.stretchmargin[M.L]=o==M.ARRANGE_RIGHT||o==M.ARRANGE_CENTER||o==M.ARRANGE_SPREAD?1:0,c.attributes.stretchmargin[M.R]=o==M.ARRANGE_LEFT||o==M.ARRANGE_CENTER||o==M.ARRANGE_SPREAD?1:0}else for(a=0;a<r;a++){(c=this.children[a]).attributes.stretchmargin[M.L]=o==M.ARRANGE_SPREAD||(0==a?o==M.ARRANGE_RIGHT||o==M.ARRANGE_CENTER:o==M.ARRANGE_JUSTIFY)?1:0,c.attributes.stretchmargin[M.R]=o==M.ARRANGE_SPREAD||(a==r-1?o==M.ARRANGE_LEFT||o==M.ARRANGE_CENTER:o==M.ARRANGE_JUSTIFY||o==M.ARRANGE_CENTER)?1:0}var s=this.attributes.arrangement[M.V];if(s!==M.ARRANGE_BASELINE)if(this.attributes.flow!==M.FLOW_VERTICAL)for(a=0;a<r;a++){(c=this.children[a]).attributes.stretchmargin[M.T]=s==M.ARRANGE_BOTTOM||s==M.ARRANGE_CENTER||s==M.ARRANGE_SPREAD?1:0,c.attributes.stretchmargin[M.B]=s==M.ARRANGE_TOP||s==M.ARRANGE_CENTER||s==M.ARRANGE_SPREAD?1:0}else for(a=0;a<r;a++){(c=this.children[a]).attributes.stretchmargin[M.T]=s==M.ARRANGE_SPREAD||(0==a?s==M.ARRANGE_BOTTOM||s==M.ARRANGE_CENTER:s==M.ARRANGE_JUSTIFY)?1:0,c.attributes.stretchmargin[M.B]=s==M.ARRANGE_SPREAD||(a==r-1?s==M.ARRANGE_TOP||s==M.ARRANGE_CENTER:s==M.ARRANGE_JUSTIFY)?1:0}if(!this.attributes.legacybaseline&&(this.attributes.flow!==M.FLOW_HORIZONTAL||s!==M.ARRANGE_BASELINE||r<2))for(a=0;a<r;a++){var c;(c=this.children[a]).attributes.legacybaseline=!1}l.prototype.visitI.call(this),this.setRenderedTappable(!(!this.attributes.tappedEvent.handlers&&!this.contenttapapplies()),!1)},M.prototype.speculationwascorrect=function(e){return e===this.D_scr},M.prototype.bound=function(e,t,n){return t<e?e:n<t?n:t},M.prototype.tryPreserveAspectRatio=function(){return/img|canvas|video|audio|boardContainer|viewPicture/i.test(this.content.tagName)||/boardContainer|viewPicture/i.test(this.content.className)},M.prototype.fillh=function(e){if(e<=0)return!1;if(Math.abs(1-e)<1e-4||this.isRoot)return!0;var t=this.attributes.arrangement[M.H];return t===M.ARRANGE_LEFT||t===M.ARRANGE_CENTER||t===M.ARRANGE_SPREAD||t===M.ARRANGE_RIGHT},M.prototype.fillv=function(e){if(e<=0)return!1;if(1==e||this.isRoot)return!0;var t=this.attributes.arrangement[M.V];return t===M.ARRANGE_TOP||t===M.ARRANGE_BOTTOM||t===M.ARRANGE_CENTER||t===M.ARRANGE_SPREAD},M.prototype.doLayout=function(){this.passA(),this.passBC(),this.passD()},M.prototype.passA=function(){this.visitI();for(var e=0;e<this.children.length;e++)this.children[e].passA();this.visitA()},M.prototype.passBC=function(){this.visitB();for(var e=0;e<this.children.length;e++)this.children[e].passBC();this.visitC()},M.prototype.passD=function(){this.visitD();for(var e=0;e<this.children.length;e++)this.children[e].passD();this.layoutcompletehandler&&this.layoutcompletehandler(this.getRenderedWidth(),this.getRenderedHeight())},M.prototype.visitA=function(){var e=this.children.length;if(0===e){if(this.contentType!=M.CONTENT_NONE&&-1===this.cached_width)if(this.setRenderedWidth(-1),this.setRenderedHeight(-1),this.contentType===M.CONTENT_TEXT||this.contentType===M.CONTENT_INPUT){if(this.contentType===M.CONTENT_INPUT){var t=(this.textarea,this.content.value);t+=" abc",this.auxcontent.textContent=t}this.setRenderedWrap(!1,this.attributes.wraplimit);var n=this.contentType===M.CONTENT_INPUT?this.auxcontent.scrollWidth+(this.textarea?_.instance.scrollbarWidth+50:50):this.element.scrollWidth;if(this.setRenderedWrap(this.attributes.wrap,this.attributes.wraplimit),this.cached_width=n,this.cached_aspectratio=0,this.attributes.legacybaseline&&-1===this.cached_baseline){if(!this.baselineprobe){this.baselineprobe=b.span(null,"s"),this.baselineprobe.style.fontSize="0";var i=b.div(null,b.span(null,"L"),this.baselineprobe);i.style.visibility="hidden",i.style.position="absolute",this.element.appendChild(i)}this.cached_baseline=this.baselineprobe.offsetTop-this.baselineprobe.scrollTop+this.baselineprobe.clientTop,this.element.removeChild(this.baselineprobe.parentElement),this.baselineprobe=null}}else{var r="viewPicture"===this.content.className?this.content.firstChild:this.content,o=r?Number(r.getAttribute("height")):0,a=r?Number(r.getAttribute("width")):0;!r||"IMG"!=r.tagName&&"VIDEO"!=r.tagName&&"AUDIO"!=r.tagName||(o=o||r.height,a=a||r.width),this.cached_width=a||this.element.scrollWidth,this.cached_aspectratio=this.tryPreserveAspectRatio()&&this.cached_width?(o||this.element.scrollHeight)/this.cached_width:0,0!=this.cached_width||!r||"VIDEO"!=r.tagName&&"AUDIO"!=r.tagName||(this.cached_width=300),0==this.cached_width&&r&&"IMG"==r.tagName&&(this.cached_width=100)}if(this.contentType===M.CONTENT_IMAGE){if(0<this.cached_aspectratio){var s=this.attributes.height[M.MIN]/this.cached_aspectratio,c=this.attributes.height[M.MAX]/this.cached_aspectratio;this.attributes.width[M.MIN]<=c&&this.attributes.width[M.MAX]>=s?this.A_sc=this.bound(s,this.cached_width,c):this.A_sc=this.cached_width}else this.A_sc=this.cached_width;this.A_asc=this.A_sc;var l=1==this.attributes.stretchwidth||!this.tryPreserveAspectRatio()||-1==this.attributes.stretchwidth&&this.content&&"IMG"==this.content.tagName?1:0;this.A_mc=l?0:this.A_asc,this.A_fcc=l}else if(this.contentType===M.CONTENT_TEXT){var u=this.cached_width+1;this.A_sc=u,this.A_asc=this.attributes.wrap?Math.min(this.A_sc,this.attributes.wraplimit*b.SizeMgr.topFontSize):this.A_sc,this.A_mc=this.A_asc,this.A_fcc=1}else this.contentType===M.CONTENT_INPUT?(this.A_sc=this.cached_width,this.A_asc=this.attributes.wrap?Math.min(this.A_sc,this.attributes.wraplimit*b.SizeMgr.topFontSize):this.A_sc,this.A_mc=this.A_asc,this.A_fcc=1):(this.A_sc=0,this.A_mc=0,this.A_asc=0,this.A_fcc=0)}else if(this.attributes.flow===M.FLOW_HORIZONTAL){var d=this.attributes.padding[M.L],p=0;this.A_mc=d,this.A_sc=d,this.A_scc=0,this.A_asc=d,this.A_fcc=0,this.A_fcs=0;for(var h=this.A_fp=0;h<e;h++){var m=this.children[h],f=Math.max(0,m.A_sl-d)+m.A_sr;d=m.A_sr,h==e-1&&(f+=Math.max(0,this.attributes.padding[M.R]-d)),this.A_mc+=m.A_m+f,this.A_sc+=m.A_s+f,this.A_scc+=m.A_s,this.A_asc+=m.A_as+f,this.A_fcc+=m.A_f,this.A_fcs+=Math.max(0,m.A_fl-p)+m.A_fr,this.A_fp=this.A_fp||m.A_fp,p=m.A_fr}}else if(this.attributes.flow===M.FLOW_VERTICAL||this.attributes.flow===M.FLOW_OVERLAY){this.A_mc=0,this.A_sc=0,this.A_asc=0,this.A_fcc=0;for(h=this.A_fp=0;h<this.children.length;h++){m=this.children[h],f=Math.max(m.A_sl,this.attributes.padding[M.L])+Math.max(m.A_sr,this.attributes.padding[M.R]);this.A_mc=Math.max(this.A_mc,m.A_m+f),this.A_asc=Math.max(this.A_asc,m.A_as+f),this.A_sc=Math.max(this.A_sc,m.A_s+f),this.A_fcc=Math.max(this.A_fcc,m.A_f),this.A_fp=this.A_fp||m.A_fp}}var g=this.attributes.width[M.MIN],v=this.attributes.width[M.MAX],y=this.attributes.borderwidth[M.L]+this.attributes.borderwidth[M.R];this.A_scr=!this.attributes.scroll[M.V]||this.isRoot&&!_.instance.scrollspeculation?0:_.instance.scrollbarWidth,this.A_m=this.bound(g,(this.attributes.scroll[M.H]?Math.min(this.A_mc,6*b.SizeMgr.topFontSize):this.A_mc)+this.A_scr,v)+y,this.A_as=this.bound(g,(this.attributes.scroll[M.H]?Math.min(this.A_mc,10*b.SizeMgr.topFontSize):this.A_asc)+this.A_scr,v)+y,this.A_s=this.bound(g,this.A_sc+this.A_scr,v)+y,this.A_sl=this.attributes.margin[M.L],this.A_sr=this.attributes.margin[M.R],this.A_f=-1==this.attributes.stretchwidth?this.A_fp||0==e?this.fillh(this.A_fcc)?1:this.A_fcc:0:this.attributes.stretchwidth,this.A_fp=-1==this.attributes.stretchwidth?0<e&&g<v&&this.A_fp:this.attributes.legacystretch[M.H]?0:this.attributes.stretchwidth,this.A_fl=this.attributes.stretchmargin[M.L],this.A_fr=this.attributes.stretchmargin[M.R]},M.prototype.visitB=function(){this.isRoot&&(this.B_x=0,this.B_s=this.runtime.host.fullWallWidth());var e=this.attributes.borderwidth[M.L]+this.attributes.borderwidth[M.R],t=this.B_s-this.A_scr-e,n=this.children.length,i=!1;if(0==n)this.B_scr=!1;else if(i=t<this.A_mc,this.B_scr=i&&this.attributes.scroll[M.H],this.attributes.flow===M.FLOW_VERTICAL||this.attributes.flow===M.FLOW_OVERLAY)for(var r=this.attributes.padding[M.L],o=this.attributes.padding[M.R],a=0;a<n;a++){var s=this.children[a],c=Math.max(Math.max(r,s.A_sl)+Math.max(o,s.A_sr));if(t>s.A_s+c){var l=0;if(s.A_f){var u=s.A_f<1&&this.fillh(s.A_f)?s.A_f:1;l=Math.max(0,Math.min(u*t-c,s.attributes.width[M.MAX])-s.A_s)}s.B_s=s.A_s+l;var d=s.A_fl+s.A_fr?(t-s.B_s-c)/(s.A_fl+s.A_fr):0;s.B_x=Math.max(r,s.A_sl)+d*s.A_fl}else t>s.A_as+c?(s.B_x=Math.max(r,s.A_sl),s.B_s=t-c):this.B_scr?(s.B_x=Math.max(r,s.A_sl),s.B_s=s.A_as):(s.B_x=Math.max(r,s.A_sl),s.B_s=Math.max(s.A_m,t-c))}else if(this.attributes.flow===M.FLOW_HORIZONTAL)if(t>=this.A_sc){var p=this.fillh(this.A_fcc),h=t-(this.A_sc-this.A_scc),m=h,f=this.A_fcc,g=this.A_scc;if(0===m||0===f)this.children.forEach(function(e){return m-=e.B_s=e.A_s});else{var v=function(e){return!p||1<=e.A_f?e.attributes.width[M.MAX]:Math.max(e.A_s,Math.min(e.attributes.width[M.MAX],h*e.A_f))},y=this.children.slice(0).sort(function(e,t){return v(e)-v(t)});for(a=0;a<y.length;a++){var b=y[a];b.B_s=0==b.A_f?b.A_s:!p||1<=b.A_f?Math.min(b.attributes.width[M.MAX],b.A_s+(m-g)/f*b.A_f):Math.max(b.A_s,Math.min(b.attributes.width[M.MAX],h*b.A_f)),m-=b.B_s,g-=b.A_s,f-=b.A_f}}d=this.A_fcs?m/this.A_fcs:0;var _=this.attributes.padding[M.L],w=0,k=_;for(a=0;a<n;a++){s=this.children[a];k=k+Math.max(0,s.A_sl-_)+Math.max(0,d*s.A_fl-w),s.B_x=k,_=s.A_sr,w=d*s.A_fr,k=k+s.B_s+_+w}}else{if(t>this.A_asc)this.distribute(t-this.A_asc,function(e){return e.A_s-e.A_as},function(e,t){e.B_s=e.A_as+t});else if(this.B_scr)for(a=0;a<n;a++){(s=this.children[a]).B_s=s.A_as}else i=!0,this.distribute(this.A_asc-t,function(e){return e.A_as-e.A_m},function(e,t){e.B_s=e.A_as-t});k=0;var x=this.attributes.padding[M.L];for(a=0;a<n;a++){s=this.children[a];k+=Math.max(x,s.A_sl),s.B_x=k,k+=s.B_s,x=s.A_sr}}this.delayedlayout||this.setRenderedWidth(this.B_s-e),this.setRenderedHorizontalOverflow(this.B_scr?"scroll":i?"hidden":""),this.setRenderedX(this.B_x)},M.prototype.distribute=function(e,n,t){if(0===e)for(var i=0;i<this.children.length;i++)t(this.children[i],0);else{var r=this.children.length,o=this.children.slice(0).sort(function(e,t){return n(e)-n(t)});for(i=0;i<this.children.length;i++){var a=o[i],s=Math.min(n(a),e/r);e-=s,t(a,s),r--}}},M.prototype.visitC=function(){var e=this.children.length;if(0===e){if(this.contentType!=M.CONTENT_NONE&&-1===this.cached_height)if(this.contentType==M.CONTENT_IMAGE){var t="viewPicture"===this.content.className?this.content.firstChild:this.content;this.cached_height=t?Number(t.getAttribute("height")):0,!this.cached_height&&this.content&&"IMG"==this.content.tagName&&(this.cached_height=t.height),this.cached_height||(this.setRenderedHeight(-1),this.cached_height=this.element.clientHeight)}else this.contentType==M.CONTENT_INPUT?(this.setRenderedHeight(-1),this.cached_height=this.auxcontent.scrollHeight+(this.textarea?5:0)):(this.setRenderedHeight(-1),this.cached_height=this.element.clientHeight);this.contentType===M.CONTENT_IMAGE?(0<this.cached_aspectratio?this.C_sc=(this.delayedlayout?this.cached_width:this.getRenderedWidth())*this.cached_aspectratio:this.C_sc=this.cached_height,this.C_mc=1==this.attributes.stretchheight?0:this.C_sc,this.C_bc=0,this.C_fcc=1==this.attributes.stretchheight?1:0):(this.contentType===M.CONTENT_TEXT?(this.C_sc=this.cached_height+1,this.C_mc=this.C_sc,this.C_bc=this.cached_baseline):this.contentType===M.CONTENT_INPUT?(this.C_sc=this.cached_height+(this.textarea?1:6),this.C_mc=this.C_sc,this.C_bc=this.cached_baseline):(this.C_sc=0,this.C_mc=0,this.C_bc=0),this.C_fcc=0),this.C_zc=1}else{this.C_bc=0;var n=this.attributes.arrangement[M.V]===M.ARRANGE_BASELINE;if(this.attributes.flow===M.FLOW_VERTICAL){var i=this.children[0];n&&i.C_b&&(this.C_bc=i.C_b+Math.max(this.attributes.padding[M.T],i.C_st));var r=this.attributes.padding[M.T],o=0;this.C_sc=r,this.C_scc=0,this.C_mc=r,this.C_fcc=0,this.C_fcs=0,this.C_fp=0,this.C_zc=1;for(var a=0;a<e;a++){var s=this.children[a],c=Math.max(0,s.C_st-r)+s.C_sb;r=s.C_sb,a==e-1&&(c+=Math.max(0,this.attributes.padding[M.B]-r)),this.C_sc+=s.C_s+c,this.C_scc+=s.C_s,this.C_mc+=s.C_m+c,this.C_fcc+=s.C_f,this.C_fcs+=Math.max(0,s.C_ft-o)+s.C_fb,this.C_fp=this.C_fp||s.C_fp,o=s.C_fb,this.C_zc=Math.max(this.C_zc,1+s.C_zc)}}else if(this.attributes.flow===M.FLOW_HORIZONTAL||this.attributes.flow===M.FLOW_OVERLAY){if(n)for(a=0;a<this.children.length;a++){(s=this.children[a]).C_b&&(this.C_bc=Math.max(this.C_bc,s.C_b+Math.max(this.attributes.padding[M.T],s.C_st)))}this.C_sc=0,this.C_mc=0,this.C_fcc=0,this.C_fp=0,this.C_zc=1;for(a=0;a<this.children.length;a++){s=this.children[a];var l=Math.max(this.attributes.padding[M.T],s.C_st);c=l+(s.C_b?Math.max(0,this.C_bc-(s.C_b+l)):0)+Math.max(this.attributes.padding[M.B],s.C_sb);this.C_sc=Math.max(this.C_sc,s.C_s+c),this.C_mc=Math.max(this.C_mc,s.C_m+c),this.C_fcc=Math.max(this.C_fcc,s.C_f),this.C_fp=this.C_fp||s.C_fp,this.attributes.flow===M.FLOW_OVERLAY?this.C_zc=this.C_zc+s.C_zc:this.C_zc=Math.max(this.C_zc,1+s.C_zc)}}}var u=this.attributes.height[M.MIN],d=this.attributes.height[M.MAX],p=this.attributes.borderwidth[M.T]+this.attributes.borderwidth[M.B];this.C_scr=this.B_scr?_.instance.scrollbarHeight:0,this.C_m=this.bound(u,(this.attributes.scroll[M.V]?Math.min(this.C_mc,6*b.SizeMgr.topFontSize):this.C_mc)+this.C_scr,d)+p,this.C_s=this.bound(u,this.C_sc+this.C_scr,d)+p,this.C_st=this.attributes.margin[M.T],this.C_sb=this.attributes.margin[M.B],this.C_f=-1==this.attributes.stretchheight?this.C_fp||0==e?this.fillv(this.C_fcc)?1:this.C_fcc:0:this.attributes.stretchheight,this.C_fp=-1==this.attributes.stretchheight?0<e&&u<d&&this.C_fp:this.attributes.legacystretch[M.V]?0:this.attributes.stretchheight,this.C_ft=this.attributes.stretchmargin[M.T],this.C_fb=this.attributes.stretchmargin[M.B],this.C_b=this.attributes.legacybaseline&&this.C_bc?this.C_bc+this.attributes.borderwidth[M.T]:0},M.prototype.visitD=function(){this.isRoot&&(this.D_y=0,this.D_s=this.runtime.host.userWallHeight(),this.D_z=1,this.D_b=this.C_b);var e=!1,t=this.attributes.borderwidth[M.T]+this.attributes.borderwidth[M.B],n=this.D_s-this.C_scr-t,i=this.attributes.legacybaseline?this.attributes.arrangement[M.V]===M.ARRANGE_BASELINE?Math.max(this.C_bc,this.D_b-this.attributes.borderwidth[M.T]):0:this.C_bc,r=this.children.length;if(0===r)this.D_scr=!1;else{e=n<this.C_mc+this.C_scr,this.D_scr=e&&this.attributes.scroll[M.V];var o=this.D_z+1;if(this.attributes.flow===M.FLOW_HORIZONTAL||this.attributes.flow===M.FLOW_OVERLAY)for(var a=this.attributes.padding[M.T],s=this.attributes.padding[M.B],c=0;c<r;c++){var l=this.children[c],u=Math.max(a,l.C_st,l.C_b?Math.max(0,i-l.C_b):0),d=u+Math.max(s,l.C_sb);if(n>l.C_s+d){var p=0;if(l.C_f){var h=l.C_f<1&&this.fillv(l.C_f)?l.C_f:1;p=Math.max(0,Math.min(n*h-d,l.attributes.height[M.MAX])-l.C_s)}l.D_s=l.C_s+p;var m=l.C_ft+l.C_fb?(n-l.D_s-d)/(l.C_ft+l.C_fb):0;l.D_y=u+m*l.C_ft}else this.D_scr?(l.D_y=u,l.D_s=l.C_s):(l.D_y=u,l.D_s=Math.max(l.C_m,n-d));l.D_b=Math.max(0,i-l.D_y),l.D_z=o,this.attributes.flow===M.FLOW_OVERLAY&&(o+=l.C_zc)}else if(this.attributes.flow===M.FLOW_VERTICAL){var f=this.children[0],g=f.C_b?Math.max(0,i-f.C_b):0;a=Math.max(this.attributes.padding[M.T],g);if(n>=this.C_sc){var v=this.fillv(this.C_fcc),y=n-(this.C_sc-this.C_scc),b=y,_=this.C_fcc,w=this.C_scc;if(0===b||0===_)this.children.forEach(function(e){return b-=e.D_s=e.C_s});else{var k=function(e){return!v||1<=e.C_f?e.attributes.height[M.MAX]:Math.max(e.C_s,Math.min(e.attributes.height[M.MAX],y*e.C_f))},x=this.children.slice(0).sort(function(e,t){return k(e)-k(t)});for(c=0;c<x.length;c++){var C=x[c];C.D_s=0==C.C_f?C.C_s:!v||1<=C.C_f?Math.min(C.attributes.height[M.MAX],C.C_s+(b-w)/_*C.C_f):Math.max(C.C_s,Math.min(C.attributes.height[M.MAX],y*C.C_f)),b-=C.D_s,w-=C.C_s,_-=C.C_f}}m=this.C_fcs?b/this.C_fcs:0;var S=a,A=a,T=0;for(c=0;c<r;c++){l=this.children[c];S=S+Math.max(0,l.C_st-A)+Math.max(0,m*l.C_ft-T),l.D_y=S,A=l.C_sb,T=m*l.C_fb,S=S+l.D_s+A+T,l.D_z=o,l.D_b=Math.max(0,i-l.D_y)}}else{if(this.D_scr)for(c=0;c<r;c++){(l=this.children[c]).D_s=l.C_s}else if(n>this.C_mc)this.distribute(n-this.C_mc,function(e){return e.C_s-e.C_m},function(e,t){e.D_s=e.C_m+t});else{e=n<this.C_mc;for(c=0;c<r;c++){(l=this.children[c]).D_s=l.C_m}}S=0;var L=a;for(c=0;c<r;c++){l=this.children[c];S+=Math.max(L,l.C_st),l.D_y=S,l.D_b=Math.max(0,i-l.D_y),S+=l.D_s,L=l.C_sb,l.D_z=o,l.D_b=Math.max(0,i-l.D_y)}}}}this.delayedlayout||this.setRenderedHeight(this.D_s-t),this.setRenderedVerticalOverflow(this.D_scr?"scroll":e?"hidden":""),this.setRenderedY(this.D_y),this.setRenderedZIndex(this.D_z)},M.prototype.getEditableContent=function(){return b.Util.assert(this.contentType==M.CONTENT_INPUT),this.textarea,this.content.value},M.prototype.setEditableContent=function(e){b.Util.assert(this.contentType==M.CONTENT_INPUT),this.textarea,this.content.value=e},M.prototype.invalidateCachedLayout=function(e){var t=this;this.cached_width=-1,this.cached_height=-1,e&&b.Util.setTimeout(100,function(){-1===t.cached_width&&_.QueueReLayout()})},M.prototype.onInputTextChangeDone=function(){if(!this.obsolete)if(_.instance.editMode);else{this.cached_width=-1,this.cached_height=-1;var e=this.parent,t=(this.textarea,this.content.value);e&&e.attributes.textEditedEvent.handlers&&this.runtime.queueLocalEvent(e.attributes.textEditedEvent,[t]),this.runtime.forcePageRefresh()}},M.prototype.size=function(){return this.children.length},M.prototype.get=function(e){return this.children[e]},M.prototype.shift=function(){0<this.children.length&&this.children.shift()},M.prototype.forEachChild=function(e){this.children.forEach(e)},M.prototype.getDepth=function(){return this.depth},M.prototype.getId=function(){return this.id},M.prototype.getElement=function(){return this.element},M.prototype.getFlow=function(){return this.attributes.flow},M.prototype.getAlign=function(){return this.attributes.textalign},M.prototype.getBackground=function(){return this.attributes.background},M.prototype.getForeground=function(){return this.attributes.foreground},M.prototype.getFontSize=function(){return this.attributes.fontSize},M.prototype.getFontWeight=function(){return this.attributes.fontWeight},M.prototype.getFontFamily=function(){return this.attributes.fontFamily},M.prototype.getRenderedWidth=function(){return this.rendered_width},M.prototype.getRenderedHeight=function(){return this.rendered_height},M.prototype.getContent=function(){return this.content},M.prototype.setFlow=function(e,t){void 0===t&&(t=""),this.attributes.flow=e,this.onCall("flow",t)},M.prototype.setBackground=function(e,t){void 0===t&&(t=""),this.attributes.background=e,this.onCall("background",t)},M.prototype.addBackgroundImage=function(e,t){void 0===t&&(t=""),this.attributes.backgroundImages||(this.attributes.backgroundImages=[]),this.attributes.backgroundImages.splice(0,0,e),this.onCall("background image",t)},M.prototype.setForeground=function(e,t){void 0===t&&(t=""),this.attributes.foreground=e,this.onCall("foreground",t)},M.prototype.setFontSize=function(e,t){void 0===t&&(t=""),this.attributes.fontSize=e,this.onCall("font size",t)},M.prototype.setFontWeight=function(e,t){void 0===t&&(t=""),this.attributes.fontWeight=e,this.onCall("font weight",t)},M.prototype.setFontFamily=function(e,t){void 0===t&&(t=""),this.attributes.fontFamily=e,this.onCall("font family",t)},M.prototype.setScrolling=function(e,t,n){void 0===n&&(n=""),this.attributes.scroll=[e,t],this.onCall("scrolling",n)},M.prototype.setEmBorder=function(e,t,n){void 0===n&&(n=""),this.attributes.border=e;var i=b.SizeMgr.topFontSize*t;this.attributes.borderwidth=[i,i,i,i],this.onCall("border",n)},M.prototype.setBorderWidth=function(e,t,n,i,r){void 0===r&&(r=""),this.attributes.borderwidth=[e,t,n,i],this.onCall("border widths",r)},M.prototype.setAllMargins=function(e,t,n,i,r){void 0===r&&(r=""),this.attributes.margin=[e,t,n,i],this.onCall("margins",r)},M.prototype.setPadding=function(e,t,n,i,r){void 0===r&&(r=""),this.attributes.padding=[e,t,n,i],this.onCall("margins",r)},M.prototype.setWrap=function(e,t,n){void 0===n&&(n=""),this.attributes.wrap=e,this.attributes.wraplimit=Math.max(t,1),this.onCall("text wrap",n)},M.prototype.setWidth=function(e,t){void 0===t&&(t=""),this.attributes.width=[e,e],this.onCall("width",t)},M.prototype.setWidthRange=function(e,t,n){void 0===n&&(n=""),this.attributes.width[M.MIN]=e,this.attributes.width[M.MAX]=t,this.onCall("width range",n)},M.prototype.setHorizontalStretch=function(e,t){void 0===t&&(t=""),this.attributes.stretchwidth=e,this.onCall("horizontal stretch",t)},M.prototype.setVerticalStretch=function(e,t){void 0===t&&(t=""),this.attributes.stretchheight=e,this.onCall("vertical stretch",t)},M.prototype.setHorizontalAlignment=function(e,t,n){void 0===n&&(n=""),e=Math.max(0,Math.min(1,e)),t=Math.max(0,Math.min(1,t)),e<1&&(this.attributes.stretchmargin[M.L]=1-e),t<1&&(this.attributes.stretchmargin[M.R]=1-e),0<e&&0<t&&(this.attributes.stretchwidth=1),this.attributes.textalign=0==t&&0!=e?M.ARRANGE_LEFT:0!=t&&0==e?M.ARRANGE_RIGHT:0==t&&0==e?M.ARRANGE_CENTER:M.ARRANGE_JUSTIFY,this.attributes.legacystretch[M.H]=!0,this.onCall("horizontal alignment",n)},M.prototype.setVerticalAlignment=function(e,t,n){void 0===n&&(n=""),e=Math.max(0,Math.min(1,e)),t=Math.max(0,Math.min(1,t)),e<1&&(this.attributes.stretchmargin[M.T]=1-e),t<1&&(this.attributes.stretchmargin[M.B]=1-t),0<e&&0<t&&(this.attributes.stretchheight=1),this.attributes.legacybaseline=!1,this.attributes.legacystretch[M.V]=!0,this.onCall("vertical alignment",n)},M.prototype.setHorizontalArrangement=function(e,t){void 0===t&&(t=""),this.attributes.arrangement[M.H]=e,this.attributes.textalign=e,this.onCall("horizontal arrangement",t)},M.prototype.setVerticalArrangement=function(e,t){void 0===t&&(t=""),(this.attributes.arrangement[M.V]=e)!=M.ARRANGE_BASELINE&&(this.attributes.legacybaseline=!1),this.onCall("vertical arrangement",t)},M.prototype.setHeight=function(e,t){void 0===t&&(t=""),this.attributes.height=[e,e],this.onCall("height",t)},M.prototype.setHeightRange=function(e,t,n){void 0===n&&(n=""),this.attributes.height[M.MIN]=e,this.attributes.height[M.MAX]=t,this.onCall("height range",n)},M.prototype.setEmFontSize=function(e,t){void 0===t&&(t=""),this.setFontSize(b.SizeMgr.topFontSize*e,t)},M.prototype.setEmBorderWidth=function(e,t,n,i,r){void 0===r&&(r=""),this.setBorderWidth(b.SizeMgr.topFontSize*e,b.SizeMgr.topFontSize*t,b.SizeMgr.topFontSize*n,b.SizeMgr.topFontSize*i,r)},M.prototype.setAllEmMargins=function(e,t,n,i,r){void 0===r&&(r=""),this.setAllMargins(b.SizeMgr.topFontSize*e,b.SizeMgr.topFontSize*t,b.SizeMgr.topFontSize*n,b.SizeMgr.topFontSize*i,r)},M.prototype.setEmPadding=function(e,t,n,i,r){void 0===r&&(r=""),this.setPadding(b.SizeMgr.topFontSize*e,b.SizeMgr.topFontSize*t,b.SizeMgr.topFontSize*n,b.SizeMgr.topFontSize*i,r)},M.prototype.setEmWidth=function(e,t){void 0===t&&(t=""),this.setWidth(b.SizeMgr.topFontSize*e,t)},M.prototype.setEmWidthRange=function(e,t,n){void 0===n&&(n=""),this.setWidthRange(b.SizeMgr.topFontSize*e,b.SizeMgr.topFontSize*t,n)},M.prototype.setEmHeight=function(e,t){void 0===t&&(t=""),this.setHeight(b.SizeMgr.topFontSize*e,t)},M.prototype.setEmHeightRange=function(e,t,n){void 0===n&&(n=""),this.setHeightRange(b.SizeMgr.topFontSize*e,b.SizeMgr.topFontSize*t,n)},M.prototype.setContent=function(e){if(b.Util.check(null!=e),e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement)this.contentType=M.CONTENT_INPUT,this.content=e,this.auxcontent=b.span("wall-text",""),this.auxcontent.style.visibility="hidden",this.auxcontent.style.position="absolute",this.auxcontent.style.left="0px",this.auxcontent.style.top="0px",this.auxcontent.style.padding="1px",this.auxcontent.style.color="red",this.auxcontent.style.zIndex="-1";else if(e instanceof HTMLElement)this.contentType=M.CONTENT_IMAGE,this.content=e;else{this.contentType=M.CONTENT_TEXT;var t=(e||"").toString();this.content=b.span("wall-text",t)}},M.prototype.setRenderedX=function(e){e!==this.rendered_x&&("invalid"!=typeof this.rendered_x||this.isRoot||(this.element.style.position="absolute"),this.element.style.left=e+"px",this.rendered_x=e)},M.prototype.setRenderedY=function(e){e!==this.rendered_y&&(this.element.style.top=e+"px",this.rendered_y=e)},M.prototype.setRenderedWidth=function(e){if(e!==this.rendered_width){if(this.element.style.width=0<=e?e+"px":"",this.contentType!=M.CONTENT_NONE&&this.contentType!=M.CONTENT_TEXT){var t=this.contentType!=M.CONTENT_INPUT||this.textarea?0:6,n="viewPicture"===this.content.className?this.content.firstChild:this.content;n&&(n.style.width=0<e?e-t+"px":""),this.contentType===M.CONTENT_INPUT&&this.textarea&&(this.auxcontent.style.width=0<=e?e-10+"px":"")}this.rendered_width=e,this.cached_height=-1}},M.prototype.setRenderedHeight=function(e){if(e!==this.rendered_height){if(this.element.style.height=0<e?e+"px":"",this.contentType!=M.CONTENT_NONE&&this.contentType!=M.CONTENT_TEXT){var t=this.contentType!=M.CONTENT_INPUT||this.textarea?0:6,n="viewPicture"===this.content.className?this.content.firstChild:this.content;n&&(n.style.height=0<e?e-t+"px":""),this.contentType==M.CONTENT_INPUT&&this.textarea&&e>=this.cached_height&&(this.content.style.overflow="hidden")}this.rendered_height=e}},M.prototype.setRenderedFontFamily=function(e){e!==this.rendered_fontfamily&&(this.element.style.fontFamily="Default"===e?'"Segoe UI", "Segoe WP", "Helvetica Neue", Sans-Serif':e,this.rendered_fontfamily=e,this.cached_height=-1,this.cached_baseline=-1,this.cached_width=-1)},M.prototype.setRenderedFontWeight=function(e){var t=e||"inherit";t!==this.rendered_fontweight&&(this.element.style.fontWeight=t,this.rendered_fontweight=t,this.cached_height=-1,this.cached_baseline=-1,this.cached_width=-1)},M.prototype.setRenderedFontSize=function(e){e!==this.rendered_fontsize&&(this.element.style.fontSize=0<e?e+"px":"inherit",this.rendered_fontsize=e,this.cached_height=-1,this.cached_baseline=-1,this.cached_width=-1)},M.prototype.setRenderedColor=function(e){var t=e||"inherit";t!==this.rendered_foregroundcolor&&(this.element.style.color=t,this.rendered_foregroundcolor=t)},M.prototype.setRenderedBackgroundColor=function(e){e!==this.rendered_backgroundcolor&&(this.element.style.backgroundColor=e,this.rendered_backgroundcolor=e)},M.prototype.setRenderedBackgroundImages=function(e){var t=e?e.map(function(e){return b.HTML.cssImage(e.url)+" "+(e.position||"center")+" / "+(e.size||"cover")+" "+(e.repeat||"no-repeat")+" "+(e.attachment||"scroll")}).join(", "):"";t!==this.rendered_background&&(this.element.style.background=t,this.rendered_background=t)},M.prototype.setRenderedTappable=function(e,t){var n="wall-box"+(e?" tappable ":"")+(t?" tapped":"");n!==this.rendered_tappable&&(this.element.className=n,this.rendered_tappable=n)},M.prototype.setRenderedPositionMode=function(e){e!==this.rendered_positionmode&&(this.element.style.position=e,this.rendered_positionmode=e)},M.prototype.min1pixel=function(e){return(0<e&&e<1?"1":e.toString())+"px"},M.prototype.setRenderedBorder=function(e,t){var n=e||"black";if(n!==this.rendered_border&&(this.element.style.borderColor=n,this.rendered_border=n),!this.rendered_borderwidth||t[0]!==this.rendered_borderwidth[0]||t[1]!==this.rendered_borderwidth[1]||t[2]!==this.rendered_borderwidth[2]||t[3]!==this.rendered_borderwidth[3]){var i=t[0]||t[1]||t[2]||t[3];this.element.style.borderStyle=i?"solid":"none",this.element.style.borderTopWidth=i?this.min1pixel(t[M.T]):"",this.element.style.borderRightWidth=i?this.min1pixel(t[M.R]):"",this.element.style.borderBottomWidth=i?this.min1pixel(t[M.B]):"",this.element.style.borderLeftWidth=i?this.min1pixel(t[M.L]):"",this.rendered_borderwidth=t.slice(0)}},M.prototype.setRenderedTextAlign=function(e){if(e!==this.rendered_textalign){switch(e){case M.ARRANGE_RIGHT:this.element.style.textAlign="right";break;case M.ARRANGE_CENTER:this.element.style.textAlign="center";break;case M.ARRANGE_JUSTIFY:this.element.style.textAlign="justify";break;default:this.element.style.textAlign="left"}this.cached_height=-1,this.cached_width=-1,this.rendered_textalign=e}},M.prototype.setRenderedHorizontalOverflow=function(e){e!=this.rendered_hmode&&(this.element.style.overflowX=this.rendered_sideview||"scroll"==e&&this.contentType==M.CONTENT_INPUT?"":e,this.rendered_hmode=e)},M.prototype.setRenderedVerticalOverflow=function(e){e!=this.rendered_vmode&&(this.element.style.overflowY=this.rendered_sideview||"scroll"==e&&this.contentType==M.CONTENT_INPUT?"":e,this.rendered_vmode=e)},M.prototype.setRenderedSideView=function(e){this.rendered_sideview!=e&&(this.element.style.overflowX=e||"scroll"==this.rendered_hmode&&this.contentType==M.CONTENT_INPUT?"":this.rendered_hmode,this.element.style.overflowY=e||"scroll"==this.rendered_vmode&&this.contentType==M.CONTENT_INPUT?"":this.rendered_vmode,this.rendered_sideview=e)},M.prototype.setRenderedWrap=function(e,t){(e=e||!1)==this.rendered_wrap&&t==this.rendered_wraplimit||(this.element.style.whiteSpace=e?"justify"===this.element.style.textAlign?"pre-line":"pre-wrap":"pre",this.element.style.wordWrap=e?"break-word":"",this.rendered_wrap=e,this.rendered_wraplimit=t,this.cached_height=-1,this.cached_width=-1)},M.prototype.setRenderedZIndex=function(e){e!=this.rendered_zindex&&(this.element.style.zIndex=e?e.toString():"",this.rendered_zindex=e)},M.FLOW_HORIZONTAL=0,M.FLOW_VERTICAL=1,M.FLOW_OVERLAY=2,M.STRETCH_AUTO=-1,M.ARRANGE_LEFT=1,M.ARRANGE_RIGHT=2,M.ARRANGE_CENTER=3,M.ARRANGE_JUSTIFY=4,M.ARRANGE_BASELINE=5,M.ARRANGE_TOP=6,M.ARRANGE_BOTTOM=7,M.ARRANGE_SPREAD=8,M.MIN=0,M.MAX=1,M.T=0,M.R=1,M.B=2,M.L=3,M.H=0,M.V=1,M.CONTENT_NONE=-1,M.CONTENT_TEXT=0,M.CONTENT_IMAGE=1,M.CONTENT_INPUT=2,M}(n);b.WallBox=m}(TDev||(TDev={})),function(y){var e=function(){function p(e){void 0===e&&(e=""),this.overlay=y.div("modalOverlay"),this.dialog=y.div("modalDialog"),this.savedKeyState=null,this.id=y.Random.uniqueId(),this.opacity=.85,this.onDismiss=null,this.visible=!1,this.canDismiss=!0,this.dialog.setAttribute("role","dialog"),this.floating=y.div("modalDialogInner",this.dialog),this.outerDialog=y.div("modalDialogOuter",y.div("modalDialogMid",this.floating)),e&&this.add(y.div("wall-dialog-header",e)),this.fullWhite()}return p.prototype.setAlert=function(){this.dialog.setAttribute("role","alertdialog"),this.applyAria()},p.prototype.applyAria=function(){var t=this,n=!1,i=!1;y.Util.children(this.dialog).forEach(function(e){!n&&e.classList.contains("wall-dialog-header")&&(n=!0,e.id||(e.id=y.Util.guidGen()),t.dialog.setAttribute("aria-labelledby",e.id)),!i&&e.classList.contains("wall-dialog-body")&&(i=!0,e.id||(e.id=y.Util.guidGen()),t.dialog.setAttribute("aria-describedby",e.id))})},p.dismissCurrent=function(){p.currentIsVisible()&&(p.current.canDismiss=!0,p.current.dismiss())},p.currentIsVisible=function(){return p.current&&p.current.visible},p.prototype.show=function(){this.showBare()},p.prototype.addLog=function(){this.logView||(this.logView=new y.RT.AppLogView,this.logView.charts(!1),this.logView.search(!1),this.logView.reversed(!0),this.logView.attachLogEvents(),this.logView.element.style.fontSize="0.7em",this.add(this.logView.element),this.setScroll(),this.stretchWide())},p.prototype.addFirst=function(e){this.dialog.firstChild?this.dialog.insertBefore(e,this.dialog.firstChild):this.add(e)},p.prototype.empty=function(){this.dialog.setChildren([])},p.prototype.addBody=function(e){this.add(y.div("wall-dialog-body",e))},p.prototype.add=function(e){e&&Array.isArray(e)?this.dialog.appendChildren(e):this.dialog.appendChildren([e]),this.applyAria()},p.prototype.addClass=function(e){this.dialog.className+=" "+e},p.prototype.addHTML=function(e){var t=y.div("wall-dialog-body");return y.Browser.setInnerHTML(t,e),this.add(t),t},p.prototype.addOuter=function(e){this.outerDialog.appendChildren([e])},p.prototype.stretchDown=function(e,t){void 0===t&&(t=0),this.outerDialog.className+=" modalDialogOuterLong",this.listheight=y.SizeMgr.windowHeight-e.offsetTop-(3+t)*y.SizeMgr.topFontSize,e.style.height=this.listheight+"px"},p.prototype.adjustlistsize=function(){if(this.list&&this.buttondiv){var e=this.dialog.scrollHeight-this.dialog.clientHeight;0<e&&(this.listheight=Math.max(10*y.SizeMgr.topFontSize,this.listheight-e),this.list.style.height=this.listheight+"px")}},p.prototype.stretchWide=function(){this.floating.style.width="calc(100% - 1em)",this.dialog.style.width="100%"},p.prototype.showBare=function(e){var t=this;if(void 0===e&&(e=null),y.Ticker.dbg("ModalDialog.showBare0"),!p.current||p.current==this||p.current.canDismiss){this.overlay.style.opacity=this.opacity.toString(),this.overlay.withClick(function(){t.dismiss()}),this.outerDialog.withClick(function(){t.dismiss()}),this.floating.withClick(function(){});var n,i=y.elt("root");if(y.Util.children(i).forEach(function(e){return e.setAttribute("aria-hidden","true")}),i.appendChildren([this.overlay,e||this.outerDialog]),y.Util.children(this.dialog).forEach(function(e){"wall-dialog-buttons"==e.className&&(n=e),!e.withClick||e.clickHandler||e.onselectstart||(e.tabIndex=-1)}),e?(this.outerDialog=e,y.Util.showPopup(e)):y.Util.showPopup(this.floating),p.current&&p.current!=this&&p.dismissCurrent(),this.canDismiss&&y.Screen.pushModalHash("dialog-"+this.id,function(){return t.dismiss()}),this.savedKeyState=y.KeyboardMgr.instance.saveState(),y.KeyboardMgr.instance.register("Esc",function(){return t.dismiss(),!0}),this.visible=!0,p.current=this,n){var r=y.Util.children(n).filter(function(e){return e.clickHandler});1==r.length&&y.KeyboardMgr.instance.btnShortcut(r[0],"Enter")}y.elt("root").setFlag("modal-visible",!0),this.dialog.removeAttribute("aria-labelledby");var o=this.dialog.getElementsByTagName("h1")[0];o&&(o.id=y.Util.guidGen(),this.dialog.setAttribute("aria-labelledby",o.id));var a=y.div("focustrap");a.tabIndex=0,a.setAttribute("aria-hidden","true"),a.onfocus=function(){return t.focusFirstAsync().done()},this.dialog.appendChild(a),this.focusFirstAsync().done(),y.Ticker.dbg("ModalDialog.showBare1")}},p.prototype.focusFirstAsync=function(){var i=this;return new y.Promise(function(t,e,n){setTimeout(function(){try{var e=i.dialog.getElementsByTagName("input")[0]||i.dialog.getElementsByTagName("button")[0];e&&e.focus()}catch(e){}t(void 0)},10)})},p.prototype.dismiss=function(){var e=this;if(this.canDismiss){y.Ticker.dbg("ModalDialog.dismiss0"),y.Screen.popModalHash("dialog-"+this.id),this.logView&&this.logView.removeLogEvents(),this.visible=!1,y.elt("root").setFlag("modal-visible",!1),y.KeyboardMgr.instance.loadState(this.savedKeyState),y.Util.hidePopup(this.outerDialog,function(){y.Ticker.dbg("ModalDialog.dismiss1"),e.outerDialog.removeSelf(),y.Util.children(y.elt("root")).forEach(function(e){return e.removeAttribute("aria-hidden")})}),y.Util.fadeOut(this.overlay);var t=this.onDismiss;this.onDismiss=null,t&&t(this)}else y.Ticker.dbg("ModalDialog.dismiss - cannot")},p.ask=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=null);var o=new p;return null==r&&(r=t+"?"),o.add([y.div("wall-dialog-header",r),y.div("wall-dialog-body",e),y.div("wall-dialog-buttons",y.HTML.mkButton(y.lf("cancel"),function(){return o.dismiss()}),y.HTML.mkButton(t,function(){n(),o.dismiss()}))]),o.setAlert(),i&&o.critical(),o.show(),o},p.askAsync=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=null);var r=new y.PromiseInv;p.ask(e,t,function(){r.success(null)},n,i);return r},p.askMany=function(e,t,n){var i=new p;return i.add([y.div("wall-dialog-header",e),y.div("wall-dialog-body",t),y.div("wall-dialog-buttons",Object.keys(n).map(function(e){return y.HTML.mkButton(e,function(){i.dismiss(),n[e]()})}))]),i.setAlert(),i.show(),i},p.askManyWithAdditionalElts=function(e,t,n,i,r,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var c=new p;return c.add([y.div("wall-dialog-header",e,t),y.div("wall-dialog-body",n),y.div("wall-dialog-header",i),y.div("wall-dialog-body",r),y.div("wall-dialog-buttons",Object.keys(o).map(function(e){return y.HTML.mkButton(e,function(){c.dismiss(),o[e]()})})),a]),c.show(),c},p.buttons=function(e,t,n,i){for(var r=[],o=4;o<arguments.length;o++)r[o-4]=arguments[o];var a=new p;return a.add([y.div("wall-dialog-header",e),y.div("wall-dialog-body",t),n&&y.div("wall-dialog-header",n),i&&y.div("wall-dialog-body",i),y.div("wall-dialog-buttons",r)]),a.setAlert(),a.show(),a},p.info=function(e,t,n){void 0===n&&(n="ok");var i=new p;return i.add([y.div("wall-dialog-header",e),y.div("wall-dialog-body",t)]),n&&i.addOk(n),i.setAlert(),i.show(),i},p.infoAsync=function(e,t,n){void 0===n&&(n="ok");var i=new y.PromiseInv;return p.info(e,t,n).onDismiss=function(){return i.success(null)},i},p.prototype.addButtons=function(t){this.add(y.div("wall-dialog-buttons",Object.keys(t).map(function(e){return y.HTML.mkButton(e,t[e])})))},p.prototype.addOk=function(e,t,n,i){var r=this;void 0===e&&(e=y.lf("ok")),void 0===t&&(t=null),void 0===n&&(n=""),void 0===i&&(i=[]);var o=y.HTML.mkButton(e,function(){t?t():r.dismiss()});return n&&(o.className+=" "+n),this.add(y.div("wall-dialog-buttons",[o,i])),o},p.showAsync=function(o,a){return void 0===a&&(a={}),new y.Promise(function(e,t,n){var i=new p,r=!1;a.title&&i.add(y.div("wall-dialog-header",a.title)),o&&i.add(y.div("wall-dialog-body",o)),i.addOk(y.lf("ok"),function(){r=!0,i.dismiss()},"",a.cancel?y.HTML.mkButton(y.lf("cancel"),function(){return i.dismiss()}):void 0),i.onDismiss=function(){return e(r)},i.setAlert(),i.show()})},p.showText=function(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null);var r=new p;null!=t&&r.add(y.div("wall-dialog-header",t)),null!=n&&r.add(y.div("wall-dialog-body",n));var o=y.HTML.mkTextArea("scriptText");o.value=e,r.dialog.appendChild(o),r.textArea=o,r.onDismiss=i,r.setAlert(),r.show(),r.stretchDown(o),r.stretchWide();try{o.setSelectionRange(0,e.length)}catch(e){}return r},p.showTable=function(e,t,n){var i=new p,r=document.createElement("table");r.className="traces";for(var o=document.createElement("tr"),a=0;a<e.length;a++){var s=document.createElement("th");s.textContent=e[a],o.appendChild(s)}r.appendChild(o);for(a=0;a<t.length;a++){var c=document.createElement("tr");c.classList.add("hover");for(var l=t[a],u=0;u<l.length;u++){var d=document.createElement("td");d.textContent=l[u],d.ondblclick=function(e){var t=e.target||e.srcElement;return n(i,t.parentElement.sectionRowIndex-1)},c.appendChild(d)}r.appendChild(c)}return i.dialog.appendChild(r),i.stretchDown(r),i.setAlert(),i.show(),i},p.editText=function(e,t,n){var i=new p,r=y.div("wall-dialog-buttons",y.HTML.mkButton(y.lf("update"),function(){r.removeSelf(),n(o.value).done(function(){return i.dismiss()})}),y.HTML.mkButton(y.lf("cancel"),function(){return i.dismiss()})),o=y.HTML.mkTextInput("text","");return o.value=t,i.add(y.div("wall-dialog-header",e)),i.add(y.div(null,o)),i.add(r),i.setAlert(),i.show(),i},p.prototype.noChrome=function(){this.outerDialog.className+=" modalNoChrome"},p.prototype.fullScreen=function(e){void 0===e&&(e=!1),this.outerDialog.className+=" modalNoChrome "+(e?"reallyFullScreen":"modalFullScreen"),this.outerDialog.setChildren(this.dialog)},p.prototype.fullBlack=function(){this.outerDialog.classList.add("modalFullBlack"),this.outerDialog.classList.remove("modalFullWhite"),this.outerDialog.classList.remove("modalFullYellow")},p.prototype.fullWhite=function(){this.outerDialog.classList.remove("modalFullBlack"),this.outerDialog.classList.add("modalFullWhite"),this.outerDialog.classList.remove("modalFullYellow")},p.prototype.fullYellow=function(){this.outerDialog.classList.remove("modalFullBlack"),this.outerDialog.classList.remove("modalFullWhite"),this.outerDialog.classList.add("modalFullYellow")},p.prototype.critical=function(){this.outerDialog.classList.remove("modalFullBlack"),this.outerDialog.classList.remove("modalFullWhite"),this.outerDialog.classList.remove("modalFullYellow"),this.floating.classList.add("bg-critical"),this.setAlert()},p.prototype.setScroll=function(){this.dialog.style.maxHeight=.85*y.SizeMgr.windowHeight/y.SizeMgr.topFontSize+"em",y.Util.setupDragToScroll(this.dialog)},p.prototype.showorhidelist=function(e){var t=e?"":"none";this.searchbox&&(this.searchbox.style.display=t),this.list&&(this.list.style.display=t)},p.prototype.choose=function(l,u){var e=this;void 0===u&&(u={});var d=y.HTML.mkProgressBar(),p=this.list=y.HTML.mkModalList([]),h=y.HTML.mkTextInput("text",y.lf("choose..."));h.id="chooseSearch",h.setAttribute("role","search"),h.placeholder=u.searchHint||(u.queryAsync?y.lf("Type to search online..."):y.lf("Type to search..."));var m=y.KeyboardAutoUpdate.mkInput(h,y.Util.catchErrors("chooseSearch",function(){return v(!0)}));m.attach();var f=!!u.mkSeeMore;f&&l.every(function(e){return!e.initiallyHidden})&&(f=!1);var g=!1;function n(){return y.Util.children(p).filter(function(e){return e==document.activeElement})[0]}function v(e,t){var n=h.value,i=n.split(/\s+/).map(function(e){return e.toLowerCase()}).filter(function(e){return""!=e}),r=[],o={};0<i.length&&(f=!1);var a=0;if(l.forEach(function(e){var t=!1;if(f&&e.initiallyHidden)a++;else{var n=e.textContent.toLowerCase();i.forEach(function(e){!t&&n.indexOf(e)<0&&(t=!0)}),t||(o[n]=1,r.push(e),y.Util.highlightWords(e,i,!0))}}),f){var s=u.mkSeeMore(g?y.lf("you can also search"):y.lf("more option{0:s}",a));y.HTML.setTickCallback(s,274,function(){f=!1,v(u.initialEmptyQuery)}),r.push(s)}if(p.setChildren(r),e&&u.queryAsync&&y.Cloud.isOnline()&&(d.start(),u.queryAsync(n).then(function(e){d.stop(),m.resultsCurrent(n)&&e&&e.forEach(function(e){var t=e.textContent.toLowerCase();o[t]||(o[t]=1,p.appendChild(e),y.Util.highlightWords(e,i,!0))})}).done()),t&&p.firstElementChild){var c=p.firstElementChild;y.Util.setTimeout(10,function(){return c.focus()})}u.afterRefresh&&u.afterRefresh()}u.noBackground||(this.outerDialog.className+=" modalChooser"),u.header&&this.add(y.div("modalSearchHeader",u.header)),(g=void 0!==u.includeSearch?!!u.includeSearch:!!u.queryAsync||5<l.length)&&this.add(this.searchbox=y.div("modalSearch",[d,h])),this.add(p),this.buttondiv=y.div("wall-dialog-buttons modalChooseBtns"),void 0!==u.custombuttons?this.buttondiv.appendChildren(u.custombuttons):this.buttondiv.appendChild(y.HTML.mkButtonTick(y.lf("cancel"),185,function(){return e.dismiss()})),this.add(this.buttondiv),this.show(),y.KeyboardMgr.instance.register("Down",function(){var e=n();return!e&&p.firstElementChild?p.firstElementChild.focus():e&&e.nextElementSibling&&(e.nextElementSibling.focus(),e.nextElementSibling.scrollIntoView(!1)),!0}),y.KeyboardMgr.instance.register("Up",function(){var e=n();return!e&&p.lastElementChild?p.lastElementChild.focus():e&&e.previousElementSibling&&(e.previousElementSibling.focus(),e.previousElementSibling.scrollIntoView(!1)),!0}),y.KeyboardMgr.instance.register("Enter",function(e){var t=n();return t&&t.clickHandler?t.clickHandler.fireClick(e):p.firstElementChild&&p.firstElementChild.focus(),!0}),y.KeyboardMgr.instance.register("***",function(e){if(e.fromTextBox)return!1;var t=y.Util.keyEventString(e);return!!t&&(h.value+=t,y.Util.setKeyboardFocus(h),!0)}),u.dontStretchDown||this.stretchDown(p,2.8),u.adjustListSize&&this.adjustlistsize();var t=!0;void 0!==u.initialQuery&&(u.initialEmptyQuery=!0,h.value=u.initialQuery,g&&(y.Util.setKeyboardFocus(h,!0),t=!1)),v(u.initialEmptyQuery,t)},p}();y.ModalDialog=e,function(i){var r,o,a,s,e,c=0,t=!1;function n(e,t,n){void 0===e&&(e=y.lf("working hard")),i.lock.done(function(){return l(e,t,n)})}function l(e,t,n){void 0===e&&(e=y.lf("working hard")),c++,y.Ticker.dbg("ProgressOverlay.show "+c+" "+e),1<c?d(e):(r||((r=y.div("modalOverlay",y.div("modalMessage",o=y.div("modalMessageHeader"),a=y.div("modalMessagePleaseWait"),s=y.div("modalMessagePleaseWait")))).withClick(function(){}),r.style.backgroundColor="white",r.style.opacity="0.95",r.style.backgroundSize="cover",r.style.backgroundRepeat="no-repeat"),i.lock=new y.PromiseInv,d(e),p(n),a.setChildren([y.lf("please wait...")]),u(),r.removeSelf(),y.elt("root").appendChildren([r]),t&&y.Util.setTimeout(y.Browser.isWebkit?100:1,t))}function u(){e&&(e.element.removeSelf(),e.removeLogEvents(),e=void 0)}function d(e){o&&o.setChildren(e)}function p(e){r&&(r.style.backgroundImage=y.HTML.cssImage(e,.3))}function h(){return 0<c}i.lock=y.PromiseInv.as(),i.lockAndShow=n,i.lockAndShowAsync=function(e){var t=new y.PromiseInv;return n(e,function(){return t.success(null)}),t},i.bumpShow=function(){y.Util.assert(h()),c++},i.show=l,i.setAddInfo=function(e){a.setChildren(e)},i.hide=function(){0!=c&&(c--,y.Ticker.dbg("ProgressOverlay.hide "+c),0==c&&(i.lock.success(null),s.setChildren([]),r.removeSelf(),t=!1,u()))},i.setProgress=function(e){s&&s.setChildren(e)},i.setMessage=d,i.setSplashArtId=p,i.unblockKeyboard=function(){t=!0},i.isKeyboardBlocked=function(){return h()&&!t},i.showLog=function(){e||((e=new y.RT.AppLogView).charts(!1),e.search(!1),e.reversed(!0),e.attachLogEvents(),e.element.style.fontSize="0.7em",s.parentElement.appendChild(e.element))},i.isActive=h}(y.ProgressOverlay||(y.ProgressOverlay={}))}(TDev||(TDev={})),function(v){!function(c){function l(e,t){void 0===t&&(t=void 0),v.Util.navigateInWindow(window.errorUrl+"#storageinit,"+encodeURIComponent(t))}function p(e,t,n){return void 0===n&&(n=!1),e.isDatabaseError=!0,e.databaseOrigin=t,v.Util.log("database error"+(n?" (will retry)":" (no retry)")+": "+v.Util.getErrorInfo(e)),e}c.temporary=!1;c.showTemporaryWarning=function(){return!!c.temporary&&(v.Cloud.isAccessTokenExpired()?v.HTML.showWarningNotification(v.lf("Web site data not available, sign in to back up your scripts!"),{details:v.lf("Your browser does not allow Touch Develop to store data. This usually happens if run in Private Mode (Safari), in InPrivate mode (Internet Explorer) or your security settings prevent data storage. Sign in or change your browser settings to avoid loosing your work. All the changes not saved to the cloud will be lost when leaving this page.")}):v.Cloud.isOffline()&&v.HTML.showWarningNotification(v.lf("Web site data not available, connect to internet to back up your scripts!"),{details:v.lf("Your browser does not allow Touch Develop to store data. This usually happens if run in Private Mode (Safari), in InPrivate mode (Internet Explorer) or your security settings prevent data storage. Sign in or change your browser settings to avoid loosing your work. All the changes not saved to the cloud will be lost when leaving this page.")}),!0)};var r={},n=function(){function e(e){this.tableName=e,c.temporary=!0}return e.prototype.getValueAsync=function(e){var t=r[this.tableName+"-"+e];return"string"!=typeof t&&(t=void 0),v.Promise.as(t)},e.prototype.getItemsAsync=function(e){var n=this,i={};return e.forEach(function(e){var t=r[n.tableName+"-"+e];"string"!=typeof t&&(t=void 0),i[e]=t}),v.Promise.as(i)},e.prototype.getKeysAsync=function(){var t=this.tableName+"-",n=[];return Object.keys(r).forEach(function(e){e.length>t.length&&e.slice(0,t.length)===t&&n.push(e.slice(t.length))}),v.Promise.as(n)},e.prototype.setItemsAsync=function(n){var i=this;return Object.keys(n).forEach(function(e){var t=n[e];"string"==typeof t?r[i.tableName+"-"+e]=t:delete r[i.tableName+"-"+e]}),v.Promise.as()},e}();c.createMemoryTable=function(e){return new n(e)};var t,u,o=!(c.tableNames=["Editor","Index","Scripts","ScriptCache","Traces","ApiCache","ArtCache","Sessions"]),i=function(){function e(e){this.tableName=e}return e.prototype.getValueAsync=function(t){return this.getItemsAsync([t]).then(function(e){return e[t]})},e.prototype.getItemsAsync=function(s){var c=this;return 0==s.length?v.Promise.as({}):new v.Promise(function(i,t,e){try{var n=u.transaction([c.tableName],"readonly").objectStore(c.tableName),r=s.map(function(e){return n.get(e)}),o={},a=s.length;r.forEach(function(e,n){e.onsuccess=function(e){var t=e.target.result;o[s[n]]=void 0===t?void 0:t.value,0==--a&&i(o)},e.onerror=function(e){0<=a&&t(p(e,"IndexedDBTable.getItemsAsync/0",!(a=-1)))}})}catch(e){t(p(e,"IndexedDBTable.getItemsAsync/1",!1))}})},e.prototype.getKeysAsync=function(){var o=this;return new v.Promise(function(n,t,e){try{var i=u.transaction([o.tableName],"readonly").objectStore(o.tableName).openCursor(),r=[];i.onsuccess=function(e){var t=e.target.result;t?(r.push(t.key),t.continue()):n(r)},i.onerror=t}catch(e){t(p(e,"IndexedDBTable.getKeysAsync",!1))}})},e.prototype.setItemsAsync=function(t){var o=this,a=[];return Object.keys(t).forEach(function(e){a.push({key:e,value:t[e]})}),0==a.length?v.Promise.as():new v.Promise(function(n,i,e){try{var t=a.map(function(e){var t=u.transaction([o.tableName],"readwrite").objectStore(o.tableName);return"string"==typeof e.value?t.put(e):t.delete(e.key)}),r=t.length;t.forEach(function(e,t){e.onsuccess=function(e){0==--r&&n(void 0)},e.onerror=function(e){0<=r&&i(p(e,"IndexedDBTable.setItemsAsync/0",!(r=-1)))}})}catch(e){i(p(e,"IndexedDBTable.setItemsAsync/1",!1))}})},e}();var d,h,m=!1,a=function(){function e(e){this.tableName=e}return e.prototype.getValueAsync=function(t){return this.getItemsAsync([t]).then(function(e){return e[t]})},e.prototype.internalGetItemsAsync=function(a,s,c,l){var u=this;if(void 0===l&&(l=3),c>=s.length)return v.Promise.as(a);var d=c+256;return d>s.length&&(d=s.length),new v.Promise(function(n,i,e){var r=!1,o=function(e,t){r||(r=!0,p(e,"WebSqlTable.internalGetItemsAsync/"+t,0<l),0<l?g().then(function(){return u.internalGetItemsAsync(a,s,c,l-3)}).done(n,i):i(e))};try{h.transaction(function(e){for(var t="SELECT * FROM TABLE"+u.tableName+" WHERE ",n=[],i=c;i<d;i++)c<i&&(t+=" OR "),t+="id=?",n.push(s[i]);try{e.executeSql(t,n,function(e,t){for(var n=t.rows.length,i=0;i<n;i++){var r=t.rows.item(i);a[r.id]=r.text}})}catch(e){o(e,0)}},function(e){return o(e,1)},function(){r||(r=!0,n(a))})}catch(e){o(e,2)}}).then(function(){return u.internalGetItemsAsync(a,s,d)})},e.prototype.getItemsAsync=function(e){return this.internalGetItemsAsync({},e,0)},e.prototype.getKeysAsync=function(a){var s=this;return void 0===a&&(a=3),new v.Promise(function(n,i,e){var o=[],r=!1,t=function(e,t){r||(r=!0,p(e,"WebSqlTable.getKeysAsync/"+t,0<a),0<a?g().then(function(){return s.getKeysAsync(a-1)}).done(n,i):i(e))};try{h.transaction(function(e){try{e.executeSql("SELECT id FROM TABLE"+s.tableName,[],function(e,t){for(var n=t.rows.length,i=0;i<n;i++){var r=t.rows.item(i);o.push(r.id)}})}catch(e){t(e,0)}},function(e){return t(e,1)},function(){r||(r=!0,n(o))})}catch(e){t(e,2)}})},e.prototype.setItemsAsync=function(a,s){var c=this;void 0===s&&(s=3);var l=[];return Object.keys(a).forEach(function(e){l.push({key:e,value:a[e]})}),0==l.length?v.Promise.as():new v.Promise(function(n,i,e){var r=!1,o=function(e,t){r||(r=!0,p(e,"WebSqlTable.setItemsAsync/"+t,0<s),0<s?g().then(function(){return c.setItemsAsync(a,s-1)}).done(n,i):i(e))};try{h.transaction(function(t){l.forEach(function(e){try{"string"==typeof e.value?t.executeSql("INSERT OR REPLACE INTO TABLE"+c.tableName+" (id, text) VALUES (?, ?)",[e.key,e.value]):t.executeSql("DELETE FROM TABLE"+c.tableName+" WHERE id=?",[e.key])}catch(e){o(e,0)}})},function(e){return o(e,1)},function(){r||(r=!0,n(void 0))})}catch(e){o(e,2)}})},e}();function f(e){if(void 0===e&&(e=3),h)return v.Promise.as(h);if(!d){if(m)return v.Promise.delay(1e3,function(){return f(e)});d=function o(a){void 0===a&&(a=3);return new v.Promise(function(n,i,e){var r=!1,t=function(e,t){r||(r=!0,p(e,"WebSqlTable.internalGetWebSqlAsync/"+t,0<a),0<a?v.Promise.delay(2e3,function(){return o(a-1)}).done(n,i):(v.Util.log("error during openDatabase "+v.Util.getErrorInfo(e)),v.Browser.canMemoryTable?n(void 0):l(0,"during openDatabase: "+v.Util.getErrorInfo(e))))};try{!function(e,n,i,r){void 0===r&&(r=3);var o=!1,a=function(e,t){o||(o=!0,p(e,"WebSqlTable.webSqlInit/"+t,0<r),0<r?g(r-1).done(n,i):i(e))};try{e.transaction(function(t){c.tableNames.forEach(function(e){try{t.executeSql("CREATE TABLE IF NOT EXISTS TABLE"+e+" (id unique, text)")}catch(e){a(e,0)}})},function(e){return a(e,1)},function(){o||(o=!0,n(e))})}catch(e){a(e,2)}}(window.openDatabase("TDev","1.0","TouchDevelop database",5242880),function(e){n(h=e)},function(e){return t(e,0)},a)}catch(e){t(e,1)}})}(e)}return d}function g(e){return void 0===e&&(e=3),d=h=void 0,v.Promise.delay(2e3,function(){return f(e)})}function s(){var e=window;return e.indexedDB||e.mozIndexedDB||e.msIndexedDB}function e(){if(c.temporary)return v.Promise.as(void 0);if(u)return v.Promise.as(u);if(!t){if(o)return v.Promise.delay(1e3,function(){return e()});t=new v.Promise(function(t,e,n){try{var i=s().open("TDev",26);i.onupgradeneeded=function(e){!function(t){try{for(var e=t.objectStoreNames,n={},i=0;i<e.length;i++)c.tableNames.indexOf(e[i])<0?t.deleteObjectStore(e[i]):n[e[i]]=!0;c.tableNames.forEach(function(e){n[e]||t.createObjectStore(e,{keyPath:"key"})})}catch(e){v.Util.reportError("indexedDBupgrade",e,!0)}}(i.result)},i.onsuccess=function(e){u=i.result,t(u)},i.onblocked=function(e){l(0,"blocked during open "+v.Util.getErrorInfo(i.error))},i.onerror=function(e){i.error&&"VersionError"==i.error.name?v.Util.navigateInWindow(window.errorUrl+"#storageversion"):(v.Util.log("error during openDatabase "+v.Util.getErrorInfo(i.error)),v.Browser.canMemoryTable?t(void 0):l(0,"error during openDatabase "+v.Util.getErrorInfo(i.error)))}}catch(e){v.Util.log("error during openDatabase "+v.Util.getErrorInfo(i.error)),v.Browser.canMemoryTable?t(void 0):l(0,"during openDatabase "+v.Util.getErrorInfo(e))}})}return t}c.getTableAsync=function(t){if(!c.temporary&&v.Browser.webAppImplicit&&(v.Util.log("implicit web app: disable database storage"),c.temporary=!0,v.Browser.canMemoryTable=!0),!c.temporary){if(v.Browser.canWebSql)return f().then(function(e){return e?(v.Browser.supportMemoryTable(!1),v.Promise.as(new a(t))):(v.Util.log("webSql openDatabase failed"),c.temporary=!0,c.getTableAsync(t))});if(v.Browser.canIndexedDB)return e().then(function(e){return e?(v.Browser.supportMemoryTable(!1),v.Promise.as(new i(t))):(v.Util.log("indexedDB openDatabase failed"),c.temporary=!0,c.getTableAsync(t))})}if(v.Browser.canMemoryTable)return v.Util.log("storage: opening in-memory table "+t),v.Promise.as(new n(t));throw p(new Error("no database available"),"getTableAsync",!1)},c.clearPreAsync=function(){return v.Promise.as()},c.clearAsync=function(){var e=c.clearPreAsync();return v.Browser.canWebSql&&(e=e.then(function(){return v.Util.log("clearing WebSql"),f()}).then(function(e){return e?function a(s){return void 0===s&&(s=3),f().then(function(t){return m=!(d=h=void 0),new v.Promise(function(n,i,e){var r=!1,o=function(e,t){h=void 0,r||(m=!(r=!0),p(e,t,0<s),0<s?g().then(function(){return a(s-1)}).done(n,i):l(0,"during drop "+v.Util.getErrorInfo(e)))};try{t.transaction(function(t){c.tableNames.forEach(function(e){try{t.executeSql("DROP TABLE TABLE"+e)}catch(e){o(e,"0")}})},function(e){return o(e,1)},function(){h=void 0,r||(m=!(r=!0),n(void 0))})}catch(e){o(e,2)}})})}().then(function(){return f()},function(){}):v.Promise.as(void 0)})),v.Browser.canIndexedDB&&(e=e.then(function(){return v.Util.log("clearing IndexedDB"),function(){if(u){try{u.close()}catch(e){}u=null}return o=!(t=void 0),new v.Promise(function(t,n,e){try{var i=s().deleteDatabase("TDev");i.onsuccess=function(e){o&&(o=!1,t(void 0))},i.onblocked=i.onerror=function(e){o&&(o=!1,n(e))}}catch(e){o=!1,n(e)}})}()}).then(function(e){return e},function(e){})),e=e.then(function(){v.Util.log("clearing localStorage");var e=window.localStorage.oauth_states;window.localStorage.clear(),e&&(window.localStorage.oauth_states=e),v.Browser.supportMemoryTable(!0)})},c.logContentsAsync=function(o){var a=function(e){return e<1024?e+" B":e<1048576?Math.floor(e/1024)+" KB":Math.floor(e/1024/1024)+" MB"};return v.Promise.sequentialMap(c.tableNames,function(r){return c.getTableAsync(r).then(function(e){return e.getKeysAsync().then(function(i){return v.Promise.sequentialMap(i,function(n){return e.getValueAsync(n).then(function(e){if(o){var t=(n+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0");v.Util.log("DB table "+r+'["'+t+'"].length='+a(e.length))}return i.length+e.length})}).then(function(e){var t=e.reduce(function(e,t){return e+t},0);return v.Util.log("DB table "+r+" size: "+a(t)),t})})})}).then(function(e){var t=e.reduce(function(e,t){return e+t},0);v.Util.log("DB total size: "+a(t))})}}(v.Storage||(v.Storage={}))}(TDev||(TDev={})),function(u){var e;(function(o){function a(){var e=-1;if(u.Browser.isNodeJS)return e;try{e=parseFloat(localStorage.perfunit||-1)}catch(e){u.Util.log("perf: Failed to read from localStorage")}return e}o.timeReporting=!1,o.unit=a,o.setUnit=function(e){u.Util.log("perf: unit = "+e.toFixed(0)+" ms");try{localStorage.perfunit=e}catch(e){u.Util.log("perf: Failed to write to localStorage")}},o.start=function(e,t){return void 0===t&&(t=!1),{id:e,time:u.Util.perfNow(),lastPause:-1,report:t}},o.startPaused=function(e,t){void 0===t&&(t=!1);var n=u.Util.perfNow();return{id:e,time:n,lastPause:n,report:t}};var s,c,l=[];function r(){var e,t=new u.PromiseInv,n=window.localStorage.archivedPerfData;return null==n||0==n.length?u.Promise.as(void 0):null==(e=JSON.parse(n))||0==e.length?u.Promise.as(void 0):(e.forEach(function(e){e.userplatform=u.Browser.platformCaps}),u.Cloud.postPrivateApiAsync("benchmarks",e).done(function(e){window.localStorage.archivedPerfData=[],t.success(void 0),u.Util.log("perf: Perf data successfully submitted.")},function(e){u.Util.log("perf: Failed to send events."),t.error(void 0)}),t)}o.init=function(e,t){s=e,c=t,u.Cloud.hasAccessToken()&&u.Cloud.isOnline()&&r()},o.saveCurrentAsync=function(e){void 0===e&&(e=!1);var t=[],n=window.localStorage.archivedPerfData;null!=n&&0<n.length&&(t=JSON.parse(n)),t=t.concat(l),l=[],500<t.length&&(t=t.slice(t.length-500));var i=JSON.stringify(t);return 5e4<i.length&&(i="[]"),window.localStorage.archivedPerfData=i,e&&u.Cloud.hasAccessToken()&&u.Cloud.isOnline()?r():u.Promise.as(void 0)},o.pushCustomData=function(e){u.Util.check(!isNaN(e.duration)&&0<e.duration&&e.duration<1e6,"invalid duration "+JSON.stringify(e))&&l.push(e)},o.purgeSavedEvents=function(){l=[]},o.stop=function(e){var t=u.Util.perfNow(),n=0;n=-1==e.lastPause?t-e.time:e.lastPause-e.time,n=Math.round(100*n)/100;var i=a();if(e.report&&0<i&&null!=s&&null!=c){var r={unitduration:i,duration:n,id:e.id,compilerversion:s,releaseid:c,userplatform:null};u.Util.check(!isNaN(r.duration)&&0<r.duration&&r.duration<1e6,"invalid duration")&&l.push(r)}return o.timeReporting&&(0<i?u.Util.log(u.Util.fmt("perf: {0} - {1} - {2}ms",e.id,(n/i).toFixed(2),n.toFixed(0))):u.Util.log(u.Util.fmt("perf: {0} - {1}ms",e.id,n.toFixed(0)))),n},o.ellapsed=function(e){var t=u.Util.perfNow();return-1==e.lastPause?t-e.time:e.lastPause-e.time},o.pause=function(e){-1==e.lastPause&&(e.lastPause=u.Util.perfNow())},o.resume=function(e){-1!=e.lastPause&&(e.time=u.Util.perfNow()-(e.lastPause-e.time),e.lastPause=-1)}})((e=u.RT||(u.RT={})).Perf||(e.Perf={}))}(TDev||(TDev={})),function(f){!function(h){var u=function(t){function o(e){t.call(this),this.category=e,this.minLevel=s.DEBUG,this.category=this.category||"",this.created=f.Util.perfNow()}return __extends(o,t),o.prototype.debug=function(e,t){this.log("debug",e,void 0,t)},o.prototype.info=function(e,t){this.log("info",e,void 0,t)},o.prototype.warning=function(e,t){this.log("warning",e,void 0,t)},o.prototype.error=function(e,t){this.log("error",e,void 0,t)},o.prototype.stringToLevel=function(e){switch(e.trim().toLowerCase()){case"debug":return s.DEBUG;case"warning":return s.WARNING;case"error":return s.ERROR;default:return s.INFO}},o.prototype.log=function(e,t,n,i){var r=this.stringToLevel(e);r>this.minLevel||s.logEvent(r,this.category,t,this.augmentMeta(n?n.value():void 0,i))},o.prototype.set_verbosity=function(e,t){this.minLevel=this.stringToLevel(e)},o.prototype.verbosity=function(e){return this.minLevel==s.DEBUG?"debug":this.minLevel==s.WARNING?"warning":this.minLevel==s.ERROR?"error":"info"},o.findContext=function(e){for(;e&&!e.loggerContext;)if((e=e.previous)&&e.isDetached){e=null;break}return e?e.loggerContext:null},o.prototype.contextInfo=function(e){var t=o.findContext(e);if(t){var n=f.Util.perfNow()-t.created;t.root.pauseOffset&&(n-=t.root.pauseOffset);for(var i={contextId:t.id,contextDuration:Math.round(n),contextUser:""},r=t;r;r=r.prev)i.contextUser||(i.contextUser=r.userid||"");return i}return null},o.prototype.setMetaFromContext=function(e,t){var n=this.contextInfo(t);n&&(e.contextId=n.contextId,e.contextDuration=n.contextDuration,e.contextUser=n.contextUser)},o.prototype.augmentMeta=function(e,t){var n=e?e.value():null;return o.findContext(t)?(n=n?f.Util.jsonClone(n):{},this.setMetaFromContext(n,t),n):n||{}},o.prototype.set_context_user=function(e,t){var n=o.findContext(t);n||f.Util.userError("No current context"),n&&(n.userid=e)},o.prototype.context_user=function(e){var t=this.contextInfo(e);return t&&t.contextUser?t.contextUser:""},o.prototype.context_id=function(e){var t=this.contextInfo(e);return t?t.contextId:""},o.prototype.context_pause=function(e){var t=o.findContext(e);t&&(t.root.pauseStart=f.Util.perfNow())},o.prototype.context_resume=function(e){var t=o.findContext(e);t&&(t=t.root).pauseStart&&(t.pauseOffset=f.Util.perfNow()-t.pauseStart,t.pauseStart=0)},o.prototype.logger_duration=function(e){return f.Util.perfNow()-this.created},o.prototype.context_duration=function(e){var t=this.contextInfo(e);return t?t.contextDuration:f.Util.perfNow()-this.created},o.prototype.tick=function(e,t){e&&s.logTick(this.category,e,this.augmentMeta(null,t))},o.prototype.custom_tick=function(e,t,n){e&&s.logTick(this.category,e,this.augmentMeta(t,n))},o.prototype.measure=function(e,t,n){e&&s.logMeasure(this.category,e,t,this.augmentMeta(null,n))},o.prototype.new_context=function(e){var t=o.findContext(e),n={id:t?t.id+"."+ ++t.numCh:f.Random.uniqueId(8),prev:t,created:f.Util.perfNow(),numCh:0};n.root=t?t.root:n,e.loggerContext=n},o.prototype.start=function(e){var t=this.category;t&&(t+=".");var n=new o(t+=e);return n.parent=this,n},o.prototype.end=function(){this.parent&&(s.logMeasure(this.category,"LoggerStop",f.Util.perfNow()-this.created,null),this.parent=void 0)},o}(h.RTValue);h.AppLogger=u;var d=function(){function e(){var t=this;this._reversed=!1,this.maxItems=f.Browser.isMobile?200:2e3,this.refreshRate=f.Browser.isMobile?500:100,this.pendingChartUpdate=!1,this.series={},(e.current=this).searchBox=f.HTML.mkTextInput("text",f.lf("Filter..."),"search"),this.searchBox.classList.add("logSearchInput"),f.Util.onInputChange(this.searchBox,function(e){return t.update()}),this.chartsEl=f.div(""),this.chartsEl.style.display="none",this.logsEl=f.div(""),this.element=f.div("",this.searchBox,f.div("logView",this.chartsEl,this.logsEl)),f.Util.setupDragToScroll(this.element),this.element.withClick(function(){},!0),this.update()}return e.prototype.setFilter=function(e){this.searchBox.value=e||"",this.update()},e.prototype.showAsync=function(){var r=this;return new f.Promise(function(e,t,n){var i=new f.ModalDialog;i.onDismiss=function(){return e(void 0)},i.add(r.element),i.setScroll(),i.fullScreen(),i.show()})},e.prototype.attachLogEvents=function(){var o=this;if(!this.transport){var a=f.Util.now();this.transport={log:function(e,t,n,i){var r=s.createLogMessage(e,t,n,i);r.elapsed=f.Util.elapsed(a,f.Util.now()),o.append([r])}},s.addTransport(this.transport)}},e.prototype.removeLogEvents=function(){this.transport&&(s.removeTransport(this.transport),this.transport=void 0)},e.prototype.charts=function(e){this.chartsEl.style.display=e?"block":"none"},e.prototype.search=function(e){this.searchBox.style.display=e?"block":"none"},e.prototype.reversed=function(e){this._reversed=e,this.update()},e.prototype.update=function(){var e=this,t=f.Util.childNodes(this.logsEl),n=this.searchBox.value.toLowerCase();n?t.forEach(function(e){-1<e.innerText.toLowerCase().indexOf(n)?e.style.display="block":e.style.display="none"}):t.forEach(function(e){return e.style.display="block"}),"block"!=this.chartsEl.style.display||this.pendingChartUpdate||(this.pendingChartUpdate=!0,f.Util.setTimeout(this.refreshRate,function(){e.generateLogCharts(),e.pendingChartUpdate=!1}))},e.prototype.append=function(e){var a=[];e.filter(function(e){return!!e}).forEach(function(e,t){var n=e.msg,i=f.Util.htmlEscape(n).replace(/https?:\/\/[^\s\r\n"'`]+/gi,function(e){return'<a href="'+e+"\" target='_blank' rel='nofollow'>"+e+"</a>"}).replace(/\b(StK[A-Za-z0-9]{8,500})/g,function(e){return" <a href='#cmd:search:"+e+"'>"+e+"</a>"});e.meta&&e.meta.contextId&&(i+=" <span class='logMeta'>[<a href='#cmd:logfilter:"+f.Util.htmlEscape(e.meta.contextId.replace(/\..*/,""))+"'>"+f.Util.htmlEscape(e.meta.contextId)+"</a>: "+Math.round(e.meta.contextDuration)+"ms]</span>");var r,o=void 0;e.meta&&e.meta&&"crash"===e.meta.kind&&(o=e.meta),a.push("<div class='logMsg' data-level='"+((r=e.level)<=h.App.ERROR?"error":r<=h.App.WARNING?"warning":r<=h.App.INFO?"info":r<=h.App.DEBUG?"debug":"noisy")+"' data-timestamp='"+e.timestamp+"'"+(o?" data-crash='"+f.Util.htmlEscape(JSON.stringify(o))+"'":"")+">"+(e.elapsed?e.elapsed+"&gt; ":"")+(e.category?f.Util.htmlEscape(e.category)+": ":"")+i+"</div>")});var t=f.div("");f.Browser.setInnerHTML(t,a.join(""));var n=f.Util.childNodes(t);this.onMessages&&this.onMessages(n);for(var i=this.logsEl.childElementCount+n.length-this.maxItems;0<i--&&this.logsEl.firstElementChild;)this.logsEl.removeChild(this._reversed?this.logsEl.lastElementChild:this.logsEl.firstElementChild);var r=Math.min(n.length,this.maxItems);if(this._reversed)for(var o=r-1;0<=o;--o)this.logsEl.insertBefore(n[o],this.logsEl.firstElementChild);else for(o=0;o<r;++o)this.logsEl.appendChild(n[o]);this.update()},e.prototype.prependHTML=function(e){this.logsEl.insertBefore(e,this.logsEl.firstElementChild)},e.prototype.generateLogCharts=function(){var a=this,e=f.Util.childNodes(this.logsEl).filter(function(e){return"block"==e.style.display});Object.keys(this.series).forEach(function(e){return a.series[e].points=[]});var s=0;e.forEach(function(e,t){var n=e.innerText;if(n){var o=parseFloat(e.getAttribute("data-timestamp"));0==t&&(s=o),n.replace(/\b([a-z]\w*)\b\s*[:=]\s*(-?\d+(\.\d+)?(e\d+)?)\s*$/gi,function(e,t,n){var i=parseFloat(n);a.series[t]||(a.series[t]={points:[]});var r=(o-s)/1e3;return a.series[t].points.push(new h.Charts.Point(r,i)),e})}}),Object.keys(this.series).forEach(function(n){var i=a.series[n],e=i.points;if(e.length<5)i.d&&i.d.removeSelf(),delete a.series[n];else{i.canvas||(i.canvas=document.createElement("canvas"),i.canvas.width=.8*f.SizeMgr.windowWidth,i.canvas.height=i.canvas.width/7,i.canvas.style.display="block",i.canvas.style.cursor="pointer",i.canvas.style.marginTop="0.5em",i.canvas.style.width="100%",i.canvas.withClick(function(){var e=i.points.map(function(e){return e.x+"\t"+e.y});e.unshift("t\t"+n);var t=e.join("\n");h.ShareManager.copyToClipboardAsync(t).done(function(){return f.HTML.showProgressNotification(f.lf("time serie copied to clipboard"))})}),i.d=f.div("logMsg",f.spanDirAuto(n),i.canvas),a.chartsEl.appendChild(i.d));var t=new h.Charts.CanvasChart;t.backgroundColor="#000",t.gridColor="#ccc",t.lineColor="#0c0",t.axesColor="#000",t.graphLineWidth=3,t.gridCols=11,t.gridRows=5,t.drawChart(i.canvas,e)}})},e}();h.AppLogView=d;var s,m=function(){function e(){this.temporarySettings={}}return e.prototype.temporary_setting=function(e){return this.temporarySettings[e]},e.prototype.set_temporary_setting=function(e,t){this.temporarySettings[e]=t},e.prototype.user_agent=function(){return navigator.userAgent},e.prototype.has_shell=function(){return!!f.Browser.localProxy},e.prototype.has_host=function(){return f.Browser.isHosted},e.prototype.runtime_kind=function(e){return e.rt.runtimeKind()},e.prototype.form_factor=function(){return f.Browser.isCellphone?"phone":f.Browser.isTablet?"tablet":"desktop"},e.prototype.operating_system=function(){if(f.Browser.isAndroid)return"android";if(f.Browser.isTrident&&f.Browser.isCellphone)return"wp";if(f.Browser.isMobileSafari)return"ios";if(f.Browser.isMacOSX)return"osx";for(var e=f.Browser.platformCaps,t=0;t<e.length;++t)switch(e[t]){case"win":return"windows";case"x11":return"linux"}return"unknown"},e.prototype.backend_url=function(e){return e.rt.compiled.azureSite},e.prototype.initial_url=function(){return f.Runtime.initialUrl},e}();h.AppEnv=m,function(p){function o(e,t,n,i){return{timestamp:f.Util.now(),level:e,category:t,msg:n,meta:i}}p.createInfoMessage=function(e){return o(p.INFO,"",e,void 0)},p.createLogMessage=o;var a,t=function(){function e(){this.logIdx=-1,this.logMsgs=[],this.logSz=f.Browser.isNodeJS?2e3:300}return e.prototype.addMsg=function(e,t,n,i){var r=o(e,t,n,i);0<=this.logIdx?(this.logMsgs[this.logIdx++]=r,this.logIdx>=this.logSz&&(this.logIdx=0)):(this.logMsgs.push(r),this.logMsgs.length>=this.logSz&&(this.logIdx=0))},e.prototype.getMsgs=function(){var e=this.logIdx,t=[],n=!1;e<0&&(e=0);for(var i=Date.now();e<this.logMsgs.length;){var r=this.logMsgs[e],o=("00000000"+(i-r.timestamp)).slice(-7).replace(/(\d\d\d)$/,function(e){return"."+e});if(t.push({level:r.level,category:r.category,msg:r.msg,elapsed:o,meta:r.meta,timestamp:r.timestamp}),++e!=this.logMsgs.length||n||(n=!0,e=0),n&&e>=this.logIdx)break}return t.reverse(),t},e}();function n(e){if(e){var t=p.transports.indexOf(e);-1<t&&p.transports.splice(t,1)}}function i(e,t,n){e.id&&(t=" ("+e.id+")"),f.Util.log(t+": transport failed. "+(n.stack||n.message||n))}function r(t,n,i,r){t=Math.max(0,Math.floor(t)),n=n||"",i=i||"",p.runTransports("logEvent",function(e){return e.log&&e.log(t,n,i,r)}),a&&(a.addMsg(t,n,i,r),f.Util.log((n||"log")+": "+i))}p.transports=[],p.clearLogs=function(){a=null,p.transports=[]},p.startLogger=function(){a=new t,p.transports=[]},p.rt_start=function(e){e.liveMode()?a=null:a||(a=new t),p.transports=[]},p.rt_stop=function(e){},p.create_logger=function(e){return new u(e)},p.addTransport=function(e){e&&(n(e),p.transports.push(e))},p.removeTransport=n,p.ERROR=3,p.WARNING=4,p.INFO=6,p.DEBUG=7,p.log=function(e){r(p.INFO,"",e,void 0)},p.transportFailed=i,p.runTransports=function(n,e){p.transports.forEach(function(t){try{e(t)}catch(e){i(t,n,e)}})},p.logException=function(t,n){if(t.tdSkipReporting)r(p.DEBUG,"skipped-crash",t.message||t+"",null);else if(t.tdIsSecondary)r(p.DEBUG,"secondary-crash",t.message||t+"",null);else{try{f.Runtime.theRuntime&&f.Runtime.theRuntime.augmentException(t)}catch(e){}t.tdMeta&&(n&&Object.keys(n).forEach(function(e){t.tdMeta[e]=n[e]}),n=t.tdMeta),p.runTransports("logException",function(e){return e.logException&&e.logException(t,n)});var e=t.stack;e||(e=t.message||t+"",t.tdMeta&&t.tdMeta.compressedStack&&(e+=" at "+t.tdMeta.compressedStack)),r(p.ERROR,"crash",e,n)}},p.logEvent=r,p.logTick=function(t,n,i){p.runTransports("logTick",function(e){return e.logTick&&e.logTick(t,n,i)}),i&&i.skipLog||p.logEvent(p.INFO,t,n,i)},p.logMeasure=function(t,n,i,r){var e=f.Util.jsonClone(r)||{};e.measureId=n,e.measureValue=i,p.runTransports("logMeasure",function(e){return e.logMeasure&&e.logMeasure(t,n,i,r)}),r&&r.skipLog||p.logEvent(p.INFO,t,n+": "+i,e)},p.logs=function(){return a?a.getMsgs():[]},p.current_handler=function(e){return e.currentHandler},p.stop=function(e){f.Browser.isCompiledApp?p.restart("",e):e.rt.stopAsync().done()},p.script_id=function(e){return e.rt.currentScriptId||void 0},p.restart=function(e,t){var n=t.rt;if(f.Cloud.isRestricted())n.stopAsync().then(function(){return n.rerunAsync()}).done();else{var i=h.Bazaar.cachedScore(n),r=n.currentScriptId;n.stopAsync().done(function(){var t=new f.ModalDialog;t.add(f.div("wall-dialog-huge wall-dialog-text-center",e||f.lf("try again!"))),0<i&&t.add(f.div("wall-dialog-large wall-dialog-text-center",f.lf("your best score: {0}",i))),t.add(f.div("wall-dialog-body wall-dialog-extra-space wall-dialog-text-center",f.HTML.mkButton(f.lf("play again"),function(){f.tick(311),t.dismiss(),n.rerunAsync().done()},"wall-dialog-button-huge"),f.Browser.notifyBackToHost?f.HTML.mkButton(f.lf("back"),function(){f.tick(312),t.dismiss(),f.Util.externalNotify("exit")}):null)),r&&0<i&&h.Bazaar.loadLeaderboardItemsAsync(r).done(function(e){e&&0<e.length&&(t.add(f.div("wall-dialog-body wall-dialog-extra-space ",e)),t.setScroll())},function(e){}),t.fullWhite(),t.show()})}},p.fail_if_not=function(e){e||f.Util.userError(f.lf("assertion violation"))},p.server_setting=function(e,t,n){t||f.Util.userError(f.lf("only supported on exported node.js apps"),n.pc)},p.javascript=function(e,t){},p.javascript_async=function(e,t,n){n.resume()},p.import_=function(e,t,n){},p.thumb=function(e){},p.server_request=function(e){return e.rt.getRestRequest()},p.server_response=function(e){var t=e.rt.getRestRequest();if(t)return t.response()},p.editor=function(e){return e.rt.editorObj};var e=new m;function s(e,t,n){var i=new d;return i.onMessages=n,i.charts(!0),i.append(p.logs()),i.setFilter(t),e&&i.append(e),i.attachLogEvents(),i.showAsync().then(function(){return i.removeLogEvents()},function(){return i.removeLogEvents()})}function c(s){return new f.Promise(function(n,e,t){if("td_access_token"==s)return f.Cloud.hasPermission("post-raw")||n(void 0),void f.Runtime.theRuntime.host.askSourceAccessAsync(f.lf("your private access token"),f.lf("your Touch Develop access token. The script will be able to upload web content as you."),!1,!0).done(function(e){n(e?f.Cloud.getServiceUrl()+"/?access_token="+f.Cloud.getAccessToken():void 0)});var i=window.mcefQuery;if(i)i({request:s,persistent:!1,onSuccess:function(e){n(e)},onFailure:function(e,t){p.logEvent(p.DEBUG,"app","mcefQuery failed",void 0),n(JSON.stringify({error:e,message:t}))}});else{var r=window.cordova;if(r&&r.exec)try{var o=JSON.parse(s);r.exec(function(e){n(JSON.stringify(e))},function(e){n(JSON.stringify({error:e}))},o.service,o.action,o.arguments)}catch(e){p.logEvent(p.DEBUG,"app","window.cordova.exec failed",void 0),n(void 0)}else{var a=window.touchDevelopExec;if(a)try{a(s,function(e){n(e)})}catch(e){p.logEvent(p.DEBUG,"app","touchDevelopExec failed",void 0),n(void 0)}else p.log("no host found"),n(void 0)}}})}function l(l,u,d){return new f.Promise(function(t,e,n){var i=new h.Event_,r=i.addHandler(d),o=window.mcefQuery;if(o){try{o({request:u,persistent:!0,onSuccess:function(e){l.queueLocalEvent(i,[e],!1,!1)},onFailure:function(e,t){p.logEvent(p.DEBUG,"app","mcefQuery failed: "+e,void 0)}})}catch(e){return void t(void 0)}t(r)}else{var a=window.cordova;if(a&&a.exec){try{var s=JSON.parse(u);a.exec(function(e){l.queueLocalEvent(i,[JSON.stringify(e)],!1,!1)},function(e){p.logEvent(p.DEBUG,"app","cordova.exec failed: "+e,void 0)},s.service,s.action,s.arguments)}catch(e){return p.logEvent(p.DEBUG,"app","cordova.exec failed: "+e,void 0),void t(void 0)}t(r)}else{var c=window.touchDevelopExec;if(c){try{c(u,function(e){l.queueLocalEvent(i,[JSON.stringify(e)],!1,!1)})}catch(e){return p.logEvent(p.DEBUG,"app","touchDevelopExec failed",void 0),void t(void 0)}t(r)}else p.log("no host found"),t(void 0)}}})}p.env=function(){return e},p.reflect=function(e,t){var n=t.rt.compiled.reflectionInfo;if(n.hasOwnProperty(e))return h.JsonObject.wrap(n[e])},p.run_command=function(t,n,i){var r=i.rt.host.localProxyAsync;r?i.rt.host.askSourceAccessAsync(f.lf("execute shell commands or manipulate files."),f.lf("the shell and/or the file system. This script may be harmful for your computer. Do not allow this if you do not trust the source of this script."),!1,!0).then(function(e){return e?r(t,n?n.value():void 0):f.Promise.as(h.JsonObject.wrap({error:"denied",reason:f.lf("The user denied access to shell execution.")}))}).done(function(e){return i.resumeVal(h.JsonObject.wrap(e))},function(e){return i.resumeVal(h.JsonObject.wrap({error:"proxyerror",message:e.message,stack:e.stack}))}):i.resumeVal(h.JsonObject.wrap({error:"notsupported",reason:f.lf("This command requires a local proxy.")}))},p.show_logs=function(e,t){t.resume(),s(void 0,e).done(function(){},function(e){})},p.showAppLogAsync=s,p.showLog=function(e,t){var n=new d;n.onMessages=t,n.append(e),n.showAsync().done(function(){},function(e){})},p.consume_rendered_comments=function(e){var t=e.rt.renderedComments;return e.rt.renderedComments="",t},p.hostExecAsync=c,p.hostSubscribeAsync=l,p.host_exec=function(e,t){return c(e).done(function(e){return t.resumeVal(e)})},p.host_subscribe=function(e,t,n){return l(n.rt,e,t).done(function(e){return n.resumeVal(e)})},p.allow_other_events=function(e){e.rt.eventExecuting=!1}}(s=h.App||(h.App={}))}(f.RT||(f.RT={}))}(TDev||(TDev={})),function(o){!function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(e.RTValue),n=function(t){function e(e){t.call(this),this.run=e}return __extends(e,t),e}(e.ActionBase=t);e.PseudoAction=n;var i=function(e){function t(){e.call(this),this.isPageEvent=!1,this.handlers=void 0,this.pendinghandlers=0,this.isBlocking=!0}return __extends(t,e),t.prototype.addHandler=function(e){var t=new r(this,e);return this.handlers||(this.handlers=[]),this.handlers.push(t),t},t.prototype.removeHandler=function(e){if(this.handlers){var t=this.handlers.indexOf(e);-1<t&&(this.handlers.splice(t,1),0==this.handlers.length&&(this.handlers=void 0))}},t.prototype.clearHandlers=function(){this.handlers=void 0},t.prototype.runAwaiters=function(t){if(this.awaiters){var e=this.awaiters;this.awaiters=null,o.Util.setTimeout(0,function(){return e.forEach(function(e){return e(t)})})}},t.prototype.addAwaiter=function(e){this.awaiters||(this.awaiters=[]),this.awaiters.push(e)},t}(e.RTValue);e.Event_=i;var r=function(n){function e(e,t){n.call(this),this._event=e,this._handler=t,this.inQueue=!1,this.data=void 0}return __extends(e,n),e.prototype.delete_=function(){this._event&&this._handler&&(this._event.removeHandler(this),this._handler=void 0)},e}(e.RTValue);e.EventBinding=r}(o.RT||(o.RT={}))}(TDev||(TDev={})),function(s){var c;(function(e){function n(e){return e.requiresAuth()?s.Cloud.authenticateAsync(s.lf("user identification")).then(function(){return s.Cloud.getUserId()}):s.Promise.as(e.getUserId())}function a(e,t){var n=e.datas.this.leaderboard_score||0;return t&&n<t&&(n=e.datas.this.leaderboard_score=t),n}function o(e){return e&&s.Cloud.isOnline()?s.Cloud.getPublicApiAsync(e+"/leaderboardscores?count=250").then(function(e){return e.items.map(function(e){var t=e.userid,n=e.username,i=e.score.toString(),r=s.Util.timeSince(e.time),o=s.div("leaderboard-img");return e.userhaspicture?o.style.backgroundImage=s.HTML.cssImage(s.Cloud.getPublicApiUrl(t+"/picture?type=normal")):o.innerHTML=s.Util.svgGravatar(t),s.div("item leaderboard-item",[o,s.div("leaderboards-score",i),s.div("leaderboard-center",[s.div("item-title",n),s.div("item-subtle",r)])])})},function(e){return[]}):s.Promise.as([])}function t(t){var n=t.rt;if(n.currentScriptId)if(s.Cloud.isOnline())t.progress(s.lf("Loading leaderboards...")),i=s.div(""),o(n.currentScriptId).done(function(e){i.setChildren(e),n.postBoxedHtml(i,t.rt.current.pc),t.resume()},function(e){n.postBoxedText(s.lf("Oops, could not get the leaderboards. Please check your internet connection."),t.rt.current.pc),t.resume()});else{r=a(n).toString(),(e=s.div("leaderboard-img")).innerHTML=s.Util.svgGravatar("me");var i=s.div("item leaderboard-item",[e,s.div("leaderboards-score",r),s.div("leaderboard-center",[s.div("item-title",s.lf("Me")),s.div("item-subtle",s.lf("Please connect to internet to load the leaderboards."))])]);t.rt.postBoxedHtml(i,t.rt.current.pc),t.resume()}else{var e,r=a(n).toString();(e=s.div("leaderboard-img")).innerHTML=s.Util.svgGravatar("me");var i=s.div("item leaderboard-item",[e,s.div("leaderboards-score",r),s.div("leaderboard-center",[s.div("item-title",s.lf("Me")),s.div("item-subtle",s.lf("Publish your script to get a leaderboard available for all your users."))])]);t.rt.postBoxedHtml(i,t.rt.current.pc),t.resume()}}e.user_of=function(t,n){c.User.getJsonAsync(t).done(function(e){return n.resumeVal(e&&"user"==e.kind?c.User.mk(t):void 0)},function(e){return n.resumeVal(void 0)})},e.userIdAsync=n,e.current_user=function(t){n(t.rt).done(function(e){return t.resumeVal(e?c.User.mk(e):void 0)})},e.cachedScore=a,e.leaderboard_score=function(i){var r=i.rt,o=a(r),n=function(){return i.resumeVal(o)};r.currentScriptId&&s.Cloud.isOnline()?s.Cloud.authenticateAsync(s.lf("leaderboard")).done(function(e){if(e){var t=s.Cloud.getPrivateApiUrl("me/leaderboardscored/"+r.currentScriptId);c.WebRequest.mk(t,void 0).sendAsync().done(function(e){var t=0,n=e.content_as_json();n&&(t=n.number("score")),i.resumeVal(a(r,Math.max(o,t||0)))})}else n()}):n()},e.postScoreToOfficeMix=function(e,t){if(s.Browser.webRunner||s.Browser.webAppImplicit){var n=c.JsonObject.wrap({kind:"leaderboardScore__Send",data:{score:e,scriptId:t}});c.Web.post_message_to_parent(s.Cloud.config.rootUrl,n,null),c.Web.post_message_to_parent("http://localhost:15669",n,null)}},e.post_leaderboard_score=function(i,r){var o=r.rt;a(o,i),o.currentScriptId&&s.Cloud.isOnline()?(e.postScoreToOfficeMix(i,o.currentScriptId),s.Cloud.authenticateAsync(s.lf("leaderboard")).done(function(e){if(e){var t=s.Cloud.getPrivateApiUrl(o.currentScriptId+"/leaderboardscores"),n=c.WebRequest.mk(t,void 0);n.set_method("post"),n.set_content_as_json(c.JsonObject.mk(JSON.stringify({kind:"leaderboardscore",score:i||0,userplatform:s.Browser.platformCaps}),s.Util.log)),n.sendAsync().done(function(e){var t=e.content_as_json();t&&a(o,t.number("score")),r.resume()})}},function(e){r.resume()})):r.resume()},e.loadLeaderboardItemsAsync=o,e.post_leaderboard_to_wall=t,e.merge3=function(e,t,n){var i=s.AST.Parser.parseScript(e),r=s.AST.Parser.parseScript(t),o=s.AST.Parser.parseScript(n);return s.AST.TypeChecker.tcApp(i),s.AST.TypeChecker.tcApp(r),s.AST.TypeChecker.tcApp(o),s.TheEditor.initIds(i),s.TheEditor.initIds(r),s.TheEditor.initIds(o),s.AST.Merge.merge3(i,r,o).serialize()},e.open=function(){},e.open_review=function(){},e.open_leaderboard=function(e){t(e)},e.script_id=function(e,t){return"top"==e?t.libs.topScriptId:"current"==e?t.libs.scriptId:void 0},e.pick_script=function(e,t,n){n.rt.host.pickScriptAsync(e,t).done(function(e){n.resumeVal(e)})},e.save_ast=function(e,t,n){n.rt.host.saveAstAsync(e,t.value()).done(function(e){n.resume()})},e.ast_of=function(e,t){t.rt.host.astOfAsync(e).done(function(e){e?t.resumeVal(c.JsonObject.wrap(e)):t.resumeVal(void 0)})},e.storeidAsync=function(){var e=window.touchDevelopHost;if(e){s.Util.log("using touchdevelop host");var t=e.storeid()||"";return s.Util.log("storeid: "+t),s.Promise.as(t)}return s.Promise.as("")}})((c=s.RT||(s.RT={})).Bazaar||(c.Bazaar={}))}(TDev||(TDev={})),function(u){!function(g){var e=function(t){function a(){t.call(this),this.scaleFactor=1,this.sprites=[],this.backgroundColor=null,this.backgroundPicture=null,this.backgroundCamera=null,this._boundaryDistance=NaN,this._everyFrameTimer=void 0,this._gravity=new g.Vector2(0,0),this._worldFriction=0,this._debugMode=!1,this._lastUpdateMS=0,this._lastTimeDelta=0,this._startTime=0,this._touched=!1,this._touchStart=g.Vector3.mk(0,0,0),this._touchCurrent=g.Vector3.mk(0,0,0),this._touchEnd=g.Vector3.mk(0,0,0),this._touchVelocity=g.Vector3.mk(0,0,0),this._minSegments=[],this._walls=[],this._obstacles=[],this._springs=[],this._backgroundScene=void 0,this.swipeThreshold=10,this.dragThreshold=5,this.onTap=new g.Event_,this.onTouchDown=new g.Event_,this.onTouchUp=new g.Event_,this.onSwipe=new g.Event_,this._touchPrevious=g.Vector3.mk(0,0,0),this._touchDirection=g.Vector3.mk(0,0,0),this.tick=0,this._everyFrameOnSprite=!1}return __extends(a,t),a.mk=function(e,t,n,i,r){var o=new a;return o._landscape=t,o._width=n,o._height=i,o._full=r,o._startTime=e.currentTime(),o.backgroundColor=g.Colors.transparent(),o.init(e),o},a.prototype.init=function(e){var i=this;this._runtime=e,this.canvas=document.createElement("canvas"),this.canvas.className="boardCanvas",this.updateScaleFactor(),this.container=u.div("boardContainer",this.canvas),this.ctx=this.canvas.getContext("2d"),this.container.setChildren([this.canvas]),this.container.updateSizes=function(){i.updateScaleFactor(),i.redrawBoardAndContents()};new u.TouchHandler(this.canvas,function(e,t,n){i.touchHandler(e,t,n)})},a.prototype.updateScaleFactor=function(){if(u.Util.assert(!!this._runtime),this._runtime){var e,t;if(this._full)e=this._runtime.host.fullWallWidth()/this._width,t=this._runtime.host.fullWallHeight()/this._height;else{var n=this._runtime.host.wallWidth;this.container&&this.container.offsetWidth&&(n=this.container.offsetWidth),e=n/this._width,t=this._runtime.host.wallHeight/this._height}t<e&&(e=t);var i=this._width*e,r=this._height*e;if(this.scaleFactor=e,this.canvas.width=i*u.SizeMgr.devicePixelRatio,this.canvas.height=r*u.SizeMgr.devicePixelRatio,this.canvas.style.width=i+"px",this.canvas.style.height=r+"px",this._full){var o=(this._runtime.host.fullWallHeight()-r)/2;this.canvas.style.marginTop=o+"px"}}},a.prototype.touchHandler=function(e,t,n){if(u.Util.assert(!!this._runtime),this._runtime)switch(t=Math.round(t/this.scaleFactor),n=Math.round(n/this.scaleFactor),e){case"down":this._touched=!0,this._touchPrevious=this._touchCurrent=this._touchLast=this._touchStart=g.Vector3.mk(t,n,0),this._touchedSpriteStack=this.findTouchedSprites(t,n),this._prevTouchTime=this._runtime.currentTime(),this._touchDeltaTime=0,this._touchDirection=g.Vector3.mk(0,0,0),this.queueTouchDown(this._touchedSpriteStack,[t,n]),this._runtime.queueBoardEvent(["touch down: "],[this],[t,n]),this._touchedSpriteStack&&this._runtime.queueBoardEvent(["touch over "],this._touchedSpriteStack,[t,n],!0,!0);break;case"move":this._touchCurrent=g.Vector3.mk(t,n,0);var i=this._runtime.currentTime(),r=this._touchCurrent.subtract(this._touchPrevious),o=i-this._prevTouchTime;if((50<o||20<r.length())&&(this._touchDirection=r,this._touchDeltaTime=o),this._touchedSpriteStack)(c=this._touchCurrent.subtract(this._touchLast)).length()>this.dragThreshold&&(this._touchLast=this._touchCurrent,this.queueDrag(this._touchedSpriteStack,[t,n,c._x,c._y]),this._runtime.queueBoardEvent(["drag sprite in ","drag sprite: "],this._touchedSpriteStack,[t,n,c._x,c._y]));var a=this.findTouchedSprites(t,n);a&&this._runtime.queueBoardEvent(["touch over "],a,[t,n],!0,!0);break;case"up":var s=g.Vector3.mk(t,n,0);this._touchEnd=this._touchCurrent=s,this._touched=!1,0<this._touchDeltaTime?this._touchVelocity=this._touchDirection.scale(1e3/this._touchDeltaTime):this._touchVelocity=g.Vector3.mk(0,0,0);var c=this._touchEnd.subtract(this._touchStart),l=this._touchedSpriteStack;l||(l=[]),l.push(this),c.length()>this.swipeThreshold?(this.queueSwipe(this._touchedSpriteStack,[this._touchStart._x,this._touchStart._y,c._x,c._y]),this._runtime.queueBoardEvent(["swipe sprite in ","swipe sprite: ","swipe board: "],l,[this._touchStart._x,this._touchStart._y,c._x,c._y])):(this.queueTap(this._touchedSpriteStack,[t,n]),this._runtime.queueBoardEvent(["tap sprite in ","tap sprite: ","tap board: "],l,[t,n])),this.queueTouchUp(this._touchedSpriteStack,[t,n]),this._runtime.queueBoardEvent(["touch up: "],[this],[t,n])}},a.prototype.queueDrag=function(e,t){if(!e)return!1;for(var n=0;n<e.length;n++){var i=e[n];if(!(i instanceof a)&&i.onDrag.handlers)return this._runtime.queueLocalEvent(i.onDrag,t),!0}return!1},a.prototype.queueTouchDown=function(e,t){if(e&&0<e.length)for(var n=0;n<e.length;n++){var i=e[n];if(!(i instanceof a)&&i.onTouchDown.handlers)return this._runtime.queueLocalEvent(i.onTouchDown,t),!0}else if(this.onTouchDown.handlers)return this._runtime.queueLocalEvent(this.onTouchDown,t),!0;return!1},a.prototype.queueTouchUp=function(e,t){if(e&&0<e.length)for(var n=0;n<e.length;n++){var i=e[n];if(!(i instanceof a)&&i.onTouchUp.handlers)return this._runtime.queueLocalEvent(i.onTouchUp,t),!0}else if(this.onTouchUp.handlers)return this._runtime.queueLocalEvent(this.onTouchUp,t),!0;return!1},a.prototype.queueTap=function(e,t){if(e&&0<e.length)for(var n=0;n<e.length;n++){var i=e[n];if(!(i instanceof a)&&i.onTap.handlers)return this._runtime.queueLocalEvent(i.onTap,t),!0}return!!this.onTap.handlers&&(this._runtime.queueLocalEvent(this.onTap,t),!0)},a.prototype.queueSwipe=function(e,t){if(e&&0<e.length)for(var n=0;n<e.length;n++){var i=e[n];if(!(i instanceof a)&&i.onSwipe.handlers)return this._runtime.queueLocalEvent(i.onSwipe,t),!0}else if(this.onSwipe.handlers)return this._runtime.queueLocalEvent(this.onSwipe,t),!0;return!1},a.prototype.findTouchedSprites=function(t,n){var e=this.orderedSprites().filter(function(e){return!e._hidden&&e.contains(t,n)}).reverse();if(0!=e.length)return e},a.prototype.applyBackground=function(){this.ctx.save(),this.ctx.clearRect(0,0,this._width,this._height),this.backgroundCamera||(this.backgroundPicture&&this.backgroundPicture.hasCanvas()?this.ctx.drawImage(this.backgroundPicture.getCanvas(),0,0,this.backgroundPicture.widthSync(),this.backgroundPicture.heightSync(),0,0,this._width,this._height):this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor.toHtml(),this.ctx.fillRect(0,0,this._width,this._height))),this._backgroundScene&&this._backgroundScene.render(this._width,this._height,this.ctx),this.ctx.restore()},a.prototype.height=function(){return this._height},a.prototype.count=function(){return this.sprites.length},a.prototype.get_enumerator=function(){return this.sprites.slice(0)},a.prototype.width=function(){return this._width},a.prototype.touched=function(){return this._touched},a.prototype.touch_start=function(){return this._touchStart},a.prototype.touch_current=function(){return this._touchCurrent},a.prototype.touch_end=function(){return this._touchEnd},a.prototype.touch_velocity=function(){return this._touchVelocity},a.prototype.create_boundary=function(e){isNaN(this._boundaryDistance)&&(this._boundaryDistance=e,this.initializeCanvasBoundaries(e))},a.prototype.initializeCanvasBoundaries=function(e){isNaN(e)||(this._walls.push(n.mk(-e,-e,this.width()+2*e,0,1,0)),this._walls.push(n.mk(this.width()+e,-e,0,this.height()+2*e,1,0)),this._walls.push(n.mk(this.width()+e,this.height()+e,-(this.width()+2*e),0,1,0)),this._walls.push(n.mk(-e,this.height()+e,0,-(this.height()+2*e),1,0)))},a.prototype.addObstacle=function(e){this._walls.push(n.mk(e.x,e.y,e.xextent,e.yextent,e.elasticity,e.friction,e)),this._walls.push(n.mk(e.x+e.xextent,e.y+e.yextent,-e.xextent,-e.yextent,e.elasticity,e.friction,e)),this._obstacles.push(e)},a.prototype.create_sprite_set=function(){return new g.SpriteSet},a.prototype.deleteSprite=function(e){var t=this.sprites.indexOf(e);t<0||(this.sprites.splice(t,1),this.spritesChanged())},a.prototype.spritesChanged=function(){this._orderedSprites=void 0},a.prototype.frame_timer=function(e){return this._everyFrameTimer||(this._everyFrameTimer=new g.Timer(e.rt,.02,!1)),this._everyFrameTimer},a.prototype.add_on_every_frame=function(e,t){return this.on_every_frame(e,t)},a.prototype.on_every_frame=function(e,t){return this.frame_timer(t).on_trigger(e)},a.prototype.clear_every_frame_timers=function(){this._everyFrameTimer&&(this._everyFrameTimer.clear(),this._everyFrameTimer=void 0,this._everyFrameOnSprite=!1)},a.prototype.on_tap=function(e){return this.onTap.addHandler(e)},a.prototype.on_swipe=function(e){return this.onSwipe.addHandler(e)},a.prototype.on_touch_down=function(e){return this.onTouchDown.addHandler(e)},a.prototype.on_touch_up=function(e){return this.onTouchUp.addHandler(e)},a.prototype.evolve=function(){var t=this;if(u.Util.assert(!!this._runtime),this._runtime){this.tick++,isNaN(this.tick)&&(this.tick=0);var e=this._runtime.currentTime(),n=this._lastTimeDelta=e-this._startTime-this._lastUpdateMS;this._lastUpdateMS+=n;var i=g.Math_.clamp(0,.2,n/1e3);this.sprites.forEach(function(e){return e.update(i)}),this.detectCollisions(i),this.sprites.forEach(function(e){return e.commitUpdate(t._runtime,i)})}},a.prototype.detectCollisions=function(e){for(var t=0;t<this.sprites.length;t++){var n=this.sprites[t];n._location||this.detectWallCollision(n,e)}},a.prototype.detectWallCollision=function(e,t){e.normalTouchPoints.clear();for(var n=0;n<this._walls.length;n++){(i=this._walls[n]).processPotentialCollision(e,t)&&i._obstacle&&i._obstacle.raiseCollision(this._runtime,e)}for(n=0;n<this._walls.length;n++){var i;(i=this._walls[n]).processPotentialCollision(e,t)&&i._obstacle&&i._obstacle.raiseCollision(this._runtime,e)}},a.prototype.updateViewCore=function(e,t){t instanceof u.WallBox&&(t.fullScreen=this._full),this.redrawBoardAndContents()},a.prototype.getViewCore=function(e,t){return this._touched=!1,this.container},a.prototype.equals=function(e){return this==e},a.prototype.background_scene=function(){return this._backgroundScene||(this._backgroundScene=new g.BoardBackgroundScene(this)),this._backgroundScene},a.prototype.set_background=function(e){this.backgroundCamera=null,this.backgroundColor=e,this.backgroundPicture=null},a.prototype.set_background_camera=function(e){this.backgroundCamera=e,this.backgroundColor=null,this.backgroundPicture=null},a.prototype.set_background_picture=function(e,t){this.backgroundCamera=null,this.backgroundColor=null,(this.backgroundPicture=e).loadFirst(t,null)},a.prototype.set_debug_mode=function(e){this._debugMode=e},a.prototype.set_friction=function(e){this._worldFriction=e},a.prototype.is_landscape=function(){return this._landscape},a.prototype.set_gravity=function(e,t){this._gravity=new g.Vector2(e,t)},a.prototype.gravity=function(){return this._gravity},a.prototype.at=function(e){return this.sprites[e]},a.prototype.initialX=function(){return this.width()/2},a.prototype.initialY=function(){return this.height()/2},a.prototype.enableEveryFrameOnSprite=function(e){var r=this;if(!this._everyFrameOnSprite){this._everyFrameOnSprite=!0;this.on_every_frame(function(e,t){var n=r._runtime.eventQ,i=[];return r.sprites.forEach(function(e){0==e.onEveryFrame.pendinghandlers&&n.addLocalEvent(e.onEveryFrame,i)}),e.entryAddr=t,e},e)}},a.prototype.update_on_wall=function(){this.redrawBoardAndContents()},a.prototype.orderedSprites=function(){return this._orderedSprites||(this._orderedSprites=this.sprites.slice(0),this._orderedSprites.stableSort(function(e,t){return e.z_index()-t.z_index()})),this._orderedSprites},a.prototype.redrawBoardAndContents=function(){var t=this,n=this._debugMode&&this._runtime&&!this._runtime.currentScriptId;this.ctx.save();var e=this.scaleFactor*u.SizeMgr.devicePixelRatio;this.ctx.scale(e,e),this.applyBackground(),this.orderedSprites().forEach(function(e){return e.redraw(t.ctx,n)}),this.renderObstacles(),n&&(this.debugGrid(),this.debugSprings(),this.debugSegments()),this.ctx.restore()},a.prototype.renderingContext=function(){return this.ctx},a.prototype.debugGrid=function(){this.ctx.save(),this.ctx.beginPath();var e=this.width(),t=this.height();this.ctx.strokeStyle="rgba(90, 90, 90, 0.7)",this.ctx.fillStyle="rgba(90, 90, 90, 0.7)",this.ctx.lineWidth=1,this.ctx.font="12px sans-serif";for(var n=0;n<=t;n+=100)this.ctx.moveTo(0,n),this.ctx.lineTo(e,n),0<n&&n%100==0&&this.ctx.fillText(n.toString(),2,n-5),this.ctx.stroke();for(var i=0;i<=e;i+=100)this.ctx.moveTo(i,0),this.ctx.lineTo(i,t),0<i&&i%100==0&&this.ctx.fillText(i.toString(),i-15,10),this.ctx.stroke();this.ctx.restore()},a.prototype.debugSegments=function(){this.ctx.save(),this.ctx.beginPath();for(var e=0;e<this._minSegments.length;++e){var t=this._minSegments[e];t.overlap?(this.ctx.fillStyle="green",this.ctx.strokeStyle="green"):(this.ctx.fillStyle="red",this.ctx.strokeStyle="red"),this.ctx.font="20px sans-serif",this.ctx.lineWidth=4,this.ctx.moveTo(t.x(),t.y()),this.ctx.lineTo(t.x()+t.z(),t.y()+t.w()),this.ctx.fillText(t.from+"",t.x()+t.z(),t.y()+t.w())}this.ctx.stroke(),this.ctx.restore(),0<this._minSegments.length&&(this._minSegments=[])},a.prototype.debugSprings=function(){this.ctx.save(),this.ctx.strokeStyle="gray",this.ctx.beginPath();for(var e=0;e<this._springs.length;e++){var t=this._springs[e];this.ctx.moveTo(t.sprite1.x(),t.sprite1.y()),this.ctx.lineTo(t.sprite2.x(),t.sprite2.y())}this.ctx.stroke(),this.ctx.restore()},a.prototype.renderObstacles=function(){this.ctx.save();for(var e=0;e<this._obstacles.length;e++){var t=this._obstacles[e];t.isValid()&&(this.ctx.beginPath(),this.ctx.lineWidth=t._thickness,this.ctx.strokeStyle=t._color.toHtml(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(t.x+t.xextent,t.y+t.yextent),this.ctx.stroke())}this.ctx.restore()},a.prototype.mkSprite=function(e,t,n){var i=g.Sprite.mk(e,this.initialX(),this.initialY(),t,n);return this.addSprite(i),i},a.prototype.addSprite=function(e){e._parent=this,e.set_z_index(0),this.sprites.push(e),e.changed(),this.spritesChanged()},a.prototype.create_ellipse=function(e,t){return this.mkSprite(0,e,t)},a.prototype.create_rectangle=function(e,t){return this.mkSprite(1,e,t)},a.prototype.create_text=function(e,t,n,i){var r=this.mkSprite(2,e,t);return r.fontSize=n,r.set_text(i),r},a.prototype.create_picture=function(e,t){var n=this.mkSprite(3,1,1);e.loadFirst(t,function(){return n.setPictureInternal(e),n})},a.prototype.create_sprite_sheet=function(e,t){var n=this;e.loadFirst(t,function(){return u.Util.log("board: new sprite sheet - "+e.widthSync()+"x"+e.heightSync()),new g.SpriteSheet(n,e)})},a.prototype.create_anchor=function(e,t){var n=this.mkSprite(4,e,t);return n.set_friction(1),n.hide(),n},a.prototype.create_obstacle=function(e,t,n,i,r){if(0!=n||0!=i){var o=new s(this,e,t,n,i,r,1-r);return this.addObstacle(o),o}},a.prototype.deleteObstacle=function(t){var e=this._obstacles.indexOf(t);-1<e&&(this._obstacles.splice(e,1),this._walls=this._walls.filter(function(e){return e._obstacle!=t}))},a.prototype.create_spring=function(e,t,n){var i=new g.Spring(this,e,t,n);return this._springs.push(i),e.addSpring(i),t.addSpring(i),i},a.prototype.deleteSpring=function(e){e.sprite1.removeSpring(e),e.sprite2.removeSpring(e);var t=this._springs.indexOf(e);-1<t&&this._springs.splice(t,1)},a.prototype.clear_events=function(){},a.prototype.overlapWithAny=function(e,t){for(var n=new g.SpriteSet,i=0;i<t.count();i++){var r=t.at(i);e!==r&&(e.overlaps_with(r)&&n.add(r))}return n},a.prototype.clear_background_camera=function(){this.backgroundCamera=null},a.prototype.clear_background_picture=function(){this.backgroundPicture=null},a.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e),this._full&&(this._landscape?u.Runtime.lockOrientation(!1,!0,!1):u.Runtime.lockOrientation(!0,!1,!1))},a}(g.RTValue);g.Board=e;var s=function(s){function e(e,t,n,i,r,o,a){s.call(this),this.board=e,this.x=t,this.y=n,this.xextent=i,this.yextent=r,this.elasticity=o,this.friction=a,this._color=g.Colors.gray(),this._thickness=3}return __extends(e,s),e.prototype.on_collision=function(e){return this._onCollision||(this._onCollision=new g.Event_),this._onCollision.addHandler(e)},e.prototype.raiseCollision=function(e,t){this._onCollision&&this._onCollision.handlers&&e.queueLocalEvent(this._onCollision,[t],!1)},e.prototype.set_color=function(e){this._color=e},e.prototype.set_thickness=function(e){this._thickness=Math.max(1,e)},e.prototype.delete_=function(){this.board.deleteObstacle(this)},e.prototype.isValid=function(){return!!this.IsFinite(this.x)&&(!!this.IsFinite(this.y)&&(!!this.IsFinite(this.xextent)&&!!this.IsFinite(this.yextent)))},e.prototype.IsFinite=function(e){return!isNaN(e)&&!!isFinite(e)},e}(g.RTValue);g.Obstacle=s;var n=function(){function l(){}return l.mk=function(e,t,n,i,r,o,a){void 0===a&&(a=void 0);var s=new l;s._position=new g.Vector2(e,t);var c=new g.Vector2(n,i);return s._length=c.length(),s._unitExtent=c.normalize(),s._elasticity=r,s._friction=o,s._obstacle=a,s},l.prototype.processPotentialCollision=function(e,t){var n=this._unitExtent.rotate90Left(),i=-g.Vector2.dot(n,e.stepDisplacement());if(i<=0)return!1;var r=e._position.subtract(this._position),o=g.Vector2.dot(r,n),a=e.radius(n);if(o<a/2){if(o<=-a/2)return!1;var s=e.radius(this._unitExtent),c=g.Vector2.dot(e._position.subtract(this._position),this._unitExtent);if(c<-s/2||c>this._length+s/2)return!1;if(o<0)return!1;e.newPosition=e._position.add(n.scale(a-o)),i=Math.abs(g.Vector2.dot(n,e.midSpeed));var l=n.scale(i),u=this._unitExtent.scale(g.Vector2.dot(this._unitExtent,e.midSpeed));return e.midSpeed=e.newSpeed=l.scale(e._elasticity*this._elasticity).add(u.scale(1-this._friction)),e.normalTouchPoints.push(n),!0}var d=(o-a)/i;if(1<d)return!1;var p=e._position.add(e.stepDisplacement().scale(d<0?1.01*d:.99*d)),h=e.radius(this._unitExtent),m=g.Vector2.dot(p.subtract(this._position),this._unitExtent);if(m<-h/2||m>this._length+h/2)return!1;i=Math.abs(g.Vector2.dot(n,e.midSpeed));l=n.scale(i);var f=this._unitExtent.scale(g.Vector2.dot(this._unitExtent,e.stepDisplacement()));e.newPosition=p.add(f.scale(1-d));u=this._unitExtent.scale(g.Vector2.dot(this._unitExtent,e.newSpeed));return e.midSpeed=e.newSpeed=l.scale(e._elasticity*this._elasticity).add(u.scale(1-this._friction)),e.normalTouchPoints.push(n),!0},l}();g.WallSegment=n}(u.RT||(u.RT={}))}(TDev||(TDev={})),function(i){var t;(function(e){function n(e){return e?"true":"false"}e.equals=function(e,t){return e===t},e.not=function(e){return!e},e.and=function(e,t){return e&&t},e.or=function(e,t){return e||t},e.to_string=n,e.to_number=function(e){return e?1:0},e.post_to_wall=function(e,t){t.rt.postBoxedText(n(e),t.pc)},e.from_string=function(e){return"true"===e},e.picker=function(){var t=i.HTML.mkCheckBox(i.lf("true?"));return{html:t,validate:function(){return!0},get:function(){return i.HTML.getCheckboxValue(t)},set:function(e){return i.HTML.setCheckboxValue(t,e)}}},e.to_json=function(e){return t.JsonObject.wrap(e)}})((t=i.RT||(i.RT={})).Boolean_||(t.Boolean_={}))}(TDev||(TDev={})),function(o){var e,c,t;c=o.RT||(o.RT={}),e=c.Box||(c.Box={}),o.HTML,e.push_box=function(e){o.LayoutMgr.RenderExecutionMode()||o.Util.userError(o.lf("boxes can only be created in page display code"));var t=o.LayoutMgr.getCurrentRenderBox();o.Util.assert(null!=t),o.LayoutMgr.createOrRecycleContainerBoxDelayed(e.rt,t)},e.pop_box=function(e){o.Util.assert(o.LayoutMgr.RenderExecutionMode());var t=o.LayoutMgr.getCurrentRenderBox(),n=t.parent;o.Util.assert(null!=n),o.LayoutMgr.setCurrentRenderBox(t.parent)},e.set_foreground=function(e,t){t.rt.getCurrentBox().setForeground(e.toHtml(),t.rt.getTopScriptPc())},e.set_background=function(e,t){t.rt.getCurrentBox().setBackground(e.toHtml(),t.rt.getTopScriptPc())},e.add_background_picture=function(e,t,n,i,r,o){var a=e.getReadonlyUrlSync();function s(e){var t=e.toLowerCase().trim();return/^[a-z %0-9\-]*$/.test(t)?t:(c.App.log("invalid box background value: "+t),"")}a&&o.rt.getCurrentBox().addBackgroundImage({url:a,position:s(t),size:s(n),repeat:s(i),attachment:s(r)},o.rt.getTopScriptPc())},e.use_vertical_layout=function(e){e.rt.getCurrentBox().setFlow(o.WallBox.FLOW_VERTICAL,e.rt.getTopScriptPc())},e.use_horizontal_layout=function(e){e.rt.getCurrentBox().setFlow(o.WallBox.FLOW_HORIZONTAL,e.rt.getTopScriptPc())},e.use_overlay_layout=function(e){e.rt.getCurrentBox().setFlow(o.WallBox.FLOW_OVERLAY,e.rt.getTopScriptPc())},e.set_width=function(e,t){t.rt.getCurrentBox().setEmWidth(e,t.rt.getTopScriptPc())},e.set_height=function(e,t){t.rt.getCurrentBox().setEmHeight(e,t.rt.getTopScriptPc())},e.set_width_range=function(e,t,n){n.rt.getCurrentBox().setEmWidthRange(e,t,n.rt.getTopScriptPc())},e.set_height_range=function(e,t,n){n.rt.getCurrentBox().setEmHeightRange(e,t,n.rt.getTopScriptPc())},e.set_horizontal_stretch=function(e,t){var n=e,i=t.rt.getCurrentBox();(n<0||1<n)&&(o.Util.userError(o.lf("invalid argument: elasticity must be a number between 0 and 1")),n=0),i.setHorizontalStretch(n,t.rt.getTopScriptPc())},e.set_vertical_stretch=function(e,t){var n=e,i=t.rt.getCurrentBox();(n<0||1<n)&&(o.Util.userError(o.lf("invalid argument: elasticity must be a number between 0 and 1")),n=0),i.setVerticalStretch(n,t.rt.getTopScriptPc())},e.set_border=function(e,t,n){n.rt.getCurrentBox().setEmBorder(e.toHtml(),t,n.rt.getTopScriptPc())},e.set_border_widths=function(e,t,n,i,r){r.rt.getCurrentBox().setEmBorderWidth(e,t,n,i,r.rt.getTopScriptPc())},e.set_margins=function(e,t,n,i,r){r.rt.getCurrentBox().setAllEmMargins(e,t,n,i,r.rt.getTopScriptPc())},e.set_padding=function(e,t,n,i,r){r.rt.getCurrentBox().setEmPadding(e,t,n,i,r.rt.getTopScriptPc())},e.set_horizontal_alignment=function(e,t,n){n.rt.getCurrentBox().setHorizontalAlignment(e,t,n.rt.getTopScriptPc())},e.set_vertical_alignment=function(e,t,n){n.rt.getCurrentBox().setVerticalAlignment(e,t,n.rt.getTopScriptPc())},e.set_horizontal_align=function(e,t){var n=t.rt.getCurrentBox(),i=o.WallBox.ARRANGE_LEFT,r=e;"left"===r?i=o.WallBox.ARRANGE_LEFT:"right"===r?i=o.WallBox.ARRANGE_RIGHT:"center"===r?i=o.WallBox.ARRANGE_CENTER:"justify"===r?i=o.WallBox.ARRANGE_JUSTIFY:"spread"===r?i=o.WallBox.ARRANGE_SPREAD:o.Util.userError(o.lf("horizontal align must be one of {left, right, center, justify, spread}")),n.setHorizontalArrangement(i,t.rt.getTopScriptPc())},e.set_vertical_align=function(e,t){var n=t.rt.getCurrentBox(),i=o.WallBox.ARRANGE_TOP,r=e;"top"===r?i=o.WallBox.ARRANGE_TOP:"bottom"===r?i=o.WallBox.ARRANGE_BOTTOM:"center"===r?i=o.WallBox.ARRANGE_CENTER:"justify"===r?i=o.WallBox.ARRANGE_JUSTIFY:"baseline"===r?i=o.WallBox.ARRANGE_BASELINE:"spread"===r?i=o.WallBox.ARRANGE_SPREAD:o.Util.userError(o.lf("vertical align must be one of {baseline, top, bottom, center, justify, spread}")),n.setVerticalArrangement(i,t.rt.getTopScriptPc())},e.set_font_size=function(e,t){t.rt.getCurrentBox().setEmFontSize(e,t.rt.getTopScriptPc())},e.set_font_weight=function(e,t){t.rt.getCurrentBox().setFontWeight(e,t.rt.getTopScriptPc())},e.set_font_family=function(e,t){t.rt.getCurrentBox().setFontFamily(e,t.rt.getTopScriptPc())},e.set_scrolling=function(e,t,n){n.rt.getCurrentBox().setScrolling(e,t,n.rt.getTopScriptPc())},e.on_tapped=function(e,t){t.rt.getCurrentBox().attributes.tappedEvent.addHandler(e)},e.on_text_editing=function(e,t){t.rt.getCurrentBox().attributes.textEditingEvent.addHandler(e)},e.on_text_edited=function(e,t){t.rt.getCurrentBox().attributes.textEditedEvent.addHandler(e)},e.edit_text=function(e,t,n){n.rt.postEditableText(t?"textarea":"textline",e,null,n.rt.getTopScriptPc())},e.edit=function(e,t,n,i){i.rt.postEditableText(e,t,n,i.rt.getTopScriptPc())},e.edit_ref=function(e,t,n){n.rt.postEditableText(e,t._get(n),t,n.rt.getTopScriptPc())},e.is_init=function(e){return 0==e.rt.getCurrentPage().renderCount},e.page_width=function(e){return(e.rt.host.fullWallWidth()-o.LayoutMgr.instance.scrollbarWidth)/o.SizeMgr.topFontSize},e.page_height=function(e){return e.rt.host.userWallHeight()/o.SizeMgr.topFontSize},e.pixels_per_em=function(){return o.SizeMgr.topFontSize},e.set_text_wrapping=function(e,t,n){n.rt.getCurrentBox().setWrap(e,t,n.rt.getTopScriptPc())},(t=c.Dom||(c.Dom={})).use_css=function(e,t){t.rt.forceNonRender(o.lf("cannot change css while displaying page")),t.rt.getCurrentPage().csslayout=!0,t.rt.applyPageAttributes(!0),e&&t.rt.host.importCss(e)},t.set_tag_name=function(e,t){e&&(o.HTML.allowedTagName(e)||o.Util.userError(o.lf("tag not allowed"),t.pc),o.LayoutMgr.setHtmlTagName(e))},t.add_css_class=function(e,t){e&&t.rt.getCurrentHtmlBox().addClassName(e,t.rt.getTopScriptPc())},t.set_attribute=function(e,t,n){e&&(o.HTML.allowedAttribute(e,t)||o.Util.userError(o.lf("attribute not allowed"),n.pc),n.rt.getCurrentHtmlBox().setAttribute(e,t,n.rt.getTopScriptPc()))},t.set_style=function(e,t,n){e&&n.rt.getCurrentHtmlBox().setStyle(e,t,n.rt.getTopScriptPc())},t.bind_value_with_handler=function(e,t,n){n.rt.getCurrentHtmlBox().bindEditableText(e,t,n.rt.getTopScriptPc())},t.bind_value_to_ref=function(e,t){t.rt.getCurrentHtmlBox().bindEditableText(e._get(t),e,t.rt.getTopScriptPc())},t.add_on_click=function(e,t){t.rt.getCurrentHtmlBox().attributes.tappedEvent.addHandler(e)}}(TDev||(TDev={})),function(e){var t,n;t=e.RT||(e.RT={}),n=function(e){function n(){e.call(this)}return __extends(n,e),n.mk=function(e){var t=new n;return t._flow=e,t},n.prototype.flow=function(){return this._flow},n.prototype.equals=function(e){return this._flow===e._flow},n}(t.RTValue),t.BoxFlow=n}(TDev||(TDev={})),function(e){var t,n,i,r,o,a;t=e.RT||(e.RT={}),n=t.BoxFlows||(t.BoxFlows={}),i=t.BoxFlow.mk("right"),r=t.BoxFlow.mk("left"),o=t.BoxFlow.mk("up"),a=t.BoxFlow.mk("down"),n.right=function(){return i},n.left=function(){return r},n.up=function(){return o},n.down=function(){return a}}(TDev||(TDev={})),function(o){var a,e;a=o.RT||(o.RT={}),e=function(e){function t(){e.call(this),this._isFront=!1,this._deviceId=void 0,this._videoUrl=void 0,this._video=void 0}return __extends(t,e),t.prototype.set_is_front=function(e){this._isFront=e},t.prototype.device_id=function(){return this._deviceId},t.prototype.set_device_id=function(e){this._deviceId=e},t.prototype.height=function(){},t.prototype.is_front=function(){return this._isFront},t.prototype.width=function(){},t.prototype.getVideoAsync=function(e){var r=this;return this.askCameraAccessAsync(e).then(function(e){return e?new o.Promise(function(n,e,t){if(r._videoUrl){var i=o.createElement("video");i.src=r._videoUrl,i.controls=!1,i.autoplay=!0,n(i)}else a.UserMediaManager.getCameraUrlAsync(r._isFront,r._deviceId).then(function(e){if(e){r._videoUrl=e;var t=o.createElement("video");t.src=r._videoUrl,t.controls=!1,t.autoplay=!0,n(t)}else n(void 0)}).done()}):o.Promise.as(void 0)})},t.prototype.askCameraAccessAsync=function(e){return e.host.askSourceAccessAsync("camera","your camera.",!1)},t.prototype.post_to_wall=function(t){var n=this;this.getVideoAsync(t.rt).done(function(e){n._video=e,n._video&&(n._video.controls=!0,t.rt.postBoxedHtml(n._video,t.pc))})},t.prototype.previewVideo=function(e,t){var n=a.UserMediaManager.previewVideo(e);a.Picture.fromUrl(n).then(function(e){t.resumeVal(e)})},t.prototype.preview=function(t){var n=this;this._video?this.previewVideo(this._video,t):this.getVideoAsync(t.rt).then(function(e){e?(n._video=e,n._video.controls=!0,t.rt.postBoxedHtml(n._video,t.rt.current.pc),o.Util.setTimeout(5e3,function(){n.previewVideo(n._video,t)})):t.resumeVal(void 0)}).done()},t}(a.RTValue),a.Camera=e}(TDev||(TDev={})),function(e){var t,n;t=e.RT||(e.RT={}),(n=t.Collections||(t.Collections={})).create_user_collection=function(){return new t.Collection(t.User)},n.create_date_time_collection=function(){return new t.Collection(t.DateTime)},n.create_picture_collection=function(){return new t.Collection(t.Picture)},n.create_sound_collection=function(){return new t.Collection(t.Sound)},n.create_action_collection=function(){return new t.Collection(t.Action)},n.create_string_collection=function(){return new t.Collection("string")},n.create_place_collection=function(){return new t.Collection(t.Place)},n.create_link_collection=function(){return new t.Collection(t.Link)},n.create_message_collection=function(){return new t.Collection(t.Message)},n.create_location_collection=function(){return new t.Collection(t.Location_)},n.create_number_map=function(){return new t.NumberMap},n.create_string_map=function(){return new t.StringMap},n.create_number_collection=function(){return new t.Collection("number")}}(TDev||(TDev={})),function(r){var a,e;a=r.RT||(r.RT={}),e=function(t){function o(){t.call(this)}return __extends(o,t),o.fromArtUrl=function(e){return r.Promise.wrap(o.fromHtml(e))},o.fromArgb=function(e,t,n,i){var r=new o;return r.a=e,r.r=t,r.g=n,r.b=i,r},o.capByte=function(e){var t=Math.floor(e);return t<0?0:255<t?255:t},o.normalizeToByte=function(e){return e<0?e=0:1<e&&(e=1),Math.floor(255*e+.499999)},o.fromArgbF=function(e,t,n,i){var r=new o;return r.a=o.normalizeToByte(e),r.r=o.normalizeToByte(t),r.g=o.normalizeToByte(n),r.b=o.normalizeToByte(i),r},o.fromHtml=function(e){"#"==e[0]&&(e=e.substr(1));var t=parseInt(e,16),n=new o;return 3==e.length||4==e.length?(n.b=17*(15&t),n.g=17*(t>>4&15),n.r=17*(t>>8&15),n.a=17*(t>>12&15)):6!=e.length&&8!=e.length||(n.b=255&t,n.g=t>>8&255,n.r=t>>16&255,n.a=t>>24&255),3!=e.length&&6!=e.length||(n.a=255),n},o.fromInt32=function(e){e=Math.round(e);var t=new o;return t.b=255&e,t.g=e>>8&255,t.r=e>>16&255,t.a=e>>24&255,t},o.prototype.A=function(){return this.a/255},o.prototype.R=function(){return this.r/255},o.prototype.G=function(){return this.g/255},o.prototype.B=function(){return this.b/255},o.prototype.equals=function(e){return this.r==e.r&&this.g==e.g&&this.b==e.b&&this.a==e.a},o.prototype.blend=function(e){var t=e.A(),n=this.A()*(1-t);return o.fromArgbF(t+n,e.R()*t+this.R()*n,e.G()*t+this.G()*n,e.B()*t+this.B()*n)},o.prototype.make_transparent=function(e){if(1==e&&255==this.a)return this;var t=o.normalizeToByte(e);return t==this.a?this:o.fromArgb(t,this.r,this.g,this.b)},o.prototype.darken=function(e){return o.fromArgbF(this.A(),this.R()-e,this.G()-e,this.B()-e)},o.prototype.lighten=function(e){return o.fromArgbF(this.A(),this.R()+e,this.G()+e,this.B()+e)},o.prototype.toInt32=function(){return(this.a<<24|this.r<<16|this.g<<8|this.b)>>>0},o.prototype.toJsonKey=function(){return this.toInt32()},o.prototype.keyCompareTo=function(e){var t=e,n=this.r-t.r;return n||((n=this.b-t.b)?n:(n=this.g-t.g)?n:n=this.a-t.a)},o.prototype.toString=function(){var e=this.toInt32().toString(16);return"#"+"00000000".substr(0,8-e.length)+e},o.prototype.getViewCore=function(e,t){var n=r.div("item");n.style.backgroundColor=this.toHtml();var i=r.div("item-subtitle",r.Util.fmt("alpha:{0:f1.3}, red:{1:f1.3}, green:{2:f1.3}, blue:{3:f1.3}",this.A(),this.R(),this.G(),this.B()));return i.style.textAlign="center",i.style.color=300<(this.r+this.g+this.b)*this.A()?"black":"white",n.appendChild(i),n},o.prototype.toHtml=function(){if(this.htmlCache)return this.htmlCache;if(255==this.a){var e=(16777215&this.toInt32()).toString(16);this.htmlCache="#"+"000000".substr(0,6-e.length)+e}else this.htmlCache=r.Util.fmt("rgba({0}, {1}, {2}, {3})",this.r,this.g,this.b,a.Math_.round_with_precision(this.a/255,6));return this.htmlCache},o.prototype.getShortStringRepresentation=function(){return this.toHtml()},o.prototype.exportJson=function(e){return this.toHtml()},o.prototype.importJson=function(e,t){r.Util.oops("should not call immutable instance for importing")},o.mkFromJson=function(e,t){return"string"==typeof t?o.fromHtml(t):void 0},o.prototype.debuggerDisplay=function(e){var t,n;for(t=r.span(null,"R: "+this.r+" G: "+this.g+" B: "+this.b).withClick(e),n=(16777215&this.toInt32()).toString(16);n.length<6;n="0"+n);return t.style.backgroundColor="#"+n,(this.r+this.g+this.b)/3<100&&(t.style.color="white"),t},o.prototype.to_html=function(){return this.toHtml()},o.prototype.hue=function(){return this.toHsb().x()/255},o.prototype.saturation=function(){return this.toHsb().y()/255},o.prototype.brightness=function(){return this.toHsb().z()/255},o.prototype.toHsb=function(){var e=Math.max(this.r,Math.max(this.g,this.b));if(e<=0)return a.Vector3.mk(0,0,0);var t=Math.min(this.r,Math.min(this.g,this.b)),n=e-t,i=0;t<e?(i=this.g===e?(this.b-this.r)/n*60+120:this.b===e?(this.r-this.g)/n*60+240:this.b>this.g?(this.g-this.b)/n*60+360:(this.g-this.b)/n*60)<0&&(i+=360):i=0,i*=255/360;var r=n/e*255,o=e;return a.Vector3.mk(i,r,o)},o.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},o}(a.RTValue),a.Color=e}(TDev||(TDev={})),function(u){var d;(function(t){function n(e){var t=e&&e.rt.getCurrentPage();return t?d.Color.fromHtml(t.bgColor):r()}function i(){return e()}function r(){return a()}function e(){return d.Color.fromHtml("#FF000000")}function o(){return d.Color.fromHtml("#FFD3D3D3")}function a(){return d.Color.fromHtml("#FFFFFFFF")}function s(){return d.Color.fromArgbF(1,u.Random.normalized(),u.Random.normalized(),u.Random.normalized())}function c(e,t,n,i){return l(d.Color.normalizeToByte(e),d.Color.normalizeToByte(t),d.Color.normalizeToByte(n),d.Color.normalizeToByte(i))}function l(e,t,n,i){var r=i,o=i,a=i;if(0!==n){var s=i*n/255,c=i-s,l=360*t/255;l<60?(r=i,o=l*s/60+c,a=c):l<120?(r=-(l-120)*s/60+c,o=i,a=c):l<180?(o=i,a=(l-120)*s/60+(r=c)):l<240?(o=-(l-240)*s/60+(r=c),a=i):l<300?(r=(l-240)*s/60+c,o=c,a=i):l<=360?(r=i,a=-(l-360)*s/60+(o=c)):a=o=r=0}return d.Color.fromArgb(e,d.Color.capByte(r),d.Color.capByte(o),d.Color.capByte(a))}t.accent=function(){return d.Color.fromHtml("#3BA818")},t.subtle=function(){return o()},t.chrome=function(){return d.Color.fromHtml("#FFDDDDDD")},t.foreground=function(e){var t=e&&e.rt.getCurrentPage();return t?d.Color.fromHtml(t.fgColor):i()},t.background=n,t.foreground_os=i,t.background_os=r,t.is_light_theme=function(e){return 128<n(e).r},t.from_rgb=function(e,t,n){return d.Color.fromArgbF(1,e,t,n)},t.from_argb=function(e,t,n,i){return d.Color.fromArgbF(e,t,n,i)},t.pink=function(){return d.Color.fromHtml("#FFFFCBDB")},t.black=e,t.blue=function(){return d.Color.fromHtml("#FF0000FF")},t.brown=function(){return d.Color.fromHtml("#FFA52A2A")},t.cyan=function(){return d.Color.fromHtml("#FF00FFFF")},t.dark_gray=function(){return d.Color.fromHtml("#FFA9A9A9")},t.gray=function(){return d.Color.fromHtml("#FF808080")},t.green=function(){return d.Color.fromHtml("#FF00FF00")},t.light_gray=o,t.magenta=function(){return d.Color.fromHtml("#FFFF00FF")},t.orange=function(){return d.Color.fromHtml("#FFFFA500")},t.purple=function(){return d.Color.fromHtml("#FF800080")},t.red=function(){return d.Color.fromHtml("#FFFF0000")},t.transparent=function(){return d.Color.fromHtml("#00FFFFFF")},t.white=a,t.yellow=function(){return d.Color.fromHtml("#FFFFFF00")},t.sepia=function(){return d.Color.fromHtml("#FF704214")},t.linear_gradient=function(e,t,n){var i=d.RTValue.normalize(n),r=1-i;return d.Color.fromArgbF(e.A()*i+t.A()*r,e.R()*i+t.R()*r,e.G()*i+t.G()*r,e.B()*i+t.B()*r)},t.rand=function(){return s()},t.random=s,t.wheel=function(e){return t.from_hsb(e,1,1)},t.from_hsb=function(e,t,n){return c(1,e,t,n)},t.from_ahsb=c,t.from_ahsbByte=l})((d=u.RT||(u.RT={})).Colors||(d.Colors={}))}(TDev||(TDev={})),function(c){var e,t;e=c.RT||(c.RT={}),t=function(t){function s(){t.call(this),this._id=void 0,this._first_name=void 0,this._last_name=void 0,this._nick_name=void 0,this._middle_name=void 0,this._title=void 0,this._suffix=void 0,this._company=void 0,this._job_title=void 0,this._office=void 0,this._work_address=void 0,this._home_address=void 0,this._source=void 0,this._birthday=void 0,this._pictureUrl=void 0,this._picture=void 0,this._email=void 0,this._work_email=void 0,this._personal_email=void 0,this._phone_number=void 0,this._home_phone=void 0,this._work_phone=void 0,this._mobile_phone=void 0,this._web_site=void 0}return __extends(s,t),s.mkFake=function(e,t,n,i,r,o){var a=new s;return a._first_name=e,a._middle_name=t,a._last_name=n,a._email=i,a._phone_number=r,a._pictureUrl=c.Cloud.getServiceUrl()+"/doc/contacts/"+encodeURIComponent(o),a._source="AdventureWorks",a},s.prototype.clone=function(){var e=new s;return e._id=this._id,e._first_name=this._first_name,e._last_name=this._last_name,e._nick_name=this._nick_name,e._middle_name=this._middle_name,e._title=this._title,e._suffix=this._suffix,e._company=this._company,e._job_title=this._job_title,e._office=this._office,e._work_address=this._work_address,e._home_address=this._home_address,e._source=this._source,e._birthday=this._birthday,e._pictureUrl=this._pictureUrl,e._picture=this._picture,e._email=this._email,e._work_email=this._work_email,e._personal_email=this._personal_email,e._phone_number=this._phone_number,e._home_phone=this._home_phone,e._work_phone=this._work_phone,e._mobile_phone=this._mobile_phone,e._web_site=this._web_site,e},s.mk=function(e,t){void 0===t&&(t=null);var n=new s;return n._nick_name=e,n._email=t,n},s.prototype.toString=function(){return this.name()},s.prototype.toFullString=function(){var e=this.name();return null!=this._title&&(e+="\ntitle: "+this._title),null!=this._company&&(e+="\ncompany: "+this._company),null!=this._job_title&&(e+="\njob title: "+this._job_title),null!=this._office&&(e+="\noffice: "+this._office),null!=this._work_address&&(e+="\nwork address: "+this._work_address),null!=this._home_address&&(e+="\nhome address: "+this._home_address),null!=this._birthday&&(e+="\nbirthday: "+this._birthday),null!=this._email&&(e+="\nemail: "+this._email),null!=this._work_email&&(e+="\nwork email: "+this._work_email),null!=this._personal_email&&(e+="\npersonal email: "+this._personal_email),null!=this._phone_number&&(e+="\nphone number: "+this._phone_number),null!=this._home_phone&&(e+="\nhome phone: "+this._home_phone),null!=this._work_phone&&(e+="\nwork phone: "+this._work_phone),null!=this._mobile_phone&&(e+="\nmobile phone: "+this._mobile_phone),null!=this._web_site&&(e+="\nweb site: "+this._web_site),e},s.prototype.id=function(){return this._id},s.prototype.set_id=function(e){this._id=e},s.prototype.name=function(){return this._nick_name?this._nick_name:[this._first_name,this._middle_name,this._last_name].filter(function(e){return!!e}).join(" ")},s.prototype.first_name=function(){return this._first_name||""},s.prototype.set_first_name=function(e){this._first_name=e},s.prototype.last_name=function(){return this._last_name},s.prototype.set_last_name=function(e){this._last_name=e},s.prototype.nick_name=function(){return this._nick_name},s.prototype.set_nick_name=function(e){this._nick_name=e},s.prototype.middle_name=function(){return this._middle_name},s.prototype.set_middle_name=function(e){this._middle_name=e},s.prototype.title=function(){return this._title},s.prototype.set_title=function(e){this._title=e},s.prototype.suffix=function(){return this._suffix},s.prototype.set_suffix=function(e){this._suffix=e},s.prototype.company=function(){return this._company},s.prototype.set_company=function(e){this._company=e},s.prototype.job_title=function(){return this._title},s.prototype.set_job_title=function(e){this._job_title=e},s.prototype.office=function(){return this._office},s.prototype.set_office=function(e){this._office=e},s.prototype.work_address=function(){return this._work_address},s.prototype.set_work_address=function(e){this._work_address=e},s.prototype.home_address=function(){return this._home_address},s.prototype.set_home_address=function(e){this._home_address=e},s.prototype.source=function(){return this._source},s.prototype.set_source=function(e){this._source=e},s.prototype.birthday=function(){return this._birthday},s.prototype.set_birthday=function(e){this._birthday=e},s.prototype.picture=function(t){var n=this;!this._picture&&this._pictureUrl&&e.Picture.fromUrl(this._pictureUrl,!0).then(function(e){n._picture=e,t.resumeVal(e)}).done(),t.resumeVal(this._picture)},s.prototype.set_picture=function(e){this._pictureUrl=void 0,this._picture=e},s.prototype.setPicture_url=function(e){this._pictureUrl=e,this._picture=null},s.prototype.getViewCore=function(e,t){var n=c.div("item");if(this._picture)n.appendChild(c.div("item-image contact-image",this._picture.getViewCore(e,t)));else if(this._pictureUrl){var i=c.HTML.mkImg(this._pictureUrl);i.className="item-image contact-image",n.appendChild(i)}var r=c.div("item-info");n.appendChild(r);var o=this.name();o&&r.appendChild(c.div("item-title",o));var a=this.title()||this._email||this._work_email||this._personal_email;a&&r.appendChild(c.div("item-subtitle",a)),(this.company()||this.job_title())&&r.appendChild(c.div("item-description",this.job_title()+" "+this.company()));var s=this.source();return s&&r.appendChild(c.div("item-subtle",s)),n},s.prototype.email=function(){return this._email?e.Link.mk(this._email,3):void 0},s.prototype.set_email=function(e){this._email=e},s.prototype.work_email=function(){return this._work_email?e.Link.mk(this._work_email,3):void 0},s.prototype.set_work_email=function(e){this._work_email=e},s.prototype.personal_email=function(){return this._personal_email?e.Link.mk(this._personal_email,3):void 0},s.prototype.set_personal_email=function(e){this._personal_email=e},s.prototype.phone_number=function(){return this._phone_number?e.Link.mk(this._phone_number,4):void 0},s.prototype.set_phone_number=function(e){this._phone_number=e},s.prototype.home_phone=function(){return this._home_phone?e.Link.mk(this._home_phone,4):void 0},s.prototype.set_home_phone=function(e){this._home_phone=e},s.prototype.work_phone=function(){return this._work_phone?e.Link.mk(this._work_phone,4):void 0},s.prototype.set_work_phone=function(e){this._work_phone=e},s.prototype.mobile_phone=function(){return this._mobile_phone?e.Link.mk(this._mobile_phone,4):void 0},s.prototype.set_mobile_phone=function(e){this._mobile_phone=e},s.prototype.web_site=function(){return this._web_site?e.Link.mk(this._web_site,5):void 0},s.prototype.set_web_site=function(e){this._web_site=e},s.prototype.set_nickname=function(e){this.set_nickname(e)},s.prototype.set_website=function(e){this.set_web_site(e)},s.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},s}(e.RTValue),e.Contact=t}(TDev||(TDev={})),function(n){var e,t;e=n.RT||(n.RT={}),t=function(t){function c(){t.call(this)}return __extends(c,t),c.mkFull=function(e,t,n,i,r,o){var a=new c;a.d=new Date(e,t-1,n,i,r,Math.floor(o));var s=o-Math.floor(o);return s&&(a.d=new Date(a.d.getTime()+1e3*s)),a},c.mkMs=function(e){var t=new c;return t.d=new Date(e),t},c.mk=function(e){var t=new c;return t.d=new Date(e.getTime()),t},c.parse=function(e){if(e){var t=Date.parse(e);if(t)return c.mkMs(t)}},c.prototype.isSerializable=function(){return!0},c.prototype.toJsonKey=function(){return this.d.getTime()},c.prototype.to_json=function(){return e.JsonObject.wrap(this.d.getTime())},c.prototype.keyCompareTo=function(e){var t=e;return this.d.getTime()-t.d.getTime()},c.prototype.isDefaultValue=function(){return this.equals(c.defaultValue)},c.prototype.add_days=function(e){return this.add_seconds(24*e*3600)},c.prototype.add_hours=function(e){return this.add_seconds(3600*e)},c.prototype.add_minutes=function(e){return this.add_seconds(60*e)},c.prototype.add_seconds=function(e){return c.mkMs(this.d.getTime()+1e3*e)},c.prototype.add_milliseconds=function(e){return c.mkMs(this.d.getTime()+e)},c.prototype.subtract=function(e){return(this.d.getTime()-e.d.getTime())/1e3},c.prototype.equals=function(e){return this.d.getTime()==e.d.getTime()},c.prototype.not_equals=function(e){return!this.equals(e)},c.prototype.less_or_equals=function(e){return this.d.getTime()<=e.d.getTime()},c.prototype.less=function(e){return this.d.getTime()<e.d.getTime()},c.prototype.greater_or_equal=function(e){return this.d.getTime()>=e.d.getTime()},c.prototype.greater=function(e){return this.d.getTime()>e.d.getTime()},c.prototype.to_string=function(){return this.d.toString()},c.prototype.toString=function(){return this.d.toUTCString()},c.prototype.exportJson=function(e){return this.d.toJSON()},c.mkFromJson=function(e,t){return"string"==typeof t?c.mk(new Date(t)):void 0},c.prototype.clone=function(){return c.mk(this.d)},c.prototype.date=function(){var e=this.clone();return e.d.setHours(0,0,0,0),e},c.prototype.milliseconds_since_epoch=function(){return this.d.getTime()},c.prototype.from_now=function(){return n.Util.timeSince(this.d.getTime()/1e3)},c.prototype.day=function(){return this.d.getDate()},c.prototype.hour=function(){return this.d.getHours()},c.prototype.millisecond=function(){return this.d.getMilliseconds()},c.prototype.minute=function(){return this.d.getMinutes()},c.prototype.month=function(){return this.d.getMonth()+1},c.prototype.second=function(){return this.d.getSeconds()},c.prototype.year=function(){return this.d.getFullYear()},c.prototype.week_day=function(){return this.d.getDay()},c.prototype.year_day=function(){var e=new Date(this.d.getTime());return e.setMonth(0,1),Math.round((this.d.getTime()-e.getTime())/864e5)+1},c.prototype.add_years=function(e){},c.prototype.add_months=function(e){},c.prototype.to_universal_time=function(){return c.mk(new Date(this.d.getUTCFullYear(),this.d.getUTCMonth(),this.d.getUTCDate(),this.d.getUTCHours(),this.d.getUTCMinutes(),this.d.getUTCSeconds()))},c.prototype.to_local_time=function(){},c.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},c.prototype.debuggerDisplay=function(e){return n.span(null,this.toString()).withClick(e)},c.defaultValue=c.mkMs(-621355968e5),c}(e.RTValue),e.DateTime=t}(TDev||(TDev={})),function(v){var y;(function(n){var i=void 0,s=0,r=void 0,o=void 0,c=void 0,l=void 0,a=0,e=.5*Math.PI/180,u=Math.sin(e),d=20;function p(e,t){return e+.1*(t-e)}function h(e,t){return Math.abs(e-t)<.05?p(e,t):t}function m(e,t){if(void 0===t&&(t=window.orientation),90==t?e=y.Vector3.mk(e.y(),-e.x(),e.z()):-90==t?e=y.Vector3.mk(-e.y(),e.x(),e.z()):180==t&&(e=y.Vector3.mk(-e.x(),-e.y(),e.z())),i=e,r=r?y.Vector3.mk(p(r.x(),i.x()),p(r.y(),i.y()),p(r.z(),i.z())):i,o=o?y.Vector3.mk(h(o.x(),i.x()),h(o.y(),i.y()),h(o.z(),i.z())):i,r&&o){var n=r.subtract(o);Math.abs(n.x())>u||Math.abs(n.y())>u||Math.abs(n.z())>u?a=0:a<d&&++a}y.ShakeDetector.accelerationChanged(i)&&y.Senses.raiseShakeEvent()}function t(e){var t=e.accelerationIncludingGravity;if(t){s||(s=t.z<0?1:-1);var n=9.81*s,i=t.x/n,r=-t.y/n,o=t.z/n;m(y.Vector3.mk(i,r,o))}var a=e.rotationRate;c=a?y.Vector3.mk(a.x,a.y,a.z):void 0}function f(e){var t=y.Math_.deg_to_rad(e.beta||0),n=y.Math_.deg_to_rad(e.gamma||0),i=Math.cos(t),r=Math.cos(n);m(y.Vector3.mk(1.5*n,1.5*t,-i*r*1.25))}function g(e){var t,n=0,i=0,r=-1;if(l&&l.host&&(t=l.host.fullScreenElement())){for(var o=t.offsetTop,a=t.offsetLeft,s=t.offsetParent;s&&"root"!=s.id&&!s.scrollEnabled;)o+=s.offsetTop,a+=s.offsetLeft,s=s.offsetParent;n=(e.pageX-a-t.clientWidth/2)/t.clientWidth,i=(e.pageY-o-t.clientHeight/2)/t.clientHeight,n*=2,i*=2,n=y.Math_.clamp(-1.2,1.2,n),i=y.Math_.clamp(-1.2,1.2,i),r=-Math.sqrt(Math.max(0,1-n*n-i*i)),l.host.setTransform3d(v.Util.fmt("perspective(30em) rotateX({0}deg) rotateY({1}deg)",-i*v.Runtime.accelerometerTiltBooster,n*v.Runtime.accelerometerTiltBooster),"50% 50% 50%","30em")}m(y.Vector3.mk(n,i,r))}n.isDeviceStable=function(e){n.start(e.rt),e.resumeVal(d<=a)},n.setRaw=m,n.isSupported=function(){return n.isMotionSupported()||y.DeviceOrientation.isOrientationSupported()||v.Browser.assumeMouse},n.isMotionSupported=function(){return v.Browser.deviceMotion},n.isGyroscopeSupported=function(){return v.Browser.deviceMotion},n.rt_start=function(e){e.eventEnabled("shake")&&n.start(e)},n.addReadingEvent=function(){v.Browser.assumeMouse?(v.Util.log("emulating accelerometer with mouse"),window.addEventListener("mousemove",g,!1)):n.isMotionSupported()?window.addEventListener("devicemotion",t,!1):y.DeviceOrientation.isOrientationSupported()&&window.addEventListener("deviceorientation",f,!1)},n.removeReadingEvent=function(){window.removeEventListener("devicemotion",t,!1),window.removeEventListener("deviceorientation",f,!1),window.removeEventListener("mousemove",g,!1)},n.start=function(e){var t;e.isHeadless()||l||(t=e,i=y.Vector3.mk(0,1,0),s=0,r=y.Vector3.mk(0,1,0),o=y.Vector3.mk(0,1,0),c=y.Vector3.mk(0,0,0),a=0,l=t,n.isSupported()&&n.addReadingEvent())},n.stop=function(e){e.isHeadless()||(n.removeReadingEvent(),i=void 0,l=c=o=r=void(s=0),a=0)},n.accelerationStable=function(e){n.start(e.rt),e.resumeVal(i)},n.accelerationSmooth=function(e){n.start(e.rt),e.resumeVal(r)},n.accelerationQuick=function(e){n.start(e.rt),e.resumeVal(o)},n.acceleration=function(e){return n.start(e.rt),o},n.rotationRate=function(e){n.start(e.rt),e.resumeVal(c)}})((y=v.RT||(v.RT={})).DeviceMotion||(y.DeviceMotion={}))}(TDev||(TDev={})),function(v){!function(g){var e;(e=g.DeviceFaceOrientation||(g.DeviceFaceOrientation={}))[e.Up=0]="Up",e[e.Down=1]="Down";var t;g.DeviceFaceOrientation;(t=g.DeviceLandscapeOrientation||(g.DeviceLandscapeOrientation={}))[t.Portrait=0]="Portrait",t[t.LandscapeLeft=1]="LandscapeLeft",t[t.LandscapeRight=2]="LandscapeRight";g.DeviceLandscapeOrientation;!function(t){var o=void 0,a=void 0,s=void 0,c=0,i=void 0,r=void 0,n=void 0;function l(e){void 0===e&&(e=!0),v.Util.log("deviceorientation: clear data"),s=a=o=void 0,r=i=void(c=0),e&&(n=void 0)}function u(){if(Math.abs(s)<45&&45<Math.abs(a)&&Math.abs(a)<135){var e=Math.sin(o),t=Math.cos(o),n=Math.sin(a),i=Math.sin(s),r=Math.cos(s);c=Math.atan((-t*i-e*n*r)/(-e*i+r*n*r))}else c=360-o}function d(e,t,n){(o=e)&&o<0&&(o+=360),(a=t)&&a<0&&(a+=360),(s=n)&&s<0&&(s+=360),o&&a&&s?(60<a&&a<120?0!=r&&(v.Util.log("phone portrait"),r=0,g.Senses.raisePhonePortrait()):(a<30||330<a)&&240<s&&s<300?1!=r&&(v.Util.log("phone landscape left"),r=1,g.Senses.raisePhoneLandscapeLeft()):(a<30||330<a)&&60<s&&s<120?2!=r&&(v.Util.log("phone landscape right"),r=2,g.Senses.raisePhoneLandscapeRight()):r=void 0,(a<30||330<a)&&(s<30||330<s)?0!=i&&(v.Util.log("phone face up"),i=0,g.Senses.raisePhoneFaceUp()):150<s&&s<210&&(a<30||330<a)||150<a&&a<210&&(s<30||330<s)?1!=i&&(v.Util.log("phone face down"),i=1,g.Senses.raisePhoneFaceDown()):i=void 0):l(!1)}function p(e){c=e}function e(e){v.Util.log("deviceorientation: reading..."),d(e.alpha,e.beta,e.gamma),p(e.compassHeading||e.webkitCompassHeading||void 0),!c&&e.absolute&&u()}function h(e){v.HTML.showNotificationText("Your compass needs calibrating! Wave your device in a figure-eight motion.")}function m(e){e.isHeadless()||(t.isOrientationSupported()||t.isHeadingSupported()?n||(n=e,t.isOrientationSupported()&&t.addOrientationReadingEvent(),t.isHeadingSupported()&&t.addHeadingReadingEvent()):(v.Util.log("deviceorientation: not supported"),l()))}function f(e){e.isHeadless()||(v.Util.log("deviceorientation: stop"),t.removeOrientationReadingEvent(),t.removeHeadingReadingEvent(),l(!0))}t.computeHeading=u,t.orientation=function(e){m(e.rt),o&&a&&s?e.resumeVal(g.Vector3.mk(o,a,s)):e.resumeVal(g.Vector3.mk(0,0,0))},t.heading=function(e){m(e.rt),e.resumeVal(c)},t.setOrientation=d,t.setHeading=p,t.isOrientationSupported=function(){return v.Browser.deviceOrientation},t.isHeadingSupported=function(){return v.Browser.deviceHeading},t.rt_start=function(e){(e.eventEnabled("phone face up")||e.eventEnabled("phone face down")||e.eventEnabled("phone portrait")||e.eventEnabled("phone landscape left")||e.eventEnabled("phone landscape right"))&&m(e)},t.rt_stop=function(e){f(e)},t.addOrientationReadingEvent=function(){v.Util.log("deviceorientation: attaching"),window.addEventListener("deviceorientation",e,!1)},t.removeOrientationReadingEvent=function(){window.removeEventListener("deviceorientation",e,!1)},t.addHeadingReadingEvent=function(){v.Util.log("compassneedscalibration: attaching"),window.addEventListener("compassneedscalibration",h,!1)},t.removeHeadingReadingEvent=function(){window.removeEventListener("compassneedscalibration",h,!1)},t.start=m,t.stop=f}(g.DeviceOrientation||(g.DeviceOrientation={}))}(v.RT||(v.RT={}))}(TDev||(TDev={})),function(e){var t;((t=e.RT||(e.RT={})).Docs||(t.Docs={})).bitmatrix=function(e){}}(TDev||(TDev={})),function(e){var t,n;t=e.RT||(e.RT={}),n=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.current=function(){},t.prototype.move_next=function(){},t}(t.RTValue),t.Enumerator=n}(TDev||(TDev={})),function(e){var r;(function(e){function t(){return!!window.navigator.geolocation}function n(e,i){t()?window.navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,n=r.Location_.mk(t.latitude,t.longitude,t.altitude,t.accuracy,t.altitudeAccuracy,t.heading,t.speed);i.resumeVal(n)},function(e){i.resumeVal(void 0)},{enableHighAccuracy:e}):i.resumeVal(void 0)}e.isSupported=t,e.currentLocation=function(e){n(!1,e)},e.currentLocationAccurate=function(e){n(!0,e)}})((r=e.RT||(e.RT={})).GeoLocation||(r.GeoLocation={}))}(TDev||(TDev={})),function(e){var t,n;t=e.RT||(e.RT={}),(n=t.Invalid||(t.Invalid={})).number=function(){},n.boolean=function(){},n.string=function(){},n.string_collection=function(){},n.datetime=function(){},n.color=function(){},n.picture=function(){},n.song=function(){},n.location=function(){},n.location_collection=function(){},n.map=function(){},n.sound=function(){},n.json_object=function(){},n.link=function(){},n.link_collection=function(){},n.vector3=function(){},n.number_map=function(){},n.string_map=function(){},n.message=function(){},n.message_collection=function(){},n.board=function(){},n.sprite=function(){},n.sprite_animation=function(){},n.sprite_set=function(){},n.xml_object=function(){},n.place=function(){},n.place_collection=function(){},n.textbox=function(){},n.contact=function(){},n.contact_collection=function(){},n.camera=function(){},n.web_request=function(){},n.web_response=function(){},n.number_collection=function(){},n.page=function(){},n.page_button=function(){},n.page_collection=function(){},n.box_flow=function(){},n.matrix=function(){},n.action=function(){},n.text_action=function(){},n.position_action=function(){},n.vector_action=function(){},n.webresponse_action=function(){},n.sprite_action=function(){},n.sprite_set_action=function(){},n.json_builder=function(){},n.message_collection_action=function(){},n.oauth_response=function(){},n.form_builder=function(){},n.user=function(){},n.gamepad=function(){}}(TDev||(TDev={})),function(o){var n,e;n=o.RT||(o.RT={}),e=function(e){function r(){e.call(this),this._item=void 0}return __extends(r,e),r.fromArtUrl=function(e){var t=n.String_.valueFromArtUrl(e);return o.Promise.as(r.mk(t))},r.mk=function(e,t){return n.JsonParser.parse(e,t)},r.wrap=function(e){if(void 0!==e){var t=new r;return t._item=e,t}},r.prototype.exportJson=function(e){return this._item},r.prototype.importJson=function(e,t){o.Util.oops("should not call immutable instance for importing")},r.mkFromJson=function(e,t){if(void 0!==t){var n=JSON.parse(JSON.stringify(t));return r.wrap(n)}},r.prototype.getShortStringRepresentation=function(){return JSON.stringify(this._item,null,2)},r.prototype.clone=function(){return r.wrap(JSON.parse(JSON.stringify(this._item)))},r.prototype.value=function(){return this._item},r.prototype.count=function(){return Array.isArray(this._item)?this._item.length:void 0},r.prototype.at=function(e){return Array.isArray(this._item)?r.wrap(this._item[Math.floor(e)]):void 0},r.prototype.boolean=function(e){if(null!==this._item){var t=this._item[e];return"boolean"==typeof t?t:"string"==typeof t?!!/^true$/i.test(t):"number"==typeof t?0!=t:!!t}},r.prototype.contains_key=function(e){var t=this._item;return null!==t&&"object"==typeof t&&t.hasOwnProperty(e)},r.prototype.time=function(e){if(null!==this._item){var t=this._item[e];if("string"==typeof t)return n.DateTime.mkMs(Date.parse(t));if("number"==typeof t)return n.DateTime.mkMs(t)}},r.prototype.field=function(e){var t=this._item;return null===t?void 0:r.wrap(t[e])},r.prototype.keys=function(){var e=this._item;return n.Collection.mkStrings("object"===this.kind()?Object.keys(e):[])},r.prototype.kind=function(){var e="array";return null===this._item?e="null":Array.isArray(this._item)||("string"==typeof this._item?e="string":"number"==typeof this._item?e="number":"boolean"==typeof this._item?e="boolean":"object"==typeof this._item&&(e="object")),e},r.prototype.number=function(e){if(null!==this._item){var t=this._item[e];if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if("boolean"==typeof t)return t?1:0}},r.prototype.string=function(e){if(null!==this._item){var t=this._item[e];if("string"==typeof t)return t;if("number"==typeof t)return t.toString();if("boolean"==typeof t)return t?"true":"false"}},r.prototype.post_to_wall=function(e){e.rt.postBoxedText(JSON.stringify(this._item,null,2),e.pc)},r.prototype.format=function(e){return JSON.stringify(this._item,null,e)},r.prototype.to_boolean=function(){return"boolean"==typeof this._item?this._item:"string"==typeof this._item?!!/^true$/i.test(this._item):"number"==typeof this._item?0!=this._item:void 0},r.prototype.to_number=function(){return"number"==typeof this._item?this._item:"string"==typeof this._item?parseFloat(this._item):"boolean"==typeof this._item?this._item?1:0:void 0},r.prototype.to_string=function(){return"string"==typeof this._item?this._item:"number"==typeof this._item?this._item.toString():"boolean"==typeof this._item?this._item?"true":"false":void 0},r.prototype.to_time=function(){return"string"==typeof this._item?n.DateTime.mkMs(Date.parse(this._item)):"number"==typeof this._item?n.DateTime.mkMs(this._item):void 0},r.prototype.to_collection=function(){return Array.isArray(this._item)?n.Collection.fromArray(this._item.map(function(e){return r.wrap(e)}),r):void 0},r.prototype.serialize=function(){return JSON.stringify(this._item)},r.prototype.to_json_builder=function(){return n.JsonBuilder.wrap(JSON.parse(JSON.stringify(this._item)))},r.prototype.toString=function(){return JSON.stringify(this._item)},r.prototype.debuggerDisplay=function(e){var n=this,t=this._item;if("boolean"==typeof t||"string"==typeof t||"number"==typeof t)return o.div(null,t.toString()).withClick(e);if(null===t)return o.div(null,"null").withClick(e);if(Array.isArray(t))return o.div(null,"["+t.length+"]").withClick(e);var i=[];return Object.keys(t).forEach(function(e){var t=n._item[e];Array.isArray(t)?i.push(e+" : ["+t.length+"]"):"boolean"==typeof t||"number"==typeof t?i.push(e+" : "+t):"string"==typeof t?i.push(e+' : "'+t.slice(0,5)+'..."'):i.push(e+" : {...}")}),o.div(null,"{"+i.join(", ")+"}").withClick(e)},r.prototype.debuggerChildren=function(){var n=this._item;if(null===n||"boolean"==typeof n||"string"==typeof n||"number"==typeof n)return null;var i={};return Object.keys(n).forEach(function(e){var t=n[e];Array.isArray(t)||"object"==typeof t?i[e]=r.wrap(t):i[e]=t}),i},r}(n.RTValue),n.JsonObject=e}(TDev||(TDev={})),function(i){var o,e;o=i.RT||(i.RT={}),e=function(e){function n(){e.apply(this,arguments),this.item={}}return __extends(n,e),n.prototype.isSerializable=function(){return!0},n.wrap=function(e){if(void 0!==e){var t=new n;return t.item=e,t}},n.prototype.value=function(){return this.item},n.prototype.exportJson=function(e){return i.Util.jsonClone(this.item)},n.prototype.importJson=function(e,t){return void 0!==t?(this.item=i.Util.jsonClone(t),this):void 0},n.prototype.ensureObject=function(){(null===this.item||"object"!=typeof this.item||Array.isArray(this.item))&&(this.item={})},n.prototype.set_field=function(e,t){0!=e.length&&(this.ensureObject(),this.item[e]=this.toValue(t))},n.prototype.set_builder=function(e,t){0!=e.length&&(this.ensureObject(),this.item[e]=t.item)},n.prototype.set_string=function(e,t){0!=e.length&&(this.ensureObject(),this.item[e]=t)},n.prototype.clone=function(){return n.wrap(i.Util.jsonClone(this.item))},n.prototype.set_number=function(e,t){0!=e.length&&(this.ensureObject(),this.item[e]=t)},n.prototype.set_boolean=function(e,t){0!=e.length&&(this.ensureObject(),this.item[e]=t)},n.prototype.set_sound=function(e,t){0!=e.length&&(this.ensureObject(),this.item[e]=t.getDataUri())},n.prototype.set_picture=function(e,t,n,i){var r=this;0!=e.length&&(this.ensureObject(),t.loadFirst(i,function(){r.item[e]=t.getDataUri(o.Math_.normalize(n))}))},n.prototype.set_field_null=function(e){this.set_field(e,null)},n.prototype.ensureArray=function(){Array.isArray(this.item)||(this.item=[])},n.prototype.add=function(e){this.ensureArray(),this.item.push(this.toValue(e))},n.prototype.add_number=function(e){this.ensureArray(),this.item.push(e)},n.prototype.add_string=function(e){this.ensureArray(),this.item.push(e)},n.prototype.add_boolean=function(e){this.ensureArray(),this.item.push(e)},n.prototype.copy_from=function(e){var t=this;"object"!=e.kind()&&i.Util.userError("cannot copy from non-object");var n=i.Util.jsonClone(e.value());Object.keys(n).forEach(function(e){t.item[e]=n[e]})},n.prototype.add_builder=function(e){Array.isArray(this.item)||(this.item=[]),this.item.push(e.item)},n.prototype.clear=function(){if(Array.isArray(this.item))for(;0<this.item.length;)this.item.pop()},n.prototype.add_null=function(){this.add(null)},n.prototype.toString=function(){return JSON.stringify(this.item)},n.prototype.setItem=function(e){this.item=e},n.prototype.toValue=function(e){return null===e?null:e.value()},n.prototype.to_json=function(){return o.JsonObject.wrap(JSON.parse(JSON.stringify(this.item)))},n.prototype.count=function(){return Array.isArray(this.item)?this.item.length:void 0},n.prototype.at=function(e){return Array.isArray(this.item)?n.wrap(this.item[Math.floor(e)]):void 0},n.prototype.set_at=function(e,t){Array.isArray(this.item)||(this.item=[]),this.item[e]=t.item},n.prototype.remove_at=function(e){Array.isArray(this.item)||(this.item=[]),this.item.splice(e,1)},n.prototype.remove_field=function(e){this.item;this.ensureObject(),delete this.item[e]},n.prototype.boolean=function(e){if(null!==this.item){var t=this.item[e];return"boolean"==typeof t?t:"string"==typeof t?!!/^true$/i.test(t):"number"==typeof t?0!=t:!!t}},n.prototype.contains_key=function(e){var t=this.item;return null!==t&&"object"==typeof t&&t.hasOwnProperty(e)},n.prototype.time=function(e){if(null!==this.item){var t=this.item[e];if("string"==typeof t)return o.DateTime.mkMs(Date.parse(t));if("number"==typeof t)return o.DateTime.mkMs(t)}},n.prototype.field=function(e){var t=this.item;return null===t?void 0:n.wrap(t[e])},n.prototype.keys=function(){return o.Collection.mkStrings("object"===this.kind()?Object.keys(this.item):[])},n.prototype.kind=function(){var e="array";return null===this.item?e="null":Array.isArray(this.item)||("string"==typeof this.item?e="string":"number"==typeof this.item?e="number":"boolean"==typeof this.item?e="boolean":"object"==typeof this.item&&(e="object")),e},n.prototype.number=function(e){if(null!==this.item){var t=this.item[e];if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if("boolean"==typeof t)return t?1:0}},n.prototype.string=function(e){if(null!==this.item){var t=this.item[e];if("string"==typeof t)return t;if("number"==typeof t)return t.toString();if("boolean"==typeof t)return t?"true":"false"}},n.prototype.post_to_wall=function(e){var t;try{t=JSON.stringify(this.item,null,2)}catch(e){t="error stringifying json builder: "+e.message}e.rt.postBoxedText(t,e.pc)},n.prototype.to_boolean=function(){return"boolean"==typeof this.item?this.item:"string"==typeof this.item?!!/^true$/i.test(this.item):"number"==typeof this.item?0!=this.item:void 0},n.prototype.to_number=function(){return"number"==typeof this.item?this.item:"string"==typeof this.item?parseFloat(this.item):"boolean"==typeof this.item?this.item?1:0:void 0},n.prototype.to_string=function(){return"string"==typeof this.item?this.item:"number"==typeof this.item?this.item.toString():"boolean"==typeof this.item?this.item?"true":"false":void 0},n.prototype.to_time=function(){return"string"==typeof this.item?o.DateTime.mkMs(Date.parse(this.item)):"number"==typeof this.item?o.DateTime.mkMs(this.item):void 0},n.prototype.to_collection=function(){return Array.isArray(this.item)?o.Collection.fromArray(this.item.map(function(e){return n.wrap(e)}),n):void 0},n.prototype.serialize=function(){return JSON.stringify(this.item)},n.prototype.getShortStringRepresentation=function(){return JSON.stringify(this.item,null,2)},n.prototype.debuggerDisplay=function(e){return this.to_json().debuggerDisplay(e)},n.prototype.debuggerChildren=function(){return this.to_json().debuggerChildren()},n}(o.RTValue),o.JsonBuilder=e}(TDev||(TDev={})),function(o){var e,t;e=o.RT||(o.RT={}),t=function(e){function t(){e.apply(this,arguments),this._data=[]}return __extends(t,e),t.prototype.data=function(){var t=new FormData;return this._data.forEach(function(e){e.blobName?t.append(e.name,e.value,e.blobName):t.append(e.name,e.value)}),t},t.prototype.toString=function(){return"form: "+this._data.map(function(e){return e.name}).join(", ")},t.prototype.post_to_wall=function(e){e.rt.postText(this.toString(),e.pc)},t.prototype.contains_key=function(t){return!!this._data.filter(function(e){return e.name==t})[0]},t.prototype.add_text=function(e,t,n,i){this._data.push({name:e,value:new Blob([t],{type:n||"text/plain"}),blobName:i})},t.prototype.add_buffer=function(e,t,n){this._data.push({name:e,value:new Blob([t.buffer.buffer]),blobName:n})},t.prototype.add_string_as_file=function(e,t,n){this._data.push({name:e,value:new Blob([t],{type:"text/plain"}),blobName:n})},t.prototype.add_string=function(e,t){this._data.push({name:e,value:t})},t.prototype.add_number=function(e,t){this._data.push({name:e,value:t})},t.prototype.add_boolean=function(e,t){this._data.push({name:e,value:t})},t.prototype.add_picture=function(t,n,i,e){var r=this;n.loadFirst(e,function(){var e=o.Util.canvasToBlob(n.getCanvas(),i);r._data.push({name:t,value:e,blobName:i})})},t}(e.RTValue),e.FormBuilder=t}(TDev||(TDev={})),function(l){var c,u,s,i,d;c=l.RT||(l.RT={}),function(e){function t(){var e=window;e&&!e.SpeechRecognition&&(e.SpeechRecognition=e.SpeechRecognition||e.webkitSpeechRecognition||e.mozSpeechRecognition||e.oSpeechRecognition||e.msSpeechRecognition),e&&!e.SpeechSynthesisUtterance&&(e.SpeechSynthesisUtterance=e.SpeechSynthesisUtterance||e.webkitSpeechSynthesisUtterance||e.mozSpeechSynthesisUtterance||e.oSpeechSynthesisUtterance||e.msSpeechSynthesisUtterance)}function n(){return t(),!!window.SpeechRecognition}function i(){t();var e=window;return!!e.speechSynthesis&&!!e.SpeechSynthesisUtterance}e.isSupported=function(){return n()||i()},e.isRecognitionSupported=n,e.isSynthesisSupported=i,e.createRecognition=function(){return n()?new SpeechRecognition:void 0},e.createSynthesis=function(){return i()?window.speechSynthesis:void 0}}(u=c.WebSpeechManager||(c.WebSpeechManager={})),function(e){function t(e,t){var n="runtime/languages/speak?language="+encodeURIComponent(e||i.current_language())+"&text="+encodeURIComponent(t||"");return c.Sound.mk(n,1,"audio/mp4")}e.createTranslateButton=function(e,t,n,i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1);var a=l.RT.Languages.current_language();if(i.toLowerCase()==a.toLowerCase())return null;var s=null,c=l.div("translated");return s=l.createElement(r?"button":"div",e,l.lf("translate")).withClick(function(){l.tick(t),l.Cloud.anonMode(l.lf("translation"))||(s.setFlag("working",!0),l.RT.MicrosoftTranslator.translateAsync(i||"",a,n.innerHTML,!0).done(function(e){o=o&&e,l.Browser.setInnerHTML(c,e||l.lf(":( Sorry, we could not translate this.")),s.setFlag("working",!1),s.removeSelf(),o?n.setChildren([c]):n.appendChild(c)},function(e){s.setFlag("working",!1);var t=l.div("translated");l.Browser.setInnerHTML(t,l.lf(":( Sorry, an error occured while translating this text.")),n.appendChild(t)}))})},e.translateAsync=function(e,t,n,i){if(!t)return c.Time.log("translate: missing target language"),l.Promise.as(void 0);if(!n||e===t)return l.Promise.as(n);if(1e4<=n.length)return c.Time.log("translate: text too long, 10000 characeters max"),l.Promise.as(void 0);var r="runtime/languages/translate?to="+encodeURIComponent(t)+"&text="+encodeURIComponent(n);return e&&(r+="&from="+encodeURIComponent(e)),i&&(r+="&html=true"),c.WebRequest.mk(l.Cloud.getPrivateApiUrl(r),void 0).sendAsync().then(function(e){var t=e.content_as_json();return t?t.to_string():void 0})},e.detectAsync=function(e){if(0==e.length)return l.Promise.as(void 0);var t="runtime/languages/detect?text="+encodeURIComponent(e);return c.WebRequest.mk(l.Cloud.getPrivateApiUrl(t),void 0).sendAsync().then(function(e){return e.content_as_json().to_string()})},e.speakTranslator=t,e.speak=t}(s=c.MicrosoftTranslator||(c.MicrosoftTranslator={})),(d=i=c.Languages||(c.Languages={})).current_language=function(){return navigator.userLanguage||navigator.language||"en-US"},d.isSpeechSupported=function(){return u.isSupported()},d.record_text=function(n){var e=u.createRecognition();if(e){var i,r="",o=new l.ModalDialog,a=l.div("wall-dialog-body",l.lf("initializing..."));o.add(l.div("wall-dialog-header",l.lf("recording text"))),o.add(a),o.onDismiss=function(){return n.resumeVal("")},e.continuous=!1,e.interimResults=!1,e.onstart=function(e){l.Util.log("speech recog: start"),a.setChildren(["time to talk!"])},e.onresult=function(e){l.Util.log("speech recog: onresult");for(var t=e.resultIndex;t<e.results.length;++t)e.results[t].isFinal&&(r+=e.results[t][0].transcript);a.setChildren([r]),o.add(i=l.div("wall-dialog-buttons",l.HTML.mkButton("cancel",function(){return o.dismiss()}),l.HTML.mkButton("try again",function(){i.removeSelf(),s()}),l.HTML.mkButton("ok",function(){o.onDismiss=null,o.dismiss(),n.resumeVal(r)})))},e.onerror=function(e){l.Util.log("speech recog: onerror"),a.setChildren(["oops, couldn't understand what you said."]),o.add(i=l.div("wall-dialog-buttons",l.HTML.mkButton("cancel",function(){return o.dismiss()}),l.HTML.mkButton("try again",function(){i.removeSelf(),s()})))},e.lang=d.current_language(),s(),o.show()}else c.Wall.ask_string("please enter your text",n);function s(){r="",e.start()}},d.translate=function(t,n,i,r){r.rt,l.Cloud.authenticateAsync(l.lf("translation")).then(function(e){return e?s.translateAsync(t,n,i,!1):l.Promise.as(void 0)}).done(function(e){return r.resumeVal(e)})},d.detect_language=function(t,n){n.rt,l.Cloud.authenticateAsync(l.lf("translation")).then(function(e){return e?s.detectAsync(t):l.Promise.as(void 0)}).done(function(e){return n.resumeVal(e)})},d.speak=function(e,t){return s.speakTranslator(e,t)},d.speak_text=function(e,t,n,i){if(n){var r=u.createSynthesis();if(r){var o=new SpeechSynthesisUtterance(n);o.lang=e||d.current_language(),r.speak(o),i.resume()}else{var a=s.speak(e,n);a?a.play(i):i.resume()}}else i.resume()},d.speak_ssml=function(e,t){var n=u.createSynthesis();if(n){var i=new SpeechSynthesisUtterance(e.toString());n.speak(i),t.resume()}else{var r=e.value(),o=s.speak(d.current_language(),r);o?o.play(t):t.resume()}}}(TDev||(TDev={})),function(c){!function(s){var e;(e=s.LinkKind||(s.LinkKind={}))[e.unknown=0]="unknown",e[e.media=1]="media",e[e.image=2]="image",e[e.email=3]="email",e[e.phoneNumber=4]="phoneNumber",e[e.hyperlink=5]="hyperlink",e[e.radio=6]="radio",e[e.address=7]="address";var n=s.LinkKind,t=function(t){function i(){t.call(this),this._title=void 0,this._description=void 0,this._kind=void 0,this._address=void 0,this._location=void 0,this.previouslyloaded=!1}return __extends(i,t),i.prototype.exportJson=function(e){return{title:this._title,description:this._description,kind:this._kind&&this._kind,address:this._address,location:this._location&&this._location.exportJson(e)}},i.prototype.importJson=function(e,t){return"object"!=typeof t&&(t=void 0),this._title=e.importString(t,"title"),this._description=e.importString(t,"description"),this._kind=e.importNumber(t,"kind"),this._address=e.importString(t,"address"),this._location=e.importLocation(t,"location"),this},i.mk=function(e,t){var n=new i;return n._address=e,n._kind=t,n},i.prototype.toString=function(){return this.name()},i.prototype.name=function(){return this._description?this._title+" : "+this._description:this._title},i.prototype.set_name=function(e){this._description="",this._title=e},i.prototype.set_title=function(e){this._title=e},i.prototype.set_description=function(e){this._description=e},i.prototype.location=function(){return this._location},i.prototype.set_location=function(e){this._location=e},i.prototype.address=function(){return this._address},i.prototype.to_picture=function(){if(2==this._kind)return s.Picture.fromUrlSync(this._address,!0)},i.prototype.kind=function(){return c.enumToString(n,this._kind).toLowerCase()},i.prototype.getViewCore=function(e,t){switch(void 0===t&&(t=null),this._kind){case 2:var n=c.createElement("img");return n.setAttribute("class","wall-picture"),n.src=this.address(),n.alt=this.name(),this.slowlyloadingelement=n,t.delayedlayout=!0,n;case 1:try{if(/\.(mp3|wav|m4a)$/i.test(this.address())){var i=c.createElement("audio","wall-media",this.name());return i.src=this.address(),i.controls=!0,i.autobuffer=!0,i.crossorigin="anonymous",i.load(),this.slowlyloadingelement=i}var r=c.createElement("video","wall-media",this.name());return r.src=this.address(),r.controls=!0,r.autobuffer=!0,r.crossorigin="anonymous",r.load(),this.slowlyloadingelement=r,t.delayedlayout=!0,r}catch(e){return c.div("item",c.div("wall-dialog-header",c.lf("invalid media")),c.div("wall-dialog-body",this.address()))}default:var o=this.address();switch(this._kind){case 4:/^tel:/i.test(o)||(o="tel:"+o),"call";break;case 3:/^mailto:/i.test(o)||(o="mailto:"+encodeURIComponent(o)),"send"}var a=c.div("item link-item",[c.div("wall-dialog-header",this._title||this.address()||o),this._description?c.div("wall-dialog-body",this._description):null]);return a.withClick(function(){return s.Web.browseAsync(o).done()}),a}},i.prototype.updateViewCore=function(e,t){c.LayoutMgr.RenderExecutionMode()&&this.slowlyloadingelement&&("IMG"==this.slowlyloadingelement.tagName?(this.slowlyloadingelement.onload=function(){t.delayedlayout=!1,t.RefreshOnScreen()},this.slowlyloadingelement.onerror=function(){t.SwapImageContent(s.Picture.errorPic())}):this.slowlyloadingelement.onloadedmetadata=function(){t.delayedlayout=!1,t.RefreshOnScreen()})},i.prototype.share=function(e,t){c.HTML.showProgressNotification(c.lf("sharing link...")),s.ShareManager.shareLinkAsync(this,e).done(function(){return t.resume()})},i.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},i}(s.RTValue);s.Link=t}(c.RT||(c.RT={}))}(TDev||(TDev={})),function(r){var o,e;o=r.RT||(r.RT={}),e=function(t){function c(){t.call(this),this._latitude=void 0,this._longitude=void 0,this._altitude=void 0,this._hor_accuracy=void 0,this._vert_accuracy=void 0,this._speed=void 0,this._course=void 0}return __extends(c,t),c.mkShort=function(e,t){return c.mk(e,t,void 0,void 0,void 0,void 0,void 0)},c.mk=function(e,t,n,i,r,o,a){var s=new c;return s._latitude=e,s._longitude=t,s._altitude=n,s._hor_accuracy=i,s._vert_accuracy=r,s._course=o,s._speed=a,s},c.mkFromString=function(e){var t=e.indexOf(","),n=new c;return n._latitude=Number(e.slice(0,t)),n._longitude=Number(e.slice(t+1)),n},c.prototype.to_string=function(){return this._latitude+","+this._longitude},c.prototype.exportJson=function(e){return{latitude:this._latitude,longitude:this._longitude,altitude:this._altitude,hor_accuracy:this._hor_accuracy,vert_accuracy:this._vert_accuracy,course:this._course,speed:this._speed}},c.prototype.importJson=function(e,t){r.Util.oops("should not call immutable instance for importing")},c.mkFromJson=function(e,t){if("object"==typeof t){var n=new c;return n._latitude=e.importNumber(t,"latitude"),n._longitude=e.importNumber(t,"longitude"),n._altitude=e.importNumber(t,"altitude"),n._hor_accuracy=e.importNumber(t,"hor_accuracy"),n._vert_accuracy=e.importNumber(t,"vert_accuracy"),n._course=e.importNumber(t,"course"),n._speed=e.importNumber(t,"speed"),n}},c.prototype.isSerializable=function(){return!0},c.prototype.toJsonKey=function(){return[this._latitude,this._longitude,this._altitude,this._hor_accuracy,this._vert_accuracy,this._speed,this._course]},c.prototype.keyCompareTo=function(e){var t=e,n=this._latitude-t._latitude;return n||((n=this._longitude-t._longitude)?n:(n=this._altitude-t._altitude)?n:(n=this._hor_accuracy-t._hor_accuracy)?n:(n=this._vert_accuracy-t._vert_accuracy)?n:(n=this._speed-t._speed)?n:n=this._course-t._course)},c.prototype.latitude=function(){return this._latitude},c.prototype.longitude=function(){return this._longitude},c.prototype.altitude=function(){return this._altitude},c.prototype.hor_accuracy=function(){return this._hor_accuracy},c.prototype.vert_accuracy=function(){return this._vert_accuracy},c.prototype.speed=function(){return this._speed},c.prototype.course=function(){return this._course},c.prototype.toString=function(){return"("+this._latitude+","+this._longitude+")"},c.prototype.equals=function(e){return this._latitude===e._latitude&&this._longitude===e._longitude&&this._altitude===e._altitude&&this._hor_accuracy===e._hor_accuracy&&this._vert_accuracy===e._vert_accuracy&&this._speed===e._speed&&this._course===e._course},c.prototype.share=function(e,t,n){var i=o.Link.mk(o.Maps.mapUrl(this),5);i.set_title(this.to_string()),i.set_description(t),r.HTML.showProgressNotification(r.lf("sharing location...")),o.ShareManager.shareLinkAsync(i,e).done(function(){return n.resume()})},c.prototype.distance=function(e){return c.computeDistance(this.latitude(),this.longitude(),e.latitude(),e.longitude())},c.computeDistance=function(e,t,n,i){return 12734*Math.asin(Math.min(1,Math.sqrt(Math.pow(Math.sin(o.Math_.deg_to_rad(n-e)/2),2)+Math.cos(o.Math_.deg_to_rad(e))*Math.cos(o.Math_.deg_to_rad(n))*Math.pow(Math.sin(o.Math_.deg_to_rad(i-t)/2),2))))},c.prototype.getViewCore=function(e,t){var n=o.Maps.create_map();return n.set_center(this),n.add_text(this,this.latitude().toFixed(3)+", "+this.longitude().toFixed(3),o.Colors.background(e),o.Colors.foreground(e)),n.getViewCore(e,t)},c.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},c}(o.RTValue),o.Location_=e}(TDev||(TDev={})),function(c){var l,e;l=c.RT||(c.RT={}),(e=l.Locations||(l.Locations={})).create_location=function(e,t){return l.Location_.mk(e,t,void 0,void 0,void 0,void 0,void 0)},e.create_location_list=function(){return l.Collections.create_location_collection()},e.describe_location=function(i,r){c.Cloud.authenticateAsync(c.lf("describing a location")).then(function(e){if(e){var t="runtime/locations/describe?latitude="+encodeURIComponent(i.latitude().toString())+"&longitude="+encodeURIComponent(i.longitude().toString()),n=l.WebRequest.mk(c.Cloud.getPrivateApiUrl(t),void 0);return r.progress("Describing location..."),n.sendAsync()}return c.Promise.as(void 0)}).done(function(e){try{var t=void 0,n=e?e.content_as_json():void 0;n&&(t=n.to_string()),r.resumeVal(t)}catch(e){l.Time.log("locations describe failed, "+e.message),r.resumeVal(void 0)}})},e.search_location=function(i,r,o,a,s){c.Cloud.authenticateAsync(c.lf("searching a location")).then(function(e){if(e){var t="runtime/locations/search?address="+encodeURIComponent(i);r&&(t+="&postalCode="+encodeURIComponent(r)),o&&(t+="&city="+encodeURIComponent(o)),a&&(t+="&country="+encodeURIComponent(a));var n=l.WebRequest.mk(c.Cloud.getPrivateApiUrl(t),void 0);return s.progress("Searching location..."),n.sendAsync()}return c.Promise.as(void 0)}).done(function(e){try{var t=void 0,n=e?e.content_as_json():void 0;n&&(t=l.Location_.mkShort(n.number("latitude"),n.number("longitude"))),s.resumeVal(t)}catch(e){l.Time.log("locations search failed, "+e.message),s.resumeVal(void 0)}})}}(TDev||(TDev={})),function(u){var r;(function(e){function c(e,t,n){var i={credentials:r.ApiManager.bingMapsKey,enableClickableLogo:!1,enableSearchLogo:!1,disableBirdseye:!0,showMapTypeSelector:!1};return t&&(i.center=new Microsoft.Maps.Location(t.latitude(),t.longitude())),n&&(i.zoom=n),new Microsoft.Maps.Map(e,i)}function l(){return"undefined"!=typeof Microsoft&&void 0!==Microsoft.Maps&&void 0!==Microsoft.Maps.Map}e.createMap=c,e.isBingMapsLoaded=l,e.mkMapAsync=function(o,a,s){return l()?u.Promise.as(c(o,a,s)):new u.Promise(function(t,n,e){var i=document.createElement("script"),r=void 0;r=function(e){l()?t(c(o,a,s)):e--<0?n(void 0):u.Util.setTimeout(100,function(){return r(e-1)})},i.type="text/javascript",i.charset="utf-8",i.onload=function(){i.readyState&&"complete"!==i.readyState||r(50)},i.onreadystatechange=i.onload,i.onerror=function(){t(void 0)},i.src="https://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0&s=1",document.head.appendChild(i)})},e.addClickHandler=function(e,t){Microsoft.Maps.Events.addHandler(e,"click",t)}})((r=u.RT||(u.RT={})).BingMaps||(r.BingMaps={}))}(TDev||(TDev={})),function(c){!function(r){var o=function(e){function s(){e.apply(this,arguments),this.onTap=new r.Event_}return __extends(s,e),s.mk=function(e,t,n,i,r,o){void 0===r&&(r=void 0),void 0===o&&(o=void 0);var a=new s;return a._location=e,a._text=t,a._background=n,a._foreground=i,a._pictureUrl=r,a._taptarget=o,a},s.prototype.on_tap=function(e){return this.onTap.addHandler(e)},s.prototype.location=function(){return this._location},s.prototype.set_location=function(e){this._location=e,this._pp&&this._pp.setLocation(new Microsoft.Maps.Location(this._location.latitude(),this._location.longitude()))},s.prototype.set_visible=function(e){this._pp&&this._pp.setOptions({visible:e})},s.prototype.setOptions=function(){if(this._pp){var e={anchor:new Microsoft.Maps.Point(14,57),width:59,height:41,htmlContent:"<div class='mapPushpin' style='"};this._foreground&&(e.htmlContent+="color:"+this._foreground.toHtml()+";"),this._background&&(e.htmlContent+="background-color:"+this._background.toHtml()+";"),e.htmlContent+="'>",this._pictureUrl&&(e.htmlContent+="<img src='"+r.Web.html_encode(this._pictureUrl)+"' style='float:left;height:auto;max-width:39px;max-height:25px;' />"),this._text&&(e.htmlContent+="<div class='mapPushpinInner'>"+r.Web.html_encode(this._text)+"</div>"),e.htmlContent+="</div>",this._pp.setOptions(e)}},s.prototype.addToMap=function(e){var n=this;(this._map=e)&&(this._pp=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(this._location.latitude(),this._location.longitude()),{}),this.setOptions(),e.entities.push(this._pp),r.BingMaps.addClickHandler(this._pp,function(){var e=c.Runtime.theRuntime;if(e&&(n.onTap.handlers&&e.queueLocalEvent(n.onTap,[]),n._taptarget)){var t="tap wall "+n._taptarget.rtType();e.eventEnabled(t)&&e.eventQ.add(t,null,[n._taptarget])}}))},s.prototype.setPictureUrl=function(e){this._pictureUrl=e,this.setOptions()},s}(r.RTValue);r.MapPushpin=o;var a=function(e){function o(){e.apply(this,arguments)}return __extends(o,e),o.mk=function(e,t,n,i){var r=new o;return r._locations=e,r._fill=t,r._stroke=n,r._thickness=i,r},o.prototype.addToMap=function(e){var t,n=this._locations.a.map(function(e){return new Microsoft.Maps.Location(e.latitude(),e.longitude())}),i={strokeColor:new Microsoft.Maps.Color(this._stroke.a,this._stroke.r,this._stroke.g,this._stroke.b),strokeThickness:Math.floor(Math.max(1,this._thickness))};this._fill?(i.fillColor=new Microsoft.Maps.Color(this._fill.a,this._fill.r,this._fill.g,this._fill.b),t=new Microsoft.Maps.Polygon(n,i)):t=new Microsoft.Maps.Polyline(n,i),e.entities.push(t)},o}(r.RTValue);r.MapLine=a;var e=function(t){function n(){t.apply(this,arguments),this._full=!1,this._zoom=12,this._center=void 0,this._pushpins=[],this._lines=[]}return __extends(n,t),n.mk=function(e){var t=new n;return t._full=e,t},n.prototype.zoom=function(){return this.syncView(),this._zoom},n.prototype.set_zoom=function(e){this.syncView(),this._zoom=e,this.updateView()},n.prototype.center=function(){return this.syncView(),this._center},n.prototype.set_center=function(e){this.syncView(),this._center=e,this.updateView()},n.prototype.add_text=function(e,t,n,i){var r=o.mk(e,t,n,i);return this._pushpins.push(r),r.addToMap(this._map),r},n.prototype.add_link=function(e,t,n){var i=e.location();if(i){var r=o.mk(i,e.name()||e.address(),t,n,"image"==e.kind()?e.address():null);return this._pushpins.push(r),r.addToMap(this._map),r}},n.prototype.add_message=function(e,t,n){var i=e.location();return i?this.add_text(i,e.title()||e.from(),t,n):void 0},n.prototype.add_picture=function(e,t,n){var i=o.mk(e,void 0,n,void 0,void 0,t);return this._pushpins.push(i),i.addToMap(this._map),t.getUrlAsync().done(function(e){return i.setPictureUrl(e)}),i},n.prototype.add_place=function(e,t,n){var i=e.location();if(i){var r=o.mk(i,e.name(),t,n,e.picture_link(),e);return this._pushpins.push(r),r.addToMap(this._map),r}},n.prototype.add_line=function(e,t,n){var i=a.mk(e,void 0,t,n);this._lines.push(i),this._map&&i.addToMap(this._map)},n.prototype.fill_region=function(e,t,n,i){var r=a.mk(e,t,n,i);this._lines.push(r),this._map&&r.addToMap(this._map)},n.prototype.clear=function(){this._pushpins=[],this._lines=[],this._map&&this._map.entities.clear()},n.prototype.getViewCore=function(e,t){var n=this,i=c.div("");return i.style.display="inline",i.style.margin="8px 8px 8px 8px",i.style.verticalAlign="top",i.style.width="400px",i.style.height="400px",i.fullScreen=this._full,r.BingMaps.mkMapAsync(i,this.center(),this.zoom()).done(function(e){n._map=e,n._full||n._map.setOptions({width:400,height:400}),n._lines.forEach(function(e){return e.addToMap(n._map)}),n._pushpins.forEach(function(e){return e.addToMap(n._map)}),n._center||n.view_pushpins(),t.RefreshOnScreen(),n._full&&t instanceof c.WallBox&&(t.attributes.stretchwidth=1,t.attributes.stretchheight=1)}),i},n.prototype.updateView=function(){if(this._map&&this._center){var e={zoom:this._zoom};this._center&&(e.center=new Microsoft.Maps.Location(this._center.latitude(),this._center.longitude())),this._map.setView(e)}},n.prototype.syncView=function(){if(this._map){var e=this._map.getCenter();this._center=r.Location_.mkShort(e.latitude,e.longitude),this._zoom=this._map.getZoom()}},n.prototype.view_pushpins=function(){if(this.syncView(),this._map&&0<this._pushpins.length){var e=this._pushpins.map(function(e){return new Microsoft.Maps.Location(e.location().latitude(),e.location().longitude())}),t=Microsoft.Maps.LocationRect.fromLocations(e);this._map.setView({bounds:t}),this.syncView()}},n.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},n}(r.RTValue);r.Map=e}(c.RT||(c.RT={}))}(TDev||(TDev={})),function(s){var c;(function(e){function r(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=void 0);var i="http://www.bing.com/maps/?v=2&cp="+encodeURIComponent(e.latitude().toString())+"~"+encodeURIComponent(e.longitude().toString());return t&&(i+="&q="+encodeURIComponent(t)),n&&(i+="&zoom="+(1+18*Math.max(0,Math.min(1,n)))),i+="&lvl=12"}e.create_map=function(){return c.Map.mk(!1)},e.create_full_map=function(){return c.Map.mk(!0)},e.directions=function(e,t,n,o){if(e.equals(t)){var i=c.Collections.create_location_collection();return i.add(e),i.add(t),void o.resumeVal(i)}var r="runtime/maps/directions?fromLat="+encodeURIComponent(e.latitude().toString())+"&fromLong="+encodeURIComponent(e.longitude().toString())+"&toLat="+encodeURIComponent(t.latitude().toString())+"&toLong="+encodeURIComponent(t.longitude().toString())+"&walking="+(n?"true":"false"),a=c.WebRequest.mk(s.Cloud.getPrivateApiUrl(r),void 0);o.progress("Getting directions..."),a.sendAsync().then(function(e){try{var t=void 0,n=e.content_as_json();if(n){t=c.Collections.create_location_collection();for(var i=0;i<n.count();++i){var r=n.at(i);t.add(c.Location_.mkShort(r.number("latitude"),r.number("longitude")))}}o.resumeVal(t)}catch(e){c.Time.log("locations describe failed, "+e.message),o.resumeVal(void 0)}}).done()},e.open_directions=function(e,t,n,i,r){var o="http://www.bing.com/maps/?v=2&rtp=";e?o+="adr."+encodeURIComponent(e):t&&(o+="pos."+encodeURIComponent(t.latitude().toString())+"_"+encodeURIComponent(t.longitude().toString())),o+="~",n?o+="adr."+encodeURIComponent(n):i&&(o+="pos."+encodeURIComponent(i.latitude().toString())+"_"+encodeURIComponent(i.longitude().toString())),o+="&lvl=12",c.Web.browse(o,r)},e.mapUrl=r,e.open_map=function(e,t,n,i){c.Web.browse(r(e,t,n),i)}})((c=s.RT||(s.RT={})).Maps||(c.Maps={}))}(TDev||(TDev={})),function(l){var u;(function(i){function e(){return l.Random.normalized()}function t(e,t){return 0==t||1==t?NaN:Math.log(e)/Math.log(t)}function r(e){return n(e)||o(e)}function n(e){return e==Number.POSITIVE_INFINITY}function o(e){return e==Number.NEGATIVE_INFINITY}function a(e){return isNaN(e)}i.map_range=function(e,t,n,i,r){return u.Bits.add_int32(i,u.Bits.multiply_int32(u.Bits.subtract_int32(e,t),u.Bits.divide_int32(u.Bits.subtract_int32(r,i),u.Bits.subtract_int32(n,t))))},i.create_matrix=function(e,t){return u.Matrix.mk(e,t)},i.ceiling=function(e){return Math.ceil(e)},i.floor=function(e){return Math.floor(e)},i.pow=function(e,t){return Math.pow(e,t)},i.random_range=function(e,t){var n=i.random(t-e+1);if(null!=n)return e+n},i.random=function(e){var t=Math.round(e);if(0==t)return 0;if(!r(t)&&!a(t)){for(var n=t;n==t;)n=l.Random.normalized()*t;return Math.floor(n)}},i.random_normalized=e,i.rand_norm=function(){return e()},i.div=function(e,t){return e/t|0},i.mod=function(e,t){return e%t},i.abs=function(e){return Math.abs(e)},i.acos=function(e){return Math.acos(e)},i.asin=function(e){return Math.asin(e)},i.atan=function(e){return Math.atan(e)},i.atan2=function(e,t){return Math.atan2(e,t)},i.cos=function(e){return Math.cos(e)},i.e=function(){return Math.E},i.exp=function(e){return Math.exp(e)},i.log=t,i.loge=function(e){return Math.log(e)},i.log10=function(e){return t(e,10)},i.max=function(e,t){return Math.max(e,t)},i.min=function(e,t){return Math.min(e,t)},i.pi=function(){return Math.PI},i.gravity=function(){return 9.80665},i.round=function(e){return e<0?Math.ceil(e-.5):Math.floor(e+.5)},i.sign=function(e){return e<0?-1:0<e?1:0},i.sin=function(e){return Math.sin(e)},i.sqrt=function(e){return Math.sqrt(e)},i.tan=function(e){return Math.tan(e)},i.deg_to_rad=function(e){return e/180*Math.PI},i.rad_to_deg=function(e){return e/Math.PI*180},i.pos_inf=function(){return Number.POSITIVE_INFINITY},i.neg_inf=function(){return Number.NEGATIVE_INFINITY},i.is_inf=r,i.is_pos_inf=n,i.is_neg_inf=o,i.is_nan=a,i.round_with_precision=function(e,t){if(t<=0)return Math.round(e);var n=Math.pow(10,t);return Math.round(e*n)/n},i.cosh=function(e){return(Math.pow(i.e(),2*e)+1)/(2*Math.pow(i.e(),e))},i.sinh=function(e){return(Math.pow(i.e(),2*e)-1)/(2*Math.pow(i.e(),e))},i.tanh=function(e){return(Math.pow(i.e(),2*e)-1)/(Math.pow(i.e(),2*e)+1)},i.create_number_map=function(){return u.Collections.create_number_map()},i.create_vector3=function(e,t,n){return u.Vector3.mk(e,t,n)};var s=-1;function c(e,t,n){return n<e?e:t<n?t:n}i.epsilon=function(){if(s<0)for(s=1;1+s!=1;)s/=2;return s},i.clamp=c,i.normalize=function(e){return c(0,1,e)},i.ieee_remainder=function(e,t){return e-t*Math.round(e/t)},i.range=function(e,t){for(var n=[],i=0;i<t;++i)n.push(e+i);return u.Collection.fromArray(n,"number")}})((u=l.RT||(l.RT={})).Math_||(u.Math_={}))}(TDev||(TDev={})),function(c){var l;(function(e){function n(a,s){void 0===a&&(a="choose a picture"),void 0===s&&(s="");var i=navigator.camera;return i?new c.Promise(function(t,e,n){i.getPicture(function(e){t(l.Picture.fromUrlSync(e,!1,!1))},function(e){c.RT.App.logEvent(l.App.DEBUG,"senses","choose picture failed: "+e,void 0),t(void 0)},{quality:85,mediaType:window.Camera.MediaType.JPEG,sourceType:window.Camera.PictureSourceType.PHOTOLIBRARY,destinationType:window.Camera.DestinationType.FILE_URI})}):new c.Promise(function(e,t,n){var i=new c.ModalDialog,r=c.HTML.mkImageInput(!0,-1),o=null;i.add([c.div("wall-dialog-header",a),c.div("wall-dialog-body",s),c.div("wall-dialog-input",r.element),c.div("wall-dialog-buttons",c.HTML.mkButtonOnce("ok",function(){r.readAsync().then(function(e){return e?l.Picture.fromUrl(e):c.Promise.as(null)}).then(function(e){return(o=e)?e.initAsync():null}).done(function(){i.dismiss()})}))]),i.onDismiss=function(){return e(o)},i.show()})}e.rt_start=function(e){},e.rt_stop=function(e){l.AudioContextManager.stop()},e.tone=function(e,t){l.Math_.is_nan(e)||l.Math_.is_nan(t)||(e<=0?l.AudioContextManager.stop():l.AudioContextManager.tone(e,t))},e.play_note=function(e,t,n,i){l.Math_.is_nan(e)||l.Math_.is_nan(t)||l.Math_.is_nan(n)||n<=0||(e<=0?l.AudioContextManager.stop():(l.AudioContextManager.tone(e,t),c.Util.setTimeout(1e3*n,function(){l.AudioContextManager.tone(e,0),c.Util.setTimeout(40,function(){i.resume()})})))},e.create_picture=function(e,t){return l.Picture.mk(e,t)},e.pictureUriForMedia=function(e,t){return e},e.pictureDataUriAsync=function(e){return c.Promise.as(void 0)},e.choosePictureAsync=n,e.choose_picture=function(t){return n().done(function(e){return t.resumeVal(e)})},e.create_board=function(e,t){return l.Board.mk(t.rt,!1,456,e,!1)},e.create_full_board=function(e){return l.Board.mk(e.rt,!1,480,800,!0)},e.create_portrait_board=function(e,t,n){return l.Board.mk(n.rt,!1,e,t,!0)},e.create_landscape_board=function(e,t,n){return l.Board.mk(n.rt,!0,e,t,!0)};var i=["123","8ball","abc","acorn","add","addcircle","addfolder","addressbook","adduser","adminuser","airplane","aligncenter","alignleft","alignright","almostequal","alram","anchor","appointment","approvebutton","arrowbox","arrowcirclealt","arrow-circle-r","arrowcirclerounded","arrowdotted","arrowdownl","arrowdownr","arrowdownrounded","arrowhead","arrowlarge","arrowlr","arrowmoving","arrowr","arrowrlarge","arrowrounded","arrowstandard","arrowstandardcircle","award","barchart","beer","bell","binoculars","blankpage","bold","bolt","bomb","book","bookmark","briefcase","brush","bulletlist","bullseye","business","businesscard","businessperson","butterfly","cactus","calculator","callout","camera","capitalize","caution","chapback","chapbackcircle","chapforward","chargingbattery","check","checkalt","checkbox","checkcircle","checkcirclealt","cherry","clipboard","clock","clover","club","coffeecup","command","commandline","construction","contacts","controller","controls","copyright","creditcard","cube","cut","cycle","dashboard","delete","deleteuser","deliverytruck","directions","document","documents","documentsalt","dollar","downbox","download","downloadbutton","downloadbuttonalt","downloadpage","drawing","email","emaildoc","emailopen","emergency","emptybattery","erase","euro","exclamation","exclamationcircle","exclamationcirclealt","exit","expand","eye","farm","female","files","film","fire","fit","fithorizontal","flag","fleurdelis","flipchart","flowchart","folder","formattext","forward","forwardbutton","fourcolumn","fullbattery","funnel","gaspump","globe","globea","globeas","globeaus","globeeua","globesa","globeus","government","gps","grapes","graph","group","halfbattery","hammer","headphones","heart","heartalt","help","home","homealt","horn","horseshoe","hourglass","im","inbox","info","infocircle","infocirclealt","italic","journal","joystick","justified","key","lab","ladder","leaf","lightbulb","linechart","link","loading","loadingalt","location","lock","lockedfolder","male","map","martini","maximize","megaphone","mic","minusbox","minusboxalt","mobilephone","money","monitor","moon","mountains","movie","mp3player","multiply","multiplycircle","music","mute","needle","newpage","newpagealt","nextscenebutton","ninecolumn","notebook","numberedlist","omega","openfolder","package","pagecurl","paint","painting","paperclip","pause","pausecircle","pear","pen","penalt","pencil","person","phone","photo","photos","pie","piechart","play","playbutton","playcircle","plusbox","plusboxalt","pluscircle","pound","power","presentation","pricetag","printer","pushpin","question","questioncircle","questioncirclealt","quote","raindrop","reading","recycle","removebutton","removefolder","removepage","removeuser","restore","revert","rewind","rewindcircle","ribbon","runningman","save","savealt","screwdriver","search","setting","settings","share","sharethis","shield","shirt","shoppingbag","shoppingbasket","shoppingcart","shoppingcartalt","shrink","shuffle","signal","signalalt","sixcolumn","smartphone","smiliehappy","smiliehappyalt","smiliejustok","smiliejustokalt","smiliesad","smiliesadalt","sms","smsalt","snowflake","sort","sortaz","sound","soundhigh","soundlow","space","spade","split","stacks","star","staralt","strikeout","subtract","subtractcircle","suitcase","sun","switch","tableft","tabright","tanktop","target","terminal","text","threecolumn","thumbsdown","ticket","tools","touchpad","trash","tree","umbrella","underline","unlock","upbox","upload","video","videocam","wand","warning","warningalt","watch","weather","wheel","wifi","wine","workorder","wrench","writepage","yen","zoomin","zoomout"];function t(e,t){if(!(i.indexOf(e.toLowerCase())<0))return l.Picture.fromSVGIcon(e.toLowerCase(),t)}e.icon_names=function(){return l.Collection.mkStrings(i.slice(0))},e.icon=function(e){return t(e,48)},e.large_icon=function(e){return t(e,96)}})((l=c.RT||(c.RT={})).Media||(l.Media={}))}(TDev||(TDev={})),function(s){var c,e;c=s.RT||(s.RT={}),e=function(t){function n(){t.call(this),this._id=void 0,this._title=void 0,this._message=void 0,this._from=void 0,this._to=void 0,this._picture_link=void 0,this._link=void 0,this._media_link=void 0,this._location=void 0,this._time=void 0,this._source=void 0,this._values=new c.StringMap}return __extends(n,t),n.mk=function(e){var t=new n;return t.set_message(e),t.set_source(""),t.set_from(s.lf("me")),t},n.prototype.title=function(){return this._title},n.prototype.set_title=function(e){this._title=e},n.prototype.message=function(){return this._message},n.prototype.set_message=function(e){this._message=e},n.prototype.id=function(){return this._id},n.prototype.set_id=function(e){this._id=e},n.prototype.from=function(){return this._from},n.prototype.set_from=function(e){this._from=e},n.prototype.to=function(){return this._to},n.prototype.set_to=function(e){this._to=e},n.prototype.picture_link=function(){return this._picture_link},n.prototype.set_picture_link=function(e){this._picture_link=e},n.prototype.link=function(){return this._link},n.prototype.set_link=function(e){this._link=e},n.prototype.media_link=function(){return this._media_link},n.prototype.set_media_link=function(e){this._media_link=e},n.prototype.location=function(){return this._location},n.prototype.set_location=function(e){this._location=e},n.prototype.time=function(){return this._time||c.DateTime.defaultValue},n.prototype.set_time=function(e){this._time=e},n.prototype.source=function(){return this._source},n.prototype.set_source=function(e){this._source=e},n.prototype.toString=function(){var e="";return this.title()&&(e+=this.title()+"\n"),this.message()&&(e+=this.message()+"\n"),this.from()&&"me"!=this.from()&&(e+="from "+this.from()+"\n"),this.to()&&(e+="to "+this.to()+"\n"),this.link()&&(e+="at "+this.link()+"\n"),this.picture_link()&&(e+="with "+this.picture_link()+"\n"),this.media_link()&&(e+="with "+this.media_link()+"\n"),this.location()&&(e+="at location "+this.location().toString()+"\n"),this.source()&&(e+="source "+this.source()+"\n"),this.time()&&!this.time().isDefaultValue()&&(e+=this.time().from_now()+"\n"),e},n.prototype.getViewCore=function(e,t){var n=this,i=s.div("item");this.picture_link()&&i.appendChild(s.img("item-image",this.picture_link(),"linked picture"));var r=s.div("item-info");i.appendChild(r),this.from()&&r.appendChild(s.div("item-title",this.from())),this.title()&&r.appendChild(s.div("item-subtitle",this.title())),this.message()&&r.appendChild(s.div("item-description",s.tweetify(this.message())));var o=this.source()||"";if(this.time()&&!this.time().isDefaultValue()&&(o+=" "+this.time().from_now()),r.appendChild(s.div("item-subtle",o)),this.link()||this.media_link()){var a=function(){return c.Web.browseAsync(n.link()).done()};this.media_link()&&(a=function(){return c.Web.play_media(n.media_link())}),t.withClick(a)}return i},n.prototype.share=function(e,t){s.HTML.showProgressNotification(s.lf("sharing message...")),c.ShareManager.shareTextAsync(this.toString(),e).done(function(){return t.resume()})},n.prototype.values=function(){return this._values},n.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},n}(c.RTValue),c.Message=e}(TDev||(TDev={})),function(n){var t,e;t=n.RT||(n.RT={}),(e=t.Number_||(t.Number_={})).to_string=function(e){return e.toString()},e.fromArtUrl=function(e){return n.Promise.wrap(t.String_.to_number(e))},e.post_to_wall=function(e,t){t.rt.postBoxedText(e.toString(),t.pc)},e.to_character=function(e){var t=Math.round(e);if(!(t<-32768||65535<t))return t&=65535,String.fromCharCode(t)},e.to_color=function(e){return t.Color.fromInt32(e)},e.picker=function(){var t=n.HTML.mkTextInput("number",n.lf("number"));return{html:t,validate:function(){return/^[+-]?[0-9]+(\.[0-9]+)?$/.test(t.value)},get:function(){return parseFloat(t.value)},set:function(e){t.value=e+""}}},e.to_json=function(e){return t.JsonObject.wrap(e)},e.add=function(e,t){return 0},e.subtract=function(e,t){return 0},e.multiply=function(e,t){return 0},e.divide=function(e,t){return 0},e.eq=function(e,t){return!1},e.neq=function(e,t){return!1},e.le=function(e,t){return!1},e.lt=function(e,t){return!1},e.ge=function(e,t){return!1},e.gt=function(e,t){return!1}}(TDev||(TDev={})),function(o){var n,e;n=o.RT||(o.RT={}),e=function(t){function e(){t.call(this),this.items=new Object,this.length=0,this._canvas=void 0}return __extends(e,t),e.prototype.count=function(){return this.length},e.prototype.clear=function(){this.items=new Object,this.length=0},e.prototype.sum=function(){var n=this,i=0;return Object.keys(this.items).forEach(function(e){var t=n.at_key(e);i+=t}),i},e.prototype.avg=function(){return this.sum()/this.length},e.prototype.slice=function(i,r){var o=this,a=new e;return Object.keys(this.items).forEach(function(e){var t=o.at_key(e),n=parseFloat(e);i<=n&&n<r&&a.set_at_key(e,t)}),a},e.prototype.min=function(){var n=this;if(0!=this.length){var i=Number.MAX_VALUE;return Object.keys(this.items).forEach(function(e){var t=n.at_key(e);t<i&&(i=t)}),i}},e.prototype.max=function(){var n=this;if(0!=this.length){var i=Number.MIN_VALUE;return Object.keys(this.items).forEach(function(e){var t=n.at_key(e);i<t&&(i=t)}),i}},e.prototype.at_key=function(e){var t=this.items[e];return t||0},e.prototype.at=function(e){var t=e.toString();return this.at_key(t)},e.prototype.set_at=function(e,t){var n=e.toString();this.set_at_key(n,t)},e.prototype.set_at_key=function(e,t){null!=this.items[e]&&this.length--,null!=(this.items[e]=t)&&this.length++},e.prototype.set_many=function(n){var i=this;Object.keys(n.items).forEach(function(e){var t=n.at_key(e);i.set_at_key(e,t)})},e.prototype.remove=function(e){null!=this.items[e]&&(this.length--,this.items[e]=void 0)},e.prototype.toString=function(){var n=this,i="{",r=0;return Object.keys(this.items).forEach(function(e){if(r++<=20){var t=n.at_key(e);1<i.length&&(i+=", "),i+=e+"->"+t}}),20==r&&(i+=", ..."),i+="}"},e.prototype.get_enumerator=function(){var e=Object.keys(this.items).map(parseFloat);return e.sort(function(e,t){return e-t}),e},e.prototype.update_on_wall=function(){this.updateCanvas()},e.prototype.updateCanvas=function(){var i=this;if(this._canvas){this._canvas.height=this._canvas.width;var r=[];Object.keys(this.items).forEach(function(e){var t=parseFloat(e),n=i.at_key(e);r.push(new o.RT.Charts.Point(t,n))}),(new o.RT.Charts.CanvasChart).drawChart(this._canvas,r)}},e.prototype.updateViewCore=function(e,t){this.updateCanvas()},e.prototype.getViewCore=function(e,t){return this._canvas=document.createElement("canvas"),this._canvas},e.prototype.to_json=function(){return n.JsonObject.wrap(this.exportJson(null))},e.prototype.from_json=function(e){this.importJson(null,e.value())},e.prototype.exportJson=function(e){var t=this,n={};return Object.keys(this.items).forEach(function(e){n[e]=t.items[e]}),n},e.prototype.importJson=function(e,n){var i=this;if("object"!=typeof n||Array.isArray(n))return this.clear(),this;this.items={},this.length=0,Object.keys(n).forEach(function(e){var t=n[e];"number"==typeof t&&(i.items[e]=t,i.length++)})},e.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},e.prototype.debuggerDisplay=function(e){return o.span(null,"NumberMap["+this.length+"]").withClick(e)},e.prototype.debuggerChildren=function(){var t={},n=this.items;return Object.keys(n).forEach(function(e){t["at("+e+")"]=n[e]}),t},e}(n.RTValue),n.NumberMap=e}(TDev||(TDev={})),function(e){var t,n;t=e.RT||(e.RT={}),n=function(e){function n(){e.call(this)}return __extends(n,e),n.mk=function(e){if(e){var t=new n;return t.page=e,t}},n.prototype.on_navigated_from=function(e){return this.page.onNavigatedFrom.addHandler(e)},n.prototype.equals=function(e){return this.page===e.page},n.prototype.post_to_wall=function(){},n}(t.RTValue),t.Page=n}(TDev||(TDev={})),function(t){var n,e;n=t.RT||(t.RT={}),e=function(e){function r(){e.call(this)}return __extends(r,e),r.mk=function(e,t,n){var i=new r;return i._icon=e,i._text=t,i._page=n,i},r.prototype.page=function(){return this._page},r.prototype.equals=function(e){return this===e},r.prototype.post_to_wall=function(e){},r.prototype.icon=function(){return this._icon},r.prototype.text=function(){return this._text},r.prototype.getElement=function(){return this._element||(this._element=t.HTML.mkButtonElt("topMenu-button",[t.div("topMenu-button-frame",n.PageButtonManager.getIconElement(this._icon)),t.div("topMenu-button-desc",this._text)]),this._element.style.display="inline-block"),this._element},r}(n.RTValue),n.PageButton=e}(TDev||(TDev={})),function(n){var e,t,i;e=n.RT||(n.RT={}),t=e.PageButtonManager||(e.PageButtonManager={}),i={add:"add",back:"back",cancel:"cancel",check:"check",close:"cancel",delete:"delete",download:"download",edit:"edit","favs.addto":"heart",favs:"star","feature.camera":"camera","feature.email":"email","feature.search":"search","feature.settings":"settings","feature.video":"video",folder:"folder",minus:"subtract",new:"newpage",next:"forward",questionmark:"question",refresh:"recycle",save:"save",share:"sharethis",stop:"stop",sync:"cycle","transport.ff":"forward","transport.pause":"pause","transport.play":"play","transport.rew":"rewind",upload:"upload"},t.getIconElement=function(e){var t=i[e];return t?n.HTML.mkImg("svg:"+t+",currentColor"):n.span("",e.slice(0,1))}}(TDev||(TDev={})),function(e){var r,t;r=e.RT||(e.RT={}),(t=r.Phone||(r.Phone={})).dial_phone_number=function(t,n){var i=new e.ModalDialog;i.add([e.div("wall-dialog-header",e.lf("call number")),e.div("wall-dialog-body",t)]),e.Browser.isCellphone?i.add(e.div("wall-dialog-body",e.lf("note: install the Skype app to place Skype calls."))):i.add(e.div("wall-dialog-body",e.lf("note: Phone calls might not be supported on this platform. Install the Skype app to place Skype calls."))),i.add(e.div("wall-dialog-buttons",[e.HTML.mkButton(e.lf("call"),function(){i.onDismiss=null,i.dismiss();var e="tel:"+encodeURIComponent(t||" ");r.Web.browse(e,n)}),e.HTML.mkButton(e.lf("Skype"),function(){i.onDismiss=null,i.dismiss();var e="skype:"+encodeURIComponent(t||" ");r.Web.browse(e,n)})])),i.onDismiss=function(){return n.resume()},i.show()},t.save_phone_number=function(e){},t.save_contact=function(e){r.Social.save_contact(e)},t.vibrate=function(e){t.vibrateCore(e)},t.vibrateCore=function(e){if(window.navigator.vibrate){var t=1e3*Math.min(5,Math.max(.02,e));window.navigator.vibrate(t)}},t.power_source=function(e){e.resumeVal("")}}(TDev||(TDev={})),function(g){var v,e;v=g.RT||(g.RT={}),e=function(t){function f(){t.call(this),this._date=void 0,this._location=void 0,this._isResource=!1,this._isReadOnly=!1,this.imageData=null,this.imageDataHasChanges=!1,this.fitToColumn=!1}return __extends(f,t),f.prototype.clearUrl=function(){this._url=void 0},f.prototype.getReadonlyUrlSync=function(){if(this._isReadOnly&&this._url&&!this.canvas&&!/^data:/.test(this._url))return this._url},f.prototype.getUrlAsync=function(){var e=this.getReadonlyUrlSync();return e?g.Promise.as(e):this.getDataUriAsync()},f.prototype.getDataUriAsync=function(e,t){var n=this;return void 0===e&&(e=.95),void 0===t&&(t=-1),this.initAsync().then(function(){return n.commitImageData(),n.getDataUri(e,t)})},f.prototype.getImageElement=function(){if(this._isReadOnly&&this._url&&!this.canvas){g.Util.log("img: direct display "+this._url.slice(0,100));var e=g.createElement("img");return e.src=this._url,e.alt=this._url,e}},f.prototype.getDataUri=function(e,t,n){void 0===e&&(e=.9),void 0===t&&(t=-1),void 0===n&&(n=!1),this.commitImageData();var i=this.getCanvas();if(0!=i.width&&0!=i.height||((i=document.createElement("canvas")).width=1,i.height=1),0<t&&i.width>t){var r=document.createElement("canvas");r.width=t,r.height=t/i.width*i.height,r.getContext("2d").drawImage(i,0,0,i.width,i.height,0,0,r.width,r.height),i=r}return 1<=e&&!n?i.toDataURL("image/png"):i.toDataURL("image/jpeg",e)},f.mk=function(e,t){var n=new f;return n.initFn=function(){return n._init(e,t),g.Promise.as()},n},f.mkSync=function(e,t){var n=new f;return n.initPromise=g.Promise.as(),n._init(e,t),n},f.prototype.imgLoadAsync=function(o,a,s){var c=this;void 0===s&&(s=null);g.Runtime.theRuntime;return(s||!a||g.Cloud.isArtUrl(o)?g.Promise.as(!0):g.Cloud.authenticateAsync(g.lf("image proxying"))).then(function(e){return g.Util.log("picture load: 0"),s?void g.Util.log("picture load: dataurl, skipping wab request"):v.Media.pictureDataUriAsync(o)}).then(function(e){return!s&&e&&(g.Util.log("picture: updated dataurl"),s=e),new g.Promise(function(e,t,n){g.Util.log("picture: loading");var i=document.createElement("img");i.onload=function(){g.Util.log("picture: loaded "+i.width+"x"+i.height),c._init(i.width,i.height),c._url=o,c._cors=a,c.ctx.drawImage(i,0,0),r=s=i=null,e(c)},i.onerror=function(){g.Util.log("picture: failed to load"),c._init(480,480),c._url=o,c._cors=a,c.ctx.save(),c.ctx.fillStyle="lightgray",c.ctx.fillRect(0,0,480,480),c.ctx.fillStyle="white",c.ctx.textAlign="center",c.ctx.textBaseline="top",c.ctx.font="240px sans-serif",c.ctx.fillText(":(",240,60),c.ctx.font="42px sans-serif",c.ctx.fillText("picture failed to load",240,360),c.ctx.restore(),r=s=i=null,e(c)};var r=s||(a?v.Web.proxy(g.Cloud.toCdnUrl(o)):o);i.src=r,i.alt=o})})},f.prototype.delayLoadSync=function(e){return this.initFn=e,this},f.prototype.delayLoad=function(e){return this.delayLoadSync(e),g.Promise.as(this)},f.delayed=function(e){return(new f).delayLoad(e)},f.fromImage=function(e){var t=f.mkSync(e.width,e.height);return t.ctx.save(),t.ctx.drawImage(e,0,0,e.width,e.height),t.ctx.restore(),t},f.fromCanvas=function(e){var t=f.mkSync(e.width,e.height);return t.ctx.save(),t.ctx.drawImage(e,0,0,e.width,e.height),t.ctx.restore(),t},f.fromDataUrl=function(t,n,e){if(void 0===n&&(n=null),void 0===e&&(e=!1),!t)return g.Promise.as(null);g.Util.log("picture: loading from dataurl"),g.Util.check(/^data:image\/(jpeg|png|svg\+xml);base64,/i.test(t));var i=new f;return i._isResource=e,i._isReadOnly=e,i.delayLoad(function(e){return e.imgLoadAsync(n,!1,t)})},f.fromUrlSync=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!0);var i=new f;return i._url=t,i._isResource=!1,i._isReadOnly=e,i.delayLoadSync(function(e){return e.loadAsync(t,n)})},f.fromUrl=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),g.Promise.as(f.fromUrlSync(e,t,n))},f.patchLocalArtUrl=function(e){return e},f.fromArtUrl=function(t){if(/^data:image\/(jpeg|png|svg\+xml);base64,/i.test(t))return f.fromDataUrl(t,void 0,!0);var n=!0;return/^\.\/art\//.test(t)&&(t=f.patchLocalArtUrl(t),n=!1),v.ArtCache.getArtAsync(t,"image/*").then(function(){g.Util.log("picture: fromArtUrl delayed");var e=new f;return e._url=t,e._isResource=!0,e._isReadOnly=!0,e.delayLoad(function(e){return e.loadAsync(t,n)})})},f.prototype.loadAsync=function(t,n){var i=this;return/^data:image\/(jpeg|png|svg\+xml);base64,/i.test(t)?this.imgLoadAsync(t,!1,t):this._isResource||g.Cloud.isArtUrl(t)?v.ArtCache.getArtAsync(t,"image/*").then(function(e){return i.imgLoadAsync(t,n,e)}):this.imgLoadAsync(t,n)},f.fromSVGIcon=function(e,t){var n=f.mkSync(t,t);n.ctx.save();var i=t/480;return n.ctx.fillStyle="white",n.ctx.scale(i,i),g.SVG.drawSVG(n.ctx,e),n.ctx.restore(),n.fitToColumn=!1,n},f.prototype._init=function(e,t){e=Math.round(e),t=Math.round(t),this.slowlyloadingelement=void 0,this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=t,this.ctx=this.canvas.getContext("2d")},f.prototype.commitImageData=function(){this.imageDataHasChanges&&(this.imageDataHasChanges=!1,this.ctx.putImageData(this.imageData,0,0))},f.prototype.changed=function(e){void 0===e&&(e=!0),this._isReadOnly&&g.Util.userError(g.lf("This picture cannot be modified. Use 'clone' to get a copy of the picture that can be modified.\n\n    var pic := ✿my art->clone")),e&&(this.commitImageData(),this.imageData=null),this.versioncounter++,this._url=void 0},f.prototype.getImageData=function(){return g.Util.assert(!!this.ctx),this.imageData||(this.imageData=this.ctx.getImageData(0,0,this.widthSync(),this.heightSync())),this.imageData},f.prototype.hasCanvas=function(){return!!this.canvas},f.prototype.widthSync=function(){return this.canvas.width},f.prototype.heightSync=function(){return this.canvas.height},f.prototype.getCanvas=function(){return g.Util.assert(!!this.canvas),this.canvas},f.prototype.count=function(e){var t=this;this.loadFirst(e,function(){return t.canvas.width*t.canvas.height})},f.prototype.date=function(e){var t=this;this.loadFirst(e,function(){return t._date})},f.prototype.height=function(e){var t=this;this.loadFirst(e,function(){return t.canvas.height})},f.prototype.equals=function(e){return this==e},f.prototype.is_panorama=function(e){var t=this;this.loadFirst(e,function(){return t.canvas.width>t.canvas.height})},f.prototype.location=function(e){var t=this;this.loadFirst(e,function(){return t._location})},f.prototype.width=function(e){var t=this;this.loadFirst(e,function(){return t.canvas.width})},f.prototype.update_on_wall=function(){this.imageData&&this.ctx.putImageData(this.imageData,0,0)},f.prototype.at=function(t,e){var n=this;this.loadFirst(e,function(){if(isNaN(t))return v.Colors.transparent();t=Math.round(t),t*=4;var e=n.getImageData();return t<0||t>=e.data.length?v.Colors.transparent():v.Color.fromArgb(e.data[t+3],e.data[t],e.data[t+1],e.data[t+2])})},f.prototype.initAsync=function(){var e=this;if(this.initPromise)return this.initPromise;var t=this.initFn;return t&&(this.initFn=null,this.initPromise=t(this),this.initPromise.done(function(){e.initPromise=null}),this.initPromise)?this.initPromise:g.Promise.as()},f.prototype.loadFirst=function(e,t){g.Util.assert(!!e),this.initPromise||this.initFn?this.initAsync().done(function(){t?e.resumeVal(t()):e.resume()}):t?e.resumeVal(t()):e.resume()},f.prototype.atPosition=function(e,t,n,i,r,o){var a=this;this.loadFirst(e,function(){a.changed(),a.ctx.save(),a.ctx.translate(t,n),a.ctx.rotate(i/180*Math.PI),a.ctx.globalAlpha=v.Math_.normalize(r),o(),a.ctx.restore()})},f.prototype.blend=function(e,t,n,i,r,o){var a=this;r=v.Math_.normalize(r),this.atPosition(o,t,n,i,r,function(){e.initAsync().done(function(){return a.ctx.drawImage(e.getCanvas(),0,0)})})},f.prototype.clone=function(e){var t=this;this.loadFirst(e,function(){t.commitImageData();var e=f.mkSync(t.widthSync(),t.heightSync());return e.ctx.drawImage(t.canvas,0,0),e._url=t._url,e._cors=t._cors,e._date=t._date,e._location=t._location,e})},f.prototype.fill_rect=function(e,t,n,i,r,o,a){var s=this;this.atPosition(a,e,t,r,o.A(),function(){s.ctx.fillStyle=o.toHtml(),s.ctx.fillRect(0,0,n,i)})},f.prototype.pixel=function(e,t,n){var i=this;this.initAsync().done(function(){e=Math.round(e),t=Math.round(t),i.at(e+t*i.widthSync(),n)})},f.prototype.getViewCanvasClone=function(){this.commitImageData();var e=document.createElement("canvas");return e.width=this.widthSync(),e.height=this.heightSync(),e.getContext("2d").drawImage(this.canvas,0,0),e},f.prototype.getViewCanvas=function(){if(this.commitImageData(),this.canvas.parentElement||g.LayoutMgr.RenderExecutionMode()){var e=document.createElement("canvas");e.width=this.widthSync(),e.height=this.heightSync();var t=e.getContext("2d");t.drawImage(this.canvas,0,0),this.canvas=e,this.ctx=t,this.slowlyloadingelement=void 0}if(this.fitToColumn=!g.LayoutMgr.RenderExecutionMode(),this.fitToColumn&&0<this.heightSync()&&0<this.widthSync()){var n=this.heightSync()/this.widthSync(),i=g.SizeMgr.getColumnWidth();this.widthSync()>i&&(this.canvas.style.width=i+"px",this.canvas.style.height=i*n+"px")}return this.canvas},f.prototype.getViewCore=function(e,t){var n=this,i=g.div("viewPicture"),r=this.getImageElement();return r?(r.setAttribute("class","wall-picture"),this.slowlyloadingelement=r):(this.slowlyloadingelement=void 0,this.initAsync().done(function(){n.commitImageData(),i.setChildren(n.getViewCanvas()),t.RefreshOnScreen()}),i)},f.prototype.updateViewCore=function(t,n){var i=this;g.LayoutMgr.RenderExecutionMode()&&this.slowlyloadingelement&&(this.slowlyloadingelement.onload=function(){if(i.slowlyloadingelement.offsetParent){var e=i.getViewCore(t,n);e.onload=function(){n.RefreshOnScreen()},e.onerror=function(){n.SwapImageContent(f.errorPic())},n.SwapImageContent(e)}else n.RefreshOnScreen()},this.slowlyloadingelement.onerror=function(){n.SwapImageContent(f.errorPic())})},f.errorPic=function(){var e=g.div(null,":("),t=g.div(null,g.lf("picture failed to load")),n=g.div(null,e,document.createElement("br"),t);return n.style.background="lightgray",n.style.fontFamily="sans-serif",n.style.color="white",e.style.fontSize="240px",t.style.marginBottom="1em",t.style.marginLeft="1em",t.style.fontSize="42px",n.style.height="480px",n.style.width="480px",n},f.prototype.resize=function(i,r,e){var o=this;this.loadFirst(e,function(){if(o.changed(),i=Math.round(i),r=Math.round(r),i<1&&(i=Math.floor(o.widthSync()/o.heightSync()*r)),r<1&&(r=Math.floor(o.heightSync()/o.widthSync()*i)),i!=o.widthSync()||r!=o.heightSync()){var e=o.widthSync(),t=o.heightSync(),n=document.createElement("canvas");n.width=e,n.height=t,n.getContext("2d").drawImage(o.canvas,0,0,e,t),o.canvas.width=i,o.canvas.height=r,o.ctx.save(),o.ctx.drawImage(n,0,0,e,t,0,0,i,r),o.ctx.restore()}})},f.prototype.save_to_library=function(e){var n=this;g.HTML.showProgressNotification(g.lf("saving picture")),this.loadFirst(e,function(){var e=f.niceFilename()+".png";if(window.navigator.msSaveOrOpenBlob)try{window.navigator.msSaveOrOpenBlob(n.canvas.msToBlob(),e);return e}catch(e){return g.HTML.showProgressNotification(g.lf("saving picture failed...")),""}else{var t=n.canvas.toDataURL("image/png");g.HTML.browserDownload(t,g.Util.toFileName(e,"pic"))}return e})},f.prototype.clear=function(e,t){var n=this;this.loadFirst(t,function(){n.changed(),n.ctx.save(),n.ctx.clearRect(0,0,n.widthSync(),n.heightSync()),n.ctx.fillStyle=e.toHtml(),n.ctx.fillRect(0,0,n.widthSync(),n.heightSync()),n.ctx.restore()})},f.prototype.clear_rect=function(e,t,n,i,r,o){var a=this;isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||i<=0||r<=0?o.resume():this.loadFirst(o,function(){a.changed(),a.ctx.save(),a.ctx.clearRect(t,n,i,r),a.ctx.fillStyle=e.toHtml(),a.ctx.fillRect(t,n,i,r),a.ctx.restore()})},f.prototype.eraseWhiteBackgroundAsync=function(){var a=this;return this.initAsync().then(function(){a.changed(),a.ctx.save();for(var e=a.ctx.getImageData(0,0,a.widthSync(),a.heightSync()),t=e.data,n=0;n<t.length;n+=4){var i=255-t[n],r=255-t[n+1],o=255-t[n+2];i<25&&r<25&&o<25&&(t[n+3]=Math.floor((i+r+o)/75*255))}a.ctx.putImageData(e,0,0),a.ctx.restore()})},f.prototype.colorize=function(h,m,f,e){var g=this;this.loadFirst(e,function(){g.changed(),g.ctx.save();for(var e=g.ctx.getImageData(0,0,g.widthSync(),g.heightSync()),t=e.data,n=h.a,i=h.r,r=h.g,o=h.b,a=m.a,s=m.r,c=m.g,l=m.b,u=255*v.Math_.normalize(f)*3,d=0;d<t.length;d+=4){var p=t[d]+t[d+1]+t[d+2]<u;t[d]=p?i:s,t[d+1]=p?r:c,t[d+2]=p?o:l,t[d+3]=p?n:a}g.ctx.putImageData(e,0,0),g.ctx.restore()})},f.prototype.negative=function(e){var i=this;this.loadFirst(e,function(){i.changed(),i.ctx.save();for(var e=i.ctx.getImageData(0,0,i.widthSync(),i.heightSync()),t=e.data,n=0;n<t.length;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2];i.ctx.putImageData(e,0,0),i.ctx.restore()})},f.prototype.desaturate=function(e){var r=this;this.loadFirst(e,function(){r.changed(),r.ctx.save();for(var e=r.ctx.getImageData(0,0,r.widthSync(),r.heightSync()),t=e.data,n=0;n<t.length;n+=4){var i=(t[n]+t[n+1]+t[n+2])/3;t[n]=i,t[n+1]=i,t[n+2]=i}r.ctx.putImageData(e,0,0),r.ctx.restore()})},f.prototype.invert=function(e){var i=this;this.loadFirst(e,function(){i.changed(),i.ctx.save();for(var e=i.ctx.getImageData(0,0,i.widthSync(),i.heightSync()),t=e.data,n=0;n<t.length;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2];i.ctx.putImageData(e,0,0),i.ctx.restore()})},f.prototype.tint=function(h,e){var m=this;this.loadFirst(e,function(){var e=h;m.changed();var t=e.A(),n=e.R(),i=e.G(),r=e.B();m.ctx.save();for(var o=m.ctx.getImageData(0,0,m.widthSync(),m.heightSync()),a=o.data,s=0;s<a.length;s+=4){var c=a[s+3],l=a[s],u=a[s+1],d=a[s+2],p=.2126*l+.7152*u+.0722*d;c*=t,l=p*n,u=p*i,d=p*r,a[s+3]=c,a[s]=l,a[s+1]=u,a[s+2]=d}m.ctx.putImageData(o,0,0),m.ctx.restore()})},f.prototype.brightness=function(u,e){var d=this;this.loadFirst(e,function(){d.changed();var e=255*(u<-1?-1:1<u?1:u);d.ctx.save();for(var t=d.ctx.getImageData(0,0,d.widthSync(),d.heightSync()),n=t.data,i=0;i<n.length;i+=4){var r=n[i],o=n[i+1],a=n[i+2],s=r+e,c=o+e,l=a+e;r=255<s?255:s<0?0:s,o=255<c?255:c<0?0:c,a=255<l?255:l<0?0:l,n[i]=r,n[i+1]=o,n[i+2]=a}d.ctx.putImageData(t,0,0),d.ctx.restore()})},f.prototype.contrast=function(u,e){var d=this;this.loadFirst(e,function(){d.changed();var e=1+(u<-1?-1:1<u?1:u);d.ctx.save();for(var t=d.ctx.getImageData(0,0,d.widthSync(),d.heightSync()),n=t.data,i=0;i<n.length;i+=4){var r=n[i],o=n[i+1],a=n[i+2],s=r-128,c=o-128,l=a-128;s*=e,c*=e,l*=e,r=255<(s+=128)?255:s<0?0:s,o=255<(c+=128)?255:c<0?0:c,a=255<(l+=128)?255:l<0?0:l,n[i]=r,n[i+1]=o,n[i+2]=a}d.ctx.putImageData(t,0,0),d.ctx.restore()})},f.prototype.crop=function(r,o,a,s,e){var c=this;this.loadFirst(e,function(){var e=Math.round(r),t=Math.round(o),n=Math.round(a),i=Math.round(s);0!=c.widthSync()&&0!=c.heightSync()&&(e<0?e=0:e>=c.widthSync()&&(e=c.widthSync()-1),t<0?t=0:t>=c.heightSync()&&(t=c.heightSync()-1),e+n>c.widthSync()&&(n=c.widthSync()-e),t+i>c.heightSync()&&(i=c.heightSync()-t),c.cropInternal(e,t,n,i))})},f.prototype.cropInternal=function(e,t,n,i){g.Util.assertCode(0<=e&&e<this.widthSync()),g.Util.assertCode(0<=t&&t<this.heightSync()),g.Util.assertCode(0<=n&&e+n<=this.widthSync()),g.Util.assertCode(0<=i&&t+i<=this.heightSync()),this.changed();var r=void 0;0<n&&0<i&&(r=this.ctx.getImageData(e,t,n,i)),this.canvas.width=n,this.canvas.height=i,this.ctx=this.canvas.getContext("2d"),r&&this.ctx.putImageData(r,0,0)},f.prototype.draw_ellipse=function(e,t,n,i,r,o,a,s){var c=this;(isNaN(a)||a<0)&&(a=2),this.atPosition(s,e+n/2,t+i/2,r,o.A(),function(){c.ctx.scale(n/i,1),c.ctx.strokeStyle=o.toHtml(),c.ctx.lineWidth=a,c.ctx.beginPath(),c.ctx.arc(0,0,i/2,0,2*Math.PI),c.ctx.stroke()})},f.prototype.draw_line=function(e,t,n,i,r,o,a){var s=this;(isNaN(o)||o<0)&&(o=2),this.atPosition(a,0,0,0,r.A(),function(){s.ctx.beginPath(),s.ctx.strokeStyle=r.toHtml(),s.ctx.lineWidth=o,s.ctx.moveTo(e,t),s.ctx.lineTo(n,i),s.ctx.stroke()})},f.prototype.draw_rect=function(e,t,n,i,r,o,a,s){var c=this;(isNaN(a)||a<0)&&(a=2),this.atPosition(s,e,t,r,o.A(),function(){c.ctx.strokeStyle=o.toHtml(),c.ctx.lineWidth=a,c.ctx.strokeRect(0,0,n,i)})},f.prototype.draw_text=function(e,t,n,i,r,o,a){var s=this;this.atPosition(a,e,t,r,o.A(),function(){s.ctx.fillStyle=o.toHtml(),s.ctx.font=i+"px sans-serif",s.ctx.textBaseline="top",s.ctx.fillText(n,0,0)})},f.prototype.fill_ellipse=function(e,t,n,i,r,o,a){var s=this;this.atPosition(a,e+n/2,t+i/2,r,o.A(),function(){s.ctx.scale(n/i,1),s.ctx.strokeStyle=o.toHtml(),s.ctx.fillStyle=o.toHtml(),s.ctx.beginPath(),s.ctx.arc(0,0,i/2,0,2*Math.PI),s.ctx.fill()})},f.prototype.draw_path=function(e,t,n,i,r,o,a){var s=this;this.atPosition(a,e,t,n,i.A(),function(){o.split(" ");s.ctx.strokeStyle=i.toHtml(),s.ctx.lineWidth=r,s.ctx.beginPath(),f.parsePathData(s.ctx,o),s.ctx.stroke()})},f.prototype.fill_path=function(e,t,n,i,r,o){var a=this;this.atPosition(o,e,t,n,i.A(),function(){a.ctx.strokeStyle=i.toHtml(),a.ctx.fillStyle=i.toHtml(),a.ctx.beginPath(),f.parsePathData(a.ctx,r),a.ctx.fill()})},f.parseSvg=function(e,t,n){try{var i=v.XmlObject.mk(e);if(!i||"svg"!=i.name())return null;var r=parseFloat(i.attr("width")),o=parseFloat(i.attr("height"));n<0?n=t/r*o:t<0&&(t=n/o*r);var a=document.createElement("canvas");a.width=t,a.height=n;var s=a.getContext("2d");s.scale(t/r,n/o);var c=i.child("g");if(!c)return null;var l=c.attr("transform"),u=/matrix\(([^)]+)\)/.exec(l);if(u){var d=u[1].split(/[, ]/).map(function(e){return parseFloat(e)});s.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var p=c.children("");s.fillStyle="none",s.strokeStyle="none";for(var h=0;h<p.count();++h){var m=p.at(h);switch(s.save(),m.name()){case"path":if(s.beginPath(),!f.parsePathData(s,m.attr("d")))return null;f.parsePathStyle(s,m);break;case"polygon":if(s.beginPath(),!f.parsePolygonData(s,m.attr("points")))return null;s.closePath(),f.parseFillStyle(s,m),f.parseStrokeStyle(s,m);break;case"line":s.moveTo(parseFloat(m.attr("x1")),parseFloat(m.attr("y1"))),s.lineTo(parseFloat(m.attr("x2")),parseFloat(m.attr("y2"))),f.parseStrokeStyle(s,m);break;case"rect":s.rect(parseFloat(m.attr("x")),parseFloat(m.attr("y")),parseFloat(m.attr("width")),parseFloat(m.attr("height"))),f.parseFillStyle(s,m),f.parseStrokeStyle(s,m);break;default:return g.Util.log("svg rendering: unsupported command "+m.name()),null}s.restore()}return a}catch(e){return null}},f.parsePolygonData=function(e,t){if(!t)return!1;for(var n=t.split(" ").map(function(e){return e.split(",").map(function(e){return parseFloat(e)})}),i=0;i<n.length;++i){var r=n[i];0==i?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}return!0},f.parseFillStyle=function(e,t){var n=t.attr("fill");n&&(e.fillStyle=t.attr("fill")),n&&"none"==n||(e.closePath(),e.fill())},f.parseStrokeStyle=function(e,t){var n=t.attr("stroke");n&&"none"!=n&&(e.strokeStyle=n,t.attr("stroke-width")&&(e.lineWidth=parseFloat(t.attr("stroke-width"))),t.attr("stroke-linejoin")&&(e.lineJoin=t.attr("stroke-linejoin")),e.stroke())},f.parsePathStyle=function(e,t){if(!t.attr("fill")&&!t.attr("style"))return e.strokeStyle="#000000",e.closePath(),void e.fill();f.parseFillStyle(e,t),f.parseStrokeStyle(e,t);var n=t.attr("style");if(n){var i=/fill:([^;]+);/i.exec(n);i&&!/none/.test(i[1])&&(e.fillStyle=i[1],e.closePath(),e.fill()),(i=/stroke:([^;]+);/i.exec(n))&&!/none/.test(i[1])&&(e.strokeStyle=i[1],(i=/stroke-width:([^;]+);/.exec(n))&&(e.lineWidth=parseFloat(i[1])),e.stroke())}},f.applyStyle=function(e){e.fillStyle&&"none"!=e.fillStyle&&e.fill()},f.parsePathData=function(e,t){if(!t)return!1;for(var n=t.replace(/-/gm," -").replace(/[a-zA-Z]/gm," $& ").replace(/,/gm," ").split(/\s+/).filter(function(e){return!!e}),i=0,r=0,o=0,a=0,s=0,c=0,l=0,u="";s<n.length;){var d=n[s++];switch(d){case"Z":case"z":e.closePath();break;case"m":for(o=i,a=r,e.moveTo(o+=parseFloat(n[s++]),a+=parseFloat(n[s++]));s+1<n.length&&!isNaN(parseFloat(n[s]));)e.lineTo(o+=parseFloat(n[s++]),a+=parseFloat(n[s++]));i=o,r=a;break;case"M":for(e.moveTo(i=parseFloat(n[s++]),r=parseFloat(n[s++]));s+1<n.length&&!isNaN(parseFloat(n[s]));)e.lineTo(i=parseFloat(n[s++]),r=parseFloat(n[s++]));break;case"l":for(o=i,a=r;e.lineTo(o+=parseFloat(n[s++]),a+=parseFloat(n[s++])),s+1<n.length&&!isNaN(parseFloat(n[s])););i=o,r=a;break;case"L":for(;e.lineTo(i=parseFloat(n[s++]),r=parseFloat(n[s++])),s+1<n.length&&!isNaN(parseFloat(n[s])););break;case"c":o=i,a=r;do{var p=o+parseFloat(n[s++]),h=a+parseFloat(n[s++]),m=o+parseFloat(n[s++]),f=a+parseFloat(n[s++]);e.bezierCurveTo(p,h,m,f,o+=parseFloat(n[s++]),a+=parseFloat(n[s++]))}while(s+5<n.length&&!isNaN(parseFloat(n[s])));c=m,l=f,i=o,r=a;break;case"C":for(;e.bezierCurveTo(parseFloat(n[s++]),parseFloat(n[s++]),c=parseFloat(n[s++]),l=parseFloat(n[s++]),i=parseFloat(n[s++]),r=parseFloat(n[s++])),s+5<n.length&&!isNaN(parseFloat(n[s])););break;case"S":/^[CcSs]$/.test(u)||(c=i,l=r);do{m=parseFloat(n[s++]),f=parseFloat(n[s++]),p=2*i-c,h=2*r-l;e.bezierCurveTo(p,h,c=m,l=f,i=parseFloat(n[s++]),r=parseFloat(n[s++]))}while(s+3<n.length&&!isNaN(parseFloat(n[s])));break;case"s":o=i,a=r,/^[CcSs]$/.test(u)||(c=o,l=a);do{m=o+parseFloat(n[s++]),f=a+parseFloat(n[s++]),p=2*o-c,h=2*a-l;e.bezierCurveTo(p,h,c=m,l=f,o+=parseFloat(n[s++]),a+=parseFloat(n[s++]))}while(s+3<n.length&&!isNaN(parseFloat(n[s])));i=o,r=a;break;case"H":o=parseFloat(n[s++]),e.lineTo(o,r),i=o;break;case"h":o=i+parseFloat(n[s++]),e.lineTo(o,r),i=o;break;case"V":a=parseFloat(n[s++]),e.lineTo(i,a),r=a;break;case"v":a=r+parseFloat(n[s++]),e.lineTo(i,a),r=a;break;default:return g.Util.log("svg rendering: unknown path command "+d),!1}u=d}return!0},f.prototype.set_pixel=function(n,i,r,e){var o=this;this.loadFirst(e,function(){if(n=Math.round(n),i=Math.round(i),!(n<0||i<0||n>=o.widthSync()||i>=o.heightSync())){o.changed(!1),o.imageDataHasChanges=!0,o.getImageData();var e=o.imageData.data,t=4*(n+i*o.widthSync());e[t+0]=r.r,e[t+1]=r.g,e[t+2]=r.b,e[t+3]=r.a}})},f.prototype.to_buffer=function(e){var t=this;this.loadFirst(e,function(){t.changed();var e=t.getImageData();return t.imageData=null,v.Buffer.fromImageData(e)})},f.prototype.write_buffer=function(o,e){var a=this;this.loadFirst(e,function(){a.changed();var e=o.imageData;if(!e)for(var t=(e=a.ctx.createImageData(a.widthSync(),a.heightSync())).width*e.height*4,n=e.data,i=o.buffer,r=0;r<t;++r)n[r]=i[r];a.ctx.putImageData(e,0,0)})},f.prototype.share=function(e,t,n){var i=this;g.HTML.showProgressNotification(g.lf("sharing picture...")),this.initAsync().then(function(){return v.ShareManager.sharePictureAsync(i,e,t)}).done(function(){return n.resume()})},f.prototype.flip_horizontal=function(e){var t=this;this.loadFirst(e,function(){t.commitImageData(),t.changed();var e=document.createElement("canvas");e.width=t.canvas.width,e.height=t.canvas.height,e.getContext("2d").drawImage(t.canvas,0,0),t.ctx.save(),t.ctx.translate(e.width,0),t.ctx.scale(-1,1),t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height),t.ctx.drawImage(e,0,0),t.ctx.restore()})},f.prototype.flip_vertical=function(e){var t=this;this.loadFirst(e,function(){t.commitImageData(),t.changed();var e=document.createElement("canvas");e.width=t.canvas.width,e.height=t.canvas.height,e.getContext("2d").drawImage(t.canvas,0,0),t.ctx.save(),t.ctx.translate(0,t.canvas.height),t.ctx.scale(1,-1),t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height),t.ctx.drawImage(e,0,0),t.ctx.restore()})},f.prototype.to_data_uri=function(t,n){var i=this;this.loadFirst(n,function(){var e=i.getDataUri(v.Math_.normalize(t));n.resumeVal(e)})},f.prototype.blend_svg=function(e,t,n,i,r,o,a){var s=this;if(1==g.Browser.browser||2==g.Browser.browser){var c=f.parseSvg(e,i,r);if(c)return void this.atPosition(a,t,n,o,1,function(){s.ctx.drawImage(c,0,0,c.width,c.height)})}var l="data:image/svg+xml;base64,"+v.Web.base64_encode(e),u=document.createElement("img"),d=e.match(/width="(\d+)"/);d&&(u.width=parseInt(d[1]));var p=e.match(/height="(\d+)"/);p&&(u.height=parseInt(p[1]));var h=function(){s.ctx.fillStyle="lightgray",s.ctx.fillRect(0,0,100,100),s.ctx.fillStyle="white",s.ctx.textAlign="center",s.ctx.textBaseline="top",s.ctx.font="80px sans-serif",s.ctx.fillText(":(",50,0)};u.onload=function(){s.atPosition(a,t,n,o,1,function(){if(u.width&&u.height){var t=0<i?i:u.width,n=0<r?r:u.height;i<0&&0<r?t=r/u.height*u.width:r<0&&0<i&&(n=i/u.width*u.height);try{s.ctx.drawImage(u,0,0,t,n)}catch(e){try{s.ctx.drawImage(u,0,0,t,n)}catch(e){h()}}}else v.Time.log("blend_svg error: empty svg"),h()})},u.onerror=function(){v.Time.log("blend_svg error: svg load failed"),s.atPosition(a,t,n,o,1,function(){h()})},u.src=l},f.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},f.niceFilename=function(){var e=v.Time.now();return e.year()+"-"+e.month()+"-"+e.day()+"-"+e.hour()+"-"+e.minute()+"-"+e.second()+"-"+e.millisecond()},f.prototype.docs_render=function(e,t){},f.prototype.readonly_url=function(){return this.getReadonlyUrlSync()},f}(v.RTValue),v.Picture=e}(TDev||(TDev={})),function(r){var e,t;e=r.RT||(r.RT={}),t=function(t){function i(){t.call(this),this._id=void 0,this._location=void 0,this._name=void 0,this._picture_link=void 0,this._link=void 0,this._category=void 0,this._source=void 0,this._values=void 0}return __extends(i,t),i.mk=function(e,t){var n=new i;return n.set_name(e),n.set_location(t),n},i.prototype.location=function(){return this._location},i.prototype.set_location=function(e){this._location=e},i.prototype.id=function(){return this._id},i.prototype.set_id=function(e){this._id=e},i.prototype.name=function(){return this._name},i.prototype.set_name=function(e){this._name=e},i.prototype.picture_link=function(){return this._picture_link},i.prototype.set_picture_link=function(e){this._picture_link=e},i.prototype.link=function(){return this._link},i.prototype.set_link=function(e){this._link=e},i.prototype.category=function(){return this._category},i.prototype.set_category=function(e){this._category=e},i.prototype.source=function(){return this._source},i.prototype.set_source=function(e){this._source=e},i.prototype.values=function(){return this._values||(this._values=e.Collections.create_string_map()),this._values},i.prototype.to_string=function(){return this._name},i.prototype.getViewCore=function(e,t){var n=r.div("item");this.picture_link()&&n.appendChild(r.img("item-image",this.picture_link(),"linked picture"));var i=r.div("item-info");return n.appendChild(i),this.name()&&i.appendChild(r.div("item-title",this.name())),this.category()&&i.appendChild(r.div("item-subtitle",this.category())),this.location()&&i.appendChild(r.div("item-description",this.location().to_string())),i.appendChild(r.div("item-subtle",this.source())),n},i.prototype.check_in=function(){},i.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},i}(e.RTValue),e.Place=t}(TDev||(TDev={})),function(u){var d;(function(t){var n,i,r,o,a,s,c;function e(){n&&(n.eventEnabled("player state changed")&&n.queueEvent("player state changed",null,[]),c&&c.handlers&&n.queueLocalEvent(c,[],!1))}function l(){r||((r=document.createElement("audio")).crossorigin="anonymous",r.style.display="none",r.onpause=function(){e()},r.onplay=r.onpause,r.onplaying=r.onpause,r.onended=function(){e()},o=document.createElement("source"),r.appendChild(o),document.body.appendChild(r))}t.rt_start=function(e){i=null,c=s=void 0,(n=e).eventEnabled("active song changed")&&t.addActiveSongChangedEvent(e),e.eventEnabled("player state changed")&&t.addPlayerStateChangedEvent(e)},t.rt_stop=function(e){t.removeActiveSongChangedEvent(),t.removePlayerStateChangedEvent(),i=n=null,c=s=void 0},t.addActiveSongChangedEvent=function(e){},t.removeActiveSongChangedEvent=function(){},t.addPlayerStateChangedEvent=function(e){},t.removePlayerStateChangedEvent=function(){},t.active_song=function(e){e.resumeVal(i)},t.on_active_song_changed=function(e){return n&&!s&&(s=new d.Event_,t.addActiveSongChangedEvent(n)),s.addHandler(e)},t.on_player_state_changed=function(e){return n&&!c&&(c=new d.Event_,t.addPlayerStateChangedEvent(n)),c.addHandler(e)},t.pause=function(){r&&r.pause()},t.playOne=function(e){if(i!=e){l();var t=(i=e).url();o.src=t,u.RuntimeSettings.sounds()&&(u.HTML.showProgressNotification(u.lf("playing song...")),r.play()),n&&(n.eventEnabled("player state changed")&&n.queueEvent("active song changed",null,[]),s&&s.handlers&&n.queueLocalEvent(s,[],!1))}},t.play=function(e){t.playOne(e)},t.play_position=function(e){e.resumeVal(r?r.currentTime:void 0)},t.resume=function(){r&&u.RuntimeSettings.sounds()&&r.play()},t.stop=function(){r&&(o.src=null,r.load())},t.is_muted=function(e){e.resumeVal(!!r&&r.muted)},t.sound_volume=function(){},t.set_sound_volume=function(e){},t.is_repeating=function(e){e.resumeVal(!!r&&r.loop)},t.set_repeating=function(e,t){l(),r.loop=e,t.resume()},t.is_shuffled=function(e){e.resumeVal(a)},t.set_shuffled=function(e,t){a=e,t.resume()},t.is_stopped=function(e){e.resumeVal(!r||r.ended)},t.is_playing=function(e){e.resumeVal(!!r&&!r.ended&&!r.paused)},t.is_paused=function(e){e.resumeVal(!!r&&r.paused)},t.volume=function(){return 0}})((d=u.RT||(u.RT={})).Player||(d.Player={}))}(TDev||(TDev={})),function(_){!function(y){!function(e){var n,t,i,r,o,a,s,c=void 0,l=void 0;function u(){n=s=a=o=r=i=t=l=c=void 0}function d(e,t){n&&(n.queueEvent(e,null,[]),t&&t.handlers&&n.queueLocalEvent(t,[]))}function p(e){return _.RuntimeSettings.location()?e.rt.host.askSourceAccessAsync("location","your current geo location, based on your GPS, WiFi or IP address.",!1):(_.HTML.showProgressNotification(_.lf("denied access to location (global setting)")),_.Promise.as(!1))}e.rt_start=function(e){u(),n=e,y.DeviceMotion.rt_start(e),y.DeviceOrientation.rt_start(e),h=!(!navigator||!navigator.getGamepads)},e.rt_stop=function(e){u(),y.DeviceMotion.stop(e),y.DeviceOrientation.stop(e)},e.on_shake=function(e){return t||(t=new y.Event_,n&&y.DeviceMotion.start(n)),t.addHandler(e)},e.raiseShakeEvent=function(){n&&(n.queueEvent("shake",null,[]),t&&t.handlers&&n.queueLocalEvent(t,[]))},e.on_phone_face_up=function(e){return i||(i=new y.Event_,n&&y.DeviceOrientation.start(n)),i.addHandler(e)},e.raisePhoneFaceUp=function(){d("phone face up",i)},e.on_phone_face_down=function(e){return r||(r=new y.Event_,n&&y.DeviceOrientation.start(n)),r.addHandler(e)},e.raisePhoneFaceDown=function(){d("phone face down",r)},e.on_phone_portrait=function(e){return o||(o=new y.Event_,n&&y.DeviceOrientation.start(n)),o.addHandler(e)},e.raisePhonePortrait=function(){d("phone portrait",o)},e.on_phone_landscape_left=function(e){return a||(a=new y.Event_,n&&y.DeviceOrientation.start(n)),a.addHandler(e)},e.raisePhoneLandscapeLeft=function(){d("phone landscape left",a)},e.on_phone_landscape_right=function(e){return s||(s=new y.Event_,n&&y.DeviceOrientation.start(n)),s.addHandler(e)},e.raisePhoneLandscapeRight=function(){d("phone landscape right",s)},e.take_camera_picture=function(i){var e=navigator.camera;e?e.getPicture(function(e){i.resumeVal(y.Picture.fromUrlSync(e,!1,!1))},function(e){_.RT.App.logEvent(y.App.DEBUG,"senses","take camera picture failed: "+e,void 0),i.resumeVal(void 0)},{quality:85,mediaType:window.Camera.MediaType.JPEG,sourceType:window.Camera.PictureSourceType.CAMERA,destinationType:window.Camera.DestinationType.FILE_URI}):y.UserMediaManager.getCameraUrlAsync().done(function(e){if(e){var t=new _.ModalDialog;t.add(_.div("wall-dialog-header",_.lf("take a picture")));var n=_.createElement("video");n.src=e,n.controls=!1,n.autoplay=!0,t.add(_.div("wall-dialog-body",n)),t.add(_.div("wall-dialog-buttons",[_.HTML.mkButton(_.lf("cancel"),function(){n.pause(),t.dismiss(),i.resumeVal(void 0)}),_.HTML.mkButton(_.lf("take picture"),function(){y.Picture.fromUrl(y.UserMediaManager.previewVideo(n)).done(function(e){n.pause(),t.dismiss(),i.resumeVal(e)})})])),t.show()}else y.Media.choosePictureAsync("take or choose a picture","The app wants to take a picture but it could not launch the camera. Try opening the picture chooser to access the camera.").done(function(e){return i.resumeVal(e)})})},e.record_microphone=function(t){y.AudioContextManager.recordMicrophoneAsync().then(function(e){return e?y.Sound.fromArtUrl(e):void 0}).done(function(e){return t.resumeVal(e)})},e.is_device_stable=function(e){y.DeviceMotion.isDeviceStable(e)},e.has_accelerometer=function(){return y.DeviceMotion.isMotionSupported()},e.acceleration_stable=function(e){y.DeviceMotion.accelerationStable(e)},e.acceleration_smooth=function(e){y.DeviceMotion.accelerationSmooth(e)},e.acceleration_quick=function(e){y.DeviceMotion.accelerationQuick(e)},e.current_location=function(t){p(t).then(function(e){e?y.GeoLocation.currentLocation(t):t.resumeVal(void 0)}).done()},e.current_location_accurate=function(t){p(t).then(function(e){e?y.GeoLocation.currentLocationAccurate(t):t.resumeVal(void 0)}).done()},e.camera=function(e){!c&&y.UserMediaManager.isSupported()&&(c=new y.Camera),e.resumeVal(c)},e.front_camera=function(e){!l&&y.UserMediaManager.isSupported()&&(l=new y.Camera).set_is_front(!0),e.resumeVal(l)},e.has_front_camera=function(e){e.resumeVal(!0)},e.has_motion=function(){return!1},e.orientation=function(e){y.DeviceOrientation.orientation(e)},e.has_compass=function(){return y.DeviceOrientation.isHeadingSupported()},e.heading=function(e){y.DeviceOrientation.heading(e)},e.has_gyroscope=function(){return y.DeviceMotion.isSupported()},e.rotation_speed=function(e){y.DeviceMotion.rotationRate(e)},e.battery_level=function(e){var t=navigator.battery||navigator.webkitBattery||navigator.mozBattery;e.resumeVal(t?t.level:void 0)},e.is_key_pressed=function(e,t){return t.rt.host.keyboard.isPressed(e)};var h=!(e.on_key_pressed=function(e,t,n){return n.rt.host.keyboard.registerDown(e,t)}),m=0,f=void 0,g=void 0;function v(){if(h){var e=_.Util.perfNow();if(!f||.02<e-m)if(m=e,h){f=new y.Collection(b);for(var t=navigator.getGamepads(),n=0;n<t.length;++n)t[n]&&f.add(new b(t[n]))}else f=g}return g||(g=new y.Collection(b)),f||g}e.gamepads=v,e.first_gamepad=function(){for(var e=v(),t=0;t<e.count();++t)if(e.at(t).is_connected())return e.at(t)}}(y.Senses||(y.Senses={}));var b=function(t){function i(e){t.call(this),this.gp=e}return __extends(i,t),i.prototype.toString=function(){return JSON.stringify(this.gp)},i.prototype.equals=function(e){var n=e.gp;return this.gp.timestamp==n.timestamp&&this.gp.index==n.index&&this.gp.buttons.length==n.buttons.length&&this.gp.buttons.every(function(e,t){return n.buttons[t].pressed==e.pressed&&n.buttons[t].value==e.value})&&this.gp.axes.length==n.axes.length&&this.gp.axes.every(function(e,t){return n.axes[t]==e})},i.prototype.post_to_wall=function(e){e.rt.postText(JSON.stringify(this.gp),e.pc)},i.prototype.id=function(){return this.gp.id},i.prototype.index=function(){return this.gp.index},i.prototype.timestamp=function(){return this.gp.timestamp},i.prototype.is_connected=function(){return this.gp.connected},i.prototype.is_button_pressed=function(e){var t=i.buttonNames[e.trim().toLowerCase()];if(null==t)return!1;var n=this.gp.buttons[t];return n&&n.pressed},i.prototype.button_value=function(e){var t=i.buttonNames[e.trim().toLowerCase()];if(null==t)return 0;var n=this.gp.buttons[t];return n?n.value:0},i.prototype.axes=function(e){switch(e.trim().toLowerCase()){case"left stick":return y.Vector3.mk(this.gp.axes[0],this.gp.axes[1],0);case"right stick":return y.Vector3.mk(this.gp.axes[2],this.gp.axes[3],0);default:return y.Vector3.zero}},i.prototype.debuggerDisplay=function(e){return y.JsonObject.wrap(this.gp).debuggerDisplay(e)},i.prototype.debuggerChildren=function(){return y.JsonObject.wrap(this.gp).debuggerChildren()},i.buttonNames={a:0,b:1,x:2,y:3,"left bumper":4,"right bumper":5,"left trigger":6,"right trigger":7,back:8,start:9,"left stick":10,"right stick":11,up:12,down:13,left:14,right:15,home:16},i}(y.RTValue);y.Gamepad_=b;var e=function(){function e(e){this._rt=e,this.keys={},this.repeatDelay=200,this.repeatInterval=50}return e.prototype.keyState=function(e,t){var n=e.toUpperCase(),i=this.keys[n];return!i&&t&&(this.keys[n]=i={timeStamp:0,downTimeStamp:0,repeating:!1}),i},e.prototype.keyDown=function(e){if(_.Util.normalizeKeyEvent(e),!e.keyName||e.fromTextBox||e.fromTextArea)return!1;var t=this.keyState(e.keyName,!1);if(!t)return!1;var n=e.timeStamp||_.Util.perfNow();return 0==t.timeStamp&&(t.timeStamp=n,t.downTimeStamp=0),this._rt&&t.down&&t.down.handlers&&n-t.downTimeStamp>(t.repeating?this.repeatInterval:this.repeatDelay)&&(_.Util.log("key down "+e.keyName),this._rt.queueLocalEvent(t.down,[],!1),t.downTimeStamp=n,t.repeating=!0),!0},e.prototype.keyUp=function(e){if(_.Util.normalizeKeyEvent(e),!e.keyName||e.fromTextBox||e.fromTextArea)return!1;var t=this.keyState(e.keyName,!1);return!!t&&(this._rt&&0<t.timeStamp&&t.up&&t.up.handlers&&this._rt.queueLocalEvent(t.up,[],!1),t.timeStamp=0,!(t.repeating=!1))},e.prototype.toKeyCode=function(e,t){var n=e;return t&&(n=t+"-"+e),n},e.prototype.isPressed=function(e){return 0<this.keyState(e,!0).timeStamp},e.prototype.registerDown=function(e,t){var n=this.keyState(e,!0);return n.down||(n.down=new y.Event_),n.down.addHandler(t)},e.prototype.registerUp=function(e,t){var n=this.keyState(e,!0);return n.up||(n.up=new y.Event_),n.up.addHandler(t)},e}();y.RuntimeKeyboard=e}(_.RT||(_.RT={}))}(TDev||(TDev={})),function(t){var o,i;o=t.RT||(t.RT={}),(i=o.Social||(o.Social={})).send_email=function(e,t,n,i){var r="mailto:"+encodeURIComponent(e||" ")+"?subject="+encodeURIComponent(t||" ")+"&body="+encodeURIComponent(n);o.Web.browse(r,i)},i.save_email=function(e){t.ModalDialog.showText(e,"save email","Saving emails is not supported on this platform. Please copy and save this email manually.")},i.save_contact=function(e){t.ModalDialog.showText(e.toFullString(),"save contact","Saving contacts is not supported on this platform. Please copy and save this contact manually.")},i.sendSmsAsync=function(e,t){var n="sms:"+encodeURIComponent(e||" ")+"?body="+encodeURIComponent(t);return o.Web.browseAsync(n)},i.send_sms=function(e,t,n){return i.sendSmsAsync(e,t).done(function(){return n.resume()})},i.link_phone_number=function(e){return o.Link.mk(e,4)},i.link_email=function(e){return o.Link.mk(e,3)},i.create_message=function(e){return o.Message.mk(e)},i.create_place=function(e,t){return o.Place.mk(e,t)},i.create_contact=function(e){return o.Contact.mk(e)}}(TDev||(TDev={})),function(o){var e,t;e=o.RT||(o.RT={}),t=function(t){function r(){t.call(this),this._url=void 0,this._path=void 0,this._albumName=void 0,this._artist=void 0,this._duration=void 0,this._genre=void 0,this._name=void 0,this._playCount=-1,this._rating=-1,this._track=-1,this._initialized=!1}return __extends(r,t),r.mk=function(e,t,n){var i=new r;return i._url=e,i._path=t,i._name=n,i},r.prototype.initAsync=function(){return this._initialized=!0,o.Promise.as()},r.prototype.initNoData=function(){this._initialized=!0},r.prototype.init=function(e,t,n,i,r,o,a){this._initialized=!0,this._name=e,this._albumName=t,this._artist=n,this._duration=i,this._genre=r,this._rating=o,this._track=a},r.prototype.artist=function(e){var t=this;this._initialized?e.resumeVal(this._artist):this.initAsync().done(function(){e.resumeVal(t._artist||"")})},r.prototype.duration=function(e){var t=this;this._initialized?e.resumeVal(this._duration):this.initAsync().done(function(){e.resumeVal(t._duration)})},r.prototype.genre=function(e){var t=this;this._initialized?e.resumeVal(this._genre):this.initAsync().done(function(){e.resumeVal(t._genre||"")})},r.prototype.name=function(){return this._name},r.prototype.play_count=function(e){var t=this;this._initialized?e.resumeVal(this._playCount):this.initAsync().done(function(){e.resumeVal(t._playCount)})},r.prototype.rating=function(e){var t=this;this._initialized?e.resumeVal(this._rating):this.initAsync().done(function(){e.resumeVal(t._rating)})},r.prototype.track=function(e){var t=this;this._initialized?e.resumeVal(this._track):this.initAsync().done(function(){e.resumeVal(t._track)})},r.prototype.url=function(){return this._url},r.prototype.path=function(){return this._path},r.createAudio=function(e){var t=document.createElement("audio");t.controls=!0,t.crossorigin="anonymous";var n=document.createElement("source");return n.src=e,t.appendChild(n),t},r.prototype.play=function(){e.Player.play(this)},r.prototype.getViewCore=function(e,t){var n=this,i=o.div("item"),r=o.div("item-info item-with-button");return i.appendChild(r),this._name&&r.appendChild(o.div("item-title",this._name)),this.initAsync().done(function(){n._artist&&r.appendChild(o.div("item-subtitle",n._artist)),i.appendChild(o.div("item-buttons",o.HTML.mkRoundButton("svg:play,currentColor",o.lf("play"),469,function(){return n.play()})))}),i},r.prototype.protected=function(){},r.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},r}(e.RTValue),e.Song=t}(TDev||(TDev={})),function(a){!function(o){var e,t=function(e){function r(){e.call(this),this._pan=0,this._pitch=0,this._volume=1,this._url=void 0,this._urlToken=0,this._originalUrl=void 0,this._buffer=void 0,this._audio=void 0}return __extends(r,e),r.mk=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=null);var i=new r;return i._url=e,i._urlToken=t,i._originalUrl=n,i},r.fromDataUrl=function(e,t){return e&&e.match(/^data:audio\/(wav|mp4|mp3|mpeg);base64,/i)?r.mk(e,0,t).initAsync():a.Promise.as(null)},r.dataUriMimeType=function(e){var t=/^data:(audio\/(wav|mp4|mp3|mpeg));base64,/.exec(e);return t?t[1]:void 0},r.patchLocalArtUrl=function(e){return e},r.fromUrl=function(e){return r.dataUriMimeType(e)?r.fromDataUrl(e,null):r.mk(e,0,e).initAsync()},r.fromArtId=function(e){return r.fromArtUrl(a.Cloud.artUrl(e))},r.fromArtUrl=function(t){if(r.dataUriMimeType(t))return r.fromDataUrl(t,null);function n(){return r.mk(t,0,t).initAsync()}return/^\.\/art\//.test(t)&&(t=r.patchLocalArtUrl(t)),a.Browser.audioWav||(t=a.HTML.patchWavToMp4Url(t),a.Util.log("fixed art sound: "+t)),t=a.HTML.proxyResource(t),a.Browser.audioDataUrls||o.AudioContextManager.isSupported()?o.ArtCache.getArtAsync(t,"audio/*").then(function(e){return e?r.fromDataUrl(e,t):n()}):n()},r.prototype.initAsync=function(){var t=this;if(this._buffer||this._audio)return a.Promise.as(this);if(o.AudioContextManager.isSupported()&&r.dataUriMimeType(this._url)){var e=a.Util.decodeDataURL(this._url);if(e)return o.AudioContextManager.loadAsync(e.buffer).then(function(e){return t._buffer=e,t})}return this.createAudioAsync().then(function(e){return a.HTML.audioLoadAsync(e)}).then(function(e){return t._audio=e,t})},r.prototype.getDataUri=function(){if(this._url&&r.dataUriMimeType(this._url))return this._url},r.prototype.createUrlAsync=function(){var i=this,t=this._url;switch(this._urlToken){case 1:t=a.Cloud.getPrivateApiUrl(t);break;case 2:return o.AzureMarketplace.requestAccessTokenAsync(o.ApiManager.microsoftTranslatorClientId,o.ApiManager.microsoftTranslatorClientSecret,"http://api.microsofttranslator.com","client_credentials").then(function(e){return t+"&appId="+encodeURIComponent("BEARER "+e)})}if(/^https?:\/\/.*\.wav$/i.test(t)){a.Util.log("sound createurl: loading online wav file");var e=o.WebRequest.mk(t,null);return e.set_accept("audio/wav"),e.sendAsync().then(function(e){var t=e.contentAsArraybuffer();if(t){var n="data:audio/wav;base64,"+a.Util.base64EncodeBytes(t);a.Util.log("sound createurl: loaded online wav file"),i._url=n}else a.Util.log("sound createurl: failed loading online wav file");return n})}return a.Promise.as(t)},r.prototype.createAudioAsync=function(){return this.createUrlAsync().then(function(e){return a.HTML.mkAudio(e)})},r.prototype.syncAudioProperties=function(e){try{e.volume=this._volume,e.playbackRate=1+this._pitch/2}catch(e){}},r.prototype.pan=function(){return this._pan},r.prototype.set_pan=function(e){this._pan=e},r.prototype.pitch=function(){return this._pitch},r.prototype.set_pitch=function(e){this._pitch=e},r.prototype.volume=function(){return this._volume},r.prototype.set_volume=function(e){this._volume=o.Math_.normalize(e),this._audio&&this.syncAudioProperties(this._audio)},r.prototype.duration=function(t){var n=this;this.initAsync().then(function(){var e=n._audio?n._audio.duration:0;t.resumeVal(isNaN(e)?0:e)}).done()},r.prototype.pause=function(){},r.prototype.resetAsync=function(){try{if(this._audio&&(this.syncAudioProperties(this._audio),0!=this._audio.currentTime&&(this._audio.currentTime=0)!=this._audio.currentTime))return this._audio=null,this.initAsync()}catch(e){o.Time.log("failed to reset sound position - "+e)}return a.Promise.as()},r.prototype.playAsync=function(){return this.playCoreAsync()},r.prototype.playCoreAsync=function(){var e=this;return a.RuntimeSettings.sounds()?this.initAsync().then(function(){return e.resetAsync()}).then(function(){try{e._buffer&&o.AudioContextManager.isSupported()?o.AudioContextManager.play(e._buffer,e._volume):e._audio&&e._audio.play()}catch(e){o.Time.log("failed to play sound - "+e)}}):a.Promise.as(void 0)},r.prototype.play=function(e){this.playAsync().done(function(){return e.resumeVal(void 0)})},r.prototype.play_special=function(e,t,n,i){this.set_volume(e),this.set_pitch(t),this.set_pan(n),this.play(i)},r.prototype.post_to_wall=function(e){var t=this;e.rt.postBoxedHtml(a.HTML.mkButton("play",function(){t.playAsync().done()}),e.pc)},r.prototype.resume=function(){},r.prototype.state=function(){},r.prototype.stop=function(){},r}(o.RTValue);o.Sound=t,(e=o.SoundUrlTokenDomain||(o.SoundUrlTokenDomain={}))[e.None=0]="None",e[e.TouchDevelop=1]="TouchDevelop",e[e.MicrosoftTranslator=2]="MicrosoftTranslator";o.SoundUrlTokenDomain}(a.RT||(a.RT={}))}(TDev||(TDev={})),function(e){var t,n;t=e.RT||(e.RT={}),n=function(r){function e(e,t,n,i){r.call(this),this.board=e,this.sprite1=t,this.sprite2=n,this.stiffness=i}return __extends(e,r),e.prototype.set_stiffness=function(e){this.stiffness=e},e.prototype.delete_=function(){this.board.deleteSpring(this)},e.prototype.forceOn=function(e){return(e===this.sprite1?this.sprite2:this.sprite1)._position.subtract(e._position).scale(this.stiffness)},e}(t.RTValue),t.Spring=n}(TDev||(TDev={})),function(f){!function(x){var e;(e=x.SpriteType||(x.SpriteType={}))[e.Ellipse=0]="Ellipse",e[e.Rectangle=1]="Rectangle",e[e.Text=2]="Text",e[e.Picture=3]="Picture",e[e.Anchor=4]="Anchor";x.SpriteType,function(e){function t(){e.call(this)}__extends(t,e)}(x.RTValue);var t=function(e){function a(){e.call(this),this._parent=void 0,this._sheet=void 0,this._bubble=void 0,this._friction=Number.NaN,this._angular_speed=0,this._height=void 0,this._location=void 0,this._angle=0,this._elasticity=1,this._scale=1,this._speed=x.Vector2.mk(0,0),this._acceleration=x.Vector2.mk(0,0),this._width=void 0,this._mass=Number.NaN,this._position=x.Vector2.mk(0,0),this._color=x.Colors.light_gray(),this._background=void 0,this._text=void 0,this._textBaseline=void 0,this._hidden=!1,this._opacity=1,this._clip=void 0,this._gradient=!0,this.shapeDirty=!0,this.hasChanged=!0,this.normalTouchPoints=[],this._springs=[],this.onTap=new x.Event_,this.onSwipe=new x.Event_,this.onDrag=new x.Event_,this.onTouchDown=new x.Event_,this.onTouchUp=new x.Event_,this.onEveryFrame=new x.Event_,this._z_index=void 0}return __extends(a,e),a.mk=function(e,t,n,i,r){var o=new a;return o.spriteType=e,o._width=i,o._height=r,o._position=new x.Vector2(t,n),o.computeBoundingBox(),o},a.prototype.friction=function(){return this._parent?isNaN(this._friction)?this._parent._worldFriction:this._friction:NaN},a.prototype.set_shadow=function(e,t,n,i){this._shadowBlur=e,this._shadowColor=t,this._shadowOffsetX=n,this._shadowOffsetY=i},a.prototype.set_friction=function(e){this._friction=Math.min(1,Math.abs(e))},a.prototype.scale=function(){return this._scale},a.prototype.set_scale=function(e){this._scale=e},a.prototype.angular_speed=function(){return this._angular_speed},a.prototype.set_angular_speed=function(e){this._angular_speed=e},a.prototype.height=function(){return this._height},a.prototype.location=function(){return this._location},a.prototype.set_location=function(e){this._location=e},a.prototype.angle=function(){return this._angle},a.prototype.set_angle=function(e){this._angle!=e&&(this._angle=e,this.computeBoundingBox(),this.contentChanged())},a.prototype.elasticity=function(){return this._elasticity},a.prototype.set_elasticity=function(e){this._elasticity=Math.abs(e)},a.prototype.speed_x=function(){return this._speed.x()},a.prototype.set_speed_x=function(e){this._speed=new x.Vector2(e,this._speed.y())},a.prototype.speed_y=function(){return this._speed.y()},a.prototype.set_speed_y=function(e){this._speed=new x.Vector2(this._speed.x(),e)},a.prototype.width=function(){return this._width},a.prototype.set_height=function(e){(e=Math.max(1,e))!=this._height&&(this._height=e,this._picture&&(this._width=this._picture.widthSync()/Math.max(1,this._picture.heightSync())*this._height),this.computeBoundingBox(),this.contentChanged())},a.prototype.set_width=function(e){e=Math.max(1,e),this._width!=e&&(this._frame=null,this._width=e,this._picture&&(this._height=this._picture.heightSync()/Math.max(1,this._picture.widthSync())*this._width),this.computeBoundingBox(),this.contentChanged())},a.prototype.top=function(){return this._position.y()-this._height/2},a.prototype.set_top=function(e){this._position=new x.Vector2(this._position.x(),e+this._height/2)},a.prototype.bottom=function(){return this._position.y()+this._height/2},a.prototype.set_bottom=function(e){this._position=new x.Vector2(this._position.x(),e-this._height/2)},a.prototype.right=function(){return this._position.x()+this._width/2},a.prototype.set_right=function(e){this._position=new x.Vector2(e-this._width/2,this._position.y())},a.prototype.left=function(){return this._position.x()-this._width/2},a.prototype.set_left=function(e){this._position=new x.Vector2(e+this._width/2,this._position.y())},a.prototype.x=function(){return this._position.x()},a.prototype.set_x=function(e){this._position=new x.Vector2(e,this._position.y())},a.prototype.y=function(){return this._position.y()},a.prototype.set_y=function(e){this._position=new x.Vector2(this._position.x(),e)},a.prototype.color=function(){return this._color},a.prototype.set_color=function(e){this._color=e,this.contentChanged()},a.prototype.opacity=function(){return this._opacity},a.prototype.set_opacity=function(e){this._opacity=Math.min(1,Math.max(0,e)),this.contentChanged()},a.prototype.gradient=function(){return this._gradient},a.prototype.set_gradient=function(e){this._gradient=!!e},a.prototype.sheet=function(){return this._sheet},a.prototype.setSheet=function(e){this._sheet=e,this.setPictureInternal(this._sheet._picture),this._width=0,this._height=0},a.prototype.set_font_size=function(e,t){e=Math.round(e);this.fontSize!=e&&(this.fontSize=e,this.changed())},a.prototype.font_size=function(){return this.fontSize||0},a.prototype.set_text_baseline=function(e,t){e=e.trim().toLowerCase(),/^(alphabetic|top|hanging|middle|ideographic|bottom)$/.test(e)||f.Util.userError(f.lf("invalid text baseline value"),t.pc),this._textBaseline=e},a.prototype.text_baseline=function(){return this._textBaseline},a.prototype.fit_text=function(){var t;if(this._text&&this._parent&&(t=this._parent.renderingContext())){t.save(),t.font=this.font(this.fontSize);var e=this._text.split("\n"),n=0,i=this.fontSize*(1.25*(e.length-1)+1);e.forEach(function(e){return n=Math.max(n,t.measureText(e).width)}),t.restore(),this.set_width(n),this.set_height(i),this._textBaseline="middle"}},a.prototype.text=function(){return this._text},a.prototype.set_text=function(e){2==this.spriteType&&(this._text=e,this.contentChanged())},a.prototype.background=function(){return this._background?x.Colors.transparent():this._background},a.prototype.set_background=function(e){this._background=e},a.prototype.bubble=function(){return this._bubble},a.prototype.set_bubble=function(e){this._bubble!=e&&(this._bubble=e,this.changed())},a.prototype.say=function(e){if(this.changed(),e){var t=this._parent.create_text(10,10,16,e);t.fit_text(),t.set_width(t.width()+8),t.set_height(t.height()+8),t.set_color(x.Colors.black()),t.set_background(x.Colors.white()),t.set_pos(t.width()/2,-t.height()/2),t.set_friction(1),t.set_opacity(0);var n=t.create_animation();return n.fade_in(.5,"linear"),n.sleep(.4*e.length),n.fade_out(.5,"linear"),n.delete_(),this.set_bubble(t),t}this._bubble=void 0},a.prototype.mass=function(){return isNaN(this._mass)?Math.max(1e-6,this.width()*this.height()):this._mass},a.prototype.set_mass=function(e){(isNaN(e)||isFinite(e)&&0<e)&&(this._mass=e)},a.prototype.acceleration_x=function(){return this._acceleration._x},a.prototype.acceleration_y=function(){return this._acceleration._y},a.prototype.set_acceleration_x=function(e){this._acceleration=new x.Vector2(e,this._acceleration._y)},a.prototype.set_acceleration_y=function(e){this._acceleration=new x.Vector2(this._acceleration._x,e)},a.prototype.set_acceleration=function(e,t){this._acceleration=new x.Vector2(e,t)},a.prototype.on_tap=function(e){return this.onTap.addHandler(e)},a.prototype.on_swipe=function(e){return this.onSwipe.addHandler(e)},a.prototype.on_drag=function(e){return this.onDrag.addHandler(e)},a.prototype.on_touch_down=function(e){return this.onTouchDown.addHandler(e)},a.prototype.on_touch_up=function(e){return this.onTouchUp.addHandler(e)},a.prototype.on_every_frame=function(e,t){return this._parent&&this._parent.enableEveryFrameOnSprite(t),this.onEveryFrame.addHandler(e)},a.prototype.changed=function(){this.hasChanged=!0},a.prototype.contentChanged=function(){this.changed(),this.shapeDirty=!0},a.prototype.redraw=function(e,t){!t&&(this._hidden||0==this._opacity||this._width<=0||this._height<=0||0==this._scale)||this.drawShape(e,t)},a.prototype.font=function(e){return e+'px "Segoe UI", "Segoe WP", "Helvetica Neue", Sans-Serif'},a.prototype.drawShape=function(e,t){var n=this,i=this.color().toHtml(),r=function(){return n.color().make_transparent(1).toHtml()},o=this._width*this._scale,a=this._height*this._scale,s=x.Math_.round_with_precision(this.fontSize*this._scale,1);e.save(),e.translate(this.x(),this.y());var c=this._angle/180*Math.PI;switch(this._frame&&this._frame.rotated&&(c-=90),e.rotate(c),0<this._shadowBlur&&this._shadowColor&&(e.shadowBlur=this._shadowBlur,e.shadowColor=this._shadowColor.toHtml(),e.shadowOffsetX=this._shadowOffsetX,e.shadowOffsetY=this._shadowOffsetY),this._background&&!this._hidden&&0<this._opacity&&(e.save(),e.translate(-o/2,-a/2),e.fillStyle=this._background.toHtml(),e.globalAlpha=this._opacity,e.fillRect(0,0,o,a),e.restore()),this.spriteType){case 1:e.translate(-o/2,-a/2),t&&(e.strokeStyle=r(),e.strokeRect(0,0,o,a)),e.globalAlpha=this._opacity,e.fillStyle=i,this._hidden||e.fillRect(0,0,o,a);break;case 0:if(e.scale(o/a,1),e.translate(-a/2,-a/2),t&&(e.strokeStyle=r(),e.strokeRect(0,0,a,a)),e.globalAlpha=this._opacity,!this._hidden){if(e.beginPath(),e.arc(a/2,a/2,a/2,0,2*Math.PI),f.Browser.brokenGradient||!this._gradient)e.fillStyle=i;else try{var l=e.createRadialGradient(.75*a,.25*a,1,a/2,a/2,a/2);l.addColorStop(0,"#FFFFFF"),l.addColorStop(1,i),e.fillStyle=l}catch(e){throw f.Util.log("draw shape crash, color: "+i),e}e.closePath(),e.fill()}break;case 3:e.translate(-o/2,-a/2),t&&(e.strokeStyle=r(),e.strokeRect(0,0,o,a)),0<this._opacity&&this._picture&&(e.globalAlpha=this._opacity,this._hidden||(this._clip?0<this._clip[2]&&0<this._clip[3]&&e.drawImage(this._picture.getCanvas(),this._clip[0],this._clip[1],this._clip[2],this._clip[3],0,0,o,a):e.drawImage(this._picture.getCanvas(),0,0,this._picture.widthSync(),this._picture.heightSync(),0,0,o,a)));break;case 2:if(e.translate(-o/2,-a/2),e.fillStyle=i,t&&(e.strokeStyle=r(),e.strokeRect(0,0,o,a)),!this._hidden){e.globalAlpha=this._opacity,e.font=this.font(s);var u=this._text.split("\n");e.textBaseline=this._textBaseline||"top",this._textBaseline?e.translate(0,a/2):e.translate(0,.2*s);for(var d=0;d<u.length;d++){var p=e.measureText(u[d]);e.save();var h=o-p.width;0<h?h/=2:h=0,e.translate(h,0),e.fillText(u[d],0,0),e.restore(),e.translate(0,1.25*s)}}break;case 4:e.translate(-o/2,-a/2),t&&(e.strokeStyle=r(),e.strokeRect(0,0,o,a))}if(t){e.restore(),e.save(),e.translate(this.x()+this.boundingMaxX+2,this.y()+this.boundingMinY),e.font="10px sans-serif",e.fillStyle=r(),e.fillText("x:"+this.x().toFixed(1),0,0),e.translate(0,10),e.fillText("y:"+this.y().toFixed(1),0,0),0==this.speed_x()&&0==this.speed_y()||(e.translate(0,10),e.fillText("vx:"+this.speed_x().toFixed(1),0,0),e.translate(0,10),e.fillText("vy:"+this.speed_y().toFixed(1),0,0)),e.restore(),e.save(),e.strokeStyle="green",e.beginPath();var m=this.capsule();e.moveTo(m.x(),m.y()),e.lineWidth=5,e.lineTo(m.x()+m.z(),m.y()+m.w()),e.lineWidth=1,e.moveTo(this.x()+this.boundingMinX,this.y()+this.boundingMinY),e.lineTo(this.x()+this.boundingMaxX,this.y()+this.boundingMinY),e.lineTo(this.x()+this.boundingMaxX,this.y()+this.boundingMaxY),e.lineTo(this.x()+this.boundingMinX,this.y()+this.boundingMaxY),e.lineTo(this.x()+this.boundingMinX,this.y()+this.boundingMinY),e.moveTo(this.x()-3,this.y()),e.lineTo(this.x()+3,this.y()),e.moveTo(this.x(),this.y()-3),e.lineTo(this.x(),this.y()+3),e.stroke()}e.restore(),this._bubble&&this._bubble.is_deleted()&&(this._bubble=null),this._bubble&&this._bubble.is_visible()&&0<this._bubble.opacity()&&(e.save(),e.translate(this.x()+this.width()/2,this.y()-this.height()/2),this._bubble.redraw(e,t),e.restore())},a.prototype.computeBoundingBox=function(){var e=this.radiusX(),t=this.radiusY();if(0==this._angle||180==this._angle)return this.boundingMinX=-e,this.boundingMaxX=e,this.boundingMinY=-t,void(this.boundingMaxY=t);if(90==this._angle||270==this._angle||-90==this._angle)return this.boundingMinX=-t,this.boundingMaxX=t,this.boundingMinY=-e,void(this.boundingMaxY=e);this.boundingMinX=Number.MAX_VALUE,this.boundingMaxX=Number.MIN_VALUE,this.boundingMinY=Number.MAX_VALUE,this.boundingMaxY=Number.MIN_VALUE;var n=Math.sin(Math.PI*this._angle/180),i=Math.cos(Math.PI*this._angle/180);this.updateBoundingX(this.rotateX(e,-t,n,i)),this.updateBoundingY(this.rotateY(e,-t,n,i)),this.updateBoundingX(this.rotateX(e,t,n,i)),this.updateBoundingY(this.rotateY(e,t,n,i)),this.updateBoundingX(this.rotateX(-e,t,n,i)),this.updateBoundingY(this.rotateY(-e,t,n,i)),this.updateBoundingX(this.rotateX(-e,-t,n,i)),this.updateBoundingY(this.rotateY(-e,-t,n,i))},a.prototype.rotateX=function(e,t,n,i){return e*i-t*n},a.prototype.rotateY=function(e,t,n,i){return e*n+t*i},a.prototype.rotate=function(e){var t=Math.sin(Math.PI*this._angle/180),n=Math.cos(Math.PI*this._angle/180),i=this.rotateX(e.x(),e.y(),t,n),r=this.rotateY(e.x(),e.y(),t,n);return new x.Vector2(i,r)},a.prototype.minPointSegment=function(e,t,n,i,r,o){var a=e-r,s=t-o,c=n*n+i*i;if(Math.abs(c)<1e-5)return(l=new x.Vector2(a,s)).from=0,l;var l,u=1,d=-(a*n+s*i)/c;return d<0?(d=0,u=2):1<d&&(d=1,u=3),(l=new x.Vector2(a+d*n,s+d*i)).from=u,l},a.prototype.minConnectingSegment=function(e,t,n,i,r,o,a,s){var c=n*s-i*a;if(0!=c){var l=e-r,u=t-o,d=(n*u-i*l)/c,p=(a*u-s*l)/c;if(0<=p&&p<=1&&0<=d&&d<=1)return(h=new x.Vector4(e+p*n,t+p*i,0,0)).from=32,h}var h,m=this.minPointSegment(e,t,n,i,r,o),f=this.minPointSegment(e,t,n,i,r+a,o+s),g=this.minPointSegment(r,o,a,s,e,t),v=this.minPointSegment(r,o,a,s,e+n,t+i),y=m.length(),b=f.length(),_=g.length(),w=v.length(),k=Math.min(y,b,_,w);return k==y?(h=new x.Vector4(r,o,m.x(),m.y())).from=m.from+4:k==b?(h=new x.Vector4(r+a,o+s,f.x(),f.y())).from=m.from+8:k==_?(h=new x.Vector4(e,t,g.x(),g.y())).from=m.from+12:(h=new x.Vector4(e+n,t+i,v.x(),v.y())).from=m.from+16,h},a.prototype.updateBoundingX=function(e){this.boundingMaxX=Math.max(this.boundingMaxX,e),this.boundingMinX=Math.min(this.boundingMinX,e)},a.prototype.updateBoundingY=function(e){this.boundingMaxY=Math.max(this.boundingMaxY,e),this.boundingMinY=Math.min(this.boundingMinY,e)},a.prototype.bbRadius=function(e){var t=Math.atan(e.y()/e.x());t-=Math.PI*this._angle/180;var n=Math.tan(t);if(Math.abs(this.radiusY()/n)<=this.radiusX())return Math.abs(this.radiusY()/Math.sin(t));Math.abs(this.radiusX()*n);return this.radiusY(),Math.abs(this.radiusX()/Math.cos(t))},a.prototype.radius=function(e){var t=Math.atan(e.y()/e.x());t-=Math.PI*this._angle/180;var n,i,r,o,a=Math.sin(t),s=Math.cos(t);return this.width>=this.height?(n=this.radiusX(),r=this.radiusY(),i=a,o=s):(n=this.radiusY(),r=this.radiusX(),i=s,o=-a),n*r/Math.sqrt(n*n*i*i+r*r*o*o)},a.prototype.radiusX=function(){return this.width()/2},a.prototype.radiusY=function(){return this.height()/2},a.prototype.stepDisplacement=function(){return this.newPosition.subtract(this._position)},a.prototype.computeForces=function(e){for(var t=this._parent.gravity().add(this._acceleration).scale(this.mass()),n=0;n<this._springs.length;n++){var i=this._springs[n];t=t.add(i.forceOn(this))}for(n=0;n<this.normalTouchPoints.length;n++){var r=this.normalTouchPoints[n];if(!(0<x.Vector2.dot(r,t))&&!(0<x.Vector2.dot(r,new x.Vector2(e.z(),e.w())))){var o=r.rotate90Left();t=o.scale(x.Vector2.dot(t,o))}}return Math.abs(t.x())<.1&&(t=new x.Vector2(0,t.y())),Math.abs(t.y())<.1&&(t=new x.Vector2(t.x(),0)),t},a.prototype.isEqualToEpsilon=function(e,t){return 0==Math.round((e-t)/2)},a.prototype.derivativePosAndSpeed=function(e,t){var n=this.computeForces(t).scale(1/this.mass());return new x.Vector4(t.z()+e*n.x(),t.w()+e*n.y(),n.x(),n.y())},a.prototype.actualFriction=function(){return isNaN(this._friction)?this._parent._worldFriction:this._friction},a.prototype.RungaKutta=function(e){var t=x.Vector4.fromV2V2(this._position,this._speed),n=this.derivativePosAndSpeed(0,t).scale(e),i=this.derivativePosAndSpeed(e/2,t.add(n.scale(.5))).scale(e),r=this.derivativePosAndSpeed(e/2,t.add(i.scale(.5))).scale(e),o=this.derivativePosAndSpeed(e,t.add(r)).scale(e),a=n.add(i.scale(2)).add(r.scale(2)).add(o).scale(1/6),s=a.z();a.z()<.1&&-.1<a.z()&&(s=0);var c=a.w();a.w()<.1&&-.1<a.w()&&(c=0);var l=a.x()*(1-this.actualFriction()),u=a.y()*(1-this.actualFriction());a=new x.Vector4(l,u,s,c),this.midSpeed=new x.Vector2(a.x()/e,a.y()/e);var d=t.add(a);return d=(d=d.withW(d.w()*(1-this.actualFriction()))).withZ(d.z()*(1-this.actualFriction()))},a.prototype.update=function(e){if(f.Util.assertCode(0<=e),this._parent){var t=this.RungaKutta(e);this.newPosition=new x.Vector2(t.x(),t.y()),this.newSpeed=new x.Vector2(t.z(),t.w()),this.newRotation=this._angle+this._angular_speed*e}},a.prototype.commitUpdate=function(t,n){if(this._lastPosition&&this._lastPosition.equals(this.newPosition)&&this._angle==this.newRotation||this.changed(),this._position=this.newPosition,this._angle=this.newRotation,this._speed=this.newSpeed,this._animations){var i=!1;this._animations.forEach(function(e){return i=!e.evolve(t,n)||i}),i&&(this._animations=this._animations.filter(function(e){return e.isActive}),0==this._animations.length&&(this._animations=void 0))}this.computeBoundingBox()},a.prototype.hide=function(){this._hidden=!0},a.prototype.is_visible=function(){return!this._hidden},a.prototype.move=function(e,t){this._position=new x.Vector2(this._position._x+e,this._position._y+t)},a.prototype.move_towards=function(e,t){var n=this._position,i=e._position.subtract(n).scale(t);this.move(i._x,i._y)},a.prototype.capsule=function(){var e,t,n,i;this._width>this._height?(e=-(n=this._width-this._height)/2,t=i=0):(e=n=0,t=-(i=this._height-this._width)/2);var r=this.rotate(new x.Vector2(n,i)),o=this.rotate(new x.Vector2(e,t));return new x.Vector4(this.x()+o.x(),this.y()+o.y(),r.x(),r.y())},a.prototype.capsuleRadius=function(){return this._width<this._height?this._width/2:this._height/2},a.prototype.overlaps_with=function(e){if(!this._parent)return!1;if(!e._parent)return!1;if(isNaN(this.x())||isNaN(this.y())||isNaN(e.x())||isNaN(e.y()))return!1;if(this.x()+this.boundingMaxX<=e.x()+e.boundingMinX)return!1;if(this.x()+this.boundingMinX>=e.x()+e.boundingMaxX)return!1;if(this.y()+this.boundingMaxY<=e.y()+e.boundingMinY)return!1;if(this.y()+this.boundingMinY>=e.y()+e.boundingMaxY)return!1;var t=this.capsule(),n=e.capsule(),i=this.minConnectingSegment(t.x(),t.y(),t.z(),t.w(),n.x(),n.y(),n.z(),n.w());this._parent&&this._parent._minSegments.push(i);var r=this.capsuleRadius()+e.capsuleRadius();return r*r<=i.z()*i.z()+i.w()*i.w()?i.overlap=!1:i.overlap=!0},a.prototype.overlap_with=function(e){return this._parent?this._parent.overlapWithAny(this,e):new x.SpriteSet},a.prototype.equals=function(e){return this===e},a.prototype.set_picture=function(e,t){var n=this;3!=this.spriteType?t.resume():e.loadFirst(t,function(){n.setPictureInternal(e)})},a.prototype.setPictureInternal=function(e){this._picture=e,this._width=e.widthSync(),this._height=e.heightSync(),this.computeBoundingBox(),this.contentChanged()},a.prototype.picture=function(){return this._picture},a.prototype.set_pos=function(e,t){this._position=new x.Vector2(e,t)},a.prototype.set_speed=function(e,t){this._speed=new x.Vector2(e,t)},a.prototype.show=function(){this._hidden=!1},a.prototype.speed_towards=function(e,t){var n=this._position,i=e._position.subtract(n);i=(i=i.normalize()).scale(t),this._speed=i},a.prototype.set_clip=function(e,t,n,i){this._picture&&isFinite(e)&&isFinite(t)&&isFinite(n)&&isFinite(i)&&(this._frame=void 0,this._width=n,this._height=i,this._clip=[e,t,n,i],this.computeBoundingBox(),this.contentChanged())},a.prototype.setFrame=function(e){this._frame!=e&&(this._frame=e,this._width<=0&&(this._width=e.width),this._height=e.width<=0?e.height:this._width/e.width*e.height,this._clip=[e.x,e.y,e.width,e.height],this.computeBoundingBox(),this.contentChanged())},a.prototype.move_clip=function(e,t){if(this._clip&&this._picture){var n=(this._clip[0]+e)%this._picture.widthSync();n<0?n+=this._clip[2]:n+this._clip[2]>this._picture.widthSync()&&(n=0);var i=(this._clip[1]+t)%this._picture.heightSync();i<0?i+=this._clip[3]:i+this._clip[3]>this._picture.heightSync()&&(i=0),this._clip=[n,i,this._clip[2],this._clip[3]],this.computeBoundingBox(),this.contentChanged()}},a.prototype.delete_=function(){this._parent&&(this._parent.deleteSprite(this),this._parent=null)},a.prototype.is_deleted=function(){return!this._parent},a.prototype.contains=function(e,t){var n=x.Vector2.mk(e,t).subtract(this._position),i=n.normalize(),r=this.bbRadius(i);return n.length()<=r},a.prototype.addSpring=function(e){this._springs.push(e)},a.prototype.removeSpring=function(e){var t=this._springs.indexOf(e);-1<t&&this._springs.splice(t,1)},a.prototype.z_index=function(){return this._z_index},a.prototype.set_z_index=function(e){this._z_index!=e&&(this._z_index=e,this._parent&&this._parent.spritesChanged())},a.prototype.createAnimation=function(){return new x.SpriteAnimation(this)},a.prototype.startAnimation=function(e){f.Util.assert(e._sprite==this),this._animations||(this._animations=[]),this._animations.push(e)},a.prototype.create_animation=function(){var e=this.createAnimation();return this.startAnimation(e),e},a.prototype.debuggerChildren=function(){return{"Z-index":this.z_index(),Friction:this.friction(),"Angular speed":this.angular_speed(),Angle:this.angle(),Elasticity:this.elasticity(),"Speed X":this.speed_x(),"Speed Y":this.speed_y(),X:this.x(),Y:this.y(),Color:this.color(),Opacity:this.opacity(),Text:this.text(),Picture:this.picture(),Mass:this.mass(),"Acceleration X":this.acceleration_x(),"Acceleration Y":this.acceleration_y(),Visible:this.is_visible()}},a}(x.RTValue);x.Sprite=t}(f.RT||(f.RT={}))}(TDev||(TDev={})),function(e){var t,n;t=e.RT||(e.RT={}),n=function(e){function t(){e.call(this),this._elements=[]}return __extends(t,e),t.prototype.clear=function(){this._elements=[]},t.prototype.count=function(){return this._elements.length},t.prototype.add=function(e){return!this.contains(e)&&(this._elements.push(e),!0)},t.prototype.add_from=function(e,t){return!(!e.contains(t)||this.contains(t))&&(e.remove(t),this.add(t),!0)},t.prototype.remove=function(e){var t=this.index_of(e);return 0<=t&&(this._elements.splice(t,1),!0)},t.prototype.contains=function(e){return!(this.index_of(e)<0)},t.prototype.remove_first=function(){return this._elements.shift()},t.prototype.index_of=function(e){return this._elements.indexOf(e)},t.prototype.index_of_obj=function(e){return this.index_of(e)},t.prototype.at=function(e){return this._elements[e]},t.prototype.get_enumerator=function(){return this._elements.slice(0)},t.prototype.debuggerChildren=function(){return this._elements},t}(t.RTValue),t.SpriteSet=n}(TDev||(TDev={})),function(i){var l;(function(e){function n(e){var t=/^data:[^,]*base64,/i.exec(e);return t?l.Web.base64_decode(e.substring(t[0].length)):null}function o(e,t){return e&&t?a(s(e,t),t):e}function a(e,t){if(!e||!t)return e;for(var n=0;n<e.length&&-1<t.indexOf(e[n]);n++);return e.substr(n)}function s(e,t){if(!e||!t)return e;for(var n=e.length;0<n&&-1<t.indexOf(e[n-1]);n--);return e.substring(0,n)}function c(e){var t=void 0;if(/^\s*[-+]?\d*\.?(\d+([eE][-+]?\d+)?)?\s*$/.test(e)?t=parseFloat(e):/^\s*[-+]?0x[a-z0-9]{1,4}\s*$/i.test(e)&&(t=parseInt(e)),!isNaN(t))return t}e.split=function(e,t){return l.Collection.mkStrings(e.split(t))},e.valueFromArtUrl=n,e.valueToArtUrl=function(e){return"data:text/plain;base64,"+l.Web.base64_encode(e)},e.fromArtUrl=function(t){var e=n(t);return e?i.Promise.wrap(e):l.ArtCache.getArtAsync(t).then(function(e){if(e)return i.Promise.as(n(e));i.Util.httpGetTextAsync(t)}).then(function(e){return e},function(e){return l.App.logEvent(l.App.ERROR,"art",i.lf("failed to load url {0}",t),void 0),""})},e.trim_overflow=function(e,t){var n=e;return n&&n.length>t&&(n=n.slice(0,t)+"..."),n},e.post_to_wall=function(e,t){i.dbg&&null!=e&&0==e.indexOf("magic trap ")?new i.Revisions.SessionTests(t.rt).runtest(e.substr(11)):null!=e&&(t.rt.onCssPage()?t.rt.postUnboxedText(e,t.pc):t.rt.postBoxedTextWithTap(e,e,t.pc))},e.count=function(e){return e.length},e.code_at=function(e,t){return e.charCodeAt(t)},e.at=function(e,t){return t<0||t>=e.length?void 0:e.charAt(t)},e.to_lower_case=function(e){return e.toLocaleLowerCase()},e.to_upper_case=function(e){return e.toLocaleUpperCase()},e.to_unicode=function(e){return 1==e.length?e.charCodeAt(0):void 0},e.to_character_code=function(e){return 1==e.length?e.charCodeAt(0):0},e.compare=function(e,t){var n=e.localeCompare(t);return n<0?-1:0<n?1:0},e.concat=function(e,t){return e+t},e.concat_op=function(e,t){return e+t},e.concatAny=function(e,t){function n(e){return null==e?"(invalid)":"string"==typeof e?e:"JsonObject"==typeof e?e.toString():e.to_string?e.to_string():e+""}return n(e)+n(t)},e.contains=function(e,t){return-1<e.indexOf(t)},e.equals=function(e,t){return e==t},e.ends_with=function(e,t){var n=e.lastIndexOf(t);return-1<n&&n==e.length-t.length},e.index_of=function(e,t,n){return e.indexOf(t,n)},e.insert=function(e,t,n){return n?t<0||t>e.length?void 0:e.slice(0,t)+n+e.slice(t):e},e.is_empty=function(e){return 0==e.length},e.is_match_regex=function(e,t){return new RegExp(t,"").test(e)},e.last_index_of=function(e,t,n){return e.lastIndexOf(t,n)},e.match=function(e,t){try{var n=new RegExp(t,"").exec(e);return n?l.Collection.mkStrings(i.Util.toArray(n)):l.Collections.create_string_collection()}catch(e){return l.Time.log("invalid regex pattern: "+t),l.Collections.create_string_collection()}},e.matches=function(e,t){try{var n=new RegExp(t,"g"),i=e.match(n);return l.Collection.mkStrings(i||[])}catch(e){return l.Time.log("invalid regex pattern: "+t),l.Collections.create_string_collection()}},e.remove=function(e,t){return e.slice(0,t)},e.replace=function(e,t,n){return t?e.split(t).join(n):e},e.replace_regex=function(e,t,n){try{var i=new RegExp(t,"g");return e.replace(i,n)}catch(e){return void l.Time.log("invalid regex pattern: "+t)}},e.replace_regex_with_converter=function(e,t,n,i){try{var r=new RegExp(t,"g")}catch(e){return void l.Time.log("invalid regex pattern: "+t)}return e.replace(r,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i.rt.runUserAction(n,[l.Collection.fromArray(e,"string")])})},e.starts_with=function(e,t){return 0==e.indexOf(t)},e.substring=function(e,t,n){return e.substr(t,n)},e.trim=o,e.trim_start=a,e.trim_end=s,e.to_time=function(e){if(null!=e){var t=o(e," \t\n\r").match(/(\d{1,2})\s*:\s*(\d{1,2})\s*(:\s*(\d{1,2}))?\s*(pm|am)?/i);if(t){var n=parseFloat(t[1]);t[5]&&/pm/i.test(t[5])&&(n+=12);var i=parseFloat(t[2]),r=t[4]?parseFloat(t[4]):0;return 3600*l.Math_.clamp(0,23,n)+60*l.Math_.clamp(0,59,i)+r}}},e.to_number=c,e.to_boolean=function(e){return"true"==e.trim().toLocaleLowerCase()},e.to_location=function(e){for(var t=a(s(e,")}] "),"([{ "),n=0;n<",;:".length;++n){var i=t.indexOf(",;:"[n]);if(-1<i){var r=c(t.substring(0,i)),o=c(t.substring(i+1));if(r&&o&&!isNaN(r)&&!isNaN(o))return l.Location_.mkShort(r,o)}}},e.share=function(e,t,n){i.HTML.showProgressNotification(i.lf("sharing text...")),l.ShareManager.shareTextAsync(e,t).done(function(){return n.resume()})},e.copy_to_clipboard=function(e,t){l.ShareManager.copyToClipboardAsync(e).done(function(){return t.resume()})},e.to_datetime=function(e){return l.DateTime.parse(e)},e.to_color=function(e){return l.Color.fromHtml(e)},e.picker=function(){var t=i.HTML.mkTextInput("text",i.lf("color"));return{html:t,validate:function(){return!0},get:function(){return t.value},set:function(e){t.value=e+""}}},e.to_json=function(e){return l.JsonObject.wrap(e)}})((l=i.RT||(i.RT={})).String_||(l.String_={}))}(TDev||(TDev={})),function(i){var t,e;t=i.RT||(i.RT={}),e=function(e){function n(){e.call(this),this.items=new Object,this.length=0}return __extends(n,e),n.mk=function(e){var t=new n;return t.items=i.Util.clone(e),t.length=Object.keys(t.items).length,t},n.prototype.count=function(){return this.length},n.prototype.keys=function(){var e=Object.keys(this.items);return t.Collection.mkStrings(e)},n.prototype.at=function(e){return this.items[e]},n.prototype.set_at=function(e,t){var n=this.items[e];n!=t&&(null!=n&&(this.length--,delete this.items[e]),null!=t&&(this.items[e]=t,this.length++))},n.prototype.to_json=function(){return t.JsonObject.wrap(this.exportJson(null))},n.prototype.from_json=function(e){this.importJson(null,e.value())},n.prototype.exportJson=function(e){var t=this,n={};return Object.keys(this.items).forEach(function(e){n[e]=t.items[e]}),n},n.prototype.importJson=function(e,n){var i=this;if("object"!=typeof n||Array.isArray(n))return this.clear(),this;this.items={},this.length=0,Object.keys(n).forEach(function(e){var t=n[e];"string"==typeof t&&(i.items[e]=t,i.length++)})},n.prototype.clear=function(){this.items=new Object,this.length=0},n.prototype.set_many=function(n){var i=this;Object.keys(n.items).forEach(function(e){var t=n.at(e);i.set_at(e,t)})},n.prototype.remove=function(e){null!=this.items[e]&&(this.length--,delete this.items[e])},n.prototype.toString=function(){var t=this;return"{"+Object.keys(this.items).map(function(e){return e+"->"+t.at(e)}).join(",")+"}"},n.prototype.get_enumerator=function(){return Object.keys(this.items)},n.prototype.post_to_wall=function(e){e.rt.postBoxedText(this.toString(),e.pc)},n.prototype.debuggerDisplay=function(e){return i.span(null,"String Map["+this.length+"]").withClick(e)},n.prototype.debuggerChildren=function(){var t={},n=this.items;return Object.keys(n).forEach(function(e){return t['"'+e+'"']=n[e]}),t},n}(t.RTValue),t.StringMap=e}(TDev||(TDev={})),function(a){var e,t;e=a.RT||(a.RT={}),t=function(t){function i(){t.apply(this,arguments),this._text=void 0,this._icon=void 0,this._font_size=void 0,this._background=void 0,this._foreground=void 0,this._border=void 0}return __extends(i,t),i.mk=function(e,t){var n=new i;return n._text=e,n._font_size=t,n},i.prototype.text=function(){return this._text},i.prototype.set_text=function(e,t){this._text=e,this.updateOnWall(t,this.box)},i.prototype.icon=function(){return this._icon},i.prototype.set_icon=function(e,t){this._icon=e,this.updateOnWall(t,this.box)},i.prototype.font_size=function(){return this._font_size},i.prototype.set_font_size=function(e,t){this._font_size=e,this.updateOnWall(t,this.box)},i.prototype.background=function(){return this._background},i.prototype.set_background=function(e,t){this._background=e,this.updateOnWall(t,this.box)},i.prototype.foreground=function(){return this._foreground},i.prototype.set_foreground=function(e,t){this._foreground=e,this.updateOnWall(t,this.box)},i.prototype.border=function(){return this._border},i.prototype.set_border=function(e,t){this._border=e,this.updateOnWall(t,this.box)},i.prototype.getViewCore=function(e,t){return this._el=a.div("wall-text"),this.box=t,this.updateOnWall(e,t),this._el},i.prototype.updateOnWall=function(e,t){var n=this._el;if(n){n.setChildren([]);var i=n.style;if(i.margin="0.5em",this._background?i.backgroundColor=this._background.toHtml():i.backgroundColor="#F0F0F0",this._foreground?i.color=this._foreground.toHtml():i.color=null,this._border?i.border="3px solid "+this._border.toHtml():i.border=null,this._icon){var r=a.div("",this._icon.getViewCore(e,t));r.style.display="inline",r.style.margin="8px 8px 8px 8px",n.appendChild(r)}var o=a.div("",this._text);o.style.display="inline",o.style.margin="8px 8px 8px 8px",o.style.verticalAlign="top",this._font_size&&(o.style.fontSize=(this._font_size/20*.8).toFixed(1)+"em"),n.appendChild(o),t.RefreshOnScreen()}},i.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},i}(e.RTValue),e.TextBox=t}(TDev||(TDev={})),function(r){var a;(function(e){var n;function t(e){return e&&e.rt.registerTimeDependency(),a.DateTime.mk(new Date)}function i(){return t().date()}e.rt_start=function(e){n=void 0},e.rt_stop=function(e){n&&n.pause(),n=void 0},e.on_every_frame=function(e,t){return n||(n=new a.Timer(t.rt,.02,!1)),n.on_trigger(e)},e.run_after=function(e,t,n){e=Math.max(.02,e);var i=new a.Timer(n.rt,e,!0);return i.on_trigger(t),i},e.run_every=function(e,t,n){e=Math.max(.02,e);var i=new a.Timer(n.rt,e,!1);return i.on_trigger(t),i},e.sleep=function(e,t){t.rt.yield_now(),r.Util.setTimeout(1e3*e,function(){t.rt.yield_now(),t.resume()})},e.now=t,e.today=i,e.tomorrow=function(){return i().add_days(1)},e.fail_if_not=function(e){a.App.fail_if_not(e)},e.stop=function(e){a.App.stop(e)},e.log=function(e){a.App.log(e)},e.stop_and_close=function(e){a.App.stop(e)},e.create=function(e,t,n,i,r,o){return a.DateTime.mkFull(e,t,n,i,r,o)}})((a=r.RT||(r.RT={})).Time||(a.Time={}))}(TDev||(TDev={})),function(r){var o,e;o=r.RT||(r.RT={}),e=function(i){function e(e,t,n){void 0===n&&(n=!0),i.call(this),this.rt=e,this.interval=t,this.oneTime=n,this.armed=!1,this.active=!0,this.version=e.versionNumber,this.handlerEvent=new o.Event_}return __extends(e,i),e.prototype.clear=function(){this.handlerEvent.clearHandlers(),this.pause()},e.prototype.on_trigger=function(e){var t=this.handlerEvent.addHandler(e);return this.arm(),t},e.prototype.is_active=function(){return this.active},e.prototype.is_interval=function(){return!this.oneTime},e.prototype.set_interval=function(e){this.interval=e,this.oneTime=!1},e.prototype.set_timeout=function(e){this.interval=e,this.oneTime=!0},e.prototype.pause=function(){this.active=!1},e.prototype.resume=function(){this.active=!0,this.arm()},e.prototype.arm=function(){var e=this;if(!this.armed&&!this.rt.isStopped()&&this.version==this.rt.versionNumber){var t=1e3*this.interval,n=function(){e.armed=!1,e.version==e.rt.versionNumber&&(e.oneTime?e.active=!1:e.rt&&e.handlerEvent.handlers&&e.active&&!e.armed&&(e.armed=!0,r.Util.setTimeout(t,n)),0==e.handlerEvent.pendinghandlers&&e.rt.queueLocalEvent(e.handlerEvent))};this.rt&&this.handlerEvent.handlers&&this.active&&!this.armed&&(this.armed=!0,r.Util.setTimeout(t,n))}},e}(o.RTValue),o.Timer=e}(TDev||(TDev={})),function(e){var o,t;o=e.RT||(e.RT={}),t=function(n){function r(e,t){n.call(this),this._x=e,this._y=t}return __extends(r,n),r.mk=function(e,t){return new r(e,t)},r.prototype.x=function(){return this._x},r.prototype.y=function(){return this._y},r.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y)},r.prototype.distance=function(e){return this.subtract(e).length()},r.prototype.negate=function(){return r.mk(-this._x,-this._y)},r.prototype.normalize=function(){return this.scale(1/this.length())},r.prototype.add=function(e){return r.mk(this._x+e._x,this._y+e._y)},r.prototype.subtract=function(e){return r.mk(this._x-e._x,this._y-e._y)},r.prototype.multiply=function(e){return r.mk(this._x*e._x,this._y*e._y)},r.prototype.scale=function(e){return r.mk(this._x*e,this._y*e)},r.dot=function(e,t){return e._x*t._x+e._y*t._y},r.prototype.clamp=function(e,t){return r.mk(o.Math_.clamp(e._x,t._x,this._x),o.Math_.clamp(e._y,t._y,this._y))},r.prototype.linear_interpolation=function(e,t){var n=o.Math_.normalize(t),i=1-n;return r.mk(n*this._x+i*e._x,n*this._y+i*e._y)},r.prototype.to_string=function(){return"("+this._x+","+this._y+")"},r.prototype.rotate90Left=function(){return r.mk(-this._y,this._x)},r.prototype.equals=function(e){return this._x==e._x&&this._y==e._y},r}(o.RTValue),o.Vector2=t}(TDev||(TDev={})),function(n){var o,e;o=n.RT||(n.RT={}),e=function(i){function r(e,t,n){i.call(this),this._x=e,this._y=t,this._z=n}return __extends(r,i),r.mk=function(e,t,n){return new r(e,t,n)},r.prototype.toJsonKey=function(){return[this._x,this._y,this._z]},r.prototype.keyCompareTo=function(e){var t=e,n=this._x-t._x;return n||((n=this._y-t._y)?n:n=this._z-t._z)},r.prototype.exportJson=function(e){return[this._x,this._y,this._z]},r.prototype.importJson=function(e,t){n.Util.oops("should not call immutable instance for importing")},r.mkFromJson=function(e,t){if(Array.isArray(t)&&3===t.length){var n=function(e){return"number"==typeof e?e:0};return new r(n(t[0]),n(t[1]),n(t[2]))}},r.prototype.x=function(){return this._x},r.prototype.y=function(){return this._y},r.prototype.z=function(){return this._z},r.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z)},r.prototype.distance=function(e){return this.subtract(e).length()},r.prototype.negate=function(){return r.mk(-this._x,-this._y,-this._z)},r.prototype.normalize=function(){return this.scale(1/this.length())},r.prototype.add=function(e){return r.mk(this._x+e._x,this._y+e._y,this._z+e._z)},r.prototype.subtract=function(e){return r.mk(this._x-e._x,this._y-e._y,this._z-e._z)},r.prototype.multiply=function(e){return r.mk(this._x*e._x,this._y*e._y,this._z*e._z)},r.prototype.scale=function(e){return r.mk(this._x*e,this._y*e,this._z*e)},r.prototype.clamp=function(e,t){return r.mk(o.Math_.clamp(e._x,t._x,this._x),o.Math_.clamp(e._y,t._y,this._y),o.Math_.clamp(e._z,t._z,this._z))},r.prototype.cross=function(e){return r.mk(this._y*e._z-this._z*e._y,this._z*e._x-this._x*e._z,this._x*e._y-this._y*e._x)},r.prototype.linear_interpolation=function(e,t){var n=o.Math_.normalize(t),i=1-n;return r.mk(n*this._x+i*e._x,n*this._y+i*e._y,n*this._z+i*e._z)},r.prototype.to_string=function(){return"("+this._x.toPrecision(6)+","+this._y.toPrecision(6)+","+this._z.toPrecision(6)+")"},r.prototype.toString=function(){return this.to_string()},r.prototype.post_to_wall=function(e){i.prototype.post_to_wall.call(this,e)},r.zero=r.mk(0,0,0),r}(o.RTValue),o.Vector3=e}(TDev||(TDev={})),function(e){var a,t;a=e.RT||(e.RT={}),t=function(r){function o(e,t,n,i){r.call(this),this._x=e,this._y=t,this._z=n,this._w=i}return __extends(o,r),o.mk=function(e,t,n,i){return new o(e,t,n,i)},o.fromV3=function(e,t){return new o(e.x(),e.y(),e.z(),t)},o.fromV2=function(e,t,n){return new o(e.x(),e.y(),t,n)},o.fromV2V2=function(e,t){return new o(e.x(),e.y(),t.x(),t.y())},o.prototype.x=function(){return this._x},o.prototype.y=function(){return this._y},o.prototype.z=function(){return this._z},o.prototype.w=function(){return this._w},o.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},o.prototype.distance=function(e){return this.subtract(e).length()},o.prototype.negate=function(){return o.mk(-this._x,-this._y,-this._z,-this._w)},o.prototype.normalize=function(){return this.scale(1/this.length())},o.prototype.add=function(e){return o.mk(this._x+e._x,this._y+e._y,this._z+e._z,this._w+e._w)},o.prototype.subtract=function(e){return o.mk(this._x-e._x,this._y-e._y,this._z-e._z,this._w-e._w)},o.prototype.multiply=function(e){return o.mk(this._x*e._x,this._y*e._y,this._z*e._z,this._w*e._w)},o.prototype.scale=function(e){return o.mk(this._x*e,this._y*e,this._z*e,this._w*e)},o.prototype.clamp=function(e,t){return o.mk(a.Math_.clamp(e._x,t._x,this._x),a.Math_.clamp(e._y,t._y,this._y),a.Math_.clamp(e._z,t._z,this._z),a.Math_.clamp(e._w,t._w,this._w))},o.prototype.linear_interpolation=function(e,t){var n=a.Math_.normalize(t),i=1-n;return o.mk(n*this._x+i*e._x,n*this._y+i*e._y,n*this._z+i*e._z,n*this._w+i*e._w)},o.prototype.to_string=function(){return"("+this._x+","+this._y+","+this._z+","+this._w+")"},o.prototype.withX=function(e){return o.mk(e,this._y,this._z,this._w)},o.prototype.withY=function(e){return o.mk(this._x,e,this._z,this._w)},o.prototype.withZ=function(e){return o.mk(this._x,this._y,e,this._w)},o.prototype.withW=function(e){return o.mk(this._x,this._y,this._z,e)},o}(a.RTValue),a.Vector4=t}(TDev||(TDev={})),function(c){var l,n;(function(e){var a=c.HTML;function s(e){var t=c.div("wall-dialog-body");return c.Browser.setInnerHTML(t,c.Util.formatText(e)),t}function t(){return l.Collection.mkStrings(["add","back","cancel","check","close","delete","download","edit","favs.addto","favs","feature.camera","feature.email","feature.search","feature.settings","feature.video","folder","minus","new","next","questionmark","refresh","save","share","stop","sync","transport.ff","transport.pause","transport.play","transport.rew","upload"])}e.clear=function(e){e.rt.clearWall()},e.display_search=function(e){},e.body=s,e.prompt=function(e,t){t.rt;var n=new c.ModalDialog;n.add([s(e),c.div("wall-dialog-buttons",[a.mkButtonOnce("ok",function(){return n.dismiss()})])]),n.onDismiss=function(){return t.resume()},n.show()},e.ask_boolean=function(e,t,n){n.rt;var i=!1,r=new c.ModalDialog;r.add([c.div("wall-dialog-header",e),s(t),c.div("wall-dialog-buttons",[a.mkButton(c.lf("no"),function(){i=!1,r.dismiss()}),a.mkButton(c.lf("yes"),function(){i=!0,r.dismiss()})])]),r.onDismiss=function(){return n.resumeVal(i)},r.show()},e.ask_number=function(e,t){t.rt;var n=a.mkTextInput("number",c.lf("enter a number"));n.value="";var i=0,r=new c.ModalDialog;r.add([s(e),c.div("wall-dialog-input",n),c.div("wall-dialog-buttons",[a.mkButton(c.lf("ok"),function(){i=n.valueAsNumber,isFinite(i)||(i=parseFloat(n.value)),isFinite(i)||(i=void 0),r.dismiss()})])]),r.onDismiss=function(){return t.resumeVal(i)},r.show(),c.Util.setKeyboardFocus(n)},e.ask_string=function(e,t){t.rt;var n=a.mkTextArea("variableDesc"),i=n.value="",r=new c.ModalDialog;r.add([s(e),c.div("wall-dialog-input",n),c.div("wall-dialog-buttons",[a.mkButton(c.lf("ok"),function(){i=n.value,r.dismiss()})])]),r.onDismiss=function(){return t.resumeVal(i)},r.show(),c.Util.setKeyboardFocusTextArea(n)},e.screenshot=function(t){n.toScreenshotURLAsync(t.rt.host,!0).then(function(e){return null!=e?l.Picture.fromUrl(e):c.Promise.as(void 0)}).done(function(e){return t.resumeVal(e)})},e.create_text_box=function(e,t){return l.TextBox.mk(e,t)},e.pick_string=function(e,t,n,i){i.rt;var r=new c.ModalDialog,o=-1,a=n.a.map(function(e,t){return c.div("modalDialogChooseItem",e).withClick(function(){o=t,r.dismiss()})});r.add([c.div("wall-dialog-header",e),s(t)]),r.onDismiss=function(){return i.resumeVal(o)},r.choose(a)},e.pick_time=function(e,t,n){n.rt;var i=a.mkTextInput("time",c.lf("enter a time"));i.style.borderStyle="hidden",i.style.borderColor="red",i.onkeyup=function(e){i.style.borderStyle=null!=l.String_.to_time(i.value)?"hidden":"solid"};var r=void 0,o=new c.ModalDialog;o.add([c.div("wall-dialog-header",e),s(t),c.div("wall-dialog-input",i),s("Enter a time like 15:43 or 3:43pm or 15:43:20 or 3:43:20pm"),c.div("wall-dialog-buttons",[a.mkButton(c.lf("ok"),function(){var e=l.String_.to_time(i.value);null!=e&&(r=l.Time.today().add_seconds(e)),o.dismiss()})])]),o.onDismiss=function(){return n.resumeVal(r)},o.show(),c.Util.setKeyboardFocus(i)},e.pick_date=function(e,t,n){n.rt;var i=a.mkTextInput("date",c.lf("enter a date"));i.style.borderStyle="hidden",i.style.borderColor="red",i.onkeyup=function(e){i.style.borderStyle=null!=l.DateTime.parse(i.value)?"hidden":"solid"};var r=void 0,o=new c.ModalDialog;o.add([c.div("wall-dialog-header",e),s(t),c.div("wall-dialog-input",i),c.div("wall-dialog-buttons",[a.mkButton(c.lf("ok"),function(){r=l.DateTime.parse(i.value),o.dismiss()})])]),o.onDismiss=function(){return n.resumeVal(r)},o.show(),c.Util.setKeyboardFocus(i)},e.set_foreground=function(e,t){t.rt.getCurrentPage().fgColor=e.toHtml(),t.rt.applyPageAttributes(!0)},e.clear_background=function(e){var t=e.rt.getCurrentPage();t.bgColor=null,t.bgPicture=null,t.bgPictureUrl=null,t.bgVideo=null,e.rt.applyPageAttributes(!0)},e.set_background=function(e,t){t.rt.getCurrentPage().bgColor=e.toHtml(),t.rt.applyPageAttributes(!0)},e.set_page_transition_style=function(e,t){t.rt.pageTransitionStyle=e},e.set_background_picture=function(e,t){var n=t.rt.getCurrentPage(),i=e.getReadonlyUrlSync();i?(n.bgPictureUrl=i,n.bgPicture=null,t.rt.applyPageAttributes(!0),t.resume()):e.loadFirst(t,function(){0!==e.widthSync()&&0!==e.heightSync()&&(n.bgPictureWidth=e.widthSync(),n.bgPictureHeight=e.heightSync(),n.bgPicture=e.getViewCanvas(),n.bgPictureUrl=null,t.rt.applyPageAttributes(!0))})},e.set_background_camera=function(e,t){e.getVideoAsync(t.rt).then(function(e){e&&(t.rt.getCurrentPage().bgVideo=e,t.rt.applyPageAttributes(!0)),t.resume()}).done()},e.set_transform_matrix=function(e,t,n,i,r,o){},e.set_reversed=function(e,t){t.rt.setWallDirection(e)},e.show_title_bar=function(e,t){t.rt.getCurrentPage().chromeVisible=e,t.rt.applyPageAttributes(!0)},e.show_back_button=function(e,t){t.rt.getCurrentPage().backButtonVisible=e,t.rt.applyPageAttributes(!0)},e.set_title=function(e,t){t.rt.getCurrentPage().title=e,t.rt.applyPageAttributes(!0)},e.set_subtitle=function(e,t){t.rt.getCurrentPage().subtitle=e,t.rt.applyPageAttributes(!0)},e.icon_names=function(){return t()},e.clear_buttons=function(e){e.rt.clearPageButtons()},e.add_button=function(e,t,n){if(n.rt.getPageButtons().length<4){8<t.length?t=t.substr(0,8):0==t.length&&(t="???");var i=l.PageButton.mk(e,t,n.rt.getCurrentPage().rtPage());return n.rt.addPageButton(i),n.rt.applyPageAttributes(!0),i}},e.current_page=function(e){return e.rt.getCurrentPage().rtPage()},e.push_new_page=function(e){return e.rt.forceNonRender("You may not push a page here"),e.rt.pushPage().rtPage()},e.pop_page=function(e){return e.rt.forceNonRender("You may not pop a page here"),e.rt.popPage()},e.pop_page_with_transition=function(e,t){return t.rt.forceNonRender("You may not pop a page here"),t.rt.popPage(e)},e.pages=function(e){for(var t=e.rt.getPageCount(),n=[],i=0;i<t;++i)n.push(e.rt.getPageAt(i).rtPage());return l.Collection.mkAny(l.Page,n)},e.button_icon_names=t,e.width=function(e){return e.rt.host.fullWallWidth()},e.height=function(e){return e.rt.host.fullWallHeight()}})((l=c.RT||(c.RT={})).Wall||(l.Wall={})),(n=l.ScreenshotManager||(l.ScreenshotManager={})).toScreenshotURLAsync=function(e,t){var n;if(l.App.env().has_host())return l.App.hostExecAsync("screen.screenshot").then(function(e){return n=e,t?c.Promise.as():l.App.hostExecAsync("screen.show")}).then(function(){return n});var i=e.toScreenshotCanvas();try{var r=i?i.toDataURL("image/png"):void 0;return c.Promise.as(r)}catch(e){return c.Promise.as(void 0)}}}(TDev||(TDev={})),function(q){!function(R){var c;(c=R.BingServices||(R.BingServices={})).searchAsync=function(e,t,n){if(!t)return q.Promise.as([]);var i="runtime/web/search?kind="+encodeURIComponent(e)+"&query="+encodeURIComponent(t);return n&&(i+="&latitude="+encodeURIComponent(n.latitude().toString())+"&longitude="+encodeURIComponent(n.longitude().toString())),R.WebRequest.mk(q.Cloud.getPrivateApiUrl(i),void 0).sendAsync().then(function(e){return function(e){var t=[];try{var n=e.content_as_json();if(n)for(var i=0;i<n.count();++i){var r=n.at(i),o=r.string("address"),a=r.string("name"),s=r.string("thumb"),c=r.string("web");null!=o&&0<o.length&&t.push({url:o,name:a,thumbUrl:s,web:c})}return t}catch(e){}return t}(e)})};var l=function(n){function e(e,t){n.call(this,e),this.source=t,this.onMessages={}}return __extends(e,n),e.prototype.on_message=function(e,t){var n=this;e&&!/^close|error$/i.test(e)||q.Util.userError(q.lf("name cannot be 'close' or 'error'"));var i=this.onMessages[e];return i||(i=new R.Event_,this.source&&this.source.addEventListener(e,function(e){if(n.source&&i.handlers){var t=e.data||"";n.rt.queueLocalEvent(i,[t])}},!1)),i.addHandler(t)},e.prototype.state=function(){if(!this.source)return"closed";switch(this.source.readyState){case 0:return"connecting";case 1:return"open";case 2:return"closed";default:return"unkown"}},e.prototype.on_open=function(e){var t=this;return this.onOpen||(this.onOpen=new R.Event_,this.source&&this.source.addEventListener("open",function(e){t.source&&t.onOpen.handlers&&t.rt.queueLocalEvent(t.onOpen)},!1)),this.onOpen.addHandler(e)},e.prototype.on_error=function(e){var t=this;return this.onError||(this.onError=new R.Event_,this.source&&this.source.addEventListener("error",function(e){t.source&&t.onError.handlers&&t.rt.queueLocalEvent(t.onError)},!1)),this.onError.addHandler(e)},e.prototype.close=function(){if(this.source){try{this.source.close()}catch(e){}this.source=void 0}},e.prototype.dispose=function(){this.close(),n.prototype.dispose.call(this)},e}(R.RTDisposableValue);R.WebEventSource=l,function(p){function r(e,t,n,a,i){c.searchAsync(e,t,n).done(function(e){var o=R.Collections.create_link_collection();e.forEach(function(e){var t,n,i,r;o.add((t=e,n=a,i=R.Link.mk(t.url,n),0<(r=t.name.indexOf(" : "))?(i.set_title(t.name.slice(0,r)),i.set_description(t.name.slice(r+3))):i.set_name(t.name),i))}),i.resumeVal(o)})}function o(e){return R.WebRequest.mk(e,"text")}function D(e){if(!e)return e;var t=e.replace(/<[^>]+>/gi,"");return p.html_decode(t).replace(/<[^>]+>/gi,"")}function i(e,t){var n=e.child("channel");if(n)for(var i=/^image\/(png|jpg|jpeg)$/i,r=q.Browser.isGecko?/^video\/webm|audio\/mp3$/i:/^video\/mp4|audio\/mp3$/i,o=n.children("item"),a=0;a<o.count();++a){var s=o.at(a),c=R.Message.mk("");c.set_from(void 0),t.add(c);var l=s.child("description");l&&P(c,l.value());var u=s.child("title");u&&c.set_title(D(u.value()));var d=s.child("link");d&&c.set_link(d.value());var p=s.child("pubDate");p&&c.set_time(R.DateTime.parse(p.value()));var h=s.child("{http://www.microsoft.com/dtds/mavis/}speaker");h&&c.set_from(D(h.value()));var m=s.child("{http://www.itunes.com/dtds/podcast-1.0.dtd}author");m&&c.set_from(D(m.value()));var f=s.child("creator");f&&c.set_from(D(f.value()));var g=s.child("{http://www.itunes.com/dtds/podcast-1.0.dtd}image");g&&g.attr("href")&&c.set_picture_link(g.attr("href"));var v=s.child("enclosure");if(v){var y=v.attr("type")||"";i.test(y)?c.set_picture_link(v.attr("url")):r.test(y)&&c.set_media_link(v.attr("url"))}for(var b=s.children("{http://search.yahoo.com/mrss/}thumbnail"),_=-1,w=0;w<b.count();++w){var k=b.at(w),x=(R.String_.to_number(k.attr("width"))||1)*(R.String_.to_number(k.attr("height"))||1);k.attr("url")&&_<x&&(c.set_picture_link(k.attr("url")),_=x)}var C=s.child("{http://search.yahoo.com/mrss/}group");if(C)for(var S=C.children("{http://search.yahoo.com/mrss/}content"),A=0,T=0;T<S.count();++T){var L=S.at(T),M=R.String_.to_number(L.attr("fileSize"))||0,E=L.attr("url"),N=L.attr("type");E&&r.test(N)&&A<M&&(c.set_media_link(E),A=M)}I(c,s)}}function I(e,t){var n=t.child("{http://www.georss.org/georss}point");if(n){var i=n.value(),r=i.indexOf(" ");if(0<r){var o=parseFloat(i.substr(0,r)),a=parseFloat(i.substr(r+1));isNaN(o)||isNaN(a)||e.set_location(R.Location_.mkShort(o,a))}}}function f(e,t){var n=t.child("{http://schemas.microsoft.com/ado/2007/08/dataservices/metadata}properties");if(n)for(var i=n.children(""),r=0;r<i.count();++r){var o=i.at(r);e.values().set_at(o.local_name(),o.value())}}function P(e,t){if(t){e.set_message(D(t));var n=function(e){if(!e)return e;var t=e.match(/<img.*?src=['"](.*?)['"].*?\/?>/i);return t?t[1]:null}(t);n&&e.set_picture_link(n)}}function a(e,t){var n=e.child("title"),i=(n&&n.value(),e.children("entry"));if(i)for(var r=0;r<i.count();++r){var o=i.at(r),a=R.Message.mk("");a.set_from(void 0),t.add(a);var s=o.child("summary");s&&P(a,s.value());var c=o.child("title");c&&a.set_title(D(c.value()));var l=o.child("updated");if(l){var u=R.DateTime.parse(l.value());u&&a.set_time(u)}var d=o.child("content");if(d){var p=d.attr("type")||"";/^image\//i.test(p)&&d.attr("src")?a.set_picture_link(d.attr("src")):/^application\/xml/i.test(p)?f(a,d):/html/i.test(p)&&P(a,d.value())}var h=o.child("author");if(h){var m=h.child("name");m&&a.set_from(m.value())}I(a,o)}}function t(e){for(var t=R.Collections.create_message_collection(),n=R.XmlObject.mk(e);null!=n;){if("rss"===n.name()){i(n,t);break}if("feed"===n.name()){a(n,t);break}n=n.next_sibling()}return t}function s(t,e){e||q.Util.userError(q.lf("origin cannot be empty"));var n=t.webState;n._onReceivedMessageEvent||(n._onReceivedMessageEvent=new R.Event_,n._messageWaiters=[],q.isWebWorker||(n.receiveMessage=function(e){return function(e,n){var t=e.webState;if(window!=window.parent&&n.source===window.parent&&t._onReceivedMessageEvent){R.App.log("web: receiving message from parent");var i=R.JsonObject.wrap(n.data),r=t._messageWaiters.filter(function(e){return e.origin===n.origin});0<r.length&&(t._messageWaiters=t._messageWaiters.filter(function(e){return e.origin!==n.origin}),r.forEach(function(e){return e.handler(i)})),t._onReceivedMessageEvent.handlers&&e.queueLocalEvent(t._onReceivedMessageEvent,[i],!1,!1,function(e){var t=e.data;return n.origin===t})}}(t,e)},window.addEventListener("message",n.receiveMessage,!1)))}function n(e){var t=e.webState;t._onReceivedMessageEvent&&(t.receiveMessage&&window.removeEventListener("message",t.receiveMessage,!1),t._onReceivedMessageEvent=void 0,t._messageWaiters=void 0)}p.rt_start=function(e){n(e)},p.rt_stop=function(e){n(e)},p.search=function(e,t){r("Web",e,void 0,5,t)},p.search_nearby=function(e,t,n,i){r("Web",e,t,5,i)},p.search_images=function(e,t){r("Images",e,void 0,2,t)},p.search_images_nearby=function(e,t,n,i){r("Images",e,t,2,i)},p.search_phone_numbers=function(e){},p.search_phone_numbers_nearby=function(e,t,n){},p.search_news=function(e,t){r("News",e,void 0,5,t)},p.search_news_nearby=function(e,t,n,i){r("News",e,t,5,i)},p.is_connected=function(){return window.navigator.onLine},p.connection_type=function(e){var t="unknown",n=navigator.connection;n&&(t=n.type||"unknown"),e.resumeVal(t)},p.connection_name=function(e){e.resumeVal("")},p.open_connection_settings=function(e,t){t.resume()},p.browse=function(e,t){p.browseAsync(e).done(function(){return t.resume()})},p.redirect=function(e,t){t.rt.devMode?q.Util.userError(q.lf("web->redirect not available when running in the editor")):q.Util.setTimeout(1500,function(){return q.Util.navigateInWindow(e)})},p.browseAsync=function(r){var e=window.open(r,"_blank");try{return e.focus(),q.Promise.as()}catch(e){return new q.Promise(function(e,t,n){var i=new q.ModalDialog;i.onDismiss=function(){return e(void 0)},i.add(q.div("wall-dialog-header",q.lf("web browsing..."))),i.add(q.div("wall-dialog-body",q.lf("We tried to open the following web page: {0}",r))),i.add(q.div("wall-dialog-body",q.lf("If the page did not open, tap the 'open' button below, otherwise tap 'done'."))),i.add(q.div("wall-dialog-buttons",q.HTML.mkA("button wall-button",r,"_blank","open"),q.HTML.mkButton(q.lf("done"),function(){i.dismiss()}))),i.show()})}},p.play_media=function(e){window.open(e)},p.link_media=function(e){return R.Link.mk(e,1)},p.link_image=function(e){return R.Link.mk(e,2)},p.link_url=function(e,t){var n=R.Link.mk(t,5);return n.set_name(e),n},p.link_deep_zoom=function(e){},p.proxy=function(e){if(!q.Cloud.hasAccessToken())return e;if(!e||/^http:\/\/localhost(:[0-9]+)?\//i.test(e))return e;var t=e.match(/^http:\/\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)(:[0-9]+)?\//i);if(t){var n=parseInt(t[1]);if(10==n)return e;var i=parseInt(t[2]);if(172==n&&16<=i&&i<=31)return e;if(192==n&&168==i)return e}return q.Cloud.getPrivateApiUrl("runtime/web/proxy?url="+encodeURIComponent(e))},p.download=function(e,t){t.progress("Downloading..."),o(e).sendAsync().done(function(e){return t.resumeVal(e.content())},function(e){return t.resumeVal(void 0)})},p.download_json=function(e,t){t.progress("Downloading...");var n=o(e);n.set_accept("application/json"),n.sendAsync().done(function(e){return t.resumeVal(e.content_as_json())},function(e){return t.resumeVal(void 0)})},p.download_xml=function(e,t){var n=o(e);t.progress("Downloading..."),n.set_accept("text/xml"),n.sendAsync().done(function(e){return t.resumeVal(e.content_as_xml())},function(e){return t.resumeVal(void 0)})},p.download_sound=function(e,t){t.progress("Downloading..."),R.Sound.fromUrl(e).done(function(e){return t.resumeVal(e)})},p.download_song=function(e,t){return R.Song.mk(e,void 0,t)},p.upload=function(e,t,n){var i=o(e);n.progress("Uploading..."),i.set_method("post"),i.set_content(t),i.sendAsync().done(function(e){return n.resumeVal(e.content())},function(e){return n.resumeVal(void 0)})},p.upload_sound=function(e,t,n){var i=o(e);n.progress("Uploading..."),i.set_method("post"),i.setContentAsSoundInternal(t),i.sendAsync().done(function(e){return n.resumeVal(e.content())},function(e){return n.resumeVal(void 0)})},p.upload_picture=function(e,t,n){var i=o(e);n.progress("Uploading..."),i.set_method("post"),t.initAsync().then(function(){return i.setContentAsPictureInternal(t,.85),i.sendAsync()}).done(function(e){return n.resumeVal(e.content())},function(e){return n.resumeVal(void 0)})},p.download_picture=function(e,t){t.progress("Downloading...");var n=void 0;R.Picture.fromUrl(e).then(function(e){return(n=e).initAsync()}).done(function(){return t.resumeVal(n)},function(e){return t.resumeVal(void 0)})},p.html_decode=function(e){return q.Util.htmlUnescape(e)},p.html_encode=function(e){return q.Util.htmlEscape(e)},p.decode_uri=function(e){return decodeURI(e)},p.encode_uri=function(e){return encodeURI(e)},p.decode_uri_component=function(e){return decodeURIComponent(e)},p.encode_uri_component=function(e){return encodeURIComponent(e)},p.url_decode=function(e){return decodeURIComponent(e)},p.url_encode=function(e){return encodeURIComponent(e)},p.json=function(e){return R.JsonObject.mk(e,function(e){R.App.logEvent(R.App.DEBUG,"json",q.lf("error parsing json: {0}",e),void 0)})},p.json_object=function(){return R.JsonObject.wrap({})},p.json_array=function(){return R.JsonObject.wrap([])},p.xml=function(e){return R.XmlObject.mk(e)},p.rss=function(e){return t(e)},p.create_request=o,p.open_web_socket=function(t,n){var e=new WebSocket(t);e.onopen=function(){e.onerror=null,e.onopen=null,n.resumeVal(R.WebSocket_.mk(e,n.rt))},e.onerror=function(e){R.App.log("Error opening WebSocket to "+t+": "+e.message),n.resumeVal(void 0)}},p.base64_decode=function(e){var t=q.Util.base64Decode(e);try{return q.Util.fromUTF8(t)}catch(e){return t}},p.base64_encode=function(e){return q.Util.base64Encode(q.Util.toUTF8(e))},p.feed=t,p.create_json_builder=function(){return new R.JsonBuilder},p.csv=function(e,t){var n=(new q.CsvParser).parse(e,t);return R.JsonObject.wrap(n)},p.picture=function(e){return R.Picture.fromUrlSync(e,!0)},p.oauth_v2=function(e,t){if(e)if(/state=|redirect_uri=/i.test(e))t.resumeVal(R.OAuthResponse.mkError("access_denied","The `redirect_uri` and `state` query arguments are not allowed.",null));else if(p.is_connected()){var n=t.rt.currentAuthorId;p.oauth_v2_async(e,n).done(function(e){t.resumeVal(e)})}else t.resumeVal(R.OAuthResponse.mkError("access_denied","No internet connection.",null));else t.resumeVal(R.OAuthResponse.mkError("access_denied","Empty oauth url.",null))},p.oauth_v2_async=function(e,t){var n="https://www.touchdevelop.com/"+t+"/oauth",i="state="+q.Util.guidGen().replace("-",""),r=/^([^\/]+:\/\/[^\/]+)/.exec(document.URL),o=r?r[1]:"";o&&!/\.touchdevelop\.com$/i.test(o)&&(n=o+"/api/oauth",t="web-app");var a=n,s=/&tdredirectdomainid=([a-z0-9]{1,64})/i,c=e.match(s);if(c){var l=c[1];a="https://"+l+"-"+t+".users.touchdevelop.com/oauth",n="https://www.touchdevelop.com/"+l+"-"+t+"/oauth",R.App.log("oauth appid redirect: "+l),e=e.replace(s,"")}var u=/&tdstateinredirecturi=true/i;u.test(e)&&(a+="?"+i,R.Time.log("oauth adding state to url"),e=e.replace(u,"")),R.App.log("oauth login uri: "+e),R.App.log("oauth redirect uri: "+a);var d=e+(/\?/.test(e)?"&":"?")+"redirect_uri="+encodeURIComponent(a)+"&"+i;return/response_type=(token|code)/i.test(d)||(d+="&response_type=token"),R.App.log("oauth auth url: "+d),p.oauth_v2_dance_async(d,a,t,i)},p.oauth_v2_dance_async=function(e,t,n,i){var r,o,a=new q.PromiseInv,s=new q.ModalDialog;function c(e){var t=document.URL.replace(/(.*:\/\/[^\/]+).*/,function(e,t){return t});e.origin==t&&Array.isArray(e.data)&&u(e.data)}function l(e){"oauth_redirect"==e.key&&u(JSON.parse(e.newValue||"[]"))}function u(e){e.reverse();var t=e.filter(function(e){return n==e.user_id&&-1<e.redirect_url.indexOf(i)});return 0<t.length?(R.Time.log("oauth redirect_uri: "+t[0].redirect_url),r=R.OAuthResponse.parse(t[0].redirect_url),void s.dismiss()):!r&&o&&o.closed?(r=R.OAuthResponse.mkError("access_denied","The authentication window was closed",null),void s.dismiss()):void 0}return o=window.open(e,"_blank","menubar=no,toolbar=no"),s.add(q.div("wall-dialog-header",q.lf("authenticating..."))),s.add(q.div("wall-dialog-body",q.lf("A separate window with the sign in dialog has opened, please sign in in that window."))),s.add(q.div("wall-dialog-body",q.lf("Can't see any window? Try tapping the button below to log in manually."))),s.add(q.div("wall-dialog-buttons",q.HTML.mkA("button wall-button",e,"_blank","log in"))),s.onDismiss=function(){window.removeEventListener("message",c,!1),window.removeEventListener("storage",l,!1),r||(r=R.OAuthResponse.mkError("access_denied","The user cancelled the authentication.",null)),o&&o.close(),a.success(r)},s.show(),q.Util.setTimeout(100,function e(){r||(window.localStorage.setItem("last_oauth_check",Date.now()+""),u(JSON.parse(window.localStorage.getItem("oauth_redirect")||"[]")),r||q.Util.setTimeout(100,e))}),a},p.create_form_builder=function(){return new R.FormBuilder},p.post_message_to_parent=function(e,t,n){if(e&&"*"!=e||q.Util.userError(q.lf("target origin cannot be empty or *")),q.isWebWorker){var i=t.value();return n&&n.rt.pluginSlotId&&((i=q.Util.jsonClone(i)).tdSlotId=n.rt.pluginSlotId),void self.postMessage(i)}var r=window.parent;if(r&&r!=window&&r.postMessage)try{r.postMessage(t.value(),e)}catch(e){R.App.log("web: posting message to parent failed")}},p.receiveWorkerMessage=function(e,t){var n=e.webState;if(n._onReceivedMessageEvent){var i=R.JsonObject.wrap(t),r=n._messageWaiters;0<r.length&&(n._messageWaiters=[],r.forEach(function(e){return e.handler(i)})),n._onReceivedMessageEvent.handlers&&e.queueLocalEvent(n._onReceivedMessageEvent,[i],!1,!1)}},p.wait_for_message_from_parent=function(e,t){s(t.rt,e),t.rt.webState._messageWaiters.push({origin:e,handler:function(e){return t.resumeVal(e)}})},p.on_received_message_from_parent=function(e,t,n){s(n.rt,e);var i=n.rt.webState._onReceivedMessageEvent.addHandler(t);return i.data=e,i},p.create_event_source=function(e,t){if(e||q.Util.userError(q.lf("url cannot be empty"),t.pc),window.EventSource){var n=new window.EventSource(e);return new l(t.rt,n)}},p.oauth_token_from_url=function(e){return R.OAuthResponse.parse(e)},p.oauth_token_from_json=function(e){return R.OAuthResponse.parseJSON(e)}}(R.Web||(R.Web={}))}(q.RT||(q.RT={}))}(TDev||(TDev={})),function(s){var c,e;c=s.RT||(s.RT={}),e=function(e){function i(){e.call(this),this._method=void 0,this._url=void 0,this._showNotifications=!0,this._proxyResponseType=void 0,this._headers=new c.StringMap,this._content=void 0,this._credentialsName=void 0,this._credentialsPassword=void 0,this._responseReceived=new c.Event_}return __extends(i,e),i.mk=function(e,t){var n=new i;return n._url=e,n._method="GET",n._proxyResponseType=t,n},i.prototype.show_notifications=function(e){this._showNotifications=e},i.prototype.proxyResponseType=function(){return this._proxyResponseType},i.prototype.method=function(){return this._method},i.prototype.set_method=function(e){this._method=e},i.prototype.url=function(){return this._url},i.prototype.set_url=function(e){this._url=e},i.prototype.header=function(e){return this._headers.at(e)},i.prototype.set_header=function(e,t){t?this._headers.set_at(e,t):this._headers.remove(e)},i.prototype.equals=function(e){return this==e},i.prototype.toString=function(){return this.method()+" "+this.url()},i.prototype.set_accept=function(e){this._headers.set_at("Accept",e)},i.prototype.post_to_wall=function(e){var t=e.rt;this._content&&this._content.length&&t.postBoxedText("Content-Length: "+this._content.length,e.pc);for(var n=this._headers.keys(),i=0;i<n.count();++i){var r=n.at(i);t.postBoxedText(n.at(i)+": "+this._headers.at(r),e.pc)}(this._credentialsName||this._credentialsPassword)&&t.postBoxedText("credentials: "+this._credentialsName,e.pc),t.postBoxedText(this.toString(),e.pc)},i.prototype.serializeForProxy=function(){var t=this,e=void 0;(this._credentialsName||this._credentialsPassword)&&(e={name:this._credentialsName||"",password:this._credentialsPassword||""});var n=this._headers.keys().a.map(function(e){return{name:e,value:t._headers.at(e)}}),i="string"==typeof this._content;return{url:this._url,method:this._method,contentText:i?this._content:void 0,content:this._content&&!i?s.Util.base64EncodeBytes(this._content):void 0,responseType:this._proxyResponseType,headers:n,credentials:e}},i.prototype.set_content_type=function(e){this._headers.set_at("Content-Type",e)},i.prototype.debuggerChildren=function(){return{method:this._method,url:this._url,headers:this._headers,content:this._content,"user name":this._credentialsName,password:this._credentialsPassword,notifications:this._showNotifications}},i.prototype.mkProxyCrash=function(e){return{statusCode:e.status_code(),response:c.WebResponse.mkCrash(this)}},i.prototype.sendViaProxyAsync=function(){var t=this;if(!s.Util.check(!!this._proxyResponseType))return s.Promise.as({statusCode:0,response:c.WebResponse.mkCrash(this)});var e=i.mk(s.Cloud.getPrivateApiUrl("runtime/web/request"),void 0);return e.set_method("POST"),e.set_content(JSON.stringify(this.serializeForProxy())),e.sendAsync().then(function(e){switch(e.status_code()){case 502:return t._showNotifications&&s.HTML.showProxyNotification("Proxy Error: Could not perform web request. "+s.Cloud.onlineInfo(),t._url),t.mkProxyCrash(e);case 429:case 503:return t._showNotifications&&s.HTML.showProxyNotification("Proxy Error: Could not perform web request. Did you transfer a lot of data recently? (code 503)",t._url),t.mkProxyCrash(e);case 403:return s.Cloud.accessTokenExpired(),t._showNotifications&&s.HTML.showProxyNotification("Proxy Error: Could not perform web request; access denied; your access token might have expired.",t._url),t.mkProxyCrash(e);case 504:return t._showNotifications&&s.HTML.showProxyNotification("Proxy Error: Could not perform web request. Response too big.  (code 504)",t._url),t.mkProxyCrash(e);case 400:return t._showNotifications&&s.HTML.showProxyNotification("Proxy Error: Malformed inputs: "+s.Util.decodeErrorMessage(e.header("ErrorMessage")),t._url),t.mkProxyCrash(e);default:return{statusCode:e.status_code(),response:c.WebResponse.mkProxy(t,JSON.parse(e.content()))}}})},i.prototype.prepareAndSend=function(e){this._credentialsName||this._credentialsPassword?(e.open(this.method().toUpperCase(),this.url(),!0,this._credentialsName||"",this._credentialsPassword||""),e.withCredentials=!0):e.open(this.method().toUpperCase(),this.url(),!0);for(var t=!s.isWebWorker&&!!this._content&&this._content instanceof FormData,n=this._headers.keys(),i=0;i<n.count();++i){var r=n.at(i);if(!t||!/^content-type$/i.test(r)){var o=this._headers.at(r);e.setRequestHeader(r,o),/^accept$/i.test(r)&&/^image\/|^audio\//i.test(o)&&(e.responseType="arraybuffer")}}c.Time.log(this.toString()),e.send(this._content)},i.prototype.sendAsync=function(){return this.sendCoreAsync()},i.prototype.sendCoreAsync=function(){var o=this,a=this;return new s.Promise(function(t,n,e){if(s.Cloud.isOffline())return a._showNotifications&&s.HTML.showNotificationText("Web request failed, please connect to Internet."),void t(c.WebResponse.mkCrash(a));var i=function(){a._proxyResponseType?s.Cloud.authenticateAsync(s.lf("web request proxying")).done(function(e){e?a.sendViaProxyAsync().then(function(e){403==e.statusCode?s.Cloud.authenticateAsync(s.lf("web request proxying")).done(function(e){e?a.sendViaProxyAsync().then(function(e){return t(e.response)},function(e){return n(e)}):t(c.WebResponse.mkCrash(a))}):t(e.response)},function(e){return n(e)}):t(c.WebResponse.mkCrash(a))}):(a._showNotifications&&s.HTML.showCorsNotification(a.url()),t(c.WebResponse.mkCrash(a)))};if(c.Web.proxy(o.url())!=o.url()&&/^https:\//i.test(document.URL)&&/^http:\//.test(o.url()))i();else try{var r=new XMLHttpRequest;r.onerror=function(e){c.Time.log("error with "+o.toString())},r.onreadystatechange=function(){if(r.readyState==(XMLHttpRequest.DONE||4))if(0==r.status)i();else{var e=c.WebResponse.mk(a,r);t(e)}},s.HttpLog.enabled&&s.HttpLog.log(a.serializeForProxy()),a.prepareAndSend(r)}catch(e){i()}})},i.prototype.testCORSAsync=function(){var r=this;if(c.Web.proxy(this._url)==this._url)return s.Promise.as(!1);var o=this;return new s.Promise(function(t,e,n){try{var i=new XMLHttpRequest;i.onerror=function(e){return c.Time.log("error with "+r.toString())},i.onreadystatechange=function(){i.readyState==(XMLHttpRequest.DONE||4)&&t(0==i.status)},o.prepareAndSend(i)}catch(e){t(!0)}})},i.prototype.send_async=function(n){var i=this;this.sendAsync().then(function(e){i._responseReceived&&i._responseReceived.handlers&&n.rt.queueLocalEvent(i._responseReceived,[e])},function(e){var t=c.WebResponse.mkCrash(i);i._responseReceived&&i._responseReceived.handlers&&n.rt.queueLocalEvent(i._responseReceived,[t])})},i.prototype.on_response_received=function(e){return this._responseReceived.addHandler(e)},i.prototype.send=function(t){var n=this;this.sendAsync().then(function(e){t.resumeVal(e)},function(e){t.resumeVal(c.WebResponse.mkCrash(n))})},i.prototype.set_content=function(e){this._content=e,this.set_content_type("text/plain; charset=utf-8")},i.prototype.set_content_as_json=function(e){this.set_content(e.toString()),this.set_content_type("application/json; charset=utf-8")},i.prototype.set_content_as_buffer=function(e){this._content=e.buffer,this.set_content_type("application/octet-stream")},i.prototype.set_content_as_form=function(e){this._content=e.data(),/^get$/i.test(this.method())&&this.set_method("post")},i.prototype.set_content_as_picture=function(e,t,n){var i=this;e.loadFirst(n,function(){i.setContentAsPictureInternal(e,t)})},i.prototype.setContentAsSoundInternal=function(e){var t=e.getDataUri();if(t){var n=c.Sound.dataUriMimeType(t),i=s.Util.decodeDataURL(t,n);i&&(this._content=i,this.set_content_type(n))}},i.prototype.setContentAsPictureInternal=function(e,t,n){void 0===n&&(n=!1);var i=1<=(t=c.Math_.normalize(t))&&!n?"image/png":"image/jpeg",r=e.getDataUri(t,-1,n),o=s.Util.decodeDataURL(r,i);o&&(this._content=o,this.set_content_type(i))},i.prototype.set_content_as_xml=function(e){this.set_content(e.toString()),this.set_content_type("text/xml; charset=utf-8")},i.prototype.set_credentials=function(e,t){this.url().match(/^https:\/\//i)||s.Util.userError(s.lf("Web Request->set credentials requires a secure HTTP url (https)")),this._credentialsName=e,this._credentialsPassword=t},i.prototype.header_names=function(){return this._headers.keys()},i.prototype.set_compress=function(e){},i}(c.RTValue),c.WebRequest=e}(TDev||(TDev={})),function(i){var o,e;o=i.RT||(i.RT={}),e=function(e){function r(){e.call(this),this._request=void 0,this._content=void 0,this._statusCode=void 0,this._binaryContent=void 0,this._headers=new o.StringMap}return __extends(r,e),r.mkCrash=function(e){var t=new r;return t._request=e,t._statusCode=0,t._content=void 0,t},r.mkProxy=function(e,t){var n=new r;n._request=e,n._statusCode=t.code;var i=t.headers;return i&&i.forEach(function(e){return n._headers.set_at(e.name.toLowerCase(),e.value)}),t.forceText||"text"==e.proxyResponseType()?n._content=t.contentText:n._content=atob(t.content),n._binaryContent=t.binaryContent,n},r.mk=function(e,t){var n=new r;return n._request=e,n._statusCode=t.status,i.Util.forEachResponseHeader(t,function(e,t){return n._headers.set_at(e.toLowerCase(),t)}),0==n._statusCode?(i.HTML.showCorsNotification(e.url()),n._content=void 0):n._content=t.response,n},r.prototype.request=function(){return this._request},r.prototype.status_code=function(){return this._statusCode},r.prototype.content=function(){return this._content},r.prototype.contentAsArraybuffer=function(){return this._binaryContent?this._binaryContent:this._content?new Uint8Array(this._content):null},r.prototype.content_as_buffer=function(){var e=this.contentAsArraybuffer();if(e)return o.Buffer.fromTypedArray(e)},r.prototype.content_as_json=function(){if(this.content())return o.JsonObject.mk(this.content(),o.Time.log)},r.prototype.toString=function(){return this.status_code()+" --\x3e "+this.request().toString()},r.prototype.content_as_picture=function(n){var e=this.contentAsArraybuffer();if(e){var i=document.createElement("img");i.onload=function(e){var t=o.Picture.fromImage(i);URL.revokeObjectURL(i.src),n.resumeVal(t)},i.onerror=function(e){n.resumeVal(void 0)},i.src=URL.createObjectURL(new Blob([e.buffer],{type:"application/octect-stream"}))}else n.resumeVal(void 0)},r.prototype.content_as_sound=function(){},r.prototype.content_as_xml=function(){if(this.content())return o.XmlObject.mk(this._content)},r.prototype.header=function(e){return this._headers.at(e.toLowerCase())},r.prototype.header_names=function(){return this._headers.keys()},r.prototype.post_to_wall=function(e){var t=e.rt;t.postBoxedText(this.toString(),e.pc);for(var n=this._headers.keys(),i=0;i<n.count();++i){var r=n.at(i);t.postBoxedText(n.at(i)+": "+this._headers.at(r),e.pc)}this.content()&&t.postBoxedText(this.content(),e.pc)},r.prototype.debuggerChildren=function(){return{"status code":this._statusCode,headers:this._headers,content:this._content,request:this._request}},r}(o.RTValue),o.WebResponse=e}(TDev||(TDev={})),function(n){var r,e;r=n.RT||(n.RT={}),e=function(e){function c(){e.call(this),this._element=void 0,this._nodeList=void 0}return __extends(c,e),c.removeWhitespace=function(e){for(var t=e.childNodes.length;0<t--;){var n=e.childNodes[t];3===n.nodeType&&n.data.match(/^\s*$/)&&e.removeChild(n),1===n.nodeType&&c.removeWhitespace(n)}},c.parseToDOM=function(e){try{new c;var t=(new DOMParser).parseFromString(e,"application/xml");return c.removeWhitespace(t),t}catch(e){return void r.App.logEvent(r.App.DEBUG,"xml",n.lf("error parsing xml: {0}",e.message),void 0)}},c.mk=function(e){var t=c.parseToDOM(e);if(t){var n=new c;return n._element=t.firstChild,n}},c.mkNode=function(e){if(e){var t=new c;return t._element=e,t}return null},c.mkNodeList=function(e){if(e){var t=new c;return t._nodeList=c.toElements(e),t}return null},c.toElements=function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(c.mkNode(i))}return t},c.prototype.initializeElements=function(){if(null==this._nodeList){for(var e=this._element.childNodes,t=[],n=0;n<e.length;++n){var i=e[n];t.push(i)}this._nodeList=c.toElements(t)}},c.prototype.count=function(){return this.initializeElements(),this._nodeList?this._nodeList.length:0},c.prototype.is_element=function(){return!!this._element},c.prototype.name=function(){return this._element?this.create_name(this._element.localName,this._element.namespaceURI):""},c.prototype.value=function(){if(this._element)return this._element.textContent;if(this._nodeList){var t=[];return this._nodeList.forEach(function(e){t.push(e.value())}),t.join("\n")}return""},c.prototype.at=function(e){if(this.initializeElements(),this._nodeList)return this._nodeList[Math.floor(e)]},c.prototype.attr=function(e){if(this._element)return this._element.getAttribute(e)},c.prototype.attr_names=function(){var e=new r.Collection("string");if(this._element){var t=this._element.attributes;if(t)for(var n=0;n<t.length;++n){var i=t[n].name;e.add(i)}}return e},c.prototype.child=function(e){if(this._element&&e){var t=e,n=null,i=/^\{([^\}]*)\}(.*)$/i.exec(e);i&&(n=i[1],t=i[2]);for(var r=this._element.childNodes,o=0;o<r.length;++o){var a=r[o];if(a.nodeType==Node.ELEMENT_NODE&&a.localName==t&&(!n||a.namespaceURI==n))return c.mkNode(a)}}},c.prototype.children=function(e){if(e||(e=""),this._element){var t=e,n=null;if(t){var i=/^\{([^\}]*)\}(.*)$/i.exec(e);i&&(n=i[1],t=i[2])}for(var r=[],o=this._element.childNodes,a=0;a<o.length;++a){var s=o[a];s.nodeType!=Node.ELEMENT_NODE||0!==e.length&&(s.localName!=t||n&&s.namespaceURI!=n)||r.push(s)}return c.mkNodeList(r)}},c.prototype.post_to_wall=function(e){e.rt.postBoxedText(this.to_string(),e.pc)},c.prototype.toString=function(){return this.to_string()},c.prototype.to_string=function(){if(this._element)return(new XMLSerializer).serializeToString(this._element);if(this._nodeList){var t=[];return this._nodeList.forEach(function(e){t.push(e.to_string())}),t.join("\n")}return""},c.prototype.local_name=function(){return this._element&&this._element.localName||""},c.prototype.namespace=function(){return this._element&&this._element.namespaceURI||""},c.prototype.next_sibling=function(){return this._element?c.mkNode(this._element.nextSibling):null},c.prototype.previous_sibling=function(){return this._element?c.mkNode(this._element.previousSibling):null},c.prototype.create_name=function(e,t){return t?this._element&&this._element.isDefaultNamespace(t)?e:"{"+t+"}"+e:e},c}(r.RTValue),r.XmlObject=e}(TDev||(TDev={})),function(e){!function(w){var e;(e=w.ShakeType||(w.ShakeType={}))[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z";w.ShakeType;!function(e){var r=.2,o=8,a=.02,s=20,c=5,l=8,i=.2,u=2,d=w.Vector3.mk(0,-1,0),p=!1,h=0,m=[],f=[0,0,0],g=[];function v(e){g.unshift(e),g.length>2*s&&g.pop()}function y(e){var t=e.subtract(d);if(m.push(t),!(t.length()<i)){var n=function(e){var t=Math.abs(e.x()),n=Math.abs(e.y()),i=Math.abs(e.z());if(n<=t&&i<=t)return 0;if(t<=n&&i<=n)return 1;return 2}(t);f[n]++}}function b(){m.clear();for(var e=0;e<f.length;++e)f[e]=0}function _(){var e=f[0],t=f[1],n=f[2],i=void 0;(t<=e&&n<=e&&l<=e?i=0:e<=t&&n<=t&&l<=t?i=1:e<=n&&t<=n&&l<=n&&(i=2),i)&&(function(e){for(var t=0,n=0,i=void 0,r=0;r<m.length;++r){switch(e){case 0:n=w.Math_.sign(m[r].x());break;case 1:n=w.Math_.sign(m[r].y());break;case 2:n=w.Math_.sign(m[r].z())}0!=n&&(i||(i=n),n!=i&&++t,i=n)}return t}(i)<u&&(i=void 0));return i}e.accelerationChanged=function(e){var t=void 0,n=Math.abs(d.length()-e.length())>r;if(!p&&n)p=!0,b(),function(){for(var e=w.Vector3.mk(0,0,0),t=0,n=0;n<g.length;++n){var i=g[n],r=Math.abs(d.length()-i.length())<a;if(r&&(e=e.add(i),s<=++t))break}c<=t&&(d=e.scale(1/t))}(),y(e);else if(p||n){if(p&&n)y(e),h=0,(t=_())&&b();else if(p&&!n&&(y(e),o<++h)){g.clear();for(var i=0;i<o;++i)m.length,v(e);m.splice(m.length-o,o),p=!1,h=0,(t=_())&&b()}}else v(e);return!!t}}(w.ShakeDetector||(w.ShakeDetector={}))}(e.RT||(e.RT={}))}(TDev||(TDev={})),function(p){var h;(function(d){function a(t,e,n){void 0===n&&(n={});var i=d.shareButtons(t,e,n),r="wall-dialog-buttons";if(n.moreButtons&&(r+=" wall-dialog-buttons-many",n.moreButtons.forEach(function(e){i.push(p.HTML.mkButton(e.text,function(){n.noDismiss||t.dismiss(),e.handler()}))})),!n.justButtons){t.add(p.div("wall-dialog-header",n.header||p.lf("share"))),t.add(p.div("wall-dialog-body",p.tweetify(e.name())));var o=p.HTML.mkTextInput("text",p.lf("url"));o.value=e.address(),o.readOnly=!0,o.style.width="90%",p.Util.selectOnFocus(o),t.add(p.div("wall-dialog-body",o))}var a=p.div(r,i);return t.add(a),a}function s(e,t,n){void 0===n&&(n={});var i=e.name()+" "+e.address(),r=encodeURIComponent(i),o=encodeURIComponent(e.name()),a=encodeURIComponent(e.address()),s="menubar=no,status=no,titlebar=no,location=no,scrollbars=no,toolbar=no,width=500,height=550";switch(n.tickCallback&&n.tickCallback(t),h.String_.trim(t," \t").toLowerCase()){case"email":window.open("mailto:?subject="+o+"&body="+a,"share",s);break;case"facebook":window.open("http://www.facebook.com/plugins/like.php?send=false&layout=standard&width=200&show_faces=false&font&colorscheme=light&action=like&height=35&href="+a,"share",s);break;case"facebook-share":window.open("https://www.facebook.com/sharer/sharer.php?u="+a,"share",s);break;case"twitter":case"social":window.open("https://twitter.com/intent/tweet?text="+r,"share",s);break;default:return!1}return!0}d.copyToClipboardAsync=function(i){return window.clipboardData&&window.clipboardData.setData?(window.clipboardData.setData("Text",i),p.Promise.as()):new p.Promise(function(e,t,n){p.ModalDialog.showText(i,"copy to clipboard","Copy this text to your clipboard.",function(){return e(void 0)})})},d.sharePictureAsync=function(o,e,t){return new p.Promise(function(e,t,n){var i=new p.ModalDialog;i.onDismiss=function(){return e(void 0)},i.add(p.div("wall-dialog-header",p.lf("share picture"))),i.add(p.div("wall-dialog-body",p.lf("Copy this picture or save it on your device.")));var r=o.getViewCanvasClone();r.style.maxWidth="100%",r.style.maxHeight="100%",r.style.border="solid 2px gray",i.addOk("done"),i.add(p.div("wall-dialog-body",r)),i.setScroll(),i.show()})},d.shareButtons=function(e,t,n){return p.Cloud.isRestricted()?[]:[p.HTML.mkButton("email",function(){s(t,"email",n),n.noDismiss||e.dismiss()}),p.HTML.mkButton("facebook",function(){s(t,"facebook-share",n),n.noDismiss||e.dismiss()}),p.HTML.mkButton("twitter",function(){s(t,"twitter",n),n.noDismiss||e.dismiss()})]},d.addShareButtons=a,d.shareOnNetwork=s,d.shareSocialAsync=function(e,t,n){var i=encodeURIComponent(t||" ");return window.open("https://twitter.com/intent/tweet?text="+i),p.Promise.as()},d.shareLinkAsync=function(r,o){return new p.Promise(function(e,t,n){if(s(r,o))e(null);else{var i=new p.ModalDialog;a(i,r),i.onDismiss=function(){e(null)},i.show()}})},d.shareTextAsync=function(l,u){return new p.Promise(function(e,t,n){var i=encodeURIComponent(l);function r(){h.Social.sendSmsAsync("",l).done()}function o(){window.open("mailto:?body="+i)}function a(){d.shareSocialAsync(u,l,null).done()}function s(){window.open("skype:?chat&topic="+i)}switch(h.String_.trim(u," \t").toLowerCase()){case"email":o(),e(null);break;case"twitter":case"social":a(),e(null);break;case"sms":r(),e(null);break;case"skype":s(),e(null);break;default:var c=new p.ModalDialog;c.add(p.div("wall-dialog-header",p.lf("share"))),c.add(p.div("wall-dialog-body",p.tweetify(l))),c.add(p.div("wall-dialog-body",p.HTML.mkButton("email",function(){o(),c.dismiss()}),p.HTML.mkButton("sms",function(){r(),c.dismiss()}),p.HTML.mkButton("Skype",function(){s(),c.dismiss()}),p.HTML.mkButton("social",function(){a(),c.dismiss()}))),c.onDismiss=function(){e(null)},c.show()}})}})((h=p.RT||(p.RT={})).ShareManager||(h.ShareManager={}))}(TDev||(TDev={})),function(h){var m,e;m=h.RT||(h.RT={}),e=function(){function e(){}return e.parse=function(t,n){var i=0,a=t[0],s=function(e){throw{message:e}},c=function(e){return e!=a&&s(h.lf("got `{0}`, but expected `{1}`",a,e)),a=t[++i]},e=function(){var e,t="";for("-"===a&&c(t="-");"0"<=a&&a<="9";)t+=a,c(a);if("."===a)for(t+=a;c(a)&&"0"<=a&&a<="9";)t+=a;if("E"===a||"e"===a)for(t+=a,c(a),"-"!==a&&"+"!==a||(t+=a,c(a));"0"<=a&&a<="9";)t+=a,c(a);return e=+t,isNaN(e)&&s(h.lf("not a number")),e},r=function(){for(var e='"'==a?a:"'"==a?a:void s(h.lf("missing quote for string")),t=!1,n="";c(a);)if("\\"!==a)if(t)if(t=!1,'"'===a||"'"===a||"/"===a)n+=a;else if("b"===a)n+="\b";else if("f"===a)n+="\f";else if("n"===a)n+="\n";else if("r"===a)n+="\r";else if("t"===a)n+="\t";else if("u"===a){for(var i=0,r=0;r<4;r++){var o=parseInt(c(a),16);if(!isFinite(o))break;i=16*i+o}n+=String.fromCharCode(i)}else s(h.lf("bad escaped char: {0}",a));else{if(a===e)return c(e),n;n+=a}else t?(n+="\\",t=!1):t=!0;s(h.lf("non-terminated string"))},o=function(){for(;a&&a<=" ";)c(a)},l=function(){for(var e="";a&&("0"<=a&&a<="9"||"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"."===a||"-"===a||"_"===a||"+"===a);)e+=a,c(a);return e},u=function(){switch(o(),a){case"{":return d();case"[":return function(){var e=[];if(c("["),o(),"]"===a)return c("]"),e;for(;a;){if(e.push(u()),o(),"]"===a)return c("]"),e;c(","),o()}return s(h.lf("incomplete array")),e}();case'"':case"'":return r();case"-":return e();default:return"0"<=a&&a<="9"?e():function(){switch(a){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}s("expected true, false, or null at \n      "+t.slice(Math.max(0,i-20),i)+"\n ----\x3e"+t.slice(i+1,Math.min(t.length,i+20)))}()}},d=function(){var e,t={};if(c("{"),o(),"}"===a)return c("}"),t;for(;a;){if(null==(e="'"===a||'"'===a?r():l())&&s(h.lf("bad key")),o(),c(":"),t[e]=u(),o(),"}"===a)return c("}"),t;c(","),o()}s(h.lf("incomplete object"))};try{return m.JsonObject.wrap(JSON.parse(t))}catch(e){try{var p=u();return o(),a&&s(h.lf("illegal json value")),m.JsonObject.wrap(p)}catch(e){return void(n&&n(h.lf("error parsing json {0} {1}",100<t.length?t.slice(0,100)+"...":t,e.message)))}}},e}(),m.JsonParser=e}(TDev||(TDev={})),function(i){var a;(function(e){var t=!1;function n(){return t||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL,t=!0),!!navigator.getUserMedia}e.isSupported=n,e.getMicrophoneStreamAsync=function(){return n()?new i.Promise(function(t,n,e){try{navigator.getUserMedia({audio:!0},function(e){t(e)},function(e){a.Time.log("microphone access failed, "+e.message),t(void 0)})}catch(e){a.Time.log("microphone access failed, "+e.message),n(void 0)}}):i.Promise.as(void 0)},e.getCameraUrlAsync=function(r,o){return void 0===r&&(r=!1),void 0===o&&(o=void 0),n()?new i.Promise(function(n,t,e){try{var i={video:{optional:[]}};i.video.optional.push({facingMode:r?"user":"environment"}),o&&i.video.optional.push({sourceId:o}),navigator.getUserMedia(i,function(e){var t=window.URL.createObjectURL(e);n(t)},function(e){a.Time.log("camera access failed, "+e.message),n(void 0)})}catch(e){a.Time.log("camera access failed, "+e.message),t(void 0)}}):i.Promise.as(void 0)},e.previewVideo=function(e){var t=i.createElement("canvas");return t.width=e.clientWidth,t.height=e.clientHeight,t.getContext("2d").drawImage(e,0,0),t.toDataURL("image/jpeg")}})((a=i.RT||(i.RT={})).UserMediaManager||(a.UserMediaManager={}))}(TDev||(TDev={})),function(e){var w;(function(e){var t=function(e,t){this.x=e,this.y=t};e.Point=t;var n=function(){function r(){this.lineColor="#f00",this.gridColor="#ccc",this.backgroundColor=void 0,this.axesColor="#fff",this.gridLineWidth=1,this.graphLineWidth=2,this.axesFontSize=6,this.gridRows=11,this.gridCols=11,this.area=!0,this.axesPaddingX=20,this.axesPaddingY=30}return r.prototype.drawChart=function(e,t){this.initialize(e,t),this.points.length<2||(this.points.sort(function(e,t){return e.x>t.x?1:e.x<t.x?-1:0}),this.calculateScale(),this.drawAxes(),this.drawChartGrid(),this.drawGraphPoints())},r.prototype.initialize=function(e,t){this.canvas=e,this.context=this.canvas.getContext("2d"),this.points=t,this.chartWidth=e.width-this.axesPaddingY,this.chartHeight=e.height-this.axesPaddingX,this.context.save(),this.context.clearRect(0,0,e.width,e.height)},r.prototype.drawChartGrid=function(){this.backgroundColor&&(this.context.save(),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,this.chartWidth,this.chartHeight),this.context.restore()),this.context.save(),this.context.strokeStyle=this.gridColor,this.context.lineWidth=this.gridLineWidth,this.context.strokeRect(0,0,this.chartWidth,this.chartHeight);for(var e=0;e<this.gridCols;e++)this.context.beginPath(),this.context.moveTo(e*this.gridWidth,this.chartHeight),this.context.lineTo(e*this.gridWidth,this.chartHeight-5),this.context.stroke(),this.context.beginPath(),this.context.moveTo(e*this.gridWidth,0),this.context.lineTo(e*this.gridWidth,5),this.context.stroke();for(e=0;e<this.gridRows;e++)this.context.beginPath(),this.context.moveTo(0,e*this.gridHeight),this.context.lineTo(5,e*this.gridHeight),this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.chartWidth,e*this.gridHeight),this.context.lineTo(this.chartWidth-5,e*this.gridHeight),this.context.stroke();this.context.restore()},r.prototype.drawAxes=function(){this.context.save();var e=this.scaleXMax-this.scaleXMin,t=this.scaleYMax-this.scaleYMin,n=e/this.gridCols,i=t/this.gridRows;this.context.fillStyle=this.axesColor,this.context.font=this.axesFontSize+"pt Arial";for(var r="",o=0;o<=this.gridRows;o++){r=w.Math_.round_with_precision(this.scaleYMax-o*i,2).toString();var a=o*this.gridHeight+this.axesFontSize/2;o===this.gridRows?a-=this.axesFontSize/2:0===o&&(a+=this.axesFontSize/2),this.context.fillText(r,this.chartWidth+5,a)}for(o=0;o<=this.gridCols;o++)r=w.Math_.round_with_precision(this.scaleXMin+o*n,2).toString(),this.context.fillText(r,o*this.gridWidth,this.chartHeight+(this.axesPaddingX-this.axesFontSize));this.context.restore()},r.prototype.calculateScale=function(){this.scaleXMin=this.points[0].x,this.scaleXMax=this.points[0].x,this.scaleYMax=this.points[0].y,this.scaleYMin=this.points[0].y;for(var e=0,t=this.points.length;e<t;e++)this.scaleXMax<this.points[e].x&&(this.scaleXMax=this.points[e].x),this.scaleYMax<this.points[e].y&&(this.scaleYMax=this.points[e].y),this.scaleXMin>this.points[e].x&&(this.scaleXMin=this.points[e].x),this.scaleYMin>this.points[e].y&&(this.scaleYMin=this.points[e].y);var n=r.generateSteps(this.scaleXMin,this.scaleXMax,this.gridCols);this.scaleXMin=n[0],this.scaleXMax=n[1],this.gridCols=n[2];var i=r.generateSteps(this.scaleYMin,this.scaleYMax,this.gridRows);this.scaleYMin=i[0],this.scaleYMax=i[1],this.gridRows=i[2],this.scaleXMin===this.scaleXMax&&(this.scaleXMin=.5,this.scaleXMax=.5),this.scaleYMin===this.scaleYMax&&(this.scaleYMin=.5,this.scaleYMax=.5),this.gridWidth=this.chartWidth/this.gridCols,this.gridHeight=this.chartHeight/this.gridRows},r.generateSteps=function(e,t,n){var i,r,o,a,s,c,l,u,d,p=[1,5,2,3],h=Math.floor(Math.max(w.Math_.log10(Math.abs(e)),w.Math_.log10(Math.abs(t)))),m=t/Math.pow(10,h),f=Math.min(3,Math.abs(h)+1),g=Math.pow(10,f),v=Math.abs(e)*g,y=Math.abs(t)*g,b=Math.abs(m)*g;e=u=Math.floor(v*w.Math_.sign(e)),t=d=Math.ceil(y*w.Math_.sign(t)),m=Math.ceil(b);for(var _=l=0;_<p.length;++_){for(i=p[_],r=4;--r,o=i*Math.pow(10,h-r),s=(a=Math.ceil(m*Math.pow(10,r)/i)*o)-(c=Math.ceil((a-e)/o))*o,n<c;);l<c&&(l=c,u=u=s,d=a)}return[e=e<0?Math.floor(u)/g:Math.ceil(u)/g,t=t<0?Math.floor(d)/g:Math.ceil(d)/g,l]},r.prototype.drawGraphPoints=function(){var a=this;this.context.save();var e=this.scaleXMax-this.scaleXMin,t=this.scaleYMax-this.scaleYMin,s=this.chartWidth/e,c=this.chartHeight/t,n=function(e){var t=(a.points[0].x-a.scaleXMin)*s,n=(a.points[0].y-a.scaleYMin)*c,i=t;a.context.moveTo(t,a.chartHeight-n);for(var r=1,o=a.points.length;r<o;r++)t=(a.points[r].x-a.scaleXMin)*s,n=(a.points[r].y-a.scaleYMin)*c,a.context.lineTo(t,a.chartHeight-n);e&&(a.context.lineTo(t,a.chartHeight),a.context.lineTo(i,a.chartHeight),a.context.closePath())};this.context.miterLimit=this.graphLineWidth/4,this.context.strokeStyle=this.lineColor,this.context.lineWidth=this.graphLineWidth,this.area&&(this.context.fillStyle=this.lineColor,this.context.globalAlpha=.3,this.context.beginPath(),n(!0),this.context.fill(),this.context.globalAlpha=1),this.context.beginPath(),n(!1),this.context.stroke(),this.context.restore()},r}();e.CanvasChart=n})((w=e.RT||(e.RT={})).Charts||(w.Charts={}))}(TDev||(TDev={})),function(s){var c,n,e,l;c=s.RT||(s.RT={}),(n=c.ApiManager||(c.ApiManager={})).bingMapsKey,n.bingSearchKey,n.microsoftTranslatorKey,n.microsoftTranslatorClientId,n.microsoftTranslatorClientSecret,n.pubCenterApplicationId,n.pubCenterAdUnitId,n.keys={},n.addKey=function(e,t){n.keys[e]=t},n.getKeyAsync=function(e){var t=n.keys[e];return t?s.Promise.as(t):s.Cloud.getPrivateApiAsync("me/keys?uri="+encodeURIComponent(e)).then(function(e){if(null!==e.value)return e.value},function(e){return null})},e=c.AzureMarketplace||(c.AzureMarketplace={}),l={},e.requestAccessTokenAsync=function(e,t,n,i){var r="grant_type="+encodeURIComponent(i)+"&client_id="+encodeURIComponent(e)+"&client_secret="+encodeURIComponent(t)+"&scope="+encodeURIComponent(n),o=l[r];if(o&&o.expires<Date.now())return s.Promise.as(o.accessToken);var a=c.Web.create_request("https://datamarket.accesscontrol.windows.net/v2/OAuth2-13");return a.set_content(r),a.set_content_type("application/x-www-form-urlencoded"),a.set_method("POST"),a.sendAsync().then(function(e){var t=e.content_as_json();if(t){var n=Date.now()+c.String_.to_number(t.string("expires_in"))-10,i=t.string("access_token");return l[r]={accessToken:i,expires:n},i}return null})}}(TDev||(TDev={})),function(s){var l,e;l=s.RT||(s.RT={}),e=function(t){function c(){t.apply(this,arguments),this.data=[],this.rowCount=0,this.columnCount=0}return __extends(c,t),c.mk=function(e,t){if(e<0||isNaN(e))return null;if(t<0||isNaN(t))return null;var n=Math.floor(e);if(n<0)return null;var i=Math.floor(t);if(i<0)return null;if(n*i<0)return null;var r=new c;return r.rowCount=n,r.columnCount=i,r.data=new Array(n*i),r.clear(0),r},c.prototype.index=function(e,t){return this.columnCount*Math.floor(e)+Math.floor(t)},c.prototype.toString=function(){for(var e=["["],t=0;t<this.rowCount;t++){0<t&&e.push("\n");for(var n=0;n<this.columnCount;n++)0<n&&e.push(", "),e.push(this.data[this.index(t,n)].toString())}return e.push("]"),e.join("")},c.prototype.get_enumerator=function(){return this.data.slice(0)},c.prototype.count=function(){return this.rowCount*this.columnCount},c.prototype.row_count=function(){return this.rowCount},c.prototype.column_count=function(){return this.columnCount},c.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},c.prototype.getViewCore=function(e,t){for(var n=s.div("item"),i=0;i<this.rowCount;i++){for(var r=0==i?"[":"",o=0;o<this.columnCount;o++)0<o&&(r+=", "),r+=this.data[this.index(i,o)];i==this.rowCount-1&&(r+="]"),n.appendChild(s.div(null,r))}return n},c.prototype.copy_from=function(e,t,n){e=Math.floor(e),t=Math.floor(t);for(var i=0;i<n.rowCount;++i)for(var r=0;r<n.columnCount;++r)this.data[this.index(e+i,t+r)]=n.data[n.index(i,r)]},c.prototype.at=function(e){return this.data[Math.floor(e)]},c.prototype.set_at=function(e,t){var n=Math.floor(e);0<=n&&e<this.data.length&&(this.data[n]=t)},c.prototype.item=function(e,t){return this.at(this.index(e,t))},c.prototype.set_item=function(e,t,n){this.set_at(this.index(e,t),n)},c.prototype.clone=function(){var e=new c;return e.rowCount=this.rowCount,e.columnCount=this.columnCount,e.data=this.data.slice(0),e},c.prototype.min=function(){if(0!=this.data.length){for(var e=this.data[0],t=1;t<this.data.length;++t)e=this.data[t]<e?this.data[t]:e;return e}},c.prototype.max=function(){if(0!=this.data.length){for(var e=this.data[0],t=1;t<this.data.length;++t)e=this.data[t]>e?this.data[t]:e;return e}},c.prototype.scale=function(e){for(var t=c.mk(this.rowCount,this.columnCount),n=0;n<this.data.length;++n)t.data[n]=this.data[n]*e;return t},c.prototype.negate=function(){for(var e=c.mk(this.rowCount,this.columnCount),t=0;t<this.data.length;++t)e.data[t]=-this.data[t];return e},c.prototype.transpose=function(){for(var e=c.mk(this.columnCount,this.rowCount),t=0;t<this.rowCount;++t)for(var n=0;n<this.columnCount;++n)e.data[e.index(n,t)]=this.data[this.index(t,n)];return e},c.prototype.add=function(e){if(this.rowCount==e.rowCount&&this.columnCount==e.columnCount){for(var t=c.mk(this.rowCount,this.columnCount),n=0;n<this.data.length;++n)t.data[n]=this.data[n]+e.data[n];return t}l.Time.log("matrix add error: incompatible matrix sizes")},c.prototype.subtract=function(e){if(this.rowCount==e.rowCount&&this.columnCount==e.columnCount){for(var t=c.mk(this.rowCount,this.columnCount),n=0;n<this.data.length;++n)t.data[n]=this.data[n]-e.data[n];return t}l.Time.log("matrix subtract error: incompatible matrix sizes")},c.prototype.multiply=function(e){if(this.columnCount==e.rowCount){for(var t=c.mk(this.rowCount,e.columnCount),n=this.rowCount,i=this.columnCount,r=e.columnCount,o=0;o<n;o++)for(var a=0;a<i;a++)for(var s=0;s<r;s++)t.data[t.index(o,s)]+=this.data[this.index(o,a)]*e.data[e.index(a,s)];return t}l.Time.log("matrix multiply error: incompatible matrix sizes")},c.prototype.to_string=function(){return this.toString()},c.prototype.random=function(){return 0==this.data.length?void 0:this.at(l.Math_.random(this.data.length))},c.prototype.clear=function(e){for(var t=0;t<this.data.length;++t)this.data[t]=e},c.prototype.debuggerDisplay=function(e){var t,n,i,r=s.div(null).withClick(e);t=document.createElement("table").withClick(e);for(var o=0;o<this.rowCount;++o){i=s.createElement("tr");for(var a=0;a<this.columnCount;++a)(n=document.createElement("td").withClick(e)).innerText=this.data[this.index(o,a)].toString(),n.style.padding="0.5em",i.appendChild(n);t.appendChild(i)}return r.appendChild(t),r},c}(l.RTValue),l.Matrix=e}(TDev||(TDev={})),function(p){var e;(function(c){function l(e){p.Util.log("art cache: "+e)}c.enabled=!0,c.runningTests=!1;var e=function(){return p.Storage.getTableAsync("ArtCache")};c.getMaxItems=function(){return p.Browser.lowMemory?0:p.Browser.isMobile?25:150},c.getMaxItemSize=function(){return p.Browser.isMobile?5e5:1e7};var r=0,u=0;function d(e){if("string"==typeof e.content())return"data:text/plain;base64,"+p.Util.base64Encode(p.Util.toUTF8(e.content()));var t=e.contentAsArraybuffer();if(!t)return null;var n=e.header("Content-Type");return n?t.length>c.getMaxItemSize()?(l("item too big "+(t.length/1e6).toFixed(1)+"Mb"),"data:none"):"data:"+n+";base64,"+p.Util.base64EncodeBytes(t):(l("missing Content-Type"),null)}c.resetProgress=function(){u=r=0},c.responseToDataUrl=d,c.snapshotCacheAsync=function(n){return e().then(function(t){return t.getKeysAsync().then(function(e){return t.getItemsAsync(e).then(function(e){n.artCache=e})})})},c.restoreCacheAsync=function(i){return i.artCache?e().then(function(n){return n.getKeysAsync().then(function(e){var t=i.artCache;return e.forEach(function(e){t.hasOwnProperty(e)||(t[e]=null)}),n.setItemsAsync(t)})}):p.Promise.as()},c.getArtAsync=function(n,i){if(void 0===i&&(i="*"),!c.enabled||!c.getMaxItems())return p.Promise.as(null);if(!n||!/^https?:\/\//.test(n))return l("must be absolute url"),p.Promise.as(null);var o=n=p.HTML.proxyResource(n),a=null,s=null;return e().then(function(e){return(s=e).getValueAsync(o)}).then(function(e){if("string"==typeof e)return l("art cache: hit "+o),"data:none"==e?(l("art cache: hit on art too big, streaming "+o),null):e;if(l("art cache: miss "+o),p.Runtime.theRuntime,r++,!p.Cloud.isOnline())return p.Util.log("art cache: no internet"),null;var t=p.RT.WebRequest.mk(n,null);return i&&t.set_header("Accept",i),t.show_notifications(!1),t.sendAsync().then(function(e){return u++,c.runningTests||p.ProgressOverlay.setProgress(p.Util.fmt("{0} of {1} done",u,r)),(a=d(e))?s.getValueAsync("arttable:keys").then(function(e){e||(e="");var t=e.split(";"),n={};n[o]=a;var i=t.indexOf(o);-1<i&&(t[i]=null,t=t.filter(function(e){return!!e}));for(var r=c.getMaxItems();t.length>r;)n[t[0]]=null,t.shift(),l("art cache: drop "+o);return t.push(o),n["arttable:keys"]=t.join(";"),s.setItemsAsync(n)}).then(function(){return a}):(p.Util.log("art cache: request failed "+o),null)})})}})((e=p.RT||(p.RT={})).ArtCache||(e.ArtCache={}))}(TDev||(TDev={})),function(e){var f,t;f=e.RT||(e.RT={}),t=function(t){function m(){t.apply(this,arguments)}return __extends(m,t),m.prototype.exportJson=function(e){return{time:this._time&&this._time.exportJson(e),accessToken:this._accessToken,expiresIn:this._expiresIn,scope:this._scope,error:this._error,errorDescription:this._errorDescription,errorUri:this._errorUri,others:this._others&&this._others.exportJson(e)}},m.prototype.importJson=function(e,t){return"object"!=typeof t&&(t=void 0),this._time=e.importDateTime(t,"time"),this._accessToken=e.importString(t,"accessToken"),this._expiresIn=e.importNumber(t,"expiresIn"),this._scope=e.importString(t,"scope"),this._error=e.importString(t,"error"),this._errorDescription=e.importString(t,"errorDescription"),this._errorUri=e.importString(t,"errorUri"),this._others=e.importStringMap(t,this._others,"others"),this},m.parseJSON=function(e){for(var t,n,i,r,o,a=0,s=!1,c=f.Collections.create_string_map(),l=e.keys(),u=0;u<l.count();++u){var d=l.at(u),p=e.at(u);switch(d){case"access_token":t=p.to_string();break;case"expires_in":a=Math.floor(p.to_number()||-1);break;case"scope":n=p.to_string();break;case"error":i=p.to_string(),s=!0;break;case"error_description":r=p.to_string();break;case"error_uri":o=p.to_string();break;case"state":break;default:c.set_at(d,p.to_string())}}return t||s?t&&!s?m.mkAccessToken(t,a,n,c):m.mkError(i,r,o,c):void 0},m.parse=function(e){var t=e.indexOf("?"),n=e.indexOf("#",t+1);if(!(t<0&&n<0)){var r,o,a,s,c,i=t<0?"":e.substring(t+1,n<0?e.length:n),l=n<0?"":e.substring(n+1),u=i.split("&").concat(l.split("&")),d=0,p=!1,h=f.Collections.create_string_map();return u.forEach(function(e){var t=e.indexOf("=");if(-1<t){var n=f.Web.url_decode(e.substring(0,t)),i=f.Web.url_decode(e.substring(t+1));switch(n){case"access_token":r=i;break;case"expires_in":d=parseInt(i)||-1;break;case"scope":o=i;break;case"error":a=i,p=!0;break;case"error_description":s=i;break;case"error_uri":c=i;break;case"state":break;default:h.set_at(n,i)}}}),r||p?r&&!p?m.mkAccessToken(r,d,o,h):m.mkError(a,s,c,h):void 0}},m.mkAccessToken=function(e,t,n,i){void 0===i&&(i=null);var r=new m;return r._time=f.Time.now(),r._accessToken=e,r._expiresIn=t||0,r._scope=n,r._others=i,r},m.mkError=function(e,t,n,i){void 0===i&&(i=null);var r=new m;return r._time=f.Time.now(),r._error=e,r._errorDescription=t,r._errorUri=n,r._others=i,r},m.prototype.toString=function(){var e;return e=this._error?this._error+", "+(this._errorDescription||"no description")+", "+(this._errorUri||"no error uri"):this._accessToken+", "+this._expiresIn+", "+(this._scope||"no scope"),this._others&&(e+=" ,"+this._others.toString()),e},m.prototype.access_token=function(){return this._accessToken},m.prototype.expires_in=function(){return this._expiresIn},m.prototype.scope=function(){return this._scope},m.prototype.error=function(){return this._error},m.prototype.error_description=function(){return this._errorDescription},m.prototype.error_uri=function(){return this._errorUri},m.prototype.others=function(){return this._others||(this._others=f.Collections.create_string_map()),this._others},m.prototype.is_expiring=function(e){return!!this.is_error()||0<this._expiresIn&&this._time.add_seconds(this._expiresIn+Math.max(0,e)).less(f.Time.now())},m.prototype.is_error=function(){return!this._accessToken},m.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},m}(f.RTValue),f.OAuthResponse=t}(TDev||(TDev={})),function(e){!function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(){},t}(e.ActionBase);e.Action=t;var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.TextAction=n;var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.NumberAction=i;var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.BooleanAction=r;var o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e,t){},t}(e.ActionBase);e.PositionAction=o;var a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.SpriteAction=a;var s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.SpriteSetAction=s;var c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e,t,n,i){},t}(e.ActionBase);e.VectorAction=c;var l=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.WebResponseAction=l;var u=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.CollectionMessageAction=u;var d=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.JsonAction=d;var p=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e,t){return 0},t}(e.ActionBase);e.Comparison=p;var h=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){return!1},t}(e.ActionBase);e.Predicate=h;var m=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(){},t}(e.ActionBase);e.AtomicAction=m;var f=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.AtomicAction1=f;var g=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.Action1=g;var v=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){return 0},t}(e.ActionBase);e.NumberConverter=v;var y=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){return""},t}(e.ActionBase);e.StringConverter=y;var b=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e){},t}(e.ActionBase);e.Converter=b}(e.RT||(e.RT={}))}(TDev||(TDev={})),function(i){var e,t;e=i.RT||(i.RT={}),(t=e.Contract||(e.Contract={})).requires=function(e,t,n){n.rt.devMode&&!e&&i.Util.userError(i.lf("requirement failed: {0}",t),n.pc,400)},t.assert=function(e,t,n){n.rt.devMode&&!e&&i.Util.userError(i.lf("assertion failed: {0}",t),n.pc)}}(TDev||(TDev={})),function(E){var s,t,N;s=E.RT||(E.RT={}),N=function(e){function n(){e.call(this)}return __extends(n,e),n.prototype.isJustMeSession=function(){return"pr"===this.tag},n.prototype.isEveryoneSession=function(){return"pu"===this.tag},n.prototype.isBroadcastSession=function(){return"cr"===this.tag},n.prototype.isShareableSession=function(){return"cw"===this.tag},n.prototype.isPrivateSession=function(){return"cp"===this.tag},n.prototype.isNodeSession=function(){return"pn"===this.tag},n.prototype.type=function(){return this.isBroadcastSession()?"broadcast":this.isEveryoneSession()||this.isShareableSession()?"public":""},n.prototype.toString=function(){return"cloud session: "+this._id+(this._title?"("+this._title+")":"")},n.fromDescriptor=function(e){if(e){var t=new n;return t._id=e.servername,t._title=e.title,t._permissions=e.permissions,t.validate()?t:void 0}},n.prototype.validate=function(){var e=this._id.indexOf("0");return 3<e&&e<this._id.length-4&&(this.ownerid=this._id.substr(0,e),this.tag=this._id.substr(e+1,2),this.guidhash=this._id.substr(e+3),/^[a-z]{3,}$/.test(this.ownerid)&&/^[a-z]+$/.test(this.guidhash)&&/^(pr|pu|cr|cw|cp|pn)$/.test(this.tag))},n.makeScriptTag=function(e,t){return e+"xx"+E.Revisions.letterify(t)+"xx"},n.makeScriptIdentifier=function(e,t){return e+"@"+t},n.prototype.equals=function(e){return this._id===e._id},n.prototype.id=function(){return this._id},n.prototype.title=function(){return this._title},n.prototype.owner=function(){return s.User.mk(this.ownerid)},n.prototype.is_owned=function(e){return e.rt.sessions.getUserId()===this.ownerid},n.prototype.post_to_wall=function(e){e.rt.postBoxedHtml(t.formatCloudSessionInfo(this,!1,!1,!0),e.pc,this)},n.prototype.server_info=function(t){this.isNodeSession()&&E.Util.userError(E.lf("cannot get session info for deployed cloud libraries"),t.rt.current.pc),this.ownerid!==t.rt.sessions.getUserId()&&E.Util.userError(E.lf("not permitted: must be session owner"),t.rt.current.pc),this.isNodeSession()&&E.Util.userError(E.lf("cannot query node sessions server info"));var e=E.Revisions.getServerInfoAsync(this._id);return e.then(function(e){return t.resumeVal(e)}),e.done()},n}(s.RTValue),s.CloudSession=N,function(M){var o,a;function i(x,C,S,A,e){void 0===e&&(e=void 0);var T=new E.PromiseInv,L={},i=0,t=function(t){if(L.hasOwnProperty(t._id)){var n=L[t._id];["_title","localname","serverinfo","position","membernumber","enable_sync"].forEach(function(e){n[e]||(n[e]=t[e])})}else t.position=i++,L[t._id]=t};return S&&(t(N.fromDescriptor(A.sessions.getJustMeSessionDescriptor())),t(N.fromDescriptor(A.sessions.getEveryoneSessionDescriptor()))),x&&t(x),E.HTML.showProgressNotification(E.lf("Loading sessions...")),E.Revisions.queryCachedSessionsAsync(S,A).then(function(e){return e.forEach(function(e){return t(e)}),E.Revisions.queryMySessionsOnRevisionServerAsync(A,S).then(function(e){return e.forEach(function(e){return t(e)}),!0},function(e){return!1}).then(function(e){return function(d){var e=[];for(var t in L)L.hasOwnProperty(t)&&e.push(L[t]);e.sort(function(e,t){return e.position-t.position});var p=new E.ModalDialog,h=x,n=e.map(function(e,t){var n=!1,i=M.formatCloudSessionInfo(e,x&&e.equals(x),d,!S);S&&i.withClick(function(){n||(h=e,p.dismiss())});var r=A.sessions.getLastSession()&&A.sessions.getLastSession().servername===e.id(),o=E.Cloud.getUserId()===e.ownerid,a=!o&&(e.isBroadcastSession()||e.isShareableSession());if(o||a&&!r){var s=E.HTML.mkButtonElt("navItem",r?"clear":a?"remove":"delete"),c=!1;s.withClick(function(){if(!c)return c=!0,s.style.color="red",void E.Util.setTimeout(3e3,function(){c=!1,s.style.color=""});r||(u.className+=" disabledItem"),n=!r,l.removeAllChildren(),l.appendChildren(E.div(null,r?"clearing...":a?"removing...":"deleting...")),r?(A.sessions.getCurrentSession().user_clear_all(),E.Util.setTimeout(800,function(){return l.removeAllChildren()})):E.Revisions.deleteSessionAsync(A.sessions.getCloudSessionDescriptor(e._id,e._title,e._permissions),A).then(function(){l.removeAllChildren(),l.appendChildren(E.div(null,a?"removed":"deleted"))},function(e){l.removeAllChildren(),l.appendChildren(E.div(null,""+e))}).done()});var l=E.div("floatright",s),u=E.div(null,l,E.div("floatleft",i),E.div("clear"));return u}return i});p.setScroll();var i=E.div("wall-dialog-header",C);if(p.add([i]),S){var r=E.div("floatright"),o=function(e){var t=E.HTML.mkButtonElt("wall-button",e);t.withClick(function(){if(!c.textarea.value)return l.removeAllChildren(),void l.appendChildren(E.div(null,E.lf("must specify title")));A.sessions.createCustomSessionAsync(c.textarea.value,e).then(function(e){h=e,p.dismiss()},function(e){l.removeAllChildren(),l.appendChildren(E.div(null,""+e))}).done()}),r.appendChildren(t)};o("shareable"),o("private"),o("broadcast");var a=E.HTML.mkButtonElt("wall-button","connect");a.withClick(function(){var e=new N;e._id=u.textarea.value,e._title="",e._permissions="",e.validate()&&"c"===e.tag[0]?(h=e,p.dismiss()):(m.removeAllChildren(),m.appendChildren(E.div(null,"invalid id")))});var s=E.div("floatright",a),c=E.HTML.mkAutoExpandingTextArea();c.textarea.placeholder="title of new session";var l=E.div("wall-dialog-body"),u=E.HTML.mkAutoExpandingTextArea();u.textarea.placeholder="shareable session id";var m=E.div("wall-dialog-body"),f=E.HTML.mkButtonElt("wall-button","create"),g=E.HTML.mkButtonElt("wall-button","enter code"),v=E.HTML.mkButtonElt("wall-button","cancel"),y=!1,b=function(e){var t=e?"":"none";c.div.style.display=t,r.style.display=t,l.style.display=t,f.style.display=e?"none":""},_=function(e){var t=e?"":"none";u.div.style.display=t,s.style.display=t,m.style.display=t,g.style.display=e?"none":""},w=function(e){var t=e?"":"none";f.style.display=t,g.style.display=t};f.withClick(function(){i.setChildren(["create a new session"]),b(!0),_(!1),p.showorhidelist(!1),w(!1),y=!0}),g.withClick(function(){i.setChildren(["enter a session id"]),b(!1),_(!0),p.showorhidelist(!1),w(!1),y=!0}),v.withClick(function(){y?(b(!1),_(!1),p.showorhidelist(!0),i.setChildren([C]),w(!0),y=!1):p.dismiss()}),b(!1),_(!1),p.showorhidelist(!0),p.add([c.div,r,E.div("clear"),l,u.div,s,E.div("clear"),m])}var k={searchHint:"search sessions",noBackground:!0,adjustListSize:!0,custombuttons:[f,g,v]};p.choose(n,k),d||p.add([E.div("wall-dialog-body",E.lf("server unreachable; are you offline?"))]),p.onDismiss=function(){T.success(h)}}(e)})}).done(),T}M.current_session=function(e){return e.rt.sessions.getCurrentSession().getCloudSession()},M.rebuild_cache=function(t){t.rt.sessions.resetCurrentSession().then(function(e){t.resumeVal(e)})},M.clear_all_data=function(e){return e.rt.sessions.clearCurrentSession()},M.to_json=function(e){var t=new E.JsonExportCtx(e,!0),n=e.rt.compiled._exportJson(e.rt.datas.this,t);return s.JsonObject.wrap(n)},M.from_json=function(e,t){var n=e.value(),i=new E.JsonImportCtx(t);t.rt.compiled._importJson(t.rt.datas.this,i,n)},M.last_session=function(e){return e.rt.sessions.getCurrentSession().getCloudSession()},M.just_me_session=function(e){return N.fromDescriptor(e.rt.sessions.getJustMeSessionDescriptor())},M.set_token_validator=function(e,t){t.rt.authValidator=e},M.authenticate=function(e,t){(t.rt.authAccessToken=e)?t.rt.queryServiceAsync("-internal-/me",{}).done(function(e){e.userid?(t.rt.authUserId=e.userid,t.resumeVal(!0)):t.resumeVal(!1)},function(e){t.resumeVal(!1)}):t.resumeVal(!1)},M.everyone_session=function(e){return N.fromDescriptor(e.rt.sessions.getEveryoneSessionDescriptor())},M.wait_for_server=function(e,t){var n=t.rt.sessions.getCurrentSession();if(n.user_yield(),"connected"===n.user_get_connectionstatus(!1))t.resumeVal(!0);else if(0===e)t.resumeVal(!1);else{n.log("issuing fence");var i=!1;E.Util.setTimeout(1e3*e,function(){i||(i=!0,t.resumeVal(!1))}),n.user_issue_fence(function(){i||(i=!0,t.resumeVal(!0))},!t.isTaskCtx())}},M.create_session=function(e,t,n){return e||E.Util.userError(E.lf("must specify title"),n.rt.current.pc),/^(shareable|private|broadcast)$/.test(t)||E.Util.userError(E.lf("no such session type"),n.rt.current.pc),n.rt.sessions.createCustomSessionAsync(e,t).then(function(e){n.resumeVal(e)}).done()},M.session_of=function(e,t,n){var i=new N;if(i._id=e,i._title=t,i._permissions="",i.validate()&&"c"===i.tag[0])return i;E.Util.userError(E.lf("cannot get session from id"),n.pc)},M.connection_status=function(e,t){return t.rt.sessions.getCurrentSession().user_get_connectionstatus(e)},M.participant_number=function(e){return e.rt.sessions.getCurrentSession().getMemberNumber()},M.set_sync_enabled=function(e,t){t.rt.sessions.getCurrentSession().user_enable_sync(e)},M.is_sync_enabled=function(e){return e.rt.sessions.getCurrentSession().user_sync_enabled()},M.formatCloudSessionInfo=function(e,t,n,i,r){void 0===r&&(r=null);var o=e.sessionimpl&&e.sessionimpl.user_get_percent_full()?e.sessionimpl.user_get_percent_full():e.serverinfo&&e.serverinfo.percentfull?e.serverinfo.percentfull:0,a=o?" ("+o+"% full)":"",s=!i&&e.isEveryoneSession()?"everyone session":!i&&e.isJustMeSession()?"just-me session":e._title||'session "'+e._id+'"',c=e.ownerid===E.Cloud.getUserId()?"I":r?r.name+" (/"+e.ownerid+")":"user /"+e.ownerid,l=e.isEveryoneSession()||e.isShareableSession()?"everyone can read and modify":e.isJustMeSession()||e.isPrivateSession()?"only "+c+" can read and modify":"only "+c+" can modify, but everyone can read",u=e.sessionimpl&&e.sessionimpl.user_is_websocket_open(),d=e.sessionimpl?e.sessionimpl.localname:e.localname,p=n||u?(e.serverinfo||u?d?"stored in cloud"+a+" and locally cached":"stored in cloud"+a+", not locally cached":d?"not stored in cloud, local only":"not created yet")+"\n":"",h=E.div("navImg",E.SVG.getCloudSymbol("black",e.type(),!0)),m=t?E.HTML.span("bold",s):E.HTML.span("",s),f=("I"===c?"":"owned by "+c+"\n")+l+"\nsession id: "+e._id+"\n"+p;return E.HTML.mkButtonElt("navItem cloudSession",E.div("navItemInner",h,E.div("navContent",E.div("navName",m),E.div("navDescription",f))))},M.refreshSessionInfo=function(e){o&&o.setChildren([e.user_get_connectionstatus(!0)])},M.sessionInfoAsync=function(e){var r=e.sessions.getCurrentSession(),t=M.formatCloudSessionInfo(r.getCloudSession(),!1,!1,!1);t.style.background="white",o||(o=E.div("wall-dialog-body")),a||(a=E.div("wall-dialog-body").withClick(function(e){return r.user_retry_now()})),this.refreshSessionInfo(r);var n=new E.ModalDialog;n.add([E.div("wall-dialog-header",E.lf("current cloud session")),t,E.div("wall-dialog-header wall-dialog-extra-space",E.lf("connection status")),o,a]),r.isMarooned()||r.isClosed()||r.isFaulted()?(n.addOk("discard locally cached data, and try again",function(){e.sessions.resetCurrentSession(),n.dismiss()}),n.addOk("cancel")):n.addOk("ok");var i=setInterval(function(){var e=r.user_get_missing_rounds();e&&(i=e+" remaining.");var t=r.user_get_next_connection_attempt();if(t)var n=Math.floor((t-700-(new Date).getTime())/1e3),i=n<1?"connection attempt in progress...":"next connection attempt in "+n.toString()+" seconds";a.setChildren([i])},50);n.onDismiss=function(){return clearInterval(i)},n.show()},M.managementDialog=function(t){return(E.Cloud.getUserId()?E.Promise.as():E.Cloud.authenticateAsync(E.lf("cloud data"))).thenalways(function(e){if(E.Cloud.getUserId())return i(void 0,"manage cloud sessions",!1,t)})},M.scriptSessionsDialog=function(n){return(E.Cloud.getUserId()?E.Promise.as():E.Cloud.authenticateAsync(E.lf("cloud data"))).thenalways(function(e){if(E.Cloud.getUserId()){var t=n.sessions.getLastSession();return i(t&&t.getCloudSession(),E.lf("select cloud session for this script"),!0,n).then(function(e){return e?n.sessions.connectCurrent(n.sessions.getCloudSessionDescriptor(e._id,e._title,e._permissions)):void 0})}})},M.sessionDialogAsync=i,M.switch_to_session=function(t,n){var e=n.rt;t.ownerid!==e.sessions.getUserId()&&"pr"===t.tag&&E.Util.userError(E.lf("cannot connect to a just-me session of another user")),t.isNodeSession()&&E.Util.userError(E.lf("cannot connect to a node session"));var i=e.sessions.getCurrentSession();if(i.user_yield(),t._id===i.servername)n.resumeVal(void 0);else{var r,o=E.Promise.as();(o=(o=o.then(function(){return s.User.getJsonAsync(t.ownerid).then(function(e){return r=e},function(e){return r=void 0})})).then(function(){var e=r?r.name+" (/"+t.ownerid+")":"user /"+t.ownerid;return function n(i,r,o,a,e){return r.isPrivateSession()||r.ownerid===a.rt.sessions.getUserId()?E.Promise.as(r):a.rt.host.askSourceAccessAsync("shared cloud data owned by "+o,"and share data in the cloud. "+o+" administers the data, and can share it with other users or delete it.",e).then(function(e){if(!e){var t=new E.PromiseInv;return E.ModalDialog.askMany("Fall-back session","Because you have indicated that this script should not participate in cloud sessions owned by "+o+", we are using a private just-me session instead.",{ok:function(){return t.success(i.getCloudSession())},reconsider:function(){return n(i,r,o,a,!0).then(function(e){return t.success(e)})}}),t}return E.Promise.as(r)})}(i,t,e,n,!1)})).then(function(e){return n.rt.sessions.connectCurrent(n.rt.sessions.getCloudSessionDescriptor(e._id,e._title,e._permissions)).then(function(){return n.resumeVal(void 0)})}).done()}},M.switch_sessions=function(t){var e=t.rt.sessions.getCurrentSession();e.user_yield(),i(e.getCloudSession(),"choose a cloud session",!0,t.rt,t).then(function(e){t.rt.sessions.connectCurrent(t.rt.sessions.getCloudSessionDescriptor(e._id,e._title,e._permissions)).then(function(){return t.resumeVal(void 0)})}).done()}}(t=s.CloudData||(s.CloudData={}))}(TDev||(TDev={})),function(u){var e,t;e=u.RT||(u.RT={}),t=function(e){function c(){e.apply(this,arguments)}return __extends(c,e),c.fromString=function(e,t){function n(e){if(null!=e)return c.fromTypedArray(u.Util.stringToUint8Array(e))}switch(t){case"base64":return n(u.Util.base64Decode(e));case"hex":return function(e){for(var t=-1,n=null,i=0,r=0;r<2;++r){for(var o=0;o<e.length;++o){var a=e.charCodeAt(o),s=0;if(48<=a&&a<=57)s=a-48;else if(97<=a&&a<=102)s=a-97+10;else{if(!(65<=a&&a<=70)){if(/^[\s\r\n-,.=]$/.test(e.charAt(o)))continue;return}s=a-65+10}-1==t?t=16*s:(t+=s,n?n[i++]=t:i++,t=-1)}if(n)return c.fromTypedArray(n);t=-1,n=new Uint8Array(i),i=0}}(e);case"binary":return n(e);case"utf8":return n(u.Util.toUTF8(e));case"utf16le":return n(u.Util.toUTF16LE(e));default:return}},c.fromImageData=function(e){var t=c.fromTypedArray(e.data);return t.imageData=e,t},c.fromTypedArray=function(e){var t=new c;return t.buffer=e,t},c.mk=function(e){return this.fromTypedArray(new Uint8Array(e))},c.prototype.needSubarray=function(){if(!this.buffer.subarray){for(var e=new Uint8Array(this.buffer.length),t=0;t<e.length;++t)e[t]=this.buffer[t];this.buffer=e,this.imageData=null}},c.prototype.read_number=function(e,t,n){var i=0,r=this.buffer,o=0,a=1;if("le"==n)switch(t){case"int8":o=127;case"uint8":i=r[e];break;case"int16":o=32767;case"uint16":a=2,i=(r[e+1]<<8)+r[e];break;case"int32":o=2147483647;case"uint32":a=4,i=r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e];break;default:u.Util.userError(u.lf("unknown number format: {0}",t))}else if("be"==n)switch(t){case"int8":o=127;case"uint8":i=r[e];break;case"int16":o=32767;case"uint16":a=2,i=(r[e]<<8)+r[e+1];break;case"int32":o=2147483647;case"uint32":a=4,i=r[e]*(1<<24)+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3];break;default:u.Util.userError(u.lf("unknown number format: {0}",t))}else u.Util.userError(u.lf("unknown number endian: {0}",n));if((e<0||e+a>r.length)&&u.Util.userError(u.lf("offset outside of range: {0} (buffer length {1})",e,r.length)),void 0!==i&&!isNaN(i))return o&&o<i&&(i=i-2*o-2),i},c.prototype.write_number=function(e,t,n,i){var r=e,o=this.buffer,a=0,s=0,c=0;switch(Math.floor(r)!=r&&u.Util.userError(u.lf("number {0} is fractional",r)),n){case"int8":c=1,a=-128,s=127;break;case"uint8":c=1,s=255;break;case"int16":c=2,a=-32768,s=32767;break;case"uint16":c=2,s=65535;break;case"int32":c=4,a=-2147483648,s=2147483647;break;case"uint32":c=4,s=4294967295;break;default:u.Util.userError(u.lf("unknown number format: {0}",n))}if((r<a||s<r)&&u.Util.userError(u.lf("number {0} is outside range of {1}",r,n)),r|=0,"be"==i)for(var l=c-1;0<=l;l--)o[t+l]=255&r,r>>=8;else if("le"==i)for(l=0;l<c;++l)o[t+l]=255&r,r>>=8;else u.Util.userError(u.lf("unknown number endian: {0}",i))},c.prototype.set=function(e,t){this.buffer[e]=t},c.prototype.at=function(e){return this.buffer[e]},c.prototype.count=function(){return this.buffer.length},c.prototype.sha256=function(){return u.Random.sha256buffer(this.buffer)},c.prototype.concat=function(e){var t=c.mk(this.count()+e.count());return t.copy_from(0,this),t.copy_from(this.count(),e),t},c.prototype.sub_buffer=function(e,t){var n=this.count();return e=u.Util.intBetween(0,e,n),t=u.Util.intBetween(0,t,n-e),0==e&&t==n?this:(this.needSubarray(),c.fromTypedArray(this.buffer.subarray(e,e+t)))},c.prototype.fill_random=function(){u.Random.bytes(this.buffer)},c.prototype.fill=function(e){for(var t=this.buffer,n=0;n<t.length;++n)t[n]=e},c.prototype.copy_from=function(e,t){var n=this.buffer,i=t.buffer,r=Math.min(i.length,this.count()-e);if(0==e)for(var o=0;o<r;++o)n[o]=i[o];else for(o=0;o<r;++o)n[e+o]=i[o]},c.prototype.clone=function(){var e=c.mk(this.count());return e.copy_from(0,this),e},c.prototype.to_string=function(e){switch(e){case"base64":return u.Util.base64EncodeBytes(this.buffer);case"hex":return function(e){for(var t="0123456789abcdef",n=e.length,i="",r=0;r<n;++r){var o=e[r];i+=t[o>>4&15]+t[15&o]}return i}(this.buffer);case"binary":return u.Util.uint8ArrayToString(this.buffer);case"utf8":return u.Util.fromUTF8Bytes(this.buffer);case"utf16le":return function(e){if(!(1&e.length)){for(var t=e.length,n="",i=0;i<t;i+=2)n+=String.fromCharCode(e[i]|e[i+1]<<8);return n}}(this.buffer);default:return}},c}(e.RTValue),e.Buffer=t}(TDev||(TDev={})),function(n){var i,e;i=n.RT||(n.RT={}),(e=i.Bits||(i.Bits={})).add_uint32=function(e,t){return e+t>>>0},e.subtract_uint32=function(e,t){return e-t>>>0},e.multiply_uint32=function(e,t){return n.Util.intMult(e,t)>>>0},e.add_int32=function(e,t){return e+t|0},e.subtract_int32=function(e,t){return e-t|0},e.multiply_int32=function(e,t){return 0|n.Util.intMult(e,t)},e.and_uint32=function(e,t){return(e&t)>>>0},e.or_uint32=function(e,t){return(e|t)>>>0},e.and_int32=function(e,t){return e&t},e.or_int32=function(e,t){return e|t},e.xor_uint32=function(e,t){return(e^t)>>>0},e.not_uint32=function(e){return~e>>>0},e.shift_left_uint32=function(e,t){return e<<t>>>0},e.shift_right_uint32=function(e,t){return e>>>t},e.rotate_left_uint32=function(e,t){return(e<<t|e>>>32-t)>>>0},e.rotate_right_uint32=function(e,t){return(e>>>t|e<<32-t)>>>0},e.create_buffer=function(e){return i.Buffer.mk(e)},e.string_to_buffer=function(e,t){return i.Buffer.fromString(e,t)},e.divide_int32=function(e,t){return 0|Math.floor(e/t)}}(TDev||(TDev={})),function(i){!function(e){var t=function(e){function t(){e.apply(this,arguments),this._completed=!1}return __extends(t,e),t.prototype.completed=function(){return this._completed},t.prototype.setException=function(t){this._exn=t;var e=this.consumeQueue();e&&e.forEach(function(e){return e.rt.quietlyHandleError(t,e.stackframe)})},t.prototype.resume=function(e){i.Util.assert(!this._completed),this._completed=!0,this._value=e,this.runAwaiters()},t.prototype.await=function(e){var t=this;this._exn?e.rt.quietlyHandleError(this._exn,e.stackframe):this._completed?e.rt.queueAsyncEvent(function(){return e.rt.continueStackFrame(t._value,e.stackframe)}):this._awaitQueue?this._awaitQueue.push(e):this._awaitQueue=[e]},t.prototype.value=function(){return this._completed||i.Util.userError(i.lf("cannot get value - task has not completed yet")),this._value},t.prototype.await_at_most=function(e,t){var n=this;this.await(t),this._completed||i.Util.setTimeout(1e3*e,function(){if(n._awaitQueue){var e=n._awaitQueue.indexOf(t);0<=e&&(n._awaitQueue.splice(e,1),t.rt.queueAsyncEvent(function(){return t.rt.continueStackFrame(void 0,t.stackframe)}))}})},t.prototype.consumeQueue=function(){var e=this._awaitQueue;return e?(this._awaitQueue=null,e):null},t.prototype.runAwaiters=function(){var t=this,e=this.consumeQueue();e&&e.forEach(function(e){e.rt.queueAsyncEvent(function(){return e.rt.continueStackFrame(t._value,e.stackframe)})})},t}(e.RTValue);e.Task=t;var n=function(n){function e(e,t){n.call(this,t),this.task=e}return __extends(e,n),e.prototype.resumeCore=function(e){this.task.resume(e)},e.prototype.isTaskCtx=function(){return!0},e}(i.ResumeCtx);e.TaskResumeCtx=n}(i.RT||(i.RT={}))}(TDev||(TDev={})),function(s){var c,e,t,n;c=s.RT||(s.RT={}),n=function(t){function r(e){t.call(this),this.typeInfo=e,this.a=[]}return __extends(r,t),r.mkAny=function(e,t){return void 0===t&&(t=[]),r.mk(e,t)},r.mk=function(e,t){return r.fromArray(e,t)},r.mkStrings=function(e){return r.fromArray(e,"string")},r.mkNumbers=function(e){return r.fromArray(e,"number")},r.fromArray=function(e,t){if(e){var n=new r(t);return n.a=e,n}},r.prototype.get_enumerator=function(){return this.a.slice(0)},r.prototype.count=function(){return this.a.length},r.prototype.clear=function(){this.a=[]},r.prototype.add=function(e){this.a.push(e)},r.prototype.add_many=function(e){this.a.pushRange(e.a.slice(0))},r.prototype.index_of=function(e,t){if(s.Util.isOOB(t,this.count()))return-1;for(var n=s.Util.indexCheck(t,this.count());n<this.a.length;++n)if(this.a[n]===e)return n;return-1},r.prototype.at=function(e){return this.a[Math.floor(e)]},r.prototype.contains=function(e){return 0<=this.index_of(e,0)},r.prototype.remove=function(e){var t=this.index_of(e,0);return 0<=t&&(this.a.splice(t,1),!0)},r.prototype.remove_at=function(e){s.Util.isOOB(e,this.count())||this.a.splice(s.Util.indexCheck(e,this.count()),1)},r.prototype.reverse=function(){this.a.reverse()},r.prototype.random=function(){return 0==this.a.length?void 0:this.at(c.Math_.random(this.a.length))},r.prototype.set_at=function(e,t){var n=Math.floor(e);0<=n&&e<this.a.length&&(this.a[n]=t)},r.prototype.insert_at=function(e,t){s.Util.isOOB(e,this.count()+1)||this.a.splice(s.Util.indexCheck(e,this.count()+1),0,t)},r.prototype.to_json=function(e){var t=new s.JsonExportCtx(e);t.push(this);var n=this.exportJson(t);return t.pop(this),c.JsonObject.wrap(n)},r.prototype.from_json=function(e,t){this.importJson(new s.JsonImportCtx(t),e.value())},r.prototype.where=function(t,e){var n=e.rt;return r.fromArray(this.a.filter(function(e){return!!n.runUserAction(t,[e])}),this.typeInfo)},r.prototype.map_to=function(t,e,n){var i=e.rt;return r.fromArray(this.a.map(function(e){return i.runUserAction(t,[e])}),n)},r.prototype.sorted=function(n,e){var i=e.rt;return r.fromArray(this.a.stableSorted(function(e,t){return i.runValidUserAction(n,[e,t])}),this.typeInfo)},r.prototype.ordered_by=function(n,e){var i=e.rt;return r.fromArray(this.a.stableSorted(function(e,t){return i.runValidUserAction(n,[e])-i.runValidUserAction(n,[t])}),this.typeInfo)},r.prototype.ordered_by_string=function(n,e){var i=e.rt;return r.fromArray(this.a.stableSorted(function(e,t){return i.runValidUserAction(n,[e]).localeCompare(i.runValidUserAction(n,[t]))}),this.typeInfo)},r.prototype.take=function(e,t){return r.fromArray(this.a.slice(0,Math.floor(e)),this.typeInfo)},r.prototype.slice=function(e,t){return r.fromArray(this.a.slice(Math.floor(e),Math.floor(t)),this.typeInfo)},r.prototype.first=function(){return this.at(0)},r.prototype.last=function(){return this.at(this.count()-1)},r.prototype.jsonExportKey=function(e){return null},r.prototype.exportJson=function(e){if(0<this.a.length&&void 0===this.a[0].exportJson){var t=this.a[0];"string"==typeof t||"number"==typeof t||"boolean"==typeof t||s.Util.userError(s.lf("json export is not supported for this type"))}return e.encodeArrayNode(this,this.a.slice(0))},r.prototype.importJson=function(n,e){var i=this,t=this.a;if(this.a=[],!Array.isArray(e))return this;if("string"==typeof this.typeInfo)"number"===this.typeInfo?e.forEach(function(e){"number"==typeof e&&i.a.push(e)}):"string"===this.typeInfo?e.forEach(function(e){"string"==typeof e&&i.a.push(e)}):"boolean"===this.typeInfo?e.forEach(function(e){"boolean"==typeof e&&i.a.push(e)}):s.Util.userError("json import is not supported for Collection of "+this.typeInfo);else if(this.typeInfo instanceof c.RecordSingleton)for(var r=0;r<e.length;r++){var o=n.importRecord(e,t[r],r,this.typeInfo);o&&this.a.push(o)}else if("function"==typeof this.typeInfo){var a=this.typeInfo;e.forEach(function(e){var t=new a;(t=t.importJson(n,e))&&i.a.push(t)})}else s.Util.userError("json import is not supported for this Collection");return this},r.prototype.getHtml=function(){for(var e=0;e<this.a.length;++e)if(this.a[e]){this.a[e];break}var t="[";for(e=0;e<this.a.length;++e)0<e&&(t+=", "),t+=this.a[e];return t+="]",s.span(null,t)},r.prototype.getRecord=function(){return this.typeInfo instanceof c.RecordSingleton?this.typeInfo:null},r.prototype.post_to_wall=function(t){this.getRecord()?t.rt.postBoxedHtml(this.getRecord().getTable(this.a,t),t.pc):this.typeInfo.prototype instanceof c.RTValue?this.a.forEach(function(e){return e.post_to_wall(t)}):t.rt.postBoxedHtml(this.getHtml(),t.pc)},r.prototype.debuggerDisplay=function(e){var t;if(this.getRecord())try{t=this.getRecord().getTable(this.a,null)}catch(t){t=s.span(null,t.message||"")}else t=this.getHtml();return t.withClick(e)},r.prototype.pick_entry=function(e,n){n.rt;var i=new s.ModalDialog,r=null,t=this.a.map(function(e){return s.div("modalDialogChooseItem",(t=e,t.getIndexCard?t.getIndexCard(n.stackframe):t.getViewCore?t.getViewCore(n.stackframe,null):t.toString?t.toString():t+"")).withClick(function(){r=e,i.dismiss()});var t});i.add([s.div("wall-dialog-header",e)]),i.onDismiss=function(){return n.resumeVal(r)},i.choose(t)},r.prototype.sum_of=function(t,e){var n=e.rt,i=this.a.map(function(e){return n.runValidUserAction(t,[e])});return s.Util.stableSum(i)},r.prototype.max_of=function(e,t){var n=t.rt;if(0!=this.a.length){for(var i=n.runValidUserAction(e,[this.a[0]]),r=1;r<this.a.length;++r){var o=n.runValidUserAction(e,[this.a[r]]);i<o&&(i=o)}return i}},r.prototype.avg_of=function(e,t){t.rt;if(0!=this.a.length)return this.sum_of(e,t)/this.count()},r.prototype.min_of=function(e,t){var n=t.rt;if(0!=this.a.length){for(var i=n.runValidUserAction(e,[this.a[0]]),r=1;r<this.a.length;++r){var o=n.runValidUserAction(e,[this.a[r]]);o<i&&(i=o)}return i}},r.prototype.min=function(){if(0!=this.a.length)return this.a.min()},r.prototype.max=function(){if(0!=this.a.length)return this.a.max()},r.prototype.sum=function(){if(0==this.a.length)return 0;var e=this.a;return s.Util.stableSum(e)},r.prototype.avg=function(){return 0==this.a.length?0:this.sum()/this.a.length},r.prototype.sort_by_date=function(){this.a.sort(function(e,t){return e.time()?t.time()?e.time().d.valueOf()<t.time().d.valueOf()?-1:1:-1:1})},r.prototype.sort=function(){this.a.sort()},r.prototype.sort_by_distance=function(e){var r=function(e){return e instanceof c.Place?e.location():e};this.a.sort(function(e,t){var n=r(e),i=r(t);return n||i?n?i?i.distance(n)-n.distance(i):-1:1:0})},r.prototype.join=function(e){return this.a.join(e)},r.prototype.continuation=function(){return this._continuation||""},r.prototype.set_continuation=function(e){this._continuation=e},r}(c.RTValue),c.Collection=n,(e=c.StringCollection||(c.StringCollection={})).mk=function(e){return n.mkStrings(e)},e.fromArray=function(e){return n.mkStrings(e)},(t=c.NumberCollection||(c.NumberCollection={})).mk=function(e){return n.mkNumbers(e)},t.fromArray=function(e){return n.mkNumbers(e)}}(TDev||(TDev={})),function(r){var o,e;o=r.RT||(r.RT={}),e=function(t){function i(){t.call(this),this._id=void 0}return __extends(i,t),i.getJsonAsync=function(t){if(i.jsonCache.hasOwnProperty(t))return i.jsonCache[t];var e,n=/^([^:]*):(.*)/.exec(t);return e=n?"td"==n[1]?i.getJsonAsync(n[2]):"live"==n[1]&&/^[^0-9a-f]+$/.test(n[2])?r.Util.httpGetJsonAsync("https://apis.live.net/v5.0/"+n[2]).then(function(e){return{kind:"user",id:t,name:e.name}}):r.Promise.as({kind:"user",id:t}):r.Cloud.getPublicApiAsync(encodeURIComponent(t)),i.jsonCache[t]=e},i.prototype.getJsonAsync=function(){return i.getJsonAsync(this._id)},i.prototype.getApiUrl=function(e){var t=this.idNamespace(),n=this._id;if("td"==t||""==t)return n=this._id.replace(/^[^:]+:/,""),r.Cloud.getServiceUrl()+"/api/"+encodeURIComponent(n)+e},i.prototype.getPictureUrl=function(e,t){return e&&e.haspicture?this.getApiUrl("/picture"+(t&&"original"!=t?"?type="+encodeURIComponent(t):"")):void 0},i.prototype.idNamespace=function(){var e=/^([^:]*):(.*)/.exec(this._id);return e?e[1]:""},i.prototype.toJsonKey=function(){return this._id},i.prototype.keyCompareTo=function(e){var t=e;return this._id<t._id?-1:this._id>t._id?1:0},i.mk=function(e){var t=new i;return t._id=e,t},i.prototype.getShortStringRepresentation=function(){return this._id},i.prototype.toString=function(){return"user /"+this._id},i.prototype.exportJson=function(e){return this._id},i.prototype.importJson=function(e,t){r.Util.oops("should not call immutable instance for importing")},i.mkFromJson=function(e,t){return"string"!=typeof t?void 0:i.mk(t)},i.prototype.equals=function(e){return this._id==e._id},i.prototype.id=function(){return this._id},i.prototype.preload=function(e){this.loadFirst(e,function(e){})},i.prototype.name=function(e){this.loadFirst(e,function(e){return e?e.name:void 0})},i.prototype.about=function(e){this.loadFirst(e,function(e){return e?e.about:void 0})},i.prototype.has_picture=function(e){this.loadFirst(e,function(e){return e?e.haspicture:void 0})},i.prototype.settings=function(t){var e=r.Cloud.getUserId();this._id==e?t.rt.host.askSourceAccessAsync("settings","your twitter handle, github user or minecraft user.",!1).then(function(e){return e?r.Cloud.getUserSettingsAsync().then(function(e){return e?o.JsonObject.wrap({twitterhandle:e.twitterhandle,githubuser:e.githubuser,minecraftuser:e.minecraftuser}):void 0}):r.Promise.as(void 0)}).done(function(e){return t.resumeVal(e)}):t.resumeVal(o.Web.json("{}"))},i.prototype.picture_address=function(t,e){var n=this;this.loadFirst(e,function(e){return n.getPictureUrl(e,t)})},i.prototype.picture=function(t,n){var i=this;r.Util.assert(!!n),this.getJsonAsync().then(function(e){return i.getPictureUrl(e,t)}).then(function(e){return e?o.Picture.fromUrl(e):void 0}).done(function(e){return n.resumeVal(e)})},i.prototype.loadFirst=function(t,n){r.Util.assert(!!t),this.getJsonAsync().done(function(e){n?t.resumeVal(n(e)):t.resume()},function(e){n?t.resumeVal(n(void 0)):t.resume()})},i.prototype.getViewCore=function(e,t){var n=this;void 0===t&&(t=null);var i=r.div("item",[r.div("wall-dialog-header","user /"+this._id)]);return this.getJsonAsync().then(function(e){if("user"==e.kind){if(i.appendChildren(r.div("wall-dialog-body","name: "+e.name)),e.haspicture){var t=r.createElement("img");t.setAttribute("class","wall-picture"),t.src=n.getPictureUrl(e,"large"),t.alt=e.name,i.appendChildren(t)}}else i.appendChildren(r.div("wall-dialog-body",r.lf("invalid user id")))},function(e){i.appendChildren(r.div("wall-dialog-body",r.lf("further user information unavailable")))}).done(),i},i.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},i.jsonCache={},i}(o.RTValue),o.User=e}(TDev||(TDev={})),function(e){!function(i){var e=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype._get=function(e){return this._item},t.prototype._confirmed=function(e){return!0},t.prototype._set=function(e,t){this._item=e},t.prototype._clear=function(e){this._set(void 0,e)},t.prototype._ref=function(e){return this},t.prototype._add=function(e,t){this._set(this._get(t)+e,t)},t.prototype._test_and_set=function(e,t){this._get(t)||this._set(e,t)},t.prototype._with_notify=function(e,t){return new o(this,e)},t}(i.RTValue),t=function(n){function i(e,t){n.call(this),this.d=e,this.fieldname=t}return __extends(i,n),i.mk=function(e,t){return new i(e,t)},i.prototype._set=function(e,t){this.d[this.fieldname]=e},i.prototype._get=function(e){return this.d[this.fieldname]},i}(i.Ref=e);i.GlobalVarRef=t;var n=function(n){function i(e,t){n.call(this),this.container=e,this.fieldname=t}return __extends(i,n),i.mk=function(e,t){return new i(e,t)},i.prototype._set=function(e,t){this.container.perform_set(this.fieldname,e,t)},i.prototype._get=function(e){return this.container.perform_get(this.fieldname,e)},i.prototype._clear=function(e){this.container.perform_clear(this.fieldname,e)},i.prototype._add=function(e,t){this.container.perform_add(this.fieldname,e,t)},i.prototype._test_and_set=function(e,t){this.container.perform_test_and_set(this.fieldname,e,t)},i.prototype._confirmed=function(e){return this.container.perform_confirmed(this.fieldname)},i}(e);i.PersistedVarRef=n;var r=function(n){function i(e,t){n.call(this),this.entry=e,this.fieldname=t}return __extends(i,n),i.mk=function(e,t){return new i(e,t)},i.prototype._set=function(e,t){this.entry.perform_set(this.fieldname,e,t)},i.prototype._get=function(e){return this.entry.perform_get(this.fieldname,e)},i.prototype._clear=function(e){this.entry.perform_clear(this.fieldname,e)},i.prototype._add=function(e,t){this.entry.perform_add(this.fieldname,e,t)},i.prototype._test_and_set=function(e,t){this.entry.perform_test_and_set(this.fieldname,e,t)},i.prototype._confirmed=function(e){return this.entry.perform_confirmed(this.fieldname,e)},i}(e);i.FieldRef=r;var o=function(n){function e(e,t){n.call(this),this.ref=e,this.ev=new i.Event_,this.ev.addHandler(t)}return __extends(e,n),e.prototype.notify=function(e){e.rt.queueLocalEvent(this.ev,void 0,!0,!0)},e.prototype._set=function(e,t){this.ref._set(e,t),this.notify(t)},e.prototype._get=function(e){return this.ref._get(e)},e.prototype._clear=function(e){this.ref._clear(e),this.notify(e)},e.prototype._add=function(e,t){this.ref._add(e,t),this.notify(t)},e.prototype._test_and_set=function(e,t){this.ref._test_and_set(e,t),this.notify(t)},e.prototype._confirmed=function(e){return this.ref._confirmed(e)},e}(e)}(e.RT||(e.RT={}))}(TDev||(TDev={})),function(h){var m;(function(e){var t,i,r;function o(){return t||(t=p()),t}function p(){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext)try{return new window.AudioContext}catch(e){}}function n(){return!!o()}e.stop=function(){r&&(r.gain.value=0)},e.tone=function(e,t){if(!(e<=0)){var n=o();if(n){if(t=m.Math_.normalize(t),!i)try{i=n.createOscillator(),r=n.createGain(),i.connect(r),r.connect(n.destination),r.gain.value=t,i.start(0)}catch(e){return void(r=i=void 0)}i.frequency.value=e,r.gain.value=t}}},e.isSupported=n,e.loadAsync=function(i){var r=o();return new h.Promise(function(t,e,n){r.decodeAudioData(i,function(e){return t(e)},function(e){return t(void 0)})})},e.play=function(e,t){var n=o();if(n){var i=n.createBufferSource();i.buffer=e;var r=n.createGain();r.gain.value=t,i.connect(r),r.connect(n.destination),i.start(0)}},e.isMicrophoneSupported=function(){return n()&&m.UserMediaManager.isSupported()},e.recordMicrophoneAsync=function(){return n()?m.UserMediaManager.getMicrophoneStreamAsync().then(function(d){return d?new h.Promise(function(e,t,n){var i=p();if(!i)return m.App.log("failed to acquire AudioContext"),void e(void 0);var r,o=i.createMediaStreamSource(d),a=(r=i).createScriptProcessor?r.createScriptProcessor(4096,1,1):r.createJavaScriptNode(4096,1,1),s=[],c=0;a.onaudioprocess=function(e){if(s){var t=e.inputBuffer.getChannelData(0),n=new Float32Array(t.length);n.set(t),s.push(n),c+=n.length}},o.connect(a),a.connect(i.destination);var l=void 0,u=new h.ModalDialog;u.add(h.div("wall-dialog-header",h.lf("recording microphone..."))),u.add(h.div("wall-dialog-buttons",h.HTML.mkButton("done",function(){o.disconnect(),o=null,a.disconnect(),a.onaudioprocess=null,a=null;var e=function(e,t,n){var i=new ArrayBuffer(44+2*t),r=new DataView(i),o=0;function a(e){for(var t=0;t<e.length;t++,o++)r.setUint8(o,e.charCodeAt(t))}function s(e){r.setUint32(o,e,!0),o+=4}function c(e){r.setUint16(o,e,!0),o+=2}function l(e){for(var t=0;t<e.length;t++,o+=2){var n=Math.max(-1,Math.min(1,e[t]));r.setInt16(o,n<0?32768*n:32767*n,!0)}}a("RIFF"),s(36+2*t),a("WAVE"),a("fmt "),s(16),c(1),c(1),s(n),s(2*n*1),c(2),c(16),a("data"),s(1*t*2);for(var u=0;u<e.length;++u)l(e[u]);return new Uint8Array(i,0,i.byteLength)}(s,c,i.sampleRate);l="data:audio/wav;base64,"+h.Util.base64EncodeBytes(e),u.dismiss()}))),u.onDismiss=function(){o&&(o.disconnect(),o=null),a&&(a.disconnect(),a.onaudioprocess=null,a=null),i=null,e(l)},u.show()}):h.Promise.as(void 0)}):h.Promise.as(void 0)}})((m=h.RT||(h.RT={})).AudioContextManager||(m.AudioContextManager={}))}(TDev||(TDev={})),function(e){var l,t;l=e.RT||(e.RT={}),t=function(n){function e(e,t){n.call(this),this._board=e,this._picture=t,this.frames={},this.animations={},this.empty={x:0,y:0,width:0,height:0,rotated:!1}}return __extends(e,n),e.prototype.picture=function(){return this._picture},e.prototype.set_frame=function(e,t){var n=this.frames[t];e.setFrame(n||this.empty)},e.prototype.create_sprite=function(e){var t=this._board.mkSprite(3,1,1);return t.setSheet(this),this.set_frame(t,e),t},e.prototype.set_frame_grid=function(e,t,n,i,r,o,a){if(this.frames=[],!(e<1||t<1)){e=Math.floor(e),t=Math.floor(t);for(var s=this._picture.heightSync(),c=this._picture.widthSync(),l=0<n?n:c/t,u=0<i?i:s/e,d=1,p=o,h=0;h<e;++h){for(var m=r,f=0;f<t;++f){var g=(d++).toString();this.add_frame(g,m,p,l,u,!1),m+=l+a}p+=u+a}}},e.prototype.add_frame=function(e,t,n,i,r,o){this.frames[e]={x:t,y:n,width:i,height:r,rotated:o}},e.prototype.findAnimation=function(e){return this.animations[e]},e.prototype.add_grid_animation=function(e,t,n,i,r,o){var a=[];if(t=Math.floor(t),!((n=Math.floor(n))<1)){for(var s=t+n,c=t;c<=s;++c)a.push(c.toString());0<a.length&&this.add_animation(e,l.Collection.mkStrings(a),i,r,o)}},e.prototype.add_animation=function(e,t,n,i,r){n<=0&&(n=1*t.count()/30),this.animations[e]={frames:t.a.slice(0),duration:Math.max(.02,n),loopCount:Math.floor(i),yoyo:r}},e.prototype.getDebugCanvas=function(){var n=this,e=this._picture.getCanvas(),t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");return i.drawImage(e,0,0),i.strokeStyle="blue",i.lineWidth=1,i.font="1em Arial",Object.keys(this.frames).forEach(function(e){var t=n.frames[e];i.strokeRect(t.x,t.y,t.width,t.height),i.fillText(e,t.x+4,t.y+12)}),t},e.prototype.getViewCore=function(e,t){return this.getDebugCanvas()},e.prototype.post_to_wall=function(e){n.prototype.post_to_wall.call(this,e)},e}(l.RTValue),l.SpriteSheet=t}(TDev||(TDev={})),function(o){var d,e;d=o.RT||(o.RT={}),e=function(t){function u(e){t.call(this),this._sprite=e,this._tweens=[],this._tweenIndex=0,this._t=-1,this._timeScale=1,this.isActive=!0}return __extends(u,t),u.prototype.pushTween=function(e,t,n){this.ensureActive(),0<this._tweens.length&&this._tweens[this._tweens.length-1].repeat<0&&o.Util.userError(o.lf("the previous animation repeats forever"));var i={apply:e,easing:t,duration:Math.max(n,0),repeat:1,yoyo:!1,reversed:!1};return this._tweens.push(i),i},u.prototype.ensureActive=function(){this.isActive||o.Util.userError(o.lf("trying to chain a tween that has already stopped"))},u.resolveEasing=function(e,t){var n=u.easing[e.toLowerCase().replace(" ","")]||u.easing.cubic;return n[t.toLowerCase().replace(" ","")]||n.inout},u.prototype.time_scale=function(){return this._timeScale},u.prototype.set_time_scale=function(e){this._timeScale=e},u.prototype.move_to=function(e,t,n,i,r){var o=this._sprite.x(),a=this._sprite.y(),s=i-o,c=r-a;this.pushTween(function(e,t,n){t.set_pos(o+n*s,a+n*c)},u.resolveEasing(t,n),e).init=function(e){o=e.x(),a=e.y(),s=i-o,c=r-a}},u.prototype.text=function(e,t,n,r){var o=this._sprite.text()||"",i=parseInt(o),a=parseInt(r);if(isNaN(a)||isNaN(i)&&i){var s=Math.max(o.length,r.length),c=o;this.pushTween(function(e,t,n){var i=Math.floor(n*s);r[i];c=(r.substring(0,i)||"")+ +(o.substring(i)||""),t.set_text(c)},u.resolveEasing(t,n),e)}else{isNaN(i)&&(i=0);var l=a-i;this.pushTween(function(e,t,n){t.set_text(d.Math_.round(i+n*l).toString())},u.resolveEasing(t,n),e)}},u.prototype.color=function(e,t,n,r){var o=this._sprite.color();this.pushTween(function(e,t,n){var i=1-n;t.set_color(d.Color.fromArgb(o.a*n+r.a*i,o.r*n+r.r*i,o.g*n+r.g*i,o.b*n+r.b*i))},u.resolveEasing(t,n),e).init=function(e){o=e.color()}},u.prototype.beat=function(e,t,n){this.scale(e,"quadratic","inout",n),this.repeat(2*t,!0)},u.prototype.scale=function(e,t,n,i){this.pushTween(function(e,t,n){t.set_scale(1*(1-n)+n*i)},u.resolveEasing(t,n),e)},u.prototype.width=function(e,t,n,i){var r=this._sprite.width();this.pushTween(function(e,t,n){t.set_width(r*(1-n)+n*i)},u.resolveEasing(t,n),e)},u.prototype.height=function(e,t,n,i){var r=this._sprite.height();this.pushTween(function(e,t,n){t.set_height(r*(1-n)+n*i)},u.resolveEasing(t,n),e)},u.prototype.fork=function(){var i=this._sprite.createAnimation();return this.pushTween(function(e,t,n){t.startAnimation(i)},u.easing.linear.in,0),i},u.prototype.wait=function(e){var t=this,n=this._sprite._parent,i=n.tick;if(n){d.App.allow_other_events(e.stackframe);var r=function(){e.rt.yield_now(),i!=n.tick&&(i=n.tick,n.evolve(),n.update_on_wall()),t.isActive?o.Util.setTimeout(100,r):e.resume()};r()}else e.resume()},u.prototype.wait_for=function(i){var r=this.pushTween(function(e,t,n){i.isActive||(r.duration=-1)},u.easing.linear.in,1e6)},u.prototype.stop=function(){this._tweenIndex=this._tweens.length,this._t=0},u.prototype.repeat=function(e,t){if(this.ensureActive(),0<this._tweens.length){var n=this._tweens[this._tweens.length-1];n.repeat=e,n.yoyo=t,n.reversed=!1}},u.prototype.on_start=function(e){return this._onStart||(this._onStart=new d.Event_),this._onStart.addHandler(e)},u.prototype.on_stop=function(e){return this.ensureActive(),this._onStop||(this._onStop=new d.Event_),this._onStop.addHandler(e)},u.prototype.sleep=function(e){this.pushTween(function(e,t,n){},u.easing.linear.in,e)},u.prototype.fade_in=function(e,t){var i=this._sprite.opacity();this.pushTween(function(e,t,n){t.set_opacity(i*(1-n)+n)},u.resolveEasing(t,"in"),e).init=function(e){i=e.opacity()}},u.prototype.fade_out=function(e,t){var i=this._sprite.opacity();this.pushTween(function(e,t,n){t.set_opacity(i*(1-n))},u.resolveEasing(t,"out"),e).init=function(e){i=e.opacity()}},u.prototype.fade=function(e,t,n,i){var r=this._sprite.opacity();i=d.Math_.normalize(i),this.pushTween(function(e,t,n){t.set_opacity(r*(1-n)+i*n)},u.resolveEasing(t,n),e).init=function(e){r=e.opacity()}},u.prototype.puff_out=function(e,t,i){var r=this._sprite.opacity(),o=this._sprite.scale();this.pushTween(function(e,t,n){t.set_opacity(r*(1-n)),t.set_scale(o*(1-n)+n*i)},u.resolveEasing(t,"out"),e).init=function(e){r=e.opacity(),o=e.scale()}},u.prototype.hide=function(){this.pushTween(function(e,t,n){t.hide()},u.easing.linear.in,0)},u.prototype.show=function(){this.pushTween(function(e,t,n){t.show()},u.easing.linear.in,0)},u.prototype.delete_=function(){this.pushTween(function(e,t,n){t.delete_()},u.easing.linear.in,0)},u.prototype.play_sound=function(i){this.pushTween(function(e,t,n){i.playAsync().done()},u.easing.linear.in,0)},u.prototype.frame=function(i){var r=this._sprite.sheet();r&&this.pushTween(function(e,t,n){r.set_frame(t,i)},u.easing.linear.in,0)},u.prototype.play_frames=function(e){var i=this._sprite.sheet();if(i){var r=i.findAnimation(e);r&&(this.pushTween(function(e,t,n){i.set_frame(t,r.frames[Math.floor(n*(r.frames.length-1))])},u.resolveEasing("linear","in"),r.duration),this.repeat(r.loopCount,r.yoyo))}},u.prototype.turn_to=function(e,t,n,i){var r=this._sprite.angle();this.pushTween(function(e,t,n){t.set_angle(r*n+(1-n)*i)},u.resolveEasing(t,n),e).init=function(e){r=e.angle()}},u.prototype.run=function(e,t,n,i){var r=new d.Event_;r.addHandler(i),this.pushTween(function(e,t,n){e.queueLocalEvent(r,[n],!1)},u.resolveEasing(t,n),e)},u.prototype.initTween=function(e){e&&e.init&&(e.init(this._sprite),delete e.init)},u.prototype.evolve=function(e,t){if(!this.isActive)return!1;this._t<0&&this._onStart&&this._onStart.handlers&&e.queueLocalEvent(this._onStart,[],!1);var n=this._tweens[this._tweenIndex];for(this._t=this._t<0?0:this._t+t*this._timeScale;n&&this._t>n.duration;)this.initTween(n),n.apply(e,this._sprite,n.reversed?0:1),this._t=n.duration<0?0:this._t-n.duration,0==n.repeat?n=this._tweens[++this._tweenIndex]:0<n.repeat&&0==--n.repeat?n=this._tweens[++this._tweenIndex]:n.yoyo&&(n.reversed=!n.reversed);if(n){var i=n.easing(this._t/n.duration);return this.initTween(n),n.apply(e,this._sprite,n.reversed?1-i:i),!0}return this._onStop&&this._onStop.handlers&&e.queueLocalEvent(this._onStop,[],!1),this.isActive=!1},u.prototype.is_active=function(){return this.isActive},u.prototype.getViewCore=function(e,t){return o.div("item","tween")},u.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},u.easing={linear:{in:function(e){return e},out:function(e){return e},inout:function(e){return e}},quadratic:{in:function(e){return e*e},out:function(e){return e*(2-e)},inout:function(e){return(e*=2)<1?e*e/2:(1- --e*(e-2))/2}},cubic:{in:function(e){return e*e*e},out:function(e){return 1+--e*e*e},inout:function(e){return(e*=2)<1?e*e*e/2:((e-=2)*e*e+2)/2}},sine:{in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inout:function(e){return(1-Math.cos(Math.PI*e))/2}},expo:{in:function(e){return 0==e?0:Math.pow(1024,e-1)},out:function(e){return 1==e?1:1-Math.pow(2,-10*e)},inout:function(e){return 0==e?0:1==e?1:(e*=2)<1?Math.pow(1024,e-1)/2:1-Math.pow(2,-10*(e-1))/2}}},u}(d.RTValue),d.SpriteAnimation=e}(TDev||(TDev={})),function(y){!function(e){var t=function(t){function e(e){t.call(this),this._board=e,this._offsetX=0,this._offsetY=0,this._layers=[]}return __extends(e,t),e.prototype.view_x=function(){return this._offsetX},e.prototype.set_view_x=function(e){isNaN(e)||(this._offsetX=e)},e.prototype.view_y=function(){return this._offsetY},e.prototype.set_view_y=function(e){isNaN(e)||(this._offsetY=e)},e.prototype.sortLayers=function(){this._layers.sort(function(e,t){return t.distance()-e.distance()})},e.prototype.create_layer=function(t,n,e){var i=this;n.loadFirst(e,function(){var e=new r(i,t,n);return i._layers.push(e),i.sortLayers(),e})},e.prototype.count=function(){return this._layers.length},e.prototype.at=function(e){return this._layers[Math.floor(e)]},e.prototype.clear=function(){this._layers=[],this._offsetX=this._offsetY=0},e.prototype.render=function(i,r,o){var a=this;this._layers.forEach(function(e){var t=Math.round(a._offsetX/(1+e.distance())),n=Math.round(a._offsetY/(1+e.distance()));e.render(i,r,o,t,n)})},e.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},e}(e.RTValue);e.BoardBackgroundScene=t;var r=function(i){function v(e,t,n){i.call(this),this._scene=e,this._distance=t,this._pic=n,this._repeatX=!0,this._repeatY=!0,this._alignX=v.ARRANGE_LEFT,this._alignY=v.ARRANGE_TOP}return __extends(v,i),v.prototype.picture=function(){return this._pic},v.prototype.distance=function(){return this._distance},v.prototype.set_distance=function(e){isNaN(e)&&(e=0);e=Math.max(0,e);this._distance!=e&&(this._distance=e,this._scene.sortLayers())},v.prototype.align_x=function(){return this._alignX},v.prototype.set_align_x=function(e){switch(e.trim().toLowerCase()){case"left":this._alignX=v.ARRANGE_LEFT;break;case"right":this._alignX=v.ARRANGE_RIGHT;break;case"center":this._alignX=v.ARRANGE_CENTER}},v.prototype.align_y=function(){return this._alignY},v.prototype.set_align_y=function(e){switch(e.trim().toLowerCase()){case"center":this._alignY=v.ARRANGE_LEFT;break;case"top":this._alignY=v.ARRANGE_TOP;break;case"bottom":this._alignY=v.ARRANGE_BOTTOM}},v.prototype.repeat_x=function(){return this._repeatX},v.prototype.set_repeat_x=function(e){this._repeatX=!!e},v.prototype.repeat_y=function(){return this._repeatY},v.prototype.set_repeat_y=function(e){this._repeatY=!!e},v.prototype.render=function(t,n,e,i,r){var o=this._pic.getCanvas(),a=o.width,s=o.height;if(a&&s){var c=-i,l=-r;switch(this._alignX){case v.ARRANGE_RIGHT:c-=t+a;break;case v.ARRANGE_CENTER:c-=(t+a)/2}switch(this._alignY){case v.ARRANGE_BOTTOM:l-=n+s;break;case v.ARRANGE_CENTER:l-=(n+s)/2}(c%=t)<0&&(c+=t),(l%=n)<0&&(l+=n),c=Math.floor(c),l=Math.floor(l);for(var u=!y.Browser.isWebkit,d=0,p=0;d<n;){p=d%s;for(var h=Math.min(s-p,n-l),m=0;m<t;){var f=m%a,g=Math.min(a-f,t-c);try{e.drawImage(o,f,p,g,h,c,l,g,h),u&&(this._repeatX&&e.drawImage(o,f,p,2,h,c-1,l,2,h),this._repeatY&&e.drawImage(o,f,p,g,2,c,l-1,g,2))}catch(e){return y.Util.log("scene: "+JSON.stringify({w:t,h:n,pw:a,ph:s,dw:g,dh:h,x:m,y:d,px:f,py:p,rx:c,ry:l,edge:u})),void y.Util.reportError("backgroundScene",e,!1)}c=(c+g)%t,m+=this._repeatX?g:t}l=(l+h)%n,d+=this._repeatY?h:n}}},v.ARRANGE_LEFT=1,v.ARRANGE_RIGHT=2,v.ARRANGE_TOP=3,v.ARRANGE_BOTTOM=4,v.ARRANGE_CENTER=5,v}(e.RTValue);e.BoardBackgroundLayer=r}(y.RT||(y.RT={}))}(TDev||(TDev={})),function(i){var r,e;r=i.RT||(i.RT={}),(e=r.Tutorial||(r.Tutorial={})).step_completed=function(e){e.rt.forceNonRender();var t=e.rt.tutorialState;t||(t=e.rt.tutorialState={}),t.validated=!0,e.rt.host.notifyTutorial("stepCompleted")},e.show_hint=function(e,t){var n=new i.ModalDialog;n.add([i.div("wall-dialog-header",i.lf("tutorial hint")),r.Wall.body(e),i.div("wall-dialog-buttons",[i.HTML.mkButtonOnce("ok",function(){return n.dismiss()})])]),n.onDismiss=function(){return t.resume()},n.show()}}(TDev||(TDev={})),function(c){var l,e;l=c.RT||(c.RT={}),e=function(e){function r(){e.apply(this,arguments),this._headers=new l.StringMap,this._querystring=new l.StringMap,this._content=void 0}return __extends(r,e),r.mk=function(e,t){var n=new r;n._id=c.Random.uniqueId(12),n._headers=l.StringMap.mk(e.headers),n._querystring=l.StringMap.mk(e.tdQueryString),n._req=e,n._startTime=Date.now();var i="http";return t&&(i="ws"),("https"===e.headers["x-forwarded-proto"]||e.headers["x-arr-ssl"]||e.connection.encrypted)&&(i="https"),n._url=i+"://"+(e.headers.host||"unknown")+e.url,n._response=new l.ServerResponse(n,t),n},r.prototype.startHandle=function(){this._startHandleTime=Date.now(),this.log(this.toString())},r.prototype.stopHandle=function(){var e=(Date.now()-this._startHandleTime)/1e3,t=(this._startHandleTime-this._startTime)/1e3;void 0!==this._onStop&&this._onStop.success(!0),this.log(c.Util.fmt("status={0} [{1}s prep, {2}s exec]",this._response.status_code(),t,e))},r.prototype.log=function(e){l.App.log("[req:"+this._id+(this._user?":"+this._user.id():"")+"] "+e)},r.prototype.getNodeRequest=function(){return this._req},r.prototype.recvContentAsync=function(){var t=this,r=new c.PromiseInv,e=this.header("content-type")||"application/octet-stream";e=e.replace(/;.*/,"");var n=/application\/json/i.test(e);this._isText=/^text\//.test(e)||n;var i=this._req;if(this._isText){var o="";i.setEncoding("utf8"),i.on("data",function(e){return o+=e}),i.on("end",function(){if(t._content=o,n){var e=l.JsonObject.mk(t._content,l.Time.log);t._jsonBody=e.value()}r.success(null)})}else{var a=[],s=0;i.on("data",function(e){a.push(e),s+=e.length}),i.on("end",function(){var n=new Uint8Array(s),i=0;a.forEach(function(e){for(var t=0;t<e.length;++t)n[i++]=e[t]}),t._content=l.Buffer.fromTypedArray(n),r.success(null)})}return r},r.prototype.getRestArgument=function(e,t,n){if("Server Request"==t)return this;if("Server Response"==t)return this.response();var i=this.query(e);return void 0===i&&this._jsonBody&&(i=this._jsonBody[e]),void 0!==i?c.Runtime.fromRestArgument(i,t,n):void 0},r.prototype.response=function(){return this._response},r.prototype.content=function(){if("string"==typeof this._content)return this._content},r.prototype.content_as_buffer=function(){if(this._content instanceof l.Buffer)return this._content},r.prototype.content_as_json=function(){if(this._jsonBody)return l.JsonObject.wrap(this._jsonBody)},r.prototype.method=function(){return this._req.method.toLowerCase()},r.prototype.url=function(){return this._url},r.prototype.api_path=function(){return this._req.tdApiPath},r.prototype.header=function(e){return this._headers.at(e.toLowerCase())},r.prototype.query=function(e){return this._querystring.at(e)},r.prototype.equals=function(e){return this==e},r.prototype.toString=function(){return this.method()+" "+this.url()},r.prototype.post_to_wall=function(e){var t=e.rt;this._content&&this._content.length&&t.postBoxedText("Content-Length: "+this._content.length,e.pc);for(var n=this._headers.keys(),i=0;i<n.count();++i){var r=n.at(i);t.postBoxedText(n.at(i)+": "+this._headers.at(r),e.pc)}t.postBoxedText(this.toString(),e.pc)},r.prototype.header_names=function(){return this._headers.keys()},r.prototype.query_names=function(){return this._querystring.keys()},r.prototype.setJsonBody=function(e){this._jsonBody=e},r.prototype.user=function(){return this._user},r}(l.RTValue),l.ServerRequest=e}(TDev||(TDev={})),function(o){var i,e;i=o.RT||(o.RT={}),e=function(n){function r(e,t){n.call(this),this._request=e,this._proxy=t,this._headers=new i.StringMap,this._statusCode=200}return __extends(r,n),r.prototype.header=function(e){return this._headers.at(e)},r.prototype.set_header=function(e,t){t?this._headers.set_at(e.toLowerCase(),t):this._headers.remove(e.toLowerCase())},r.prototype.request=function(){return this._request},r.prototype.status_code=function(){return this._statusCode},r.prototype.set_status_code=function(e){this._statusCode=e},r.prototype.equals=function(e){return this==e},r.prototype.toString=function(){return"Response to "+this._request.toString()},r.prototype.post_to_wall=function(e){var t=e.rt;this._content&&this._content.length&&t.postBoxedText("Content-Length: "+this._content.length,e.pc);for(var n=this._headers.keys(),i=0;i<n.count();++i){var r=n.at(i);t.postBoxedText(n.at(i)+": "+this._headers.at(r),e.pc)}t.postBoxedText(this.toString(),e.pc)},r.prototype.set_content_type=function(e){this._headers.set_at("Content-Type",e)},r.prototype.set_content=function(e){this._content=e,this.set_content_type("text/plain; charset=utf-8")},r.prototype.set_content_as_json=function(e){this.set_content(e.toString()),this.set_content_type("application/json; charset=utf-8")},r.prototype.set_content_as_buffer=function(e){this._content=e.toNodeBuffer(),this.set_content_type("application/octet-stream")},r.prototype.set_content_as_xml=function(e){this.set_content(e.toString()),this.set_content_type("text/xml; charset=utf-8")},r.prototype.header_names=function(){return this._headers.keys()},r.prototype.addRestResult=function(e,t){this._restResult||(this._restResult={}),this._restResult[e]=o.Runtime.toRestArgument(t,this._request._stackframe)},r.prototype.sendNow=function(){var e=this.request().getNodeRequest().tdResponse,t=this._headers.items,n=this._content;if(this._proxy)return this._proxy.success(this._restResult||{});if(null==n&&"text/plain"==this.request().header("TouchDevelop-Accept"))t["content-type"]||(t["content-type"]="text/plain"),n=o.Util.values(this._restResult||{}).map(function(e){return e+""}).join(";");else if(void 0===n){var i=parseInt(this.request().query("x-td-format")||"0");n=(i=o.Util.between(0,i,8))?JSON.stringify(this._restResult||{},null,i):JSON.stringify(this._restResult||{}),t["content-type"]||(t["content-type"]="application/json; charset=utf-8")}else this._restResult&&o.Util.userError(o.lf("set_content_... cannot be called on the response object when function has result(s)"));"string"==typeof n&&(n=r.toUtfBuffer(n)),t["content-length"]||(t["content-length"]=n.length),e.writeHead(this._statusCode,t),e.end(n),this.request().stopHandle()},r}(i.RTValue),i.ServerResponse=e}(TDev||(TDev={})),function(o){!function(i){var r;(r=i.EditorServices||(i.EditorServices={})).getTokenAsync=function(t){if(!o.Cloud.hasAccessToken())return o.Promise.as(void 0);var n;try{n=JSON.parse(localStorage.touchDevelopTokens)}catch(e){n={}}var e=n[t];if(e)return o.Promise.as(e);var i="https://touchdevelopuserauth.azurewebsites.net/api/sign_token?aud="+encodeURIComponent(t)+"&access_token="+o.Cloud.getAccessToken();return o.Util.httpPostJsonAsync(i,{}).then(function(e){return e.jwt||o.Util.oops(e?e.status:"bad"),e.jwt}).then(function(e){return e&&(n[t]=e,localStorage.touchDevelopTokens=JSON.stringify(n)),e},function(e){})};var e=function(n){function e(e,t){n.call(this),this.allAnnotations=[],e.headlessPluginMode=t,e.editorObj=this}return __extends(e,n),e.prototype.progress=function(e,t){o.ProgressOverlay.setProgress(e)},e.prototype.annotate_ast=function(e,t,n){this.allAnnotations.push({id:e,category:t,message:n})},e.prototype.annotate_caller=function(e,t,n){var i=o.TheEditor;i&&i.injectCallerAnnotation(e,t,n)},e.prototype.current_script_id=function(e){return e.rt.runningPluginOn},e.prototype.current_script_ast=function(e){i.Bazaar.ast_of(this.current_script_id(e.stackframe),e)},e.prototype.tutorial_step_completed=function(e){i.Tutorial.step_completed(e)},e.prototype.deployment_settings=function(t){t.rt.host.deploymentSettingsAsync(t.rt.runningPluginOn).done(function(e){return t.resumeVal(e?i.JsonObject.wrap(e):void 0)})},e.prototype.user_token=function(e,t){if(o.Cloud.anonMode(o.lf("user token")))t.resumeVal("");else{(!e||e.length<4)&&o.Util.userError(o.lf("app name must be at least 4 character long"));var n=o.Cloud.getUserId(),i=o.lf("{0} - {1}",e,n);t.rt.host.askSourceAccessAsync("a user token for "+i,"an authentication token for the `"+i+"` application. The token allows this script to authenticate you in their services. The script does not have access to any other personal information.",!0)?r.getTokenAsync(i).done(function(e){return t.resumeVal(e)}):t.resumeVal("")}},e.prototype.package_current_script=function(e,t){var n=this.current_script_id(t.stackframe);n?(o.HTML.showProgressNotification(o.lf("packaging script..."),!0),t.rt.host.packageScriptAsync(n,e.value()).done(function(e){return t.resumeVal(i.JsonObject.wrap(e))},function(e){return t.resumeVal(i.JsonObject.wrap({error:e.message||"an error occured"}))})):t.resumeVal(void 0)},e}(i.RTValue);i.Editor=e}(o.RT||(o.RT={}))}(TDev||(TDev={})),function(e){var i,t;i=e.RT||(e.RT={}),(t=i.Create||(i.Create={})).Collection_of=function(e,t){return new i.Collection(t)},t.Ref_of=function(e,t){var n=new i.Ref;return"string"==t?n._set("",e):"number"==t?n._set(0,e):"boolean"==t&&n._set(!1,e),n}}(TDev||(TDev={})),function(e){!function(r){var o=function(t){function n(){t.call(this)}return __extends(n,t),n.mk=function(e){var t=new n;return"string"==typeof e?t.stringData=e:t.binaryData=e,t},n.mkError=function(e){var t=new n;return t.err=e,t},n.prototype.is_error=function(){return!!this.err},n.prototype.error=function(){return this.err},n.prototype.string=function(){return this.stringData},n.prototype.json=function(){if(this.stringData)return this._json||(this._json=r.JsonObject.mk(this.stringData)),this._json},n.prototype.buffer=function(){return this.binaryData instanceof r.Buffer?this.binaryData:this.binaryData instanceof ArrayBuffer?(this.binaryData=r.Buffer.fromTypedArray(new Uint8Array(this.binaryData)),this.binaryData):void 0},n.prototype.toString=function(){return this.err?"error: "+this.err:this.binaryData&&this.binaryData.toString?this.binaryData.toString():JSON.stringify(this.stringData)},n.prototype.post_to_wall=function(e){t.prototype.post_to_wall.call(this,e)},n}(r.RTValue);r.WebSocketMessage=o;var e=function(n){function i(e,t){n.call(this,t),this.ws=e,this.msgs=[]}return __extends(i,n),i.prototype.dispose=function(){this.close(),n.prototype.dispose.call(this)},i.mk=function(e,t){var n=new i(e,t);return n.attachEvents(),n},i.prototype.attachEvents=function(){var t=this;this.ws.addEventListener("error",function(e){r.App.logEvent(r.App.DEBUG,"ws","error: "+e.message,void 0),t.receiveMessage(o.mkError(e.message))},!1),this.ws.addEventListener("message",function(e){t.receiveMessage(o.mk(e.data))},!1),this.ws.addEventListener("close",function(e){t.gotClose()},!1)},i.prototype.gotClose=function(){for(var e=o.mkError("closed");this.msgs[0]&&!(this.msgs[0]instanceof o);)this.receiveMessage(e)},i.prototype.receiveMessage=function(e){var t=this.msgs[0];!t||t instanceof o?this.msgs.push(e):this.msgs.shift()(e)},i.prototype.close=function(){this.ws.close()},i.prototype.ready_state=function(){var e=this.ws.readyState;switch(e){case 0:return"connecting";case 1:return"open";case 2:return"closing";case 3:return"closed";default:return e.toString()}},i.prototype.buffered_amount=function(){return this.ws.bufferedAmount},i.prototype.receive=function(t){var e=this.msgs[0];e&&e instanceof o?t.resumeVal(this.msgs.shift()):"closed"==this.ready_state()?t.resumeVal(o.mkError("closed")):this.msgs.push(function(e){return t.resumeVal(e)})},i.prototype.sendPacket=function(e){try{this.ws.send(e)}catch(e){r.App.logEvent(r.App.DEBUG,"ws","error: send"+e.message,void 0),this.receiveMessage(o.mkError(e))}},i.prototype.send=function(e){this.sendPacket(e)},i.prototype.send_json=function(e){this.send(JSON.stringify(e?e.value():null))},i.prototype.send_buffer=function(e){this.sendPacket(e.buffer)},i.prototype.toString=function(){return this.ready_state()+" "+this.ws.url},i.prototype.post_to_wall=function(e){n.prototype.post_to_wall.call(this,e)},i}(r.RTDisposableValue);r.WebSocket_=e}(e.RT||(e.RT={}))}(TDev||(TDev={})),function(i){var e,t;e=i.RT||(i.RT={}),t=function(e){function n(){e.call(this),this._url=void 0}return __extends(n,e),n.fromArtUrl=function(e){var t=new n;return t._url=e,i.Promise.as(t)},n.prototype.docs_render=function(e){},n.prototype.url=function(){return this._url},n}(e.RTValue),e.Document_=t}(TDev||(TDev={})),function(v){!function(c){var e=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.rtType=function(){return this.parent.rtType()+"$entry"},t.prototype.noMagicRtType=function(){return!0},t.prototype.equals=function(e){return this===e},t.prototype.invalidate=function(){this.isDeleted=!0,this.clear_fields(),this.decorators=void 0},t.prototype.getShortStringRepresentation=function(){return"["+this.parent.entryKindName+"]"},t.prototype.post_to_wall=function(e){e.rt.postBoxedHtml(this.parent.getTable([this],e),e.pc)},t.prototype.to_json=function(e){var t=new v.JsonExportCtx(e);t.push(this);var n=this.exportJson(t);return t.pop(this),c.JsonObject.wrap(n)},t.prototype.from_json=function(e,t){this.parent.logMutation(t),this.importJsonFields(new v.JsonImportCtx(t),e.value())},t.prototype.importJsonFields=function(e,t){v.Util.oops("compiled code is supposed to override this method")},t.prototype.jsonExportKey=function(e){return null},t.prototype.exportJson=function(t){var n=this;if(!this.is_deleted()){var e=this.fields.map(function(e){return n[e+"_realname"]}),i=this.fields.map(function(e){return n.getFieldValue(e,t.stackframe)});return t.encodeObjectNode(this,e,i)}},t.prototype.getIndexCard=function(o){var a=this,e=document.createElement("div");e.className="wall-record";var t=document.createElement("h3");if(t.textContent=this.parent.entryKindName,t.className="wall-record",e.appendChild(t),this.is_deleted()){var n=document.createElement("p");n.className="wall-record",n.textContent="(deleted)",e.appendChild(n)}else{var s=document.createElement("ul");s.className="wall-record",this.fields.forEach(function(e){var t=a[e+"_realname"],n=a.getFieldValue(e,o),i=t+": ";n instanceof c.RTValue?i+=n.getShortStringRepresentation():void 0!==n&&(i+=n);var r=document.createElement("li");r.className="wall-record",r.textContent=i,s.appendChild(r)}),e.appendChild(s)}return e},t.prototype.debuggerDisplay=function(t){var e;try{e=this.getIndexCard(null)}catch(e){return v.span(null,e.message||"").withClick(t)}var n=v.div("wall-record",this.parent.entryKindName),i=!1,r=function(){e.style.display=i?"block":"none",n.style.display=i?"none":"block"};return r(),v.div(null,n,e).withClick(function(){t(),r(),i=!i})},t.prototype.debuggerChildren=function(){var n=this;if(!this.is_deleted()){var i={};return this.fields.forEach(function(e){var t=n.getFieldValue(e,void 0);i[n[e+"_realname"]]=t}),i}},t.prototype.getFieldValue=function(e,t){return this[e]},t.prototype.getTableHeader=function(){var n=this,i=document.createElement("tr");return this.fields.forEach(function(e){var t=document.createElement("th");t.setAttribute("scope","col"),t.textContent=n[e+"_realname"],i.appendChild(t)}),i},t.prototype.getTableRow=function(i){var r=this,o=document.createElement("tr");return this.fields.forEach(function(e){var t=document.createElement("td"),n=r.getFieldValue(e,i);t.textContent=n instanceof c.RTValue?n.getShortStringRepresentation():void 0===n?"":n,o.appendChild(t)}),o},t.prototype.clear_fields=function(e){var t=this;e&&this.parent.logMutation(e),this.values.forEach(function(e){delete t[e]})},t.prototype.is_deleted=function(){return!1},t.prototype.confirmed=function(){return!0},t.prototype.perform_get=function(e,t){return v.Util.abstract()},t.prototype.perform_set=function(e,t,n){return v.Util.abstract()},t.prototype.perform_confirmed=function(e,t){return!0},t.prototype.perform_test_and_set=function(e,t,n){return v.Util.abstract()},t.prototype.perform_add=function(e,t,n){return v.Util.abstract()},t.prototype.perform_clear=function(e,t){return v.Util.abstract()},t}(c.RTValue),r=function(e){function r(){e.call(this)}return __extends(r,e),r.prototype.toJsonKey=function(){return this.rownumber},r.prototype.jsonExportKey=function(e){return this.rownumber.toString()},r.prototype.getShortStringRepresentation=function(){return"["+this.parent.entryKindName+this.rownumber+"]"},r.prototype.delete_row=function(e){if(this.parent.logMutation(e),!this.isDeleted){var t=this.parent._elements.indexOf(this);0<=t&&this.parent._elements.splice(t,1),this.invalidate(),this.parent.clearCachedData()}},r.prototype.perform_get=function(e,t){return this.is_deleted(),this[e]},r.prototype.perform_set=function(e,t,n){this.parent.logMutation(n),this.isDeleted||(null==t?delete this[e]:this[e]=t)},r.prototype.perform_add=function(e,t,n){this.parent.logMutation(n),!this.isDeleted&&t&&(this[e]+=t)},r.prototype.perform_clear=function(e,t){this.parent.logMutation(t),this.isDeleted||delete this[e]},r.prototype.perform_test_and_set=function(e,t,n){this.parent.logMutation(n),this.isDeleted||this[e]||!t||(this[e]=t)},r.prototype.is_deleted=function(){var n=this;if(this.isDeleted)return!0;var i=!1;return 0<this.keys.length&&this.keys.forEach(function(e){if(!i){var t=n[e];(t instanceof r&&t.is_deleted()||t instanceof a&&t.is_deleted())&&(i=!0)}}),i&&!this.isDeleted&&this.invalidate(),i},r.prototype.keyCompareTo=function(e){return this.rownumber-e.rownumber},r}(c.RecordEntry=e);c.TableEntry=r;var a=function(e){function i(){e.call(this)}return __extends(i,e),i.prototype.toJsonKey=function(){return this.sessionname+this.uid},i.prototype.equals=function(e){var t=e;return this.uid===t.uid&&this.sessionname===t.sessionname},i.prototype.getShortStringRepresentation=function(){return"["+this.parent.entryKindName+": "+this.uid+"]"},i.prototype.hookup=function(e){this.sessionname=e.session.servername,this.uid=e.uid,((this.item=e).backlink=this).read_cloud_fields(e)},i.prototype.unlink=function(){this.decorators=void 0,this.item=void 0;for(var e=0;e<this.values.length;e++)this[this.values[e]]=void 0},i.prototype.getFieldValue=function(e,t){this.check();var n=this[e];return n instanceof v.Revisions.LVal?g.read(this.parent.session(),n,t):n},i.prototype.check=function(e){if(void 0===e&&(e=!0),this.sessionname!==this.parent.session().servername){if(!e)return!1;v.Util.userError(v.lf("stale row: originated in a different session"))}if(void 0===this.item||this.item.backlink!=this||this.item.session!==this.parent.session()){var t=this.parent.session(),n=t.user_get_item(this.uid);void 0===n&&(n=t.user_create_tombstone(this.parent.cloudtype,this.uid,this.keys.map(function(e){}),[])),this.hookup(n)}return!0},i.prototype.confirmed=function(){var t=this;this.check();var n=this.parent.session();return this.existenceConfirmed()&&!this.values.some(function(e){return!n.user_is_datum_confirmed(t[e])})},i.prototype.existenceConfirmed=function(){var n=this;return this.parent.session().user_is_datum_confirmed(this.item)&&!this.keys.some(function(e){var t=n[e];return t&&t instanceof i&&!t.existenceConfirmed()})},i.prototype.jsonExportKey=function(e){this.check();var t=this.uid;if(-1===t.indexOf(".")){var n=this.parent.session().membernumber.toString();"-1"===n&&(n=""),t=n+"."+t}return t},i.prototype.delete_row=function(e){e&&this.parent.logMutation(e),this.check(),this.parent.session().user_delete_item(this.item),this.parent.clearCachedData()},i.prototype.clear_fields=function(e){e&&this.parent.logMutation(e),this.check();for(var t=0;t<this.values.length;t++){var n=this[this.values[t]];g.clear(this.parent.session(),n)}},i.prototype.perform_get=function(e,t){return this.check(),g.read(this.parent.session(),this[e],t)},i.prototype.perform_confirmed=function(e){return this.check(),this.parent.session().user_is_datum_confirmed(this[e])},i.prototype.perform_set=function(e,t,n){this.parent.logMutation(n),this.check(),g.modify(this.parent.session(),this[e],t,!1)},i.prototype.perform_test_and_set=function(e,t,n){this.parent.logMutation(n),this.check(),g.modify(this.parent.session(),this[e],t,!0)},i.prototype.perform_add=function(e,t,n){this.parent.logMutation(n),this.check(),g.modify(this.parent.session(),this[e],t,!0)},i.prototype.perform_clear=function(e,t){this.parent.logMutation(t),this.check(),g.modify(this.parent.session(),this[e],void 0,!1)},i.prototype.is_deleted=function(){return!this.check()||this.parent.session().user_is_datum_deleted(this.item)},i.prototype.keyCompareTo=function(e){return this.item.compareTo(e.item)},i.prototype.read_cloud_fields=function(e){var t=0,n=0;v.Util.assert(this.parent.key_cloudtypes.length===this.keys.length);for(var i=0;i<this.keys.length;i++){var r,o=this.parent.key_cloudtypes[i];if(")"===o.charAt(o.length-1)){var a=e.ukeys[n];r=this.parent.linked_cloudtables[n].import_item_from_uid(a),n+=1}else r=g.fromCloud(o,e.lkeys[t]),t+=1;this[this.keys[i]]=r}v.Util.assert(this.parent.value_cloudtypes.length===this.values.length);for(i=0;i<this.values.length;i++){var s=this.parent.value_cloudtypes[i];this[this.values[i]]=this.parent.session().user_get_lval(s,[this.uid],[])}},i}(e);c.CloudTableEntry=a;var t=function(e){function t(){e.call(this),this.isDeleted=!1}return __extends(t,e),t.prototype.compareTo=function(i){var r=this,o=0;return this.keys.forEach(function(e){if(!o){var t=r[e],n=i[e];switch(typeof t){case"string":o=t.localeCompare(n);break;case"number":o=t-n;break;case"boolean":t!==n&&(o=t?1:-1);break;default:o=c.RTValue.CompareKeys(t,n)}}}),o},t.prototype.is_deleted=function(){var n=this;if(this.isDeleted)return!0;var i=!1;return 0<this.keys.length&&this.keys.forEach(function(e){if(!i){var t=n[e];t&&t instanceof r&&t.is_deleted()&&(i=!0)}}),i&&!this.isDeleted&&this.invalidate(),i},t.prototype.perform_get=function(e,t){return this.is_deleted(),this[e]},t.prototype.perform_set=function(e,t,n){this.parent.logMutation(n),this.isDeleted||(null==t?delete this[e]:this[e]=t)},t.prototype.perform_add=function(e,t,n){this.parent.logMutation(n),!this.isDeleted&&t&&(this[e]+=t)},t.prototype.perform_clear=function(e,t){this.parent.logMutation(t),this.isDeleted||delete this[e]},t.prototype.perform_test_and_set=function(e,t,n){this.parent.logMutation(n),this.isDeleted||this[e]||!t||(this[e]=t)},t.prototype.hasNondefaultValue=function(){var n=this,i=!1;return this.values.forEach(function(e){if(!i){var t=n[e];t&&("object"!=typeof t?i=!0:(v.Util.assert(t instanceof c.RTValue),i=!t.isDefaultValue()))}}),i},t}(e);c.IndexEntry=t;var n=function(e){function t(){e.call(this),this.on_render_heap=!1}return __extends(t,e),t.prototype.perform_get=function(e,t){return this[e]},t.prototype.perform_set=function(e,t,n){n.rt.logDataWrite(this.on_render_heap),this[e]=t},t.prototype.perform_add=function(e,t,n){n.rt.logDataWrite(this.on_render_heap),t&&(this[e]+=t)},t.prototype.perform_clear=function(e,t){t.rt.logDataWrite(this.on_render_heap),delete this[e]},t.prototype.perform_test_and_set=function(e,t,n){n.rt.logDataWrite(this.on_render_heap),!this[e]&&t&&(this[e]=t)},t}(e);c.ObjectEntry=n;var i=function(t){function e(){t.call(this),this._written=0}return __extends(e,t),e.prototype.post_to_wall=function(e){this.clear_if_necessary(),t.prototype.post_to_wall.call(this,e)},e.prototype.clear_if_necessary=function(){var e=this.parent;this._written<e._generation&&(this._written=e._generation,this.clear_fields())},e.prototype.target=function(){return this[this.keys[0]]},e.prototype.perform_get=function(e,t){return this.clear_if_necessary(),this[e]},e.prototype.perform_set=function(e,t,n){n.rt.logDataWrite(this.target().on_render_heap),this.clear_if_necessary(),this[e]=t},e.prototype.perform_add=function(e,t,n){n.rt.logDataWrite(this.target().on_render_heap),this.clear_if_necessary(),t&&(this[e]+=t)},e.prototype.perform_clear=function(e,t){t.rt.logDataWrite(this.target().on_render_heap),this.clear_if_necessary(),delete this[e]},e.prototype.perform_test_and_set=function(e,t,n){n.rt.logDataWrite(this.target().on_render_heap),this.clear_if_necessary(),!this[e]&&t&&(this[e]=t)},e}(e);c.DecoratorEntry=i;var o=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.rtType=function(){return this.libName+"$"+this.stableName},t.prototype.noMagicRtType=function(){return!0},t.prototype.initParent=function(){},t.prototype.isSerializable=function(){return!0},t.prototype.session=function(){var e=this.localsession?v.Runtime.theRuntime.sessions.getLocalSession():v.Runtime.theRuntime.sessions.getCurrentSession();return e||v.Util.oops("missing "+(this.localsession?"local":"cloud")+" session, "+this.stableName),e},t.prototype.create_collection=function(e){var t=c.Collection.fromArray([],this);return t.on_render_heap=e.rt.rendermode,t},t.prototype.copy_to_collection=function(e){var t=this.create_collection(e);return t.a.pushRange(this.get_enumerator()),t},t.prototype.my_entries=function(e){var t=this.create_collection(e),n=v.Cloud.getUserId();if(void 0!==n)return t.a.pushRange(this.get_enumerator().filter(function(e){return e[e.keys[0]]._id===n})),t},t.prototype.entries_linked_to=function(){var n=arguments,e=this.create_collection(arguments[arguments.length-1]);return e.a.pushRange(this.get_enumerator().filter(function(e){for(var t=0;t<e.keys.length;t++)if(e[e.keys[t]]!==n[t])return!1;return!0})),e},t.prototype.on_changed=function(e,t){this.onChangeEvent||(this.onChangeEvent=new c.Event_);var n=this.onChangeEvent.addHandler(e);return t.rt.queueLocalEvent(this.onChangeEvent,void 0,!0,!0),n},t.prototype.logMutation=function(e){e.rt.logDataWrite(!1),this.onChangeEvent&&e.rt.queueLocalEvent(this.onChangeEvent,void 0,!0,!0)},t.prototype.wait_for_update=function(t){this.onChangeEvent||(this.onChangeEvent=new c.Event_),this.onChangeEvent.addAwaiter(function(e){t.resume()})},t.prototype.getTable=function(e,t){var n=document.createElement("table");if(n.className="wall-table",0===e.length){var i=document.createElement("tr"),r=document.createElement("td");i.textContent="(empty table)",i.appendChild(r),n.appendChild(i)}else n.appendChild(e[0].getTableHeader()),e.forEach(function(e){return n.appendChild(e.getTableRow(t))});return n},t.prototype.debuggerDisplay=function(e){return null},t.prototype.invalid_row=function(){},t.prototype.invalid=function(){},t.prototype.get_enumerator=function(){return v.Util.oops("not implemented: enumerator"),[]},t.prototype.exportJson=function(e){var t=this.get_enumerator();return e.encodeArrayNode(this,t.slice(0))},t.prototype.to_json=function(e){var t=new v.JsonExportCtx(e);t.push(this);var n=this.exportJson(t);return t.pop(this),c.JsonObject.wrap(n)},t.prototype.prune_to=function(e){v.Util.oops("must be overridden by index and table")},t.prototype.from_json=function(e,t){this.logMutation(t);var n=new v.JsonImportCtx(t),i=e.value();this.importJsonTableOrIndex(n,i)},t.prototype.importJsonTableOrIndex=function(t,e){var n=this;if("object"==typeof e)if(Array.isArray(e)){for(var i=e.map(function(e){return n.importJsonRecord(t,void 0,e,!0)}),r=0;r<i.length;r++)i[r].importJsonFields(t,e[r]);this.prune_to(i)}else this.importJsonRecord(t,void 0,e,!1)},t.prototype.jsonExportKey=function(e){return null},t.prototype.importJsonKeys=function(e,t){return[]},t.prototype.findImportTarget=function(e,t,n,i){return v.Util.oops("subclasses are supposed to override this method"),null},t.prototype.importJsonRecord=function(e,t,n,i){var r;if(this.logMutation(e.s),"string"==typeof n)r=e.map(this.stableName,n);else{if("object"!=typeof n||Array.isArray(n))return;r=e.map(this.stableName,n["⌹id"])}return(t=this.findImportTarget(e,r,t,n))&&(i||t.importJsonFields(e,n),r&&e.addmapping(this.stableName,r,t.jsonExportKey(void 0))),t},t}(c.RTValue),s=function(e){function t(){e.call(this),this.row_counter=0,this.dependentcaches=[]}return __extends(t,e),t.prototype.initParent=function(){this._elements=[]},t.prototype.next_row_number=function(){return this.row_counter=this.row_counter+1,this.row_counter},t.prototype.add_row=function(e){return this.constructrow(arguments)},t.prototype.constructrow=function(e){this.clearCachedData();var t=new this.entryCtor(this);t.rownumber=this.next_row_number(),this._elements.push(t),v.Util.assert(e.length==t.keys.length+1),this.logMutation(e[e.length-1]);for(var n=0;n<t.keys.length;++n)t[t.keys[n]]=e[n];return t},t.prototype.row_at=function(e){return this.cacheItems(),this.cacheditems[Math.floor(e)]},t.prototype.count=function(){return this.cacheItems(),this.cacheditems.length},t.prototype.clear=function(e){this.logMutation(e),this.clearCachedData(),this._elements.forEach(function(e){e.invalidate()}),this._elements=[]},t.prototype.prune_to=function(e){this._elements=e},t.prototype.findImportTarget=function(e,t,n,i){if(!t||n&&n.jsonExportKey(void 0)===t||(n=void 0,this._elements.forEach(function(e){e.jsonExportKey(void 0)===t&&(n=e)})),n&&n.is_deleted()&&(n=void 0),!n&&"string"!=typeof i){var r=this.importJsonKeys(e,i);r.push(e.s),n=this.constructrow(r)}return n},t.prototype.cacheItems=function(){var n=this;if(void 0===this.cacheditems&&(this.cacheditems=this._elements.filter(function(e){return!e.is_deleted()}),0<this.cacheditems.length)){var i=this.cacheditems[0];0<i.keys.length&&i.keys.forEach(function(e){var t=i[e];v.Util.assert(t instanceof r||t instanceof a),t.parent.dependentcaches[n.stableName]=n})}},t.prototype.clearCachedData=function(){for(var e in this.cacheditems=void 0,this.dependentcaches)this.dependentcaches.hasOwnProperty(e)&&this.dependentcaches[e].clearCachedData()},t.prototype.get_enumerator=function(){return this.cacheItems(),this.cacheditems},t.prototype.post_to_wall=function(e){e.rt.postBoxedHtml(this.getTable(this.get_enumerator(),e),e.pc)},t}(c.RecordSingleton=o);c.TableSingleton=s;var l=function(e){function t(){e.call(this),this.dependentcaches=[]}return __extends(t,e),t.prototype.add_row=function(e){return this.constructrow(arguments)},t.prototype.constructrow=function(e){this.clearCachedData();var t=new this.entryCtor(this);v.Util.assert(e.length==t.keys.length+1),this.logMutation(e[e.length-1]);for(var n=new Array,i=0;i<t.keys.length;++i){var r=e[i];r.check(!1)||v.Util.userError(v.lf("invalid link argument: originated in a different session")),n.push(r.uid),t[t.keys[i]]=r}return t.hookup(this.session().user_create_item(this.cloudtype,n,[])),t},t.prototype.prune_to=function(e){var t={};e.forEach(function(e){return t[e.uid]=!0}),this.get_enumerator().forEach(function(e){return t[e.uid]?void 0:e.delete_row()})},t.prototype.import_item=function(e){if(void 0!==e.backlink)return e.backlink;var t=new this.entryCtor(this);return t.hookup(e),t},t.prototype.import_item_from_uid=function(e,t){if(e){var n=this.session(),i=n.user_get_item(e);if(!t||i&&i.definition===t)return void 0===i&&(i=n.user_create_tombstone(this.cloudtype,e,this.key_cloudtypes.map(function(e){}),[])),this.import_item(i)}},t.prototype.fromRest=function(e){return this.import_item_from_uid(e["⌹id"])},t.prototype.cacheItems=function(){var t=this;if(void 0===this.cacheditems){var e=this.session();this.cacheditems=e.user_get_items_in_domain(this.cloudtype).sort(function(e,t){return e.compareTo(t)}),this.linked_cloudtables.forEach(function(e){return e.dependentcaches[t.stableName]=t}),v.Runtime.theRuntime.sessions.registerDataCache(this.stableName,this)}},t.prototype.clearCachedData=function(){var t=this;for(var e in this.cacheditems=void 0,this.linked_cloudtables.forEach(function(e){return delete e.dependentcaches[t.stableName]}),v.Runtime.theRuntime.sessions.unregisterDataCache(this.stableName),this.dependentcaches)this.dependentcaches.hasOwnProperty(e)&&this.dependentcaches[e].clearCachedData()},t.prototype.count=function(){return this.cacheItems(),this.cacheditems.length},t.prototype.row_at=function(e){this.cacheItems();var t=this.cacheditems[Math.floor(e)];return t?this.import_item(t):void 0},t.prototype.clear=function(){var t=this;this.cacheItems(),this.cacheditems.forEach(function(e){return t.session().user_delete_item(e)}),this.clearCachedData()},t.prototype.get_enumerator=function(){var t=this;return this.cacheItems(),this.cacheditems.map(function(e){return t.import_item(e)})},t.prototype.post_to_wall=function(e){e.rt.postBoxedHtml(this.getTable(this.get_enumerator(),e),e.pc)},t.prototype.findImportTarget=function(e,t,n,i){var r=n;if(!t||r&&r.jsonExportKey(void 0)===t||("."===t[0]&&(t=t.slice(1)),r=this.import_item_from_uid(t,this.cloudtype)),r&&r.is_deleted()&&(r=void 0),!r&&"string"!=typeof i){var o=this.importJsonKeys(e,i);o.push(e.s),r=this.constructrow(o)}return r},t}(o);c.CloudTableSingleton=l;var u=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.equals=function(e){var t=e;return this.check(),t.check(),this.sessionname===t.sessionname&&this.entry===t.entry},t.prototype.getShortStringRepresentation=function(){return"["+this.parent.entryKindName+"]"},t.prototype.hookup=function(e){this.sessionname=e.session.servername,((this.entry=e).backlink=this).read_cloud_fields(e)},t.prototype.unlink=function(){this.decorators=void 0,this.entry=void 0;for(var e=0;e<this.values.length;e++)this[this.values[e]]=void 0},t.prototype.getFieldValue=function(e,t){this.check();var n=this[e];return n instanceof v.Revisions.LVal?g.read(this.parent.session(),n,t):n},t.prototype.check=function(e){if(void 0===e&&(e=!0),this.sessionname!==this.parent.session().servername){if(!e)return!1;v.Util.userError(v.lf("stale index entry: originated in a different session"))}if(void 0===this.entry||this.entry.backlink!=this||this.entry.session!==this.parent.session()){v.Util.assert(this.keys.length===this.parent.key_cloudtypes.length);for(var t=new Array,n=new Array,i=0;i<this.keys.length;i++){var r=this.parent.key_cloudtypes[i];if(")"===r.charAt(r.length-1)){var o=this[this.keys[i]].uid;t.push(o)}else n.push(g.toCloud(r,this[this.keys[i]],!1));this.hookup(this.parent.session().user_get_entry(this.parent.cloudtype,t,n))}return!0}return!0},t.prototype.clear_fields=function(e){e&&this.parent.logMutation(e),this.check();for(var t=0;t<this.values.length;t++){var n=this[this.values[t]];g.clear(this.parent.session(),n)}},t.prototype.confirmed=function(){var t=this;this.check();var n=this.parent.session();return this.dependenciesconfirmed&&!this.values.some(function(e){return!n.user_is_datum_confirmed(t[e])})},t.prototype.dependenciesconfirmed=function(){var n=this;return!this.keys.some(function(e){var t=n[e];return t&&t instanceof a&&!t.existenceConfirmed()})},t.prototype.compareTo=function(i){var r=this;this.check(),i.check();var o=0;return this.keys.forEach(function(e){if(!o){var t=r[e],n=i[e];switch(typeof t){case"string":o=t.localeCompare(n);break;case"number":o=t-n;break;case"boolean":t!==n&&(o=t?1:-1);break;default:o=c.RTValue.CompareKeys(t,n)}}}),o},t.prototype.is_deleted=function(){return!this.check()||this.parent.session().user_is_datum_deleted(this.entry)},t.prototype.perform_get=function(e,t){return this.check(),g.read(this.parent.session(),this[e],t)},t.prototype.perform_confirmed=function(e){return this.check(),this.parent.session().user_is_datum_confirmed(this[e])},t.prototype.perform_set=function(e,t,n){this.parent.logMutation(n),this.check(),g.modify(this.parent.session(),this[e],t,!1)},t.prototype.perform_test_and_set=function(e,t,n){this.parent.logMutation(n),this.check(),g.modify(this.parent.session(),this[e],t,!0)},t.prototype.perform_add=function(e,t,n){this.parent.logMutation(n),this.check(),g.modify(this.parent.session(),this[e],t,!0)},t.prototype.perform_clear=function(e,t){this.parent.logMutation(t),this.check(),g.modify(this.parent.session(),this[e],void 0,!1)},t.prototype.read_cloud_fields=function(e){var t=new Array,n=new Array;v.Util.assert(this.parent.key_cloudtypes.length===this.keys.length);for(var i=0;i<this.keys.length;i++){var r,o=this.parent.key_cloudtypes[i];if(")"===o.charAt(o.length-1)){var a=e.ukeys[t.length];r=this.parent.linked_cloudtables[t.length].import_item_from_uid(a),t.push(a)}else{var s=e.lkeys[n.length];r=g.fromCloud(o,s),n.push(s)}this[this.keys[i]]=r}v.Util.assert(this.parent.value_cloudtypes.length===this.values.length);for(i=0;i<this.values.length;i++){var c=this.parent.value_cloudtypes[i];this[this.values[i]]=this.parent.session().user_get_lval(c,t,n)}},t}(e);c.CloudIndexEntry=u;var d=function(){function e(e){this.rt=e,this.sessions=e.sessions}return e.prototype.check=function(){if(!this.session||!this.localsession&&this.session!==this.sessions.getCurrentSession()){this.session=this.localsession?this.sessions.getLocalSession():this.sessions.getCurrentSession();for(var e="this"===this.libName?"":this.libName+".",t=0;t<this.names.length;t++){var n=this.names[t],i=e+this.cloudtypes[t];this[n]=this.session.user_get_lval(i,[],[])}}},e.prototype.perform_get=function(e,t){return this.check(),g.read(this.session,this[e],t)},e.prototype.perform_confirmed=function(e){return this.check(),this.session.user_is_datum_confirmed(this[e])},e.prototype.perform_set=function(e,t,n){n.rt.logDataWrite(!1),this.check(),g.modify(this.session,this[e],t,!1)},e.prototype.perform_test_and_set=function(e,t,n){n.rt.logDataWrite(!1),this.check(),g.modify(this.session,this[e],t,!0)},e.prototype.perform_add=function(e,t,n){n.rt.logDataWrite(!1),this.check(),g.modify(this.session,this[e],t,!0)},e.prototype.perform_clear=function(e,t){t.rt.logDataWrite(!1),this.check(),g.modify(this.session,this[e],void 0,!1)},e}();c.PersistentVars=d;var p=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.clear=function(){var t=this.session();t.user_get_entries_in_indexdomain(this.cloudtype).forEach(function(e){return e.lvals.forEach(function(e){return g.clear(t,e)})})},t.prototype.count=function(){return this.session().user_get_entries_in_indexdomain(this.cloudtype).length},t.prototype.get_enumerator=function(){var t=this,e=this.session().user_get_entries_in_indexdomain(this.cloudtype).map(function(e){return t.import_item(e)});return e.sort(function(e,t){return e.compareTo(t)}),e},t.prototype.post_to_wall=function(e){e.rt.postBoxedHtml(this.getTable(this.get_enumerator(),e),e.pc)},t.prototype.import_item=function(e){if(void 0!==e.backlink)return e.backlink;var t=new this.entryCtor(this);return t.hookup(e),t},t.prototype.singleton=function(){return this.access(arguments)},t.prototype.at=function(){return this.access(arguments)},t.prototype.access=function(e){v.Util.assert(e.length-1===this.key_cloudtypes.length);for(var t=new Array,n=new Array,i=0;i<this.key_cloudtypes.length;i++){var r=this.key_cloudtypes[i];if(")"===r.charAt(r.length-1)){var o=e[i].uid;t.push(o)}else n.push(g.toCloud(r,e[i],!1))}var a=this.session().user_get_entry(this.cloudtype,t,n);return this.import_item(a)},t.prototype.findImportTarget=function(e,t,n,i){var r=this.importJsonKeys(e,i);return r.push(e.s),this.access(r)},t.prototype.prune_to=function(e){e.forEach(function(e){return e.flagthatthisentryispresentusingalongnoncollidingname=!0}),this.get_enumerator().forEach(function(e){return e.flagthatthisentryispresentusingalongnoncollidingname?void 0:e.clear_fields()}),e.forEach(function(e){return delete e.flagthatthisentryispresentusingalongnoncollidingname})},t}(o);c.CloudIndexSingleton=p;var h=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.initParent=function(){this._index=v.Hashtable.forJson()},t.prototype.clear=function(){return this._index.clear()},t.prototype.count=function(){return this._index.countFiltered(function(e){return!e.is_deleted()&&e.hasNondefaultValue()})},t.prototype.singleton=function(){return this.access(arguments)},t.prototype.at=function(){return this.access(arguments)},t.prototype.makekey=function(e){for(var t=[],n=0;n<e.length-1;++n){var i=e[n];switch(typeof i){case"string":case"number":case"boolean":t.push(i);break;default:v.Util.assert(!!i),t.push(i.toJsonKey())}}return t},t.prototype.access=function(e){var t=this.makekey(e),n=this._index.get(t);if(!n){n=new this.entryCtor(this),v.Util.assert(0===e.length&&0===n.keys.length||e.length-1===n.keys.length);for(var i=0;i<n.keys.length;++i)n[n.keys[i]]=e[i];this._index.set(t,n)}return n},t.prototype.get_enumerator=function(){var e=this._index.filteredValues(function(e){return!e.is_deleted()&&e.hasNondefaultValue()});return e.sort(function(e,t){return e.compareTo(t)}),e},t.prototype.post_to_wall=function(e){e.rt.postBoxedHtml(this.getTable(this.get_enumerator(),e),e.pc)},t.prototype.findImportTarget=function(e,t,n,i){var r=this.importJsonKeys(e,i);return r.push(e.s),this.access(r)},t.prototype.prune_to=function(e){var i=this;e.forEach(function(e){return e.flagthatthisentryispresentusingalongnoncollidingname=!0});var t=this._index.filteredValues(function(e){return!e.flagthatthisentryispresentusingalongnoncollidingname});e.forEach(function(e){return delete e.flagthatthisentryispresentusingalongnoncollidingname}),t.forEach(function(t){var e=t.keys.map(function(e){return t[e]});e.push(null);var n=i.makekey(e);i._index.remove(n)})},t}(o);c.IndexSingleton=h;var m=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.create=function(e){var t=new this.entryCtor(this);return t.on_render_heap=e.rt.rendermode,t},t.prototype.create_from_json=function(e,t){var n=this.create(t);return n.from_json(e,t),n},t.prototype.invalid=function(){},t.prototype.clear=function(){},t.prototype.importJsonRecord=function(e,t,n){return t||(t=this.create(e.s)),t.importJsonFields(e,n),t},t}(o);c.ObjectSingleton=m;var f=function(e){function t(){e.call(this),this._generation=0}return __extends(t,e),t.prototype.clear=function(){this._generation=this._generation+1},t.prototype.at=function(e,t){var n=e.decorators;n||(n=e.decorators=new c.DecoratorCollection);var i=t.d.libName+"$"+this.stableName,r=n[i];return r||((r=new this.entryCtor(this))[r.keys[0]]=e,n[i]=r),r},t}(o);c.DecoratorSingleton=f;var g=function(){function o(){}return o.modify=function(e,t,n,i){n instanceof a&&(n=n.uid);var r=o.toCloud(t.codomain,n,i);e.user_modify_lval(t,r)},o.read=function(e,t,n){var i=e.user_get_value(t);(i=o.fromCloud(t.codomain,i))&&n&&"^"===t.codomain.charAt(0)&&(i=n.d["$"+t.codomain.slice(1)].import_item_from_uid(i));return i},o.clear=function(e,t){var n=o.toCloud(t.codomain,void 0,!1);e.user_modify_lval(t,n)},o.getCloudDomain=function(e){switch(e){case"Location":return"location";case"User":return"user";case"Boolean":return"boolean";case"Color":return"color";case"DateTime":return"datetime";case"String":return"string";case"Number":return"double";case"Vector3":return"vector3";default:v.Util.oops("unhandled case for cloud domain: "+(e||"none"))}},o.getCloudCodomain=function(e){switch(e){case"Location":return"location";case"User":return"user";case"Boolean":return"boolean";case"Color":return"color";case"DateTime":return"datetime";case"String":return"string";case"Number":return"double";case"OAuth Response":return"oauthresponse";case"Link":return"link";case"Json Object":return"json";default:v.Util.oops("unhandled case for cloud codomain: "+(e||"none"))}},o.toCloud=function(e,t,n){switch(void 0===n&&(n=!1),e){case"location":return t?(v.Util.assert(t instanceof c.Location_),t.to_string()):"";case"user":return t?(v.Util.assert(t instanceof c.User),t.id()):"";case"boolean":return t?"t":"";case"color":return t?(v.Util.assert(t instanceof c.Color),t.toInt32().toString()):"";case"vector3":return t?JSON.stringify(t.exportJson(null)):"";case"datetime":return t?(v.Util.assert(t instanceof c.DateTime),t.milliseconds_since_epoch().toString()):"";case"string":return"string"!=typeof t&&(t=""),n?"^?"+t:"^"===t.charAt(0)?"^!"+t:t;case"double":var i="number"!=typeof t?0:t;return n?"A"+i:i.toString();case"oauthresponse":case"link":case"json":return t?JSON.stringify(t.exportJson(null)):"";default:return v.Util.assert("^"===e[0]),t||""}},o.fromCloud=function(e,t){switch(e){case"location":if(!t)return;return c.Location_.mkFromString(t);case"user":if(!t)return;return c.User.mk(t);case"boolean":return!!t&&"false"!==t;case"color":if(!t)return;return c.Color.fromInt32(Number(t));case"datetime":var n=Number(t||0);return c.DateTime.mkMs(n);case"oauthresponse":if(!t)return;return(new c.OAuthResponse).importJson(new v.JsonImportCtx(null),JSON.parse(t));case"vector3":if(!t)return;return c.Vector3.mkFromJson(new v.JsonImportCtx(null),JSON.parse(t));case"link":if(!t)return;return(new c.Link).importJson(new v.JsonImportCtx(null),JSON.parse(t));case"json":if(!t)return;return c.JsonObject.wrap(JSON.parse(t));case"string":return"string"!=typeof t?t="":"^"===t.charAt(0)&&(t=t.substr(2)),t;case"double":return"string"!=typeof t?0:(v.Util.assert("A"!==t.charAt(0)),Number(t));default:return v.Util.assert("^"===e[0]),t||void 0}},o}();c.Conv=g}(v.RT||(v.RT={}))}(TDev||(TDev={})),function(r){!function(e){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function i(e,t){e&&"this"!=e||(e=""),t&&"this"!=t||(t="");var n=new Uint32Array(8),i=0,r=function(e){for(var t=0;t<e.length;++t)n[i]=13*n[i]+e.charCodeAt(t),8<=++i&&(i=0)};r(e),r(t);for(var o="",a=0;a<8;++a)o+=s[n[a]%62];return o}e.combineIds=i,e.compress=function(e){if(!e)return"";15<(e=e.filter(function(e){return!!e.pc})).length&&(e=e.slice(0,15));var n="";return e.forEach(function(e,t){n+=i(e.pc,e.d?e.d.libName:"")}),n}}(r.StackUtil||(r.StackUtil={}));var e=function(){function e(){this.crashes=[],this.wallWidth=1e3,this.wallHeight=1e3,this.wallOrientation=0,this.wallVisible=!1,this.keyboard=new r.RT.RuntimeKeyboard(void 0)}return e.prototype.getWall=function(){return null},e.prototype.astOfAsync=function(e){return r.Promise.as(void 0)},e.prototype.pickScriptAsync=function(e,t){return r.Promise.as(void 0)},e.prototype.saveAstAsync=function(e,t){return r.Promise.as(void 0)},e.prototype.deploymentSettingsAsync=function(e){return r.Promise.as(void 0)},e.prototype.packageScriptAsync=function(e,t){return r.Promise.as(void 0)},e.prototype.fullWallWidth=function(){return this.wallWidth},e.prototype.fullWallHeight=function(){return this.wallHeight},e.prototype.userWallHeight=function(){return this.wallWidth},e.prototype.isHeadless=function(){return!0},e.prototype.init=function(e){this.currentRt=e},e.prototype.liveMode=function(){return!1},e.prototype.dontWaitForEvents=function(){return!1},e.prototype.applyPageAttributes=function(e){},e.prototype.setTransform3d=function(e,t,n){},e.prototype.setFullScreenElement=function(e){},e.prototype.fullScreenElement=function(){},e.prototype.isFullScreen=function(){return!1},e.prototype.applyWallStyle=function(){},e.prototype.publishSizeUpdate=function(){},e.prototype.notifyPageButtonUpdate=function(){},e.prototype.additionalButtons=function(){return[]},e.prototype.additionalFullScreenButtons=function(){return[]},e.prototype.updateCloudState=function(e,t,n){},e.prototype.agreeTermsOfUseAsync=function(){return r.Promise.as()},e.prototype.notifyTutorial=function(e){},e.prototype.showWall=function(){this.wallVisible=!0},e.prototype.getFullScreenCanvas=function(){},e.prototype.toScreenshotCanvas=function(){},e.prototype.otherwiseBack=function(){},e.prototype.backBtnHandler=function(){},e.prototype.notifyRunState=function(){},e.prototype.notifyBreakpointHit=function(){},e.prototype.notifyBreakpointContinue=function(){},e.prototype.notifyPagePush=function(){},e.prototype.notifyPagePop=function(e){},e.prototype.attachProfilingInfo=function(e){},e.prototype.attachCoverageInfo=function(e){},e.prototype.notifyStopAsync=function(){r.Ticker.dbg("notifyStop");var e=this.currentRt.saveDataAsync();return r.Util.log("program stopped"),this.onProgramEnd&&this.onProgramEnd(),e},e.prototype.hideWallAsync=function(){return r.Ticker.dbg("hideWallAsync"),this.wallVisible&&(this.wallVisible=!1),r.Promise.as()},e.prototype.goBack=function(){},e.prototype.notifyHideWall=function(){var e=this;r.Ticker.dbg("notifyHideWall"),this.hideWallAsync().done(function(){e.goBack()})},e.prototype.exceptionActions=function(e){return null},e.prototype.respondToCrash=function(e){},e.prototype.fillCrashInfo=function(e){},e.prototype.exceptionHandler=function(e){e.includeSource=!0;try{this.currentRt.augmentException(e)}catch(e){}var t=r.Ticker.mkBugReport(e,"runtime error"),n=t.exceptionMessage,i={time:Date.now(),stack:e.tdStack,msg:n,meta:e.tdMeta};this.fillCrashInfo(i),this.crashes.push(i),r.RT.App.logException(e),this.respondToCrash(t),r.Browser.isNodeJS||e.isUserError||r.Util.sendErrorReport(t),this.lastError=r.Ticker.bugReportToString(t)},e.prototype.askSourceAccessAsync=function(e,t,n){return r.Promise.as(!0)},e.prototype.initFromPrecompiled=function(e){void 0===e&&(e=null);var t=this.currentRt,n=new r.CompiledScript;n.initFromPrecompiled(e),t.initFrom(n),t.setHost(this),n.setupRestRoutes&&n.setupRestRoutes(t),t.killTempState()},e}();r.HeadlessHost=e}(TDev||(TDev={})),function(TDev){var Plugins;!function(Plugins){var PluginHost=function(t){function e(){t.call(this),this.currentRt=new TDev.Runtime,this.currentRt.runtimeKind=function(){return"plugin"}}return __extends(e,t),e.prototype.exceptionHandler=function(e){t.prototype.exceptionHandler.call(this,e),self.postMessage({tdSlotId:this.slotId,id:TDev.Random.uniqueId(),op:"plugin_crashed",message:this.lastError})},e}(TDev.HeadlessHost),hosts={},worker;function uninstallPlugin(e){var t=hosts[e.slotId];t&&(TDev.Util.log("shutting down plugin, id:"+e.slotId),t.currentRt.stopAsync().done(),delete hosts[e.slotId])}function installPlugin(d){TDev.Util.log("installing plugin, id:"+d.slotId);var host=new PluginHost;hosts[d.slotId]=host,host.slotId=d.slotId,TDev.Promise.errorHandler=function(e,t){return host.exceptionHandler(t)},eval(d.precompiled.replace(/^var TDev;/,"")),TDev.Random.strongEntropySource=function(e){for(var t=0;t<e.length;++t)e[t]=d.entropy.charAt(t)},host.initFromPrecompiled();var rt=host.currentRt;TDev.Runtime.theRuntime=rt,rt.pluginSlotId=d.slotId,rt.initDataAsync().then(function(){var e=rt.compiled,t=e.actionsByName[e.mainActionName];rt.run(t,null)}).done()}function processMessage(t){var e=t.data;if(e)if(e.tdOperation)switch(e.tdOperation){case"install":installPlugin(e);break;case"uninstall":uninstallPlugin(e);break;default:TDev.Util.log("operation unknown: "+e.tdOperation)}else{var n=function(e){e&&!e.currentRt.isStopped()&&TDev.RT.Web.receiveWorkerMessage(e.currentRt,t.data)};e.tdSlotId?n(hosts[e.tdSlotId]):TDev.Util.values(hosts).forEach(n)}}function initWebWorker(){var e=window;e.setTimeout=function(e,t){return self.setTimeout(e,t)};var n={};(e.localStorage=n).getItem=function(e){return n[e]},n.setItem=function(e,t){return n[e]=t+""},n.removeItem=function(e){return delete n[e]},TDev.Cloud.authenticateAsync=function(){return TDev.Promise.as(!1)},TDev.Browser.detect(),TDev.Util.log("initilize web worker for plugins"),self.onmessage=TDev.Util.catchErrors("worker-msg",processMessage),TDev.Util.initGenericExtensions(),TDev.Ticker.disable(),self.postMessage({tdStatus:"ready"},null)}function startWorker(){(worker=new Worker("worker.js")).postMessage({op:"load",url:"browser.js"}),worker.postMessage({op:"load",url:"main.js"})}Plugins.initWebWorker=initWebWorker,Plugins.startWorker=startWorker}(Plugins=TDev.Plugins||(TDev.Plugins={}))}(TDev||(TDev={})),function(u){u.baseUrl="./",function(n){function c(e){e&&!/^\//.test(e)&&(e="/"+e);var t=window.localStorage.getItem("local_proxy");if(t){var n=t+e;return u.Util.log("shell: local proxy {0}",n),n}var i=window.localStorage.getItem("td_deployment_key");if(!i)return u.Util.log("shell: missing deployment key"),null;var r=/(.*:\/\/[^\/]+\/)/.exec(u.baseUrl);if(!r)return u.Util.log("shell: invalid base url {0}",u.baseUrl),null;n=r[1]+"-tdevmgmt-/"+i+e;return u.Util.log("shell: mgmturl {0}",n),n}n.localProxyHandler=function(){return function(e,t){return"shell"==e?n.runShellAsync(t):"socket"==e?n.mgmtRequestAsync("stats").then(function(){return{url:c("").replace(/^http/,"ws")}}):n.mgmtRequestAsync("plugin/"+e,t)}},n.deploymentKey=function(){var e=c(""),t=e?e.match(/^.*?\/-tdevmgmt-\/([a-z0-9]+)$/):void 0;return t?t[1]:void 0},n.url=function(){var e=c(""),t=e?e.match(/^(.*?\/)-tdevmgmt-\/[a-z0-9]+$/):void 0;return t?t[1]:void 0},n.mgmtUrl=c,n.mgmtRequestAsync=function(e,t){return u.Util.log("shell mgmtRequest "+e),t?u.Util.httpPostRealJsonAsync(c(e),t):u.Util.httpGetJsonAsync(c(e))};var l=void 0;n.runShellAsync=function(e){u.Util.log("shell run {0}",JSON.stringify(e)),l&&(u.Util.log("killing previous shell process"),l.send(JSON.stringify({op:"kill"})),l.close(),l=void 0);var n=new u.PromiseInv,t=c("").replace(/^http/,"ws");u.Util.log("shell socket: {0}",t);var i=l=new WebSocket(t);u.Util.log("socket created"),i.onopen=function(){(e=u.Util.jsonClone(e)).op="shell",i.send(JSON.stringify(e))},i.onerror=function(e){n.isPending()&&n.error(e)},i.onclose=function(e){n.isPending()&&n.error("shell connection closed")};var r=[],o="",a=[],s="";return i.onmessage=function(e){var t=JSON.parse(e.data);"stdout"==t.op?(r.push(t.data),o+=t.data,/\r?\n$/.test(o)&&(o.split(/\r?\n/).filter(function(e){return!!e}).forEach(function(e){return u.RT.App.logEvent(u.RT.App.DEBUG,"",e,void 0)}),o="")):"stderr"==t.op?(a.push(t.data),s+=t.data,/\r?\n$/.test(s)&&(s.split(/\r?\n/).filter(function(e){return!!e}).forEach(function(e){return u.RT.App.logEvent(u.RT.App.WARNING,"",e,void 0)}),s="")):"error"==t.op?(u.RT.App.logEvent(u.RT.App.ERROR,"",t.message,void 0),n.isPending()&&n.error(t.message),i.close(),l=void 0):"exit"==t.op&&(u.RT.App.logEvent(0==t.code?u.RT.App.INFO:u.RT.App.WARNING,"","exited with "+t.code,void 0),n.isPending()&&n.success({stdout:r.join(""),stderr:a.join(""),code:t.code}),i.close(),l=void 0)},n}}(u.LocalShell||(u.LocalShell={}))}(TDev||(TDev={})),function(o){var t,e;t=o.AST||(o.AST={}),e=function(){function n(){this.buf="",this.indentLevel=0,this.newlinesPending=0,this.lastChar=" ",this.lastBlockEnd=-1,this.lastAfterBlockEnd=-1,this.skipActionBodies=!1,this.indentString="  ",this.unicodeOps=!0,this.unicodeStrings=!0}return n.forStorage=function(){return new n},n.prototype.write=function(e){if(0<this.newlinesPending){for(;0<this.newlinesPending;)this.newlinesPending--,this.buf+="\n";for(var t=0;t<this.indentLevel;++t)this.buf+=this.indentString;this.lastChar=" "}return this.buf+=e,0<e.length&&(this.lastChar=e.charAt(e.length-1)),this},n.prototype.clear=function(){this.buf=""},n.prototype.finalizeShort=function(){return this.buf},n.prototype.finalize=function(e){return void 0===e&&(e=!1),e||this.nl().write(""),this.buf},n.prototype.backspaceBlockEnd=function(){o.Util.assert(this.lastAfterBlockEnd==this.buf.length),this.buf=this.buf.slice(0,this.lastBlockEnd),this.newlinesPending=1,this.lastChar=" ",this.indentLevel++},n.prototype.beginBlock=function(){this.sep().op0("{").nl(),this.indentLevel++},n.prototype.endBlock=function(e){void 0===e&&(e=""),this.lastBlockEnd=this.buf.length,this.indentLevel--,this.op0("}"),e&&this.write(e),this.nl(),this.lastAfterBlockEnd=this.buf.length},n.prototype.space=function(){return" "!=this.lastChar&&(this.buf+=" ",this.lastChar=" "),this},n.prototype.sep=function(){var e=this.lastChar;return" "!=e&&"("!=e&&"["!=e&&(this.buf+=" ",this.lastChar=" "),this},n.prototype.id=function(e){return this.sep().write(t.Lexer.quoteId(e))},n.prototype.id0=function(e){return this.write(t.Lexer.quoteId(e))},n.prototype.string=function(e){return this.sep().write(t.Lexer.quoteString(e,!this.unicodeStrings))},n.prototype.uniqueId=function(e){return e&&this.op0("#").id0(e),this},n.prototype.kind=function(n,e){var i=this,t=e.parentLibrary();if(t&&!t.isThis()?(t.writeRef(this),this.op("→")):e.isUserDefined()&&this.op("*"),this.id(e.getRoot().getName()),e instanceof o.ParametricKind){var r=e;r.parameters&&0<r.parameters.length&&(this.op0("["),r.parameters.forEach(function(e,t){0<t&&i.op(","),i.kind(n,e)}),this.op0("]"))}return this},n.prototype.op0=function(e){return")"==e&&this.lastAfterBlockEnd==this.buf.length&&(this.newlinesPending=0),this.unicodeOps||(e=t.Lexer.asciiOperator(e)),t.Lexer.quotedOp(e)&&(e="`"+e+"`"),this.write(e)},n.prototype.op=function(e){return this.space().op0(e).space()},n.prototype.keyword=function(e){return this.sep().write(e)},n.prototype.nl=function(){return this.newlinesPending++,this.lastChar=" ",this},n.prototype.metaOpt=function(e,t){return t?this.meta(e,t):this},n.prototype.meta=function(e,t){return this.keyword("meta").id(e).string(t).op0(";").nl()},n.normalizeComment=function(e){return(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).trim()},n.prototype.comment=function(e){var t=this;return n.normalizeComment(e).split("\n").forEach(function(e){t.op("//").space().write(e.trim().replace(/\\/g,"\\\\")).nl()}),this},n.prototype.stringAttr=function(e,t){return this.id(e).op("=").string(t).op0(";").nl()},n.prototype.boolOptAttr=function(e,t){return t&&this.id(e).op("=").keyword("true").op0(";").nl(),this},n.prototype.boolAttr=function(e,t){return this.id(e).op("=").keyword(t?"true":"false").op0(";").nl()},n.prototype.node=function(e){return e.writeTo(this),this},n}(),t.TokenWriter=e}(TDev||(TDev={}));var __extends=this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev;!function(c){c.PrevScript=void 0,c.Script,c.setGlobalScript=function(e){c.Script=e};var t=function(){function e(e){this.refPropPrefix="◈",this.currentPlatform=0,this.currentPlatformImpl=16,this.stmtUsageData={},this.Number=e.getKind("Number"),this.String=e.getKind("String"),this.Boolean=e.getKind("Boolean"),this.Color=e.getKind("Color"),this.Event=e.getKind("Event"),this.EventBinding=e.getKind("Event Binding"),this.Action=e.getKind("Action"),this.Unknown=e.getKind("Unknown"),this.Nothing=e.getKind("Nothing"),this.App=e.getKind("App"),this.Box=e.getKind("Box"),this.Dom=e.getKind("Dom"),this.CloudData=e.getKind("Cloud Data"),this.Picture=e.getKind("Picture"),this.Sound=e.getKind("Sound"),this.Editor=e.getKind("Editor"),this.JsonObject=e.getKind("Json Object"),this.Task=e.getKind("Task"),this.Collection=e.getKind("Collection"),this.Ref=e.getKind("Ref"),this.TupleProp=this.Unknown.getProperty(","),this.AssignmentProp=this.Unknown.getProperty(":="),this.EqualsProp=this.Number.getProperty("="),this.AsyncProp=this.Unknown.getProperty("async"),this.FunProp=this.Unknown.getProperty("fun"),this.ShowProp=this.Unknown.getProperty("show"),this.BreakProp=this.Unknown.getProperty("break"),this.ContinueProp=this.Unknown.getProperty("continue"),this.ReturnProp=this.Unknown.getProperty("return"),this.AndProp=this.Boolean.getProperty("and"),this.OrProp=this.Boolean.getProperty("or"),this.NotProp=this.Boolean.getProperty("not"),this.StringConcatProp=this.String.getProperty("∥")}return e.prototype.stmtUsage=function(e){return this.stmtUsageData.hasOwnProperty(e)||(this.stmtUsageData[e]=new M(this)),this.stmtUsageData[e]},e.prototype.allStmtUsage=function(){var t=this;return Object.keys(this.stmtUsageData).map(function(e){return t.stmtUsageData[e]})},e}();c.CoreApi=t;var e=function(){function e(){this._kinds={},this._singletons={},this._singletonList=[],this._kindList=[],this.operatorKeys={},this.restoreFlags=!1,this.opStmtPriority=.5,this.rt_start="",this.rt_stop=""}return e.prototype.getKind=function(e){return this._kinds.hasOwnProperty(e)?this._kinds[e]:null},e.prototype.getThing=function(e){return this._singletons.hasOwnProperty(e)?this._singletons[e]:c.Script&&c.Script.libNamespaceCache.singletons.hasOwnProperty(e)?c.Script.libNamespaceCache.singletons[e]:null},e.prototype.getKinds=function(){return this._kindList},e.prototype.cleanup=function(){this.getKinds().forEach(function(e){e instanceof m&&e.cleanup()})},e.prototype.getSingletons=function(){return c.Script&&0!=c.Script.libNamespaceCache.singletonList.length?this._singletonList.concat(c.Script.libNamespaceCache.singletonList):this._singletonList},e.runtimeName=function(e){switch(e){case"":return"x";case"Number":case"String":case"Boolean":case"Location":case"Math":case"Event":case"arguments":case"break":case"case":case"catch":case"continue":case"debugger":case"default":case"delete":case"do":case"else":case"finally":case"for":case"function":case"if":case"in":case"instanceof":case"new":case"return":case"switch":case"this":case"throw":case"try":case"typeof":case"var":case"void":case"while":case"with":return e+"_";default:return e.replace(/ (?=[A-Z])/g,"").replace(/[ -]/g,"_")}},e.prototype.mkSpecialProp=function(e,t){var n=function(e){return{name:e,kind:"Unknown"}};return{name:e,help:"",flags:"",infixPriority:t,result:n("result"),inParameters:[n("left"),n("right")]}},e.prototype.md_addKind=function(e){this._kindList.push(e),this._kinds[e.getName()]=e},e.prototype.initFrom=function(){new v("code",c.lf("Functions in the current script"),function(){return c.Script?c.Script.actions():[]},"▷"),new v("data",c.lf("Global variables in the current script"),function(){return c.Script?c.Script.variables():[]},"◳"),new v("art",c.lf("Pictures, sounds, etc. in the current script"),function(){return c.Script?c.Script.resources():[]},"✿"),new v(c.AST.libSymbol,c.lf("Libraries referenced by the current script"),function(){return c.Script?c.Script.libraries():[]},c.AST.libSymbol),new v("records",c.lf("Objects, tables and indexes in the current script"),function(){return c.Script?c.Script.records():[]},c.AST.recordSymbol),c.md_initApis();var i=d.md_make(0,"Unknown","an unknown value");function e(e,t){var n=function(e){return A.md_make(e,i)};x.md_make(1,i,e,"",t==c.api.opStmtPriority?[]:98==t||2.5==t?[n("arg")]:[n("left"),n("right")],i)._infixPriority=t}e(":=",1),e(",",2),e("async",98),e("fun",2.5),e("return",c.api.opStmtPriority),e("show",c.api.opStmtPriority),e("break",c.api.opStmtPriority),e("continue",c.api.opStmtPriority),i.isData=!0,this.core=new t(this),this._kindList.forEach(function(e){e.initProperties()}),this.initSingletons(),this.initSpecialApply(),this.eventMgr=new c.AST.EventMgr,this.eventMgr.init(),this.getKinds().forEach(function(e){e instanceof m&&e.markInitial()})},e.prototype.initSpecialApply=function(){var o=this;this.core.Number.isBuiltin=!0,this.core.String.isBuiltin=!0,this.core.Boolean.isBuiltin=!0,this.core.Unknown.isError=function(){return!0},this.core.Nothing._contexts=0;var a=c.RT;if(a){this._kindList.forEach(function(e){var t,n,i=e.runtimeName();if(a.hasOwnProperty(i)){var r=a[i];"rt_start"in r&&(o.rt_start+="lib."+i+".rt_start(rt);\n"),"rt_stop"in r&&(o.rt_stop+="lib."+i+".rt_stop(rt);\n"),"picker"in r&&(e.picker="lib."+i+".picker()"),t="get_enumerator",null!=(n=r.prototype)&&t in n&&(e._hasEnumerator=!0)}}),c.RT.RTValue.initApis(),[].forEach(function(e){return e()})}},e.prototype.initSingletons=function(){var t=this;this._kindList.forEach(function(e){e.initSingleton(),e.singleton&&(t._singletons[e.singleton.getName()]=e.singleton,t._singletonList.push(e.singleton))});var n=this._kindList.map(function(e){return e.singleton?e.usage_count:0}).max()+1;this._kindList.forEach(function(e){e.usage_count<0&&(e.usage_count=n),e.singleton&&(e.singleton.usage.apiFreq=e.usage_count/n)}),this.core.PlaceholderThing=c.AST.mkSingletonDef("$skip",this.core.Unknown),this._singletons[this.core.PlaceholderThing.getName()]=this.core.PlaceholderThing,this.core.PlaceholderThing._isBrowsable=!1},e.prototype.asyncReport=function(){var i={};this.getKinds().forEach(function(e){e instanceof v||e.listProperties().forEach(function(e){var t=e;if(t.asyncReason){var n=t.asyncReason();n&&(i.hasOwnProperty(n)||(i[n]="\n*** "+n+"\n"),i[n]+="      "+e.parentKind.toString()+"->"+e.getName()+"\n")}})})},e}();c.Api=e,c.api=new e;var n,i=function(){function e(e){this._name=e}return e.prototype.getName=function(){return this._name},e.prototype.toString=function(){return this.getName()},e}();c.ApiNode=i,(n=c.KindContext||(c.KindContext={}))[n.None=0]="None",n[n.Parameter=1]="Parameter",n[n.GlobalVar=2]="GlobalVar",n[n.CloudField=4]="CloudField",n[n.IndexKey=16]="IndexKey",n[n.GcKey=32]="GcKey",n[n.RowKey=64]="RowKey",n[n.WallTap=256]="WallTap",n[n.Enumerable=512]="Enumerable",n[n.Json=1024]="Json",n[n.General=3]="General",n[n.ArtResource=67108864]="ArtResource";var r,a=c.KindContext;(r=c.PlatformCapability||(c.PlatformCapability={}))[r.None=0]="None",r[r.Accelerometer=1]="Accelerometer",r[r.Camera=4]="Camera",r[r.Compass=8]="Compass",r[r.Gyroscope=16]="Gyroscope",r[r.Location=64]="Location",r[r.Maps=128]="Maps",r[r.Media=256]="Media",r[r.Microphone=512]="Microphone",r[r.Motion=1024]="Motion",r[r.Contacts=2048]="Contacts",r[r.Phone=4096]="Phone",r[r.Radio=8192]="Radio",r[r.Orientation=16384]="Orientation",r[r.Search=32768]="Search",r[r.Translation=65536]="Translation",r[r.EditorOnly=262144]="EditorOnly",r[r.MusicAndSounds=524288]="MusicAndSounds",r[r.Network=1048576]="Network",r[r.Tiles=4194304]="Tiles",r[r.Proximity=8388608]="Proximity",r[r.Speech=16777216]="Speech",r[r.CloudData=33554432]="CloudData",r[r.Npm=536870912]="Npm",r[r.Cordova=1073741824]="Cordova",r[r.Shell=2147483648]="Shell",r[r.Current=268435456]="Current",r[r.AnyWeb=r.Location|r.Maps|r.Search|r.Translation|r.EditorOnly|r.MusicAndSounds|r.Network|r.CloudData]="AnyWeb",r[r.iOS=r.Accelerometer|r.Compass|r.Gyroscope|r.Location|r.Maps|r.Orientation|r.Search|r.Translation|r.MusicAndSounds|r.Network]="iOS",r[r.Android=r.Accelerometer|r.Camera|r.Compass|r.Gyroscope|r.Location|r.Maps|r.Microphone|r.Orientation|r.Search|r.Speech|r.Translation|r.MusicAndSounds|r.Network]="Android",r[r.CordovaApp=r.Accelerometer|r.Compass|r.Gyroscope|r.Location|r.Orientation|r.MusicAndSounds|r.Network|r.Phone|r.Cordova]="CordovaApp",r[r.AnyClient=r.Location|r.Maps|r.Search|r.Translation]="AnyClient",r[r.All=-1&~r.Current]="All";var o,s,l=c.PlatformCapability;(c.PlatformCapabilityManager||(c.PlatformCapabilityManager={})).current=function(){return o||(o=l.AnyWeb,c.RT.DeviceOrientation.isHeadingSupported()&&(o|=8),c.RT.DeviceOrientation.isOrientationSupported()&&(o|=16384),c.RT.DeviceMotion.isSupported()&&(o|=1),c.RT.DeviceMotion.isGyroscopeSupported()&&(o|=16),c.RT.UserMediaManager.isSupported()&&(o|=4),c.RT.Languages.isSpeechSupported()&&(o|=16777216),c.RT.AudioContextManager.isMicrophoneSupported()&&(o|=512),c.Browser.isNodeJS&&(o|=536870912),c.Browser.localProxy&&(o|=2147483648)),o},(s=c.ImplementationStatus||(c.ImplementationStatus={}))[s.None=0]="None",s[s.Pauses=1]="Pauses",s[s.UsesStackFrame=2]="UsesStackFrame",s[s.Web=16]="Web",s[s.WebAll=16]="WebAll";var u=c.ImplementationStatus,d=function(n){function o(e,t){n.call(this,e),this._help=t,this.generalCapabilities=0,this.generalFlags=0,this._isImmutable=!1,this.minSkill=0,this._contexts=0,this._hasEnumerator=!1,this._propByName={},this._propList=[],this._icon="",this._id=++o.currentId}return __extends(o,n),o.prototype.getStemName=function(){return this._stemName||this.getName().toLowerCase()},o.prototype.getRoot=function(){return this},o.prototype.kill=function(){c.Util.abstract()},o.prototype.getParameterCount=function(){return 0},o.prototype.getParameter=function(e){},o.prototype.getHtmlName=function(){return[this.getName()]},o.prototype.runtimeName=function(){return e.runtimeName(this.getName())},o.prototype.matches=function(e){if(e instanceof c.AST.RecordDef)return this.equals(e.entryKind)},o.prototype.equals=function(e){return this==e},o.prototype.helpTopic=function(){return c.Util.tagify(this._name)},o.prototype.isUserDefined=function(){return!1},o.prototype.isExtensionEnabled=function(){return!1},o.prototype.isImmutable=function(){return this._isImmutable},o.prototype.md_skill=function(e){this.minSkill=e},o.prototype.md_stem=function(e){this._stemName=e},o.prototype.md_obsolete=function(){this.isObsolete=!0},o.prototype.md_isData=function(){this.isData=!0},o.prototype.md_private=function(){this.isPrivate=!0},o.prototype.md_builtin=function(){this.isBuiltin=!0,this.isSerializable=!0},o.prototype.md_walltap=function(){this._contexts|=256|a.General},o.prototype.md_enumerable=function(){this._contexts|=512|a.General},o.prototype.md_icon=function(e){this._icon="svg:"+e+",white"},o.prototype.md_dbgOnly=function(){this.isDbgOnly=!0,c.dbg||(this.isPrivate=!0)},o.prototype.md_betaOnly=function(){this.isBetaOnly=!0,c.isBeta||(this.isPrivate=!0)},o.prototype.md_serializable=function(){this.isSerializable=!0},o.prototype.md_robust=function(){this.generalFlags|=16384},o.prototype.md_idempotent=function(){this.generalFlags|=32768},o.prototype.md_oops=function(e){throw new Error(e+" at "+this.getName())},o.prototype.md_cap=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];this.generalCapabilities|=x.getPlatform(e,function(e){return t.md_oops(e)})},o.prototype.md_immutable=function(){this._isImmutable=!0},o.prototype.md_ctx=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=0;n<e.length;++n)switch(e[n]){case"none":this._contexts=0;break;case"general":this._contexts|=a.General;break;case"indexkey":this._contexts|=16;break;case"gckey":this._contexts|=32;break;case"json":this._contexts|=1024;break;case"walltap":this._contexts|=256;break;case"enumerable":this._contexts|=512;break;case"cloudfield":this._contexts|=4;break;default:this.md_oops("unknown context "+e[n])}},o.md_make=function(e,t,n,i){var r;return void 0===i&&(i=null),"action"==i?r=new f(t,n):"parametric"==i?(r=new m(t,n))._contexts=a.General:(r=new o(t,n))._contexts=a.General,r.usage_count=e,c.api.md_addKind(r),r},o.prototype.initProperties=function(){var t=this._propList.map(function(e){return e._usage_count}).max()+1;this._propList.forEach(function(e){e.getUsage().apiFreq=e._usage_count/t})},o.prototype.getContexts=function(){return this._contexts},o.prototype.hasContext=function(e){return!e||!!(this.getContexts()&e)},o.prototype.hasEnumerator=function(){return this._hasEnumerator},o.prototype.isError=function(){return!1},o.prototype.listPriority=function(){return this.isBuiltin?10:0},o.prototype.getRecord=function(){return null},o.defaultValueDescription=function(e){switch(e.getName()){case"Number":return"0";case"String":return'""';case"Boolean":return"false";case"DateTime":return"01/01/0000 00:00:00";default:return"the invalid value"}},o.prototype.icon=function(){return this._icon},o.prototype.getHelp=function(e){return void 0===e&&(e=!0),c.lf_static(this._help,e)},o.prototype.shortName=function(){return null},o.prototype.md_addProperty=function(e){this._propList.push(e),(this._propByName[e.getName()]=e)._addFlags(this.generalFlags)},o.prototype.initSingleton=function(){this.isData||(this._contexts=0,this.singleton=c.AST.mkSingletonDef(this.getName().toLowerCase(),this))},o.prototype.getProperty=function(e){if(!this._propByName.hasOwnProperty(e)){var t=this.singletonExtensions();return t&&t.actions.hasOwnProperty(e)?t.actions[e]:null}return this._propByName[e]},o.prototype.singletonExtensions=function(){return this.isData||!c.Script?null:c.Script.libNamespaceCache.extensions[this.getName()]},o.prototype.listProperties=function(){var e=this.singletonExtensions();return e?this._propList.concat(e.actionList):this._propList},o.prototype.toString=function(){return this.getName()},o.prototype.isEnumerable=function(){return this.hasContext(512)},o.prototype.getDescription=function(){return this.getHelp()},o.prototype.toJson=function(){return this.getName()},o.prototype.getPropPrefix=function(){var e=this.toString();return e=this.isData?"("+e+")":e.toLowerCase()},o.prototype.serialize=function(){var e=c.AST.TokenWriter.forStorage();return e.kind(null,this),e.finalize(!0)},o.prototype.parentLibrary=function(){return null},o.currentId=0,o}(i),p=function(t){function e(e){t.call(this,e,"a type yet unknown")}return __extends(e,t),e.prototype.isUserDefined=function(){return!0},e.prototype.isError=function(){return!0},e}(c.Kind=d);c.UnresolvedKind=p;var h=function(n){function e(e,t){n.call(this,e,"a type parameter"),this.parent=t}return __extends(e,n),e}(d);c.KindVariable=h;var m=function(n){function a(e,t){n.call(this,e,t),this.generatedInitialSize=0,(this.root=this).propsInstantiated=!0,this.generated=[]}return __extends(a,n),a.prototype.matches=function(t){return n.prototype.matches.call(this,t)||this.parameters.some(function(e){return e.matches(t)})},a.prototype.cleanup=function(){this.generated&&(0==this.generatedInitialSize?this.generated=[]:this.generated.splice(this.generatedInitialSize,this.generated.length))},a.prototype.markInitial=function(){this.parameterPrefixes||(this.parameterPrefixes=this.parameters.map(function(e){return"of"})),this.generatedInitialSize=this.generated.length},a.prototype.subst=function(e){var t=this;if(e instanceof h){var n=this.root.parameters.indexOf(e);return 0<=n?this.parameters[n]:e}if(e instanceof a){for(var i=e,r=i.parameters.map(function(e){return t.subst(e)}),o=0;o<r.length&&r[o]==i.parameters[o];++o);if(o<r.length)return i.createInstance(r)}return e},a.prototype.hasEnumerator=function(){return this.root==this?n.prototype.hasEnumerator.call(this):this.root.hasEnumerator()},a.prototype.getRoot=function(){return this.root},a.prototype.getParameterCount=function(){return this.parameters.length},a.prototype.getSignature=function(){return this.root==this?this.root.parameterPrefixes.map(function(e){return" "+e+" ..."}).join(""):""},a.prototype.getName=function(){if(this==this.root)return this._name;for(var e=this._name,t=0;t<this.parameters.length;++t)e+=" "+this.root.parameterPrefixes[t]+" "+this.parameters[t].getName();return e},a.prototype.createInstance=function(n){if(0==this.parameters.length)return this.root;if(this.root!=this)return this.root.createInstance(n);var e=this.generated.filter(function(e){for(var t=0;t<n.length;++t)if(!e.parameters[t].equals(n[t]))return!1;return!0})[0];return e||((e=c.Util.clone(this))._propList=[],e._propByName={},e.propsInstantiated=!1,e.parameters=n,this.generated.push(e),e)},a.prototype.listProperties=function(){return this.instantiateProps(),n.prototype.listProperties.call(this)},a.prototype.getProperty=function(e){return this.instantiateProps(),n.prototype.getProperty.call(this,e)},a.prototype.instantiateProps=function(){var t=this;this.propsInstantiated||(this.propsInstantiated=!0,this.root.listProperties().forEach(function(e){e.availableOnlyOn&&e.availableOnlyOn.indexOf(t.parameters[0])<0||t.md_addProperty(e.substFor(t))}))},a.prototype.getParameter=function(e){return this.parameters[e]},a.prototype.getParameterPrefix=function(e){return this.root.parameterPrefixes[e]},a.prototype.md_parametric=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];this.parameters=e.map(function(e){return new h(e,t)})},a.prototype.md_parameterPrefixes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this.parameterPrefixes=e},a.prototype.listPriority=function(){return"Collection"==this.root.getName()?5:0},a.prototype.isError=function(){return this.parameters.some(function(e){return e!=c.api.core.Nothing&&(!e.hasContext(1)||e.isError())})},a.prototype.getContexts=function(){var e=n.prototype.getContexts.call(this);return 1024&e&&this.parameters.some(function(e){return!e.hasContext(1024)})&&(e&=-1025),e},a}(d),f=function(n){function e(e,t){n.call(this,e,t),this.parameters=[],this.isAction=!0,this._isAtomic=!1}return __extends(e,n),e.prototype.md_isAction=function(){},e.prototype.md_isAtomic=function(){this._isAtomic=!0},e.prototype.isImmutable=function(){return!0},e.prototype.icon=function(){return"svg:Bolt,white"},e.prototype.getInParameters=function(){return this.getProperty("run").getParameters().slice(1)},e.prototype.getOutParameters=function(){var e=this.getProperty("run");return e.getResult().getKind()==c.api.core.Nothing?[]:[e.getResult()]},e.prototype.getSignature=function(){var e=this.getInParameters().map(function(e){return e.getName()+":"+e.getKind()}).join(", "),t=this.getOutParameters()[0],n=t?t.getKind():null;return n&&n!=c.api.core.Nothing?""!=e?"("+e+") : "+n.toString():"() : "+n.toString():"("+e+")"},e.prototype.isAtomic=function(){return this._isAtomic},e.prototype.initProperties=function(){n.prototype.initProperties.call(this);var e=this.getProperty("run");e.md_resumes(),this.isAtomic()||e.md_async()},e}(c.ParametricKind=m),g=function(n){function e(e){n.call(this,e.getName(),e.getDescription()),this.userAction=e,this._contexts=a.General,this.isData=!0,this.md_addProperty(new C(this));var t=x.md_make(0,this,"is invalid",c.lf("Returns true if the current instance is useless"),[],c.api.core.Boolean);t.md_runOnInvalid(),this.md_addProperty(t)}return __extends(e,n),e.prototype.isAtomic=function(){return this.userAction.isAtomic},e.prototype.getOutParameters=function(){var t=this;return this.userAction.getOutParameters().map(function(e){return t.userAction.mkPP(e.getName(),e.getKind())})},e.prototype.getName=function(){return this.userAction.getName()},e.prototype.isUserDefined=function(){return!0},e.prototype.kill=function(){this.deleted=!0},e.prototype.isError=function(){return n.prototype.isError.call(this)||this.deleted||this.userAction.deleted},e.prototype.parentLibrary=function(){return this.userAction.parentLibrary()},e.prototype.listPriority=function(){return 4},e}(c.ActionKind=f);c.UserActionKind=g;var v=function(r){function e(e,t,n,i){r.call(this,e,t),this.getProps=n,this._theShortName=i,this.usage_count=-1,c.api.md_addKind(this)}return __extends(e,r),e.prototype.listProperties=function(){return this.getProps().map(x.withParent(this))},e.prototype.getHelp=function(){return this._help},e.prototype.shortName=function(){return this._theShortName},e.prototype.getProperty=function(t){var e=this.getProps().filter(function(e){return e.getName()==t});if(e[0])return x.withParent(this)(e[0])},e.prototype.initSingleton=function(){var e=this;r.prototype.initSingleton.call(this),this.singleton.usageMult=function(){return 0<e.getProps().length?1:1e-10}},e}(d);c.ThingSetKind=v;var y,b=function(t){function i(e){t.call(this,"Unfinished Type","not fully specified generic API"),this.args=e}return __extends(i,t),i.prototype.getKinds=function(){return c.Script.getKinds().filter(function(e){return e.isData})},i.argsFor=function(t){return t instanceof m?c.Util.range(0,t.getParameterCount()).map(function(e){return{ofKind:t,idx:e,prefix:0==e?"":t.getParameterPrefix(e)+" "}}):[]},i.prototype.createFinal=function(e){for(var n=[e],t=this.parentProp;!(t instanceof T);){var i=t;n.push(i.forKind),t=i.parentKind.parentProp}n.reverse();var r=0,o=function(){var e=n[r++];if(e instanceof m){var t=e;return t.getRoot()!=t?t:t.createInstance(c.Util.range(0,t.getParameterCount()).map(function(e){return o()}))}return e},a=t,s=a.instanceFor(this,e,a.getResult().getKind().args.map(function(e){return o()}));return s.getParameters()[0]._kind=this,s},i.propName=function(e){var t="";return e.parentLibrary()&&!e.parentLibrary().isThis()?t+=c.AST.libSymbol+e.parentLibrary().getName()+" → "+e.getName():e.isUserDefined()?t+=c.AST.recordSymbol+e.getName():t+=e.getRoot().getName(),0<e.getParameterCount()&&(t+=" "+e.getParameterPrefix(0)),t},i.prototype.getNameFor=function(e){return this.args[0].prefix+i.propName(e)},i.prototype.mkProp=function(e,t){var n=e;return 0<t.getParameterCount()&&(n=i.argsFor(t).concat(n)),0==n.length?this.createFinal(t):new L(t,this,new i(n))},i.prototype.getProperty=function(t){var n=this,e=this.getKinds().filter(function(e){return n.getNameFor(e)==t})[0];if(e)return this.mkProp(this.args.slice(1),e)},i.prototype.listProperties=function(){var t=this,n=this.args.slice(1);return this.getKinds().map(function(e){return t.mkProp(n,e)})},i}(d);c.MultiplexKind=b,(y=c.PropertyCategory||(c.PropertyCategory={}))[y.Builtin=0]="Builtin",y[y.Action=1]="Action",y[y.Data=2]="Data",y[y.Library=3]="Library",y[y.Record=4]="Record";var _;c.PropertyCategory;(_=c.PropertyFlags||(c.PropertyFlags={}))[_.None=0]="None",_[_.RunOnInvalidArguments=1]="RunOnInvalidArguments",_[_.IsObsolete=2]="IsObsolete",_[_.IsHidden=4]="IsHidden",_[_.IsPrivate=8]="IsPrivate",_[_.NeedsTracing=16]="NeedsTracing",_[_.NeedsTracing2=32]="NeedsTracing2",_[_.NeedsTimestamping=64]="NeedsTimestamping",_[_.NeedsTimestamping2=128]="NeedsTimestamping2",_[_.HasPauseContinue=256]="HasPauseContinue",_[_.HasPauseContinue2=512]="HasPauseContinue2",_[_.IsDebugOnly=1024]="IsDebugOnly",_[_.Preserves=2048]="Preserves",_[_.Async=4096]="Async",_[_.IsBetaOnly=8192]="IsBetaOnly",_[_.Robust=16384]="Robust",_[_.Idempotent=32768]="Idempotent",_[_.NoCanvas=65536]="NoCanvas",_[_.HideIntelliButton=131072]="HideIntelliButton",_[_.IgnoreReturnValue=262144]="IgnoreReturnValue",_[_.DocsOnly=524288]="DocsOnly",_[_.LibsOnly=1048576]="LibsOnly",_[_.NonBrowsable=14]="NonBrowsable";var w,k=c.PropertyFlags;(w=c.ParameterFlags||(c.ParameterFlags={}))[w.None=0]="None",w[w.WritesMutable=1]="WritesMutable",w[w.ReadsMutable=2]="ReadsMutable";c.ParameterFlags;var x=function(a){function s(e,t,n,i,r){a.call(this,t),this.parentKind=e,this._help=n,this._infixPriority=0,this._explicitPlatform=0,this._implStatus=u.WebAll,this.flags=0,i.unshift(A.md_make("this",e)),this._inParameters=i,this._usage_count=0,this._result=A.md_make("result",r),this._platform=this.parentKind?this.parentKind.generalCapabilities:0,this._usage=new M(this);for(var o=0;o<i.length;++o)i[o].parentProperty=this;this._result.parentProperty=this}return __extends(s,a),s.prototype.isExtensionAction=function(){return!1},s.prototype.substFor=function(e){return this.substForInternal(e,null)},s.prototype.substForInternal=function(t,e){var n=this._inParameters.slice(1).map(function(e){return e.substFor(t)}),i=t.subst(this._result.getKind()),r=e?e(n,i):new s(t,this._name,this._help,n,i);return n.forEach(function(e){e.parentProperty=r}),r._inParameters[0]&&this._inParameters[0]||c.Util.oops("no inparms, len="+this._inParameters.length+"; "+this.parentKind.getName()+"->"+this.getName()),r._inParameters[0]._flags=this._inParameters[0]._flags,r.flags=this.flags,r._runtimeName=this._runtimeName,r._infixPriority=this._infixPriority,r._specialApply=this._specialApply,r._implStatus=this._implStatus,r},s.md_make=function(e,t,n,i,r,o){var a=new s(t,n,i,r,o);return a._usage_count=e,t.md_addProperty(a),a},s.prototype.runtimeName=function(){return this._runtimeName||e.runtimeName(this.getName())},s.prototype.helpTopic=function(){return this.topicCache||(this.topicCache=c.Util.tagify(this.parentKind.helpTopic()+" "+(this._runtimeName||this.getName()))),this.topicCache},s.prototype.usageKey=function(){return this.usageKeyCache||(this.usageKeyCache=c.Util.tagify(this._runtimeName||this.getName())),this.usageKeyCache},s.prototype.canRename=function(){return!1},s.prototype._addFlags=function(e){this.flags|=e},s.prototype.md_async=function(){1&this._implStatus?this.flags|=4096:this.md_oops("async specified on method with no ResumeCtx")},s.prototype.md_authAsync=function(){this._asyncReason="auth"},s.prototype.md_uiAsync=function(){this._asyncReason="ui"},s.prototype.md_quickAsync=function(){this._asyncReason="quick"},s.prototype.md_picAsync=function(){this._asyncReason="pic"},s.prototype.md_cachedAsync=function(){this._asyncReason="cached"},s.prototype.asyncReason=function(){return 1&this._implStatus?this._asyncReason?this._asyncReason:4096&this.getFlags()?"async":2&this.getFlags()?"obsolete":this.isImplemented()?"todo":"unimplemented":null},s.prototype.md_runOnInvalid=function(){this.flags|=1},s.prototype.md_obsolete=function(){this.flags|=6},s.prototype.md_hidden=function(){this.flags|=4},s.prototype.md_private=function(){this.flags|=8},s.prototype.md_ignoreReturnValue=function(){this.flags|=262144},s.prototype.md_dbgOnly=function(){this.flags|=1024},s.prototype.md_docsOnly=function(){this.flags|=524288},s.prototype.md_betaOnly=function(){this.flags|=8192},s.prototype.md_preserves=function(){this.flags|=2048},s.prototype.md_tandre2=function(){this.flags|=672},s.prototype.md_trace2=function(){this.flags|=32},s.prototype.md_timestamp2=function(){this.flags|=128},s.prototype.md_hasPauseContinue2=function(){this.flags|=512},s.prototype.md_tandre=function(){this.flags|=80},s.prototype.md_trace=function(){this.flags|=16},s.prototype.md_timestamp=function(){this.flags|=64},s.prototype.md_hasPauseContinue=function(){this.flags|=256},s.prototype.md_robust=function(){this.flags|=16384},s.prototype.md_nonRobust=function(){this.flags&=-16385},s.prototype.md_idempotent=function(){this.flags|=32768},s.prototype.md_noCanvas=function(){this.flags|=65536},s.prototype.md_jsName=function(e){this._runtimeName=e},s.prototype.md_infixPriority=function(e){this._infixPriority=e,c.api.operatorKeys[this.getName()]=1},s.prototype.md_inlineApply=function(e){this._specialApply=e},s.prototype.md_flow=function(e){},s.prototype.md_allowInRestricted=function(){this.allowInRestricted=!0},s.prototype.md_writesMutable=function(){this._inParameters[0].md_writesMutable()},s.prototype.md_readsMutable=function(){this._inParameters[0].md_readsMutable()},s.prototype.md_allocates=function(){this.getResult().md_writesMutable()},s.prototype.md_onlyOn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this.availableOnlyOn=e.map(function(e){return c.api.getKind(e)})},s.prototype.md_import=function(e,t,n){this._imports||(this._imports=[]),this._imports.push({manager:e,name:t,version:n||"*"})},s.prototype.md_oldName=function(e){var t=this.parentKind.getName()+"->";if(e=/->/.test(e)?c.Util.capitalizeFirst(e):t+e,c.Util.startsWith(e,t))c.AST.propRenames[e]=this.getName();else{var n=/(.*)->(.*)/.exec(e),i=c.api.getKind(n[1]);i||this.md_oops("no such kind: "+n[1]),c.AST.crossKindRenames[i.getName().toLowerCase()+"->"+n[2]]=this.parentKind.getName().toLowerCase()+"->"+this.getName()}},s.prototype.getImports=function(){return this._imports},s.prototype.md_oops=function(e){throw new Error(e+" at "+this.parentKind.toString()+"->"+this.getName())},s.prototype.md_stub=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this._implStatus=this._implStatus&~u.WebAll;for(var n=0;n<e.length;++n)switch(e[n]){case"":break;default:this.md_oops("unknown platform for stub "+e[n])}},s.getPlatform=function(e,t){for(var n=0,i=0;i<e.length;++i)if("none"!=e[i]){var r=c.AST.App.capabilityByName(e[i]);0!=r?n|=r:t("unknown platform cap "+e[i])}return n},s.prototype.md_cap=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];this._md_cap_set&&this.md_oops("cap() called twice; use cap(foo,bar) instead"),this._md_cap_set=!0,this._platform=s.getPlatform(e,function(e){return t.md_oops(e)}),this._explicitPlatform=this._platform},s.prototype.md_embedsLink=function(e,t){},s.prototype.md_resumes=function(){this._implStatus|=1},s.prototype.md_needsFrame=function(){this._implStatus|=2},s.prototype.md_arg=function(t){if("result"==t)return this.getResult();var e=this._inParameters.filter(function(e){return e.getName()==t})[0];return e||(c.Util.log("wrong annotations: parameter '"+t+"' doesn't exist on "+this.parentKind.toString()+"->"+this.getName()),A.md_make(t,this.parentKind))},s.prototype.canCacheSearch=function(){return!0},s.prototype.getFlags=function(){return this.flags},s.prototype.getInfixPriority=function(){return this._infixPriority},s.prototype.getCapability=function(){return this._platform},s.prototype.getExplicitCapability=function(){return this._explicitPlatform},s.prototype.shouldPauseInterperter=function(){return!!(1&this._implStatus)},s.prototype.isImplemented=function(){return!!(this._implStatus&c.api.core.currentPlatformImpl)},s.prototype.isImplementedAnywhere=function(){return!!(this._implStatus&u.WebAll)},s.prototype.getSpecialApply=function(){return this._specialApply},s.prototype.needsSpecialTracing=function(){return 672==(672&this.getFlags())},s.prototype.needsTracing=function(){return!!(48&this.getFlags())},s.prototype.needsTimestamping=function(){return!!(192&this.getFlags())},s.prototype.hasPauseContinue=function(){return!!(768&this.getFlags())},s.withParent=function(t){return function(e){return e.parentKind=t,e}},s.prototype.getUsage=function(){return this._usage},s.prototype.getResult=function(){return this._result},s.prototype.getParameters=function(){return this._inParameters},s.prototype.getHelp=function(e){return void 0===e&&(e=!0),c.lf_static(this._help,e)},s.prototype.isBeta=function(){return this.parentKind&&this.parentKind.isBetaOnly||!!(8192&this.getFlags())},s.prototype.getDescription=function(e){var t=this.getHelp(!e);return this.parentKind&&this.parentKind.isDbgOnly||1024&this.getFlags()?t="[**dbg**] "+t:this.isBeta()&&(t="[**beta**] "+t),2&this.flags&&(t="[**obsolete**] "+t),this.isImplementedAnywhere()||(t="[**not implemented**] "+t),t},s.prototype.getCategory=function(){return 0},s.prototype.isQuick=function(){return!1},s.prototype.forwardsTo=function(){return null},s.prototype.forwardsToStmt=function(){return null},s.prototype.isBrowsable=function(){return 0==(this.flags&k.NonBrowsable)&&!this.parentKind.isPrivate&&(0==(524288&this.flags)||!c.Script||c.Script.isDocsTopic())&&(0==(1048576&this.flags)||!c.Script||c.Script.isLibrary)&&(c.dbg||!(1024&this.flags))&&(c.isBeta||!(8192&this.flags))},s.prototype.showIntelliButton=function(){return!(131072&this.flags)},s.getSignatureCore=function(e){var t=e.getParameters().slice(1).map(function(e){return e.getName()}).join(", "),n=e.getResult().getKind();return n&&n!=c.api.core.Nothing?""!=t?"("+t+") : "+n.toString():n==c.api.core.Unknown?"":" : "+n.toString():"("+t+")"},s.prototype.getSignature=function(){return s.getSignatureCore(this)},s.prototype.getName=function(){return this.useFullName?this.parentKind.getPropPrefix()+this.getArrow()+this._name:this._name},s.prototype.isRefMethod=function(){return this.parentKind.getRoot()==c.api.core.Ref&&this._name.slice(0,1)==c.api.core.refPropPrefix},s.prototype.getArrow=function(){return this.isRefMethod()?" → ":" → "},s}(i),C=function(t){function e(e){t.call(this,e,"run",e.userAction.getDescription(),[],c.api.core.Nothing),this.parentActionKind=e}return __extends(e,t),e.prototype.getFlags=function(){return this.parentActionKind.isAtomic()?0:4096},e.prototype.getResult=function(){return this.parentActionKind.userAction.getResult()},e.prototype.getParameters=function(){var e=this.parentActionKind.userAction,t=e.getParameters().slice(1);return t.unshift(e.mkPP("this",this.parentKind)),t},e}(c.Property=x),S=function(n){function e(e,t){n.call(this,e,t,"i cannot find "+t+" on "+e.toString(),[],c.api.core.Unknown)}return __extends(e,n),e}(x);c.UnresolvedProperty=S;var A=function(n){function i(e,t){n.call(this,e),this._flags=0,this._kind=t}return __extends(i,n),i.md_make=function(e,t){return new i(e,t)},i.prototype.md_defl=function(e){this.getDefaultValue=function(){return[c.AST.mkLit(e)]}},i.prototype.md_deflExpr=function(e){this.getDefaultValue=function(){return c.AST.Parser.parseExprHolder(e).tokens}},i.prototype.md_lang=function(e){this.languageHint=e},i.prototype.setDeflStrings=function(e){var t=this;this._stringValues=e,this.hasOwnProperty("getDefaultValue")||(this.getDefaultValue=function(){return[c.AST.mkLit(t.getKind()==c.api.core.Number?parseFloat(e[0]):t.getKind()==c.api.core.Boolean?"true"==e[0]:e[0])]})},i.prototype.setDeflStringArtIds=function(e){this._stringValueArtIds=e},i.prototype.md_deflStrings=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this.setDeflStrings(e)},i.prototype.md_writesMutable=function(){this._flags|=1},i.prototype.md_readsMutable=function(){this._flags|=2},i.prototype.getKind=function(){return this._kind||c.api.core.Nothing},i.prototype.getFlags=function(){return this._flags},i.prototype.getDefaultValue=function(){return null},i.prototype.getStringValues=function(){return this._stringValues},i.prototype.getStringValueArtIds=function(){return this._stringValueArtIds},i.prototype.substFor=function(e){var t=new i(this.getName(),e.subst(this._kind));return t._stringValues=this._stringValues,t._stringValueArtIds=this._stringValueArtIds,t._flags=this._flags,t},i}(i);c.PropertyParameter=A;var T=function(s){function c(e,t,n,i,r,o){s.call(this,t,n,i,r,o),this._parametricKind=e;var a=new b(b.argsFor(this._parametricKind));(a.parentProp=this)._multiResult=new A("result",a)}return __extends(c,s),c.md_make_kind=function(){var e=new m("MultiplexAPI","");return e.md_parameterPrefixes("","","","",""),e._contexts=a.General,e.md_isData(),e},c.md_make_prop=function(e,t,n,i,r,o,a){var s=new c(e,n,i,r,o,a);return s._usage_count=t,n.md_addProperty(s),s},c.prototype.getParameters=function(){return[s.prototype.getParameters.call(this)[0]]},c.prototype.getResult=function(){return this._multiResult},c.prototype.instanceFor=function(n,i,e){var t=this._parametricKind.createInstance(e),r=s.prototype.substForInternal.call(this,t,function(e,t){return new L(i,n,t,e)});return r.savedArgs=e,r},c.prototype.substFor=function(n,e){var i=this;return void 0===e&&(e=null),s.prototype.substForInternal.call(this,n,function(e,t){return new c(i._parametricKind,n,i._name,i._help,e,t)})},c}(x);c.MultiplexRootProperty=T;var L=function(r){function e(e,t,n,i){void 0===i&&(i=[]),r.call(this,t,"",e.getHelp(!1),i,n),this.forKind=e,n instanceof b&&(n.parentProp=this),this.getUsage().globalCount=e.usage_count}return __extends(e,r),e.prototype.getName=function(){return this.parentKind.getNameFor(this.forKind)},e}(x);c.MultiplexProperty=L;var M=function(){function e(e){this.parent=e,this.globalCount=0,this.localCount=0,this.lastUsed=0,this.apiFreq=0}return e.prototype.count=function(){return 5*this.localCount+this.globalCount+20*this.apiFreq},e}();c.TokenUsage=M}(TDev||(TDev={})),function(ze){!function(h){h.api=ze.api;var t=1;function n(){t=1,h.api.cleanup()}h.proMode=!1,h.blockMode=!1,h.legacyMode=!0,h.propRenames={},h.crossKindRenames={},h.writableLocalsInClosures=!0,h.allowCppCompiler=!1,h.reset=n,h.stableReset=function(e){n();var t=new ze.Random.RC4;t.addEntropy(ze.Util.stringToUint8Array(ze.Util.toUTF8(e))),h.uniqueAstId=function(e){return t.uniqueId(e)}};var o=function(){function e(){this.nodeId=t++,this._error=null}return e.prototype.isAstNode=function(){return!0},e.prototype.isPlaceholder=function(){return!1},e.prototype.hasValue=function(){return!1},e.prototype.isStmt=function(){return!1},e.prototype.getKind=function(){return this._kind},e.prototype.nodeType=function(){return null},e.prototype.children=function(){return[]},e.prototype.errorOf=function(e){return null!=this._error?this._error:e.getError()},e.prototype.shouldCopy=function(e){return"kind"!=e&&"type"!=e},e.prototype.getError=function(){return this._error},e.prototype.setError=function(e){this._error=e},e.prototype.clearError=function(){this._error=null},e.prototype.writeTo=function(e){ze.Util.oops("writeTo not implemented")},e.prototype.serialize=function(){var e=h.TokenWriter.forStorage();return this.writeTo(e),e.finalize()},e.prototype.accept=function(e){return ze.Util.oops("accept not implemented"),null},e.freshNameCore=function(e,t){if(""==e&&(e="x"),!t(e))return e;if("i"==e){var n=["j","k","l","m","n"].filter(function(e){return!t(e)})[0];if(n)return n}for(var i=ze.RT.String_.trim_end(e,"0123456789"),r=parseFloat(e.substr(i.length))||2;t(i+r);)r++;return i+r},e}();h.AstNode=o,h.uniqueAstId=function(e){return ze.Random.uniqueId(e)};var r=function(e){function t(){e.call(this),this.debuggerRenderContext={}}return __extends(t,e),t.prototype.isStmt=function(){return!0},t.prototype.isJump=function(){return!1},t.prototype.isExecutableStmt=function(){return!1},t.prototype.primaryBody=function(){return null},t.prototype.calcNode=function(){return null},t.prototype.children=function(){return null!=this.calcNode()?[this.calcNode()]:[]},t.prototype.getError=function(){var e=this.calcNode();return null!=e?this.errorOf(e):this._error},t.prototype.getHint=function(){var e=null;return this.calcNode()&&(e=this.calcNode().hint),e?this._hint?e+"\n"+this._hint:e:this._hint},t.prototype.addHint=function(e){this._hint?this._hint+="\n"+e:this._hint=e},t.prototype.clearError=function(){this._error=null,this._hint=null,this.isUnreachable=!1},t.prototype.loopVariable=function(){return null},t.prototype.setupForEdit=function(){},t.prototype.nextStmt=function(){if(this.parent instanceof l){var e=this.parent.stmts,t=e.indexOf(this);if(0<=t)return e[t+1]}return null},t.prototype.isCommentedOut=function(){return this.parent&&(this.parent.isTopCommentedOut()||this.parent.isCommentedOut())},t.prototype.isTopCommentedOut=function(){return!1},t.prototype.parentBlock=function(){return this.parent instanceof h.Block?this.parent:null},t.prototype.isLoneChild=function(){var e=this.parentBlock();return e&&1==e.stmts.length},t.prototype.isLastChild=function(){var e=this.parentBlock();return e&&e.stmts.peek()==this},t.prototype.isFirstChild=function(){var e=this.parentBlock();return e&&e.stmts[0]==this},t.prototype.allowSimplify=function(){return!1},t.prototype.onDelete=function(){},t.prototype.isFirstNonComment=function(){var e=this.parentBlock();return e&&e.firstNonComment()==this},t.prototype.isLastNonComment=function(){var e=this.parentBlock();return e&&e.lastNonComment()==this},t.prototype.getName=function(){return this._name},t.prototype.setName=function(e){this._name=e},t.prototype.getStableName=function(){return this.stableName},t.prototype.setStableName=function(e){e instanceof Array?this.stableName=e?e.pop():void 0:this.stableName=e,this.stableVersions=void 0},t.prototype.initStableName=function(e){void 0===e&&(e=!1),this.stableName&&!e||this.setStableName(h.uniqueAstId(16))},t.prototype.deriveStableName=function(e,t){this.setStableName(e.getStableName()+"$"+t)},t.prototype.writeId=function(t){this.stableVersions&&this.stableVersions.forEach(function(e){return t.uniqueId(e)}),t.uniqueId(this.getStableName())},t.prototype.writeIdOpt=function(e){this.writeId(e)},t.prototype.parentApp=function(){var e=this.parentAction();return e?e.parent:null},t.prototype.parentAction=function(){for(var e=this.parent;e&&!(e instanceof I);e=e.parent);return e?e.action:null},t.prototype.helpTopic=function(){return this.nodeType()},t.prototype.forSearch=function(){return""},t.prototype.notifyChange=function(){this.parent&&this.parent.notifyChange()},t.prototype.innerBlocks=function(){return this.children().filter(function(e){return e instanceof l})},t.prototype.isDescendant=function(e){for(;e;)if((e=e.parent)==this)return!0;return!1},t.prototype.matches=function(e){var t=this.calcNode();if(t)for(var n=0;n<t.tokens.length;++n)if(t.tokens[n].matches(e))return!0;return!1},t.prototype.docText=function(){return null},t}(o),e=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.accept=function(e){e.visitInlineStmt(this)},t.prototype.nodeType=function(){return"inlineStmt"},t}(h.Stmt=r),i=function(n){function e(e){n.call(this),this.parentDecl=e,this.maxLength=-1,this.exprHolder=new h.ExprHolder,this.exprHolder.tokens=[new Q],this.exprHolder.parsed=new Z,this.exprHolder.locals=[]}return __extends(e,n),e.prototype.children=function(){return this.exprHolder.tokens},e.prototype.calcNode=function(){return this.exprHolder},e.prototype.notifyChange=function(){var e=this.exprHolder.tokens;if(e[0]&&e[0]instanceof Q){var t=e[0].data;t.length?n.prototype.setName.call(this,t):e[0].data=this.getName()}this.parentDecl.notifyChange()},e.prototype.setName=function(e){n.prototype.setName.call(this,e);var t=this.exprHolder.tokens;t[0]&&t[0]instanceof Q&&(t[0].data=e)},e}(h.InlineStmt=e);h.DeclNameHolder=i;var a=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.nodeType=function(){return"comment"},t.prototype.accept=function(e){return e.visitComment(this)},t.prototype.writeTo=function(e){this.writeIdOpt(e),e.comment(this.text)},t.prototype.forSearch=function(){return this.text.toLowerCase()},t.prototype.docText=function(){return this.text},t.prototype.isExecutableStmt=function(){return!0},t}(r),s=function(t){function e(e){t.call(this),this.field=e}return __extends(e,t),e.prototype.notifyChange=function(){this.field.description=this.parent.children().map(function(e){return e.text}).join("\n"),this.field.description||this.parent.setChildren([]),t.prototype.notifyChange.call(this)},e}(h.Comment=a);h.FieldComment=s;var c,l=function(e){function r(){e.call(this),this.immutableReason=null}return __extends(r,e),r.prototype.nodeType=function(){return"block"},r.prototype.children=function(){return this.stmts},r.prototype.count=function(){return this.stmts.length},r.prototype.newChild=function(e){e.parent=this},r.prototype.setChild=function(e,t){this.stmts[e]=t,this.newChild(t),this.notifyChange()},r.prototype.setChildren=function(e){var t=this;this.stmts=e,this.stmts.forEach(function(e){return t.newChild(e)}),this.notifyChange()},r.prototype.push=function(e){this.stmts.push(e),this.newChild(e),this.notifyChange()},r.prototype.pushRange=function(e){var t=this;this.stmts.pushRange(e),this.stmts.forEach(function(e){return t.newChild(e)}),this.notifyChange()},r.prototype.writeTo=function(t){t.beginBlock(),this.stmts.forEach(function(e){e.writeTo(t)}),t.endBlock()},r.prototype.emptyStmt=function(){return ze.Util.abstract()},r.prototype.allowEmpty=function(){return!1},r.prototype.allowAdding=function(){return!0},r.prototype.allowAddOf=function(e){return!1},r.prototype.isBlockPlaceholder=function(){return 0==this.stmts.length||1==this.stmts.length&&this.stmts[0].isPlaceholder()},r.prototype.replaceChild=function(e,t){var n=this.stmts.indexOf(e),i=(0<=n?this.stmts.slice(0,n):[]).concat(t).concat(this.stmts.slice(n+1));this.setChildren(i)},r.prototype.forEach=function(e){this.stmts.forEach(e)},r.prototype.map=function(e){return this.stmts.map(e)},r.prototype.firstNonComment=function(){return this.stmts.filter(function(e){return"comment"!==e.nodeType()})[0]},r.prototype.lastNonComment=function(){return this.stmts.filter(function(e){return"comment"!==e.nodeType()}).peek()},r.prototype.stmtsWithDiffs=function(){if(this.diffStmts||this.stmts.some(function(e){return!!e.diffStmts})){var t=[];return this.diffStmts&&t.pushRange(this.diffStmts),this.stmts.forEach(function(e){t.push(e),e.diffStmts&&t.pushRange(e.diffStmts)}),t}return this.stmts},r.prototype.forEachInnerBlock=function(e){for(var t=0;t<this.stmts.length;++t)for(var n=this.stmts[t].children(),i=0;i<n.length;++i)n[i]instanceof r&&e(n[i])},r}(r);h.Block=l,(c=h.BlockFlags||(h.BlockFlags={}))[c.None=0]="None",c[c.IsPageRender=1]="IsPageRender",c[c.IsPageInit=2]="IsPageInit";h.BlockFlags;var u=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.emptyStmt=function(){return h.Parser.emptyExprStmt()},t.prototype.accept=function(e){return e.visitCodeBlock(this)},t.prototype.nodeType=function(){return"codeBlock"},t.prototype.allowAddOf=function(e){return e&&e.isExecutableStmt()},t.prototype.writeTo=function(e){e.beginBlock();for(var t=0;t<this.stmts.length;++t){var n=this.stmts[t];if(n instanceof k&&x(this.stmts[t+1])){var i=n;i.writeCore(e);var r=1;for(e.keyword("else").op("{");x(this.stmts[t+1]);){if(t++,(i=this.stmts[t]).writeCore(e),e.keyword("else"),!i.rawElseBody.isBlockPlaceholder()){e.node(i.rawElseBody);break}e.op("{"),r++}for(;0<r--;)e.op("}");e.nl()}else n.writeTo(e)}e.endBlock()},t}(l);h.CodeBlock=u;var d=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.emptyStmt=function(){return h.Parser.emptyCondition()},t.prototype.accept=function(e){return e.visitConditionBlock(this)},t.prototype.nodeType=function(){return"conditionBlock"},t.prototype.allowAddOf=function(e){return e instanceof E},t.prototype.allowEmpty=function(){return!0},t}(l);h.ConditionBlock=d;var p=function(e){function t(){e.call(this),this.stmts=[]}return __extends(t,e),t.prototype.allowEmpty=function(){return!0},t.prototype.emptyStmt=function(e,t){var n=this.parent.outParameters==this,i=new D(re(this.parent.action.nameLocal(e||(n?"r":"p")),t||h.api.core.Number),n);return i.parent=this,i},t.prototype.accept=function(e){return e.visitParameterBlock(this)},t.prototype.allowAddOf=function(e){return e instanceof D},t.prototype.nodeType=function(){return"parameterBlock"},t.prototype.children=function(){if(this.parent&&this.parent.inParameters==this){var e=this.parent.action;if(e&&e.modelParameter)return[e.modelParameter].concat(this.stmts)}return this.stmts},t}(l);h.ParameterBlock=p;var m=function(e){function t(){e.call(this),this.stmts=[]}return __extends(t,e),t.prototype.allowEmpty=function(){return!0},t.prototype.emptyStmt=function(){return null},t.prototype.accept=function(e){return e.visitBindingBlock(this)},t.prototype.nodeType=function(){return"bindingBlock"},t.prototype.allowAddOf=function(e){return e instanceof h.Binding},t}(l);h.BindingBlock=m;var f=function(e){function t(){e.call(this),this.stmts=[]}return __extends(t,e),t.prototype.allowEmpty=function(){return!0},t.prototype.emptyStmt=function(){return null},t.prototype.accept=function(e){return e.visitResolveBlock(this)},t.prototype.push=function(e){this.stmts.push(e),e.parent=this},t.prototype.nodeType=function(){return"resolveBlock"},t.prototype.allowAddOf=function(e){return e instanceof h.ResolveClause},t}(l);h.ResolveBlock=f;var g=function(e){function t(){e.call(this),this.stmts=[]}return __extends(t,e),t.prototype.allowEmpty=function(){return!0},t.prototype.isKeyBlock=function(){return this.parentDef.keys==this},t.prototype.allowAddOf=function(e){return e instanceof h.RecordField},t.prototype.mkUniqName=function(e){var t=this.parentDef.getFields().map(function(e){return e.getName()});return o.freshNameCore(e,function(e){return 0<=t.indexOf(e)})},t.prototype.mkField=function(e,t){var n=this.mkUniqName(e);return new h.RecordField(n,t,this.isKeyBlock())},t.prototype.emptyStmt=function(){var t=this,e="f",n=h.api.core.String;if(this.isKeyBlock())if(2==this.parentDef.recordType){var i=ze.Script.getKinds().filter(function(e){return e!=t.parentDef.entryKind&&e.isData&&e.hasContext(64)&&(!t.parentDef.locallypersisted()||e.getRecord().locallypersisted())&&(!t.parentDef.cloudEnabled||e.getRecord().cloudEnabled)});if(0==i.length)return null;n=i[0],e="l"}else e="k";return this.mkField(e,n)},t.prototype.accept=function(e){return e.visitFieldBlock(this)},t.prototype.notifyChange=function(){e.prototype.notifyChange.call(this),this.parentDef.notifyChange()},t.prototype.fields=function(){return this.stmts},t.prototype.nodeType=function(){return"fieldBlock"},t}(l);h.FieldBlock=g;var v=function(e){function t(){e.call(this),this.stmts=[]}return __extends(t,e),t.prototype.allowAdding=function(){return!!this.parent.getOptionsParameter()},t.prototype.allowEmpty=function(){return!0},t.prototype.emptyStmt=function(){return T.mk("")},t.prototype.accept=function(e){return e.visitInlineActionBlock(this)},t.prototype.push=function(e){this.stmts.push(e),e.parent=this},t.prototype.nodeType=function(){return"inlineActionBlock"},t.prototype.allowAddOf=function(e){return e instanceof L},t}(l);h.InlineActionBlock=v;var y=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.primaryBody=function(){return this.body},t.prototype.isExecutableStmt=function(){return!0},t.prototype.loopVariable=function(){return null},t}(r),b=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.nodeType=function(){return"for"},t.prototype.calcNode=function(){return this.upperBound},t.prototype.children=function(){return[this.upperBound,this.body]},t.prototype.accept=function(e){return e.visitFor(this)},t.prototype.allowSimplify=function(){return!0},t.prototype.loopVariable=function(){return this.boundLocal},t.prototype.writeTo=function(e){this.writeIdOpt(e),e.keyword("for").op("0").op("≤").id(this.boundLocal.getName()).op("<"),e.node(this.upperBound).keyword("do").node(this.body)},t.prototype.parseFrom=function(e){this.setStableName(e.consumeLabel()),e.skipOp("0"),e.skipOp("≤"),this.boundLocal=re(e.parseId("i"),h.api.core.Number),e.skipOp("<"),this.upperBound=e.parseExpr(),e.skipKw("do"),this.body=e.parseBlock(),this.body.parent=this},t.prototype.forSearch=function(){return"for do "+this.upperBound.forSearch()},t}(h.Loop=y);h.For=b;var _=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.nodeType=function(){return"foreach"},t.prototype.calcNode=function(){return this.collection},t.prototype.accept=function(e){return e.visitForeach(this)},t.prototype.children=function(){return[this.collection,this.conditions,this.body]},t.prototype.allowSimplify=function(){return!0},t.prototype.loopVariable=function(){return this.boundLocal},t.prototype.writeTo=function(t){this.writeIdOpt(t),t.keyword("foreach").id(this.boundLocal.getName()).keyword("in").node(this.collection).nl(),this.conditions.stmts.forEach(function(e){e.writeTo(t)}),t.keyword("do").node(this.body)},t.prototype.parseFrom=function(e){this.setStableName(e.consumeLabel()),this.boundLocal=re(e.parseId("e"),h.api.core.Unknown),e.skipKw("in"),this.collection=e.parseExpr();var t=[];for(e.shiftLabel();e.gotKw("where");){e.shift();var n=de(e.parseExpr());n.setStableName(e.consumeLabel()),t.push(n),e.shiftLabel()}t.every(function(e){return e instanceof N&&!0===e.condition.getLiteral()})&&(t=[]),this.conditions=new d,this.conditions.setChildren(t),this.conditions.parent=this,e.skipKw("do"),this.body=e.parseBlock(),this.body.parent=this},t.prototype.forSearch=function(){return"foreach for each in do "+this.collection.forSearch()},t}(y);h.Foreach=_;var w=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.nodeType=function(){return"while"},t.prototype.calcNode=function(){return this.condition},t.prototype.accept=function(e){return e.visitWhile(this)},t.prototype.children=function(){return[this.condition,this.body]},t.prototype.writeTo=function(e){this.writeIdOpt(e),e.keyword("while").node(this.condition),e.keyword("do").node(this.body)},t.prototype.parseFrom=function(e){this.setStableName(e.consumeLabel()),this.condition=e.parseExpr(),e.skipKw("do"),this.body=e.parseBlock(),this.body.parent=this},t.prototype.forSearch=function(){return"while do "+this.condition.forSearch()},t}(y);h.While=w;var k=function(e){function t(){e.call(this),this.displayElse=!0}return __extends(t,e),t.prototype.allowSimplify=function(){return!this.isElseIf},t.prototype.nodeType=function(){return this.isElseIf?"elseIf":"if"},t.prototype.accept=function(e){return this.isElseIf?e.visitElseIf(this):e.visitIf(this)},t.prototype.calcNode=function(){return this.rawCondition},t.prototype.children=function(){return[this.rawCondition,this.rawThenBody,this.rawElseBody]},t.prototype.setElse=function(e){(this.rawElseBody=e).parent=this},t.prototype.isTopCommentedOut=function(){if(!this.isElseIf&&this.rawElseBody.isBlockPlaceholder()&&!1===this.rawCondition.getLiteral()){var e=this.nextStmt();return!(e instanceof t&&e.isElseIf)}return!1},t.prototype.primaryBody=function(){return this.rawThenBody},t.prototype.isExecutableStmt=function(){return!0},t.prototype.writeTo=function(e){this.isElseIf&&e.keyword("else"),this.writeCore(e),this.rawElseBody.isBlockPlaceholder()||e.keyword("else").node(this.rawElseBody)},t.prototype.writeCore=function(e){this.writeIdOpt(e),e.keyword("if").node(this.rawCondition).keyword("then").node(this.rawThenBody)},t.prototype.parseFrom=function(e){this.setStableName(e.consumeLabel()),this.rawCondition=e.parseExpr(),e.skipKw("then"),this.rawThenBody=e.parseBlock(),(this.rawThenBody.parent=this).setElse(h.Parser.emptyBlock())},t.prototype.forSearch=function(){return"if then "+this.rawCondition.forSearch()},t.prototype.bodies=function(){return this.isElseIf?[]:this.branches.map(function(e){return e.body})},t}(r);function x(e){return e instanceof k&&e.isElseIf}h.If=k,h.isElseIf=x;var C=function(e){function t(){e.call(this),this.emptyExpr=h.Parser.emptyExpr()}return __extends(t,e),t.prototype.nodeType=function(){return"boxed"},t.prototype.calcNode=function(){return this.emptyExpr},t.prototype.primaryBody=function(){return this.body},t.prototype.accept=function(e){return e.visitBox(this)},t.prototype.children=function(){return[this.body]},t.prototype.isExecutableStmt=function(){return!0},t.prototype.writeTo=function(e){this.writeIdOpt(e),e.keyword("do").id("box").node(this.body)},t.prototype.parseFrom=function(e){this.setStableName(e.consumeLabel()),this.body=e.parseBlock(),this.body.parent=this},t.prototype.forSearch=function(){return"boxed"},t}(r);h.Box=C;var S=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.isVarDef=function(){return this.expr.looksLikeVarDef||!!this.expr.assignmentInfo()&&0<this.expr.assignmentInfo().definedVars.length},t.prototype.isPagePush=function(){return!!this.expr.assignmentInfo()&&this.expr.assignmentInfo().isPagePush},t.prototype.nodeType=function(){return"exprStmt"},t.prototype.calcNode=function(){return this.expr},t.prototype.isPlaceholder=function(){return this.expr.isPlaceholder()},t.prototype.accept=function(e){return e.visitExprStmt(this)},t.prototype.isExecutableStmt=function(){return!0},t.prototype.allowSimplify=function(){return!0},t.prototype.isJump=function(){if(this.expr.parsed){var e=this.expr.parsed.getCalledProperty();if(e==h.api.core.ReturnProp||e==h.api.core.BreakProp||e==h.api.core.ContinueProp)return!0}return!1},t.prototype.helpTopic=function(){return this.isVarDef()?"var":"commands"},t.prototype.writeTo=function(e){this.writeIdOpt(e),this.isPlaceholder()?e.keyword("skip"):e.node(this.expr),e.op0(";").nl()},t.prototype.forSearch=function(){return(this.isVarDef()?"var ":"")+this.expr.forSearch()},t.prototype.docText=function(){var e=this.expr.parsed?this.expr.parsed.getCalledProperty():null;return e?"docs render"==e.getName()?this.docsRender():e.parentKind==h.api.getKind("Docs")&&"bitmatrix"==e.getName()?this.bitmatrixRender():null:null},t.prototype.bitmatrixRender=function(){var e=this.expr.parsed;return 2!=e.args.length?null:"```` bitmatrix\n"+(e.args[1].getStringLiteral()||"")+"\n````"},t.prototype.docsRender=function(){var e=this.expr.parsed,t=e.args[0].getCalledProperty();if(t instanceof q)var n=t.url;if(!n)return null;if(t.getKind()==h.api.core.Picture){var i=e.args[1].getNumberLiteral()||12,r=e.args[2].getStringLiteral()||"";return"{pic:"+t.getName()+":"+i+"x"+i+(r?":"+r:"")+"}"}return"Document"==t.getKind().getName()?"["+(r=e.args[1].getStringLiteral()||t.getName())+"] ("+n+")":null},t}(r);h.ExprStmt=S;var A=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getName=function(){return""},t}(r),T=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getName=function(){return this.recordField?this.recordField.getName():this._opt_name},t.mk=function(e){var t=new h.OptionalParameter;return t.expr=h.Parser.emptyExpr(),t._opt_name=e,t},t.prototype.nodeType=function(){return"optionalParameter"},t.prototype.calcNode=function(){return this.expr},t.prototype.accept=function(e){return e.visitOptionalParameter(this)},t.prototype.children=function(){return[this.expr]},t.prototype.writeTo=function(e){this.writeIdOpt(e),e.keyword("where").id(this.getName()).op(":=").node(this.expr).op0(";").nl()},t.prototype.parseFrom=function(e){this.setStableName(e.consumeLabel()),this._opt_name=e.parseId(),e.skipOp(":="),this.expr=e.parseExpr(),e.skipOp(";")},t.prototype.forSearch=function(){return"with "+this.getName()+" := "+this.expr.forSearch()},t.optionsParameter=function(e){if(!e)return null;var t=e.getParameters().peek();if(!t)return null;if(!/\?$/.test(t.getName()))return null;var n=t.getKind();if(!n.isUserDefined())return null;var i=n.getRecord();return i&&i.tableKind.getProperty("create")?t:null},t}(h.InlineActionBase=A);h.OptionalParameter=T;var L=function(e){function n(){e.call(this),this.inParameters=[],this.outParameters=[]}return __extends(n,e),n.prototype.children=function(){return[this.body]},n.prototype.nodeType=function(){return"inlineAction"},n.prototype.helpTopic=function(){return"inlineActions"},n.prototype.getName=function(){return this.recordField?this.recordField.getName():this.name.getName()},n.mk=function(e){var t=new n;return t.name=e,t.body=new u,(t.body.parent=t).body.setChildren([t.body.emptyStmt()]),t},n.prototype.writeTo=function(n){var i=this;this.writeIdOpt(n);var e=function(e){var t=!0;e.forEach(function(e){t||n.op0(",").space(),e.writeWithType(i.parentApp(),n),t=!1})};n.keyword("where"),this.isImplicit&&n.op("implicit"),this.isOptional&&n.op("optional"),n.id(this.name.getName()).op0("("),e(this.inParameters),n.op0(")"),0<this.outParameters.length&&(n.space().keyword("returns").space().op0("("),e(this.outParameters),n.op0(")")),this.body.writeTo(n)},n.prototype.parseFrom=function(e){this.setStableName(e.consumeLabel()),e.gotOp("implicit")&&(this.isImplicit=!0,e.shift()),e.gotOp("optional")&&(this.isOptional=!0,e.shift());var t=e.parseActionHeader();this.name=re(t.name,h.api.core.Unknown),this.isImplicit&&(this.name.isSynthetic=!0),this.inParameters=t.inParameters.map(function(e){return e.local}),this.outParameters=t.outParameters.map(function(e){return e.local}),this.body=e.parseBlock(),this.body.parent=this},n.prototype.forSearch=function(){return"where "+this.name.getName()},n.prototype.accept=function(e){return e.visitInlineAction(this)},n}(A);h.InlineAction=L;var M=function(e){function i(){e.call(this),this.actions=new v,this.actions=new v,this.actions.parent=this}return __extends(i,e),i.prototype.nodeType=function(){return"inlineActions"},i.prototype.isPlaceholder=function(){return!1},i.prototype.accept=function(e){return e.visitInlineActions(this)},i.prototype.children=function(){return[this.expr,this.actions]},i.prototype.getOptionsParameter=function(){var e=this.calcNode().topCall();return e?h.OptionalParameter.optionsParameter(e.getCalledProperty()):null},i.prototype.optionalParameters=function(){return this.actions.stmts.filter(function(e){return e instanceof L?e.isOptional:e instanceof T||void ze.Util.oops("bad element "+e.nodeType())})},i.prototype.normalActions=function(){return this.actions.stmts.filter(function(e){return e instanceof L&&!e.isOptional})},i.prototype.implicitAction=function(){var e=this.actions.stmts.peek();if(e instanceof L){var t=e;return t.isImplicit?t:null}return null},i.isImplicitActionKind=function(e){if(e instanceof ze.ActionKind){var t=e;return 0==t.getInParameters().length&&0==t.getOutParameters().length}return!1},i.prototype.writeTo=function(t){e.prototype.writeTo.call(this,t),this.actions.forEach(function(e){return e.writeTo(t)})},i.prototype.sortOptionals=function(){var e=this.optionalParameters()[0];if(e&&e.recordField){var t=e.recordField.def().values.stmts,n=!1;this.actions.forEach(function(e){e.recordField?(e._sort_key=t.indexOf(e.recordField),e._sort_key<0&&(n=!0)):e instanceof L?e._sort_key=e.isImplicit?11e9:1e10:n=!0}),n||(this.actions.stmts.sort(function(e,t){return e._sort_key-t._sort_key}),this.actions.notifyChange())}},i.implicitActionParameter=function(e){if(!e)return null;var t=e.getParameters();T.optionsParameter(e)&&t.pop();var n=t.peek();return n&&"body"==n.getName()&&i.isImplicitActionKind(n.getKind())?n:null},i}(S);h.InlineActions=M;var E=function(e){function t(){e.call(this)}return __extends(t,e),t}(r),N=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.nodeType=function(){return"where"},t.prototype.calcNode=function(){return this.condition},t.prototype.accept=function(e){return e.visitWhere(this)},t.prototype.isPlaceholder=function(){return this.condition.isPlaceholder()||1==this.condition.tokens.length&&"true"==this.condition.tokens[0].getText()},t.prototype.writeTo=function(e){this.writeIdOpt(e),e.keyword("where").node(this.condition).nl()},t.prototype.forSearch=function(){return"where "+this.condition.forSearch()},t}(h.ForeachClause=E);h.Where=N;var D=function(s){function e(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),s.call(this),this.local=e,this.isOut=t,this.isClosure=n,this.exprHolder=new h.ExprHolder,this.setupForEdit()}return __extends(e,s),e.prototype.setupForEdit=function(){var e=new h.FieldName(this.isOut);e.data=this.getName(),this.exprHolder.tokens=[e].concat(h.propertyRefsForKind(this.local.getKind())),this.exprHolder.parsed=new h.Literal,this.exprHolder.locals=[]},e.prototype.calcNode=function(){return this.exprHolder},e.prototype.notifyChange=function(){var t=this,e=this.exprHolder.tokens;if(0==e.length&&this.parent){var n=this.parent,i=n.children().filter(function(e){return e!=t});n.setChildren(i)}else if(e[0]&&e[0]instanceof h.FieldName){var r=e[0].data;if(this.getName()!=r){var o=this.parentAction().nameLocal(r);this.local.rename(o),e[0].data=o}if(1<e.length){var a=this.exprHolder.getKind();fe(a)&&a!=this.local.getKind()&&(this.local.setKind(a),h.TypeChecker.tcApp(ze.Script))}}1<e.length&&e[1]instanceof h.PropertyRef&&(e[1].skipArrow=!0),s.prototype.notifyChange.call(this)},e.prototype.getName=function(){return this.local.getName()},e.prototype.getKind=function(){return this.local.getKind()},e.prototype.nodeType=function(){return"actionParameter"},e.prototype.accept=function(e){return e.visitActionParameter(this)},e.prototype.theAction=function(){return this.parent.parent.action},e.prototype.forSearch=function(){return this.getName()+" "+this.getKind().toString()},e.prototype.writeTo=function(e){e.keyword("var"),this.local.writeWithType(this.parentApp(),e),e.op0(";").nl()},e.prototype.matches=function(e){return this.getKind()&&this.getKind().matches(e)},e}(r);h.ActionParameter=D;var I=function(t){function e(e){t.call(this),this.action=e,this.inParameters=new p,this.outParameters=new p,(this.inParameters.parent=this).outParameters.parent=this}return __extends(e,t),e.prototype.getName=function(){return this.action.getName()},e.prototype.nodeType=function(){return"actionHeader"},e.prototype.children=function(){return[this.inParameters,this.outParameters,this.action.body]},e.prototype.primaryBody=function(){return this.action.body},e.prototype.accept=function(e){return e.visitActionHeader(this)},e.prototype.writeTo=function(e){this.action.writeHeader(e)},e.prototype.notifyChange=function(){t.prototype.notifyChange.call(this),this.action.notifyChange()},e}(r);h.ActionHeader=I;var P=function(t){function e(){t.call(this),this._wasTypechecked=!1,this.wasAutoNamed=!1,this.nameHolder=new i(this)}return __extends(e,t),e.prototype.getCoreName=function(){return this.nameHolder.getName()},e.prototype.getName=function(){return this.nameHolder.getName()},e.prototype.setName=function(e){this.nameHolder.setName(e)},e.prototype.getIconArtId=function(){return null},e.prototype.hasErrors=function(){return!!this.getError()},e.prototype.hasWarnings=function(){return!1},e.prototype.getDescription=function(e){return""},e.prototype.isBrowsable=function(){return!0},e.prototype.propertyForSearch=function(){return null},e.prototype.toString=function(){return this.getName()},e.prototype.helpTopic=function(){return null},e.prototype.usageKey=function(){return null},e.prototype.freshlyCreated=function(){},e.prototype.getDefinedKind=function(){return null},e.prototype.matches=function(e){return!(!this.getKind()||!this.getKind().matches(e))||this==e},e.prototype.canRename=function(){return!0},e.prototype.notifyChange=function(){if(t.prototype.notifyChange.call(this),this.cachedSerialized){var e=this.cachedSerialized.idx;0<e&&(this.cachedSerialized.idx=-e)}},e.prototype.nodeType=function(){return"decl"},e.prototype.accept=function(e){return e.visitDecl(this)},e}(r),R=function(t){function n(){t.call(this),this._usage=new ze.TokenUsage(this)}return __extends(n,t),n.prototype.getSignature=function(){return ze.Property.getSignatureCore(this)},n.prototype.canCacheSearch=function(){return!1},n.prototype.thingSetKindName=function(){return null},n.prototype.getInfixPriority=function(){return 0},n.prototype.forwardsTo=function(){return this},n.prototype.forwardsToStmt=function(){return null},n.prototype.propertyForSearch=function(){return this},n.prototype.getCapability=function(){return 0},n.prototype.getExplicitCapability=function(){return this.getCapability()},n.prototype.isBeta=function(){return!1},n.prototype.showIntelliButton=function(){return!0},n.prototype.getImports=function(){},n.prototype.isExtensionAction=function(){return!1},n.prototype.shouldPauseInterperter=function(){return!1},n.prototype.isImplemented=function(){return!0},n.prototype.isImplementedAnywhere=function(){return this.isImplemented()},n.prototype.isSupported=function(){return!0},n.prototype.getSpecialApply=function(){return null},n.prototype.isBrowsable=function(){return!0},n.prototype.getUsage=function(){return this._usage},n.prototype.helpTopic=function(){return this.nodeType()},n.prototype.getFlags=function(){return 0},n.prototype.getArrow=function(){return" "},n.prototype.runtimeName=function(){return ze.Api.runtimeName(this.getName())},n.prototype.needsSpecialTracing=function(){return!1},n.prototype.needsTracing=function(){return!1},n.prototype.needsTimestamping=function(){return!1},n.prototype.hasPauseContinue=function(){return!1},n.mkPPext=function(e,t,n){var i=new ze.PropertyParameter(t,n);return i.parentProperty=e,i},n.prototype.mkPP=function(e,t){return n.mkPPext(this,e,t)},n.prototype.getParameters=function(){return[this.mkPP("_this_",this.parentKind)]},n.prototype.getResult=function(){return this.mkPP(this.getName(),this.getKind())},n.prototype.getNamespace=function(){var e=this.thingSetKindName();if(!e)return null;var t=h.api.getKind(e);return t?t.shortName()+" ":null},n.prototype.setName=function(e){t.prototype.setName.call(this,e),this.parent&&this.parent.notifyChangeAll()},n}(h.Decl=P);h.PropertyDecl=R,h.artSymbol="✿",h.dataSymbol="◳",h.codeSymbol="▷";var q=function(e){function n(){e.call(this),this.readonly=!1,this.comment="",this.url="",this.isResource=!1,this.isTransient=!0,this.cloudEnabled=!1}return __extends(n,e),n.prototype.children=function(){return[]},n.prototype.nodeType=function(){return"globalDef"},n.prototype.helpTopic=function(){return this.thingSetKindName()},n.prototype.accept=function(e){return e.visitGlobalDef(this)},n.prototype.getDescription=function(){return this.isResource&&this.getKind()==h.api.core.Color?ze.lf("color #{0}",this.url):ze.lf("a global variable")},n.prototype.forSearch=function(){return this.stringResourceValue()||this.url||""},n.prototype.stringResourceValue=function(){return this.isResource&&this.getKind()==h.api.core.String&&this.url?ze.RT.String_.valueFromArtUrl(this.url):null},n.prototype.thingSetKindName=function(){return this.isResource?"art":"data"},n.prototype.getCategory=function(){return 2},n.prototype.setKind=function(e){this._kind=e},n.prototype.writeTo=function(e){this.writeId(e),e.nl().keyword("var").id(this.getName()).op(":").kind(this.parent,this.getKind()),e.beginBlock(),this.comment&&e.comment(this.comment),this.isResource?(e.boolOptAttr("is_resource",this.isResource),this.url&&e.stringAttr("url",this.url)):e.boolOptAttr("readonly",this.readonly),e.boolOptAttr("transient",this.isTransient),e.boolOptAttr("cloudenabled",this.cloudEnabled),e.endBlock()},n.parse=function(e){var t=new n;t.setStableName(e.consumeLabel()),t.isTransient=!1,e.addDecl(t),t.setName(e.parseId()),t.setKind(e.parseTypeAnnotation()),e.parseBraced(function(){e.gotKey("readonly")&&(t.readonly=e.parseBool()),e.gotKey("transient")&&(t.isTransient=e.parseBool()),e.gotKey("cloudenabled")&&(t.cloudEnabled=e.parseBool()),e.gotKey("is_resource")&&(t.isResource=e.parseBool(),t.isResource&&(t.readonly=!0)),e.gotKey("url")&&(t.url=e.parseString()),e.got(4)&&(t.comment+=e.shift().data+"\n")}),t.cloudEnabled&&(t.isTransient=!1)},n.prototype.getRecordPersistence=function(){return this.cloudEnabled?2:this.isTransient?0:1},n.prototype.notifyChange=function(){e.prototype.notifyChange.call(this),ze.Runtime.theRuntime&&ze.Runtime.theRuntime.resetData()},n}(R);h.GlobalDef=q;var j=function(e){function t(){e.call(this),this.isExtension=!1,this._isBrowsable=!0,this.usage=new ze.TokenUsage(this)}return __extends(t,e),t.prototype.getUsage=function(){return this.usage},t.prototype.nodeType=function(){return"singletonDef"},t.prototype.accept=function(e){return e.visitSingletonDef(this)},t.prototype.getDescription=function(e){if(!this._description&&(this._description=this.getKind().getHelp(!e),this.isExtension&&this.firstLibraryRef.resolved)){var t=this.firstLibraryRef.resolved.resources().filter(function(e){return"namespacedocs.json"==e.getName()})[0];if(t)try{var n=JSON.parse(ze.RT.String_.valueFromArtUrl(t.url));n[this.getName()]&&(this._description=n[this.getName()])}catch(e){}}return this._description},t.prototype.isBrowsable=function(){return this._isBrowsable},t.prototype.usageMult=function(){return 1},t.prototype.usageKey=function(){return ze.Util.tagify(this.getKind().getName())},t}(P);h.SingletonDef=j;var B=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.nodeType=function(){return"placeholderDef"},t.prototype.getDescription=function(){return"need "+this.getKind().toString()+" here"},t.prototype.isBrowsable=function(){return!1},t.prototype.getName=function(){return"need "+this.getKind().serialize()+(this.label?":"+this.label:"")},t.prototype.longError=function(){return ze.lf("TD100: insert {0:a} here",this.label||this.getKind().toString())},t}(P);h.PlaceholderDef=B;var z=function(r){function e(){r.call(this),this.numUnsupported=0,this.isAtomic=!1,this.canBeInlined=!1,this.header=new I(this)}return __extends(e,r),e.prototype.nodeType=function(){return"action"},e.prototype.isTest=function(){return this._isTest&&(this.isCompilerTest()||!this.hasInParameters())},e.prototype.isNormalAction=function(){return!this.isPage()&&!this.isEvent()&&!this.isLambda},e.prototype.isEvent=function(){return!!this.eventInfo},e.prototype.isPage=function(){return this._isPage},e.prototype.accept=function(e){return e.visitAction(this)},e.prototype.children=function(){return[this.header]},e.prototype.hasErrors=function(){return this._hasErrors},e.prototype.isMainAction=function(){return this.parent&&this.parent.mainAction()==this},e.prototype.parentLibrary=function(){return this.parent&&this.parent.isTopLevel&&this.parent.thisLibRef},e.prototype.thingSetKindName=function(){return this.isEvent()?null:"code"},e.prototype.isActionTypeDef=function(){return this._isActionTypeDef},e.prototype.isExtensionAction=function(){return!1},e.prototype.extensionForward=function(){return this},e.prototype.hasWarnings=function(){return 0<this.numUnsupported},e.prototype.getExtensionKind=function(){var e=this.getInParameters();return 1<=e.length&&!/\?$/.test(e[0].getName())&&e[0].getKind().isExtensionEnabled()?e[0].getKind():null},e.prototype.getHelpPath=function(){var e=this.getDescription(),t=/{help:([^}]+)}/i.exec(e);return t?t[1]:void 0},e.prototype.getNamespaces=function(){var e=this.getDescription();if(!/{namespace:/.test(e))return[];var n=[];return e.replace(/{namespace:([^}]+)}/g,function(e,t){return n.push(t),""}),n},e.prototype.getShimName=function(){var e=/{(shim|asm):([^{}]*)}/.exec(this.getDescription());return e?e[2]:null},e.prototype.getFlags=function(){var t=this,n=this.isAtomic?0:4096;if(this.body)for(var e=0;e<this.body.stmts.length;++e){var i=this.body.stmts[e].docText();if(null==i)break;var r=/{action:([^\}]+)}/i.exec(i);r&&r[1].split(",").forEach(function(e){switch(e.toLowerCase()){case"ignorereturn":n|=262144;break;case"libsonly":n|=1048576;break;default:t.setError(ze.lf("unknown flag"))}})}return n},e.prototype.clearError=function(){r.prototype.clearError.call(this),this.numUnsupported=0},e.prototype.isInLibrary=function(){return!1},e.prototype.markUsed=function(){},e.prototype.isLibInit=function(){return!this.isPrivate&&"_libinit"==this.getName()&&0==this.getOutParameters().length&&0==this.getInParameters().length},e.prototype.helpTopic=function(){return this.isActionTypeDef()?"action types":this.isPage()?"pages":this.isEvent()?"events":"code"},e.prototype.isCompilerTest=function(){return this._isTest&&/^E: /.test(this.getName())},e.prototype.getModelDef=function(){return this.modelParameter&&this.modelParameter.getKind()instanceof h.RecordEntryKind?this.modelParameter.getKind().getRecord():null},e.prototype.getInlineHelp=function(){if(this.eventInfo)return this.eventInfo.type.help;if(!this.body)return"";for(var e="",t=0;t<this.body.stmts.length;++t){var n=this.body.stmts[t];if(!(n instanceof a))break;e&&(e+="\n"),e+=n.text}return e},e.prototype.getDescription=function(){var e=this.getInlineHelp();return e||(this.isActionTypeDef()?ze.lf("an function type definition"):this.isEvent()?ze.lf("an event handler"):this.isPage()?ze.lf("a page"):ze.lf("a function"))},e.prototype.getCategory=function(){return 1},e.prototype.getParameters=function(){var t=this;return r.prototype.getParameters.call(this).concat(this.getInParameters().map(function(e){return t.mkPP(e.getName(),e.getKind())}))},e.prototype.getResult=function(){var e=this.getOutParameters();return 1==e.length?this.mkPP(e[0].getName(),e[0].getKind()):this.mkPP("result",h.api.core.Nothing)},e.prototype.getDefinedKind=function(){return this.isActionTypeDef()?(this.definedKind||(this.definedKind=new ze.UserActionKind(this)),this.definedKind):null},e.prototype.setEventInfo=function(e){this.eventInfo=e,this.isAtomic=!1,e&&(this.header.inParameters.immutableReason=ze.lf("Types, order, and number of event parameters cannot be edited."),this.header.outParameters.immutableReason=ze.lf("Events cannot have out parameters."))},e.prototype.getPageBlock=function(e){var t=this.body.children();if(!(2==t.length&&t[0]instanceof k&&t[1]instanceof k))return null;var n=t[0],i=t[1],r=n.rawCondition.tokens;if(!n.rawElseBody.isBlockPlaceholder())return null;if(!i.rawElseBody.isBlockPlaceholder())return null;if(!(2==r.length&&r[0]instanceof te&&r[1]instanceof ee))return null;if("box"!=r[0].data||"is init"!=r[1].data)return null;function o(e){e.isInvisible=!0,e.rawElseBody.isInvisible=!0;var t=e.rawElseBody.stmts[0];t&&(t.isInvisible=!0)}return this.body.isInvisible=!0,o(n),o(i),e?n.rawThenBody:i.rawThenBody},e.prototype.getInParameters=function(){return this.header.inParameters.stmts},e.prototype.getOutParameters=function(){return this.header.outParameters.stmts},e.prototype.getAllParameters=function(){return this.getInParameters().concat(this.getOutParameters())},e.prototype.hasInParameters=function(){return 0<this.getInParameters().length},e.prototype.hasOutParameters=function(){return 0<this.getOutParameters().length},e.prototype.nameLocal=function(e,n){var i=this;return void 0===n&&(n={}),o.freshNameCore(e,function(t){return n.hasOwnProperty(t)||i.allLocals.some(function(e){return e.getName()==t})||null!=h.api.getThing(t)})},e.prototype.isPlugin=function(){if("plugin"!=this.getName())return!1;var e=this.getInParameters();return 1==e.length&&(e[0].getKind()==h.api.core.String||e[0].getKind()==h.api.core.Editor)},e.prototype.isButtonPlugin=function(){if(this.isPrivate)return!1;var e=this.getInParameters();return 1==e.length&&"Editor"==e[0].getKind().getName()},e.prototype.isRunnable=function(){return!(this.isActionTypeDef()||this.isEvent()||this.isPrivate)&&((!ze.Cloud.isRestricted()||!this.hasInParameters())&&(this.isPlugin()||this.isButtonPlugin()||!this.hasInParameters()||!this.isPage()&&this.getInParameters().every(function(e){return!!e.getKind().picker})))},e.prototype.writeHeader=function(n,i){var r=this;void 0===i&&(i=!1);var e=function(e){var t=!0;e.forEach(function(e){t||n.op0(",").space(),i||e.writeIdOpt(n),e.local.writeWithType(r.parent,n),t=!1})};n.nl().keyword(this.isEvent()?"event":"action"),i&&n.op(this.isAtomic?"sync":"async"),this.isActionTypeDef()&&n.op("type"),n.id(this.getName()).op0("(");var t=this.getInParameters();this.modelParameter&&(t=t.slice(0)).unshift(this.modelParameter),e(t),n.op0(")"),this.hasOutParameters()&&(n.keyword("returns").op0("("),e(this.getOutParameters()),n.op0(")"))},e.prototype.writeTo=function(e){this.writeId(e),this.writeHeader(e),e.skipActionBodies?(e.beginBlock(),e.endBlock()):this.body.writeTo(e),e.backspaceBlockEnd(),this.isPrivate&&e.keyword("meta").keyword("private").op0(";").nl(),this.isPage()&&e.keyword("meta").keyword("page").op0(";").nl(),this.isAtomic&&!this.isEvent()&&e.keyword("meta").keyword("sync").op0(";").nl(),this.isTest()&&e.keyword("meta").keyword("test").op0(";").nl(),this.isOffline&&e.keyword("meta").keyword("offline").op0(";").nl(),this.isQuery&&e.keyword("meta").keyword("query").op0(";").nl(),e.endBlock()},e.prototype.toString=function(){return this.getName()},e.prototype.getStats=function(){var e=new be;return e.dispatch(this),e},e.prototype.freshlyCreated=function(){if(this.isPage()&&!this.modelParameter){var e=h.Parser.parseDecl("table __name__ { type = 'Object'; fields { } }");e.setName(ze.Script.freshName(this.getName()+" page data")),ze.Script.addDecl(e);var t=h.mkLocal(h.modelSymbol,e.entryKind);this.modelParameter=new D(t)}},e.prototype.initParameterAnnotations=function(){var o=this;if(!this.parameterAnnotations){this.parameterAnnotations={};var e=this.getDescription();e.replace(/\{(hints|enum):([^:{}]*):([^{}]*)/g,function(e,t,n,i){var r=o.getParameterAnnotation(n);return r.hints=i.split(","),"enum"==t&&(r.enumMap={},r.hints=r.hints.map(function(e){var t=/([^=]*)=(.+)$/i.exec(e);return t?(r.enumMap[t[1]]=t[2],t[1]):r.enumMap[e]=e}),r.hints.enumMap=r.enumMap),""}),e.replace(/\{pichints:([^:{}]*):([^{}]*)/g,function(e,t,n){return o.getParameterAnnotation(t).pichints=ze.Util.splitKeyValues(n),""}),e.replace(/\{language:([^:{}]*):([^{}]*)/g,function(e,t,n){return o.getParameterAnnotation(t).language=n,""})}},e.prototype.getParameterAnnotation=function(e){return this.initParameterAnnotations(),this.parameterAnnotations.hasOwnProperty(e)||(this.parameterAnnotations[e]={}),this.parameterAnnotations[e]},e.prototype.mkPP=function(e,t){var n=r.prototype.mkPP.call(this,e,t),i=this.getParameterAnnotation(e);return i.hints&&n.setDeflStrings(i.hints),i.pichints&&n.setDeflStringArtIds(i.pichints),i.language&&(n.languageHint=i.language),i.enumMap&&(n.enumMap=i.enumMap),n},e}(R);h.Action=z;var O=function(t){function e(e){t.call(this,e.getInParameters()[0].getKind(),e.getName(),e.getDescription(),[],h.api.core.Nothing),this.shortcutTo=e}return __extends(e,t),e.prototype.getCategory=function(){return 1},e.prototype.getParameters=function(){return this.shortcutTo.getParameters().slice(1)},e.prototype.getResult=function(){return this.shortcutTo.getResult()},e.prototype.getName=function(){return this.shortcutTo.getName()},e.prototype.getDescription=function(){return this.shortcutTo.getDescription()},e.prototype.getSignature=function(){return this.shortcutTo.getSignature()},e.prototype.getFlags=function(){return this.shortcutTo.getFlags()},e.prototype.canRename=function(){return!1},e}(ze.Property);h.ExtensionProperty=O;var U,F=function(e){function t(){e.call(this),this.lastUsedAt=0}return __extends(t,e),t.prototype.nodeType=function(){return"localDef"},t.prototype.accept=function(e){return e.visitLocalDef(this)},t.prototype.getDescription=function(){return": "+this.getKind().toString()+ze.lf(" -- a local variable")},t.prototype.rename=function(e){this.setName(e)},t.prototype.setKind=function(e){this._kind=e},t.prototype.usageKey=function(){return this.getName()},t.prototype.isByRef=function(){return this._isMutable&&this._isCaptured},t.prototype.writeWithType=function(e,t){t.id(this.getName()).op0(":").kind(e,this.getKind())},t.prototype.clone=function(){return re(this.getName(),this.getKind())},t}(P);h.LocalDef=F,(U=h.LanguageFeature||(h.LanguageFeature={}))[U.None=0]="None",U[U.JS=1]="JS",U[U.ContextCheck=2]="ContextCheck",U[U.Refs=4]="Refs",U[U.LocalCloud=8]="LocalCloud",U[U.UnicodeModel=16]="UnicodeModel",U[U.AllAsync=32]="AllAsync",U[U.UppercaseMultiplex=64]="UppercaseMultiplex",U[U.Current=U.JS|U.Refs|U.ContextCheck|U.LocalCloud|U.UnicodeModel|U.AllAsync|U.UppercaseMultiplex]="Current";var H,G=h.LanguageFeature;(H=h.AnnotationMode||(h.AnnotationMode={}))[H.None=0]="None",H[H.Coverage=1]="Coverage",H[H.Profiling=2]="Profiling",H[H.Crash=3]="Crash";h.AnnotationMode;var V=function(){function a(){this.npmModules={},this.bowerModules={},this.clientScripts={},this.cordovaPlugins={},this.pipPackages={},this.touchDevelopPlugins={}}return a.prototype.importTouchDevelop=function(e,t,n,i){i&&(this.touchDevelopPlugins[i]="1")},a.prototype.importPip=function(e,t,n,i){if(n){var r=this.pipPackages;if(r.hasOwnProperty(n)){if("error"==r[n])return;var o=a.combinePipVersions(r[n],i);"error"==o&&e.markError(t,ze.lf("TD196: pip package '{0}' versions '{1}' and '{2}' conflict",n,r[n],i)),r[n]=o}else r[n]=i}},a.prototype.importCordova=function(e,t,n,i){if(n){var r=this.cordovaPlugins;if(r.hasOwnProperty(n)){if("error"==r[n])return;var o=a.combineNpmVersions(r[n],i);"error"==o&&e.markError(t,ze.lf("TD187: cordova plugin '{0}' versions '{1}' and '{2}' conflict",n,r[n],i)),r[n]=o}else r[n]=i}},a.combineNpmModules=function(e){var i={};return e.librariesAndThis().filter(function(e){return!!e.resolved}).forEach(function(n){Object.keys(n.resolved.imports.npmModules).forEach(function(e){var t=n.resolved.imports.npmModules[e];i.hasOwnProperty(e)?i[e]=a.combineNpmVersions(i[e],t):i[e]=t})}),i},a.combinePipPackages=function(e){var i={};return e.librariesAndThis().filter(function(e){return!!e.resolved}).forEach(function(n){Object.keys(n.resolved.imports.pipPackages).forEach(function(e){var t=n.resolved.imports.pipPackages[e];i.hasOwnProperty(e)?i[e]=a.combinePipVersions(i[e],t):i[e]=t})}),i},a.combineCordovaPlugins=function(t){var i={"cordova-plugin-console":"*","cordova-plugin-websql":"*","cordova-plugin-inappbrowser":"*"};return Object.keys(t.imports.cordovaPlugins).filter(function(e){return t.imports.cordovaPlugins.hasOwnProperty(e)}).forEach(function(e){return i[e]=a.combineNpmVersions(i[e],t.imports.cordovaPlugins[e])}),t.librariesAndThis().filter(function(e){return!!e.resolved}).forEach(function(n){Object.keys(n.resolved.imports.cordovaPlugins).forEach(function(e){var t=n.resolved.imports.cordovaPlugins[e];i.hasOwnProperty(e)?i[e]=a.combineNpmVersions(i[e],t):i[e]=t})}),i},a.combineTouchDevelopPlugins=function(e){var t={};return Object.keys(e.imports.touchDevelopPlugins).forEach(function(e){return t[e]="1"}),e.librariesAndThis().filter(function(e){return!!e.resolved}).forEach(function(e){Object.keys(e.resolved.imports.touchDevelopPlugins).forEach(function(e){return t[e]="1"})}),t},a.prototype.importClientScript=function(e,t,n,i){n&&null!=i&&(this.clientScripts[n]=i)},a.prototype.importNpm=function(e,t,n,i){if(n&&null!=i){var r=this.npmModules;if(r.hasOwnProperty(n)){if("error"==r[n])return;var o=a.combineNpmVersions(r[n],i);"error"==o&&e.markError(t,ze.lf("TD180: npm module '{0}' versions '{1}' and '{2}' conflict",n,r[n],i)),r[n]=o}else r[n]=i}},a.prototype.importBower=function(e,t,n,i){if(n&&null!=i){var r=this.bowerModules;if(r.hasOwnProperty(n)){if("error"==r[n])return;var o=a.combineNpmVersions(r[n],i);"error"==o&&e.markError(t,ze.lf("TD197: bower module '{0}' versions '{1}' and '{2}' conflict",n,r[n],i)),r[n]=o}else r[n]=i}},a.combinePipVersions=function(e,t){return e===t?e:void 0===e||t&&"*"===e?t:void 0===t||e&&"*"===t?e:"error"},a.combineNpmVersions=function(e,t){return e===t?e:void 0===e||t&&"*"===e?t:void 0===t||e&&"*"===t?e:"error"},a}();h.AppImports=V;var K=function(t){function e(e){t.call(this),this.parentDef=e}return __extends(e,t),e}(e);h.AppHeaderStmt=K;var J=function(t){function i(e){t.call(this),this.things=[],this.editorState={},this.parentIds=[],this.rootId=h.uniqueAstId(24),this.languageFeatures=G.Current,this.usedIds={},this.syntheticIds={},this.imports=new V,this.notifyVersionMarker=new Object,this.libNamespaceCache=new h.LibNamespaceCache(this),this.blockExternalLinks=void 0,this.entireShim=!1,this.annotatedBy=0,this.comment="",this.localGuid=ze.Util.guidGen(),this.isTopLevel=!1,this.stillParsing=!0,this._platform=268435456,this.meta={},this.setStableName("app"),this.thisLibRef=h.LibraryRef.topScriptLibrary(this),this.setName("no name"),this.version=i.currentVersion,this.headerStmt=new K(this),this.nameHolder.maxLength=52,this.nameHolder.defaultTemplate=ze.lf("ADJ script")}return __extends(i,t),i.prototype.nodeType=function(){return"app"},i.prototype.getDescription=function(){return this.comment},i.prototype.clearRecompiler=function(){this.recompiler=null,this.recompiledScript=null},i.prototype.htmlColor=function(){return ze.Cloud.isRestricted()?"#0095ff":this.color?"#"+this.color.replace("#","").slice(-6):ze.ScriptIcons.stableColorFromName(this.getName())},i.prototype.iconName=function(){return"emptycircle"},i.prototype.iconPath=function(){return"svg:"+this.iconName()+",white"},i.prototype.hasLibraries=function(){return 0<this.libraries().length},i.prototype.hasTests=function(){return this.allActions().some(function(e){return e.isTest()})},i.prototype.isTestOnly=function(){return!this.mainAction()&&this.hasTests()},i.prototype.isDocsTopic=function(){return this.comment&&/#docs/i.test(this.comment)},i.prototype.isTutorial=function(){return this.isDocsTopic()&&this.allActions().some(function(e){return/^#\d/.test(e.getName())})},i.prototype.accept=function(e){return e.visitApp(this)},i.prototype.children=function(){return this.things},i.prototype.usesCloud=function(){return this.records().some(function(e){return e.cloudEnabled})||this.variables().some(function(e){return e.cloudEnabled})},i.prototype.usesCloudLibs=function(){return this.librariesAndThis().some(function(e){return e.isCloud()})},i.prototype.usesCppCompiler=function(){return this.librariesAndThis().some(function(e){return e.resolved&&e.resolved.useCppCompiler})},i.prototype.notifyChange=function(){this.notifyVersionMarker=new Object,t.prototype.notifyChange.call(this)},i.prototype.getGlobalErrorDecl=function(t){return this.things.filter(function(e){return e.hasErrors()&&!(e instanceof z)&&(!t||!(e instanceof h.LibraryRef))})[0]},i.prototype.getDefinedKinds=function(){var n=[];return this.things.map(function(e){var t=e.getDefinedKind();t&&n.push(t)}),n},i.prototype.getKinds=function(){var t=h.api.getKinds().concat(this.getDefinedKinds());return this.libraries().forEach(function(e){t.pushRange(e.getPublicKinds())}),t},i.capabilityName=function(t){return i.platforms.filter(function(e){return!!(e.cap&t)}).map(function(e){return e.name}).join(", ")},i.capabilityString=function(t){return i.platforms.filter(function(e){return!!(e.cap&t)}).map(function(e){return e.id}).join(",")},i.orderThings=function(e,n){void 0===n&&(n=!1);var d=function(e){if(e instanceof z){var t=e;return n?1:t.isPage()?3:t.isEvent()?2:t.isMainAction()?.5:t.isPrivate?1.5:1}return e instanceof q?e.isResource?5:4:e instanceof h.RecordDef?6:e instanceof h.LibraryRef?7:0};e.sort(function(e,t){var n=d(e)-d(t);if(0==n){for(var i=e.getName(),r=t.getName(),o=0;o<i.length&&i.charAt(o)==r.charAt(o);++o);if(/^[0-9]$/.test(i.charAt(o))&&/^[0-9]$/.test(r.charAt(o))){for(var a=!1,s="",c=o-1;0<c&&/^[0-9\.]$/.test(s=i.charAt(c));){if("."==s){if(a)break;a=!0}c--}c++;var l=/^(\d*(\.\d+)?)/.exec(i.slice(c)),u=/^(\d*(\.\d+)?)/.exec(r.slice(c));return parseFloat(l[1])-parseFloat(u[1])}return e.getName()<t.getName()?-1:e==t?0:1}return n})},i.prototype.orderedThings=function(e){void 0===e&&(e=!1);var t=this.things.slice(0);return i.orderThings(t,e),t},i.prototype.canUseProperty=function(e){return(this.getPlatform()&e.getCapability())==e.getCapability()},i.prototype.canUseCapability=function(e){return(this.getPlatform()&e)==e},i.prototype.supportsAllPlatforms=function(e){return(this.getPlatform()&e)==this.getPlatform()},i.prototype.getPlatform=function(){return 268435456&this._platform?h.api.core.currentPlatform:this._platform},i.prototype.getPlatformRaw=function(){return this._platform},i.prototype.setPlatform=function(e){this._platform=e},i.prototype.setPlatformString=function(e){e||(this._platform=0);var t=i.fromCapabilityList(e.split(/,/));4194303==t&&(t=268435456),t&&(this._platform=t)},i.capabilityByName=function(e){return i._platformMapping||(i._platformMapping={},i.platforms.forEach(function(e){return i._platformMapping[e.id]=e.cap})),e=e.toLowerCase(),i._platformMapping.hasOwnProperty(e)?i._platformMapping[e]:0},i.fromCapabilityList=function(e){var t=0;return e.forEach(function(e){t|=i.capabilityByName(e)}),t},i.prototype.getCapabilityString=function(){return i.capabilityString(this._platform)},i.prototype.getIconArtId=function(){return this.iconArtId},i.prototype.getBoxInfo=function(){return ze.lf("script properties")},i.prototype.setVersion=function(e){var t=0;e.split(/,/).forEach(function(e){switch(e){case"js":t|=1;break;case"ctx":t|=2;break;case"refs":t|=4;break;case"localcloud":t|=8;break;case"unicodemodel":t|=16;break;case"allasync":t|=32;break;case"upperplex":t|=64}}),this.languageFeatures=t},i.prototype.addFeatures=function(e){this.languageFeatures|=e},i.prototype.featureMissing=function(e){return 0==(this.languageFeatures&e)},i.prototype.setMeta=function(e,t){switch(!0===t&&(t="yes"),e){case"icon":this.icon=t;break;case"name":this.setName(t);break;case"color":this.color=t;break;case"seed":this.seed=t;break;case"version":this.setVersion(t);break;case"platform":this.setPlatformString(t);break;case"parentIds":this.parentIds=t.split(/,\s*/).filter(function(e){return!!e});break;case"editorState":if(t)try{this.editorState=JSON.parse(t)}catch(e){ze.Util.check(!1,"editor state corrupted")}break;case"rootId":this.rootId=t;break;case"iconArtId":this.iconArtId=t;break;case"splashArtId":this.splashArtId=t;break;default:0<=i.metaMapping.indexOf(e)&&(this[e]="yes"==t),this.meta[e]=t}},i.prototype.mainAction=function(){var e=this.allActions().filter(function(e){return e.isRunnable()});if(this.isTutorial()){var t=e.filter(function(e){return"#0 main"==e.getName()})[0];if(t)return t}var n=e.filter(function(e){return!e.isPage()}),i=e.filter(function(e){return"main"==e.getName()});return 0==i.length&&(i=n),0==i.length&&(i=e),0<i.length?i[0]:null},i.prototype.findActionByName=function(e){for(var t=0;t<this.things.length;t++){var n=this.things[t];if(n instanceof z&&n.getName()==e)return n}return null},i.prototype.allActions=function(){return this.things.filter(function(e){return e instanceof z})},i.prototype.actions=function(){return this.things.filter(function(e){return e instanceof z&&!e.isEvent()&&!e.isActionTypeDef()})},i.prototype.events=function(){return this.things.filter(function(e){return e instanceof z&&e.isEvent()})},i.prototype.actionTypeDefs=function(){return this.things.filter(function(e){return e instanceof z&&e.isActionTypeDef()})},i.prototype.libraries=function(){return this.things.filter(function(e){return e instanceof h.LibraryRef})},i.prototype.librariesAndThis=function(){return[this.thisLibRef].concat(this.libraries())},i.prototype.variables=function(){return this.things.filter(function(e){return e instanceof q&&!e.isResource})},i.prototype.resources=function(){return this.things.filter(function(e){return e instanceof q&&!!e.isResource})},i.prototype.variablesAndResources=function(){return this.things.filter(function(e){return e instanceof q})},i.prototype.records=function(){return this.things.filter(function(e){return e instanceof h.RecordDef})},i.prototype.parsingFinished=function(){this.stillParsing=!1},i.prototype.setStableNames=function(){},i.prototype.findStableName=function(t){return t?t==this.getStableName()?this:this.things.filter(function(e){return e.getStableName()==t})[0]:null},i.prototype.toMeta=function(){var t=this,n={type:"app",version:i.currentVersion,name:this.getName(),icon:this.iconName(),color:this.htmlColor(),comment:h.TokenWriter.normalizeComment(this.comment),seed:this.seed,localGuid:this.localGuid,platform:this.getCapabilityString(),rootId:this.rootId,parentIds:this.parentIds.join(",")};return this.iconArtId&&(n.iconArtId=this.iconArtId),this.splashArtId&&(n.splashArtId=this.splashArtId),i.metaMapping.forEach(function(e){n[e]=t[e]?"yes":"no"}),n},i.prototype.toJsonScript=function(){return{kind:"script",time:0,id:"",userid:"me",username:ze.lf("Me"),name:this.getName(),description:this.comment,icon:this.icon,iconbackground:this.color,iconArtId:this.iconArtId,splashArtId:this.splashArtId,positivereviews:0,cumulativepositivereviews:0,comments:0,capabilities:[],flows:[],haserrors:this.hasErrors(),rootid:"",updateid:"",ishidden:!0,islibrary:this.isLibrary,useCppCompiler:this.useCppCompiler,installations:0,runs:0}},i.prototype.loadMeta=function(t){var n=this;Object.keys(t).forEach(function(e){n.setMeta(e,t[e])}),this.comment=t.comment||""},i.prototype.serializeFinal=function(){var e=h.TokenWriter.forStorage();return this.writeFinal(e),e.finalize()},i.prototype.serializeMeta=function(){var e=h.TokenWriter.forStorage();return this.writeMeta(e),e.finalize()},i.prototype.writeMeta=function(t){var n=this;t.meta("version",i.currentVersion),t.meta("name",this.getName()),t.metaOpt("icon",this.icon);var e=this.color;e&&(7==e.length&&"#"==e[0]&&(e="#ff"+e.slice(1)),e=e.toLowerCase(),t.metaOpt("color",e)),t.meta("rootId",this.rootId),t.metaOpt("iconArtId",this.iconArtId),t.metaOpt("splashArtId",this.splashArtId),i.metaMapping.forEach(function(e){t.metaOpt(e,n[e]?"yes":"")}),t.meta("platform",this.getCapabilityString()),t.meta("parentIds",this.parentIds.join(",")),this.comment&&t.comment(this.comment)},i.prototype.writeFinal=function(e){},i.prototype.writeTo=function(t){this.writeMeta(t),this.things.forEach(function(e){return e.writeTo(t)}),t.skipActionBodies||this.writeFinal(t)},i.prototype.notifyChangeAll=function(){this.notifyChange();for(var e=0;e<this.things.length;++e)this.things[e].notifyChange()},i.sanitizeScriptTextForCloud=function(e){var t="";return e&&(e=e.replace(/(\r?\n)+$/,"")).split(/\n/).forEach(function(e){/^meta (stableNames|editorState)/.test(e)||(t+=e+"\n")}),t},i.prototype.addToUsedIds=function(t){var i=this,r=this.usedIds,n=function(e){if(!e.getStableName()||/_/.test(e.getStableName())){var t="";if(i.stillParsing){if(20<(t=(t=ze.Util.toUTF8(e.getName().replace(/[ _]/g,""))).replace(/[^a-zA-Z0-9]/g,function(e){return e.charCodeAt(0).toString(16)})).length&&(t=t.slice(0,20)),/^[0-9]/.test(t)&&(t="x"+t),r.hasOwnProperty(t)){for(var n=1;r.hasOwnProperty(t+n);)n++;t+=n}}else t=h.uniqueAstId(16);i.syntheticIds[t]=!0,e.setStableName(t)}r[e.getStableName()]=e},o=function(e){return e&&(e==t||0<=i.things.indexOf(e))};t.getStableName()&&o(r[t.getStableName()])&&t.setStableName(null),n(t),t instanceof h.RecordDef&&t.getFields().forEach(function(e){if(e.getStableName()){var t=r[e.getStableName()];t&&(o(t)||t instanceof h.RecordField&&o(t.def())&&0<=t.def().getFields().indexOf(t))&&e.setStableName(null)}n(e)})},i.prototype.recomputeStableName=function(e){this.addToUsedIds(e)},i.prototype.resetStableName=function(e){e.setStableName(null),this.recomputeStableName(e)},i.prototype.addDecl=function(e){(e.parent=this).addToUsedIds(e),this.things.push(e)},i.prototype.deleteDecl=function(e){var t=this.things.indexOf(e);e.deleted=!0,0<=t&&this.things.splice(t,1)},i.prototype.hasDecl=function(e){return e==this||0<=this.things.indexOf(e)},i.prototype.namesMatch=function(e,t){return e.replace(/\s*\d+$/,"")==t.replace(/\s*\d+$/,"")},i.prototype.freshName=function(e){var n=this;return o.freshNameCore(e,function(t){return"this"==t||n.things.some(function(e){return e.getName()==t||e.getCoreName()==t})})},i.prototype.findAstNodeById=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=new ye(e);return n.dispatch(this),n.foundNode&&(t||n.foundNode instanceof r)?{node:n.foundNode,stmt:n.lastStmt,decl:n.lastDecl}:null},i.prototype.findStmtByStableName=function(e){var t=new ve(e);return t.dispatch(this),t.found},i.currentVersion="v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex",i.metaMapping=["showAd","isLibrary","isCloud","hasIds","splitScreen","useCppCompiler"],i.platforms=[{cap:268435456,id:"current",name:ze.lf("Current device (overrides the rest)")},{cap:1,id:"accelerometer",name:ze.lf("Accelerometer")},{cap:4,id:"camera",name:ze.lf("Camera")},{cap:33554432,id:"clouddata",name:ze.lf("Cloud Data")},{cap:8,id:"compass",name:ze.lf("Compass")},{cap:2048,id:"contacts",name:ze.lf("Contacts")},{cap:262144,id:"editoronly",name:ze.lf("Editor only")},{cap:16,id:"gyroscope",name:ze.lf("Gyroscope")},{cap:64,id:"location",name:ze.lf("Location")},{cap:128,id:"maps",name:ze.lf("Maps")},{cap:256,id:"media",name:ze.lf("Media libraries on device")},{cap:512,id:"microphone",name:ze.lf("Microphone")},{cap:1024,id:"motion",name:ze.lf("Motion")},{cap:524288,id:"musicandsounds",name:ze.lf("Music and Sounds")},{cap:1048576,id:"network",name:ze.lf("Network")},{cap:8388608,id:"proximity",name:ze.lf("NFC")},{cap:16384,id:"orientation",name:ze.lf("Orientation")},{cap:4096,id:"phone",name:ze.lf("Phone specific")},{cap:8192,id:"radio",name:ze.lf("Radio")},{cap:32768,id:"search",name:ze.lf("Search")},{cap:16777216,id:"speech",name:ze.lf("Speech")},{cap:65536,id:"translation",name:ze.lf("Translation")},{cap:4194304,id:"tiles",name:ze.lf("Tiles")},{cap:536870912,id:"npm",name:ze.lf("Node Package Manager")},{cap:1073741824,id:"cordova",name:ze.lf("Cordova Plugin Manager")},{cap:2147483648,id:"shell",name:ze.lf("Touch Develop Local Shell")}],i}(P);h.App=J;var W=function(e){function t(){e.call(this),this.debuggingData={},this.hint=""}return __extends(t,e),t.prototype.nodeType=function(){return"exprHolder"},t.prototype.hasValue=function(){return!0},t.prototype.isPlaceholder=function(){return 0==this.tokens.length||1==this.tokens.length&&this.tokens[0].isPlaceholder()},t.prototype.calcNode=function(){return this},t.prototype.accept=function(e){return e.visitExprHolder(this)},t.prototype.children=function(){return this.tokens},t.prototype.assignmentInfo=function(){return this.parsed?this.parsed.assignmentInfo():null},t.prototype.getError=function(){if(null!=this._error)return this._error;if(this.debuggingData.errorMessage)return this.debuggingData.errorMessage;for(var e=0;e<this.tokens.length;++e)if(null!=this.tokens[e]._error)return this.tokens[e]._error;return null},t.prototype.topCall=function(e){if(void 0===e&&(e=null),e||(e=this.parsed),!e)return null;var t=e.getCalledProperty();return t==h.api.core.AssignmentProp?this.topCall(e.args[1]):t==h.api.core.AsyncProp?this.topCall(e.args[1]):e instanceof ie?e:null},t.prototype.getLiteral=function(){if(1==this.tokens.length)return this.tokens[0].getLiteral()},t.prototype.clearError=function(){e.prototype.clearError.call(this),this.hint="",this.hasFix=!1},t.prototype.writeTo=function(t){if(this.isPlaceholder())t.op("...");else{var n=function(e){return e instanceof X&&/^[0-9\.]$/.test(e.data)},i=null;this.tokens.forEach(function(e){n(e)?(n(i)||t.sep(),t.op0(e.data)):t.node(e),i=e})}},t.prototype.forSearch=function(){var i="",r=!1;return this.tokens.forEach(function(e){var t=!1,n=e.forSearch();e instanceof X&&(t=/[0-9\.]/.test(n)),n&&(i+=r&&t?n:" "+n,r=t)}),i},t.heatmapColors=["#ffffff","#fff5f5","#fff3ef","#fff0e9","#ffeee3","#ffebdc","#ffe8d5","#ffe4ce","#ffe1c6","#ffddbe","#ffd9b6","#ffd5ad","#ffd1a3","#ffcc99","#ffc78f","#ffc184","#ffbb78","#ffb46b","#ffad5e","#ffa54f","#ff9d3f","#ff932c","#ff8912","#ff7e00","#ff7300","#ff6500","#ff5300","#ff3800"],t}(o);h.ExprHolder=W;var $=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getText=function(){return null},t.prototype.toString=function(){return this.getText()},t.prototype.hasValue=function(){return!0},t.prototype.forSearch=function(){return""},t.prototype.matches=function(e){return!1},t.prototype.getCall=function(){return null},t.prototype.getOperator=function(){return null},t.prototype.getFunArgs=function(){return null},t.prototype.getProperty=function(){return null},t.prototype.getCalledProperty=function(){return null},t.prototype.getLiteral=function(){return null},t.prototype.getStringLiteral=function(){return"string"==typeof this.getLiteral()?this.getLiteral():null},t.prototype.getNumberLiteral=function(){return"number"==typeof this.getLiteral()?this.getLiteral():null},t.prototype.getThing=function(){return null},t.prototype.getLocalDef=function(){var e=this.getThing();return e instanceof F?e:null},t.prototype.isDigit=function(){return!1},t.prototype.getForwardedDecl=function(){var e=this.getProperty();return e?e.forwardsTo():null},t.prototype.eq=function(e){return this.nodeType()==e.nodeType()&&this.getText()==e.getText()},t}(o),Y=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.flatten=function(e){return[this]},t.prototype.calledAction=function(){return null},t.prototype.anyCalledAction=function(){return this.calledAction()||this.calledExtensionAction()},t.prototype.calledExtensionAction=function(){return null},t.prototype.referencedRecordField=function(){return null},t.prototype.referencedRecord=function(){return null},t.prototype.referencedData=function(){return null},t.prototype.referencedLibrary=function(){return null},t.prototype.referencedLocal=function(){return null},t.prototype.getLiftedSetter=function(){return null},t.prototype.calledProp=function(){return null},t.prototype.assignmentInfo=function(){return null},t.prototype.isRefValue=function(){return!1},t.prototype.allowRefUse=function(){return!1},t.prototype.isEscapeDef=function(){return!1},t}(h.Token=$),Z=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.nodeType=function(){return"literal"},t.prototype.getText=function(){return this.data+""},t.prototype.accept=function(e){return e.visitLiteral(this)},t.prototype.getLiteral=function(){return this.data},t.prototype.writeTo=function(e){switch(typeof this.data){case"string":e.string(this.data);break;case"number":e.op(this.data.toString());break;case"boolean":e.id(this.data?"true":"false");break;default:ze.Util.oops("cannot writeTo "+this.data)}},t.prototype.forSearch=function(){switch(typeof this.data){case"string":return this.data.toLowerCase();case"number":return this.data.toString();case"boolean":return this.data?"true":"false";default:return ze.Util.oops("cannot writeTo "+this.data),""}},t}(h.Expr=Y),Q=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.accept=function(e){return e.visitDeclName(this)},t}(h.Literal=Z);h.DeclName=Q;var X=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getText=function(){return this.data},t.prototype.nodeType=function(){return"operator"},t.prototype.accept=function(e){return e.visitOperator(this)},t.prototype.getOperator=function(){return this.data},t.prototype.isDigit=function(){return/^[0-9.\-]$/.test(this.data)},t.prototype.writeTo=function(e){"("==this.data||")"==this.data?e.op0(this.data):","==this.data?e.op0(this.data).space():/^fun:/.test(this.data)?e.op("fun:"+this.getFunArgs().map(he).join(",")):e.op(this.data)},t.prototype.forSearch=function(){return this.data},t.prototype.getFunArgs=function(){if(/^fun:/.test(this.data))return this.funArgs?this.funArgs.map(function(e){return e.getName()}):this.data.slice(4).split(",").map(me)},t}($);h.Operator=X;var ee=function(e){function n(){e.call(this)}return __extends(n,e),n.prototype.nodeType=function(){return"propertyRef"},n.prototype.accept=function(e){return e.visitPropertyRef(this)},n.prototype.getText=function(){return this.prop?this.prop.getName():this.data},n.prototype.getProperty=function(){return this.prop},n.prototype.getOrMakeProp=function(){return this.prop?this.prop:new ze.UnresolvedProperty(h.api.core.Unknown,this.data)},n.mkProp=function(e){var t=new n;return t.prop=e,t},n.prototype.writeTo=function(e){var t=e.lastChar;/^[A-Za-z0-9_\)]$/.test(t)||e.space(),e.op0("→").id0(this.getText())},n.prototype.forSearch=function(){return this.getText().toLowerCase()},n.prototype.matches=function(e){return!!this.prop&&(this.prop.forwardsTo()==e||e instanceof h.RecordField&&e.asProperty()==this.prop)},n.prototype.getCall=function(){return this.call},n}($);h.PropertyRef=ee;var te=function(e){function t(){e.call(this),this.forceLocal=!1}return __extends(t,e),t.prototype.getText=function(){return this.def?this.def.getName():this.data},t.prototype.shortName=function(){return this.def&&this.def instanceof j?this.def.getKind().shortName():null},t.prototype.nodeType=function(){return"thingRef"},t.prototype.isPlaceholder=function(){return"$skip"==this.getText()||"..."==this.getText()},t.prototype.accept=function(e){return e.visitThingRef(this)},t.prototype.getThing=function(){return this.def},t.prototype.referencedLocal=function(){return this.def instanceof F?this.def:null},t.prototype.isEscapeDef=function(){return this.def instanceof B&&!!this.def.escapeDef},t.prototype.namespaceLibraryName=function(){return this.namespaceLibrary?this._namespaceLibraryName=this.namespaceLibrary.getName():this._namespaceLibraryName},t.prototype.writeTo=function(e){this.def instanceof F?e.sep().op0("$").id0(this.getText()):this.def instanceof B?e.id(""+this.def.getName()):this.namespaceLibraryName()?e.id(this.getText()).op0("[").id("lib").id(this.namespaceLibraryName()).op0("]"):this.def instanceof j&&this.def.firstLibraryRef?e.id(this.getText()).op0("[").id("lib").id(this.def.firstLibraryRef.getName()).op0("]"):e.id(this.getText())},t.prototype.forSearch=function(){return this.getText().toLowerCase()},t.prototype.matches=function(e){return this.def==e},t.placeholderPrefix="need ",t}(Y);h.ThingRef=te;var ne=function(){this.missingArguments=0,this.definedVars=[],this.targets=[],this.sources=[],this.isPagePush=!1};h.AssignmentInfo=ne;var ie=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.children=function(){return this.args},t.prototype.assignmentInfo=function(){return this._assignmentInfo},t.prototype.nodeType=function(){return"call"},t.prototype.getCalledProperty=function(){return this.prop()},t.prototype.getText=function(){for(var e=this.propRef.getText()+"(",t=0;t<this.args.length;++t)0<t&&(e+=", "),e+=this.args[t].getText();return e+=")"},t.prototype.referencedRecord=function(){var e=this.prop();return e instanceof h.RecordDef?e:null},t.prototype.referencedRecordField=function(){var e=this.prop();if(!e)return null;var t=e.forwardsToStmt();return t instanceof h.RecordField?t:null},t.prototype.referencedData=function(){return this.prop()&&2==this.prop().getCategory()?this.prop().forwardsTo():null},t.prototype.referencedLibrary=function(){var e=this.prop();return e instanceof h.LibraryRef?e:null},t.prototype.getCall=function(){return this},t.prototype.getLiftedSetter=function(){var e=this.prop();if(!e)return null;if(4096&e.getFlags())return null;if(1!=e.getParameters().length)return null;var t=e.getResult().getKind();if(t.equals(h.api.core.Nothing))return null;var n=e.parentKind.getProperty("set "+e.getName());if(n&&!(4096&n.getFlags())&&n.getResult().getKind().equals(h.api.core.Nothing)){var i=n.getParameters();if(2==i.length&&i[1].getKind().equals(t))return n}return null},t.prototype.isRefValue=function(){if(this.referencedData())return!0;var e=this.referencedRecordField();return!(!e||e.isKey)},t.prototype.allowAssignment=function(){return this.allowRefUse()||!!this.getLiftedSetter()},t.prototype.allowRefUse=function(){if(!this.isRefValue())return!1;var e=this.referencedData();return!e||!e.readonly},t.prototype.prop=function(){return this.propRef.prop},t.prototype.calledProp=function(){return this.prop()},t.prototype.flatten=function(t){return this.propRef.prop==t?this.args.collect(function(e){return e.flatten(t)}):[this]},t.prototype.accept=function(e){var t=this.prop();return t&&t.parentKind==h.api.core.Unknown?t==h.api.core.AssignmentProp?e.visitAssignment(this):t==h.api.core.ReturnProp?e.visitReturn(this):t==h.api.core.BreakProp?e.visitBreak(this):t==h.api.core.ContinueProp?e.visitContinue(this):t==h.api.core.ShowProp?e.visitShow(this):e.visitCall(this):e.visitCall(this)},t.prototype.calledAction=function(){return this.prop()&&1==this.prop().getCategory()?this.prop().forwardsTo():null},t.prototype.calledExtensionAction=function(){var e=this.prop();if(e instanceof O)return e.shortcutTo;var t=this.calledAction();return t&&t.isExtensionAction()?t.extensionForward():null},t.prototype.awaits=function(){return!this.runAsAsync&&this.prop()&&!!(4096&this.prop().getFlags())},t}(Y);function re(e,t){var n=new F;return n.setName(e),n._kind=t,n}function oe(e){var t=new Z;return t.data=e,t}function ae(e){var t=new X;return t.data=e,t}function se(e,t){if(void 0===t&&(t=!1),"true"==e||"false"==e)return oe("true"==e);var n=new te;return n.data=e,n.forceLocal=t,n}function ce(e){var t=e.getName();("this"==t||0<e.parentProperty.getInfixPriority()||t==e.getKind().getStemName())&&(t="");var n=new B;n.label=t,n._kind=e.getKind();var i=new te;return i.def=n,i.data=n.getName(),i}function le(e){var t=new ee;return t.data=e,t}function ue(e,t){void 0===t&&(t=null);var n=new S;return t&&n.setStableName(t.consumeLabel()),n.expr=e,n}function de(e){var t=new N;return t.condition=e,t}function pe(e,t){void 0===t&&(t=[]);var n=new ie;return n.propRef=e,n.args=t,n.isSynthetic=!0,n}function he(e){for(var t="",n=0;n<e.length;++n){var i=e.charAt(n);/[A-Za-z0-9]/.test(i)?t+=i:t+=" "==i?"_":"-"+(65536|i.charCodeAt(0)).toString(16).slice(-4)}return t}function me(e){for(var t="",n=0;n<e.length;++n){var i=e.charAt(n);"_"==i?t+=" ":"/"==i||"-"==i?(t+=String.fromCharCode(parseInt(e.slice(n+1,n+5),16)),n+=4):t+=i}return t}function fe(e){return e&&e!=h.api.core.Unknown&&!(e instanceof ze.MultiplexKind)}h.Call=ie,h.mkLocal=re,h.mkLit=oe,h.mkOp=ae,h.mkFunOp=function(e){return ae("fun:"+e.map(he).join(","))},h.mkThing=se,h.mkLocalRef=function(e){return se(e.getName(),!0)},h.mkPlaceholderByKind=function(e){return ce({getName:function(){return"this"},getKind:function(){return e}})},h.mkPlaceholder=ce,h.mkPropRef=le,h.mkSingletonDef=function(e,t){var n=new j;return n.setName(e),(n._kind=t).isPrivate&&(n._isBrowsable=!1),n},h.mkTok=function(e){switch(e.type){case"literal":return oe(e.data);case"operator":return ae(e.data);case"propertyRef":return le(e.data);case"thingRef":return se(e.data,e.forceLocal);default:ze.Util.die()}},h.mkParam=function(e,t){return re(e,t)},h.mkPlaceholderThingRef=function(){return se("$skip")},h.mkExprStmt=ue,h.exprToStmt=function(e){var t=new W;return t.tokens=[],t.locals=[],t.parsed=e,ue(t)},h.mkWhere=de,h.mkFakeCall=pe,h.mkCall=function(e,t){var n=new ie;return ze.Util.assert(0<t.length),((n.propRef=e).call=n).args=t,n},h.idUrlQuote=he,h.idUrlUnquote=me,h.isProperKind=fe;var ge=function(){function e(){}return e.prototype.visitAstNode=function(e){return null},e.prototype.visitToken=function(e){return this.visitAstNode(e)},e.prototype.visitOperator=function(e){return this.visitToken(e)},e.prototype.visitPropertyRef=function(e){return this.visitToken(e)},e.prototype.visitExpr=function(e){return this.visitToken(e)},e.prototype.visitLiteral=function(e){return this.visitExpr(e)},e.prototype.visitThingRef=function(e){return this.visitExpr(e)},e.prototype.visitCall=function(e){return this.visitExpr(e)},e.prototype.visitShow=function(e){return this.visitCall(e)},e.prototype.visitBreak=function(e){return this.visitCall(e)},e.prototype.visitContinue=function(e){return this.visitCall(e)},e.prototype.visitReturn=function(e){return this.visitCall(e)},e.prototype.visitAssignment=function(e){return this.visitCall(e)},e.prototype.visitExprHolder=function(e){return this.visitAstNode(e)},e.prototype.visitStmt=function(e){return this.visitAstNode(e)},e.prototype.visitComment=function(e){return this.visitStmt(e)},e.prototype.visitBlock=function(e){return this.visitStmt(e)},e.prototype.visitCodeBlock=function(e){return this.visitBlock(e)},e.prototype.visitConditionBlock=function(e){return this.visitBlock(e)},e.prototype.visitParameterBlock=function(e){return this.visitBlock(e)},e.prototype.visitResolveBlock=function(e){return this.visitBlock(e)},e.prototype.visitBindingBlock=function(e){return this.visitBlock(e)},e.prototype.visitFieldBlock=function(e){return this.visitBlock(e)},e.prototype.visitInlineActionBlock=function(e){return this.visitBlock(e)},e.prototype.visitFor=function(e){return this.visitStmt(e)},e.prototype.visitForeach=function(e){return this.visitStmt(e)},e.prototype.visitWhile=function(e){return this.visitStmt(e)},e.prototype.visitBox=function(e){return this.visitStmt(e)},e.prototype.visitAnyIf=function(e){return this.visitStmt(e)},e.prototype.visitIf=function(e){return this.visitAnyIf(e)},e.prototype.visitElseIf=function(e){return this.visitAnyIf(e)},e.prototype.visitForeachClause=function(e){return this.visitStmt(e)},e.prototype.visitWhere=function(e){return this.visitForeachClause(e)},e.prototype.visitExprStmt=function(e){return this.visitStmt(e)},e.prototype.visitInlineActions=function(e){return this.visitStmt(e)},e.prototype.visitInlineAction=function(e){return this.visitStmt(e)},e.prototype.visitOptionalParameter=function(e){return this.visitStmt(e)},e.prototype.visitActionParameter=function(e){return this.visitStmt(e)},e.prototype.visitActionHeader=function(e){return this.visitStmt(e)},e.prototype.visitDecl=function(e){return this.visitStmt(e)},e.prototype.visitGlobalDef=function(e){return this.visitDecl(e)},e.prototype.visitLibraryRef=function(e){return this.visitDecl(e)},e.prototype.visitRecordDef=function(e){return this.visitDecl(e)},e.prototype.visitSingletonDef=function(e){return this.visitDecl(e)},e.prototype.visitAction=function(e){return this.visitDecl(e)},e.prototype.visitLocalDef=function(e){return this.visitDecl(e)},e.prototype.visitApp=function(e){return this.visitDecl(e)},e.prototype.visitKindBinding=function(e){return this.visitStmt(e)},e.prototype.visitActionBinding=function(e){return this.visitStmt(e)},e.prototype.visitResolveClause=function(e){return this.visitStmt(e)},e.prototype.visitRecordField=function(e){return this.visitStmt(e)},e.prototype.visitFieldName=function(e){return this.visitLiteral(e)},e.prototype.visitDeclName=function(e){return this.visitLiteral(e)},e.prototype.visitInlineStmt=function(e){return this.visitStmt(e)},e.prototype.dispatch=function(e){return e.accept(this)},e.prototype.visitChildren=function(e){var t=this;e.children().forEach(function(e){return e.accept(t)})},e}();h.NodeVisitor=ge;var ve=function(t){function e(e){t.call(this),this.name=e}return __extends(e,t),e.prototype.visitStmt=function(e){e.getStableName()==this.name&&(this.found=e),this.visitChildren(e)},e}(h.NodeVisitor),ye=function(t){function e(e){t.call(this),this.id=e}return __extends(e,t),e.prototype.check=function(e){e.stableId==this.id&&(this.foundNode=e)},e.prototype.visitDecl=function(e){return this.check(e),this.foundNode||(this.lastDecl=e,this.visitChildren(e)),null},e.prototype.visitExprHolder=function(e){e.parsed&&this.dispatch(e.parsed),this.visitAstNode(e)},e.prototype.visitAstNode=function(e){this.check(e),this.visitChildren(e)},e.prototype.visitStmt=function(e){return this.foundNode||(this.lastStmt=e,this.check(e),this.visitChildren(e)),null},e}(h.NodeVisitor),be=function(e){function t(){e.call(this),this.stmtCount=0,this.weight=0}return __extends(t,e),t.prototype.visitAction=function(e){return this.action=e,this.visitChildren(e),e.isPage()?this.weight=2:e.isEvent()?this.weight=1:e.isPrivate?this.weight=0:e.isMainAction()?this.weight=4:this.weight=3,null},t.prototype.visitBlock=function(e){return this.visitChildren(e),null},t.prototype.visitStmt=function(e){return e.isPlaceholder()||this.stmtCount++,this.visitChildren(e),null},t}(ge);h.StatsComputer=be;var _e=function(){function e(){this.expr=null,this.beg=0,this.len=0,this.prioOverride=0}return e.prototype.prio=function(){return 0!=this.prioOverride?this.prioOverride:this.infixProperty?this.infixProperty.getInfixPriority():0},e.prototype.markError=function(e){var t=this.beg;(t<0||t>=this.tokens.length)&&(t=this.tokens.length-1);var n=t+this.len;for((n<=t||n>this.tokens.length)&&(n=this.tokens.length);t<n;)this.tokens[t].setError(e),t++},e.prototype.copyFrom=function(e){this.tokens=e.tokens,this.beg=e.beg,this.len=e.len},e}();h.StackOp=_e;var we=function(u){function e(){u.apply(this,arguments),this.saveWrites=!1,this.getGlobals=!1}return __extends(e,u),e.prototype.add=function(e,t,n){t instanceof F&&n.indexOf(t)<0&&(this.saveWrites&&e&&(t._lastWriteLocation=e),n.push(t))},e.prototype.getLocal=function(e){if(e instanceof te){var t=e.def;if(t instanceof F)return t}return null},e.realName=function(e){return"$"+e.getStableName()},e.prototype.writtenGlobalNames=function(){return this.writtenGlobals.map(e.realName)},e.prototype.readGlobalNames=function(){return this.readGlobals.map(e.realName)},e.prototype.addGlobal=function(e,t){t.indexOf(e)<0&&t.push(e)},e.prototype.getGlobal=function(e){if(e instanceof ie){var t=e.prop();if(t instanceof q||t instanceof h.RecordDef)return t}return null},e.prototype.visitAstNode=function(e){return this.visitChildren(e),null},e.prototype.visitStmt=function(e){return this.lastStmt=e,this.visitChildren(e),null},e.prototype.visitAction=function(e){this.visitedActions&&this.visitedActions.indexOf(e)<0&&(this.visitedActions.push(e),u.prototype.visitAction.call(this,e))},e.prototype.visitThingRef=function(e){return this.add(null,e.def,this.readLocals0),null},e.prototype.visitCall=function(e){var i=this,t=e.prop();if(t==h.api.core.AssignmentProp)e.args[0].flatten(h.api.core.TupleProp).forEach(function(e){var t=i.getLocal(e);if(t)i.add(null,t,i.writtenLocals0);else if(i.getGlobals){var n=i.getGlobal(e);n?i.addGlobal(n,i.writtenGlobals):i.dispatch(e)}else i.dispatch(e)}),this.dispatch(e.args[1]);else if(this.getGlobals){var n=e.calledAction();if(n&&this.visitedActions&&this.visitedActions.indexOf(n)<0){var r=this.readLocals0,o=this.writtenLocals0,a=this.readLocals,s=this.writtenLocals,c=this.readGlobals,l=this.writtenGlobals;this.traverse(n,!0,this.visitedActions),c.forEach(function(e){return i.addGlobal(e,i.readGlobals)}),l.forEach(function(e){return i.addGlobal(e,i.writtenGlobals)}),this.readLocals0=r,this.writtenLocals0=o,this.readLocals=a,this.writtenLocals=s}t instanceof q?(this.addGlobal(t,this.readGlobals),this.addGlobal(t,this.writtenGlobals)):t instanceof h.RecordDef?(this.addGlobal(t,this.readGlobals),this.addGlobal(t,this.writtenGlobals)):u.prototype.visitCall.call(this,e)}else u.prototype.visitCall.call(this,e);return null},e.prototype.visitInlineAction=function(t){var n=this;t.inParameters.forEach(function(e){return n.add(t,e,n.writtenLocals)}),u.prototype.visitInlineAction.call(this,t)},e.prototype.visitExprHolder=function(e){var n=this,t=this.lastStmt;return this.readLocals0=[],this.writtenLocals0=[],e.parsed&&this.dispatch(e.parsed),e.tokens.forEach(function(e){var t=n.getLocal(e);t&&n.readLocals0.indexOf(t)<0&&n.writtenLocals0.indexOf(t)<0&&n.add(null,t,n.readLocals0)}),this.readLocals0.forEach(function(e){return n.add(null,e,n.readLocals)}),this.writtenLocals0.forEach(function(e){return n.add(t,e,n.writtenLocals)}),null},e.prototype.visitFor=function(e){return this.add(e,e.boundLocal,this.writtenLocals),u.prototype.visitFor.call(this,e),null},e.prototype.visitForeach=function(e){return this.add(e,e.boundLocal,this.writtenLocals),u.prototype.visitForeach.call(this,e),null},e.prototype.traverse=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]),this.readLocals=[],this.writtenLocals=[],(this.getGlobals=t)&&(this.readGlobals=[],this.writtenGlobals=[],this.visitedActions=n),this.dispatch(e)},e}(ge),ke=function(r){function e(e,t,n,i){r.call(this),this.extracted=e,this.action=t,this.callPlaceholder=n,this.name=i,this.numAwait=0,this.failed=[]}return __extends(e,r),e.prototype.visitCall=function(e){r.prototype.visitCall.call(this,e),e.awaits()&&this.numAwait++},e.prototype.run=function(){var i=this;if(h.visitStmtsCtx({inLoop:!1,inHandler:!1},this.extracted,function(e,t){if(t.calcNode()&&t.calcNode().parsed){var n=t.calcNode().parsed.calledProp();e.inLoop||n!=h.api.core.BreakProp&&n!=h.api.core.ContinueProp||i.failed.push(t),e.inHandler||n!=h.api.core.ReturnProp||i.failed.push(t)}return e=ze.Util.jsonClone(e),t instanceof y&&(e.inLoop=!0),t instanceof L&&(e.inHandler=!0,e.inLoop=!0),e}),!(0<this.failed.length)){this.saveWrites=!0,this.traverse(this.extracted);var e=0<this.numAwait,t=this.readLocals,n=this.writtenLocals;this.saveWrites=!1,this.traverse(this.action.body),this.action.getInParameters().forEach(function(e){return i.add(null,e.local,i.writtenLocals)}),this.action.modelParameter&&this.add(null,this.action.modelParameter.local,this.writtenLocals),this.action.getOutParameters().forEach(function(e){return i.add(null,e.local,i.readLocals)});var r=n.filter(function(e){return 0<=i.readLocals.indexOf(e)}),o=t.filter(function(e){return 0<=i.writtenLocals.indexOf(e)}),a=1==r.length;if(1<r.length)this.failed=r.map(function(e){return e._lastWriteLocation});else{var s=function(e){return se(e.getName())},c={},l=this.extracted.stmts.slice(0),u=h.Parser.parseDecl("action go() { meta private; }");u.setName(this.name),u.body=this.extracted,u.isAtomic=!e,u.header.inParameters.pushRange(o.map(function(e){return new D(e)})),r.forEach(function(e){if(a||0<=o.indexOf(e)){var t=re(i.action.nameLocal(e.getName(),c),e.getKind());c[t.getName()]=!0;var n=h.Parser.emptyExprStmt();n.expr.tokens=a?[h.mkOp("return"),s(e)]:[s(t),ae(":="),s(e)],l.push(n),e=t}u.header.outParameters.push(new D(e,!0))}),this.extracted.setChildren(l);var d=h.Parser.parseDecl(u.serialize());this.extractedAction=d;var p=this.callPlaceholder.expr.tokens;0<r.length&&(r.forEach(function(e,t){0<t&&p.push(ae(",")),p.push(s(e))}),p.push(ae(":="))),p.push(se("code")),p.push(le(this.name)),0<o.length&&(p.push(ae("(")),o.forEach(function(e,t){0<t&&p.push(ae(",")),p.push(s(e))}),p.push(ae(")")))}}},e}(h.VariableFinder=we);h.Extractor=ke;var xe=function(n){function e(){n.apply(this,arguments)}return __extends(e,n),e.prototype.visitAstNode=function(e){return this.visitChildren(e),null},e.prototype.visitCall=function(e){var t=e.calledAction();t&&this.called.indexOf(t)<0&&(this.called.push(t),this.traverse(t,this.called)),n.prototype.visitCall.call(this,e)},e.prototype.visitExprHolder=function(e){e.parsed&&this.dispatch(e.parsed)},e.prototype.traverse=function(e,t){void 0===t&&(t=[]),this.called=t,this.dispatch(e)},e}(ge);h.MethodFinder=xe;var Ce=function(e){function t(){e.call(this)}return __extends(t,e),t.compact=function(e){return e.setMeta("stableNames",null),e.accept(new t),e},t.prototype.visitDecl=function(e){return this.visitChildren(e),null},t.prototype.visitAction=function(e){return this.visitChildren(e),null},t.prototype.visitBlock=function(e){e.stmts=e.stmts.filter(function(e){return"comment"!=e.nodeType()&&!e.isPlaceholder()}),this.visitChildren(e)},t.prototype.visitStmt=function(e){return this.visitChildren(e),null},t}(ze.AST.NodeVisitor);h.ScriptCompacter=Ce;var Se=function(i){function n(){i.apply(this,arguments),this.includeUnreachable=!1,this.localActions=[],this.libActions=[]}return __extends(n,i),n.prototype.useBuiltinProperty=function(e){},n.prototype.useKind=function(e){},n.prototype.useAction=function(e){e&&(e.visitorState||(e.visitorState=!0,e instanceof h.LibraryRefAction?this.libActions.push(e):this.localActions.push(e)))},n.clearVisitorState=function(e){e.libraries().forEach(function(e){var t=e.getPublicActions();t&&t.forEach(function(e){return e.visitorState=null}),e.resolved&&e.resolved.things.forEach(function(e){return e.visitorState=null})}),e.things.forEach(function(e){return e.visitorState=null})},n.prototype.visitAstNode=function(e){i.prototype.visitChildren.call(this,e)},n.prototype.visitGlobalDef=function(e){this.useKind(e.getKind())},n.prototype.visitRecordField=function(e){this.useKind(e.dataKind)},n.prototype.runOnDecl=function(e){e.visitorState||(e instanceof z?this.useAction(e):(e.visitorState=!0,this.dispatch(e)))},n.prototype.visitRecordDef=function(e){this.useKind(e.entryKind),i.prototype.visitChildren.call(this,e)},n.prototype.visitDeclOrProp=function(e,t){var n=null;e&&(n=e.calledExtensionAction()),n||(n=t.forwardsTo()),this.useKind(t.parentKind),n?this.runOnDecl(n):this.useBuiltinProperty(t)},n.prototype.visitOperator=function(e){var n=this,t=e.call;t&&t._assignmentInfo&&t._assignmentInfo.targets&&t._assignmentInfo.targets.forEach(function(e){var t=e.getLiftedSetter();t&&n.visitDeclOrProp(pe(ee.mkProp(t),[]),t)}),i.prototype.visitOperator.call(this,e)},n.prototype.visitPropertyRef=function(e){var t=e.prop;t&&this.visitDeclOrProp(e.getCall(),t)},n.prototype.visitActionParameter=function(e){this.useKind(e.getKind()),i.prototype.visitChildren.call(this,e)},n.prototype.visitAction=function(e){i.prototype.visitChildren.call(this,e)},n.prototype.traverseActions=function(){for(;0<this.localActions.length;){var e=this.localActions.pop();this.dispatch(e)}},n.prototype.findActionMapping=function(e){var i=this;e.libraries().forEach(function(t){if(t.resolved){var e=i.libActions.filter(function(e){return e.parentLibrary()==t});if(0!=e.length){var n={};e.forEach(function(e){return n[e.getName()]=!0}),t.resolved.allActions().forEach(function(e){n.hasOwnProperty(e.getName())&&i.useAction(e)})}}})},n.prototype.secondaryRun=function(e){},n.prototype.run=function(e){var t=this;n.clearVisitorState(e),e.libraries().forEach(function(e){e.resolveClauses.forEach(function(e){e.actionBindings.forEach(function(e){e instanceof h.ActionBinding&&t.useAction(e.actual)})})}),this.includeUnreachable?e.things.forEach(function(e){return t.runOnDecl(e)}):e.allActions().forEach(function(e){(e.isEvent()||!e.isPrivate||e.isTest())&&t.useAction(e)}),this.secondaryRun(e),this.traverseActions(),this.includeUnreachable?e.libraries().forEach(function(e){e.resolved&&e.resolved.things.forEach(function(e){return t.runOnDecl(e)})}):this.findActionMapping(e),this.traverseActions()},n}(ze.AST.NodeVisitor),Ae=function(t){function e(){t.apply(this,arguments),this.propsByName={},this.featuresByName={},this.errors="",this.platform=0,this.requiredPlatform=ze.PlatformCapability.All,this.compatMode=!0}return __extends(e,t),e.prototype.useBuiltinProperty=function(e){var t=e.parentKind.toString()+"->"+e.getName();if(!this.propsByName[t]){this.propsByName[t]=e;var n=this.compatMode?e.getExplicitCapability():e.getCapability();"Invalid"==e.parentKind.toString()&&(n=0),this.useFeature(n,t)}},e.prototype.useKind=function(e){this.compatMode||this.useFeature(e.generalCapabilities,"type "+e.getName())},e.prototype.usePlatform=function(e,t){this.platform|=e,(e&this.requiredPlatform)!=e&&(this.errors+=t+" is not supported on this platform.\n")},e.prototype.useFeature=function(e,t){this.featuresByName[t]||(this.featuresByName[t]=!0,this.usePlatform(e,t))},e.prototype.visitAction=function(e){t.prototype.visitAction.call(this,e),e.isEvent()&&this.useFeature(e.eventInfo.type.platform,e.getName())},e.prototype.visitRecordDef=function(e){e.cloudEnabled&&this.useFeature(33554432,"cloud records")},e.prototype.visitApp=function(e){t.prototype.visitApp.call(this,e)},e}(h.DeepVisitor=Se);h.PlatformDetector=Ae;var Te=function(t){function e(e){t.call(this),this.decl=e,this.found=!1}return __extends(e,t),e.prototype.visitAstNode=function(e){this.found||this.visitChildren(e)},e.prototype.visitToken=function(e){this.found=this.found||e.matches(this.decl)},e}(ge);h.DeclRefFinder=Te;var Le=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visitAstNode=function(e){this.visitChildren(e)},t.prototype.visitExprHolder=function(e){e.parsed&&this.dispatch(e.parsed)},t}(ge),Me=function(n){function e(){n.apply(this,arguments),this.called=[]}return __extends(e,n),e.prototype.visitCall=function(e){var t=e.calledAction();t&&this.called.indexOf(t)<0&&this.called.push(t),n.prototype.visitCall.call(this,e)},e}(h.ExprVisitor=Le);h.ShallowMethodFinder=Me;var Ee=function(t){function e(e){t.call(this),this.f=e}return __extends(e,t),e.prototype.visitStmt=function(e){var t=this.t;this.t=this.f(t,e),this.visitChildren(e),this.t=t},e}(ge);function Ne(e,n){new Ee(function(e,t){return n(t),e}).dispatch(e)}h.visitStmts=Ne,h.visitStmtsCtx=function(e,t,n){var i=new Ee(n);i.t=e,i.dispatch(t)},h.visitExprHolders=function(e,t){Ne(e,function(e){e.calcNode()&&t(e,e.calcNode())})};var De=function(t){function e(e){t.call(this),this.f=e}return __extends(e,t),e.prototype.visitAstNode=function(e){this.f(e),this.visitChildren(e)},e.prototype.visitExprHolder=function(e){this.f(e),e.parsed&&this.dispatch(e.parsed),this.visitChildren(e)},e}(ge);h.visitNodes=function(e,t){new De(t).dispatch(e)},h.loadScriptAsync=function(i,r){void 0===r&&(r="");var c={numErrors:0,status:"",parseErrs:[],errLibs:[],prevScript:ze.Script,numLibErrors:0},l=function(e){c.numErrors++,c.status+="    "+e+"\n"};return i(r).then(function(e){if(!e)throw new Error("cannot get script text: "+r);var t=h.Parser.parseScript(e,c.parseErrs),n={};return t.libraries().forEach(function(e){var t=e.getId();t&&(n[t]=i(t).then(function(e){if(!e)throw new Error("empty script text: "+t);return e}).then(function(e){return e},function(e){return l("cannot fetch library: "+t+"; "+e.toString()),""}))}),ze.Promise.join(n).then(function(o){c.prevScript=ze.Script,ze.setGlobalScript(t),ze.Script.isTopLevel=!0;var e=ze.Script.getPlatformRaw();268435456&e&&ze.Script.setPlatform(ze.PlatformCapability.All),ze.Script.localGuid=ze.Util.guidGen(),0<c.parseErrs.length&&l("Parse errors");var a={},s=!1;return ze.Script.libraries().forEach(function(e){var t=e.getId();if(!t)return e.setError("TD131: unbound library"),l("Library '"+e.getName()+"' is unbound"),void c.numLibErrors++;if("sixvorgj"==t&&(s=!0),!a[t]&&o[t]){var n=[],i=h.Parser.parseScript(o[t],n);i.isTopLevel=!0,0<n.length&&l("Parse errors in library "+t),e.guid&&(i.localGuid=e.guid),i.setPlatform(ze.PlatformCapability.All);var r=h.TypeChecker.tcScript(i,!0);i.things.forEach(function(e){e.isExternal=!0}),0<r&&(l("Library "+t+" has errors"),c.numLibErrors++,c.errLibs.push(i)),a[t]=i}a[t]?e.resolved=a[t]:(e.setError("TD132: cannot bind library"),c.numLibErrors++,l("Library "+t+" not provided"))}),h.TypeChecker.tcScript(ze.Script,!1,!1),ze.Script.setStableNames(),ze.Script.things.forEach(function(e){e.hasErrors()&&l("Declaration '"+e.getName()+"' has errors")}),ze.Script.setPlatform(e),c.numErrors&&s&&c.numLibErrors++,c})})};var Ie=function(n){function e(){n.apply(this,arguments),this.surplusErrors=0,this.mismatches=0,this.missingErrors=0,this.matches=0}return __extends(e,n),e.prototype.resetError=function(){this.lastErrorNode&&this.surplusErrors++,this.lastErrorNode=null},e.prototype.expectError=function(e,t){if(this.lastErrorNode){var n=this.lastErrorNode.getError();new RegExp(t).test(n)?(this.lastErrorNode.errorIsOk=!0,this.matches++):(this.mismatches++,e.setError("TD133: the error message doesn't match")),this.lastErrorNode=null}else this.missingErrors++,e.setError("TD134: no error to match")},e.prototype.visitComment=function(e){e.errorIsOk=!1;var t=/^E: (.*)/.exec(e.text);t?this.expectError(e,t[1]):n.prototype.visitComment.call(this,e)},e.prototype.visitBlock=function(e){e.errorIsOk=!1,this.visitChildren(e)},e.prototype.visitStmt=function(e){e.errorIsOk=!1,(e.parent instanceof u||e.getError())&&this.resetError(),e.getError()&&(this.lastErrorNode=e),this.visitChildren(e)},e.prototype.visitDecl=function(e){this.resetError(),e.getError()&&(this.lastErrorNode=e),this.visitChildren(e),this.resetError()},e}(ge);h.runErrorChecker=function(e){var t=new Ie;return t.dispatch(e),t.surplusErrors+t.mismatches+t.missingErrors==0};var Pe=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype.visitStmt=function(e){this.firstError||(e.getError()?this.firstError=e:this.visitChildren(e))},n.prototype.visitDecl=function(e){this.visitChildren(e)},n.run=function(e){var t=new n;return t.dispatch(e),t.firstError},n}(ge);h.FindErrorVisitor=Pe;var Re=function(t){function e(){t.apply(this,arguments),this.props={},this.singletonOrder={},this.singletonNo=0}return __extends(e,t),e.prototype.visitAstNode=function(e){this.visitChildren(e)},e.prototype.visitAction=function(e){var t=this;e._skipIntelliProfile||(e.isAtomic&&this.incr("scriptPropertiesPropertyAtomic"),e.getInParameters().forEach(function(e){t.incr(e.getKind().getName())}),e.getOutParameters().forEach(function(e){t.incr(e.getKind().getName())}),this.visitChildren(e))},e.prototype.incrKind=function(e){e&&e!=h.api.core.Unknown&&this.incr(e.getName())},e.prototype.incr=function(e){e&&(this.props.hasOwnProperty(e)||(this.props[e]=0),this.props[e]++)},e.prototype.visitExprHolder=function(e){e.parsed&&this.dispatch(e.parsed)},e.prototype.visitExpr=function(e){this.incrKind(e.getKind()),t.prototype.visitExpr.call(this,e)},e.prototype.visitCall=function(e){e.prop()&&this.incr(e.prop().usageKey()),this.visitChildren(e)},e.prototype.visitThingRef=function(e){if(e.def&&this.incr(e.def.usageKey()),e.def instanceof j){var t=e.def.getName();this.singletonOrder.hasOwnProperty(t)||(this.singletonOrder[t]=++this.singletonNo)}},e.prototype.visitGlobalDef=function(e){this.incr("addNewButton"),this.incrKind(e.getKind()),e.isResource?(this.incr("artSection"),e.getKind()!=h.api.core.Picture&&e.getKind()!=h.api.core.Sound||(this.incr("calcSearchArt"),this.incr("searchArtRefactoring"))):(this.incr("dataSection"),this.incr("promoteRefactoring")),t.prototype.visitGlobalDef.call(this,e)},e.prototype.visitRecordDef=function(e){switch(this.incr("addNewButton"),this.incrKind(e.getKind()),e.recordType){case 4:this.incr("decoratorsSection");break;case 1:this.incr("objectsSection");break;case 3:case 2:this.incr("persistanceRadio"),this.incr("databaseSection")}t.prototype.visitRecordDef.call(this,e)},e.prototype.visitComment=function(e){var n=this;e.text.replace(/#allow:(\w+)/,function(e,t){return n.incr(t),""}),e.text.replace(/\{widgets:([\w,]*)\}/,function(e,t){return n.incr("tutorialWidgets"),t.split(",").forEach(function(e){return n.incr(e)}),""}),e.text.replace(/\{flags:([\w,]*)\}/,function(e,t){return n.incr("tutorialFlags"),t.split(",").forEach(function(e){return n.incr("flag:"+e)}),""}),e.text.replace(/\{topic:([\w-\/@]*)\}/,function(e,t){return n.topicPath=t,""})},e.prototype.visitExprStmt=function(e){e.isVarDef()&&this.incr("var"),t.prototype.visitExprStmt.call(this,e)},e.prototype.visitStmt=function(e){e instanceof J||this.incr(e.nodeType()),t.prototype.visitStmt.call(this,e)},e}(ge);h.IntelliCollector=Re;var qe=function(){function r(){this.allowAllLibraries=!0,this.singletonOrder={}}return r.prototype.merge=function(t){var n=this;this.allowAllLibraries=this.allowAllLibraries&&t.allowAllLibraries,t.properties&&(this.properties?Object.keys(t.properties).forEach(function(e){n.properties[e]?n.properties[e]+=t.properties[e]:n.properties[e]=t.properties[e]}):this.properties=ze.Util.clone(t.properties)),Object.keys(t.singletonOrder).forEach(function(e){n.singletonOrder[e]=t.singletonOrder[e]})},r.prototype.hasKey=function(e){return!e||(!this.properties||!!this.properties[e.toLowerCase()])},r.prototype.hasTokenUsage=function(e){if(!e)return!0;var t=e.getUsage?e.getUsage():null;return t&&0<t.localCount+t.globalCount},r.prototype.hasProperty=function(e,t){return void 0===t&&(t=!1),!this.properties||(!t&&this.hasTokenUsage(e)||this.hasKey(e.usageKey())||this.allowAllLibraries&&(e instanceof h.LibraryRefAction||e instanceof ze.MultiplexProperty&&e.forKind instanceof h.LibraryRefAbstractKind)||e instanceof h.RecordCtorProperty&&!e.from_json)},r.prototype.hasFlag=function(e){return!!this.properties&&this.hasKey("flag:"+e)},r.prototype.hasKind=function(e){return!this.properties||(this.hasTokenUsage(e)||this.hasKey(e.getName()))},r.prototype.hasDecl=function(e){return!this.properties||(e instanceof F||(e.getName()==h.libSymbol?this.hasKey("libSingleton"):this.hasTokenUsage(e)||this.hasKey(e.usageKey())))},r.prototype.incr=function(e){this.properties&&(e=e.toLowerCase(),this.properties.hasOwnProperty(e)?this.properties[e]++:this.properties[e]=1)},r.prototype.getSingletonOrder=function(e){return this.singletonOrder.hasOwnProperty(e)?this.singletonOrder[e]:0},r.prototype.loadFrom=function(e,t){var n=this,i=new Re;i.props=t?ze.Util.clone(r.helpfulProperties):{},i.dispatch(e),this.properties={},Object.keys(i.props).forEach(function(e){n.properties[e.toLowerCase()]=i.props[e]}),this.singletonOrder=i.singletonOrder},r.helpfulProperties={ColorsBlack:1,ColorsBlue:1,ColorsCyan:1,ColorsGreen:1,ColorsMagenta:1,ColorsOrange:1,ColorsPurple:1,ColorsRed:1,ColorsWhite:1,ColorsYellow:1,ColorsPink:1},r}();h.IntelliProfile=qe;var je=function(n){function r(){n.apply(this,arguments),this.calls={},this.nonAtomic=new ze.Set}return __extends(r,n),r.prototype.visitCall=function(e){var t=e.calledAction()||e.calledExtensionAction();t&&!t.isInLibrary()?t.isPage()?this.numNonAtomic++:this.currentCalls.add(t):4096&e.prop().getFlags()&&this.numNonAtomic++,n.prototype.visitCall.call(this,e)},r.prototype.visitInlineAction=function(e){},r.prototype.visitAction=function(e){(e.isPage()||e.isEvent())&&this.nonAtomic.add(e),e.isActionTypeDef()||e.isAtomic||(this.currentAction=e,this.currentCalls=new ze.Set,this.calls[e.getName()]=this.currentCalls,this.numNonAtomic=0,n.prototype.visitAction.call(this,e),0<this.numNonAtomic&&this.nonAtomic.add(e))},r.run=function(e){var t=new r;t.dispatch(e);for(var n=t.nonAtomic;;){var i=n.length();if(e.actions().forEach(function(e){!n.contains(e)&&t.calls.hasOwnProperty(e.getName())&&t.calls[e.getName()].elts().some(function(e){return n.contains(e)})&&n.add(e)}),i==n.length())break}return e.actions().filter(function(e){return!n.contains(e)})},r}(Le);h.AtomicVisitor=je;var Be=function(t){function n(e){t.call(this),this.refresh=e,this.expectAllSet=!1,this.usedIds={}}return __extends(n,t),n.prototype.expectSet=function(e){if(this.expectAllSet=!0,this.unsetNodes=[],this.usedIds={},this.dispatch(e),0<this.unsetNodes.length){var t=ze.Util.toDictionary(this.unsetNodes,function(e){return e.nodeType()});ze.Util.oops("id not set on "+Object.keys(t).join(", "))}},n.prototype.visitAstNode=function(e){},n.prototype.visitToken=function(e){},n.prototype.visitOperator=function(e){},n.prototype.visitPropertyRef=function(e){},n.prototype.visitExpr=function(e){},n.prototype.visitLiteral=function(e){},n.prototype.visitThingRef=function(e){},n.prototype.visitCall=function(e){},n.prototype.visitExprHolder=function(e){var n=this.lastStmt,t=e.assignmentInfo();t&&t.definedVars.forEach(function(e,t){return e.setStableName(n.getStableName()+"$l"+t)})},n.prototype.visitStmt=function(e){if(!this.expectAllSet||e.getStableName()||e.isPlaceholder()||this.unsetNodes.push(e),e.initStableName(this.refresh),!this.refresh){var t=this.usedIds,n=e.getStableName();t.hasOwnProperty(n)&&t[n]!=e?e.initStableName(!0):t[n]=e}},n.prototype.visitBlock=function(e){this.visitStmt(e),this.visitChildren(e)},n.prototype.visitChStmt=function(e){this.visitStmt(e),this.deriveIdChildren(e)},n.prototype.withBoundLocal=function(e,t){this.visitChStmt(e),t&&t.setStableName(e.getStableName()+"$l0")},n.prototype.visitFor=function(e){this.withBoundLocal(e,e.boundLocal)},n.prototype.visitForeach=function(e){this.withBoundLocal(e,e.boundLocal)},n.prototype.visitWhile=function(e){this.visitChStmt(e)},n.prototype.visitBox=function(e){this.visitChStmt(e)},n.prototype.visitAnyIf=function(e){this.visitChStmt(e)},n.prototype.visitInlineActions=function(e){this.visitChStmt(e)},n.prototype.visitActionHeader=function(e){this.visitChStmt(e)},n.prototype.visitExprStmt=function(e){this.visitChStmt(e)},n.prototype.visitActionParameter=function(e){this.withBoundLocal(e,e.local)},n.prototype.visitInlineAction=function(n){this.withBoundLocal(n,n.name),n.inParameters.forEach(function(e,t){return e.setStableName(n.getStableName()+"$inlIn"+t)}),n.outParameters.forEach(function(e,t){return e.setStableName(n.getStableName()+"$inlOut"+t)})},n.prototype.visitGlobalDef=function(e){this.visitChStmt(e)},n.prototype.visitRecordDef=function(e){this.visitChStmt(e)},n.prototype.visitAction=function(e){this.visitChStmt(e)},n.prototype.visitLibraryRef=function(e){this.visitChStmt(e)},n.prototype.visitLocalDef=function(e){},n.prototype.visitApp=function(e){this.visitDecl(e),this.visitChildren(e)},n.prototype.visitKindBinding=function(e){e.isExplicit&&this.visitStmt(e)},n.prototype.visitActionBinding=function(e){e.isExplicit&&this.visitStmt(e)},n.prototype.visitResolveClause=function(e){this.visitChStmt(e)},n.prototype.visitRecordField=function(e){this.visitChStmt(e)},n.prototype.visitChildren=function(e){var t=this;e.children().forEach(function(e){e&&e.accept(t)})},n.prototype.deriveIdChildren=function(n){var i=this;(this.lastStmt=n).children().forEach(function(e,t){e&&(e instanceof r&&e.deriveStableName(n,t),e.accept(i))})},n.ensureOK=function(e){e.hasIds&&new n(!1).dispatch(e)},n}(ge);h.InitIdVisitor=Be,h.decompressStack=function(e){var n={},t=function(t,e){Ne(e,function(e){n[ze.StackUtil.combineIds(e.getStableName(),t)]={pc:e.getStableName(),d:{libName:t}}})};t("",ze.Script),ze.Script.libraries().forEach(function(e){e.resolved&&t(e.getStableName(),e.resolved)});for(var i=[],r=0;r<e.length;r+=8){var o=e.slice(r,r+8);n.hasOwnProperty(o)&&i.push(n[o])}return i},h.getEmbeddedLangaugeToken=function(e){if(!(e instanceof S))return null;var t=e.expr.tokens;return 5==t.length&&t[0].getThing()==h.api.core.App.singleton&&t[1].getProperty()&&/^thumb$/.test(t[1].getProperty().getName())&&"("==t[2].getOperator()&&null!=t[3].getStringLiteral()&&")"==t[4].getOperator()?t[3]:ze.Cloud.isRestricted()?null:7==t.length&&t[0].getThing()==h.api.core.App.singleton&&t[1].getProperty()&&/^javascript|javascript async$/.test(t[1].getProperty().getName())&&"("==t[2].getOperator()&&null!=t[3].getStringLiteral()&&","==t[4].getOperator()&&null!=t[5].getStringLiteral()&&")"==t[6].getOperator()?t[5]:null}}(ze.AST||(ze.AST={}))}(TDev||(TDev={})),function(w){!function(g){var r=function(e){function r(){e.call(this)}return __extends(r,e),r.enclosingStmt=function(e){return e.parentBlock()&&e.parentBlock().parent},r.asLoop=function(e){return e instanceof g.While||e instanceof g.For||e instanceof g.Foreach?e:null},r.prototype.nextInBlock=function(e){if(!e||!e.parentBlock())return[];var t=e.parentBlock().stmts,n=t.indexOf(e),i=r.enclosingStmt(e);for(++n;n<t.length&&(t[n].isPlaceholder()||"comment"===t[n].nodeType());)++n;return(n>=t.length?this.nextInBlock(i):[t[n]]).concat(this.visitLoop(r.asLoop(i)))},r.firstInCodeBlock=function(e){if(null==e)return null;for(var t=0,n=e.stmts;t<n.length&&(n[t].isPlaceholder()||"comment"===n[t].nodeType());)++t;return t>=n.length?null:n[t]},r.prototype.visitCodeBlock=function(e){var t=r.firstInCodeBlock(e);return t?[t]:[]},r.prototype.visitLoop=function(e){return null==e?[]:this.visitCodeBlock(e.body).concat(this.nextInBlock(e))},r.prototype.visitFor=function(e){return this.visitLoop(e)},r.prototype.visitForeach=function(e){return this.visitLoop(e)},r.prototype.visitWhile=function(e){return this.visitLoop(e)},r.prototype.visitExprStmt=function(e){return this.nextInBlock(e)},r.prototype.visitBox=function(e){return this.visitCodeBlock(e.body)},r.prototype.visitInlineActions=function(e){return this.visitExprStmt(e)},r.prototype.visitAnyIf=function(e){var t=this,n=e.parentIf.bodies().map(function(e){return t.visitCodeBlock(e)});return n.push(this.nextInBlock(e)),w.Util.concatArraysVA(n)},r.find=function(e){if(!e)return[];var t=(new r).dispatch(e);return t||[]},r}(g.NodeVisitor);g.NextFinder=r;var e=function(n){function i(){n.apply(this,arguments),this.called=[]}return __extends(i,n),i.prototype.visitAstNode=function(e){return this.visitChildren(e),null},i.prototype.visitCall=function(e){var t=e.calledAction();t&&this.called.indexOf(t)<0?this.called.push(t):n.prototype.visitCall.call(this,e)},i.prototype.visitExprHolder=function(e){e.parsed&&this.dispatch(e.parsed)},i.find=function(e){if(!e)return[];var t=new i;return t.dispatch(e),t.called.filter(function(e){return!!e.body}).map(function(e){var t=r.firstInCodeBlock(e.body);return t?[t]:[]}).reduce(function(e,t){return e.concat(t)},[])},i}(g.NodeVisitor);g.InnerNextFinder=e;!function(t){function n(){t.apply(this,arguments),this.res=!1}__extends(n,t),n.prototype.visitAstNode=function(e){e&&this.visitChildren(e)},n.prototype.visitExprHolder=function(e){e&&this.dispatch(e.parsed)},n.prototype.visitCall=function(e){e&&(t.prototype.visitCall.call(this,e),e.awaits()&&(this.res=!0))},n.isAwait=function(e){if(e){var t=new n;return t.dispatch(e),t.res}}}(g.NodeVisitor);var v=function(e){function a(){e.call(this)}return __extends(a,e),a.enclosingStmt=function(e){return e.parentBlock()&&e.parentBlock().parent},a.asLoop=function(e){return e instanceof g.While||e instanceof g.For||e instanceof g.Foreach?e:null},a.unpeelAndGetLast=function(e){var t=[];return e instanceof g.Comment?t=[e]:e instanceof g.For?t=t.concat(a.lastInCodeBlock(e.body)):e instanceof g.Foreach?t=t.concat(a.lastInCodeBlock(e.body)):e instanceof g.While?t=t.concat(a.lastInCodeBlock(e.body)):e instanceof g.If?(w.Util.assert(!e.isElseIf),t=t.concat(w.Util.concatArraysVA(e.bodies().map(a.lastInCodeBlock)))):e instanceof g.Box?t=t.concat(a.lastInCodeBlock(e.body)):e instanceof g.ExprStmt&&(t=[e]),0==t.length&&(t=[e]),t},a.prototype.findPreviousIf=function(e){w.Util.assert(!!e&&!!e.parentBlock());var t=e.parentBlock().stmts,n=t.indexOf(e);--n,w.Util.assert(0<=n);var i=t[n];return w.Util.assert(i instanceof g.If),[i]},a.prototype.previousInBlock=function(e){if(!e||!e.parentBlock())return[];var t=e.parentBlock().stmts,n=t.indexOf(e),i=a.enclosingStmt(e),r=[];if(--n<0){r=a.asLoop(i)||i instanceof g.If?r.concat(i):i instanceof g.InlineAction?[]:r.concat(this.previousInBlock(i))}else{var o=t[n];0==(r=o instanceof g.For||o instanceof g.While||o instanceof g.Foreach?r.concat([o]):o instanceof g.If&&o.isElseIf?r.concat(a.unpeelAndGetLast(o.parentIf)):r.concat(a.unpeelAndGetLast(o))).length&&(r=this.previousInBlock(o))}return r},a.lastInCodeBlock=function(e){if(null==e)return[];a.enclosingStmt(e);var t=e.stmts,n=t.length-1;if(n<0)return[];var i=t[n];return i instanceof g.For||i instanceof g.While||i instanceof g.Foreach?[i]:i instanceof g.If&&i.isElseIf?a.unpeelAndGetLast(i.parentIf):a.unpeelAndGetLast(i)},a.prototype.visitCodeBlock=function(e){return a.lastInCodeBlock(e)},a.prototype.visitLoop=function(e){return null==e?[]:this.previousInBlock(e).concat(a.unpeelAndGetLast(e))},a.prototype.visitFor=function(e){return this.visitLoop(e)},a.prototype.visitForeach=function(e){return this.visitLoop(e)},a.prototype.visitWhile=function(e){return this.visitLoop(e)},a.prototype.visitStmt=function(e){return this.previousInBlock(e)},a.prototype.visitIf=function(e){return w.Util.assert(!e.isElseIf),this.previousInBlock(e)},a.prototype.visitElseIf=function(e){return this.findPreviousIf(e)},a.find=function(e){return e?(new a).dispatch(e):[]},a}(g.NodeVisitor);g.PredecessorsFinder=v;var y=function(e){function a(){e.call(this)}return __extends(a,e),a.enclosingStmt=function(e){return e.parentBlock()&&e.parentBlock().parent},a.asLoop=function(e){return e instanceof g.While||e instanceof g.For||e instanceof g.Foreach?e:null},a.unpeelAndGetFirst=function(e){var t=[];return e instanceof g.Comment?t=t.concat(e):e instanceof g.For?t=t.concat(e):e instanceof g.Foreach?t=t.concat(e):e instanceof g.While?t=t.concat(e):e instanceof g.If?t=t.concat(e):e instanceof g.Box?t=t.concat(a.firstInCodeBlock(e.body)):e instanceof g.ExprStmt&&(t=t.concat(e)),0==t.length&&(t=[e]),t},a.prototype.findNextIf=function(e){w.Util.assert(!!e&&!!e.parentBlock());var t=e.parentBlock().stmts,n=t.indexOf(e);if(++n>=t.length)return[];var i=t[n];return i instanceof g.If&&i.isElseIf?[i]:[]},a.prototype.jumpToEndOfIfElse=function(e){w.Util.assert(!!e&&!!e.parentBlock());var t=e.parentBlock().stmts,n=t.indexOf(e),i=v.enclosingStmt(e);for(++n;t[n]&&t[n]instanceof g.If&&t[n].isElseIf;)++n;var r=[];if(n>=t.length){r=a.asLoop(i)?r.concat(i):i instanceof g.If?r.concat(this.jumpToEndOfIfElse(i)):i instanceof g.InlineAction?[]:r.concat(this.nextInBlock(i))}else{var o=t[n];0==(r=r.concat(a.unpeelAndGetFirst(o))).length&&(r=this.nextInBlock(o))}return r},a.prototype.nextInBlock=function(e){if(!e||!e.parentBlock())return[];var t=e.parentBlock().stmts,n=t.indexOf(e),i=v.enclosingStmt(e),r=[];if(++n>=t.length){r=a.asLoop(i)?r.concat(i):i instanceof g.If?r.concat(this.jumpToEndOfIfElse(i)):i instanceof g.InlineAction?[]:r.concat(this.nextInBlock(i))}else{var o=t[n];0==(r=r.concat(a.unpeelAndGetFirst(o))).length&&(r=this.nextInBlock(o))}return r},a.firstInCodeBlock=function(e){if(null==e)return[];var t=e.stmts;a.enclosingStmt(e);if(t.length<=0)return[];var n=t[0];return a.unpeelAndGetFirst(n)},a.prototype.visitCodeBlock=function(e){return a.firstInCodeBlock(e)},a.prototype.visitLoop=function(e){return null==e?[]:this.nextInBlock(e).concat(this.visitCodeBlock(e.body))},a.prototype.visitFor=function(e){return this.visitLoop(e)},a.prototype.visitForeach=function(e){return this.visitLoop(e)},a.prototype.visitWhile=function(e){return this.visitLoop(e)},a.prototype.visitStmt=function(e){return this.nextInBlock(e)},a.prototype.visitIf=function(e){var t=a.firstInCodeBlock(e.rawThenBody);return e.displayElse?t.concat(a.firstInCodeBlock(e.rawElseBody)):t.concat(this.findNextIf(e))},a.prototype.visitElseIf=function(e){return this.visitIf(e)},a.find=function(e){return e?(new a).dispatch(e):[]},a}(g.NodeVisitor);g.SuccessorsFinder=y;var o=function(e,t,n){this.id=e,this.key=t,this.refNode=n};g.SetElement=o;var n=function(){function e(e){void 0===e&&(e=0),this.curId=e,this.map={},this.pool=[]}return e.prototype.getElm=function(e,t){var n=this.map[["a_",e].join("")];if(null==n){n=this.curId++;var i=new o(n,e,t);this.pool.push(i),this.map[["a_",e].join("")]=n}return this.pool[n]},e.prototype.getElmById=function(e){return e>=this.pool.length?null:this.pool[e]},e.prototype.size=function(){return this.pool.length},e}(),l=function(){function t(e){void 0===e&&(e=!1),this.allSet=e,this._myset=[],e?this._myset.push(4294967295):this._myset.push(0),this.setSize=1,this.largestIndex=-1}return t.prototype.growSet=function(e){for(e-=32*this.setSize;0<=e;)this.allSet?this._myset.push(4294967295):this._myset.push(0),++this.setSize,e-=32},t.prototype.cloneSet=function(){for(var e=[],t=0;t<this.setSize;++t)e.push(this._myset[t]);return e},t.prototype.makeAllSet=function(){this._myset=[4294967295],this.setSize=1,this.allSet=!0,this.largestIndex=-1},t.prototype.add=function(e){e>=32*this.setSize&&this.growSet(e),e>this.largestIndex&&(this.largestIndex=e),this._myset[Math.floor(e/32)]|=1<<e%32},t.prototype.setLargestIndex=function(e){e>32*this.setSize&&this.growSet(e),this.largestIndex=e},t.prototype.remove=function(e){e>=32*this.setSize&&this.growSet(e),e>this.largestIndex&&(this.largestIndex=e),this._myset[Math.floor(e/32)]&=~(1<<e%32)},t.prototype.contains=function(e){return e>=32*this.setSize&&this.growSet(e),e>this.largestIndex&&(this.largestIndex=e),!!(this._myset[Math.floor(e/32)]&1<<e%32)},t.prototype.union=function(e){e.largestIndex>this.largestIndex?this.setLargestIndex(e.largestIndex):this.largestIndex>e.largestIndex&&e.setLargestIndex(this.largestIndex);for(var t=0;t<e.setSize;++t)this._myset[t]|=e._myset[t];e.allSet&&(this.allSet=!0)},t.prototype.intersection=function(e){e.largestIndex>this.largestIndex?this.setLargestIndex(e.largestIndex):this.largestIndex>e.largestIndex&&e.setLargestIndex(this.largestIndex);for(var t=0;t<e.setSize;++t)this._myset[t]&=e._myset[t];this.allSet&&!e.allSet&&(this.allSet=!1)},t.prototype.forEach=function(e){if(!(this.largestIndex<0))for(var t=0;t<=this.largestIndex/32;++t)for(var n=32*t,i=this._myset[t];0!=i&&n<=this.largestIndex;)1&i&&e(n),++n,i>>>=1},t.prototype.clone=function(){var e=new t(this.allSet);return e._myset=this.cloneSet(),e.setSize=this.setSize,e.largestIndex=this.largestIndex,e},t.prototype.equals=function(e){if(this.allSet&&!e.allSet||!this.allSet&&e.allSet)return!1;e.largestIndex>this.largestIndex?this.setLargestIndex(e.largestIndex):this.largestIndex>e.largestIndex&&e.setLargestIndex(this.largestIndex);for(var t=0;t<e.setSize;++t)if(this._myset[t]!=e._myset[t])return!1;return!0},t}();g.BitSet=l;var i=function(o){function e(e,t,n,i,r){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===r&&(r=!0),o.call(this),this.df=e,this.pool=t,this.backwards=n,this.intersection=i,this.useWorklist=r,this.worklist=[],this.Ins={},this.Outs={},this.starting=!1,this.changed=!1,this.visited={},this.genZeroMap={},this.genIncMap={}}return __extends(e,o),e.prototype.generateAssignZero=function(e){var t=this.genZeroMap[["d_",e.getName()].join("")];if(null!=t)return t;var n=g.mkThing(e.getName());n.def=e;var i=g.mkLit(0);return t=g.mkCall(g.PropertyRef.mkProp(g.api.core.AssignmentProp),[n,i]),this.genZeroMap[["d_",e.getName()].join("")]=t},e.prototype.generateInc=function(e){var t=this.genIncMap[["d_",e.getName()].join("")];if(null!=t)return t;var n=g.mkThing(e.getName());n.def=e;var i=g.mkLit(1),r=g.mkCall(g.PropertyRef.mkProp(g.api.core.Number.getProperty("+")),[n,i]);return t=g.mkCall(g.PropertyRef.mkProp(g.api.core.AssignmentProp),[n,r]),this.genIncMap[["d_",e.getName()].join("")]=t},e.prototype.visitAstNode=function(e){this.visitChildren(e)},e.prototype.visitExprHolderHolder=function(e){var n,i=this,t=this.backwards?g.SuccessorsFinder.find(e):g.PredecessorsFinder.find(e);if(this.starting)n=this.startNodeSet.clone(),this.starting=!1;else{var r=0;n=this.intersection?new l(!0):new l,t.forEach(function(e){var t=i.Outs[e.nodeId];null!=t&&(++r,i.intersection?n.intersection(t):n.union(t))}),0==r&&(n=this.startingSet.clone())}var o=(this.Ins[e.nodeId]=n).clone();if(e instanceof g.ExprStmt&&!e.isPlaceholder())this.df.kill(e.expr,o,!1),this.df.gen(e.expr,o,n,!1);else if(e.calcNode()){if(e instanceof g.For){var a=g.exprToStmt(this.generateAssignZero(e.boundLocal)),s=g.exprToStmt(this.generateInc(e.boundLocal));this.df.kill(a.expr,o,!0),this.df.kill(s.expr,o,!0),this.df.gen(s.expr,o,n,!0),this.df.gen(a.expr,o,n,!0)}this.df.kill(e.calcNode(),o,!1),this.df.gen(e.calcNode(),o,n,!1)}var c=this.Outs[e.nodeId];c&&c.equals(o)||(this.useWorklist?this.backwards?g.PredecessorsFinder.find(e).forEach(function(e){i.worklist.push(e),i.visited[e.nodeId]=!1}):g.SuccessorsFinder.find(e).forEach(function(e){i.worklist.push(e),i.visited[e.nodeId]=!1}):this.changed=!0,this.Outs[e.nodeId]=o),e instanceof g.ExprStmt?this.df.updateNode(e,e.expr):e.calcNode()&&this.df.updateNode(e,e.calcNode()),this.useWorklist||this.visitChildren(e)},e.prototype.visitComment=function(e){this.visitExprHolderHolder(e)},e.prototype.visitFor=function(e){this.visitExprHolderHolder(e)},e.prototype.visitIf=function(e){this.visitExprHolderHolder(e)},e.prototype.visitElseIf=function(e){this.visitExprHolderHolder(e)},e.prototype.visitForeach=function(e){this.visitExprHolderHolder(e)},e.prototype.visitWhile=function(e){this.visitExprHolderHolder(e)},e.prototype.visitExprStmt=function(e){this.visitExprHolderHolder(e)},e.prototype.topologicalSort=function(e){var i=this,r={},o={},a={},s={},c=0;e.body.forEach(function(e){for(var t=i.backwards?v.unpeelAndGetLast(e):y.unpeelAndGetFirst(e);0<t.length;){var n=t.shift();if(!o[n.nodeId])o[n.nodeId]=!0,++c,s[n.nodeId]=n,0<r[n.nodeId]||(a[n.nodeId]=!0),(i.backwards?g.PredecessorsFinder.find(n):g.SuccessorsFinder.find(n)).forEach(function(e){null==r[e.nodeId]?r[e.nodeId]=1:r[e.nodeId]++,a[e.nodeId]=!1,t.push(e)})}});var t=[];for(var n in a)if(a[n]){var l=s[n];w.Util.assert(void 0!==l),t.push(l)}for(;this.worklist.length<c;){if(0==t.length){var u=!1;for(var n in o){var d=s[n];if(void 0!==d&&0<r[n]){r[n]=0,t.push(d),u=!0;break}}w.Util.assert(u)}var p=t.shift();this.worklist.push(p);for(var h=this.backwards?g.PredecessorsFinder.find(p):g.SuccessorsFinder.find(p),m=0;m<h.length;++m){var f=h[m];0==--r[f.nodeId]?t.unshift(f):0<r[f.nodeId]&&m==h.length-1&&0==t.length&&(r[f.nodeId]=0,t.push(f))}}},e.prototype.dfTesting=function(e){for(var t,n=g.PredecessorsFinder.find(e),i=0;i<n.length;++i){var r=n[i];t=g.SuccessorsFinder.find(r);for(var o=!1,a=0;a<t.length;++a){t[a]===e&&(o=!0)}w.Util.assert(o)}t=g.SuccessorsFinder.find(e);for(i=0;i<t.length;++i){var s=t[i];n=g.PredecessorsFinder.find(s);for(o=!1,a=0;a<n.length;++a){n[a]===e&&(o=!0)}w.Util.assert(o)}},e.prototype.visitAction=function(e){var t=this;if(!(e instanceof g.LibraryRefAction||e.isPage()))if(this.useWorklist)for(this.worklist=[],this.topologicalSort(e),this.visited={},this.startNodeSet=new l,this.df.buildStartNodeSet(e,this.startNodeSet),this.startingSet=new l,this.df.buildStartingSet(e,this.startingSet),this.starting=!0;0<this.worklist.length;){var n=this.worklist.shift();this.visited[n.nodeId]||(this.visited[n.nodeId]=!0,n.accept(this))}else for(this.startNodeSet=new l,this.df.buildStartNodeSet(e,this.startNodeSet),this.startingSet=new l,this.df.buildStartingSet(e,this.startingSet),this.changed=!0,this.starting=!0;this.changed;)this.changed=!1,e.body.forEach(function(e){e.accept(t)})},e}(g.NodeVisitor),a=function(){function e(e,t){this.defs=e,this.node=t}return e.prototype.getLocal=function(e){if(e instanceof g.ThingRef){var t=e.def;if(t instanceof g.LocalDef)return t.getName()}return null},e.prototype.toString=function(){return"RD #"+this.node.nodeId+": {"+this.defs.join()+"}"},e.prototype.mayBeInvalid=function(i){var r=this,o=!1;return this.defs.forEach(function(e){var n=e;n.prop()==g.api.core.AssignmentProp&&n.args[0].flatten(g.api.core.TupleProp).forEach(function(e){var t=r.getLocal(e);t&&t==i.getName()&&1<n.args.length&&n.args.slice(1).forEach(function(e){e instanceof g.Call&&0<e.args.length&&e.args[0]instanceof g.ThingRef&&"invalid"==e.args[0].data&&(o=!0),e instanceof g.Call&&!(16384&e.prop().getFlags())&&(o=!0)})})}),o},e}();g.ReachingDefsMgr=a;var t=function(){function e(){}return e.prototype.getLocal=function(e){if(e instanceof g.ThingRef){var t=e.def;if(t instanceof g.LocalDef)return t}return null},e.prototype.getLocalName=function(e){var t=this.getLocal(e);return null!=t?t.getName():null},e.prototype.handleCopy=function(e,r){var o=this,a=!1;if(e.prop()==g.api.core.AssignmentProp&&2==e.args.length&&e.args[0]instanceof g.ThingRef&&e.args[1]instanceof g.ThingRef){var s=this.getLocal(e.args[0]);null!=(c=this.getLocal(e.args[1]))&&null!=s&&r.forEach(function(e){var i=o.pool.getElmById(e).refNode;i&&i.args[0].flatten(g.api.core.TupleProp).forEach(function(e){if(o.getLocalName(e)==c.getName()){var t=o.cloneAndChangeDst(i,s),n=o.pool.getElm(t.getText(),t);r.add(n.id),a=!0}})})}if(e.prop()==g.api.core.AssignmentProp&&2==e.args.length&&e.args[0]instanceof g.ThingRef&&e.args[1]instanceof g.Call){s=this.getLocal(e.args[0]);var c,t=e.args[1];if(null!=s&&null!=t&&2==t.args.length&&(t.prop()==g.api.core.AndProp||t.prop()==g.api.core.OrProp)&&t.args[1]instanceof g.ThingRef)null!=(c=this.getLocal(t.args[1]))&&null!=s&&r.forEach(function(e){var i=o.pool.getElmById(e).refNode;i&&i.args[0].flatten(g.api.core.TupleProp).forEach(function(e){if(o.getLocalName(e)==c.getName()){var t=o.cloneAndChangeDst(i,s),n=o.pool.getElm(t.getText(),t);r.add(n.id)}})})}return a},e.prototype.updateSet=function(e,r,n){var o=this;if(e.parsed&&e.parsed instanceof g.Call){var t=e.parsed,i=[];for(i.push(t);0<i.length;){var a=i.shift();if(a instanceof g.Call){var s=a;i=i.concat(s.children()),s.prop()==g.api.core.AssignmentProp&&t.args[0].flatten(g.api.core.TupleProp).forEach(function(e){var i=o.getLocalName(e);if(i)if(n){if(!o.handleCopy(s,r)){var t=o.pool.getElm(s.getText(),s);r.add(t.id)}}else r.forEach(function(e){var t=o.pool.getElmById(e).refNode,n=!1;t&&t.args[0].flatten(g.api.core.TupleProp).forEach(function(e){o.getLocalName(e)==i&&(n=!0)}),n&&r.remove(e)})})}}}},e.prototype.gen=function(e,t,n,i){void 0===i&&(i=!1),this.updateSet(e,t,!0)},e.prototype.kill=function(e,t,n){void 0===n&&(n=!1),this.updateSet(e,t,!1)},e.prototype.updateNode=function(e,t){var n=this;t.reachingDefs=null;var i=[];this.df.Ins[e.nodeId].forEach(function(e){i.push(n.pool.getElmById(e).refNode)}),0<i.length&&(t.reachingDefs=new a(i,e))},e.prototype.generateInvalidAssignmentFor=function(e){var t=g.mkThing(e.getName());t.def=e;var n=g.mkThing("invalid");return n.def=g.api.getKind("Invalid").singleton,g.mkCall(g.PropertyRef.mkProp(g.api.core.AssignmentProp),[t,g.mkCall(g.PropertyRef.mkProp(g.api.getKind("Invalid").getProperty("number")),[n])])},e.prototype.cloneAndChangeDst=function(e,t){var n=e.args.slice(0);return n[0]=g.mkThing(t.getName()),n[0].def=t,g.mkCall(e.propRef,n)},e.prototype.buildStartNodeSet=function(e,i){var r=this;e.allLocals.forEach(function(e){if(e instanceof g.LocalDef){var t=e.getName(),n=r.pool.getElm(t,r.generateInvalidAssignmentFor(e));i.add(n.id)}})},e.prototype.buildStartingSet=function(e,t){},e.prototype.visitApp=function(e){var t=this;e.things.forEach(function(e){e instanceof g.Action&&!e.isPage()&&(t.pool=new n,t.df=new i(t,t.pool,!1,!1,!0),t.df.dispatch(e))})},e}();g.ReachingDefinitions=t;var s=function(){function e(e,t){this.doms=e,this.node=t}return e.prototype.toString=function(){var e="DOMS("+this.node.nodeId+") : {";return(e+=this.doms.map(function(e){return e.nodeId.toString()}).join())+"}"},e}();g.DominatorsMgr=s;var c=function(){function e(){}return e.prototype.gen=function(e,t,n,i){if(void 0===i&&(i=!1),e.parsed){var r=this.pool.getElm(e.parsed.nodeId.toString(),e.parsed);t.add(r.id)}},e.prototype.kill=function(e,t,n){void 0===n&&(n=!1)},e.prototype.updateNode=function(e,t){var n=this;t.dominators=null;var i=[];this.df.Ins[e.nodeId].forEach(function(e){i.push(n.pool.getElmById(e).refNode)}),0<i.length&&(t.dominators=new s(i,e))},e.prototype.buildStartNodeSet=function(e,t){},e.prototype.buildStartingSet=function(e,t){t.makeAllSet()},e.prototype.visitApp=function(e){var t=this;e.things.forEach(function(e){e instanceof g.Action&&!e.isPage()&&(t.pool=new n,t.df=new i(t,t.pool,!1,!0,!0),t.df.dispatch(e))})},e}();g.Dominators=c;var u=function(){function r(e,t){this.used=e,this.node=t}return r.getLocal=function(e){if(e instanceof g.ThingRef){var t=e.def;if(t instanceof g.LocalDef)return t}return null},r.getLocalName=function(e){var t=this.getLocal(e);return null!=t?t.getName():null},r.prototype.alreadyUsed=function(n){var i=!1;return this.used.forEach(function(e){var t=r.getLocalName(e);t&&t==n.getName()&&(i=!0)}),i},r.prototype.toString=function(){var e="USED("+this.node.nodeId+") : {";return(e+=this.used.map(function(e){return r.getLocalName(e)}).join())+"}"},r}();g.UsedSetMgr=u;var d=function(){function e(){}return e.prototype.gen=function(e,n,t,i){var r=this;if(void 0===i&&(i=!1),e.parsed&&e.parsed instanceof g.Call){var o=e.parsed,a=[];for(a.push(o);0<a.length;){var s=a.shift();if(s instanceof g.Call){var c=s;a=a.concat(c.children()),c.prop()==g.api.core.AssignmentProp&&o.args[0].flatten(g.api.core.TupleProp).forEach(function(e){var t=u.getLocalName(e);t&&n.forEach(function(e){r.pool.getElmById(e).key==t&&n.remove(e)})})}}}},e.prototype.kill=function(e,t,n){if(void 0===n&&(n=!1),e.parsed){var i=[];for(i.push(e.parsed);0<i.length;){var r=i.shift(),o=r;if(r instanceof g.Call)o.prop()&&"is invalid"==o.prop().getName()||(i=o.prop()!=g.api.core.AssignmentProp?i.concat(o.children()):i.concat(o.args.slice(1)));else if(r instanceof g.ThingRef){var a=r.def;if(a instanceof g.LocalDef){var s=this.pool.getElm(a.getName(),r);t.add(s.id)}}}}},e.prototype.updateNode=function(e,t){var n=this;t.usedSet=null;var i=[];this.df.Ins[e.nodeId].forEach(function(e){i.push(n.pool.getElmById(e).refNode)}),0<i.length&&(t.usedSet=new u(i,e))},e.prototype.buildStartNodeSet=function(e,t){},e.prototype.buildStartingSet=function(e,t){t.makeAllSet()},e.prototype.visitApp=function(e){var t=this;e.things.forEach(function(e){e instanceof g.Action&&!e.isPage()&&(t.pool=new n,t.df=new i(t,t.pool,!1,!0,!0),t.df.dispatch(e))})},e}();g.UsedAnalysis=d;var p=function(){function e(e,t){this.aeSet=e,this.node=t}return e.prototype.hasOnlyIdempotentNodes=function(e){var t=[];for(t.push(e);0<t.length;){var n=e=t.shift();if(e instanceof g.Call){if(!(n.prop()!=g.api.core.AssignmentProp&&32768&n.prop().getFlags()))return!1;t=t.concat(n.children())}else if(!(e instanceof g.Literal||e instanceof g.ThingRef&&"localDef"==e.def.nodeType()))return!1}return!0},e.prototype.checkForIdenticalExpressions=function(t){var n=this,i=[];if(null!=t)return this.aeSet.forEach(function(e){e.toString()==t.toString()&&n.hasOnlyIdempotentNodes(t)&&i.push(e)}),i},e.prototype.toString=function(){var e="AE("+this.node.nodeId+") : {";return(e+=this.aeSet.join())+"}"},e}();g.AvailableExpressionsMgr=p;var h=function(){function e(){}return e.prototype.usesLocal=function(e,t){var n=[];for(n.push(e);0<n.length;){var i=e=n.shift();if(e instanceof g.Call)n=i.prop()!=g.api.core.AssignmentProp?n.concat(i.children()):n.concat(i.args.slice(1));else if(u.getLocalName(e)==t)return!0}return!1},e.prototype.gen=function(e,i,t,n){var r=this;if(void 0===n&&(n=!1),!n&&e.parsed&&e.parsed instanceof g.Call){var o=e.parsed,a=[];for(a.push(o);0<a.length;){var s=a.shift();if(s instanceof g.Call){var c=s;a=a.concat(c.children()),c.prop()==g.api.core.AssignmentProp&&o.args[0].flatten(g.api.core.TupleProp).forEach(function(e){var n=u.getLocalName(e);n&&i.forEach(function(e){var t=r.pool.getElmById(e);r.usesLocal(t.refNode,n)&&i.remove(e)})})}}}},e.prototype.kill=function(e,t,n){if(void 0===n&&(n=!1),!n&&e.parsed){var i=[];for(i.push(e.parsed);0<i.length;){var r=i.shift(),o=r;if(r instanceof g.Call)if(o.prop()!=g.api.core.AssignmentProp){var a=this.pool.getElm(o.toString(),o);t.add(a.id),i=i.concat(o.args.slice(1))}else i=i.concat(o.children())}}},e.prototype.updateNode=function(e,t){var n=this;t.aeSet=null;var i=[];this.df.Ins[e.nodeId].forEach(function(e){i.push(n.pool.getElmById(e).refNode)}),0<i.length&&(t.aeSet=new p(i,e))},e.prototype.buildStartNodeSet=function(e,t){},e.prototype.buildStartingSet=function(e,t){t.makeAllSet()},e.prototype.visitApp=function(e){var t=this;e.things.forEach(function(e){e instanceof g.Action&&!e.isPage()&&(t.pool=new n,t.df=new i(t,t.pool,!1,!0,!0),t.df.dispatch(e))})},e}();g.AvailableExpressions=h;var m=function(){function a(e,t){this.constantSet=e,this.node=t}return a.prototype.getLiteralValueFor=function(t){var n=null;return this.constantSet.forEach(function(e){e instanceof g.Call&&e.prop()==g.api.core.AssignmentProp&&2==e.args.length&&e.args[0]instanceof g.ThingRef&&e.args[0].def instanceof g.LocalDef&&e.args[0].def.getName()==t.getName()&&e.args[1]instanceof g.Literal&&null!=e.args[1].data&&(n=e.args[1].data)}),n},a.evaluate=function(e,t){if(0==e.prop().getCategory()){if("+"==e.prop().getSpecialApply())return t[0]+t[1];if("-"==e.prop().getSpecialApply())return t[0]-t[1];if("/"==e.prop().getSpecialApply())return t[0]/t[1];if("*"==e.prop().getSpecialApply())return t[0]*t[1];if("==="==e.prop().getSpecialApply())return t[0]===t[1]}return null},a.prototype.precomputeLiteralExpression=function(e){var r=this,o=function(e){var t=e;if(e instanceof g.Call){if(t.prop()!=g.api.core.AssignmentProp&&32768&t.prop().getFlags()){var n=t.children().map(function(e){return o(e)}),i=!1;if(n.forEach(function(e){null==e&&(i=!0)}),!i)return a.evaluate(t,n)}return null}return e instanceof g.Literal?e.data:e instanceof g.ThingRef&&"localDef"==e.def.nodeType()&&null!=r.getLiteralValueFor(e.def)?r.getLiteralValueFor(e.def):void 0};return o(e)},a.prototype.toString=function(){var e="CP("+this.node.nodeId+") : {";return(e+=this.constantSet.join())+"}"},a}();g.ConstantPropagationMgr=m;var f=function(){function e(){}return e.prototype.generateAssignmentFor=function(e,t){var n=g.mkThing(e.getName());n.def=e;var i=g.mkLit(t);return g.mkCall(g.PropertyRef.mkProp(g.api.core.AssignmentProp),[n,i])},e.prototype.cloneAndChangeDst=function(e,t){var n=e.args.slice(0);return n[0]=g.mkThing(t.getName()),n[0].def=t,g.mkCall(e.propRef,n)},e.prototype.getLocal=function(e){if(e instanceof g.ThingRef){var t=e.def;if(t instanceof g.LocalDef)return t}return null},e.prototype.getLocalName=function(e){var t=this.getLocal(e);return null!=t?t.getName():null},e.prototype.handleCopy=function(e,r){var o=this,a=!1;if(e.prop()==g.api.core.AssignmentProp&&2==e.args.length&&e.args[0]instanceof g.ThingRef&&e.args[1]instanceof g.ThingRef){var s=this.getLocal(e.args[0]),c=this.getLocal(e.args[1]);null!=c&&null!=s&&r.forEach(function(e){var i=o.pool.getElmById(e).refNode;i&&i.args[0].flatten(g.api.core.TupleProp).forEach(function(e){if(o.getLocalName(e)==c.getName()){var t=o.cloneAndChangeDst(i,s),n=o.pool.getElm(t.getText(),t);r.add(n.id),a=!0}})})}return a},e.prototype.updateSet=function(e,o,a){var s=this;if(e.parsed&&e.parsed instanceof g.Call){var c=e.parsed,t=[];for(t.push(c);0<t.length;){var n=t.shift();if(n instanceof g.Call){var l=n;t=t.concat(l.children()),l.prop()==g.api.core.AssignmentProp&&c.args[0].flatten(g.api.core.TupleProp).forEach(function(e){var i=s.getLocalName(e);if(i)if(a){if(!s.handleCopy(l,o)){var t=new m(s.generateCpSet(o),null).precomputeLiteralExpression(c.args[1]);if(null!=t){var n=s.generateAssignmentFor(s.getLocal(e),t),r=s.pool.getElm(n.getText(),n);o.add(r.id)}}}else o.forEach(function(e){var t=s.pool.getElmById(e).refNode,n=!1;t&&t.args[0].flatten(g.api.core.TupleProp).forEach(function(e){s.getLocalName(e)==i&&(n=!0)}),n&&o.remove(e)})})}}}},e.prototype.gen=function(e,t,n,i){void 0===i&&(i=!1),i||this.updateSet(e,t,!0)},e.prototype.kill=function(e,t,n){void 0===n&&(n=!1),n||this.updateSet(e,t,!1)},e.prototype.generateCpSet=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.pool.getElmById(e).refNode)}),n},e.prototype.updateNode=function(e,t){var n=this.generateCpSet(this.df.Ins[e.nodeId]);t.cpSet=new m(n,e)},e.prototype.buildStartNodeSet=function(e,t){},e.prototype.buildStartingSet=function(e,t){t.makeAllSet()},e.prototype.visitApp=function(e){var t=this;e.things.forEach(function(e){e instanceof g.Action&&!e.isPage()&&(t.pool=new n,t.df=new i(t,t.pool,!1,!0,!0),t.df.dispatch(e))})},e}();g.ConstantPropagation=f;var b=function(){function e(e,t,n,i){void 0===i&&(i=!1),this.action=e,this.succs=t,this.preds=n,this.canInline=i}return e.prototype.addSucc=function(e){for(var t=0;t<this.succs.length;++t)if(this.succs[t]==e)return;this.succs.push(e)},e.prototype.addPred=function(e){for(var t=0;t<this.preds.length;++t)if(this.preds[t]==e)return;this.preds.push(e)},e}();g.CallGraphNode=b;var _=function(e){function t(){e.call(this),this.hasChanged=!1,this.nodes=[],this.nodeMap={}}return __extends(t,e),t.prototype.visitAstNode=function(e){this.visitChildren(e)},t.prototype.visitExprHolder=function(e){e.parsed&&this.dispatch(e.parsed),this.visitChildren(e)},t.prototype.visitFor=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitForeach=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitWhile=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitBox=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitForeachClause=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitInlineActions=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitInlineAction=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitOptionalParameter=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitContinue=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitBreak=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitReturn=function(e){this.nowVisiting.canInline=!1,this.visitChildren(e)},t.prototype.visitCall=function(e){var t=e.calledAction(),n=e.prop();if(n&&3==n.getCategory())this.nowVisiting.canInline=!1;else if(n&&n.shouldPauseInterperter())this.nowVisiting.canInline=!1;else if(n&&"run"==n.getName()&&n.parentKind.isAction)this.nowVisiting.canInline=!1;else if(null!=t)if(t instanceof g.LibraryRefAction)this.nowVisiting.canInline=!1;else{var i=this.nodeMap[["a_",t.getName()].join("")];null==i&&(i=new b(t,[],[]),this.nodeMap[["a_",t.getName()].join("")]=i,this.nodes.push(i)),this.nowVisiting.addSucc(i),i.addPred(this.nowVisiting),this.visitChildren(e)}else this.visitChildren(e)},t.prototype.actionHasDesiredProperties=function(e){return e.isNormalAction()&&e.isPrivate&&!e.isLambda&&!e.isTest()&&e.isAtomic&&e.getOutParameters().length<=1},t.prototype.visitAction=function(e){if(!(e instanceof g.LibraryRefAction)){var t=this.nodeMap[["a_",e.getName()].join("")];null==t&&(t=new b(e,[],[]),this.nodeMap[["a_",e.getName()].join("")]=t,this.nodes.push(t)),this.nowVisiting=t,this.nowVisiting.canInline=!0,this.visitChildren(e),this.nowVisiting.canInline&&this.actionHasDesiredProperties(e)&&0==this.nowVisiting.succs.length&&(e.canBeInlined=!0)}},t.prototype.topologicalSort=function(){for(var n=this,i=[],r={},o={},e=0;e<this.nodes.length;++e)r[e]=!1,o[["a_",this.nodes[e].action.getName()].join("")]=e;var a=function(e){if(!r[e]){r[e]=!0;for(var t=0;t<n.nodes[e].preds.length;++t)a(o[["a_",n.nodes[e].preds[t].action.getName()].join("")]);i.unshift(n.nodes[e])}};for(e=0;e<this.nodes.length;++e)a(e);return i},t.prototype.nestedInlineAnalysis=function(){for(var e=this.topologicalSort(),t=0;t<e.length;++t)if(!e[t].action.canBeInlined){var n=this.actionHasDesiredProperties(e[t].action)&&e[t].canInline;if(n){for(var i=0;i<e[t].succs.length;++i)e[t].succs[i].action.canBeInlined||(n=!1);e[t].action.canBeInlined=n}}},t.prototype.dumpCallGraph=function(){for(var e=0;e<this.nodes.length;++e){this.nodes[e].action.canBeInlined?w.Util.log("Node "+e+": "+this.nodes[e].action.toString()+" [can be inlined]"):w.Util.log("Node "+e+": "+this.nodes[e].action.toString());for(var t=0;t<this.nodes[e].succs.length;++t)w.Util.log(" |-> calls "+this.nodes[e].succs[t].action.toString())}},t}(g.NodeVisitor);g.InlineAnalysis=_}(w.AST||(w.AST={}))}(TDev||(TDev={})),function(p){!function(w){var e=function(){function e(){this.ddManager=null,this.theApp=null,this.targetLibrary=null,this.declsSelectedToMove=[],this.otherDeclsToMove=[],this.remainingDecls=null,this.appRewritten=null,this.library=null,this.ddManager=new t}return e.prototype.getAllDeclsToMove=function(){return this.declsSelectedToMove.concat(this.otherDeclsToMove)},e.prototype.getRemainingDecls=function(){return this.remainingDecls},e.prototype.programChanged=function(){var t=this;if(this.ddManager.getAll().filter(function(e){return!(e.decl instanceof w.LibraryRef)}).length==this.theApp.things.length){var n=!0;return this.theApp.things.forEach(function(e){n=n&&0<=e.cachedSerialized.idx}),this.ddManager.getAll().forEach(function(e){n=n&&0<=t.theApp.things.indexOf(e.decl)}),n}return!1},e.prototype.invalidate=function(){var n=this;if(null!=this.targetLibrary&&this.programChanged()){this.ddManager.invalidate(),this.otherDeclsToMove=[],this.remainingDecls=null;var t=[];this.ddManager.getAll().forEach(function(e){n.theApp.things.indexOf(e.decl)<0&&t.push(e)}),t.forEach(function(e){n.ddManager.remove(e);var t=n.declsSelectedToMove.indexOf(e);0<=t&&n.declsSelectedToMove.splice(t)}),this.addToDeclsToMove(this.declsSelectedToMove)}},e.prototype.getAll=function(){return this.ddManager.getAll()},e.prototype.getter=function(e){return this.ddManager.getter(e)},e.prototype.setAppAndLib=function(e,t){return null==this.targetLibrary&&(this.theApp=e,this.targetLibrary=t,!0)},e.prototype.getApp=function(){return this.theApp},e.prototype.getLib=function(){return this.targetLibrary},e.prototype.addToDeclsToMove=function(e){var t=this,n=this.computeClosure(e);e.forEach(function(e){t.declsSelectedToMove.indexOf(e)<0&&t.declsSelectedToMove.push(e)}),n.forEach(function(e){t.declsSelectedToMove.indexOf(e)<0&&t.otherDeclsToMove.indexOf(e)<0&&t.otherDeclsToMove.push(e)}),this.computeRemaining()},e.prototype.computeClosure=function(e){return this.computeClosureRaw(e,this.getAllDeclsToMove())},e.prototype.computeRemaining=function(){var n=this;null==this.remainingDecls?(this.remainingDecls=[],this.theApp.things.forEach(function(e){if(!(e instanceof w.Action&&e.isEvent())){var t=n.ddManager.getter(e);n.getAllDeclsToMove().indexOf(t)<0&&n.remainingDecls.push(t)}})):this.remainingDecls=this.remainingDecls.filter(function(e){return n.getAllDeclsToMove().indexOf(e)<0})},e.prototype.computeClosureRaw=function(e,t){var n=this,i=[];return l.computeClosure(e,t,i),i.filter(function(e){return e.decl!=n.targetLibrary})},e.prototype.makeSplit=function(){var t=this;if(null!=this.targetLibrary&&this.getAllDeclsToMove()!=[]){var n=this.getAllDeclsToMove().filter(function(e){return e.decl instanceof w.Action});n.forEach(function(e){return e.decl.isPrivate=!0}),this.remainingDecls.filter(function(e){return e.decl instanceof w.Action}).forEach(function(e){e.getActions().forEach(function(e){if(0<=n.indexOf(e)){var t=e.decl;t.isPrivate=!1,t.getInParameters().forEach(function(e){e.local.getKind()instanceof p.UserActionKind&&(e.local.getKind().userAction.isPrivate=!1)})}})}),this.getAllDeclsToMove().forEach(function(e){e.serialized=e.decl.serialize()});var i=new a(this.targetLibrary);this.getAllDeclsToMove().forEach(function(e){return i.dispatch(e.decl)});var e=new o(this.theApp,this.getAllDeclsToMove().filter(function(e){return!(e.decl instanceof w.Action)}).map(function(e){return e.decl}),this.remainingDecls);e.getAccessorActions().forEach(function(e){return t.targetLibrary.resolved.addDecl(e)}),new s(this.targetLibrary,n.map(function(e){return e.decl}),e).performRewrite(this.theApp);var r=[];this.getAllDeclsToMove().forEach(function(e){e.decl!=t.targetLibrary&&e.decl.parent==t.theApp&&w.Parser.parseDecls(e.decl.serialize(),t.targetLibrary.resolved).forEach(function(e){e instanceof w.LibraryRef?r.indexOf(e)<0&&(r.push(e),t.targetLibrary.resolved.addDecl(e)):t.targetLibrary.resolved.addDecl(e)})}),this.targetLibrary.initializeResolves(),this.getAllDeclsToMove().forEach(function(e){e.decl instanceof w.LibraryRef||(t.theApp.deleteDecl(e.decl),e.decl=null)}),w.InitIdVisitor.ensureOK(this.theApp),w.InitIdVisitor.ensureOK(this.targetLibrary.resolved),this.appRewritten=this.theApp.serialize(),this.library=this.targetLibrary.resolved.serialize()}},e}();w.SplitAppIntoAppAndLibrary=e;var o=function(){function e(e,t,n){var i=this;this.theApp=e,this.declsToLibrary=t,this.remaining=n,this.rewriteFields=[],this.fieldModes=[],this.rewriteGlobals=[],this.globalModes=[],this.globalThings=[],this.rewriteProperties=[],this.rewritePropertiesExpr=[],this.collectionOfRecords=[],this.collectionTemplate="action $NAME_collection() returns(coll: Collection[ * $ENTRY]) { $coll := records→$NAME→create_collection; foreach e in records→$NAME where true do { $coll→add($e); } }",n.forEach(function(n){n.direct.readGlobals.forEach(function(e){return i.addGlobal(e,"R")}),n.direct.writtenGlobals.forEach(function(e){return i.addGlobal(e,"W")}),n.direct.readFields.forEach(function(e){var t=e.forwardsToStmt();i.addField(t,"R")}),n.direct.readProps.forEach(function(e,t){i.addProperty(e,n.direct.readPropsWhat[t])}),n.direct.writtenFields.forEach(function(e){var t=e.forwardsToStmt();i.addField(t,"W")}),n.direct.asIEnumerable.forEach(function(e){0<=i.declsToLibrary.indexOf(e)&&i.collectionOfRecords.indexOf(e)<0&&i.collectionOfRecords.push(e)})})}return e.prototype.getRecordName=function(e){var t=e.parentKind.getRecord();return t&&0<=this.declsToLibrary.indexOf(t)?t.getName()+" "+e.getName():null},e.prototype.getAccessorName=function(e,t){if(e.referencedData()){var n=e.referencedData();if(0<=this.declsToLibrary.indexOf(e.referencedData()))return("R"==t?"":"set ")+n.getName()}else if(e.referencedRecordField()){var i=e.referencedRecordField(),r=i.def();if(0<=this.declsToLibrary.indexOf(r))return("R"==t?"":"set ")+i.getName()}else if(e.calledProp()){var o=e;if(!(e.calledProp()instanceof w.RecordDef))return this.getRecordName(o.prop());var a=o.prop();if(0<=this.declsToLibrary.indexOf(a))return a.getName()+("E"==t?" collection":"")}return null},e.prototype.getName=function(e,t){return("W"==t?"set ":"")+e},e.prototype.makeActionFromGlobOrField=function(e,t,n,i){var r=new w.TokenWriter;return r.keyword("action").id(this.getName(t?t.getName():n.getName(),i)),r.op("("),t||(r.id("r").op(":").kind(this.theApp,n.def().entryKind),"W"==i&&r.op(",")),"W"==i&&r.id("val").op(":").kind(this.theApp,t?t.getKind():n.dataKind),r.op(")"),"R"==i&&r.keyword("returns").op("(").id("val").op(":").kind(this.theApp,t?t.getKind():n.dataKind).op(")"),r.op("{"),"R"==i&&r.id("val").op(":="),t?r.id(e):r.id("r"),r.op("→").id(t?t.getName():n.getName()),"W"==i&&r.op(":=").id("val"),r.op("}"),w.Parser.parseDecl(r.finalize())},e.prototype.makeActionFromProperty=function(e,t){var n=e.parentKind.getRecord(),i=new w.TokenWriter;i.keyword("action");var r=this.getRecordName(e);null==r&&(r=e.getName()),i.id(r).op("(");var o=e.getParameters(),a=!0;t.getKind()instanceof w.RecordEntryKind&&(i.id("r").op(":").id(n.entryKind.getName()),a=!1);for(var s=1;s<o.length;){a||i.op(",");var c=o[s];i.id(c.getName()).op(":").kind(this.theApp,c.getKind()),s++}i.op(")");var l=e.getResult();if(l&&(i.keyword("returns").op("("),i.id("res").op(":").kind(this.theApp,l.getKind()),i.op(")")),i.op("{"),l&&i.id("res").op(":="),t.getKind()instanceof w.RecordEntryKind?i.id("r"):i.id(n.thingSetKindName()).op("→").id(n.getName()),i.op("→").id(e.getName()),(s=1)<o.length&&0<o.length){i.op("(");for(a=!0;s<o.length;)a||i.op(","),i.id(o[s].getName()),s++,a=!1;i.op(")")}return i.op("}"),w.Parser.parseDecl(i.finalize())},e.prototype.makeCollectionAccessor=function(e){var t=this.collectionTemplate;return t=t.replace(/\$NAME/g,w.Lexer.quoteId(e.getName())).replace(/\$ENTRY/g,w.Lexer.quoteId(e.entryKind.getName())),w.Parser.parseDecl(t)},e.prototype.getAccessorActions=function(){for(var n=this,i=[],e=0;e<this.rewriteGlobals.length;e++)for(var t=0;t<this.globalModes[e].length;t++)i.push(this.makeActionFromGlobOrField(this.globalThings[e],this.rewriteGlobals[e],null,this.globalModes[e][t]));for(e=0;e<this.rewriteFields.length;e++)for(t=0;t<this.fieldModes[e].length;t++)i.push(this.makeActionFromGlobOrField(null,null,this.rewriteFields[e],this.fieldModes[e][t]));return this.rewriteProperties.forEach(function(e,t){return i.push(n.makeActionFromProperty(e,n.rewritePropertiesExpr[t]))}),this.collectionOfRecords.forEach(function(e){return i.push(n.makeCollectionAccessor(e))}),i},e.prototype.addField=function(e,t){var n=e.def();if(0<=this.declsToLibrary.indexOf(n)){var i=this.rewriteFields.indexOf(e);i<0?(this.rewriteFields.push(e),this.fieldModes.push(t)):this.fieldModes[i].indexOf(t)<0&&(this.fieldModes[i]+=t)}},e.prototype.addGlobal=function(e,t){if(0<=this.declsToLibrary.indexOf(e)&&e instanceof w.GlobalDef){var n=e,i=this.rewriteGlobals.indexOf(n);i<0?(this.rewriteGlobals.push(n),this.globalModes.push(t),this.globalThings.push(n.thingSetKindName())):this.globalModes[i].indexOf(t)<0&&(this.globalModes[i]+=t)}},e.prototype.addProperty=function(e,t){var n=e.parentKind.getRecord();n&&0<=this.declsToLibrary.indexOf(n)&&this.rewriteProperties.indexOf(e)<0&&(this.rewriteProperties.push(e),this.rewritePropertiesExpr.push(t))},e}(),r=function(){function e(e,t,n){this.targetLibrary=e,this.declsToMove=t,this.replaceTarget=n}return e.prototype.rewriteKind=function(e){var n=this;if(e.getRecord()){var t=e.getRecord();if(0<=this.declsToMove.indexOf(t))return this.targetLibrary.getAbstractKind(e.getName())}else if(e instanceof p.UserActionKind){var i=e.userAction;0<=this.declsToMove.indexOf(i)||i.getParameters().forEach(function(e){e._kind=n.rewriteKind(e.getKind())})}else if(e instanceof w.LibraryRefAbstractKind){var r=e,o=r.parentLibrary();if(this.replaceTarget&&o==this.targetLibrary)return new p.UnresolvedKind(r.getName())}else if(e instanceof p.ParametricKind){var a=e;a.parameters.forEach(function(e,t){return a.parameters[t]=n.rewriteKind(a.parameters[t])})}else if(e instanceof p.ActionKind){e.getInParameters().concat(e.getOutParameters()).forEach(function(e){e._kind=n.rewriteKind(e.getKind())})}return e},e}(),a=function(n){function e(e){n.call(this),this.targetLibrary=e,this.rewriteKind=new r(this.targetLibrary,[],!0)}return __extends(e,n),e.prototype.visitAstNode=function(e){return this.visitChildren(e),null},e.prototype.visitExprHolder=function(e){return(this.lastExprHolder=e).parsed&&this.dispatch(e.parsed),null},e.prototype.visitAction=function(e){var t=this;n.prototype.visitAction.call(this,e),e.getInParameters().concat(e.getOutParameters()).forEach(function(e){e.local.setKind(t.rewriteKind.rewriteKind(e.local.getKind()))})},e.prototype.visitGlobalDef=function(e){e.setKind(this.rewriteKind.rewriteKind(e.getKind()))},e.prototype.visitRecordDef=function(e){var t=this;e.getFields().forEach(function(e){e.dataKind=t.rewriteKind.rewriteKind(e.dataKind)})},e.prototype.visitCall=function(e){var t=this;e.args.forEach(function(e){t.dispatch(e)});var n=e.prop();e.args[0];if(n&&n.forwardsTo()instanceof w.LibraryRefAction){var i=n.forwardsTo();if(i.parentLibrary()==this.targetLibrary){var r=e.args[0],o=this.lastExprHolder.tokens,a=k(e.args[0]),s=o.indexOf(a),c=o.indexOf(r.propRef);if(!(i instanceof w.LibExtensionAction)&&a instanceof w.ThingRef){var l=new w.TokenWriter;l.keyword("code");var u=w.Parser.parseExprHolder(l.finalize());o.spliceArr(s,c-s+1,u.tokens)}}}},e}(w.NodeVisitor),s=function(i){function e(e,t,n){i.call(this),this.targetLibrary=e,this.libActions=t,this.acc=n,this.lastExprHolder=null,this.mode="",this.rewriteKind=new r(this.targetLibrary,this.acc.declsToLibrary,!1)}return __extends(e,i),e.prototype.visitExprHolder=function(e){return this.lastExprHolder=e,this.mode="R",e.parsed&&this.dispatch(e.parsed),null},e.prototype.visitForeach=function(e){var t=this;e.collection.parsed&&(this.mode="E",this.lastExprHolder=e.collection,this.dispatch(e.collection.parsed)),[e.conditions,e.body].forEach(function(e){return e.accept(t)})},e.prototype.visitAstNode=function(e){return this.visitChildren(e),null},e.prototype.visitAction=function(e){var t=this;this.libActions.indexOf(e)<0&&(i.prototype.visitAction.call(this,e),e.getInParameters().concat(e.getOutParameters()).forEach(function(e){return t.rewriteActionParameter(e)}))},e.prototype.rewriteActionParameter=function(e){e.local.setKind(this.rewriteKind.rewriteKind(e.local.getKind()))},e.prototype.visitGlobalDef=function(e){this.acc.declsToLibrary.indexOf(e)<0&&e.setKind(this.rewriteKind.rewriteKind(e.getKind()))},e.prototype.visitRecordDef=function(e){var t=this;this.acc.declsToLibrary.indexOf(e)<0&&e.getFields().forEach(function(e){e.dataKind=t.rewriteKind.rewriteKind(e.dataKind)})},e.prototype.rewriteThingRef=function(e){var t=this.lastExprHolder.tokens.indexOf(e),n=new w.TokenWriter;this.targetLibrary.writeRef(n);var i=w.Parser.parseExprHolder(n.finalize());this.lastExprHolder.tokens.spliceArr(t,1,i.tokens)},e.prototype.visitCall=function(e){var t=this,n=e.prop();if(n){if(n==w.api.core.AssignmentProp){var i=e.args[0].flatten(w.api.core.TupleProp);i.forEach(function(e){t.mode="W",t.dispatch(e)}),this.mode="R";var r=e.args[1];if(this.dispatch(r),1==i.length){var o=i[0];if(null!=(y=this.acc.getAccessorName(o,"W"))){var a=new w.TokenWriter,s=this.lastExprHolder.tokens;if(o.referencedRecordField()){var c=s.filter(function(e){return e==o.propRef})[0],l=s.indexOf(c);s.slice(0,l).forEach(function(e){return e.writeTo(a)})}else this.targetLibrary.writeRef(a);a.op("→").id(y).op("(");var u=s.filter(function(e){return":="==e.getOperator()})[0],d=s.indexOf(u);s.slice(d+1,s.length).forEach(function(e){return e.writeTo(a)}),a.op(")");var p=w.Parser.parseExprHolder(a.finalize());this.lastExprHolder.tokens=p.tokens}}}else if(e.referencedData()||e.referencedRecordField()){var h=this.mode;this.mode="R",e.args.forEach(function(e){return t.dispatch(e)}),null!=(y=this.acc.getAccessorName(e,h))&&"W"!=h&&(e.propRef.data=y,e.referencedData()?this.rewriteThingRef(e.args[0]):e.propRef.prop=null)}else if(n instanceof w.RecordDef){if("E"==this.mode)if(null!=(y=this.acc.getAccessorName(e,"E"))){s=this.lastExprHolder.tokens;var m=k(e),f=s.indexOf(m),g=s.indexOf(e.propRef);a=new w.TokenWriter;this.targetLibrary.writeRef(a).op("→").id(y);p=w.Parser.parseExprHolder(a.finalize());s.spliceArr(f,g-f+1,p.tokens)}}else if(n&&(n.forwardsTo()instanceof w.Action||n instanceof w.ExtensionProperty)){this.mode="R",e.args.forEach(function(e){return t.dispatch(e)});var v=n.forwardsTo();v&&0<=this.libActions.indexOf(v)?this.rewriteThingRef(e.args[0]):(v=n.shortcutTo,this.libActions.indexOf(v))}else{var y;if(e.args.forEach(function(e){t.mode="R",t.dispatch(e)}),null!=(y=this.acc.getAccessorName(e,""))&&n){e.propRef.data=y,e.propRef.prop=null;var b=n.parentKind;if(b instanceof w.RecordDefKind)if(b.getRecord()){var _=e.args[0];if((m=k(_))instanceof w.ThingRef){f=(s=this.lastExprHolder.tokens).indexOf(m),g=s.indexOf(_.propRef),a=new w.TokenWriter;this.targetLibrary.writeRef(a);p=w.Parser.parseExprHolder(a.finalize());s.spliceArr(f,g-f+1,p.tokens)}}}}return null}},e.prototype.performRewrite=function(e){this.dispatch(e)},e}(w.NodeVisitor),c=function(e){function t(){e.apply(this,arguments),this.recurse=!1,this.decls=[]}return __extends(t,e),t.prototype.visitGlobalDef=function(e){this.visitKind(e.getKind(),this.recurse)},t.prototype.visitLocalDef=function(e){this.visitKind(e.getKind(),this.recurse)},t.prototype.visitRecordDef=function(e){var t=this;this.decls.indexOf(e)<0&&(this.decls.push(e),this.recurse&&e.values.fields().concat(e.keys.fields()).forEach(function(e){t.visitRecordField(e)}))},t.prototype.visitRecordField=function(e){this.visitKind(e.dataKind,this.recurse)},t.prototype.visitKind=function(e,t){var n=this;if(this.recurse=t,e.isUserDefined())if(e.getRecord())this.visitRecordDef(e.getRecord());else if(e instanceof p.UserActionKind){var i=e.userAction;this.decls.indexOf(i)<0&&(this.decls.push(i),t&&i.getParameters().forEach(function(e){return n.visitKind(e.getKind(),t)}))}else if(e instanceof w.LibraryRefAbstractKind){var r=e.parentLibrary();this.decls.indexOf(r)<0&&this.decls.push(r)}else if(e instanceof p.ParametricKind){if(t)for(var o=e,a=0;a<o.getParameterCount();)this.visitKind(o.getParameter(a),t),a++}else if(e instanceof p.ActionKind){if(t)e.getInParameters().concat(e.getInParameters()).forEach(function(e){return n.visitKind(e.getKind(),t)})}},t.prototype.traverse=function(e,t){this.recurse=t,this.dispatch(e)},t}(w.NodeVisitor),t=function(){function e(){this.cache=[],this.last=null}return e.prototype.resetCache=function(){this.cache=[],this.last=null},e.prototype.invalidate=function(){this.cache.forEach(function(e){return e.reset()})},e.prototype.getFromCache=function(t){if(null!=this.last&&this.last.decl==t)return this.last;var e=this.cache.filter(function(e){return e.decl==t});return 0<e.length?(this.last=e[0],this.last):null},e.prototype.remove=function(e){this.last=null;var t=this.cache.indexOf(e);0<=t&&this.cache.splice(t)},e.prototype.getter=function(e){p.Util.assert(null!=e);var t=this.getFromCache(e);return null==t&&((t=new l(this)).decl=e,this.cache.push(t)),t},e.prototype.getAll=function(){return this.cache},e}();w.DeclAndDepsManager=t;var l=function(){function e(e){this.decl=null,this.direct=null,this.actions=null,this.otherDecls=[],this.accessedTypes=[],this.accessedGlobals=[],this.transitiveClosure=null,this.include=!1,this.manager=e}return e.prototype.reset=function(){this.actions=null,this.serialized=null,this.otherDecls=[],this.direct=null,this.accessedGlobals=[],this.accessedTypes=[],this.transitiveClosure=[]},e.prototype.getActions=function(){return this.fillDeclDependencies(),this.actions},e.prototype.getOthers=function(){return this.fillDeclDependencies(),this.otherDecls},e.prototype.getAllDirectAccesses=function(){return this.fillDeclDependencies(),this.decl instanceof w.Action?this.accessedTypes.concat(this.accessedGlobals).concat(this.getActions()):this.getOthers()},e.prototype.getTransitiveClosure=function(){return this.fillDeclDependencies(),this.transitiveClosure||(this.transitiveClosure=[],e.computeClosure([this],[],this.transitiveClosure)),this.transitiveClosure},e.prototype.setInclude=function(e){this.include=e},e.prototype.getInclude=function(){return this.include},e.rateTargetAgainstDecls=function(t,n){n.numberDirectDeclsToMove=0,n.getAllDirectAccesses().filter(function(e){return!(e.decl instanceof w.LibraryRef)}).forEach(function(e){0<=t.indexOf(e)&&n.numberDirectDeclsToMove++})},e.compareSize=function(e,t){return e.getTransitiveClosure().length-t.getTransitiveClosure().length},e.prototype.fillDeclDependencies=function(){var i=this;if(null==this.actions){var t=[],e=new d;e.traverse(this.decl),(this.direct=e).referencedLibraries.forEach(function(e){return n(e)}),this.decl instanceof w.Action?(this.actions=e.calledActions.map(function(e){return i.manager.getter(e)}),e.readGlobals.concat(e.writtenGlobals).forEach(function(e){var t=i.manager.getter(e);i.accessedGlobals.indexOf(t)<0&&i.accessedGlobals.push(t),r(e)}),e.inParams.concat(e.outParams).forEach(r),e.readProps.concat(e.readFields).concat(e.writtenFields).forEach(function(e){var t=e.parentKind.getRecord();if(t){var n=i.manager.getter(t);i.accessedTypes.indexOf(n)<0&&i.accessedTypes.push(n)}})):(this.actions=[],e.referencedRecords.forEach(r)),this.otherDecls=t.map(function(e){return i.manager.getter(e)})}function n(e){t.indexOf(e)<0&&t.push(e)}function r(e){e instanceof w.LocalDef||n(e);var t=new c;t.traverse(e,!1),t.decls.forEach(function(e){return n(e)})}},e.computeClosure=function(t,n,i){var r=function(e){return t.indexOf(e)<0&&n.indexOf(e)<0&&i.indexOf(e)<0&&(i.push(e),!0)},o=function(t){if(r(t)){var e=new c;e.traverse(t.decl,!0),e.decls.forEach(function(e){return r(t.manager.getter(e))})}};t.forEach(function(e){e.decl instanceof w.Action?new u(e).allActions.forEach(function(e){r(e)&&e.getOthers().forEach(o)}):o(e);e.getOthers().forEach(o)})},e}();w.DeclAndDeps=l;var u=function(e){var t=this;this.allActions=[];for(var n=e.getActions().map(function(e){return e});0<n.length;){var i=n.pop();this.allActions.push(i),i.getActions().forEach(function(e){t.allActions.indexOf(e)<0&&n.indexOf(e)<0&&n.push(e)})}};function k(e){return e instanceof w.Call?k(e.args[0]):e}var d=function(n){function e(){n.apply(this,arguments),this.referencedLibraries=[],this.calledActions=[],this.inParams=[],this.outParams=[],this.readGlobals=[],this.writtenGlobals=[],this.readFields=[],this.writtenFields=[],this.readProps=[],this.readPropsWhat=[],this.referencedRecords=[],this.asIEnumerable=[],this.mode=""}return __extends(e,n),e.prototype.addDecl=function(e,t){t.indexOf(e)<0&&t.push(e)},e.prototype.addField=function(e,t){t.indexOf(e)<0&&t.push(e)},e.prototype.addProp=function(e,t){this.readProps.indexOf(e)<0&&(this.readProps.push(e),this.readPropsWhat.push(t))},e.prototype.getGlobal=function(e){if(e instanceof w.Call){var t=e.prop();if(t instanceof w.GlobalDef||t instanceof w.RecordDef)return t}return null},e.prototype.visitAstNode=function(e){return this.visitChildren(e),null},e.prototype.visitAction=function(e){var t=this;e.getInParameters().forEach(function(e){return t.addDecl(e.local,t.inParams)}),e.getOutParameters().forEach(function(e){return t.addDecl(e.local,t.outParams)}),n.prototype.visitAction.call(this,e)},e.prototype.visitGlobalDef=function(e){var t=this,n=new c;n.traverse(e,!1),n.decls.forEach(function(e){return t.addDecl(e,t.referencedRecords)})},e.prototype.visitRecordDef=function(e){var t=this,n=new c;e.values.fields().concat(e.keys.fields()).forEach(function(e){n.traverse(e,!1)}),n.decls.forEach(function(e){return t.addDecl(e,t.referencedRecords)})},e.prototype.visitForeach=function(e){var t=this;e.collection.parsed&&(this.mode="E",this.dispatch(e.collection.parsed)),[e.conditions,e.body].forEach(function(e){return e.accept(t)})},e.prototype.visitCall=function(e){var n=this,t=e.prop();if(t==w.api.core.AssignmentProp)e.args[0].flatten(w.api.core.TupleProp).forEach(function(e){n.mode="W";var t=n.getGlobal(e);t&&n.writtenGlobals.indexOf(t)<0?n.addDecl(t,n.writtenGlobals):n.dispatch(e)}),this.mode="R",this.dispatch(e.args[1]);else if(e.referencedRecordField()||e.referencedData())e.referencedRecordField()?this.addField(e.referencedRecordField().asProperty(),"R"==this.mode?this.readFields:this.writtenFields):this.addDecl(e.referencedData(),"R"==this.mode?this.readGlobals:this.writtenGlobals);else if(t instanceof w.RecordDef)"E"==this.mode&&this.addDecl(t,this.asIEnumerable),this.addDecl(t,this.readGlobals);else if(t.forwardsTo()instanceof w.Action||t instanceof w.ExtensionProperty){var i=(r=t.forwardsTo()?t.forwardsTo():t.shortcutTo).parentLibrary();i&&!i.isThis()?this.referencedLibraries.indexOf(i)<0&&this.referencedLibraries.push(i):this.calledActions.indexOf(r)<0&&this.calledActions.push(r)}else if(t.parentKind.getRecord())this.addProp(t,k(e));else if(t.parentKind instanceof p.UserActionKind){var r=t.parentKind.userAction;this.calledActions.indexOf(r)<0&&this.calledActions.push(r)}t!=w.api.core.AssignmentProp&&e.args.forEach(function(e){n.mode="R",n.dispatch(e)})},e.prototype.visitExprHolder=function(e){return e.parsed&&(this.mode="R",this.dispatch(e.parsed)),null},e.prototype.traverse=function(e){this.dispatch(e)},e}(w.NodeVisitor);w.DirectAccessFinder=d}(p.AST||(p.AST={}))}(TDev||(TDev={})),function(A){!function(w){var o=!1,r=!1,m=function(t){function n(e){void 0===e&&(e=[]),t.call(this),this.ids=e}return __extends(n,t),n.prototype.visitAstNode=function(e){return this.visitChildren(e)},n.prototype.visitDecl=function(e){return this.visitChildren(e)},n.prototype.visitStmt=function(e){this.ids.push(e.stableId),t.prototype.visitStmt.call(this,e)},n.collect=function(e){var t=new n;return t.dispatch(e),t.ids},n}(w.NodeVisitor);w.StmtIdCollector=m;var e,d=function(){function e(){this.mapping={},this.nameMapping={},this.usedNames={},this.reservedNames={}}return e.prototype.unUnicode=function(e){return(""==(e=e.replace(/[^a-zA-Z0-9]+/g,"_"))||/^[0-9]/.test(e))&&(e="_"+e),e},e.prototype.isUsed=function(e){return this.usedNames.hasOwnProperty(e)||this.reservedNames.hasOwnProperty(e)},e.prototype.snapshotUsed=function(){var t={};return Object.keys(this.reservedNames).forEach(function(e){return t[e]=1}),Object.keys(this.usedNames).forEach(function(e){return t[e]=1}),t},e.prototype.quote=function(e,t){var n=e+":"+t,i=e;if(this.mapping.hasOwnProperty(n))return this.mapping[n];if(e=this.unUnicode(e),this.isUsed(e)){for(var r=1;this.isUsed(e+r.toString());)r++;e+=r.toString()}return this.usedNames[e]=1,this.mapping[n]=e,this.nameMapping[i]=e},e.prototype.getNameMapping=function(){return this.nameMapping},e}();w.QuotingCtx=d,(e=w.JsNodeCategory||(w.JsNodeCategory={}))[e.Bad=0]="Bad",e[e.ExprStmt=1]="ExprStmt",e[e.Goto=2]="Goto",e[e.If=3]="If",e[e.Label=4]="Label",e[e.TmpDef=5]="TmpDef",e[e.TmpRef=6]="TmpRef",e[e.LabelRef=7]="LabelRef",e[e.Call=8]="Call",e[e.Infix=9]="Infix",e[e.Term=10]="Term",e[e.DeleteStmt=11]="DeleteStmt",e[e.Lambda=12]="Lambda";w.JsNodeCategory;var t=function(){function e(){}return e.prototype.category=function(){return 0},e.prototype.toString=function(){return"<???>"},e.prototype.isUsedLabel=function(){return!1},e.prototype.injectEndIfJumps=function(){},e.prototype.dump=function(e){e(this.toString())},e.prototype.forEachExpr=function(e){A.Util.die()},e}(),n=function(e){function t(){e.call(this)}return __extends(t,e),t}(w.JsNode=t);w.JsStmt=n;var i=function(e){function t(){e.call(this),this._alwaysValid=!1}return __extends(t,e),t.prototype.alwaysValid=function(){return this._alwaysValid},t.prototype.gets=function(e){return new k(new v(this,"=",e))},t.prototype.makeValid=function(){return this._alwaysValid=!0,this},t}(t),g=function(i){function r(e,t,n){i.call(this),this.recv=e,this.method=t,this.args=n}return __extends(r,i),r.prototype.category=function(){return 8},r.prototype.forEachExpr=function(t){t(this),null!=this.recv&&this.recv.forEachExpr(t),this.args&&this.args.forEach(function(e){return e.forEachExpr(t)})},r.prototype.toString=function(){var e=this.method,t=this.args;if("ok"==e){if(0==(t=t.filter(function(e){return!function(e){if(o)return!0;if(e.alwaysValid())return!0;if(e instanceof f&&"s"==e.code)return!0;return!1}(e)})).length)return"true";e+=t.length,t.unshift(new f("s"))}var n=e;if(t&&(n+="("+t.map(function(e){return e.toString()}).join(", ")+")"),null==this.recv)return n;var i=this.recv.toString();return"["==e?i+n+"]":""==e?i+n:i+"."+n},r.direct=function(e,t){return new r(null,e,t)},r.directInst=function(e,t,n){return new r(e,t,n)},r.okAnd=function(e,t){return new v(r.direct("ok",e),"&&",t)},r.mk=function(e,t,n){return r.okAnd(null==e?n:[e].concat(n),new r(e,t,n))},r}(w.JsExpr=i);w.JsCall=g;var v=function(i){function e(e,t,n){i.call(this),this.left=e,this.op=t,this.right=n}return __extends(e,i),e.prototype.category=function(){return 9},e.prototype.forEachExpr=function(e){e(this),null!=this.left&&this.left.forEachExpr(e),null!=this.right&&this.right.forEachExpr(e)},e.prototype.toString=function(){if(null==this.left)return"("+this.op+this.right.toString()+")";var e=this.left.toString();if(null==this.right)return"("+e+this.op+")";var t=this.right.toString();return"&&"==this.op&&"true"==e?t:"("+e+" "+this.op+" "+t+")"},e}(i);w.JsInfix=v;var f=function(t){function e(e){t.call(this),this.code=e}return __extends(e,t),e.prototype.category=function(){return 10},e.prototype.forEachExpr=function(e){e(this)},e.prototype.toString=function(){return this.code},e}(i),y=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.alwaysValid=function(){return!0},e}(w.JsTerm=f);w.JsLiteral=y;var b=function(t){function e(e){t.call(this),this.tmp=e}return __extends(e,t),e.prototype.category=function(){return 6},e.prototype.forEachExpr=function(e){e(this)},e.prototype.toString=function(){return this.tmp.getRef()},e}(i);w.JsTmpRef=b;var p=function(t){function e(e){t.call(this),this.label=e}return __extends(e,t),e.prototype.category=function(){return 7},e.prototype.forEachExpr=function(e){e(this)},e.prototype.toString=function(){return this.label.id},e}(i);w.JsLabelRef=p;var h=function(n){function e(e,t){n.call(this),this.stem=e,this.initial=t,this.isLocal=!0}return __extends(e,n),e.prototype.category=function(){return 5},e.prototype.forEachExpr=function(e){this.initial.forEachExpr(e)},e.prototype.getName=function(){return"t_"+this.stem+"_"+this.id.toString()},e.prototype.getRef=function(){return this.isLocal?this.getName():"s."+this.getName()},e.prototype.toString=function(){return this.isLocal?"var "+this.getName()+" = "+this.initial.toString()+";":this.getRef()+" = "+this.initial.toString()+";"},e}(n);w.JsTmpDef=h;var k=function(t){function e(e){t.call(this),this.code=e,A.Util.assert(!!e)}return __extends(e,t),e.prototype.category=function(){return 1},e.prototype.toString=function(){return this.code.toString()+";"},e.prototype.forEachExpr=function(e){this.code.forEachExpr(e)},e}(n);w.JsExprStmt=k;var a=function(t){function e(e){t.call(this),this.target=e}return __extends(e,t),e.prototype.category=function(){return 11},e.prototype.toString=function(){return"delete "+this.target.toString()+";"},e.prototype.forEachExpr=function(e){this.target.forEachExpr(e)},e}(n);w.JsDeleteStmt=a;var s=function(n){function e(e,t){n.call(this),this.argCount=e,this.body=t}return __extends(e,n),e.prototype.alwaysValid=function(){return!0},e.prototype.category=function(){return 12},e.prototype.toString=function(){return"function("+A.Util.range(0,this.argCount).map(function(e){return"la"+e}).join(", ")+") { return "+this.body.toString()+" }"},e.prototype.forEachExpr=function(e){this.body.forEachExpr(e)},e}(i);w.JsLambda=s;var x=function(n){function i(e,t){void 0===t&&(t=r),n.call(this),this.target=e,this.canChain=t,this.jumpsToOptimizedLoop=!1}return __extends(i,n),i.prototype.toString=function(){return this.canChain?this.jumpsToOptimizedLoop?"if (callstackcurdepth++ >= 500) { callstackcurdepth = 0; return "+this.target.toString()+";}":"if (callstackcurdepth++ < 50) return "+this.target.toString()+"(s); else { callstackcurdepth = 0; return "+this.target.toString()+";}":"return "+this.target.toString()+";"},i.prototype.category=function(){return 2},i.prototype.forEachExpr=function(e){this.target.forEachExpr(e)},i.simple=function(e,t){return void 0===t&&(t=r),new i(new p(e),t)},i.prototype.isSimple=function(e){return this.target instanceof p&&this.target.label==e},i}(n);w.JsGoto=x;var l=function(t){function e(e){t.call(this),this.finalLabel=e,this.isWhile=!1}return __extends(e,t),e.prototype.category=function(){return 3},e.prototype.injectEndIfJumps=function(){var o=this,e=function(e){for(var t=!1,n=!1,i=0;i<e.length;++i)((t=2==e[i].category())||e[i].isUsedLabel())&&(n=!0);if(n&&!t){var r=x.simple(o.finalLabel);o.finalLabel.refs.push(r),e.push(r)}};this.thenBody.forEach(function(e){return e.injectEndIfJumps()}),this.elseBody.forEach(function(e){return e.injectEndIfJumps()}),null!=this.finalLabel&&(e(this.thenBody),e(this.elseBody))},e.prototype.forEachExpr=function(t){this.condition.forEachExpr(t),this.thenBody.concat(this.elseBody).forEach(function(e){return e.forEachExpr(t)})},e.prototype.dump=function(t){t("if ("+this.condition+") {");var n=function(e){t("  "+e)};this.thenBody.forEach(function(e){e.dump(n)}),0<this.elseBody.length&&(t("} else {"),this.elseBody.forEach(function(e){e.dump(n)})),t("}")},e}(n);w.JsIf=l;var c=function(t){function e(e){t.call(this),this.id=e,this.refs=[]}return __extends(e,t),e.prototype.category=function(){return 4},e.prototype.isUsedLabel=function(){return 0<this.refs.length},e.prototype.dump=function(e){e("LABEL "+this.id+":")},e.prototype.forEachExpr=function(e){},e}(n);w.JsLabel=c;var u=function(t){function _(e){t.call(this),this.options=e,this.stepIdx=0,this.inlineCurrentAction=!1,this.numInlinedFunctions=0,this.numInlinedCalls=0,this.numOkEliminations=0,this.numActions=0,this.numStatements=0,this.termsReused=0,this.constantsPropagated=0,this.output="",this.steps=0,this.todo=[],this.innerActions=[],this.aux=[],this.needsScriptText=!1,this.profilingBlocks={},this.profilingScopes=[],this.unit=new f("<unit>"),this.api=A.api,this.tmpIdx=0,this.blockId=1,this.missingApis=[],this.maxArgsToCheck=0,this.initGlobals="",this.initGlobals2="",this.resetGlobals="",this.cloudstateJsonExport="",this.cloudstateJsonImport="",this.persistentvars=[],this.imports=new w.AppImports,this.packageResources=[],this.mapExprToVar={},this.debuggerLocalCtxs={},this.runmap_variables=[],this.libInits=function(e){},o=!!e.crashOnInvalid,r=!!e.blockChaining}return __extends(_,t),_.prototype.wr=function(e){this.output+=e},_.prototype.term=function(e){return new f(e)},_.prototype.outRef=function(e){for(var t=this.currentAction.getOutParameters(),n=0;n<t.length;++n)if(t[n].local==e)return t.length<=1?"result":"results["+n+"]";return null},_.prototype.localVarName=function(e){var t=this.outRef(e);return t||(this.inlineCurrentAction?"l_":"$")+this.localNameCtx.quote(e.getName(),e.nodeId)},_.prototype.localVarRef=function(e,t){void 0===t&&(t=!1);var n=this.inlineCurrentAction?this.localVarName(e):"s."+this.localVarName(e);return!t&&e.isByRef()&&(n+=".ref"),this.term(n)},_.prototype.globalVarId=function(e){return"$"+e.getStableName()},_.prototype.comment=function(e){return"/* "+e.replace(/\//g,"")+" */"},_.prototype.globalVarRef=function(e){return this.term(this.comment(e.getName())+" s.d."+this.globalVarId(e))},_.prototype.newTmpVarOK=function(e,t,n){void 0===n&&(n=null);var i=this.newTmpVar(e,t,n);return i._alwaysValid=!0,i},_.prototype.newTmpVar=function(e,t,n){if(void 0===n&&(n=null),this.options.constantPropagation&&this.currentCP&&null!=n){var i=this.currentCP.precomputeLiteralExpression(n);null!=i&&(++this.constantsPropagated,t=new y(i))}if(this.options.commonSubexprElim&&this.currentAE&&null!=n){for(var r=null,o=this.currentAE.checkForIdenticalExpressions(n),a=0;a<o.length;++a){var s=o[a];if(null!=(r=this.mapExprToVar[s.nodeId]))break}if(null!=r)return++this.termsReused,r}var c=new h(e,t);this.aux.push(c);var l=new b(c);return this.options.commonSubexprElim&&null!=n&&(this.mapExprToVar[n.nodeId]=l),l},_.prototype.newTmpVarOrUnit=function(e,t,n,i){return void 0===i&&(i=null),e==w.api.core.Nothing?(this.aux.push(new k(n)),this.unit):this.newTmpVar(t,n,i)},_.prototype.allocateLabel=function(){return new c(this.actionName+"$"+this.stepIdx++)},_.prototype.visitCodeBlock=function(e){var t=this,n="";this.needsProfiling()&&(n=e.stableId.replace(/\./g,"_"),this.profilingBlocks[n]||(this.profilingBlocks[n]=[]));var i=e.stmts.collect(function(e){return e.isUnreachable?[]:t.dispatch(e)});if(this.needsProfiling()){n=e.stableId.replace(/\./g,"_");var r=new f("profilingExecutions"+n);i.unshift(new k(new v(r,"-=",new y("1"))));var o=new f("profilingExecutionsNext"+n),a=new f("profilingExecutionsNextCount"+n),s=this.allocateIf();s.condition=new v(r,"==",new y("0")),s.thenBody=[r.gets(o),new k(new v(a,"+=",o)),o.gets(g.direct("s.rt.nextHitCount",[o]))],s.elseBody=[],i.push(s)}if(3&e.flags){var c=this.currentAction.modelParameter;if(c){var l=c.local.getKind();if(l.record){var u=this.term("s.rt.getCurrentPage().model");i.unshift(this.localVarRef(c.local).gets(u)),2&e.flags&&i.unshift(u.gets(this.term("s.d.$"+l.record.getStableName()+".create(s)")))}else A.Util.check(!1)}}return 1&e.flags&&(i.unshift(new k(g.direct("s.rt.enter_render",[]))),i.push(new k(g.direct("s.rt.leave_render",[])))),i},_.prototype.flushAux=function(){var e=this.aux;return this.aux=[],e},_.prototype.doExpr=function(e){return this.dispatch(e)},_.prototype.topExpr=function(e,t){var n=this,i=e.assignmentInfo();i&&i.definedVars&&i.definedVars.forEach(function(e){e.isByRef()&&n.aux.push(n.localVarRef(e,!0).gets(n.term("{ref:undefined}")))});var r=e.stableId.replace(/\./g,"_"),o=t.parent.stableId.replace(/\./g,"_");if(this.needsProfiling()){var a=new b(this.profilingScopes.peek()),s=this.allocateIf();s.condition=new v(new v(new f("profilingExecutions"+o),"==",new y("0")),"&&",new v(a,"==",new y("0"))),s.thenBody=[a.gets(g.direct("perfNow",[]))],s.elseBody=[],this.aux.push(s)}var c=this.dispatch(e.parsed);if(!this.needsProfiling())return c;this.profilingBlocks[o].push(r);var l=new f("tmp"),u=new f("profilingDuration"+r),d=new f("profilingDurationSamples"+r),p=(a=new b(this.profilingScopes.peek()),new f("profilingExecutions"+o)),h=this.allocateIf();return h.condition=new v(p,"==",new y("0")),h.thenBody=[l.gets(new v(g.direct("perfNow",[]),"-",a)),new k(new v(u,"+=",l)),new k(new v(d,"+=",new y("1"))),new k(new v(a,"+=",l))],h.elseBody=[a.gets(new y("0"))],this.aux.push(h),this.needsProfilingDebug()&&this.aux.push(new k(g.direct("alert",[g.direct("JSON.stringify",[new f("cs._getProfilingResults()")])]))),c},_.prototype.markLocation=function(e){this.numStatements++;var t=new y(this.stringLiteral(e.stableId));if(this.debugBuild()&&this.buildBreakpoint(e.stableId),this.aux.push(this.term("s.pc").gets(t)),this.instrumentForCoverage()&&(e.isFirstNonComment()||e.isLastNonComment())){var n="c$"+e.stableId.replace(/\./g,"_");this.runmap_variables.push([e.stableId,n]),this.aux.push(this.term(n).gets(this.term("1")))}},_.prototype.instrumentForCoverage=function(){return!!this.options.coverage},_.prototype.updateAnalysisInfo=function(e){this.options.okElimination&&(this.currentReachingDefs=e.reachingDefs,this.currentDoms=e.dominators,this.currentUsedSet=e.usedSet,this.currentReachingDefs&&A.dbg&&this.aux.push(this.term(this.comment(this.currentReachingDefs.toString()))),this.currentUsedSet&&A.dbg&&this.aux.push(this.term(this.comment(this.currentUsedSet.toString())))),this.options.commonSubexprElim&&(this.currentAE=e.aeSet,this.currentAE&&A.dbg&&this.aux.push(this.term(this.comment(this.currentAE.toString())))),this.options.constantPropagation&&(this.currentCP=e.cpSet,this.currentCP&&A.dbg&&this.aux.push(this.term(this.comment(this.currentCP.toString()))))},_.prototype.resetAnalysisInfo=function(){this.options.okElimination&&(this.currentReachingDefs=null,this.currentDoms=null,this.currentUsedSet=null),this.options.commonSubexprElim&&(this.currentAE=null),this.options.constantPropagation&&(this.currentCP=null)},_.prototype.visitExprStmt=function(e){this.updateAnalysisInfo(e.expr),this.markLocation(e);var t=this.topExpr(e.expr,e),n=this.flushAux();return t!=this.unit&&n.push(new k(t)),this.resetAnalysisInfo(),n},_.prototype.visitInlineActions=function(e){var t=this;return e.actions.forEach(function(e){e instanceof w.InlineAction&&t.compileInlineAction(e)}),this.visitExprStmt(e)},_.prototype.allocateIf=function(){return new l(this.allocateLabel())},_.prototype.visitElseIf=function(e){return[]},_.prototype.visitIf=function(s){var c=this;if(s.isTopCommentedOut())return[];var l=1<s.branches.length?this.newTmpVarOK("elseIf",new y("true")):null,u=this.flushAux();return s.branches.forEach(function(e,t){if(t!=s.branches.length-1){c.updateAnalysisInfo(e.condition);var n=e.body.parent;c.markLocation(n);var i=c.topExpr(e.condition,n);c.resetAnalysisInfo();var r=c.flushAux();r.push(new k(g.direct("ok",[i])));var o=c.allocateIf();if(r.push(o),o.condition=i,o.thenBody=c.dispatch(e.body),t==s.branches.length-2?o.elseBody=c.dispatch(s.branches[t+1].body):(l&&o.thenBody.unshift(l.gets(new y("false"))),o.elseBody=[]),0<t){var a=c.allocateIf();a.condition=l,a.thenBody=r,a.elseBody=[],u.push(a)}else u.pushRange(r)}}),u},_.prototype.visitWhile=function(e){this.updateAnalysisInfo(e.calcNode()),this.markLocation(e);var t=this.allocateLabel();e._compilerContinueLabel=t,e._compilerBreakLabel=this.allocateLabel(),this.aux.push(t);var n=this.topExpr(e.condition,e);this.resetAnalysisInfo();var i=this.flushAux(),r=this.allocateIf();return r.condition=n,r.thenBody=this.dispatch(e.body),r.thenBody.push(x.simple(t)),r.elseBody=[],i.push(r),i.push(e._compilerBreakLabel),i},_.prototype.visitBreak=function(e){return e.topAffectedStmt&&this.aux.push(x.simple(e.topAffectedStmt._compilerBreakLabel)),this.unit},_.prototype.visitContinue=function(e){return e.topAffectedStmt&&this.aux.push(x.simple(e.topAffectedStmt._compilerContinueLabel)),this.unit},_.prototype.visitReturn=function(e){if(e.topRetLocal){var t=this.doExpr(e.args[0]);this.aux.push(this.localVarRef(e.topRetLocal).gets(t))}return this.aux.push(x.simple(e.topAffectedStmt._compilerBreakLabel)),this.unit},_.prototype.visitShow=function(e){var t=this.doExpr(e.topPostCall);return t!=this.unit&&this.aux.push(new k(t)),this.unit},_.prototype.compileInlineAction=function(e){var t=this,n=new w.Action;n._compilerParentAction=this.currentAction,n._compilerInlineAction=e,n.body=e.body,n.isLambda=!0,n.setStableName(this.actionName+"$"+this.stepIdx),n.stableId=e.stableId,n.setName(this.actionName+"::lambda::"+this.stepIdx),n.isPrivate=!0,this.stepIdx++,e.inParameters.forEach(function(e){return n.header.inParameters.push(new w.ActionParameter(e))}),e.outParameters.forEach(function(e){return n.header.outParameters.push(new w.ActionParameter(e))}),n.allLocals=e.allLocals,e.closure.forEach(function(e){return n.header.inParameters.push(new w.ActionParameter(e,!1,!0))}),this.innerActions.push(n),this.markLocation(e);for(var i=e.closure.map(function(e){return t.newTmpVar("lmbv",t.localVarRef(e,!0))}),r=e.inParameters.length-1+2;1<=r;)i.unshift(this.term("la"+r--));var o=this.newTmpVarOK("lmbProxy",this.term("s.libs.mkLambdaProxy"));i.unshift(g.directInst(o,"",[this.term("la0")]));var a=new s(e.inParameters.length+2,g.direct("a_"+n.getStableName(),i));this.aux.push(this.localVarRef(e.name).gets(a))},_.prototype.visitBox=function(e){this.markLocation(e);var t=this.flushAux();return t.push(new k(g.direct("lib.Box.push_box",[this.term("s")]))),t.pushRange(this.dispatch(e.body)),t.push(new k(g.direct("lib.Box.pop_box",[this.term("s")]))),t},_.prototype.mkCall=function(e,t){var n=new w.Call;return n.propRef=w.PropertyRef.mkProp(e),n.args=t,n},_.prototype.visitForeach=function(t){var e,n=t.collection.parsed,i=!1;this.updateAnalysisInfo(t.calcNode()),this.markLocation(t),n.getKind().hasEnumerator()?(i=!0,e=this.newTmpVarOK("collArr",g.mk(this.topExpr(t.collection,t),"get_enumerator",[]))):e=this.newTmpVar("coll",this.topExpr(t.collection,t)),this.resetAnalysisInfo(),t._compilerBreakLabel=this.allocateLabel();var r,o=this.newTmpVarOK("idx",this.term("0")),a=this.allocateLabel();if(t._compilerContinueLabel=a,this.aux.push(a),i)r=new v(e,".length",null);else{var s=n.getKind().getProperty("count");r=this.callProperty(s,[e])}var c,l=this.flushAux(),u=this.allocateIf();if(u.condition=g.okAnd([e],new v(o,"<",r)),i)c=new g(e,"[",[o]);else{var d=n.getKind().getProperty("at");c=this.callProperty(d,[e,o])}if(this.aux.push(this.localVarRef(t.boundLocal).gets(c)),this.aux.push(new k(new v(o,"++",null))),0==t.conditions.stmts.length)u.thenBody=this.flushAux(),u.thenBody.pushRange(this.dispatch(t.body));else{for(var p=function(e){return t.conditions.stmts[e].condition.parsed},h=p(0),m=1;m<t.conditions.stmts.length;++m)h=this.mkCall(w.api.core.AndProp,[h,p(m)]);var f=this.allocateIf();f.condition=this.doExpr(h),this.aux.push(f),u.thenBody=this.flushAux(),f.thenBody=this.dispatch(t.body),f.elseBody=[]}return u.thenBody.push(x.simple(a)),u.elseBody=[],l.push(u),l.push(t._compilerBreakLabel),l},_.prototype.visitFor=function(e){this.updateAnalysisInfo(e.calcNode()),this.markLocation(e);var t=this.newTmpVar("bnd",this.topExpr(e.upperBound,e));this.resetAnalysisInfo();var n=this.localVarRef(e.boundLocal);this.aux.push(n.gets(this.term("0")));var i=this.allocateLabel();e._compilerContinueLabel=this.allocateLabel(),e._compilerBreakLabel=this.allocateLabel();var r=this.flushAux();r.push(i);var o=this.allocateIf();return o.condition=new v(n,"<",t),o.thenBody=this.dispatch(e.body),o.thenBody.push(e._compilerContinueLabel),o.thenBody.push(new k(new v(n,"++",null))),o.thenBody.push(x.simple(i)),o.elseBody=[],r.push(o),r.push(e._compilerBreakLabel),r},_.prototype.visitComment=function(e){if(this.options.usedProperties.hasOwnProperty("appconsumerenderedcomments")){var t=e.parent.stmts,n=t.indexOf(e);if(t[n-1]&&null!=t[n-1].docText())return[];for(var i=n;t[i]&&null!=t[i].docText();)i++;var r=w.Step.renderDocs(t.slice(n,i));return[new k(g.direct("s.rt.saveComment",[new y(this.stringLiteral(r))]))]}return[]},_.prototype.callString=function(o,a,s,c){var l,u=this,d=o.parentKind,p=o.runtimeName(),h=o.parentKind.runtimeName(),m=o.getResult().getKind(),f=o.getSpecialApply(),e=16384&o.getFlags();return function(){if(f){A.Util.assertCode(2==a.length),c&&c.isSynthetic&&(c=null);var e=new v(a[0],f,a[1]);if(A.Cloud.isRestricted()&&"Number_"==h&&c&&!c.isShim){var t=_.restrictedIntOps[p];t&&(e=g.direct("lib."+t,[a[0],a[1]]))}l=u.newTmpVar("infix",g.okAnd([a[0],a[1]],e),c)}else if("is_invalid"==p)(l=new v(a[0],"==",u.term("undefined")))._alwaysValid=!0;else if(o.isImplemented())if(d!=w.api.core.App||"javascript"!=p&&"javascript_async"!=p)if(d.isBuiltin||!d.isData)d.isData||a.shift(),a.push(s),c&&c.compiledTypeArgs&&a.pushRange(c.compiledTypeArgs),A.Cloud.isRestricted()&&"Bits"==h&&/^(or|and)_uint32$/.test(p)&&(p=p.replace("uint32","int32")),l=u.newTmpVarOrUnit(m,"call",g.mk(null,"lib."+h+"."+p,a));else{var n=a.shift();a.push(s),c&&c.compiledTypeArgs&&a.pushRange(c.compiledTypeArgs),l=u.newTmpVarOrUnit(m,"call",g.mk(n,p,a))}else u.emitJavascriptEscape(c,s),l=u.unit;else{var i="",r=h+"->"+p;0==(o.getCapability()&w.api.core.currentPlatform)?i="TDev.Util.notSupported":(i="TDev.Util.notImplementedYet",r+=" (yet)"),u.missingApis.indexOf(r)<0&&u.missingApis.push(r),l=u.newTmpVarOrUnit(m,"notImpl",g.direct(i,[u.term("s"),u.term("'"+r+"'")]))}}(),this.options.okElimination&&e&&(this.numOkEliminations++,l._alwaysValid=!0),l},_.prototype.markAllocated=function(e,t){1&e.getResult().getFlags()&&this.aux.push(new k(g.direct("s.rt.markAllocated",[t])))},_.prototype.returnedFrom=function(e,t){var n="result";return 1<e&&(n="results["+t+"]"),this.term("s.rt.returnedFrom."+n)},_.prototype.isDataRef=function(e){return e instanceof w.Call&&!!e.referencedData()},_.prototype.assignTo=function(e,t){if(e.referencedRecordField()||e.referencedData())this.emitRefOperation(e,"set",null,[t]);else{var n=e.getLiftedSetter();if(n){var i=w.mkFakeCall(w.PropertyRef.mkProp(n));this.emitNormalCall(i,[this.doExpr(e.args[0]),t])}else this.aux.push(this.doExpr(e).gets(t))}},_.prototype.doAssignment=function(e){var t=this,n=e.args[0].flatten(w.api.core.TupleProp),i=this.doExpr(e.args[1]);if(1==n.length)e.args[1].getKind()!=w.api.core.Nothing&&this.assignTo(n[0],i);else{var r=e.args[1].anyCalledAction();A.Util.assertCode(null!=r);for(var o=0;o<r.getOutParameters().length;++o)this.assignTo(n[o],this.returnedFrom(r.getOutParameters().length,o))}return n.some(function(e){return t.isDataRef(e)})&&this.aux.push(new k(g.direct("s.rt.logDataWrite",[]))),this.unit},_.prototype.doLazy=function(e,t){var n=this.doExpr(e.args[0]),i=this.newTmpVar("lazy",n),r=this.allocateIf();this.options.okElimination&&n.alwaysValid()?(this.numOkEliminations++,r.condition=t?i:new v(null,"!",i)):r.condition=g.okAnd([i],t?i:new v(null,"!",i)),this.aux.push(r);var o=this.flushAux(),a=this.doExpr(e.args[1]);return this.aux.push(i.gets(a)),this.options.okElimination&&(i._alwaysValid=n.alwaysValid()&&a.alwaysValid()),r.thenBody=this.flushAux(),r.elseBody=[],this.aux=o,i},_.prototype.forceNonRender=function(){this.aux.push(new k(g.direct("s.rt.forceNonRender",[]))),this.aux.push(new k(g.direct("s.rt.forcePageRefresh",[])))},_.prototype.emitRefOperation=function(e,t,n,i){if(void 0===i&&(i=null),"ref"==t||"with notify"==t)return null;if(e instanceof w.Call){var r=e.referencedRecordField();if(r)return this.emitRecordOperation(e,t,r,n,i);var o=e.referencedData();if(o)return this.emitDataOperation(e,t,o,n,i)}return null},_.prototype.emitRefCall=function(e){return this.emitRefOperation(e.args[0],e.prop().getName().slice(1),e.args.slice(1))},_.prototype.emitDataOperation=function(e,t,n,i,r){var o=this;return"get"==t?n.isTransient?this.globalVarRef(n):(r||(r=i.map(function(e){return o.doExpr(e)})),r.unshift(new y(this.stringLiteral("$"+n.getStableName()))),r.push(this.term("s")),this.newTmpVar("val",g.direct("s.d.$$"+(n.cloudEnabled?"cloud":"local")+"persistentvars.perform_get",r))):("set"==t&&(r||(r=i.map(function(e){return o.doExpr(e)})),n.isTransient?this.aux.push(this.globalVarRef(n).gets(r[0])):(r.unshift(new y(this.stringLiteral("$"+n.getStableName()))),r.push(this.term("s")),this.aux.push(new k(g.direct("s.d.$$"+(n.cloudEnabled?"cloud":"local")+"persistentvars.perform_set",r))))),null)},_.prototype.emitRecordOperation=function(e,t,n,i,r){var o=this,a=this.doExpr(e.args[0]),s=new y(this.stringLiteral(n.referenceName()));r||(r=i.map(function(e){return o.doExpr(e)})),r.unshift(s),r.push(this.term("s"));var c,l=this.flushAux();if("get"===t||"confirmed"===t)c=1===n.def().recordType?g.directInst(a,"[",[s]):g.directInst(a,"perform_"+t,r);else{var u=t;u="perform_"+("test and set"===u?"test_and_set":u),this.aux.push(new k(g.directInst(a,u,r))),c=this.unit}c!=this.unit&&(c=this.newTmpVar("recOp",c));var d=this.allocateIf();return d.condition=a,d.thenBody=this.flushAux(),d.elseBody=[],l.push(d),this.aux=l,c},_.prototype.needsProfiling=function(){return this.options.profiling},_.prototype.needsProfilingDebug=function(){return/profilingDebug/.test(document.URL)},_.prototype.debugBuild=function(){return!!this.options.debugging},_.prototype.buildBreakpoint=function(e){var t=new k(new v(this.term("bp$"+e.replace(/\./g,"_")),"&&",g.direct("s.rt.hitBreakpoint",[new y(this.stringLiteral(e))]))),n=this.allocateLabel(),i=x.simple(n,!1);this.aux.push(t,i,n)},_.prototype.buildActionCall=function(e,t,n,i){var r=this.allocateLabel();n.splice(0,1,this.term("s"),new p(r));var o,a=i();if(t){var s=this.newTmpVar("task",g.direct("s.rt.mkActionTask",[]));o=g.direct("s.rt.enterAsync",[s,a])}else o=g.direct("s.rt.enter",[a]);var c=new x(o,!1);return this.aux.push(c,r),t?s:1==e?this.newTmpVar("actRes",this.returnedFrom(e,0)):this.unit},_.prototype.buildStringArray=function(e){var i=this;return this.term("["+e.reduce(function(e,t,n){return t?0==n?i.stringLiteral(t):e+", "+i.stringLiteral(t):e},"")+"]")},_.prototype.emitJavascriptEscape=function(e,t){var n=this;if(this.options.javascript){var i="";if("local"!=e.args[1].getStringLiteral())this.problem(A.lf("wrong JS calling convention")),i="TDev.Util.userError('wrong JS calling convention');";else{var r="javascript async"==e.prop().getName();i=r?"(function(_resumeCtx){\n   var s = _resumeCtx.stackframe;\n   function resume() { _saveResults(); _resumeCtx.resume() }\n   s.localResume = resume;\n":"(function(s){\n",i+="  function _saveResults() {\n",this.currentAction.getOutParameters().forEach(function(e){i+="    "+c(n.localVarRef(e.local))+" = "+s(e.local)+";\n"}),i+="  }\n";var o=this.currentApp.imports.npmModules,a=Object.keys(o);0<a.length&&a.forEach(function(e){e=A.Api.runtimeName(e),i+="  var "+e+" = s.rt.nodeModules."+e+";\n"}),this.currentAction.allLocals.forEach(function(e){i+="  var "+s(e)+" = "+c(n.localVarRef(e))+";\n"}),i+="  var rt = s.rt;\n",i+="  function _userCode() {\n\n";e.args[2].getStringLiteral();i+=e.args[2].getStringLiteral(),i+="\n\n  }\n",i+="  s.rt.runInlineJavascript(_userCode);\n",r||(i+="  _saveResults();\n"),i+="})"}this.aux.push(new k(g.direct(i,[t])))}function s(e){var t=A.Api.runtimeName(e.getName().replace(/[?]/g,""));return"s"==t||"lib"==t?"_"+t:t}function c(e){return e instanceof f?e.code:(A.Util.die(),"")}},_.prototype.problem=function(e){A.Util.log("compiler problem: "+e),this.options.problemCallback&&this.options.problemCallback(e)},_.prototype.doFun=function(e){return e.funAction?(this.compileInlineAction(e.funAction),this.localVarRef(e.funAction.name)):this.term("null")},_.prototype.visitCall=function(e){var n=this,t=e.prop();if(t==w.api.core.AssignmentProp)return this.doAssignment(e);if(t==w.api.core.AndProp)return this.doLazy(e,!0);if(t==w.api.core.OrProp)return this.doLazy(e,!1);if(t==w.api.core.AsyncProp)return this.dispatch(e.args[1]);if(t==w.api.core.FunProp)return this.doFun(e);if(3==t.getCategory())return this.unit;if(t.parentKind.getRoot()==w.api.core.Ref){var i=this.emitRefCall(e);if(i)return i}if(e.autoGet)return this.emitRefOperation(e,"get",[]);var r=e.args.slice(0),o=[];for(t instanceof A.MultiplexProperty&&t.savedArgs&&(o=t.savedArgs.map(function(e){var t=n.term(n.reifyType(e)||"null");return t._alwaysValid=!0,t}));t instanceof A.MultiplexProperty;){var a=e.args[0];if(!(a instanceof w.Call))break;t=(e=a).prop()}return e.compiledTypeArgs=o,r[0]=e.args[0],this.emitNormalCall(e,r.map(function(e){return n.doExpr(e)}))},_.prototype.reifyType=function(e){return e.isBuiltin?this.stringLiteral(e.getName().toLowerCase()):e.getRecord()?!e.parentLibrary()||e.parentLibrary().isThis()?this.globalVarRef(e.getRecord()).code:"s.rt.getLibRecordSingleton("+this.stringLiteral(e.parentLibrary().getStableName())+", "+this.stringLiteral(e.getName())+")":e.isData&&!e.isUserDefined()&&0==e.getParameterCount()?"lib."+e.runtimeName():null},_.prototype.emitNormalCall=function(e,n){var i=this,t=e.prop(),r=e.referencedData(),o=e.calledAction(),a=t&&t.forwardsTo()instanceof w.RecordDef&&t.forwardsTo(),s=function(e){return i.stringLiteral(e)};if(t instanceof w.ExtensionProperty&&(o=t.shortcutTo,n.unshift(null)),r)return r.isTransient?g.direct("lib.GlobalVarRef.mk",[this.term("s.d"),new y(this.stringLiteral(this.globalVarId(r)))]).makeValid():g.direct("lib.PersistedVarRef.mk",[this.term("s.d.$$"+(r.cloudEnabled?"cloud":"local")+"persistentvars"),new y(this.stringLiteral("$"+r.getStableName()))]).makeValid();if(a)return this.globalVarRef(a);if(o&&o.isPage()){var c=[o instanceof w.LibraryRefAction?new y(s(o.parentLibrary().getStableName())):this.term("s.d.libName"),new y(s(o.getName()))];return n.splice(0,1),this.forceNonRender(),this.aux.push(new k(g.direct("s.rt.postAutoPage",c.concat(n)))),this.unit}if(o&&o.canBeInlined&&this.options.inlining){var l,u=o.getOutParameters().length;return this.numInlinedCalls++,n.shift(),n.unshift(new f("s")),l=g.direct("a_"+o.getStableName(),n),1==u?this.newTmpVar("fast_call",l):(this.aux.push(new k(l)),this.unit)}if(o)return o.isExtensionAction()&&(o=o.extensionForward(),n.unshift(null)),this.buildActionCall(o.isAtomic?o.getOutParameters().length:1,e.runAsAsync,n,function(){if(o instanceof w.LibraryRefAction){var e=o;if(o.parentLibrary().isCloud())return n=[new f(e.template.isQuery?"true":"false"),new y(i.stringLiteral(i.options.azureSite)),new y(i.stringLiteral(o.parentLibrary().getName())),new y(i.stringLiteral(o.parentLibrary().getStableName())),new y(i.stringLiteral(o.getName())),i.buildStringArray(o.getInParameters().map(function(e){return e.getName()})),i.buildStringArray(o.getOutParameters().map(function(e){return e.getName()})),i.buildStringArray(o.getOutParameters().map(function(e){var t=e.getKind();if(t instanceof w.LibraryRefAbstractKind)return(i=t).parentLibrary().getStableName()+"→"+i.getName();if(t instanceof A.ParametricKind&&"Collection"===t._name){var n=t.parameters[0];if(n instanceof w.LibraryRefAbstractKind)var i,r=(i=n).parentLibrary().getStableName()+"→"+i.getName();else r=n.getName();return"Collection of "+r}return t.toString()}))].concat(n),g.direct(e.template.isOffline?"s.rt.callServiceOffline":"s.rt.callService",n);var t=i.newTmpVar("libcall",i.term("s.libs["+s(o.parentLibrary().getStableName())+"]["+s(o.getName())+"](s)"));return n[0]=t,g.directInst(t,"invoke",n)}return g.direct("a_"+o.getStableName(),n)});if("run"==t.getName()&&t.parentKind.isAction){var d=n[0];return this.buildActionCall(t.parentKind.getOutParameters().length,e.runAsAsync,n,function(){return g.okAnd([d],g.directInst(d,"",n))})}var p=e.referencedRecordField();if(p){var h=new y(this.stringLiteral(p.referenceName()));return t.isKey?g.mk(n[0],"[",[h]):g.mk(null,"lib.FieldRef.mk",[n[0],h]).makeValid()}return this.callProperty(t,n,e,e.runAsAsync)},_.prototype.callProperty=function(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=!1);for(var r=e.getParameters(),o=0;o<r.length;o++)1&r[o].getFlags()&&this.aux.push(new k(g.direct("s.rt.logObjectMutation",[t[o]])));if(e.shouldPauseInterperter()&&e.isImplemented()){if(i){var a=this.newTmpVarOK("resumeCtx",g.direct("s.rt.getAsyncResumeCtx",[]));return this.callString(e,t,a,n),g.directInst(a,"task",null)}var s=this.allocateLabel(),c=new p(s),l=4096&e.getFlags()?"s.rt.getAwaitResumeCtx":"s.rt.getBlockingResumeCtx";a=this.newTmpVarOK("resumeCtx",g.direct(l,[c]));if(this.callString(e,t,a,n),this.aux.push(new x(c,!1)),this.aux.push(s),e.getResult().getKind()==w.api.core.Nothing)return this.unit;var u=this.newTmpVar("pauseRes",this.term("s.pauseValue"));return this.markAllocated(e,u),u}if(e==w.api.core.StringConcatProp)return this.newTmpVar("concat",g.direct("lib.String_.concatAny",t));u=this.callString(e,t,this.term("s"),n);return this.markAllocated(e,u),u},_.prototype.stringLiteral=function(e){return A.Util.jsStringLiteral(e)},_.prototype.visitLiteral=function(e){switch(typeof e.data){case"string":return new y(this.stringLiteral(e.data));case"number":case"boolean":return new y(e.data.toString());default:A.Util.die()}},_.prototype.handlePlaceholder=function(e){var i=this,t=function(e){return new y(i.stringLiteral(e))},n=e.escapeDef,r=n.objectToMake,o=r.parentLibrary()?r.parentLibrary().getStableName():"this",a=g.direct("s.rt.mkLibObject",[t(o),t(r.getName())]),s=this.newTmpVarOK("obj",a);return n.optionalConstructor&&n.optionalConstructor.optionalParameters().forEach(function(e){var t=new y(i.stringLiteral(e.recordField.referenceName())),n=e instanceof w.OptionalParameter?i.doExpr(e.expr.parsed):i.localVarRef(e.name);i.aux.push(new k(g.directInst(s,"perform_set",[t,n,i.term("s")])))}),s},_.prototype.visitThingRef=function(e){switch(e.def.nodeType()){case"singletonDef":return this.term("null");case"localDef":var t=this.localVarRef(e.def);return this.options.okElimination&&this.currentReachingDefs&&(!this.currentReachingDefs.mayBeInvalid(e.def)||this.currentUsedSet&&this.currentUsedSet.alreadyUsed(e.def))&&(this.numOkEliminations++,t._alwaysValid=!0),t;case"placeholderDef":return this.handlePlaceholder(e.def);default:A.Util.die()}},_.prototype.visitAstNode=function(e){A.Util.oops(A.lf("compilation not implemented for {0}",e.nodeType()))},_.prototype.emitOk=function(e){var t=A.Util.range(0,e).map(function(e){return"a"+e});this.wr("function ok"+e+"(s, "+t.join(", ")+") {\n"),this.wr("  return ("+t.map(function(e){return e+" == undefined"}).join(" || ")+") ?\n"),this.wr('       TDev.Util.userError("using invalid value") : true;\n'),this.wr("}\n\n")},_.prototype.visitLibraryRef=function(e){},_.prototype.visitRecordDef=function(e){var o=this;if(this.shouldCompile(e)){var n="Ent_"+e.getStableName(),t="Tbl_"+e.getStableName();e.cloudEnabled&&(this.options.hasCloudData=!0),e.locallypersisted()&&(this.options.hasLocalData=!0),e.cloudPartiallyEnabled&&(this.options.hasPartialData=!0);var i=(e.persistent?"Cloud":"")+w.RecordDef.recordTypeToString(e.recordType),r=function(e,t,n){""!=t&&(t="."+t),o.wr(e+".prototype"+t+" = "+n+";\n")},a=function(e,t,n){o.wr(e+".prototype["+o.stringLiteral(t)+"] = "+n+";\n")},s=function(e,t,n){r(e,t,"["+n.map(function(e){return o.stringLiteral(e.referenceName())}).join(", ")+"]")};this.wr("\n//"+n+"\n"),this.wr("function "+n+"(p) {\n"),this.wr("  this.parent = p;\n"),this.wr("}\n"),r(n,"","new lib."+i+"Entry()"),s(n,"keys",e.keys.fields()),s(n,"values",e.values.fields()),s(n,"fields",e.getFields());e.getFields().forEach(function(e){a(n,e.referenceName()+"_realname",o.stringLiteral(e.getName()))}),e.persistent||e.getValueFields().forEach(function(e){var t="";switch(e.dataKind.getName()){case"Boolean":t="false";break;case"Number":t="0";break;case"String":t='""';break;case"DateTime":t="lib.DateTime.defaultValue"}t&&a(n,e.referenceName(),t)}),this.wr("//"+t+"\n"),this.wr("function "+t+"(l) {\n"),this.wr("  this.libName = l;\n"),this.wr("  this.initParent();\n"),this.wr("}\n"),r(t,"","new lib."+i+"Singleton()"),r(t,"entryCtor",n),this.wr("cs.objectSingletons["+this.stringLiteral(e.getCoreName())+"] = function(d) { return d."+this.globalVarId(e)+" };\n"),r(t,"selfCtor",t),r(t,"stableName",this.stringLiteral(e.getStableName())),r(t,"entryKindName",this.stringLiteral(e.entryKind.getName())),e.persistent&&!e.hasErrors()&&(r(t,"cloudtype",this.stringLiteral(e.getCloudType())),r(t,"key_cloudtypes","["+e.keys.fields().map(function(e){return o.stringLiteral(e.getCloudType())}).join(", ")+"]"),r(t,"value_cloudtypes","["+e.values.fields().map(function(e){return o.stringLiteral(e.getCloudType())}).join(", ")+"]"),e.locallypersisted()&&!this.options.cloud?r(t,"localsession","true"):(this.cloudstateJsonExport=this.cloudstateJsonExport+"  json["+this.stringLiteral(e.getName())+"] = d."+this.globalVarId(e)+".exportJson(ctx);\n",this.cloudstateJsonImport=this.cloudstateJsonImport+"  d."+this.globalVarId(e)+".importJsonTableOrIndex(ctx,json["+this.stringLiteral(e.getName())+"]);\n",r(t,"replication",e.cloudPartiallyEnabled?this.stringLiteral("partial"):e.cloudEnabled?this.stringLiteral("full"):this.stringLiteral("local")))),this.wr("\n// jsonimport\n"),(2===e.recordType||3===e.recordType)&&0<e.keys.fields().length&&(this.wr(t+".prototype.importJsonKeys = function (ctx, json) {\n"),this.wr("  var s = ctx.s;\n"),this.wr("  var a = [];\n"),e.keys.fields().forEach(function(e){if(e.dataKind.hasContext(1024)){var t=e.dataKind.getName().replace(/ /g,"");switch(t){case"Boolean":case"Number":case"String":case"DateTime":case"Color":case"User":case"Location":case"Vector3":o.wr("  a.push(ctx.import"+t+"(json, "+o.stringLiteral(e.getName())+"));\n");break;default:e.dataKind instanceof w.RecordEntryKind&&o.wr("  a.push(ctx.importRecord(json, undefined,"+o.stringLiteral(e.getName())+", s.d."+o.globalVarId(e.dataKind.record)+"));\n")}}}),this.wr("  return a;\n"),this.wr("}\n")),this.wr(n+".prototype.importJsonFields = function (ctx, json) {\n"),this.wr("  var s = ctx.s;\n"),e.values.fields().forEach(function(e){if(e.dataKind.hasContext(1024)){var t=e.dataKind.getName().replace(/ /g,""),n=o.stringLiteral(e.referenceName());switch(t){case"Boolean":case"Number":case"String":case"DateTime":case"Color":case"JsonObject":case"User":case"Location":case"Vector3":o.wr("  this.perform_set("+n+", ctx.import"+t+"(json, "+o.stringLiteral(e.getName())+"), s);\n");break;case"JsonBuilder":case"Link":case"OAuthResponse":case"StringMap":case"NumberMap":o.wr("  this.perform_set("+n+", ctx.import"+t+"(json, this.perform_get("+n+",s),"+o.stringLiteral(e.getName())+"), s);\n");break;default:if(e.dataKind instanceof w.RecordEntryKind)o.wr("  this.perform_set("+n+", ctx.importRecord(json, this.perform_get("+n+",s),"+o.stringLiteral(e.getName())+", s.d."+o.globalVarId(e.dataKind.record)+"), s);\n");else if("Collection"===e.dataKind._name){var i=e.dataKind.parameters[0],r=i.hasContext(1024)?o.reifyType(i):null;r&&o.wr("  this.perform_set("+n+", ctx.importCollection(json, this.perform_get("+n+",s),"+o.stringLiteral(e.getName())+", "+r+"), s);\n")}}}}),this.wr("}\n");var c=this.globalVarId(e);this.initGlobals+="  if(!d.hasOwnProperty("+this.stringLiteral(c)+") || !d["+this.stringLiteral(c)+"]) d."+c+" = new "+t+"(d.libName);\n",this.initGlobals2+="d."+c+'.name = "'+e.getCoreName()+'";',e.persistent&&(this.initGlobals2+="d."+c+".linked_cloudtables = ["+e.keys.fields().filter(function(e){return e.dataKind instanceof w.RecordEntryKind}).map(function(e){return"d."+o.globalVarId(e.dataKind.record)}).join(", ")+"];\n"),this.resetGlobals+="  d."+c+" = undefined;\n",this.wr("cs.registerGlobal("+this.stringLiteral(c)+");\n")}},_.prototype.throwSyntaxError=function(e){var n=this,t=function(e,t){n.wr("  TDev.Util.syntaxError("+n.stringLiteral(e)+", "+n.stringLiteral(t)+");\n")};return e.hasErrors()?(t(A.lf("function '{0}' (in '{1}') has errors and will not run",e.getName(),this.currentApp.getName()),e.getStableName()),!0):!!this.globalError&&(t(this.globalError,this.globalErrorId),!0)},_.prototype.visitInlinedAction=function(e){var n=this;if(this.inlineCurrentAction=!0,this.localNameCtx=new d,this.actionName="a_"+e.getStableName(),this.currentAction=e,this.wr(this.comment("ACTION: "+e.getName()+" (inlined)")+"\n"),this.wr("function "+this.actionName+"(s "),e.getInParameters().forEach(function(e){n.wr(", "+n.localVarName(e.local))}),this.wr(") {\n"),e._compilerBreakLabel=this.allocateLabel(),this.throwSyntaxError(e))this.wr("\n }\n");else{if(A.Util.assert(e.getOutParameters().length<=1),0<e.getOutParameters().length)null==(i=e.getOutParameters()[0]).local&&this.wr("  var "+i.getName()+" = undefined;\n");e.allLocals.forEach(function(t){e.getInParameters().some(function(e){return e.local==t})||n.wr("  var "+n.localVarName(t)+" = undefined;\n")});var t=this.dispatch(e.body);t.push(e._compilerBreakLabel);var i,r=this.maxArgsToCheck+1;if(this.insertFinalLabels(t),t.forEach(function(e){return e.forEachExpr(function(e){if(e instanceof p&&e.label.refs.push(e),e instanceof g){var t=e;"ok"==t.method&&n.maxArgsToCheck<t.args.length&&(n.maxArgsToCheck=t.args.length)}A.Util.assertCode(e!==n.unit)})}),this.blockId=1,this.tmpIdx=0,this.markBlocks(t),t.forEach(function(e){return e.injectEndIfJumps()}),this.dumpInlinedContents(t),0<e.getOutParameters().length)null==(i=e.getOutParameters()[0]).local?this.wr("  return "+i.getName()+";\n"):this.wr("  return "+this.localVarRef(i.local)+";\n");for(this.wr("}\n");r<=this.maxArgsToCheck;)this.emitOk(r++);this.inlineCurrentAction=!1}},_.prototype.shouldCompile=function(e){return!0===e.visitorState},_.prototype.visitAction=function(n){var i=this;if(this.shouldCompile(n)){if(this.numActions++,this.options.inlining&&n.canBeInlined)return this.numInlinedFunctions++,this.visitInlinedAction(n);this.inlineCurrentAction=!1,this.mapExprToVar={},this.localNameCtx=new d,this.stepIdx=0;var e=function(e){return i.stringLiteral(e)};this.actionName="a_"+n.getStableName(),this.currentAction=n,this.wr(this.comment("ACTION: "+n.getName())+"\n"),this.wr("function "+this.actionName+"(previous, returnAddr"),n.getInParameters().forEach(function(e){i.wr(", "+i.localVarName(e.local))});var t=this.allocateLabel();if(this.wr(") {\n"),n._compilerBreakLabel=this.allocateLabel(),n._compilerInlineAction&&(n._compilerInlineAction._compilerBreakLabel=n._compilerBreakLabel),this.throwSyntaxError(n)||(this.wr("  var s = TDev.Runtime.mkStackFrame(previous, returnAddr);\n  s.entryAddr = "+t.id+";\n  s.name = "+e((n._compilerParentAction||n).getName())+";\n"),1<n.getOutParameters().length&&this.wr("  s.results = [];\n"),n.allLocals.forEach(function(t){i.wr("  "+i.localVarRef(t,!0).toString()+" = ");var e=n.getInParameters().filter(function(e){return e.local==t})[0];e?t.isByRef()&&!e.isClosure?i.wr("{ref:"+i.localVarName(t)+"}"):i.wr(i.localVarName(t)):i.wr("undefined"),i.wr(";\n")}),this.wr("  return s;\n")),this.wr("}\n"),this.wr("cs.register"+(n.isLambda?"Lambda":n.isPage()?"Page":"Action")+"("+e(n.getName())+", "+e(n.getStableName())+", "+this.actionName+(n.isAtomic?", false":", true")+");\n"),n.isEvent()){var r=n.eventInfo;if(!r.disabled){var o=r.onVariable?e(this.globalVarId(r.onVariable)):"null";this.wr("cs.registerEventHandler("+e(r.type.category)+", "+o+", "+this.actionName+");\n")}}if(this.wr("\n"),!n.hasErrors()&&!this.globalError){n.isPage()&&(u(n.getPageBlock(!0),2),u(n.getPageBlock(!1),1)),this.needsProfiling()&&this.profilingScopes.push(new h("profilingLastCallTimeStamp",new y("0")));var a=this.dispatch(n.body);a.push(n._compilerBreakLabel),this.needsProfiling()&&a.unshift(this.profilingScopes.pop());var s=this.options.cloud&&!n.isPrivate;(s||n.isRunnable()&&n.hasInParameters())&&a.unshift(this.synthesizePicker(n.getInParameters())),(s||n.isRunnable()&&n.hasOutParameters())&&a.push(this.synthesizeOutput(n.getOutParameters())),a.unshift(t),t.refs.push(t);var c=this.maxArgsToCheck+1;for(this.insertFinalLabels(a),a.forEach(function(e){return e.forEachExpr(function(e){if(e instanceof p&&e.label.refs.push(e),e instanceof g){var t=e;"ok"==t.method&&i.maxArgsToCheck<t.args.length&&(i.maxArgsToCheck=t.args.length)}A.Util.assertCode(e!==i.unit)})});c<=this.maxArgsToCheck;)this.emitOk(c++);for(this.blockId=1,this.tmpIdx=0,this.markBlocks(a),a.forEach(function(e){return e.injectEndIfJumps()}),a.push(new x(this.term("s.rt.leave()"),!1)),this.dumpFunction(a,0);0<this.todo.length;){this.todo.shift()()}for(this.debuggerLocalCtxs[n.stableId]=this.localNameCtx.getNameMapping();0<this.innerActions.length;){var l=this.innerActions.shift();l.visitorState=!0,this.dispatch(l)}}}function u(e,t){e&&(e.flags|=t)}},_.prototype.recompileAction=function(e,t){this.initGlobals="",this.initGlobals2="",this.maxArgsToCheck=0,this.output="",this.wr("'use strict';\n"),this.wr("(function (cs) {\n"),this.wr("var libs = cs.libs;\n"),this.wr("var lib = TDev.RT;\n"),this.dispatch(e),this.wr("})"),t.reinit(this.output)},_.prototype.insertFinalLabels=function(e){for(var t=0;t<e.length;++t)if(e[t]instanceof l){var n=e[t];e.splice(t+1,0,n.finalLabel),this.insertFinalLabels(n.thenBody),this.insertFinalLabels(n.elseBody)}},_.prototype.markBlocks=function(e){var i=this,r=function(e){if(e instanceof b){var t=e;i.blockId!=t.tmp.definitionPoint&&(t.tmp.isLocal=!1)}};e.forEach(function(e){if(e instanceof l){var t=e;return t.condition.forEachExpr(r),i.markBlocks(t.thenBody),void i.markBlocks(t.elseBody)}if(e instanceof h){var n=e;n.definitionPoint=i.blockId,n.id=i.tmpIdx++}else if(e instanceof c){0<e.refs.length&&i.blockId++}e.forEachExpr(r)})},_.prototype.dumpFunction=function(e,t){var i,n,r,o,a=e[t];if(this.wr("function "+a.id+"(s) {\n"),0==t&&this.libInits(a.id),this.options.optimizeLoops)(s=e[t+1])instanceof l&&0==s.elseBody.length&&(c=s.thenBody.peek())instanceof x&&c.isSimple(a)&&(r=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n instanceof l&&(r(n.thenBody)||r(n.elseBody)))return!0;if(e[t].isUsedLabel())return!0}return!1},o=s.thenBody.slice(0,s.thenBody.length-1),r(o)||(s.thenBody=o,s.isWhile=!0));else if(this.options.blockChaining){var s,c;if((s=e[t+1])instanceof l&&0==s.elseBody.length)(c=s.thenBody.peek())instanceof x&&c.isSimple(a)&&(i=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n instanceof l&&(i(n.thenBody)||i(n.elseBody)))return!0;if(e[t].isUsedLabel())return!0}return!1},n=s.thenBody.slice(0,s.thenBody.length-1),i(n)||(c.jumpsToOptimizedLoop=!0,s.isWhile=!0))}this.dumpInner(e,t+1),this.wr("}\n"),this.wr("cs.registerStep("+a.id+", '"+a.id+"');\n\n")},_.prototype.dumpSimple=function(e){this.wr("  "+e.toString()+"\n")},_.prototype.dumpInner=function(e,t){for(var n=this;t<e.length;){var i=e[t];if(i.isUsedLabel())return this.dumpSimple(x.simple(i)),void this.todo.push(function(){n.dumpFunction(e,t)});if(2==i.category()){for(this.dumpSimple(i);++t<e.length;)if(4==e[t].category())return void this.todo.push(function(){n.dumpFunction(e,t)});return}if(3==i.category()){var r=i;this.wr("  "+(r.isWhile?"while":"if")+" ("+r.condition.toString()+") {\n"),this.dumpInner(r.thenBody,0),0<r.elseBody.length&&(this.wr("  } else {\n"),this.dumpInner(r.elseBody,0)),this.wr("  }\n")}else 4==i.category()||this.dumpSimple(i);t++}},_.prototype.dumpInlinedContents=function(e){for(var t=0;t<e.length;){var n=e[t];if(n.isUsedLabel())return void A.Util.assert(!1);if(2==n.category())return void A.Util.assert(!1);if(3==n.category()){var i=n;this.wr("  "+(i.isWhile?"while":"if")+" ("+i.condition.toString()+") {\n"),this.dumpInlinedContents(i.thenBody),0<i.elseBody.length&&(this.wr("  } else {\n"),this.dumpInlinedContents(i.elseBody)),this.wr("  }\n")}else 4==n.category()||this.dumpSimple(n);t++}},_.prototype.defaultValue=function(e,t){switch(void 0===t&&(t=!1),e.getName()){case"Number":return"0";case"String":return'""';case"Boolean":return"false";case"DateTime":return"lib.DateTime.defaultValue";case"Tile":return"lib.Tile.mkDefaultValue()"}if(!t)return null;switch(e.getName()){case"Collection":return"lib.Collection.fromArray([], "+(this.reifyType(e.getParameter(0))||"null")+")"}return null},_.prototype.addResourceAsFile=function(e){if(/^([a-z0-9\-_][a-z0-9\-_\.]*\/)*[a-z0-9\-_][a-z0-9\-_\.]*\.[a-z0-9]+$/i.test(e.sourceName)){var t=A.Util.clone(e);t.packageUrl=e.sourceName,t.usageLevel=1,this.packageResources.push(t)}},_.prototype.visitGlobalDef=function(e){if(this.shouldCompile(e)){if(e.isResource&&e.url){var t=this.globalVarId(e),n=e.url;if(this.options.packaging){var i=e.getKind().getName(),r=this.options.libStaticPrefix+t.replace(/\$/,""),o=this.options.artUrlSuffix||"",a={kind:"art",id:r,url:n,packageUrl:null,sourceName:e.getName(),usageLevel:e.usageLevel,type:i.toLowerCase()};if("Picture"!==i&&"Sound"!==i||/^data:\/\//i.test(n)){if("String"===i&&(A.RT.String_.valueFromArtUrl(n)||(a.packageUrl=encodeURI("./art/"+r+o),n=a.packageUrl,this.packageResources.push(a)),n)){var s=A.RT.String_.valueFromArtUrl(n);s&&(a.content=s,a.url=void 0),this.addResourceAsFile(a)}}else a.packageUrl=encodeURI("./art/"+r+o),n=a.packageUrl,this.packageResources.push(a),this.addResourceAsFile(a)}0<e.usageLevel&&n&&this.wr("cs.registerArtResource("+this.stringLiteral(e.getKind().runtimeName())+", "+this.stringLiteral(t)+", "+this.stringLiteral(n)+");\n")}e.cloudEnabled?this.options.hasCloudData=!0:e.isTransient||(this.options.hasLocalData=!0),e.isTransient||e.hasErrors()||this.persistentvars.push({local:!e.cloudEnabled,name:e.getStableName(),cloudtype:A.Revisions.Parser.MakeProperty(e.getStableName(),"global[]",w.KindToCodomain(e.getKind()))}),e.isResource||e.isTransient||this.wr("cs.registerGlobal("+this.stringLiteral(this.globalVarId(e))+");\n");var c=this.defaultValue(e.getKind());c&&(this.initGlobals+="  if(!d.hasOwnProperty("+this.stringLiteral(this.globalVarId(e))+")) d."+this.globalVarId(e)+" = "+c+";\n"),e.getKind().isSerializable&&!e.isTransient||(this.resetGlobals+="  d."+this.globalVarId(e)+" = "+(c||"undefined")+";\n")}},_.prototype.initPersistentVars=function(t){var n=this,e=this.persistentvars.filter(function(e){return!!e.local===t});if(0!=e.length){var i="  d.$$"+(t?"local":"cloud")+"persistentvars";this.wr(i+" = new lib.PersistentVars(rt);\n"),this.wr(i+".localsession = "+t.toString()+";\n"),this.wr(i+".libName = d.libName;\n"),this.wr(i+".names = ["+e.map(function(e){return n.stringLiteral("$"+e.name)}).join(", ")+"]; \n"),this.wr(i+".cloudtypes = ["+e.map(function(e){return n.stringLiteral(e.cloudtype)}).join(", ")+"]; \n"),this.resetGlobals+=i+" = undefined;\n"}},_.compileCore=function(e,t,n){var i=new _(n);e.setStableNames(),(new C).dispatch(e),i.dispatch(e),t.init(i.output,i.missingApis,i.packageResources,!n.javascript),t.localNamesBindings=i.debuggerLocalCtxs,n.dynamic&&(e.recompiler=i,e.recompiledScript=t),t.optStatistics.inlinedCalls+=i.numInlinedCalls,t.optStatistics.inlinedFunctions+=i.numInlinedFunctions,t.optStatistics.eliminatedOks+=i.numOkEliminations,t.optStatistics.numActions+=i.numActions,t.optStatistics.numStatements+=i.numStatements,t.optStatistics.termsReused+=i.termsReused,t.optStatistics.constantsPropagated+=i.constantsPropagated,t.imports=i.imports},_.annotateWithIds=function(e){var n=[],i=0;e.libraries().forEach(function(t){!n.filter(function(e){return e.app==t.resolved})[0]&&t.resolved&&(w.Json.setStableId(t.resolved,++i+"."),n.push(t.resolved))}),w.Json.setStableId(e,"0.")},_.getCompiledCode=function(n,e){Object.keys(n.libScripts).forEach(function(e){n.libScripts[e].primaryName=null});var i="";e.cloud?i+="require('./noderuntime.js')\nvar TDev     = global.TDev;\nvar window   = global.TDev.window;\nvar document = global.TDev.window.document;\n":i+="var TDev;\nif (!TDev) TDev = {};\n",i+="\nTDev.precompiledScript = {\n";var r=!0;return Object.keys(n.libScripts).forEach(function(e){r||(i+=",\n\n// **************************************************************\n"),r=!1,i+=A.Util.jsStringLiteral(e)+": ";var t=n.libScripts[e];t.primaryName?i+=A.Util.jsStringLiteral(t.primaryName):(t.primaryName=e,i+=t.code)}),i+="}\n",e.cloud&&(i+="\nTDev.RT.Node.runMainAsync().done();\n"),i},_.getCompiledScript=function(e,i,r){new S(i).run(e);var o=new A.CompiledScript;o.getCompiledCode=function(){return _.getCompiledCode(o,i)},e.clearRecompiler();var a=[];e.setStableNames();var s=0;e.libraries().forEach(function(t){var e=a.filter(function(e){return e.app==t.resolved})[0];if(!e){if((e={app:t.resolved,cs:new A.CompiledScript}).app){var n=A.Util.flatClone(i);n.dynamic=!1,n.isTopLevel=!1,w.Json.setStableId(e.app,++s+"."),n.libStaticPrefix="l"+s+"_",n.debugging&&(e.cs.initBreakpoints=r||A.Hashtable.forStrings()),_.compileCore(e.app,e.cs,n),n.hasCloudData&&(i.hasCloudData=!0),n.hasPartialData&&(i.hasPartialData=!0),n.hasLocalData&&(i.hasLocalData=!0)}o.missingApis.pushRange(e.cs.missingApis),o.packageResources.pushRange(e.cs.packageResources)}o.registerLibRef(t.getStableName(),e.cs)}),w.Json.setStableId(e,"0."),i.libStaticPrefix="l0_";var t,n=0,c=0,l=0,u=0,d=0;if((i.profiling||i.debugging)&&(i.inlining=!1),i.inlining)try{var p=A.RT.Perf.start("inlineanalysis"),h=new w.InlineAnalysis;h.dispatch(e),h.nestedInlineAnalysis(),d=A.RT.Perf.stop(p)}catch(e){A.Util.reportError("Inline Analysis failed",e,!1),d=-1,i.inlining=!1}if(i.okElimination)try{var m=A.RT.Perf.start("reachingdefs");(new w.ReachingDefinitions).visitApp(e),n=A.RT.Perf.stop(m);var f=A.RT.Perf.start("usedanalysis");(new w.UsedAnalysis).visitApp(e),c=A.RT.Perf.stop(f)}catch(e){A.Util.reportError("Reaching Definitions failed",e,!1),n=-1,i.okElimination=!1}if(i.commonSubexprElim){var g=A.RT.Perf.start("availableexpressions");(new w.AvailableExpressions).visitApp(e),l=A.RT.Perf.stop(g)}if(i.constantPropagation){var v=A.RT.Perf.start("constantpropagation");(new w.ConstantPropagation).visitApp(e),u=A.RT.Perf.stop(v)}var y=A.Util.flatClone(i);y.isTopLevel=!0,i.debugging&&(o.initBreakpoints=r||A.Hashtable.forStrings());var b=A.RT.Perf.start("backend");return _.compileCore(e,o,y),t=A.RT.Perf.stop(b),i.inlining&&A.Util.log(A.Util.fmt("Inliner: {0} inlined call(s), {1} inlined action(s)",o.optStatistics.inlinedCalls,o.optStatistics.inlinedFunctions)),i.okElimination&&A.Util.log(A.Util.fmt("Ok elimination: {0} check(s) eliminated (estimated)",o.optStatistics.eliminatedOks)),i.commonSubexprElim&&A.Util.log(A.Util.fmt("CSE: {0} term(s) reused (estimated)",o.optStatistics.termsReused)),i.constantPropagation&&A.Util.log(A.Util.fmt("CP: {0} constant(s) propagated (estimated)",o.optStatistics.constantsPropagated)),o.optStatistics.reachingDefsTime=n,o.optStatistics.usedAnalysisTime=c,o.optStatistics.inlineAnalysisTime=d,o.optStatistics.availableExpressionsTime=l,o.optStatistics.constantPropagationTime=u,o.optStatistics.compileTime=t,o},_.prototype.compileLibs=function(e){var i=this;this.globalError?this.wr("cs.libBindings = {};\n"):(this.wr("(function () {\n"),this.wr("  var lib, bnd, resolve;\n"),this.wr("  var bnds = cs.libBindings = {};\n"),e.librariesAndThis().forEach(function(e){var n=i.stringLiteral(e.getStableName());if(i.wr("  lib = libs["+n+"] = {};\n"),i.wr("  bnd = bnds["+n+"] = "+("this"==e.getStableName()?"libs":"{}")+";\n"),i.wr("  bnd.mkLambdaProxy = cs.mkLambdaProxy(bnd, "+n+");\n"),i.options.scriptId){var t=e.isThis()?i.options.scriptId:e.pubid?e.pubid:e.guid;e.resolved&&i.wr("  bnd.scriptName = "+i.stringLiteral(e.resolved.getName()+" ("+t+")")+";\n"),i.wr("  bnd.scriptId = "+i.stringLiteral(t)+";\n"),i.wr("  bnd.topScriptId = "+i.stringLiteral(i.options.scriptId)+";\n")}e.getPublicActions().forEach(function(e){if(i.shouldCompile(e)){var t=i.stringLiteral(e.getName());i.wr("    lib["+t+"] = cs.mkLibProxyFactory(bnd, "+n+", "+t+");\n")}})}),e.libraries().forEach(function(e){var t=i.stringLiteral(e.getStableName());i.wr("  bnd = bnds["+t+"];\n"),i.wr('  bnd["this$lib"] = '+t+";\n"),e.resolveClauses.forEach(function(e){var t=i.stringLiteral(e.formalLib.getStableName());i.wr("    resolve = bnd["+t+"] = {};\n"),i.wr("    bnd["+t+' + "$lib"] = '+i.stringLiteral(e.defaultLib.getStableName())+";\n"),e.actionBindings.forEach(function(e){var t="libs["+i.stringLiteral(e.actualLib.getStableName())+"]["+i.stringLiteral(e.actual.getName())+"]";i.wr("      resolve["+i.stringLiteral(e.formalName)+"] = "+t+";\n")})})}),this.wr("}());\n"))},_.prototype.visitApp=function(e){var r=this;if(this.stmtIds=m.collect(e),this.options.isTopLevel){var t=[];e.libraries().forEach(function(e){e.getLibInit()&&t.push(e.getStableName())}),0<t.length&&(this.libInits=function(e){r.wr("  if (!s.rt._libinitDone) return s.rt.runLibInits("+JSON.stringify(t)+", "+e+");\n")})}this.initGlobals="",this.initGlobals2="",this.currentApp=e,this.needsScriptText=!1;var n=this.currentApp.getGlobalErrorDecl(!this.options.isTopLevel);if(n?(this.globalError=A.Util.fmt("'{0}' (in '{1}') has errors; the script will not run",n.getName(),this.currentApp.getName()),this.globalErrorId=n.getStableName()):(this.globalError=null,this.globalErrorId=null),this.runmap_variables.clear(),this.wr("(function (cs) {\n"),this.wr("'use strict';\n"),this.wr("var libs = cs.libs = {};\n"),this.wr("var lib = TDev.RT;\n"),this.wr("var callstackcurdepth = 0;\n"),this.needsProfiling()&&this.wr("var profilingScriptStart = Date.now();\n"),this.debugBuild()&&(this.wr("cs.breakpointBindings = {};\n"),this.stmtIds.forEach(function(e){var t="bp$"+e.replace(/\./g,"_");r.wr("var "+t+" = !!cs.initBreakpoints.get("+r.stringLiteral(e)+");\n"),r.wr("cs.breakpointBindings["+r.stringLiteral(e)+"] = { setter : function(smth) { "+t+" = smth; }, getter: function () { return "+t+"; } };\n")})),this.wr("cs.scriptTitle = "+this.stringLiteral(e.getName())+";\n"),this.wr("cs.scriptColor = "+this.stringLiteral(e.htmlColor())+";\n"),this.wr("cs.objectSingletons = {};\n"),e.showAd&&this.wr("cs.showAd = true;\n"),e.things.forEach(function(e){return r.dispatch(e)}),this.options.isTopLevel&&this.compileLibs(e),this.wr("cs.startFn = function(rt) {\n"+w.api.rt_start+"};\n\n"),this.wr("cs.stopFn = function(rt) {\n"+w.api.rt_stop+"};\n\n"),this.instrumentForCoverage()&&(this.wr("cs.extractRunMap = function(rt) {\n"),this.runmap_variables.forEach(function(e){return r.wr("    if("+e[1]+") rt.beenHere("+r.stringLiteral(e[0])+");\n")}),this.wr("};\n\n")),!this.options.cloud&&this.options.isTopLevel&&(this.imports.cordovaPlugins=w.AppImports.combineCordovaPlugins(e)),this.options.cloud&&this.options.isTopLevel){this.imports.pipPackages=w.AppImports.combinePipPackages(e),e.isCloud||(this.wr("cs.autoRouting = true;\n"),this.options.hasCloudData&&(this.options.hostCloudData=!0)),this.wr("cs.setupRestRoutes = function(rt) {\n");/^https?:\/\/(.+?)\/?$/i.exec(this.options.azureSite)[1];e.librariesAndThis().stableSorted(function(e,t){return e.getStableName().localeCompare(t.getStableName())}).forEach(function(i){i.isCloud()&&i.getPublicActions().stableSorted(function(e,t){return e.getName().localeCompare(t.getName())}).forEach(function(e){var t="libs["+r.stringLiteral(i.getStableName())+"]["+r.stringLiteral(e.getName())+"]";if("_init"==e.getName())r.wr("  rt.addRestInit("+t+");\n");else{var n=i.isThis()||"*"==i.getName()?"":i.getName()+"/";"*"!=e.getName()&&(n+=e.getName()),n=n.replace(/\/+$/,""),r.wr("  rt.addRestRoute("+r.stringLiteral(n)+", "+t+");\n")}i.isThis()&&"main"==e.getName()&&r.wr("  rt.setMainAction("+t+");\n")})}),this.wr("  rt.nodeModules = {};\n");var i=w.AppImports.combineNpmModules(e),o=this.imports.npmModules;Object.keys(i).forEach(function(e){if("error"==i[e])r.wr("  TDev.Util.syntaxError("+r.stringLiteral("node.js module version conflict on "+e)+");\n");else{r.wr("  rt.nodeModules."+A.Api.runtimeName(e)+" = require("+r.stringLiteral(e)+");\n");var t=i[e];t&&(o[e]=t)}}),this.wr("}\n\n")}if(this.wr("cs._compilerVersion = '"+_.version+"';\n"),this.wr("cs._initGlobals = function(d,rt) {\n"+this.initGlobals+"\n"),this.initPersistentVars(!0),this.initPersistentVars(!1),this.wr("};\n\n"),this.wr("cs._initGlobals2 = function(d) {\n"+this.initGlobals2+"};\n\n"),this.wr("cs._resetGlobals = function(d) {\n"+this.resetGlobals+"};\n\n"),this.wr("cs._importJson = function(d,ctx,json) {\n"+this.cloudstateJsonImport+"};\n\n"),this.wr("cs._exportJson = function(d,ctx) {\n  var json = {};\n"+this.cloudstateJsonExport+"  return json;\n};\n\n"),this.needsProfiling()){for(var a in this.profilingBlocks){this.wr("var profilingExecutions"+a+" = 1;\n"),this.wr("var profilingExecutionsNext"+a+" = 1;\n"),this.wr("var profilingExecutionsNextCount"+a+" = 1;\n");for(var s=this.profilingBlocks[a],c=0;c<s.length;c++)this.wr("var profilingDuration"+s[c]+" = 0;\n"),this.wr("var profilingDurationSamples"+s[c]+" = 0;\n")}for(var a in this.wr("\n"),this.wr("var tmp = 0;\n\n"),this.wr("var perfNow = TDev.Util.perfNow;\n\n"),this.wr("cs._getProfilingResults = function() {\n"),this.wr("  var profilingDataCollection = {\n"),this.wr("    unitduration: "+localStorage.perfunit+",\n"),this.wr("    compilerversion: '"+_.version+"',\n"),this.wr("    astnodes: {},\n"),this.wr("    show: "+this.options.showProfiling+"\n"),this.wr("  };\n"),this.wr("  var astnodes = profilingDataCollection.astnodes;\n"),this.wr("  astnodes[''] = {count: 1, duration: (Date.now() - profilingScriptStart)};\n"),this.wr("  var hits;\n"),this.profilingBlocks)for(s=this.profilingBlocks[a],c=0;c<s.length;c++){var l=s[c],u="profilingDuration"+l,d="profilingDurationSamples"+l;this.wr("  hits = profilingExecutionsNextCount"+a+"-profilingExecutions"+a+";\n");var p="Math.ceil("+u+"/"+d+"*hits)";this.wr("  if (hits) astnodes['"+l+"'] = {count: hits, duration: "+p+"};\n")}this.needsProfilingDebug()&&this.wr("  alert(JSON.stringify(profilingDataCollection));\n"),this.wr("  return profilingDataCollection;\n"),this.wr("};\n\n")}this.options.showCoverage&&this.wr("cs._showCoverage = true;\n");var h=e.mainAction();h&&this.wr("cs.mainActionName = "+this.stringLiteral(h.getName())+";\n"),this.options.authorId&&this.wr("cs.authorId = "+this.stringLiteral(this.options.authorId)+";\n"),this.options.scriptId&&!/-/.test(this.options.scriptId)&&this.wr("cs.scriptId = "+this.stringLiteral(this.options.scriptId)+";\n"),this.options.scriptGuid&&this.wr("cs.scriptGuid = "+this.stringLiteral(this.options.scriptGuid)+";\n"),this.options.baseScriptId&&!/-/.test(this.options.baseScriptId)&&this.wr("cs.baseScriptId = "+this.stringLiteral(this.options.baseScriptId)+";\n"),this.options.logoUrl&&this.wr("cs.logoUrl = "+this.stringLiteral(this.options.logoUrl)+";\n"),this.options.hasCloudData&&this.wr("cs.hasCloudData = 1;\n"),this.options.hasPartialData&&this.wr("cs.hasPartialData = 1;\n"),this.options.azureSite&&this.wr("cs.azureSite = "+this.stringLiteral(this.options.azureSite)+";\n"),this.options.hasLocalData&&this.wr("cs.hasLocalData = 1;\n"),this.options.hostCloudData&&this.wr("cs.hostCloudData = 1;\n"),this.needsScriptText&&this.wr("var scriptText = "+this.stringLiteral(e.serialize())+";\n"),this.options.isTopLevel&&this.options.usedProperties.hasOwnProperty("appreflect")&&this.wr("cs.reflectionInfo = { actions: "+JSON.stringify(w.Json.reflectionInfo(e))+" };\n"),this.options.packaging&&this.options.artResolver&&(e.iconArtId&&this.packageResources.push({kind:"art",id:"scripticon",url:this.options.artResolver(e.iconArtId),packageUrl:null,sourceName:"icon",usageLevel:1,type:"picture"}),e.splashArtId&&this.packageResources.push({kind:"art",id:"scriptsplash",url:this.options.artResolver(e.splashArtId),packageUrl:null,sourceName:"splash",usageLevel:1,type:"picture"})),this.runmap_variables.forEach(function(e){return r.wr("var "+e[1]+";\n")}),this.wr("})")},_.prototype.synthesizeOutput=function(e){var t=this,n=this.allocateIf();n.condition=this.term("s.previous.needsPicker"),e=e.slice(0);var i=this.options.rest||this.options.cloud;return i||e.reverse(),n.thenBody=e.map(function(e){return g.direct(i?"s.response.addRestResult":"s.rt.displayResult",[new y(t.stringLiteral(e.getName())),t.localVarRef(e.local)])}),n.elseBody=[],n},_.prototype.synthesizePicker=function(e){var i=this,t=this.allocateIf();t.condition=this.term("s.previous.needsPicker"),t.elseBody=[];var n=this.allocateLabel(),r=new p(n),o=function(e){return new y(i.stringLiteral(e))};if(this.options.rest||this.options.cloud)t.thenBody=e.map(function(e){var t=e.getKind(),n=g.direct("s.rt.getRestArgument",[o(e.getName()),t instanceof w.RecordEntryKind?o(t.record.getStableName()):o(e.getKind().toString()),i.term("s")]);return i.localVarRef(e.local).gets(n)}),t.thenBody.push(this.term("s.response").gets(this.term("s.rt.getRestRequest().response()")));else{var a=e.map(function(e){return e.getKind().picker?g.direct("lib.RTValue.mkPicker",[i.term(e.getKind().picker),i.term(i.defaultValue(e.getKind(),!0)),o(e.getName()),o(i.localVarName(e.local))]):i.term("undefined")});a.unshift(r),t.thenBody=[new k(g.direct("s.rt.pickParameters",a)),new x(r,!1),n]}return t},_.markUsedStuff=function(e){new S({}).run(e)},_.version="1",_.restrictedIntOps={add:"Bits.add_int32",subtract:"Bits.subtract_int32",multiply:"Bits.multiply_int32",divide:"Bits.divide_int32"},_}(w.NodeVisitor);w.Compiler=u;var C=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.visitApp=function(e){e.variablesAndResources().forEach(function(e){return e.usageLevel=0}),t.prototype.visitChildren.call(this,e)},e.prototype.visitDecl=function(e){t.prototype.visitChildren.call(this,e)},e.prototype.visitStmt=function(e){t.prototype.visitChildren.call(this,e)},e.prototype.visitExprHolder=function(e){e.parsed&&this.dispatch(e.parsed)},e.prototype.doCall=function(e,t){var n=e.getCalledProperty();if(n&&n.forwardsTo()instanceof w.GlobalDef){var i=n.forwardsTo(),r=65536&t?1:2;i.usageLevel<r&&(i.usageLevel=r)}for(var o=n?n.getFlags():0,a=e.args,s=0;s<a.length;++s)a[s]instanceof w.Call?this.doCall(a[s],o):this.dispatch(a[s])},e.prototype.visitCall=function(e){this.doCall(e,0)},e}(w.NodeVisitor),S=function(t){function e(e){t.call(this),this.options=e,this.options.usedProperties={}}return __extends(e,t),e.prototype.useKind=function(e){var t=e.getRecord();t&&this.runOnDecl(t)},e.prototype.useBuiltinProperty=function(e){this.options.usedProperties[e.usageKey().toLowerCase()]=!0},e.prototype.secondaryRun=function(e){var n=this;e.libraries().forEach(function(e){(e.isTutorial()||e.isCloud())&&e.getPublicActions().forEach(function(e){return n.runOnDecl(e)});var t=e.getLibInit();t&&n.runOnDecl(t)})},e}(w.DeepVisitor);w.PreCompiler=S}(A.AST||(A.AST={}))}(TDev||(TDev={})),function(s){!function(r){r.eventSigs=[{sig:"gameloop()",help:"raised many times per second",alt:"time->on every frame"},{sig:"shake()",help:"raised when device is shaken",alt:"senses->on shake"},{sig:"phone_face_up()",help:"raised when screen is facing up",alt:"senses->on phone face up"},{sig:"phone_face_down()",help:"raised when screen is facing down",alt:"senses->on phone face down"},{sig:"phone_portrait()",help:"raised when device is in the default screen orientation",alt:"senses->on phone portrait"},{sig:"phone_landscape_left()",help:"raised when device is rotated 90 degrees to the left",alt:"senses->on phone landscape left"},{sig:"phone_landscape_right()",help:"raised when device is rotated 90 degrees to the right",alt:"senses->on phone landscape right"},{sig:"active_song_changed()",help:"raised when the active song changes in the player"},{sig:"player_state_changed()",help:"raised when the player is paused, stopped or started"},{sig:"camera_button_half_pressed()",help:"not supported",obsolete:!0},{sig:"camera_button_pressed()",help:"not supported",obsolete:!0},{sig:"camera_button_released()",help:"not supported",obsolete:!0},{sig:"empty_space_on_wall()",help:"not implemented yet"},{sig:"page_navigated_from()",help:"raised when a page is popped",alt:"wall->current page->on navigated from"},{sig:"cloud_data_updated()",help:"raised when cloud data was synchronized with the cloud"},{sig:"touch_down\\:_(Var:Board, x:Number, y:Number)",help:""},{sig:"touch_up\\:_(Var:Board, x:Number, y:Number)",help:""},{sig:"touch_over_(Var:Sprite_Set, sprite:Sprite, index_in_set:Number, x:Number, y:Number)",help:""},{sig:"tap_board\\:_(Var:Board, x:Number, y:Number)",help:"raised when the board is tapped"},{sig:"swipe_board\\:_(Var:Board, x:Number, y:Number, delta_x:Number, delta_y:Number)",help:"raised when the board is swiped"},{sig:"tap_sprite_in_(Var:Sprite_Set, sprite:Sprite, index_in_set:Number, x:Number, y:Number)",help:"raised when a sprite from the sprite set is tapped"},{sig:"swipe_sprite_in_(Var:Sprite_Set, sprite:Sprite, index_in_set:Number, x:Number, y:Number, delta_x:Number, delta_y:Number)",help:"raised when a sprite from the sprite set is swipped"},{sig:"drag_sprite_in_(Var:Sprite_Set, sprite:Sprite, index_in_set:Number, x:Number, y:Number, delta_x:Number, delta_y:Number)",help:"raised when a sprite from the sprite set is dragged"},{sig:"tap_sprite\\:_(Var:Sprite, sprite:Sprite, x:Number, y:Number)",help:"raised when the sprite is tapped"},{sig:"swipe_sprite\\:_(Var:Sprite, sprite:Sprite, x:Number, y:Number, delta_x:Number, delta_y:Number)",help:"raised when the sprite is swiped"},{sig:"drag_sprite\\:_(Var:Sprite, sprite:Sprite, x:Number, y:Number, delta_x:Number, delta_y:Number)",help:"raised when the sprite is dragged"}];var o=function(e,t){this.globalKind=null,this.platform=0,this.lowPriority=!1;var n=t.sig;this.help=t.help,this.lowPriority=!!t.obsolete,e.tokenize(n);var i=e.parseActionHeader();this.category=i.name,this.inParameters=i.inParameters.map(function(e){return e.local}),0<this.inParameters.length&&"Var"==this.inParameters[0].getName()&&(this.globalKind=this.inParameters[0].getKind(),this.inParameters.shift()),/^phone_/.test(n)?this.platform=16384:/^shake/.test(n)?this.platform=1:/^(active_song_changed|player_state_changed)/.test(n)?this.platform=256:/^camera_button/.test(n)&&(this.platform=4,this.lowPriority=!0),/^empty_space/.test(n)&&(this.lowPriority=!0)};r.EventClass=o;var a=function(e){this.type=e,this.disabled=!1};r.EventInfo=a;var e=function(){function e(){}return e.prototype.genericEvent=function(){return this.mkAction(this.eventClasses[0],"event")},e.prototype.init=function(){var n=this,i=new r.Parser;this.eventClasses=r.eventSigs.map(function(e){return new o(i,e)}),r.api.getKinds().forEach(function(e){if(e.isData&&e.hasContext(256)){var t=new o(i,{sig:"evt()",help:"raised when a "+e.getName()+" is tapped on the wall"});t.category="tap wall "+e.getName(),t.lowPriority="TextBox"!=e.getName(),t.inParameters=[r.mkLocal("item",e)],n.eventClasses.push(t)}})},e.prototype.setInfo=function(e,t){var n=e.getName(),i=this.eventClasses.filter(function(e){return n.slice(0,e.category.length)==e.category});i.sort(function(e,t){return t.category.length-e.category.length});var r=i[0];void 0===r?(e.isPrivate=!0,t.error("no such event category "+e.getName())):e.setEventInfo(new a(r))},e.prototype.mkAction=function(e,t){var n=new r.Action;return n.parent=s.Script,n.header.inParameters.setChildren(e.inParameters.map(function(e){return new r.ActionParameter(e.clone())})),n.setName(t),n.body=r.Parser.emptyBlock(),n.body.parent=n.header,n.setEventInfo(new a(e)),n},e.prototype.availableEvents=function(){var i=this,r={};s.Script.events().forEach(function(e){r[e.getName()]=!0});var o=[];return this.eventClasses.forEach(function(t){if(s.Script.canUseCapability(t.platform)){var n=function(e){r[e]||o.push(i.mkAction(t,e))};t.globalKind?s.Script.variables().forEach(function(e){e.getKind()==t.globalKind&&n(t.category+e.getName())}):n(t.category)}}),o},e}();r.EventMgr=e}(s.AST||(s.AST={}))}(TDev||(TDev={})),function(_){var w;(function(n){function u(e){if(null==n.infixProps){n.infixProps={};var t=_.api;[t.core.Number,t.core.Boolean,t.core.String,t.core.Unknown].forEach(function(e){e.listProperties().forEach(function(e){0<e.getInfixPriority()&&!n.infixProps[e.getName()]&&(n.infixProps[e.getName()]=e)})})}return/^fun:/.test(e)&&(e="fun"),n.infixProps[e]}n.infixProps=null;var d=function(e){return/^[0-9]$/.test(e)};function y(e){var t=new w.StackOp;return t.copyFrom(e),t.type="operator",t.infixProperty=u(","),t.op=",",t}function b(e){var t=new w.StackOp;return t.copyFrom(e),t.type="literal",t.expr=w.mkLit(0),t.expr.loc=t}function i(e){for(var t,n=[],i=0;i<e.length;++i)e[i].clearError();for(i=0;i<e.length;++i){var r=e[i],o=new w.StackOp;switch(o.type=r.nodeType(),o.tokens=e,o.beg=i,o.len=1,n.push(o),o.type){case"literal":case"thingRef":o.expr=r,o.expr.loc=o;break;case"propertyRef":o.propertyRef=r;break;case"operator":if(t=r.getText(),/^[0-9\.]$/.test(t)){for(var a=!1,s="",c="";i<e.length&&"operator"===e[i].nodeType();){if(c=e[i].getText(),d(c))s+=c;else{if("."!==c||a)break;s+=c,a=!0}i++}o.len=i-o.beg,i--,"."===s&&(o.markError(_.lf("TD142: expecting a digit before or after the dot")),s="0.0"),o.type="literal";var l=w.mkLit(parseFloat(s));l.stringForm=s,o.expr=l,o.expr.loc=o}else"("===t||")"===t?o.prioOverride=-1:o.infixProperty=u(t),o.prio()||o.markError(_.lf("TD143: unknown operator {0}",t)),o.op=t;break;default:_.Util.die()}}return n}n.parse0=i,n.parse1=function(e){var p=i(e),h=0;if(1==p.length&&p[0].prio()==w.api.opStmtPriority){var t=b(p[0]);t.expr=w.mkPlaceholderThingRef(),p.push(t)}function m(e){var t=null;return t=h>=p.length?p.peek():p[h],h>=p.length||t.op!==e?(t.markError(_.lf("TD144: it seems you're missing '{0}', try adding it",e)),!1):(h++,!0)}function f(e,t){4!=t&&98!=t||t++;for(var n=e.pop();0<e.length&&e.peek().prio()>=t;){var i=e.pop(),r=e.pop();_.Util.assert(!!r.expr);var o=i.infixProperty,a=[r.expr,n.expr];0<o.getInfixPriority()&&1===o.getParameters().length&&(a=[n.expr]);var s=n.beg+n.len,c=new w.StackOp;c.tokens=n.tokens,n=c;var l=w.PropertyRef.mkProp(i.infixProperty);n.expr=w.mkCall(l,a);var u=i.tokens[i.beg];u instanceof w.Operator&&(u.call=n.expr,l.fromOp=u),n.beg=r.beg,n.len=s-n.beg,_.Util.assert(!isNaN(n.len)),n.expr.loc=n}e.push(n)}function g(e){var t,n=p[h];if(!n)return[e];if("("===n.op){if(!(n=p[++h]))return m(")"),[e]}else{if(!n.expr)return[e];n.markError(_.lf("TD145: there seem to be an operator (like '+', '(' or ',') missing here"))}return n&&")"==n.op?(h++,[e]):(t=v(!1).flatten(_.api.core.TupleProp),m(")"),[e].concat(t))}function v(e){for(var t=[];h<p.length;){var n=t.peek(),i=p[h++],r=null!=n?n.expr:null;if(null!==i.expr)null!=n&&0===n.prio()&&(i.markError(_.lf("TD145: there seem to be an operator (like '+', '(' or ',') missing here")),t.push(y(i))),null!=n&&98==n.prioOverride&&i.expr instanceof w.Literal&&(i.expr.possiblyNegative=!0),t.push(i);else if(0<i.prio())null===r&&"-"===i.op&&(i.prioOverride=98,n=b(i),t.push(n)),("not"===i.op||"async"==i.op||"await"==i.op||/^fun:/.test(i.op)||i.prio()==w.api.opStmtPriority)&&(null===r?(n=b(i),t.push(n)):i.markError(_.lf("TD146: we didn't expect '{0}' here",i.op))),n&&n.expr?(f(t,i.prio()),t.push(i)):(i.markError(_.lf("TD147: we didn't expect '{0}' here",i.op)),","==i.op&&(t.push(b(i)),f(t,i.prio()),t.push(i)));else if("propertyRef"===i.type){if(r){var o=i.beg+i.len;i.beg=n.beg,i.len=o-i.beg,t.pop()}else{if(!(1<t.length&&null!==t[t.length-2].expr)){i.markError(_.lf("TD149: property needs an expression in front"));continue}var a=t.pop();a.markError(_.lf("TD148: we didn't expect {0} here",a.op?"'"+a.op+"'":_.lf("this"))),r=t.peek().expr}var s=g(r);i.expr=w.mkCall(i.propertyRef,s),i.expr.loc=i;var c=p[h-1];i.len=c.beg+c.len-i.beg,_.Util.assert(!isNaN(i.len)),t.push(i)}else if(i.prio()<0){if("("===i.op){r&&(i.markError(_.lf("TD150: cannot call the thing before '('")),t.push(y(i)));var l=new w.StackOp;l.expr=v(!1),(l.expr.loc=l).copyFrom(i),t.push(l),m(")")||i.markError(_.lf("TD151: unclosed '('"));var u=p[h-1];l.len=u.beg+u.len-i.beg}else if(")"===i.op){if(!e){h--;break}i.markError(_.lf("TD152: unexpected ')'"))}}else i.markError(_.lf("TD153: parse error"))}for(;0<t.length&&null===t.peek().expr;){if(t.peek().markError(_.lf("TD154: the operator needs something after it")),/^fun:/.test(t.peek().op)){t.push(b(t.peek()));break}t.pop()}f(t,.1);var d=t.peek();return d&&d.expr?d.expr:w.mkPlaceholderThingRef()}return v(!0)}})((w=_.AST||(_.AST={})).ExprParser||(w.ExprParser={}))}(TDev||(TDev={})),function(v){!function(e){!function(e){var r=["+","-","*","/","=","≠","≤","<","≥",">",":=","(",")",",","∥","→","$","...",";","{","}","//",":","?","[","]","♻"],d={"!=":"≠","<=":"≤",">=":"≥","||":"∥","->":"→","`":"♻"},o={},a=["for","do","foreach","if","then","else","action","event","table","var","script","in","while","meta","skip","returns","apply","distinct","reverse","top","bottom","where","order by","transform to","function","global","goto","break","continue","return","match","switch","case","public","private","this","self","try","finally","catch","throw","and","or","not"],s={},c=/[\\\(\)\|\[\]\^\$\.\?\+\*\{\}]/g,p=/x/;function n(e,t,n){for(var i="",r=0;r<e.length;++r){var o=e.charAt(r);if(/[A-Za-z0-9]/.test(o))i+=o;else switch(o){case"\\":case"'":case'"':i+="\\"+o;break;case" ":i+=t?o:"_";break;case"_":i+=t?o:"\\_";break;case"\t":i+="\\t";break;case"\n":i+="\\n";break;case"\r":i+="\\r";break;default:var a=o.charCodeAt(0);i+=!t||a<32||n&&127<a?"\\u"+(65536|a).toString(16).slice(-4):o}}return i}e.init=function(){var e=r.slice(0);for(var t in d)d.hasOwnProperty(t)&&(e.push(t),o[d[t]]=t);e.push("0","1","2","3","4","5","6","7","8","9","."),e.sort(function(e,t){return t.length-e.length});var n="^(?:",i=!0;e.forEach(function(e){i||(n+="|"),i=!1,n+=e.replace(c,"\\$&"),s[e]=!0}),p=new RegExp(n+")"),a.forEach(function(e){s[e]=!0})},e.quotedOp=function(e){return/^[a-zA-Z]/.test(e)};var h=function(e){return s.hasOwnProperty(e)};e.quoteId=function(e){if(""==e)return"\\j";var t="";return(h(e)||/^[0-9]/.test(e))&&(t+="@"),t+=n(e,!1,!0)},e.quoteString=function(e,t){return'"'+n(e,!0,t)+'"'},e.asciiOperator=function(e){return o.hasOwnProperty(e)?o[e]:e};var m=function(e){return/[_\\A-Za-z]/.test(e)},f=function(e){return/[_\\A-Za-z0-9]/.test(e)};e.tokenize=function(o){var a=0,n=[];function t(e,t){v.Util.assert("string"==typeof t),n.push(new g(o,a,e,t))}function e(e){for(var t="",n=0;!(a+n>=o.length);){var i=o.charAt(a+n++);if("\\"==i){switch(i=o.charAt(a+n++)){case"s":i=" ";break;case"t":i="\t";break;case"n":i="\n";break;case"r":i="\r";break;case"q":i='"';break;case"j":i="";break;case"z":i="\0";break;case"_":i="_";break;case"x":var r=o.slice(a+n,a+n+2);/^[a-f0-9]+$/i.test(r)?(i=String.fromCharCode(parseInt(r,16)),n+=2):(s("invalid \\x sequence"),t+="\\");break;case"u":r=o.slice(a+n,a+n+4),/^[a-f0-9]+$/i.test(r)?(i=String.fromCharCode(parseInt(r,16)),n+=4):(s("invalid unicode sequence"),t+="\\");break;default:/[A-Za-z0-9]/.test(i)&&(s("invalid escape sequence"),t+="\\")}t+=i}else if(null!=e){if(i==e)break;t+=i}else if("_"==i)t+=" ";else{if(!f(i)){n--;break}t+=i}}return a+=n,t}function s(e){t(6,e)}for(;a<o.length;){var i=o.charAt(a);if(/[ \t\n\r]/.test(i))a++;else if("@"==i&&f(o.charAt(a+1)))a++,t(1,e(null));else if('"'==i||"'"==i)a++,t(3,e(i));else if("`"==i)a++,t(0,e(i));else if("#"==i)a++,"@"==o.charAt(a)&&a++,t(5,e(null));else if(m(i)){var r=e(null);/^(and|or|not)$/.test(r)?t(0,r):h(r)?t(2,r):t(1,r)}else{var c=o.slice(a,a+3),l=p.exec(c),u=null;l&&(u=l[0]),u?(a+=u.length,"//"==u?t(4,e("\n").trim()):t(0,u=d[u]||u)):(s("unexpected character "+i),a++)}}return t(7,""),n}}(e.Lexer||(e.Lexer={}));var t,g=function(){function e(e,t,n,i){this.input=e,this.inputPos=t,this.category=n,this.data=i}return e.prototype.toString=function(){return this.data},e}();e.LexToken=g,(t=e.TokenType||(e.TokenType={}))[t.Op=0]="Op",t[t.Id=1]="Id",t[t.Keyword=2]="Keyword",t[t.String=3]="String",t[t.Comment=4]="Comment",t[t.Label=5]="Label",t[t.Error=6]="Error",t[t.EOF=7]="EOF";e.TokenType}(v.AST||(v.AST={}))}(TDev||(TDev={})),function(l){!function(u){var e=function(){function a(){this.libRefs={},this.currentLabel=[],this.declarationCallbacks={action:this.parseAction,event:this.parseAction,meta:this.parseMetaDecl,var:u.GlobalDef.parse,table:u.RecordDef.parse},this.statementCallbacks={meta:this.parseMetaStmt,skip:this.parseSkip,for:a.stmtCtor(u.For),foreach:a.stmtCtor(u.Foreach),while:a.stmtCtor(u.While),if:a.stmtCtor(u.If),else:this.parseElseIf,do:this.parseDo,where:this.parseWhere,var:this.parseField}}return a.stmtCtor=function(n){return function(e){var t=new n;e.stmtList.push(t),t.parseFrom(e)}},a.prototype.errorLoc=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.errors.push(new r(e,l.Util.fmt_va(t,n)))},a.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.errors.push(new r(this.curr(),l.Util.fmt_va(e,t)))},a.prototype.getLibraryRef=function(t){if("this"==t)return this.currentApp.thisLibRef;var e=this.currentApp&&this.currentApp.libraries().filter(function(e){return e.getName()==t})[0];if(e)return e;if(this.libRefs.hasOwnProperty(t))return this.libRefs[t];var n=new u.LibraryRef;return(this.libRefs[t]=n).setName(t),this.declList.push(n),n},a.prototype.declareLibrary=function(e){var t=this.declList.indexOf(e);this.declList.splice(t,1),this.declList.push(e)},a.prototype.consumeLabel=function(){var e=this.currentLabel;return this.currentLabel=[],e},a.prototype.featureMissing=function(e){return!!this.currentApp&&this.currentApp.featureMissing(e)},a.prototype.lookahead=function(e){var t=this.tokens[this.tokenPos+e];return t||this.tokens[this.tokens.length-1]},a.prototype.curr=function(){return this.tokens[this.tokenPos]},a.prototype.got=function(e){return this.curr().category==e},a.prototype.gotOp=function(e){return this.got(0)&&this.curr().data==e},a.prototype.gotKw=function(e){return this.got(2)&&this.curr().data==e},a.prototype.gotId=function(e){return this.got(1)&&this.curr().data==e},a.prototype.tokenize=function(e){var t=this;this.errors=[],this.stmtList=[],this.declList=[],this.currentAction=null,this.currentApp=null;var n=u.Lexer.tokenize(e);n.forEach(function(e){6==e.category&&t.errorLoc(e,e.data)}),this.tokenPos=0,this.tokens=n.filter(function(e){return 6!=e.category})},a.parseEndpoint=function(e,t,n,i){var r=new a;r.tokenize(e),r.currentApp=i||l.Script;var o=t(r);return n?n.pushRange(r.errors.map(function(e){return e.toString()})):r.handleErrors(),o},a.parseType=function(e,t){return void 0===t&&(t=null),a.parseEndpoint(e,function(e){return e.parseType()},null,t)},a.parseExprHolder=function(e,t){return void 0===t&&(t=null),a.parseEndpoint(e,function(e){return e.parseExpr()},null,t)},a.parseStmt=function(e,t){return void 0===t&&(t=null),a.parseEndpoint(e,function(e){return e.parseOneStmt()},null,t)},a.parseDecl=function(e,t){return void 0===t&&(t=null),a.parseEndpoint(e,function(e){return e.parseOneDecl()},null,t)},a.parseDecls=function(e,t){return void 0===t&&(t=null),a.parseEndpoint(e,function(e){return e.parseManyDecls()},null,t)},a.parseScript=function(e,t){return void 0===t&&(t=null),a.parseEndpoint(e,function(e){return e.parseApp()},t,null)},a.prototype.handleErrors=function(){var e=this.errors.map(function(e){return e.toString()}).join("\n");""!=e&&l.Util.log("Parse error: "+e)},a.prototype.gotKey=function(e){return this.curr().data==e&&(this.shift(),(this.gotOp("=")||this.gotOp(":="))&&this.shift(),!0)},a.prototype.trySkipId=function(e){return!!this.gotId(e)&&(this.shift(),!0)},a.prototype.gotTerminator=function(){switch(this.curr().category){case 2:case 7:case 5:return!0;case 0:switch(this.curr().data){case";":case"{":case"}":return!0}}return!1},a.prototype.shift=function(){var e=this.curr();return 7!=e.category&&this.tokenPos++,e},a.prototype.skipOp=function(e){this.gotOp(e)?this.shift():this.error("expecting operator {0}, got {1}",e,this.curr())},a.prototype.skipKw=function(e){this.gotKw(e)?this.shift():this.error("expecting keyword {0}, got {1}",e,this.curr())},a.prototype.parseString=function(){return this.got(3)?this.shift().data:(this.error("expecting string, got {0}",this.curr()),this.shift(),"")},a.prototype.parseBool=function(){return"true"==this.parseId()},a.prototype.parseLibRef=function(){return this.gotOp(u.libSymbol)?(this.shift(),this.getLibraryRef(this.parseId("this"))):(this.error("expecting library reference, got {0}",this.curr()),this.getLibraryRef("this"))},a.prototype.parseId=function(e){return void 0===e&&(e="?"),this.got(1)?this.shift().data:(this.error("expecting identifier, got {0}",this.curr()),this.shift(),e)},a.prototype.parseType=function(){if(this.gotOp(u.libSymbol)){var e=this.parseLibRef();if(this.skipOp("→"),this.got(1))return e.getAbstractKind(this.parseId())}var t=!1;this.gotOp("*")&&(this.shift(),t=!0);var n=this.parseId(),i=t?new l.UnresolvedKind(n):u.api.getKind(n);!i&&/ field$/.test(n)&&(n=n.slice(0,n.length-6),/^Collection of /.test(n)&&(n=n.slice(14)+" Collection"),i=u.api.getKind(n));var r=null;switch(n){case"Appointment Collection":r=u.api.getKind("Appointment");break;case"Contact Collection":r=u.api.getKind("Contact");break;case"Link Collection":r=u.api.getKind("Link");break;case"Location Collection":r=u.api.getKind("Location");break;case"Message Collection":r=u.api.getKind("Message");break;case"Number Collection":r=u.api.core.Number;break;case"Page Collection":r=u.api.getKind("Page");break;case"Place Collection":r=u.api.getKind("Place");break;case"String Collection":r=u.api.core.String}if(r&&(i=u.api.core.Collection.createInstance([r])),i||(i=/ Collection$/.test(n)?u.api.core.Collection.createInstance([new l.UnresolvedKind(n.slice(0,n.length-11))]):new l.UnresolvedKind(n)),"Unknown"==n&&(i=u.api.core.String),i||(this.error("unknown type {0}",n),i=u.api.core.Unknown),this.gotOp("[")){this.shift();for(var o=[];;){var a=this.parseType();if(o.push(a),this.gotOp("]")){this.shift();break}if(!this.gotOp(",")){this.error("bad type syntax");break}this.shift()}if(i instanceof l.ParametricKind){var s=i,c=s.parameters.length;if(o.length>c)this.error("too many type arguments"),o=o.slice(0,c);else if(o.length<c)for(this.error("too few type arguments");o.length<c;)o.push(u.api.core.Nothing);i=s.createInstance(o)}else this.error("{0} is not parametric type",i.getName())}return i},a.prototype.parseTypeAnnotation=function(){return this.skipOp(":"),this.parseType()},a.prototype.addDecl=function(e){this.declList.push(e)},a.prototype.addStmt=function(e){this.stmtList.push(e)},a.prototype.parseElseIf=function(){this.shiftLabel(),this.skipKw("if");var e=new u.If;this.stmtList.push(e),e.isElseIf=!0,e.parseFrom(this)},a.prototype.parseParameters=function(e,t,n){void 0===n&&(n=!1);var i=!1,r=[];this.gotOp("(")&&(this.shift(),i=!0);for(;;){if(i&&this.gotOp(")")){this.shift();break}this.shiftLabel();var o=this.consumeLabel();if(this.gotTerminator())break;var a=this.parseId(),s=this.parseTypeAnnotation(),c=u.mkLocal(a,s),l=new u.ActionParameter(c,n);l.setStableName(o),0,r.push(l),this.gotOp(",")&&this.shift()}return r},a.prototype.parseActionHeader=function(e){void 0===e&&(e="");for(var t=!1;this.got(0)&&!this.gotTerminator();)this.gotOp("type")?t=!0:this.error("expecting identifier, got {0}",this.curr()),this.shift();var n={name:this.parseId(),inParameters:[],outParameters:[],isType:t};return n.inParameters=this.parseParameters(e,"_3"),this.gotKw("returns")&&(this.shift(),n.outParameters=this.parseParameters(e,"_4",!0)),n},a.prototype.parseTokenSequenceStmt=function(){var e=this.parseTokenSequence();null!=e&&this.addStmt(u.mkExprStmt(e,this))},a.emptyExpr=function(){var e=new u.ExprHolder;return e.tokens=[],e.locals=[],e.parsed=u.mkPlaceholderThingRef(),e},a.prototype.parseExpr=function(){var e=this.parseTokenSequence();return null==e&&(e=a.emptyExpr()),e},a.prototype.parseTokenSequence=function(){for(var n,i=[],e=function(e,t){void 0===t&&(t=void 0),void 0===t&&(t={}),t.type=e,void 0===t.data&&(t.data=n.data),i.push(u.mkTok(t))};!this.gotTerminator();){switch((n=this.curr()).category){case 0:if("..."==n.data)e("thingRef",{data:"$skip"});else if("$"==n.data){this.shift();var t=this.tokenPos,r=this.parseId();this.tokenPos=t,e("thingRef",{data:r,forceLocal:!0})}else if("["==n.data){var o=[];for(this.shift();1==this.curr().category;)o.push(this.curr().data),this.shift();if(this.skipOp("]"),this.tokenPos--,"lib"==o[0]){var a=i.peek();a instanceof u.ThingRef&&(a._namespaceLibraryName=o[1])}}else e("operator");break;case 1:if(i.peek()instanceof u.Operator){var s=i.peek().data;"→"==s?i[i.length-1]=u.mkPropRef(n.data):"♻"==s?(i[i.length-1]=u.mkThing(s),e("propertyRef")):e("thingRef")}else e("thingRef");break;case 3:e("literal",{kind:"String"});break;case 4:break;case 2:case 7:default:l.Util.die()}this.shift()}if(l.Cloud.isRestricted()&&i.forEach(function(e,t){e instanceof u.PropertyRef&&"plot image"==e.getText()&&i[t-1]instanceof u.ThingRef&&"basic"==i[t-1].getText()&&i[t+3]&&"("==i[t+1].getOperator()&&null!=i[t+2].getStringLiteral()&&")"==i[t+3].getOperator()&&(e.data="show leds",i.splice(t+3,0,u.mkOp(","),u.mkOp("4"),u.mkOp("0"),u.mkOp("0")))}),0<i.length){var c=new u.ExprHolder;return 300<i.length&&(i=i.slice(0,300)),c.tokens=i,c}return null},a.emptyBlock=function(){var e=new u.CodeBlock;return e.setChildren([a.emptyExprStmt()]),e},a.prototype.parseBlock=function(){var n=this,e=this.curr(),i=[],r=function(e){var t=new u.CodeBlock;return 0==e.length&&e.push(t.emptyStmt()),t.setChildren(e),t},t=function(){var e=i.pop(),t=n.stmtList;if(n.stmtList=e.stmtList,e.ifStmt)t[0]instanceof u.If&&t.slice(1).every(u.isElseIf)?(t[0].isElseIf=!0,n.stmtList.pushRange(t)):e.ifStmt.setElse(r(t));else{if(0==i.length)return r(t);n.stmtList.pushRange(t)}return null},o=function(){for(;;){var e=t();if(e)return e}},a=function(e){void 0===e&&(e=null),i.push({stmtList:n.stmtList,ifStmt:e}),n.stmtList=[]};for(this.gotOp("{")?this.shift():this.error("expecting {{ at the beginning of the block, got {0}",this.curr()),a();;){var s=this.curr();switch(s.category){case 0:switch(s.data){case"}":this.shift();var c=t();if(c)return c;break;case"{":this.shift(),a();break;case";":this.shift();break;default:this.parseStmtCore()}break;case 7:return this.errorLoc(e,"unclosed {{ (got end of file)"),o();default:if(this.gotKw("else")&&this.stmtList.peek()instanceof u.If)this.shift(),this.gotOp("{")&&(this.shift(),a(this.stmtList.peek()));else if(this.parseStmtCore())return this.errorLoc(e,"unclosed {{ (got next declaration)"),o()}}},a.prototype.parseStmtCore=function(){this.shiftLabel();var e=this.curr();switch(e.category){case 2:var t=this.statementCallbacks[e.data];if(t)this.shift(),t.call(this,this);else{if(this.declarationCallbacks[e.data])return!0;this.error("keyword {0} is unexpected here (or reserved for future use)",e),this.shift()}break;case 4:var n=new u.Comment;n.setStableName(this.consumeLabel()),n.text=e.data.trim(),this.addStmt(n),this.shift();break;case 0:case 1:case 3:this.parseTokenSequenceStmt();break;default:l.Util.die()}return!1},a.prototype.parseOneStmt=function(){return l.Util.assert(0==this.tokenPos),this.stmtList=[],this.gotOp("{")?this.parseBlock():(this.parseStmtCore(),1!=this.stmtList.length&&this.error("expecting a single statement"),this.stmtList[0])},a.prototype.shiftLabel=function(){for(var e=[];this.got(5);)e.push(this.curr().data),this.shift();return this.currentLabel=e,1!=this.currentLabel.length||this.currentLabel[0]||(this.currentLabel=[]),0<this.currentLabel.length},a.prototype.parseBraced=function(e){if(this.gotOp("{"))for(var t=0;;)if(this.shiftLabel(),this.gotOp("{"))t++,this.shift();else if(this.gotOp("}")){if(t--,this.shift(),0==t)break}else{if(this.got(7))break;var n=this.tokenPos;e(),n==this.tokenPos&&this.shift()}},a.prototype.skipBlock=function(){return this.parseBraced(function(){})},a.prototype.parseDeclCore=function(){if(this.shiftLabel(),this.got(2)){var e=this.declarationCallbacks[this.curr().data];if(e)return this.shift(),e.call(this,this),!0}return!1},a.prototype.parseOneDecl=function(){var e=this.parseManyDecls();return 1!=e.length&&this.error("expecting a single declaration"),e[0]},a.prototype.parseManyDecls=function(){return l.Util.assert(0==this.tokenPos),this.declList=[],this.parseDeclCore(),this.declList},a.prototype.parseApp=function(){l.Util.assert(0==this.tokenPos),this.currentApp=new u.App(this);for(var e=!1,t="";!this.got(7);)this.parseDeclCore()?e=!1:this.got(4)?(t+=this.curr().data.trim()+"\n",this.shift(),e=!1):(e||this.error("expecting declaration, got {0}",this.curr()),e=!0,this.shift());var n=this.currentApp;return n.comment=t.trim(),this.declList.forEach(function(e){if(e instanceof u.LibraryRef){var t=e;if(!t.isDeclared)return void(t.deleted=!0)}n.addDecl(e)}),n.parsingFinished(),this.currentApp=null,n},a.prototype.parseAction=function(){var e=this.tokens[this.tokenPos-1],t=this.consumeLabel(),n=this.parseActionHeader(t.peek());if(this.currentAction=new u.Action,this.currentAction.setStableName(t),this.addDecl(this.currentAction),this.currentAction.header.inParameters.setChildren(n.inParameters),this.currentAction.header.outParameters.setChildren(n.outParameters),this.currentAction.setName(n.name),this.currentAction.body=this.parseBlock(),this.currentAction._isActionTypeDef=n.isType,this.currentAction.isPage()&&!this.currentAction.getPageBlock(!1)){var i=a.parseStmt("{ if box->is_init then { } if true then { } }");i.children()[1].rawThenBody.setChildren(this.currentAction.body.children()),this.currentAction.body=i}if(this.currentAction.body.parent=this.currentAction.header,"event"==e.data&&u.api.eventMgr.setInfo(this.currentAction,this),this.currentAction.isPage()){this.currentAction.isAtomic=!0;var r=this.currentAction.header.inParameters,o=r.stmts[0];o&&r.stmts[0]&&(o.getKind().isExtensionEnabled()||o.getKind()instanceof l.UnresolvedKind)&&(this.featureMissing(16)&&("model"==o.getName()||"page data"==o.getName())||o.getName()==u.modelSymbol||o.getName()==u.oldModelSymbol)&&(r.setChildren(r.stmts.slice(1)),this.currentAction.modelParameter=o)}this.currentAction=null},a.prototype.parseMetaDecl=function(){var e="";if("import"!=(e=this.got(2)?this.shift().data:this.parseId()))if(this.gotOp("{"))this.skipBlock();else{var t=this.shift().data;this.currentApp&&this.currentApp.setMeta(e,t),this.skipOp(";")}else u.LibraryRef.parse(this)},a.prototype.parseMetaStmt=function(){var e="";"private"==(e=this.got(2)?this.shift().data:this.parseId())?(this.currentAction&&(this.currentAction.isPrivate=!0),this.skipOp(";")):"page"==e?(this.currentAction&&(this.currentAction._isPage=!0),this.skipOp(";")):"offloaded"==e?this.skipOp(";"):"async"==e?(this.currentAction&&(this.currentAction.isAtomic=!1),this.skipOp(";")):"sync"==e?(this.currentAction&&(this.currentAction.isAtomic=!0),this.skipOp(";")):"test"==e?(this.currentAction&&(this.currentAction._isTest=!0),this.skipOp(";")):"offline"==e?(this.currentAction&&(this.currentAction.isOffline=!0),this.skipOp(";")):"query"==e?(this.currentAction&&(this.currentAction.isQuery=!0),this.skipOp(";")):this.gotOp("{")?this.skipBlock():(this.shift(),this.skipOp(";"))},a.emptyCondition=function(){var e=a.emptyExpr();return e.tokens.push(u.mkThing("true")),u.mkWhere(e)},a.emptyExprStmt=function(e){return void 0===e&&(e=null),u.mkExprStmt(a.emptyExpr(),e)},a.prototype.parseSkip=function(){this.gotOp(";")&&this.shift(),this.addStmt(a.emptyExprStmt(this))},a.prototype.parseDo=function(){var e;"box"==this.parseId()?(e=u.Box,a.stmtCtor(e)(this)):this.error("expecting 'box' here")},a.prototype.parseWhere=function(){var e,t=this.stmtList.length,n=this.lookahead(1);if(0==n.category&&":="==n.data){var i=new u.OptionalParameter;i.parseFrom(this),e=i}else{var r=new u.InlineAction;r.parseFrom(this),e=r}if(0!=t&&this.stmtList[t-1]instanceof u.ExprStmt){var o=this.stmtList[t-1],a=o;o instanceof u.InlineActions||((a=new u.InlineActions).setStableName(o.getStableName()),a.expr=o.expr,a.parent=o.parent,this.stmtList[t-1]=a),a.actions.push(e)}else this.error("'where' should follow an expression")},a.prototype.parseField=function(){var e=this.parseId();this.skipOp(":");var t=this.parseType();this.skipOp(";");var n="";this.got(4)&&(n=this.curr().data,this.shift()),this.stmtList.push(new u.RecordField(e,t,!1,n))},a}();u.Parser=e;var r=function(){function e(e,t){this.loc=e,this.msg=t}return e.prototype.toString=function(){var e=this.loc.inputPos-30;e<0&&(e=0);var t=this.loc.input.slice(e,this.loc.inputPos)+"<*>"+this.loc.input.slice(this.loc.inputPos,e+60);return this.msg+" at >>>"+t+"<<<"},e}();u.ParseError=r}(l.AST||(l.AST={}))}(TDev||(TDev={})),function(T){!function(A){var e,t=function(t){function e(e){t.call(this),this.parent=e}return __extends(e,t),e.prototype.fixupKind=function(t,n){var i=this;if(n instanceof T.UnresolvedKind&&this.parent.topApp){var e=this.parent.topApp.getDefinedKinds().filter(function(e){return e.getName()==n.getName()})[0];e&&(n=e)}if(n.getRoot()!=n){var r=n,o=r.parameters.map(function(e){return i.fixupKind(t,e)});o.some(function(e,t){return r.parameters[t]!=e})&&(n=r.createInstance(o))}return n.isError()&&(n instanceof A.LibraryRefAbstractKind||n.getRecord()instanceof A.LibraryRecordDef)&&n.parentLibrary().hasAbstractKind(n.getName())&&(n=n.parentLibrary().getAbstractKind(n.getName())),n.isError()&&(this.parent.errorCount++,t.setError(T.lf("TD121: cannot find type {0}",n.toString()))),n},e.prototype.visitGlobalDef=function(e){e._kind=this.fixupKind(e,e.getKind())},e.prototype.visitAction=function(n){var i=this,e=function(e){var t=e.local;t._kind=i.fixupKind(n,t.getKind())};n.modelParameter&&e(n.modelParameter),n.getInParameters().forEach(e),n.getOutParameters().forEach(e)},e.prototype.visitBlock=function(e){this.visitChildren(e)},e.prototype.visitRecordDef=function(e){this.visitChildren(e)},e.prototype.visitRecordField=function(e){e.setKind(this.fixupKind(e,e.dataKind))},e.prototype.visitApp=function(e){this.visitChildren(e)},e}(A.NodeVisitor);A.TypeResolver=t,(e=A.ActionSection||(A.ActionSection={}))[e.Normal=0]="Normal",e[e.Init=1]="Init",e[e.Display=2]="Display",e[e.Lambda=3]="Lambda";A.ActionSection;var n=function(e){function l(){e.call(this),this.isTopExpr=!1,this.seenAwait=!1,this.numFixes=0,this.nothingLocals=[],this.localScopes=[[]],this.readOnlyLocals=[],this.outsideScopeLocals=[],this.invisibleLocals=[],this.writtenLocals=[],this.readLocals=[],this.inAtomic=!1,this.inShim=!1,this.actionSection=0,this.saveFixes=0,this.outLocals=[],this.reportedUnassigned=!1,this.allLocals=[],this.recentErrors=[],this.errorCount=0,this.countToUpdate=0,this.timestamp=1,this.seenCurrent=!1,this.missingLocals=[],this.errorLevel=0,this.hintsToFlush=[],this.storeLocalsAt=null,this.ignoreLibErrors=!1,this.core=T.api.core,this.typeResolver=new t(this)}return __extends(l,e),l.tcAction=function(e,t,n){void 0===n&&(n=null);var i=new l;i.topApp=T.Script,i.storeLocalsAt=n,l.lastStoreLocalsAt=n,t&&(l.iterTokenUsage(function(e){e.localCount=0}),i.countToUpdate=1),i.dispatch(e)},l.tcFragment=function(e){var t=new l;t.topApp=T.Script,t.storeLocalsAt=e,l.lastStoreLocalsAt=e;var n=A.mkExprStmt(e);t.dispatch(n)},l.tcScript=function(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=0);var r=new l;(r.topApp=e).imports=new A.AppImports;var o=T.Script;r.storeLocalsAt=l.lastStoreLocalsAt,r.ignoreLibErrors=t;try{return T.setGlobalScript(e),r.typecheckLibraries(e),e.libNamespaceCache.recompute(),r.typeResolver.dispatch(e),n&&(l.iterTokenUsage(function(e){e.globalCount=0}),r.countToUpdate=2),r.dispatch(e),e.addFeatures(4),0<r.numFixes&&i<5?l.tcScript(e,t,n,i+1):(e.addFeatures(A.LanguageFeature.Current),e.things.forEach(function(e){t&&e instanceof A.LibraryRef?e._hasErrors=!1:e.hasErrors()&&r.errorCount++}),r.errorCount)}finally{T.setGlobalScript(o)}},l.tcApp=function(e){return l.tcScript(e,!1,!0)},l.iterTokenUsage=function(t){T.api.getKinds().forEach(function(e){e.singleton&&t(e.singleton.usage),e.listProperties().forEach(function(e){t(e.getUsage())})}),T.api.getKind("code").singleton.usage.apiFreq=0<T.Script.actions().length?1:0,T.api.getKind("data").singleton.usage.apiFreq=0<T.Script.variables().length?.9:0,T.api.getKind("art").singleton.usage.apiFreq=0<T.Script.resources().length?.8:0,A.api.core.allStmtUsage().forEach(t)},l.resolveKind=function(e){var t=new l;t.topApp=T.Script;var n=new A.GlobalDef;return n._kind=e,t.typeResolver.dispatch(n),n._kind},l.prototype.markError=function(e,t){if(!(e.getError()||0<this.errorLevel)){e.setError(t),this.recentErrors.push(t),this.errorCount++;var n=e.loc;if(n)for(var i=n.beg,r=i+n.len;i<r;){var o=n.tokens[i];o.getError()||o.setError(t),i++}}},l.prototype.markHolderError=function(e,t){e.getError()||t&&(0<this.errorLevel||(this.errorCount++,e.setError(t)))},l.prototype.setNodeError=function(e,t){0==this.errorLevel&&(this.errorCount++,e.setError(t))},l.prototype.typeCheck=function(e){e.clearError(),e._kind=null,this.dispatch(e)},l.prototype.snapshotLocals=function(){var t=[];return this.localScopes.forEach(function(e){t.pushRange(e)}),t},l.prototype.tcTokens=function(e){var t=new A.ExprHolder;t.tokens=e,this.expect(t,null,"void")},l.prototype.expectsMessage=function(e,t){switch(e){case"if":return T.lf("TD118: 'if' condition wants {1:a}",e,t);case"where":return T.lf("TD128: 'where' condition wants {1:a}",e,t);case"while":return T.lf("TD129: 'while' condition wants {1:a}",e,t);case"for":return T.lf("TD130: bound of 'for' wants {1:a}",e,t);case"optional":return T.lf("TD186: this optional parameter wants {1:a}",e,t);case"return":return T.lf("TD204: 'return' value wants {1:a}",e,t);default:T.Util.die()}},l.prototype.expect=function(a,e,t){var i=this;this.hintsToFlush=[],1==a.tokens.length&&a.isPlaceholder()&&(a.tokens=[]),this.topApp.featureMissing(32)&&a.tokens.some(function(e){return"await"==e.getOperator()})&&(a.tokens=a.tokens.filter(function(e){return"await"!=e.getOperator()}),this.numFixes++),a.clearError(),a.tokens.forEach(function(e,t){if(e instanceof A.ThingRef){var n=e;if(!n.forceLocal&&a.tokens[t+1]instanceof A.PropertyRef){var i=a.tokens[t+1],r=n.data+"->"+i.data;if(A.crossKindRenames.hasOwnProperty(r)){var o=/(.*)->(.*)/.exec(A.crossKindRenames[r]);n.data=o[1],i.data=o[2]}}}});var n=A.ExprParser.parse1(a.tokens);n.clearError(),n._kind=null,a.parsed=n,this.seenAwait=!1,this.recentErrors=[];var r=a.tokens.filter(function(e){return null!=e.getError()})[0],o=this.allLocals.length;this.saveFixes=a==this.storeLocalsAt?1:0,r?(a.hasFix=!0,0==this.errorLevel&&this.errorCount++,this.errorLevel++,this.dispatch(n),this.errorLevel--):(this.isTopExpr="void"==t,this.dispatch(n),a.hasFix=1<this.saveFixes),this.saveFixes=0,a._kind=a.parsed.getKind();var s=!1,c=null,l=null;a.tokens.forEach(function(e){if(e instanceof A.PropertyRef){var t=e;t.prop||(t.prop=t.getOrMakeProp()),c&&c.getThing()instanceof A.LocalDef&&c.getThing().getName()==A.modelSymbol&&A.mkFakeCall(t).referencedRecordField()?t.skipArrow=!0:t.skipArrow&&(t.skipArrow=!1)}else if(e instanceof A.ThingRef){var n=e;n._lastTypechecker!=i&&i.dispatch(n)}else":="==e.getOperator()?s=!0:e instanceof A.Literal&&(e._kind||i.dispatch(e));c=e,l||null==e.getError()||(l=e)}),"void"==t&&(!s||this.allLocals.length!=o&&this.allLocals.slice(o).some(function(e){return e.isRegular})||(s=!1),a.looksLikeVarDef=s);var u=r||l||a.parsed;if(this.markHolderError(a,u.getError()),this.markHolderError(a,this.recentErrors[0]),a.isAwait=this.seenAwait,a==this.storeLocalsAt?(this.seenCurrent=!0,a.locals=this.snapshotLocals()):a.locals=null,T.Util.check(null!=a.getKind(),"expr type unset")||(a._kind=A.api.core.Unknown),!a.getError()&&null!=e&&!a.getKind().equals(e)){var d=this.expectsMessage(t,e.toString());a.getKind()!=this.core.Unknown&&(d+=T.lf(", got {0:a} instead",a.getKind().toString())),this.markHolderError(a,d)}if(!a.getError()&&n instanceof A.Call){var p=n;if(null==e&&"void"==t){var h=p.prop().parentKind,m=p.anyCalledAction();if(A.legacyMode&&h==this.core.Number&&"="==p.prop().getName())a.hint=T.lf("the '=' comparison has no effect here; did you mean assignment ':=' instead?");else if(a.getKind()!=this.core.Nothing&&a.getKind()!=this.core.Unknown&&a.getKind().getRoot()!=this.core.Task){var f=!!(262144&p.prop().getFlags());d="";d=(g=a.getKind()).hasContext(1)?T.lf("did you want to use this value?"):T.lf("now you can select a property on it"),p.prop()instanceof A.LibraryRef?a.hint=T.lf("we have a library '{0}' here; {1}",p.prop().getName(),d):(!h.isBuiltin&&1!=p.args.length||f)&&f||(a.hint=T.lf("'{0}' returns a '{1}'; {2}",p.prop().getName(),p.getKind(),d))}else m&&0<m.getOutParameters().length&&(a.hint=T.lf("'{0}' returns {1} values; you can use 'store in var' button to save them to locals",p.prop().getName(),m.getOutParameters().length))}}else if(null==e&&"void"==t){var g;(g=a.getKind())!=this.core.Nothing&&g!=this.core.Unknown&&(g.singleton?a.hint=T.lf("now you can select a property of {0}; it doesn't do anything by itself",g):a.hint=T.lf("we have {0:a} here; did you want to do something with it?",g))}if(0<this.hintsToFlush.length){var v=this.hintsToFlush.join("\n");a.hint?a.hint+="\n"+v:a.hint=v,this.hintsToFlush=[]}if(a.assignmentInfo()&&a.assignmentInfo().fixContextError&&":="==a.tokens[1].getOperator()&&(this.numFixes++,this.nothingLocals.push(a.tokens[0].getThing()),a.tokens.splice(0,2)),0<this.nothingLocals.length&&1==a.tokens.length&&0<=this.nothingLocals.indexOf(a.tokens[0].getThing())&&(a.tokens=[],this.numFixes++),this.topApp.featureMissing(4)&&a.tokens.some(function(e){return!!e.tokenFix})){var y=a.tokens.filter(function(e){return":="==e.tokenFix})[0];if(y){var b=a.tokens.indexOf(y);a.tokens[b+1]&&"("==a.tokens[b+1].getOperator()&&(a.tokens[b]=A.mkOp(":="),a.tokens.splice(b+1,1),")"==a.tokens.peek().getOperator()&&a.tokens.pop())}a.tokens=a.tokens.filter(function(e){return"delete"!=e.tokenFix}),this.numFixes++}},l.prototype.declareLocal=function(e){this.localScopes.peek().push(e),this.allLocals.push(e),e._isMutable=!1,e._isCaptured=!1,e.lastUsedAt=this.timestamp++,this.recordLocalRead(e)},l.prototype.lookupSymbol=function(e){for(var t=e.data,n=this.localScopes.length-1;0<=n;n--)for(var i=this.localScopes[n],r=i.length-1;0<=r;r--)if(i[r].getName()===t)return i[r];if("..."==t&&(t="$skip"),!e.forceLocal)return T.api.getThing(t)},l.prototype.scope=function(e){this.localScopes.push([]);var t=e();return this.localScopes.pop(),t},l.prototype.conditionalScope=function(e){var t=this.writtenLocals.slice(0),n=this.currLoop;try{return this.scope(e)}finally{this.writtenLocals=t,this.currLoop=n}},l.prototype.visitAstNode=function(e){T.Util.oops("typechecking "+e.nodeType()+" not implemented!")},l.prototype.visitAnyIf=function(e){this.updateStmtUsage(e),this.expect(e.rawCondition,this.core.Boolean,"if");var t=e.isTopCommentedOut();t&&(new a).dispatch(e.rawThenBody);var n=this.writtenLocals.slice(0);if(e.rawThenBody==this.pageInit?this.actionSection=1:e.rawThenBody==this.pageDisplay&&(this.actionSection=2),t&&this.errorLevel++,this.typeCheck(e.rawThenBody),e.rawThenBody.newlyWrittenLocals=this.writtenLocals.slice(n.length),1==e.rawElseBody.stmts.length&&e.rawElseBody.stmts[0]instanceof A.If){var i=e.rawElseBody.stmts[0];i.isElseIf=!0,e.setElse(A.Parser.emptyBlock());var r=e.parentBlock(),o=r.stmts.indexOf(e);r.stmts.splice(o+1,0,i),r.newChild(i)}e.rawElseBody.isBlockPlaceholder()?(e.rawElseBody.newlyWrittenLocals=[],this.typeCheck(e.rawElseBody)):(this.writtenLocals=n.slice(0),this.typeCheck(e.rawElseBody),e.rawElseBody.newlyWrittenLocals=this.writtenLocals.slice(n.length)),t&&this.errorLevel--,this.writtenLocals=n},l.prototype.visitWhere=function(e){this.expect(e.condition,this.core.Boolean,"where")},l.prototype.visitWhile=function(e){var t=this;this.updateStmtUsage(e),this.expect(e.condition,this.core.Boolean,"while"),this.conditionalScope(function(){t.currLoop=e,t.typeCheck(e.body)})},l.prototype.visitBreakContinue=function(e,t){e._kind=this.core.Nothing,e.topAffectedStmt=this.currLoop,this.currLoop||this.markError(e,T.lf("TD200: '{0}' can be only used inside a loop",t)),e.args[0].isPlaceholder()||this.markError(e,T.lf("TD205: '{0}' cannot take arguments",t)),this.expectExpr(e.args[0],null,t)},l.prototype.visitBreak=function(e){this.visitBreakContinue(e,"break")},l.prototype.visitContinue=function(e){this.visitBreakContinue(e,"continue")},l.prototype.visitShow=function(e){if(e._kind=this.core.Nothing,this.expectExpr(e.args[0],null,"show"),e.topPostCall=null,e.args[0].isPlaceholder())this.markError(e,T.lf("TD207: we need something to show"));else{var t=e.args[0].getKind();if(t==A.api.core.Unknown)return;var n=t.getProperty("post to wall");n?e.topPostCall=A.mkFakeCall(A.PropertyRef.mkProp(n),[e.args[0]]):this.markError(e,T.lf("TD201: we don't know how to display {0}",t.toString()))}},l.prototype.visitReturn=function(e){e._kind=this.core.Nothing;var t=e.topRetLocal=null;e.args[0].isPlaceholder()?1==this.outLocals.length&&this.markError(e,T.lf("TD206: we need a value to return here")):0==this.outLocals.length?this.markError(e.args[0],T.lf("TD202: the function doesn't have output parameters; return with a value is not allowed")):1<this.outLocals.length?this.markError(e.args[0],T.lf("TD203: the function has more than one output parameter; return with a value is not allowed")):(e.topRetLocal=this.outLocals[0],t=e.topRetLocal.getKind(),this.recordLocalWrite(e.topRetLocal)),this.expectExpr(e.args[0],t,"return"),e.topAffectedStmt=this.currentAnyAction,this.checkAssignment(this.lastStmt)},l.prototype.visitActionParameter=function(e){},l.prototype.visitBlock=function(s){var c=this;this.scope(function(){for(var e=s.stmts,t=!1,n=!1,i=0;i<e.length;++i)c.typeCheck(e[i]),t&&(e[i].isUnreachable=!0,n||e[i]instanceof A.Comment||(n=!0,e[i].addHint(T.lf("code after return, break or continue won't ever run")))),e[i].isJump()&&(t=!0);for(i=0;i<e.length;++i)if(e[i]instanceof A.If){var r=e[i];r.isElseIf=!1;for(var o=i+1;A.isElseIf(e[o])&&e[++o-1].rawElseBody.isBlockPlaceholder(););for(r.branches=[];i<o;){var a=e[i++];(a.parentIf=r).branches.push({condition:a.rawCondition,body:a.rawThenBody}),i==o?(r.branches.push({condition:null,body:a.rawElseBody}),a.displayElse=!0):a.displayElse=!1}i--,c.writtenLocals.pushRange(T.Util.intersectArraysVA(r.branches.map(function(e){return e.body.newlyWrittenLocals})))}})},l.prototype.updateStmtUsage=function(e,t){if(void 0===t&&(t=null),this.lastStmt=e,0!=this.countToUpdate){var n=A.api.core.stmtUsage(t||e.nodeType());1==this.countToUpdate?n.localCount++:n.globalCount++}},l.prototype.visitFor=function(e){var t=this;this.updateStmtUsage(e),this.expect(e.upperBound,this.core.Number,"for"),e.boundLocal._kind=this.core.Number,this.readOnlyLocals.push(e.boundLocal),this.conditionalScope(function(){t.currLoop=e,t.declareLocal(e.boundLocal),t.typeCheck(e.body)})},l.prototype.visitForeach=function(e){var t=this;this.updateStmtUsage(e),this.expect(e.collection,null,null);var n,i=e.collection.getKind();i.isEnumerable()||e.collection.getError()||(i==this.core.Unknown?this.markHolderError(e.collection,T.lf("TD119: i need something to iterate on")):this.markHolderError(e.collection,T.lf("TD120: i cannot iterate over {0}",i.toString()))),i instanceof A.RecordDefKind&&(n=i.record.entryKind);var r=i.getProperty("at");!n&&r&&(n=r.getResult().getKind()),n&&(e.boundLocal._kind=n),this.readOnlyLocals.push(e.boundLocal),this.conditionalScope(function(){t.currLoop=e,t.declareLocal(e.boundLocal),t.typeCheck(e.conditions),t.typeCheck(e.body)})},l.prototype.visitBox=function(e){this.updateStmtUsage(e),this.typeCheck(e.body)},l.prototype.visitComment=function(e){this.updateStmtUsage(e)},l.prototype.setOutLocals=function(e){var t=1==(this.outLocals=e).length;e.forEach(function(e){e.isHiddenOut=t,e.isOut=!0})},l.prototype.visitAction=function(n){var i=this;this.writtenLocals=[],this.readOnlyLocals=[],this.allLocals=[],this.currentAction=n,(this.currentAnyAction=n).clearError(),this.actionSection=0,this.inAtomic=n.isAtomic,this.inShim=this.topApp.entireShim||null!=n.getShimName(),n._compilerInlineBody=null,this.scope(function(){var e=i.errorCount;i.setOutLocals(n.getOutParameters().map(function(e){return e.local})),i.reportedUnassigned=!1,i.typeResolver.visitAction(n);var t=function(e){i.declareLocal(e.local),n.isPage()&&i.readOnlyLocals.push(e.local)};(n.modelParameter&&t(n.modelParameter),n.getInParameters().forEach(t),n.getOutParameters().forEach(function(e){return i.declareLocal(e.local)}),n.isPage()&&(i.pageInit=n.getPageBlock(!0),i.pageDisplay=n.getPageBlock(!1)),i.typeCheck(n.body),n.isActionTypeDef())?n.getOutParameters()[1]&&i.setNodeError(n,T.lf("TD171: function types support at most one output parameter; sorry")):i.reportedUnassigned||i.checkAssignment(n);n._hasErrors=i.errorCount>e,n.allLocals=i.allLocals}),n.modelParameter&&n.modelParameter.local.getName()!=A.modelSymbol&&(n.modelParameter.local.setName(A.modelSymbol),this.numFixes++),0<this.missingLocals.length&&this.storeLocalsAt&&this.storeLocalsAt.locals&&this.storeLocalsAt.locals.pushRange(this.missingLocals);var e=n.eventInfo;if(null!=e){if(e.disabled=!1,null!=e.type.globalKind&&!e.onVariable){var t=n.getName().slice(e.type.category.length),r=this.topApp.variables().filter(function(e){return e.getName()==t})[0];void 0===r&&(n.setError(T.lf("TD122: i cannot find variable {0}",t)),e.disabled=!0),e.onVariable=r}if(e.onVariable){var o=e.type.category+e.onVariable.getName();T.Script.things.filter(function(e){return e.getName()==o})[0]||n.setName(o),n.getName()!=o&&(e.onVariable=null)}if(n.hasOutParameters()&&n.setError(T.lf("TD123: events cannot have out parameters")),n.getInParameters().length!=e.type.inParameters.length)n.setError(T.lf("TD124: wrong number of in parameters to an event"));else for(var a=n.getInParameters(),s=0;s<a.length;++s)a[s].getKind()!=e.type.inParameters[s].getKind()&&n.setError(T.lf("TD125: wrong type of parameter #{0}",s));this.topApp.isLibrary&&!this.ignoreLibErrors&&n.setError(T.lf("TD126: libraries cannot define global events"))}n.isExternal||(this.topApp.isCloud&&n.isPage()&&n.setError(T.lf("TD177: cloud libraries cannot define pages")),this.topApp.isCloud&&!n.isPrivate&&n.isAtomic&&n.setError(T.lf("TD178: cloud libraries cannot define atomic functions"))),n.getError()&&(n._hasErrors=!0),n._errorsOK=void 0,n.isCompilerTest()&&(n._errorsOK=A.runErrorChecker(n))},l.prototype.visitLibraryRef=function(e){},l.prototype.persistentStorageError=function(e,t,n){var i,r;switch(t){case 2:case 3:i=T.lf("replicated ");break;case 1:i=T.Script.isCloud?T.lf("server-local "):T.lf("locally persisted ")}if(i+=n?2===n.recordType?T.lf("table"):T.lf("index"):T.lf("variable"),1===e.recordType)return T.lf("TD169: {0:a} cannot be persisted between script runs",e.toString());switch(T.Util.assert(2===e.recordType),e.getRecordPersistence()){case 2:r=T.lf("replicated table rows");break;case 1:r=T.Script.isCloud?T.lf("server-local table rows"):T.lf("locally persisted table rows");break;case 0:r=T.lf("temporary table rows");break;case 3:r=T.lf("replicated table rows")}return T.lf("TD166: cannot store {0} in a {1}",r,i)},l.prototype.visitGlobalDef=function(e){if(e.clearError(),e.isResource&&(e.isTransient=!0,e.cloudEnabled=!1),this.typeResolver.visitGlobalDef(e),0!=e.getRecordPersistence()&&0==(4&e.getKind().getContexts())&&(this.setNodeError(e,T.lf("TD165: {0:a} cannot be saved between script runs",e.getKind().toString())),this.topApp.featureMissing(8)&&(e.isTransient=!0,e.cloudEnabled=!1,this.numFixes++)),e.getKind()instanceof A.RecordEntryKind){var t=e.getKind().getRecord();4==t.recordType?this.setNodeError(e,T.lf("TD175: must not store decorators in variables")):e.getRecordPersistence()>t.getRecordPersistence()&&(this.setNodeError(e,this.persistentStorageError(t,e.getRecordPersistence())),!e.isTransient&&this.topApp.featureMissing(8)&&(e.isTransient=!0,e.cloudEnabled=!1,this.numFixes++))}},l.prototype.cyclefree=function(t,e){var n=this;return e!=t&&(!e._wasTypechecked||e.linkedtables.every(function(e){return n.cyclefree(t,e)}))},l.prototype.visitRecordField=function(e){e.clearError(),this.typeResolver.visitRecordField(e);var t=e.def().getRecordPersistence(),n=0!=t,i=n?e.isKey?16:4:e.isKey?16:2,r=e.dataKind,o=r.getContexts(),a=e.def().recordType;if(4==e.def().recordType&&16==i&&(i=32),64&o&&(3==a||2==a)){var s=e.dataKind.getRecord(),c=s.getRecordPersistence();return c<t&&(2!=c||3!=t)&&(this.setNodeError(e,this.persistentStorageError(s,t,e.def())),this.errorCount++,this.topApp.featureMissing(8)&&2!=t&&2!=s.getRecordPersistence()&&(e.def().persistent=!1,s.persistent=!1,this.numFixes++)),void(e.isKey&&2==a&&(this.cyclefree(e.def(),s)?e.def().linkedtables.push(s):this.setNodeError(e,T.lf("TD176: links must not be circular"))))}o&i||(n?this.setNodeError(e,T.lf("TD167: {0:a} cannot be persisted between script runs",r.toString())):this.setNodeError(e,T.lf("TD168: {0:a} cannot be used as a {1}",e.isKey?T.lf("key"):T.lf("field"),r.toString())),this.topApp.featureMissing(8)&&1==t&&(e.def().persistent=!1,this.numFixes++)),3===t&&e.isKey&&e.isFirstChild()&&"User"!==e.dataKind.getName()&&(this.errorCount++,e.setError("A partially replicated Index should have a User as first key"))},l.prototype.visitRecordDef=function(e){e.isModel=!1,e.linkedtables=[],this.visitChildren(e)},l.prototype.typecheckLibraries=function(e){e.libraries().forEach(function(e){return e.resolve()}),e.libraries().forEach(function(e){return e.typeCheck()})},l.prototype.visitApp=function(t){var n=this;this.typecheckLibraries(t),T.Cloud.isRestricted()&&(t.entireShim=/#entireshim/i.test(t.comment)||t.actions().some(function(e){return e.isPage()})||t.libraries().some(function(e){return e.resolved&&e.resolved.entireShim})),t.things.forEach(function(e){var t=e._wasTypechecked;e._wasTypechecked=!0,n.dispatch(e),t||e.notifyChange()});var i={};t.things.forEach(function(e){i.hasOwnProperty(e.getName())?(n.numFixes++,e.setName(t.freshName(e.getName()+" "+n.numFixes))):i[e.getName()]=e}),t.actions().forEach(function(e){var t=e.getModelDef();t&&(t.isModel=!0)})},l.prototype.visitExprStmt=function(e){this.updateStmtUsage(e),this.expect(e.expr,null,"void"),e.isVarDef()&&this.updateStmtUsage(e,"var")},l.prototype.checkAssignment=function(e){var t=this;0<this.outLocals.filter(function(e){return t.writtenLocals.indexOf(e)<0}).length&&(this.reportedUnassigned=!0,e.addHint(T.lf("the function may not always return a value; insert a return statement?")))},l.prototype.actionScope=function(d,p){var h=this;this.scope(function(){var e=h.readOnlyLocals,t=h.readLocals,n=h.outsideScopeLocals,i=h.writtenLocals,r=h.actionSection,o=h.inAtomic,a=h.outLocals,s=h.reportedUnassigned,c=h.currentAnyAction,l=h.currLoop,u=h.invisibleLocals;h.currLoop=null,h.writtenLocals=[],h.readLocals=[],h.actionSection=3,h.inAtomic=d instanceof T.ActionKind&&d.isAtomic(),h.outsideScopeLocals=h.snapshotLocals(),h.readOnlyLocals=A.writableLocalsInClosures?h.outsideScopeLocals.filter(function(e){return!e.isRegular}):h.outsideScopeLocals.slice(0),T.Cloud.isRestricted()&&(h.invisibleLocals=h.snapshotLocals());try{p()}finally{h.readLocals=t,h.writtenLocals=i,h.readOnlyLocals=e,h.inAtomic=o,h.actionSection=r,h.outLocals=a,h.currentAnyAction=c,h.reportedUnassigned=s,h.currLoop=l,h.invisibleLocals=u,h.outsideScopeLocals=n}})},l.prototype.typeCheckInlineAction=function(e){var t=this;this.actionScope(e.name.getKind(),function(){(t.currentAnyAction=e).inParameters.forEach(function(e){return t.declareLocal(e)}),e.outParameters.forEach(function(e){return t.declareLocal(e)}),T.Cloud.isRestricted()&&t.readOnlyLocals.pushRange(e.inParameters),t.setOutLocals(e.outParameters.slice(0)),t.reportedUnassigned=!1,t.typeCheck(e.body),t.reportedUnassigned||t.checkAssignment(e),t.computeClosure(e)})},l.prototype.visitInlineActions=function(e){var a=this;this.updateStmtUsage(e);var t=e.normalActions().map(function(e){return e.name});t.forEach(function(e){a.declareLocal(e),e.lambdaNameStatus=2}),e.actions.forEach(function(e){e.clearError()}),this.topInline=e,this.expect(e.expr,null,"void");var n=this.localScopes.length-1;this.localScopes[n]=this.localScopes[n].filter(function(e){return t.indexOf(e)<0});var i=(e.expr.assignmentInfo()?e.expr.assignmentInfo().definedVars:null)||[],r=this.localScopes[n];this.localScopes[n]=r.filter(function(e){return i.indexOf(e)<0});var s=function(e){return e};e.actions.forEach(function(e){if(e instanceof A.OptionalParameter){var t=e,n=t.recordField?t.recordField.dataKind:null;a.expect(t.expr,n,"optional")}else{var i=e,r=function(t,i){t.length>i.length?(t.splice(i.length,t.length-i.length),!0):i.length>t.length&&(!0,i.slice(t.length).forEach(function(e){t.push(A.mkLocal(s(e.getName()),e.getKind()))})),t.forEach(function(e,t){var n=i[t];n.getKind()!=e.getKind()&&(e.rename(s(n.getName())),e._kind=n.getKind(),!0)})};if(i.isOptional&&i.recordField){var o=i.recordField.dataKind;i.name.setKind(o),o.isAction?(r(i.inParameters,o.getInParameters()),r(i.outParameters,o.getOutParameters())):a.setNodeError(i,T.lf("TD189: type of optional parameter '{0}' is not a function type",i.getName()))}else if(2!=i.name.lambdaNameStatus&&i.name.getKind().isAction){o=i.name.getKind();r(i.inParameters,o.getInParameters()),r(i.outParameters,o.getOutParameters())}a.typeCheckInlineAction(i),i.closure.forEach(function(e){return a.recordLocalRead(e)})}}),this.localScopes[n]=r},l.prototype.visitThingRef=function(t){if(T.Util.startsWith(t.data,A.ThingRef.placeholderPrefix)){var e=t.data.slice(A.ThingRef.placeholderPrefix.length),n=null,i=e.indexOf(":");0<i&&(n=e.slice(i+1),e=e.slice(0,i));var r=A.api.getKind(e);if(!r&&/[_\[]/.test(e)&&((r=A.Parser.parseType(e))&&(r=l.resolveKind(r)),r==A.api.core.Unknown&&(r=null)),r){var o=new A.PlaceholderDef;o.setName(""),o._kind=r,n&&(o.label=n),t.def=o}}if(t._lastTypechecker=this,t.def instanceof A.PlaceholderDef)t.isEscapeDef()||this.markError(t,t.def.longError());else if(t.def&&!t.def.deleted&&t.data!=t.def.getName()&&(t.data=t.def.getName()),t.def=this.lookupSymbol(t),!t.def&&t.namespaceLibraryName()&&(t.namespaceLibrary&&!t.namespaceLibrary.deleted||(t.namespaceLibrary=T.Script.libraries().filter(function(e){return e.getName()==t.namespaceLibraryName()})[0]),t.def=T.Script.libNamespaceCache.createSingleton(t.data,t.namespaceLibrary)),!t.def){this.markError(t,T.lf("TD101: cannot find '{0}'",t.data));var a=A.mkLocal(t.data,this.core.Unknown);(t.def=a).isRegular=!0,this.seenCurrent&&this.missingLocals.push(a),this.declareLocal(a)}if(t.def instanceof A.LocalDef&&this.recordLocalRead(t.def),t.def instanceof A.LocalDef?t.forceLocal=!0:t.def instanceof A.SingletonDef&&(t.forceLocal=!1),(s=t.def)instanceof A.LocalDef&&s.lambdaNameStatus&&(1==s.lambdaNameStatus?this.markError(t,T.lf("TD102: lambda reference '{0}' cannot be used more than once",s.getName())):(s.lambdaNameStatus=1,this.typeHint&&this.typeHint.isAction&&(s._kind=this.typeHint))),t._kind=t.def.getKind(),t.def instanceof A.LocalDef){var s=t.def;this.seenCurrent||(s.lastUsedAt=this.timestamp++)}else if(0!=this.countToUpdate&&t.def instanceof A.SingletonDef){var c=t.def.usage;1==this.countToUpdate?c.localCount++:c.globalCount++}},l.prototype.visitLiteral=function(e){if(e instanceof A.FieldName){e._kind=((t=T.MultiplexRootProperty.md_make_kind()).md_parametric("T"),T.MultiplexRootProperty.md_make_prop(t,0,T.api.core.Unknown,":","Whatever",[],t.getParameter(0)).getResult().getKind())}else switch(typeof e.data){case"number":T.Cloud.isRestricted()&&!this.inShim&&(T.Util.between(-2147483648,e.data,e.possiblyNegative?2147483648:2147483647)!=e.data?this.markError(e,T.lf("TD209: the number is outside of the allowed range (between {0} and {1})",-2147483648,2147483647)):Math.round(e.data)!=e.data&&this.markError(e,T.lf("TD210: fractional numbers not allowed"))),e._kind=this.core.Number;break;case"string":e._kind=this.core.String;break;case"boolean":e._kind=this.core.Boolean;break;default:T.Util.die()}var t},l.prototype.typeCheckExpr=function(e){e._kind=null,this.dispatch(e),T.Util.assert(null!=e.getKind())},l.prototype.expectExpr=function(e,t,n,i){if(void 0===i&&(i=!1),!i){var r=this.typeHint;this.typeHint=t,this.typeCheckExpr(e),this.typeHint=r}if(T.Util.check(null!=e.getKind(),"expr type unset2")||(e._kind=A.api.core.Unknown),null!=t&&e.getKind()!==t){var o="TD103: ",a="";t.getRoot()==A.api.core.Ref&&(e.referencedData()||e.referencedRecordField())&&(o="TD164: ",a=T.lf("; are you missing  → ◈ref?"));var s=T.lf("'{0}' expects {1} here",n,t.toString()),c=e.getKind();c!=this.core.Unknown&&(s+=T.lf(", got {0}",c.toString())),this.markError(e,o+s+a)}},l.prototype.handleAsync=function(e,t){if(e._kind=this.core.Unknown,2==t.length){var n=t[1];n instanceof A.Call&&(n.runAsAsync=!0),this.expectExpr(n,null,"async");var i=n.getCalledProperty(),r=i&&!!(4096&i.getFlags());if(i==A.api.core.AsyncProp&&(r=!1),r){if(n.runAsAsync=!0,i&&i.forwardsTo()instanceof A.Action)1<i.forwardsTo().getOutParameters().length&&this.markError(e,T.lf("TD170: cannot use 'async' on functions with more than one output parameter"));e._kind=this.core.Task.createInstance([n.getKind()])}else this.markError(e,T.lf("TD157: 'async' keyword needs a non-atomic API or function to call"))}else this.markError(e,T.lf("TD104: syntax error in async"))},l.prototype.computeClosure=function(t){var n=this;t.closure=[],t.allLocals=[],this.readLocals.forEach(function(e){0<=n.outsideScopeLocals.indexOf(e)&&(t.closure.push(e),e._isCaptured=!0),t.allLocals.push(e)})},l.prototype.handleFun=function(o,a){var s=this,c=null,l=null;if(this.typeHint&&this.typeHint.isAction){var e=(c=this.typeHint).getOutParameters();1!=e.length?this.markError(o,T.lf("TD194: lambda expressions need to return exactly one value; function type '{0}' returns {1}",c.getName(),e.length)):l=e[0].getKind()}else this.markError(o,T.lf("TD195: lambda expressions can only be used as arguments of function type"));this.actionScope(this.typeHint,function(){if(c){var e=new A.InlineAction;e.name=A.mkLocal(T.Random.uniqueId(),c),s.declareLocal(e.name);var n=o.propRef.fromOp.getFunArgs()||[];e.inParameters=c.getInParameters().map(function(e,t){return A.mkLocal(n[t]||e.getName(),e.getKind())}),o.propRef.fromOp.funArgs=e.inParameters,e.outParameters=c.getOutParameters().map(function(e){return A.mkLocal(e.getName(),e.getKind())}),e.inParameters.forEach(function(e){return s.declareLocal(e)}),e.body=new A.CodeBlock,(e.body.parent=e).parent=s.lastStmt.parent;var t=A.Parser.emptyExprStmt();e.body.setChildren([t]);var i=e.outParameters[0];if(i){var r=A.mkThing(i.getName(),!0);r.def=i,t.expr.parsed=A.mkFakeCall(A.PropertyRef.mkProp(A.api.core.AssignmentProp),[r,a[1]]),o.funAction=e}}s.expectExpr(a[1],l,"lambda expression"),c&&s.computeClosure(e)}),o._kind=c||this.core.Unknown},l.prototype.recordLocalRead=function(e){this.readLocals.indexOf(e)<0&&this.readLocals.push(e)},l.prototype.recordLocalWrite=function(e){this.recordLocalRead(e),this.writtenLocals.indexOf(e)<0&&this.writtenLocals.push(e)},l.prototype.handleAssignment=function(e,t){if(e._kind=this.core.Nothing,2==t.length){T.Util.assert(2==t.length);var n=t[0].flatten(this.core.TupleProp),i=t[1];this.isTopExpr=!0,this.typeCheckExpr(i);var r=new A.AssignmentInfo;e._assignmentInfo=r;var o=[A.mkLocal("",i.getKind())],a=i.anyCalledAction();if(null!=a){var s=(o=a.getOutParameters().map(function(e){return e.local})).length-n.length;0<s&&(this.markError(e,T.lf("TD105: function '{0}' returns {1} more value{1:s}",a,s)),r.missingArguments=s)}r.targets=n,r.sources=o;for(var c=0;c<n.length;++c){var l=n[c],u=o[c];if(null!=u){var d=this.errorCount;if("thingRef"===l.nodeType()){var p=l;p._lastTypechecker=this,p.def&&(p.data=p.def.getName());var h=p.data,m=this.lookupSymbol(p);if(m){f=m;0<=this.readOnlyLocals.indexOf(f)?A.writableLocalsInClosures||3!=this.actionSection?this.markError(l,T.lf("TD108: you cannot assign to the local variable '{0}'",h)):this.markError(l,T.lf("TD107: inline functions cannot assign to locals from outside like '{0}'",h)):(0<=this.outsideScopeLocals.indexOf(f)&&(f._isCaptured=!0),this.recordLocalWrite(f)),(f._isCaptured||this.currLoop)&&(f._isMutable=!0)}else{var f=A.mkLocal(h,u.getKind());r.definedVars.push(f),(m=f).isRegular=!0,this.declareLocal(f),u.getKind().hasContext(1)||(u.getKind()==A.api.core.Nothing&&this.topApp.featureMissing(2)&&(r.fixContextError=!0),this.markError(p,T.lf("TD155: '{0}' cannot be assigned to a local variable",u.getKind())))}this.typeCheckExpr(l)}else{this.typeCheckExpr(l);var g=l.referencedData(),v=l.referencedRecordField(),y=l.getLiftedSetter();if(null==v&&null==g&&null==y){this.markError(l,T.lf("TD109: cannot assign to this"));continue}g&&g.readonly?this.markError(l,T.lf("TD110: trying to assign to a read-only variable")):v&&v.isKey?this.markError(l,T.lf("TD163: trying to assign to an index key")):T.Util.assert(!!y||l.isRefValue()),l.autoGet=!1}u.getKind()!=l.getKind()&&d==this.errorCount&&this.markError(l,T.lf("TD111: cannot assign from {0} to {1}",u.getKind(),l.getKind()))}else this.markError(l,T.lf("TD106: not enough values returned to assign to {0}",l))}}else this.markError(e,T.lf("TD104: syntax error in assignment"))},l.prototype.lintJavaScript=function(e,n){var i=this,r=A.Lexer.tokenize(e).map(function(e){switch(e.category){case 0:case 1:case 2:case 5:return e.data;default:return""}}).filter(function(e){return!!e}),o=!1,a=!1,s=0,c=0,l=[],u=!1;r.forEach(function(e,t){"resume"!=e&&"checkAndResume"!=e||"("!=r[t+1]||(a=!0),"protect"==e&&"("==r[t+1]&&(o=!0),"function"==e&&(n?o||s++:o&&c++,o=!1),"("==e&&l.push(")"),"{"==e&&l.push("}"),"["==e&&l.push("]"),")"!=e&&"}"!=e&&"]"!=e||(l.peek()!=e?(u||i.hintsToFlush.push(T.lf("JS hint: possible brace mismatch: got '{0}', expecting '{1}'",e,l.peek())),u=!0):l.pop())}),!u&&0<l.length&&this.hintsToFlush.push(T.lf("JS hint: possible missing closing brace: '{0}'",l.peek())),n&&!a&&this.hintsToFlush.push(T.lf("JS hint: using 'javascript async' but no call to 'resume()'")),!n&&a&&this.hintsToFlush.push(T.lf("JS hint: using 'resume()' outside of 'javascript async'")),s&&this.hintsToFlush.push(T.lf("JS hint: found function() without lib.protect(...) around it")),c&&this.hintsToFlush.push(T.lf("JS hint: found function() with lib.protect(...) outside of `javascript async`"))},l.prototype.checkStringLiteralArguments=function(t){var n=this,i=t.prop().getName();if(t.args.slice(1).every(function(e){return null!=e.getStringLiteral()})){return function(e){return t.args.length==e||(n.markError(t,T.lf("TD181: wrong number of arguments to `{0}`",i)),!1)}}this.markError(t,T.lf("TD179: arguments to `{0}` have to be string literals",i))},l.prototype.handleJavascriptImport=function(e){var t=this,n=this.checkStringLiteralArguments(e);if(n)switch(e.prop().getName()){case"javascript":case"javascript async":if(!n(3))return;this.currentAction.getOutParameters().forEach(function(e){return t.recordLocalWrite(e.local)}),this.lintJavaScript(e.args[2].getStringLiteral(),/async/.test(e.prop().getName()));break;case"thumb":if(!T.Cloud.isRestricted())return void this.markError(e,T.lf("app->thumb not supported in full Touch Develop"));if(!n(2))return;if(this.inShim||this.markError(e,T.lf("TD213: app->thumb only supported inside of {asm:}")),this.currentAction._compilerInlineBody&&this.markError(e,T.lf("TD214: only one app->thumb allowed")),this.currentAction._compilerInlineBody=this.lastStmt,this.currentAction.getOutParameters().forEach(function(e){return t.recordLocalWrite(e.local)}),l.lintThumb){var i=l.lintThumb(this.currentAction,e.args[1].getStringLiteral());0<i.length?(this.markError(e,T.lf("TD212: thumb assembler error")),this.lastStmt._inlineErrors=i):this.lastStmt._inlineErrors=null}break;case"import":if(!n(4))return;var r=e.args[1].getStringLiteral()||"",o=e.args[2].getStringLiteral(),a=e.args[3].getStringLiteral();switch(null==a&&(a="*"),r.trim().toLowerCase()){case"npm":this.topApp.canUseCapability(536870912)||this.unsupportedCapability(o,536870912),this.topApp.imports.importNpm(this,e,o,a);break;case"cordova":this.topApp.canUseCapability(1073741824)||this.unsupportedCapability(o,1073741824),this.topApp.imports.importCordova(this,e,o,a);break;case"bower":this.topApp.imports.importBower(this,e,o,a);break;case"client":this.topApp.imports.importClientScript(this,e,o,a);break;case"pip":this.topApp.canUseCapability(536870912)||this.unsupportedCapability(o,536870912),this.topApp.imports.importPip(this,e,o,a);break;case"touchdevelop":/^\/?[a-z]{4,}$/.test(a)?(this.topApp.canUseCapability(262144)||this.unsupportedCapability(o,262144),this.topApp.imports.importTouchDevelop(this,e,o,a.replace(/^\/?/,""))):this.markError(e,T.lf("TD190: version must be a published script id"));break;default:this.markError(e,T.lf("TD191: unknown package manager"))}}},l.prototype.visitCall=function(t){var s=this,i=t.args,c=t.prop();this.isTopExpr;if(this.isTopExpr=!1,this.inShim&&(t.isShim=this.inShim),t._assignmentInfo=null,c!==this.core.AssignmentProp)if(c!==this.core.AsyncProp)if(c!=this.core.FunProp){var l=this.topInline;this.topInline=null;var e=this.errorCount;this.typeCheckExpr(i[0]);var n=i[0].getKind();if(this.topApp.featureMissing(4)&&i[0].referencedRecordField()&&/^(get|set|test and set|confirmed|clear|add)$/.test(t.propRef.data)&&(this.numFixes++,c=null,t.propRef.data=A.api.core.refPropPrefix+t.propRef.data,/^.(get)$/.test(t.propRef.data)?t.propRef.tokenFix="delete":/^.(set)$/.test(t.propRef.data)&&(t.propRef.tokenFix=":=")),t.propRef.getText().slice(0,1)==A.api.core.refPropPrefix&&i[0].allowRefUse()){var r=i[0];T.Util.assert(r.autoGet),r._kind=n=A.api.core.Ref.createInstance([n]),r.autoGet=!1}if(c&&n!=this.core.Unknown&&0==c.getInfixPriority()&&c.parentKind!=n&&(c=null),c&&c.deleted){var o=c.getName();o&&(t.propRef.data=o),c=null}if(!c||c instanceof T.UnresolvedProperty){if(!(c=n.getProperty(t.propRef.data))&&this.topApp.featureMissing(64))if(n instanceof T.MultiplexKind){var a=function(e){return!1};if(t.propRef.data[0]==A.recordSymbol){var u=" "+t.propRef.data.slice(1);a=function(e){return e.slice(-u.length)==u}}c=n.listProperties().filter(function(e){return e.getName().toLowerCase()==t.propRef.data||a(e.getName())})[0]}else"Create"==n.getName()&&"collection of"==t.propRef.data&&(c=n.getProperty("Collection of"));if(!c){var d=n.getName()+"->"+t.propRef.data;A.propRenames.hasOwnProperty(d)&&(c=n.getProperty(A.propRenames[d]))}if(!c&&i[0]instanceof A.ThingRef){var p=i[0].namespaceLibrary;p&&!p.deleted&&(c=p.getKind().getProperty(t.propRef.data))}c||(e==this.errorCount&&this.markError(t,T.lf("TD112: i cannot find property '{0}' on {1}",t.propRef.data,n)),c=new T.UnresolvedProperty(n,t.propRef.data)),t.propRef.prop=c}if(c instanceof T.UnresolvedProperty)return i.slice(1).forEach(function(e){s.typeCheckExpr(e)}),void(t._kind=this.core.Unknown);c&&c.parentKind==this.core.App&&/^(javascript|import|thumb)/.test(c.getName())&&this.handleJavascriptImport(t);var h=c.getImports();h&&h.forEach(function(e){switch(e.manager){case"cordova":s.topApp.imports.importCordova(s,null,e.name,e.version);break;case"npm":s.topApp.imports.importNpm(s,null,e.name,e.version);break;default:T.Util.assert(!1,e.manager+" not supported")}}),t.autoGet=t.isRefValue();var m=c.forwardsTo();if(m&&m.deleted){try{T.Util.log("deleted decl name: "+m.getName()),T.Util.log("deleted decl: "+m.serialize())}catch(e){}T.Util.check(!1,"deleted decl"),m.deleted=!1}var f=t.calledExtensionAction()||t.calledAction();if(f&&(f.markUsed(),f.isPage()&&(t._assignmentInfo=new A.AssignmentInfo,t._assignmentInfo.isPagePush=!0)),4096&c.getFlags()&&!t.runAsAsync){if(this.inAtomic)if(1==this.actionSection);else if(2==this.actionSection){var g="run"==c.getName()&&c.parentKind.isAction;f||g||this.markError(t,T.lf("TD172: '{0}' cannot be used in page display section (which is treated as 'atomic')",c.getName()))}else this.markError(t,T.lf("TD158: '{0}' cannot be used in functions marked with 'atomic'",c.getName()));this.seenAwait=!0}c.isImplementedAnywhere()?T.Cloud.isRestricted()&&c.getCapability()&&!(c.allowInRestricted||T.Cloud.hasPermission("post-raw")&&1048576==c.getCapability())?this.markError(t,T.lf("TD211: this call is not supported in the restricted profile")):T.Browser.isNodeJS||this.topApp.canUseProperty(c)?2&c.getFlags()&&this.hintsToFlush.push(T.lf("'{0}' is obsolete and should not be used",c.getName())):this.unsupportedCapability(c.getName(),c.getCapability()):2&c.getFlags()?this.hintsToFlush.push(T.lf("'{0}' is obsolete and not implemented",c.getName())):this.hintsToFlush.push(T.lf("'{0}' is currently not implemented",c.getName())),t._kind=c.getResult().getKind();var v=c.getParameters();0<this.countToUpdate&&(1==this.countToUpdate?c.getUsage().localCount++:c.getUsage().globalCount++),l&&function(){var e=l.implicitAction();if(e){var n=-1;if(v.forEach(function(e,t){A.InlineActions.isImplicitActionKind(e.getKind())&&(n=t)}),n<0)s.setNodeError(l,T.lf("TD182: '{0}' doesn't take an implicit inline function",c));else{var t=A.mkThing(e.getName(),!0);i.splice(n,0,t)}}}();var y=A.OptionalParameter.optionsParameter(c);y&&v.length>i.length&&function(){var r=y.getKind(),o=(r.getRecord(),new A.PlaceholderDef);o._kind=r,o.escapeDef={objectToMake:r,optionalConstructor:l,isEmpty:!0};var e=A.mkThing("_libobj_");if(e.def=o,i.push(e),l){var a={};l.optionalParameters().forEach(function(e){var t=r.getProperty(e.getName()),n=t?t.forwardsToStmt():null;if(n instanceof A.RecordField){a.hasOwnProperty(e.getName())&&s.setNodeError(e,T.lf("TD185: optional parameter '{0}' specified more than once",e.getName())),a[e.getName()]=!0;var i=n;e.recordField=i,o.escapeDef.isEmpty=!1}else e.getName()?s.setNodeError(e,T.lf("TD183: '{0}' doesn't take optional parameter named '{1}' (in type '{2}')",c,e.getName(),r)):s.setNodeError(e,T.lf("TD193: we need a name for optional parameter of '{0}' (from type '{1}')",c,r))}),l=null}}(),l&&0<l.optionalParameters().length&&(y?this.markError(t,T.lf("TD188: '{0}' already has the optional parameters object passed explicitly",c)):this.markError(t,T.lf("TD184: '{0}' doesn't take optional parameters",c))),v.length<i.length?this.markError(t,T.lf("TD115: excessive parameter(s) supplied to {0}",c)):v.length>i.length&&this.markError(t,T.lf("TD116: not enough parameters supplied to {0}",c));var b=function(e){var t=e.getKind();t!=A.api.core.Unknown&&(t==A.api.core.Nothing||t.singleton||t instanceof A.LibraryRefKind)&&s.markError(e,T.lf("TD117: cannot use this expression as argument to ||; are you missing parenthesis?"))};if(c==this.core.StringConcatProp)return this.typeCheckExpr(i[1]),b(i[0]),b(i[1]),void(this.saveFixes&&this.fixConcat(t));for(var _=0;_<i.length;++_)if(_>=v.length)0<_&&this.typeCheckExpr(i[_]);else{var w=v[_].getKind();0==_&&i[_].getThing()instanceof A.SingletonDef&&w instanceof A.LibraryRefKind?(i[_].namespaceLibrary=w.lib,i[_].namespaceLibraryName()):this.expectExpr(i[_],w,c.getName(),0==_),i[_].languageHint=v[_].languageHint;var k=v[_].getStringValues();if(k){var x,C,S=k.enumMap;if(S)if("string"==typeof(x=i[_].getLiteral()))(C=v[_].getStringValueArtIds())&&(i[_].hintArtId=C[x]),0<=k.indexOf(x)?i[_].enumVal=S.hasOwnProperty(x)?S[x]:void 0:this.markError(i[_],T.lf("TD199: we didn't expect {0} here; try something like {1}",JSON.stringify(x),k.map(function(e){return JSON.stringify(e)}).join(", ").slice(0,100)));else this.markError(i[_],T.lf("TD198: we need an enum string here, something like {0}",k.map(function(e){return JSON.stringify(e)}).join(", ").slice(0,100)));else if("string"==typeof(x=i[_].getLiteral()))(C=v[_].getStringValueArtIds())&&(i[_].hintArtId=C[x]),0<=k.indexOf(x)&&(i[_].hintVal=x)}if(/^bitmatrix|bitframe$/i.test(i[_].languageHint))"string"!=typeof(x=i[_].getLiteral())&&this.markError(i[_],T.lf("TD179: we need a string here"))}this.saveFixes&&this.argumentFixes(t,v)}else this.handleFun(t,i);else this.handleAsync(t,i);else this.handleAssignment(t,i)},l.prototype.unsupportedCapability=function(e,t){var n=A.App.capabilityString(t&~this.topApp.getPlatform());268435456&this.topApp.getPlatformRaw()?this.hintsToFlush.push(T.lf("your current device does not support '{0}'; to develop scripts for other devices, enable the '{1}' capability in the platform settings in the script properties pane",e,n)):this.hintsToFlush.push(T.lf("your current platform settings do not include the '{1}' capability required for '{0}'; you can change platform settings in the script properties pane",e,n)),this.currentAction&&this.currentAction.numUnsupported++},l.prototype.cloneCall=function(e,t){return A.mkFakeCall(e.propRef,t)},l.prototype.fixConcat=function(e){var t=e.args[1].getCalledProperty(),n=e.args[1];t&&t.getResult().getKind()==A.api.core.Nothing&&1==n.args.length&&(e.savedFix=this.cloneCall(n,[this.cloneCall(e,[e.args[0],n.args[0]])]),this.saveFixes++)},l.prototype.argumentFixes=function(e,t){if(e.prop()==A.api.core.TupleProp)e.args[0].getKind()!=A.api.core.String&&e.args[1].getKind()!=A.api.core.String||(e.savedFix=A.mkFakeCall(A.PropertyRef.mkProp(A.api.core.StringConcatProp),e.args.slice(0)),this.saveFixes++);else if(t.length>e.args.length){for(var n=e.args.slice(0),i=this.snapshotLocals(),r=n.length;r<t.length;++r){var o=A.Fixer.findDefault(t[r],i),a=A.ExprParser.parse1(o);this.typeCheckExpr(a),n.push(a)}e.savedFix=this.cloneCall(e,n),this.saveFixes++}},l}(A.NodeVisitor);A.TypeChecker=n;var a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visitAstNode=function(e){e.clearError(),this.visitChildren(e)},t}(A.NodeVisitor)}(T.AST||(T.AST={}))}(TDev||(TDev={})),function(s){!function(n){n.getScriptIcons=function(){var t={};return["facebook","twitter"].concat(n.icons).forEach(function(e){t[e.toLowerCase()]="M 172.862,139.945L 240.453,207.537L 308.045,139.945L 339.499,171.399L 271.907,238.991L 339.499,306.582L 308.045,338.036L 240.453,270.445L 172.862,338.036L 141.408,306.582L 208.999,238.991L 141.408,171.399L 172.862,139.945 Z "}),t},n.icons=["123","8Ball","ABC","Acorn","Add","AddCircle","AddFolder","AddressBook","AddUser","AdminUser","Airplane","AlignCenter","AlignLeft","AlignRight","AlmostEqual","Alram","Anchor","Appointment","ApproveButton","Arrow-Circle-R","ArrowBox","ArrowCircleAlt","ArrowCircleRounded","ArrowDotted","ArrowDownL","ArrowDownR","ArrowDownRounded","ArrowHead","ArrowLarge","ArrowLR","ArrowMoving","ArrowR","ArrowRLarge","ArrowRounded","ArrowStandard","ArrowStandardCircle","Award","BarChart","Beer","Bell","Binoculars","BlankPage","Bold","Bolt","Bomb","Book","Bookmark","Briefcase","Brush","BulletList","Bullseye","Business","BusinessCard","BusinessPerson","Butterfly","Cactus","Calculator","Callout","Camera","Capitalize","Caution","ChapBack","ChapBackCircle","ChapForward","ChargingBattery","Check","CheckAlt","CheckBox","CheckCircle","CheckCircleAlt","Cherry","Clipboard","Clock","Clover","Club","CoffeeCup","Command","CommandLine","Construction","Contacts","Controller","Controls","Copyright","CreditCard","Cube","Cut","Cycle","Dashboard","Delete","DeleteUser","DeliveryTruck","Directions","Document","Documents","DocumentsAlt","Dollar","DownBox","Download","DownloadButton","DownloadButtonAlt","DownloadPage","Drawing","Email","EmailDoc","EmailOpen","Emergency","EmptyBattery","Erase","Euro","Exclamation","ExclamationCircle","ExclamationCircleAlt","Exit","Expand","Eye","Farm","Female","Files","Film","Fire","Fit","FitHorizontal","Flag","Fleurdelis","FlipChart","FlowChart","Folder","FormatText","Forward","ForwardButton","FourColumn","FullBattery","Funnel","GasPump","Globe","GlobeA","GlobeAS","GlobeAUS","GlobeEUA","GlobeSA","GlobeUS","Government","GPS","Grapes","Graph","Group","HalfBattery","Hammer","Headphones","Heart","HeartAlt","Help","Home","HomeAlt","Horn","Horseshoe","HourGlass","IM","Inbox","Info","InfoCircle","InfoCircleAlt","Italic","Journal","JoyStick","Justified","Key","Lab","Ladder","Leaf","Lightbulb","LineChart","Link","Loading","LoadingAlt","Location","Lock","LockedFolder","Male","Map","Martini","Maximize","Megaphone","Mic","MinusBox","MinusBoxAlt","MobilePhone","Money","Monitor","Moon","Mountains","Movie","MP3Player","Multiply","MultiplyCircle","Music","Mute","Needle","NewPage","NewPageAlt","NextSceneButton","NineColumn","Notebook","NumberedList","Omega","OpenFolder","Package","PageCurl","Paint","Painting","PaperClip","Pause","PauseCircle","Pear","Pen","PenAlt","Pencil","Person","Phone","Photo","Photos","Pie","PieChart","Play","PlayButton","PlayCircle","PlusBox","PlusBoxAlt","PlusCircle","Pound","Power","Presentation","PriceTag","Printer","PushPin","Question","QuestionCircle","QuestionCircleAlt","Quote","Raindrop","Reading","Recycle","RemoveButton","RemoveFolder","RemovePage","RemoveUser","Restore","Revert","Rewind","RewindCircle","Ribbon","RunningMan","Save","SaveAlt","Screwdriver","Search","Setting","Settings","Share","ShareThis","Shield","Shirt","ShoppingBag","ShoppingBasket","ShoppingCart","ShoppingCartAlt","Shrink","Shuffle","Signal","SignalAlt","SixColumn","SmartPhone","SmilieHappy","SmilieHappyAlt","SmilieJustOk","SmilieJustOkAlt","SmilieSad","SmilieSadAlt","SMS","SMSAlt","Snowflake","Sort","SortAZ","Sound","SoundHigh","SoundLow","Space","Spade","Split","Stacks","Star","StarAlt","StrikeOut","Subtract","SubtractCircle","Suitcase","Sun","Switch","TabLeft","TabRight","Tanktop","Target","Terminal","Text","ThreeColumn","ThumbsDown","Ticket","Tools","TouchPad","Trash","Tree","Umbrella","Underline","Unlock","UpBox","Upload","Video","VideoCam","Wand","Warning","WarningAlt","Watch","Weather","Wheel","Wifi","Wine","WorkOrder","Wrench","WritePage","Yen","ZoomIn","ZoomOut"];var a={html5:{width:150,height:34,path:"<path fill='#E34F29' d='M 6.8512e-006,0.00515747L 29.9015,-6.10352e-005L 27.1782,30.6422L 14.9442,34L 2.7297,30.6422L 6.8512e-006,0.00515747 Z M 24.2843,6.37619L 5.62171,6.37097L 6.61292,17.6124L 19.5937,17.6237L 19.1291,22.5482L 14.9439,23.6255L 10.7365,22.5826L 10.4577,19.523L 6.79574,19.5367L 7.26726,25.3395L 14.9439,27.549L 22.6413,25.4152L 23.639,13.8833L 9.93759,13.8833L 9.68507,9.99295L 24.0851,10.0756L 24.2843,6.37619 Z M 69.6986,6.62717L 64.1534,26.2192L 61.4639,26.2192L 57.4274,11.9013C 57.2553,11.292 57.1519,10.6272 57.1169,9.9072L 57.0601,9.9072C 57.0046,10.5806 56.8866,11.2366 56.7058,11.875L 52.6387,26.2192L 49.9754,26.2192L 44.229,6.62717L 46.7612,6.62717L 50.9332,21.6535C 51.1052,22.2833 51.2145,22.9393 51.2612,23.6216L 51.3311,23.6216C 51.3748,23.1376 51.5162,22.4816 51.7553,21.6535L 56.0892,6.62717L 58.2889,6.62717L 62.4478,21.7629C 62.5936,22.2819 62.7029,22.8927 62.7758,23.5952L 62.8326,23.5952C 62.8676,23.1229 62.9901,22.4948 63.2,21.7104L 67.2103,6.62717L 69.6986,6.62717 Z M 82.7133,19.7818L 72.9173,19.7818C 72.9552,21.3008 73.3765,22.4735 74.1812,23.3C 74.9858,24.1265 76.0937,24.5398 77.5048,24.5398C 79.0908,24.5398 80.5471,24.0733 81.8737,23.1404L 81.8737,25.1914C 80.6491,26.0631 79.0281,26.499 77.0106,26.499C 75.0398,26.499 73.4917,25.8678 72.3663,24.6054C 71.2409,23.343 70.6782,21.566 70.6782,19.2744C 70.6782,17.1111 71.2869,15.3488 72.5041,13.9873C 73.7213,12.6258 75.2337,11.9449 77.0412,11.9449C 78.8459,11.9449 80.2424,12.5332 81.2308,13.7096C 82.2191,14.886 82.7133,16.5208 82.7133,18.614L 82.7133,19.7818 Z M 80.4742,17.8225C 80.4655,16.5864 80.155,15.6243 79.5427,14.9362C 78.9305,14.2483 78.0791,13.9042 76.9888,13.9042C 75.9363,13.9042 75.0427,14.2657 74.308,14.9887C 73.5733,15.7117 73.12,16.6564 72.9479,17.8225L 80.4742,17.8225 Z M 88.3679,24.0718L 88.3111,24.0718L 88.3111,26.219L 86.072,26.219L 86.072,5.50754L 88.3111,5.50754L 88.3111,14.805L 88.3679,14.805C 89.47,12.8982 91.0822,11.9449 93.2047,11.9449C 95.0006,11.9449 96.4066,12.5673 97.4226,13.8123C 98.4387,15.0572 98.9467,16.7248 98.9467,18.8152C 98.9467,21.1418 98.3774,23.004 97.239,24.402C 96.1005,25.7999 94.5414,26.4989 92.5618,26.4989C 90.7134,26.4989 89.3154,25.6899 88.3679,24.0718 Z M 88.3111,18.5659L 88.3111,20.477C 88.3111,21.6082 88.6893,22.5681 89.4459,23.3568C 90.2025,24.1454 91.1639,24.5398 92.33,24.5398C 93.6974,24.5398 94.7688,24.0317 95.5443,23.0157C 96.3199,21.9996 96.7076,20.5879 96.7076,18.7802C 96.7076,17.2583 96.3454,16.0652 95.6209,15.2007C 94.8964,14.3363 93.9146,13.9041 92.6755,13.9041C 91.3636,13.9041 90.3081,14.3472 89.5093,15.2335C 88.7105,16.1199 88.3111,17.2306 88.3111,18.5659 Z M 118.259,26.219L 115.687,26.219L 113.531,20.6213L 105.244,20.6213L 103.211,26.219L 100.626,26.219L 108.227,6.62692L 110.632,6.62692L 118.259,26.219 Z M 112.797,18.662L 109.714,10.4448L 109.416,9.14597L 109.359,9.14597C 109.266,9.69699 109.158,10.1299 109.036,10.4448L 105.974,18.662L 112.797,18.662 Z M 123.074,24.0717L 123.017,24.0717L 123.017,32.6563L 120.778,32.6563L 120.778,12.2246L 123.017,12.2246L 123.017,14.8048L 123.074,14.8048C 124.176,12.8981 125.788,11.9447 127.911,11.9447C 129.715,11.9447 131.123,12.5671 132.135,13.8121C 133.147,15.057 133.653,16.7246 133.653,18.815C 133.653,21.1416 133.083,23.0039 131.945,24.4018C 130.806,25.7998 129.247,26.4987 127.268,26.4987C 125.454,26.4987 124.056,25.6897 123.074,24.0717 Z M 123.017,18.5658L 123.017,20.4768C 123.017,21.608 123.395,22.568 124.152,23.3567C 124.908,24.1452 125.87,24.5396 127.036,24.5396C 128.403,24.5396 129.475,24.0315 130.25,23.0155C 131.026,21.9995 131.413,20.5877 131.413,18.78C 131.413,17.2582 131.051,16.0651 130.327,15.2006C 129.602,14.3362 128.62,13.9039 127.381,13.9039C 126.069,13.9039 125.014,14.347 124.215,15.2334C 123.416,16.1198 123.017,17.2304 123.017,18.5658 Z M 139.587,24.0716L 139.53,24.0716L 139.53,32.6562L 137.291,32.6562L 137.291,12.2246L 139.53,12.2246L 139.53,14.8047L 139.587,14.8047C 140.689,12.898 142.301,11.9446 144.424,11.9446C 146.228,11.9446 147.637,12.567 148.648,13.812C 149.66,15.0569 150.166,16.7246 150.166,18.8149C 150.166,21.1416 149.597,23.0038 148.458,24.4017C 147.32,25.7997 145.761,26.4987 143.781,26.4987C 141.967,26.4987 140.57,25.6897 139.587,24.0716 Z M 139.53,18.5657L 139.53,20.4768C 139.53,21.6079 139.908,22.5679 140.665,23.3566C 141.422,24.1451 142.383,24.5395 143.549,24.5395C 144.916,24.5395 145.988,24.0315 146.763,23.0154C 147.539,21.9994 147.927,20.5876 147.927,18.7799C 147.927,17.2581 147.564,16.065 146.84,15.2005C 146.116,14.3361 145.134,13.9038 143.895,13.9038C 142.583,13.9038 141.527,14.347 140.728,15.2333C 139.93,16.1197 139.53,17.2303 139.53,18.5657 Z '/>"}};n.getWinLogo=function(e,t,n){void 0===t&&(t=2),void 0===n&&(n=null);var i=a[e];i||(i=a.html5);var r=i.path;n&&(r=r.replace(/fill='[^']*'/,"fill='"+n+"'"));var o=s.SVG.svgToElement(s.SVG.svgBoilerPlate("0 0 "+i.width+" "+i.height,r));return o.style.height=t+"em",o.style.width=i.width/i.height*t+"em",o},n.stableIconFromName=function(e){return n.icons[(2147483647&s.Util.getStableHashCode(e))%n.icons.length]},n.stableColorFromName=function(e){return s.Util.colors[(2147483647&s.Util.getStableHashCode(e))%(s.Util.colors.length-1)]}}(s.ScriptIcons||(s.ScriptIcons={}))}(TDev||(TDev={})),function(f){!function(l){l.recordSymbol="⌹",l.oldModelSymbol="⊞",l.modelSymbol="❖";var t=function(t){function e(e){t.call(this),this.parentDef=e}return __extends(e,t),e}(l.InlineStmt);l.RecordKind=t;var n=function(t){function e(e){t.call(this),this.parentDef=e}return __extends(e,t),e}(l.InlineStmt);l.RecordPersistenceKind=n;var e,c=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this.isOut=e}return __extends(e,t),e.prototype.accept=function(e){return e.visitFieldName(this)},e}(l.Literal);l.FieldName=c,(e=l.RecordType||(l.RecordType={}))[e.Object=1]="Object",e[e.Table=2]="Table",e[e.Index=3]="Index",e[e.Decorator=4]="Decorator";var i,r=l.RecordType;(i=l.RecordPersistence||(l.RecordPersistence={}))[i.Temporary=0]="Temporary",i[i.Local=1]="Local",i[i.Cloud=2]="Cloud",i[i.Partial=3]="Partial";l.RecordPersistence;var a=function(c){function e(e,t,n,i,r,o,a,s){void 0===o&&(o=!1),void 0===a&&(a=null),void 0===s&&(s=null),c.call(this,i,e,t,[],l.api.core.Unknown),this.name=e,this.help=t,this.writesmutable=n,this.parentKind=i,this.resultKind=r,this.isField=o,this.paramkinds=[],a&&this.paramkinds.push(a),s&&this.paramkinds.push(s)}return __extends(e,c),e.prototype.getName=function(){return"string"==typeof this.name?this.name:this.name.getName()},e.prototype.setParameterKinds=function(e){this.paramkinds=e,this.cachedParameters=void 0},e.prototype.getParameters=function(){var t=this;if(!this.cachedParameters){var e=l.PropertyDecl.mkPPext(this,"_this_",this.parentKind);this.writesmutable&&(e._flags|=1),this.cachedParameters=[e],this.paramkinds.forEach(function(e){t.cachedParameters.push(l.PropertyDecl.mkPPext(t,e.getStemName(),e))})}return this.cachedParameters},e.prototype.makeObsolete=function(){return this._addFlags(2),this},e.prototype.hideIntelliButton=function(){return this._addFlags(131072),this},e.prototype.ignoreReturnValue=function(){return this._addFlags(262144),this},e.prototype.getResult=function(){return l.PropertyDecl.mkPPext(this,"",this.resultKind)},e.prototype.getHelp=function(){return this.help},e.prototype.isImplemented=function(){return!0},e.prototype.canCacheSearch=function(){return!1},e.deleteProperties=function(e){e&&e.forEach(function(e){e.deleted=!0})},e}(f.Property);function o(e){var t,s=[],c=function(e,t,n){var i,r=e.getResult().getKind(),o=f.MultiplexKind.argsFor(t);i=0==o.length?r.createFinal(t):new f.MultiplexProperty(t,r,new f.MultiplexKind(o));var a=new l.PropertyRef;a.prop=i,a.data=n+f.MultiplexKind.propName(i.forKind),s.push(a),0<t.getParameterCount()&&t.parameters.forEach(function(e,t){return c(i,e,o[t].prefix)})};return c(((t=f.MultiplexRootProperty.md_make_kind()).md_parametric("T"),f.MultiplexRootProperty.md_make_prop(t,0,f.api.core.Unknown,":","Whatever",[],t.getParameter(0))),e,""),s}l.propertyRefsForKind=o,l.KindToCodomain=function(e){return e instanceof u?"^"+e.getRecord().getStableName():f.RT.Conv.getCloudCodomain(e.getName())};var d=function(s){function n(e,t,n,i){var r=this;void 0===i&&(i=""),s.call(this),this.isKey=n,this.description=i,this.exprHolder=new l.ExprHolder,this.commentBlock=new l.CodeBlock,this.setStableName(l.uniqueAstId(16)),this.commentBlock.setChildren([]),i.split(/\n/).forEach(function(e){if(e){var t=new l.FieldComment(r);t.text=e,r.commentBlock.push(t)}}),(this.commentBlock.parent=this).setKind(t),s.prototype.setName.call(this,e),this.setupForEdit()}return __extends(n,s),n.prototype.forSearch=function(){return this.getName()+" "+this.dataKind.toString()},n.prototype.setupForEdit=function(){this.exprHolder.tokens=[new c].concat(o(this.dataKind)),this.exprHolder.parsed=new l.Literal,this.exprHolder.locals=[],this.setName(this.getName())},n.prototype.calcNode=function(){return this.exprHolder},n.prototype.notifyChange=function(){var t=this,e=this.exprHolder.tokens;if(0==e.length){var n=this.parent,i=n.children().filter(function(e){return e!=t});n.setChildren(i)}else if(e[0]&&e[0]instanceof c){var r=e[0].data;r!=this.getName()&&this.def().getFields().every(function(e){return e.getName()!=r})&&(s.prototype.setName.call(this,r),f.Script.notifyChangeAll());var o=!1;if(1<e.length){var a=this.exprHolder.getKind();l.isProperKind(a)&&a!=this.dataKind&&(this.setKind(a),this.def().clearPropertyCaches(),o=!0)}o&&l.TypeChecker.tcApp(f.Script)}1<e.length&&e[1]instanceof l.PropertyRef&&(e[1].skipArrow=!0),this.propertyDeflStrings=void 0,s.prototype.notifyChange.call(this)},n.prototype.accept=function(e){return e.visitRecordField(this)},n.prototype.isLastChild=function(){return!1},n.prototype.nodeType=function(){return"recordField"},n.prototype.setName=function(e){s.prototype.setName.call(this,e);var t=this.exprHolder.tokens;0<t.length&&t[0]instanceof c&&(t[0].data=e)},n.prototype.def=function(){return this.parent.parentDef},n.prototype.getDescription=function(){return this.description},n.prototype.setKind=function(e){this.dataKind!=e&&(this.dataKind=e,this.fieldKind=l.api.core.Ref.createInstance([e]),this.clearPropertyCaches())},n.prototype.matches=function(e){return this.dataKind.matches(e)},n.prototype.bogusPropertyParameter=function(){if(void 0===this.propertyDeflStrings){var e=/\{hints:([^{}]*)/.exec(this.getDescription());e?this.propertyDeflStrings=e[1].split(/,/):this.dataKind==l.api.core.Boolean?this.propertyDeflStrings=n.trueFalse:this.propertyDeflStrings=null}var t=this.def().mkPP(this.getName(),this.dataKind);return this.propertyDeflStrings&&(t.setDeflStrings(this.propertyDeflStrings),this.propertyDeflStrings==n.trueFalse&&t.setDeflStrings(null)),t},n.prototype.clearPropertyCaches=function(){this.propertyCache&&(this.propertyCache.deleted=!0,this.propertyCache=null)},n.prototype.onDelete=function(){this.clearPropertyCaches()},n.prototype.asProperty=function(){if(!this.propertyCache){if(this.isKey){var e=new a(this,f.lf("get the {0} key",this.dataKind.toString()),!1,this.def().entryKind,this.dataKind,!0);e.isKey=!0,this.propertyCache=e}else this.propertyCache=new a(this,f.lf("access the {0} field",this.dataKind.toString()),!1,this.def().entryKind,this.dataKind,!0);var t=this;this.propertyCache.forwardsToStmt=function(){return t}}return this.propertyCache},n.prototype.writeDef=function(e){this.description&&e.comment(this.description),e.uniqueId(this.getStableName()),e.id(this.getName()).op(":").kind(this.def().parent,this.dataKind).nl()},n.prototype.writeTo=function(e){e.keyword("var").id(this.getName()).op(":").kind(this.def().parent,this.dataKind).op0(";").nl().comment(this.description)},n.prototype.getCloudType=function(){return this.isKey?this.dataKind instanceof u?this.dataKind.record.getCloudType():f.RT.Conv.getCloudDomain(this.dataKind.getName()):f.Revisions.Parser.MakeProperty(this.getStableName(),this.def().getCloudType(),l.KindToCodomain(this.dataKind))},n.prototype.referenceName=function(){return 1==this.def().recordType?"$"+this.getName():this.getStableName()},n.trueFalse=["true","false"],n}(l.Stmt);l.RecordField=d;var s=function(n){function e(e,t){n.call(this,e,t),this.extActions=[],this.isData=!0}return __extends(e,n),e.prototype.addExtensionAction=function(e){this.cachedVersion=null,this.extActions.push(e)},e.prototype.listExtensions=function(){var n=this;if(this.cachedVersion===f.Script.notifyVersionMarker)return this.cachedExtensions;var i=[];return f.Script.things.forEach(function(e){if(e instanceof l.Action){var t=e;t.getExtensionKind()==n&&i.push(new l.ExtensionProperty(t))}}),0<i.length?0<this.extActions.length?this.cachedExtensions=this.extActions.concat(i):this.cachedExtensions=i:this.cachedExtensions=this.extActions,this.cachedVersion=f.Script.notifyVersionMarker,this.cachedExtensions},e.prototype.getExtension=function(t){return this.listExtensions().filter(function(e){return e.getName()==t})[0]},e.prototype.isUserDefined=function(){return!0},e.prototype.isExtensionEnabled=function(){return!0},e}(f.Kind),u=function(t){function e(e){t.call(this,"none","record entry"),this.record=e,this.collectionKind=l.api.core.Collection.createInstance([this]),this.isSerializable=!0}return __extends(e,t),e.prototype.getRecord=function(){return this.record},e.prototype.isError=function(){return this.record.deleted},e.prototype.listPriority=function(){return 5},e.prototype.isUserDefined=function(){return!0},e.prototype.getDescription=function(){return this.record?this.record.getEntryKindDescription():""},e.prototype.getHelp=function(){return this.record.getEntryKindDescription()},e.prototype.getStemName=function(){return this.record.getCoreName()},e.prototype.icon=function(){return m.GetIcon(this.record.recordType)},e.prototype.parentLibrary=function(){return this.getRecord().parentLibrary()},e.prototype.getContexts=function(){switch(this.record.recordType){case 1:return 1312|f.KindContext.General;case 2:return 1380|f.KindContext.General;case 4:return 256|f.KindContext.General;case 3:return 288|f.KindContext.General}f.Util.die()},e.prototype.getCommonProps=function(){if(!this.props){var e=new a("clear fields",f.lf("sets all fields to their default values"),!0,this,l.api.core.Nothing),t=new a("equals",f.lf("tests if two references refer to the same object"),!1,this,l.api.core.Boolean,!1,this),n=new a("post to wall",f.lf("displays the object on the wall"),!1,this,l.api.core.Nothing),i=new a("to json",f.lf("export a JSON representation of the contents"),!1,this,l.api.core.JsonObject);switch(this.record.recordType){case 1:this.props=[n,e,t,new a("is invalid",f.lf("checks if reference has not been set"),!1,this,l.api.core.Boolean),i,new a("from json",f.lf("import field values from a JSON object"),!1,this,l.api.core.Nothing,!1,l.api.core.JsonObject)];break;case 2:var r=new a("delete row",f.lf("deletes this row from the table"),!0,this,l.api.core.Nothing),o=new a("confirmed",f.lf("true if last update of row has been confirmed by server"),!1,this,l.api.core.Boolean);this.props=[n,t,r,i,new a("from json",f.lf("import column values from a JSON object"),!1,this,l.api.core.Nothing,!1,l.api.core.JsonObject),new a("is invalid",f.lf("checks if reference has not been set"),!1,this,l.api.core.Boolean),new a("is deleted",f.lf("checks if this row (or any of its linked rows) has been deleted"),!1,this,l.api.core.Boolean),o],this.record.cloudEnabled||this.record.cloudPartiallyEnabled||o.hideIntelliButton();break;case 4:this.props=[n,e,t,i,new a("from json",f.lf("import field values from a JSON object"),!1,this,l.api.core.Nothing,!1,l.api.core.JsonObject)];break;case 3:this.props=[n,e,t,i,new a("from json",f.lf("import field values from a JSON object"),!1,this,l.api.core.Nothing,!1,l.api.core.JsonObject),new a("is invalid",f.lf("checks if reference has not been set"),!1,this,l.api.core.Boolean),new a("is deleted",f.lf("checks if this index entry is deleted, i.e. has a deleted row key"),!1,this,l.api.core.Boolean),new a("confirmed",f.lf("true if last update of entry has been confirmed by server"),!1,this,l.api.core.Boolean)];break;default:f.Util.die()}}return this.props},e.prototype.clearPropertyCaches=function(){a.deleteProperties(this.props),this.props=null},e.prototype.kill=function(){this.clearPropertyCaches(),this.record.deleted=!0},e.prototype.listProperties=function(){return this.getCommonProps().concat(this.record.getFields().map(function(e){return e.asProperty()})).concat(this.listExtensions())},e.prototype.getProperty=function(t){var e=function(e){return e.getName()===t},n=this.getCommonProps().filter(e)[0];if(n)return n;var i=this.record.getFields().filter(e)[0];return i?i.asProperty():this.getExtension(t)},e.prototype.getName=function(){return this.record.getCoreName()},e.prototype.toString=function(){return this.record.getNamespace()+this.getName()},e.prototype.recordType=function(){return this.record.recordType},e}(l.ExtensionEnabledKind=s);l.RecordEntryKind=u;var p=function(t){function e(e){t.call(this,"no name","record definition"),this.record=e,this.isData=!0,this.isSerializable=!0}return __extends(e,t),e.prototype.getRecord=function(){return this.record},e.prototype.listProperties=function(){return this.record.getProperties()},e.prototype.getProperty=function(t){return this.record.getProperties().filter(function(e){return e.getName()===t})[0]},e.prototype.getName=function(){return this.record.getName()},e.prototype.toString=function(){return this.record.toString()},e.prototype.getDescription=function(){return this.record.getDescription()},e.prototype.getHelp=function(){return this.record.getDescription()},e.prototype.isEnumerable=function(){return 2===this.record.recordType||3===this.record.recordType},e.prototype.hasEnumerator=function(){return!0},e.prototype.getContexts=function(){if(!this.record)return 0;switch(this.record.recordType){case 4:case 1:return 512;case 2:case 3:return 512}f.Util.die()},e}(f.Kind);l.RecordDefKind=p;var h=function(n){function e(e,t){void 0===t&&(t=!1),n.call(this,e.entryKind,"","",[],l.api.core.Unknown),this.record=e,this.from_json=t,this.parentKind=this.record.tableKind}return __extends(e,n),e.prototype.getName=function(){var e=this.from_json?" from json":"";switch(this.record.recordType){case 1:return"create"+e;case 2:return"add row"+e;case 4:return"at";case 3:return 0===this.record.keys.count()?"singleton":"at";default:f.Util.die()}},e.prototype.getParameters=function(){var t=this,n=[l.PropertyDecl.mkPPext(this,"_this_",this.record.tableKind)];return this.record.keys.forEach(function(e){n.push(l.PropertyDecl.mkPPext(t,e.getName(),e.dataKind))}),this.from_json&&n.push(l.PropertyDecl.mkPPext(this,"json",l.api.core.JsonObject)),n},e.prototype.getResult=function(){var e=l.PropertyDecl.mkPPext(this,"k",this.record.entryKind);return 1===this.record.recordType&&e.md_writesMutable(),e},e.prototype.getDescription=function(){switch(this.record.recordType){case 1:return this.from_json?"create a fresh object and initialize from given JSON object":"create a fresh object";case 2:return 0===this.record.keys.count()?"create a fresh row in the table":"create a fresh row in the table, with the given links";case 4:return"access the decoration for a target";case 3:return 0===this.record.keys.count()?"access the single entry (there is only one, since there are no keys)":"accesses the entry indexed by the given keys";default:f.Util.die()}},e.prototype.isImplemented=function(){return!0},e.prototype.canCacheSearch=function(){return!1},e}(f.Property);l.RecordCtorProperty=h;var m=function(e){function i(){e.call(this),this.keys=new l.FieldBlock,this.values=new l.FieldBlock,this.description="",this.recordType=1,this.recordKind=new t(this),this.recordPersistence=new n(this),this.cloudEnabled=!1,this.cloudPartiallyEnabled=!1,this.persistent=!1,this.isModel=!1,this._isExported=!1,((this.keys.parentDef=this).values.parentDef=this).tableKind=new p(this),this.entryKind=new u(this),this.ctorProperty=new h(this),this.ctorJsonProperty=new h(this,!0),this._kind=this.tableKind}return __extends(i,e),i.prototype.parentLibrary=function(){return null},i.prototype.locallypersisted=function(){return this.persistent&&!(this.cloudEnabled||this.cloudPartiallyEnabled)},i.prototype.hasErrors=function(){return!!this.getError()||this.getFields().some(function(e){return!!e.getError()})},i.prototype.children=function(){return[this.keys,this.values]},i.prototype.thingSetKindName=function(){return"records"},i.prototype.getDefinedKind=function(){return this.entryKind},i.prototype.isExported=function(){return this._isExported&&1==this.recordType},i.prototype.getName=function(){switch(this.recordType){case 1:return this.getCoreName();case 2:return this.getCoreName()+" table";case 3:return this.getCoreName()+" index";case 4:var e=this.getTargetKind();return e?e.getName()+" decorator":this.getCoreName()+" decorator";default:f.Util.die()}},i.prototype.getSignature=function(){return""},i.prototype.getRecordPersistence=function(){if(3===this.recordType||2===this.recordType){if(this.cloudPartiallyEnabled)return 3;if(this.cloudEnabled)return 2;if(this.persistent)return 1}return 0},i.prototype.getPersistenceDescription=function(){switch(this.recordType){case 3:case 2:return i.recordPersistenceToString(this.getRecordPersistence(),f.Script&&f.Script.isCloud);case 1:case 4:return"";default:f.Util.die()}},i.prototype.getDescription=function(){if(this.description)return this.description;var e="A "+this.getPersistenceDescription();switch(this.recordType){case 1:return"A loose collection of "+this.getCoreName()+" objects.";case 2:return e+" table containing "+this.getCoreName()+" records.";case 3:return e+" index containing "+this.getCoreName()+" entries.";case 4:return"A decorator for "+(this.getTargetKind().getName()||"")+" objects.";default:f.Util.die()}},i.prototype.getEntryKindDescription=function(){switch(this.recordType){case 1:return"A reference to a "+this.getCoreName()+" object.";case 2:return"A reference to a "+this.getCoreName()+" table row.";case 3:return"A reference to a "+this.getCoreName()+" index entry.";case 4:return"A reference to a "+(this.getTargetKind().getName()||"")+" decoration.";default:f.Util.die()}},i.prototype.getDefTerminology=function(){return i.recordTypeToString(this.recordType).toLowerCase()},i.prototype.getKeyTerminology=function(){switch(this.recordType){case 1:return null;case 2:return"link";case 3:return"key";case 4:return null;default:f.Util.die()}},i.prototype.getValueTerminology=function(){switch(this.recordType){case 1:return"field";case 2:return"column";case 3:case 4:return"field";default:f.Util.die()}},i.prototype.getCloudType=function(){switch(f.Util.assert(this.persistent),this.recordType){case 2:var e=this.keys.stmts.map(function(e){return e.dataKind.record.getCloudType()});return f.Revisions.Parser.MakeDomain(this.getStableName(),f.Revisions.Parser.DOMAIN_DYNAMIC,e);case 3:var t=this.keys.stmts.map(function(e){var t=e.dataKind;return t.record?t.record.getCloudType():f.RT.Conv.getCloudDomain(t.getName())});return f.Revisions.Parser.MakeDomain(this.getStableName(),f.Revisions.Parser.DOMAIN_STATIC,t);default:f.Util.die()}},i.prototype.getProperties=function(){return this.initalizeProperties(),this._properties},i.prototype.clearPropertyCaches=function(){a.deleteProperties(this._properties),this._properties=null,this.entryKind.clearPropertyCaches(),this.getFields().forEach(function(e){return e.clearPropertyCaches()})},i.prototype.fixupFields=function(e){void 0===e&&(e=void 0),2!=this.recordType&&3!=this.recordType&&(this.cloudEnabled=!1,this.cloudPartiallyEnabled=!1,this.persistent=!1);var t=e||this.recordType,n=this.recordType;if(4===t&&4!=n?this.keys.setChildren([]):t!=n&&3!=n&&this.keys.setChildren([]),4===n){var i=this.keys.stmts[0];i||(i=new d("target",l.api.getKind("Sprite"),!0)),this.keys.setChildren([i]),i.setName("target")}},i.prototype.initalizeProperties=function(){if(!this._properties){switch(this.recordType){case 1:(n=new a("create collection",f.lf("creates an empty collection of objects"),!1,this.tableKind,this.entryKind.collectionKind)).md_writesMutable();var e=new a("invalid",f.lf("Create an invalid value of this object type"),!1,this.tableKind,this.entryKind);this._properties=[n,e];break;case 2:if((n=new a("create collection",f.lf("creates an empty collection of rows"),!1,this.tableKind,this.entryKind.collectionKind)).md_writesMutable(),(i=new a("copy to collection",f.lf("loads the table rows into a collection"),!1,this.tableKind,this.entryKind.collectionKind)).md_writesMutable(),this._properties=[new a("post to wall",f.lf("Post all rows to the wall"),!1,this.tableKind,l.api.core.Nothing),new a("count",f.lf("Counts the number of rows"),!1,this.tableKind,l.api.core.Number),new a("clear",f.lf("Clear all rows from the table"),!0,this.tableKind,l.api.core.Nothing),n,i,new a("invalid row",f.lf("Creates an invalid reference to a row"),!1,this.tableKind,this.entryKind).makeObsolete(),new a("invalid",f.lf("Creates an invalid reference to a row"),!1,this.tableKind,this.entryKind),new a("row at",f.lf("Gets the row at the specified position. Returns invalid if out of range"),!1,this.tableKind,this.entryKind,!1,l.api.core.Number)],this._properties.push(n=new a("wait for update",f.lf("waits until there is an update (possibly change) to the table contents"),!1,this.tableKind,l.api.core.Nothing)),n.md_resumes(),n.md_async(),n.md_betaOnly(),1<=this.keys.stmts.length){var t=new a("entries linked to",f.lf("returns all rows with matching links"),!1,this.tableKind,this.entryKind.collectionKind);t.setParameterKinds(this.keys.stmts.map(function(e){return e.dataKind})),t.md_writesMutable(),this._properties.push(t)}this._properties.push(new a("to json",f.lf("export a JSON representation of the table contents"),!1,this.tableKind,l.api.core.JsonObject)),this._properties.push(new a("from json",f.lf("import a JSON representation of the table contents"),!1,this.tableKind,l.api.core.Nothing,!1,l.api.core.JsonObject));break;case 3:var n,i;if((n=new a("create collection",f.lf("creates an empty collection of entries"),!1,this.tableKind,this.entryKind.collectionKind)).md_writesMutable(),(i=new a("copy to collection",f.lf("loads the index entries into a collection"),!1,this.tableKind,this.entryKind.collectionKind)).md_writesMutable(),this._properties=[new a("post to wall",f.lf("Posts all non-empty entries (i.e. entries with at least one non-default field) to the wall"),!1,this.tableKind,l.api.core.Nothing),new a("count",f.lf("Counts the number of entries that contain non-default values"),!1,this.tableKind,l.api.core.Number),new a("clear",f.lf("Clear all entries, all fields assume default value"),!0,this.tableKind,l.api.core.Nothing),n,i,new a("invalid",f.lf("Creates an invalid reference to an entry"),!1,this.tableKind,this.entryKind)],this.isUserIndex())(i=new a("my entries",f.lf("returns all non-empty entries whose first key matchest the current user"),!1,this.tableKind,this.entryKind.collectionKind)).md_writesMutable(),this._properties.push(i);this._properties.push(n=new a("wait for update",f.lf("waits until there is an update (possibly change) to the index contents"),!1,this.tableKind,l.api.core.Nothing)),n.md_resumes(),n.md_async(),n.md_betaOnly(),this._properties.push(new a("to json",f.lf("export a JSON representation of the table contents"),!1,this.tableKind,l.api.core.JsonObject)),this._properties.push(new a("from json",f.lf("import a JSON representation of the table contents"),!1,this.tableKind,l.api.core.Nothing,!1,l.api.core.JsonObject));break;case 4:this._properties=[new a("clear",f.lf("Clears all decorations, all fields assume initial value"),!0,this.tableKind,l.api.core.Nothing)];break;default:f.Util.die()}this._properties.unshift(this.ctorProperty),1==this.recordType&&this._properties.unshift(this.ctorJsonProperty)}},i.prototype.getTargetKind=function(){if(4!=this.recordType)return null;var e=this.keys.stmts[0];return e?e.dataKind:null},i.prototype.isUserIndex=function(){if(3!==this.recordType||this.keys.stmts.length<1)return!1;var e=this.keys.stmts[0];return e&&"User"===e.dataKind._name},i.prototype.getFields=function(){return this.keys.stmts.concat(this.values.stmts)},i.prototype.getValueFields=function(){return this.values.stmts},i.prototype.getKeyFields=function(){return this.keys.stmts},i.prototype.nodeType=function(){return"recordDef"},i.prototype.accept=function(e){return e.visitRecordDef(this)},i.prototype.getCategory=function(){return 4},i.prototype.getNamespace=function(){return l.recordSymbol+" "},i.prototype.toString=function(){return this.getNamespace()+this.getName()},i.prototype.writeTo=function(n){this.writeId(n),n.nl().keyword("table").id(this.getCoreName()),n.beginBlock(),this.description&&n.comment(this.description),n.stringAttr("type",i.recordTypeToString(this.recordType)),n.boolOptAttr("cloudenabled",this.cloudEnabled),n.boolOptAttr("cloudpartiallyenabled",this.cloudPartiallyEnabled),n.boolOptAttr("exported",this._isExported),n.boolAttr("persistent",this.persistent);var e=function(e,t){0!==t.stmts.length&&(n.id(e),n.beginBlock(),t.forEach(function(e){return e.writeDef(n)}),n.endBlock())};e("keys",this.keys),e("fields",this.values),n.endBlock()},i.prototype.notifyChange=function(){e.prototype.notifyChange.call(this),f.Runtime.theRuntime&&f.Runtime.theRuntime.resetData()},i.parse=function(e){var t=new i;e.addDecl(t),t._initalizeFromParser(e)},i.prototype._initalizeFromParser=function(c){var l=this;function u(e){return f.Util.base64Encode(f.Util.toUTF8(e)).replace(/[^A-Za-z0-9]/g,"a")}this.setStableName(c.consumeLabel()),this.setName(c.parseId()),this.persistent=!0,c.parseBraced(function(){var e=function(r,o){c.shift();var a={},s="";c.parseBraced(function(){if(c.got(4))s+=c.shift().data+"\n";else{var e=c.consumeLabel().pop(),t=c.parseId(),n=c.parseTypeAnnotation(),i=new d(t,n,o,s);s="",/_/.test(e)&&(e=null),e?i.setStableName(e):l.getStableName()&&(i.setStableName(l.getStableName()+u(i.getName())),a[i.getStableName()]&&i.setStableName(i.getStableName()+Object.keys(a).length),a[i.getStableName()]=!0),r.push(i)}})};if(c.gotKey("tableGuid"))c.shift();else if(c.gotKey("type")){var t=i.recordTypeFromString(c.parseString());t&&(l.recordType=t)}else c.gotKey("cloudenabled")?l.cloudEnabled=c.parseBool():c.gotKey("cloudpartiallyenabled")?l.cloudPartiallyEnabled=c.parseBool():c.gotKey("persistent")?l.persistent=c.parseBool():c.gotKey("exported")?l._isExported=c.parseBool():c.got(4)?l.description+=c.shift().data+"\n":c.gotId("keys")?e(l.keys,!0):c.gotId("fields")&&e(l.values,!1)}),this.persistent&&!this.getStableName()&&this.setStableName("B"+u(this.getName())),this.cloudEnabled&&(this.persistent=!0),this.cloudPartiallyEnabled&&(this.persistent=!0,this.cloudEnabled=!0),this.fixupFields()},i.recordPersistenceToString=function(e,t){switch(e){case 0:return f.lf("temporary");case 1:return t?f.lf("server-local"):f.lf("local");case 2:return t?f.lf("fully replicated"):f.lf("replicated");case 3:return f.lf("partially replicated");default:f.Util.die()}},i.recordTypeToString=function(e){switch(e){case 1:return"Object";case 2:return"Table";case 3:return"Index";case 4:return"Decorator";default:f.Util.die()}},i.recordTypeFromString=function(e){var t=r[e];if(void 0!==t&&i.recordTypeToString(t)==e)return t},i.GetIcon=function(e){switch(e){case 1:return"svg:fa-list-alt,white";case 2:return"svg:fa-table,white";case 4:return"svg:fa-subscript,white";case 3:return"svg:fa-th-list,white";default:f.Util.die()}},i.colorByPersistence=function(e,t){return f.Script.isCloud?2===t?e.replace(/,white$/,",cyan"):3===t?e.replace(/,white$/,",powderblue"):1===t?e.replace(/,white$/,",gold"):e:2===t?e.replace(/,white$/,",cyan"):1===t?e.replace(/,white$/,",gold"):e},i}(l.PropertyDecl);l.RecordDef=m}(f.AST||(f.AST={}))}(TDev||(TDev={})),function(m){!function(r){r.libSymbol="♻";var c=function(n){function e(e){n.call(this),this._lib=e,this._weight=50,this.parentKind=e.getKind()}return __extends(e,n),e.prototype.isInLibrary=function(){return!0},e.prototype.getNamespace=function(){return r.libSymbol+this.parentLibrary().getName()+this.getArrow()},e.prototype.parentLibrary=function(){return this._lib},e.prototype.getFlags=function(){return this._flags},e.prototype.getDescription=function(){return this._description?this._description:n.prototype.getDescription.call(this)},e.prototype.getArrow=function(){return" → "},e.prototype.markUsed=function(){this.wasUsed=!0},e.prototype.canRename=function(){return!1},e.prototype.usageKey=function(){return m.Util.tagify(this._lib.getName()+" "+this.getName())},e.prototype.setAllLocals=function(){this.allLocals=this.getAllParameters().map(function(e){return e.local}),this.body=r.Parser.emptyBlock()},e.prototype.updateSubstitution=function(){var t=this;if(this.template){var e=function(e){return new r.ActionParameter(r.mkLocal(e.getName(),t.parentLibrary().substitute(e.getKind())))};this.header.inParameters.setChildren(this.template.getInParameters().map(e)),this.header.outParameters.setChildren(this.template.getOutParameters().map(e)),this.setAllLocals()}},e.prototype.fromTemplateCore=function(e){this.template=e,this.updateSubstitution(),this._description=e.getInlineHelp(),this._flags=e.getFlags(),this.setName(e.getName()),this._isPage=e.isPage(),this.isAtomic=e.isAtomic,this._isActionTypeDef=e.isActionTypeDef(),this.setStableName(e.getStableName()),this.setAllLocals()},e.prototype.addExtensionAction=function(){if(!this.isActionTypeDef()){var e=this.getExtensionKind();e&&e.addExtensionAction(this._extensionAction=new t(this))}},e.prototype.fromTemplate=function(e){return this.fromTemplateCore(e),e.isPage()||this.addExtensionAction(),this},e.prototype.parse=function(e){for(this.setStableName(e.consumeLabel());;)if(e.gotOp("sync"))e.shift(),this.isAtomic=!0;else if(e.gotOp("async"))e.shift(),this.isAtomic=!1;else{if(!e.gotOp("page"))break;e.shift(),this._isPage=!0}var t=e.parseActionHeader();this.setName(t.name),this.header.inParameters.setChildren(t.inParameters),this.header.outParameters.setChildren(t.outParameters),this._isActionTypeDef=t.isType,this.setAllLocals(),this.addExtensionAction(),this._flags=n.prototype.getFlags.call(this)},e.prototype.isBrowsable=function(){return!(this._flags&m.PropertyFlags.NonBrowsable)&&(0==(1048576&this._flags)||!m.Script||m.Script.isLibrary)&&!this.isLibInit()},e.prototype.toString=function(){var e=this.getNamespaces();return e&&e[0]?e[0]+" → "+this.getName():this.getNamespace()+this.getName()},e.prototype.showIntelliButton=function(){return!!this.isExtensionAction()||null==this.getExtensionKind()},e}(r.Action),t=function(t){function e(e){t.call(this,e._lib),this.shortcutTo=e,this.fromTemplateCore(e)}return __extends(e,t),e.prototype.updateSubstitution=function(){t.prototype.updateSubstitution.call(this),this.parentKind=this.getInParameters()[0].getKind(),this.header.inParameters.stmts.shift()},e.prototype.isExtensionAction=function(){return!0},e.prototype.extensionForward=function(){return this.shortcutTo},e.prototype.getDescription=function(){return this.shortcutTo.getDescription()},e.prototype.getFlags=function(){return this.shortcutTo.getFlags()},e.prototype.markUsed=function(){t.prototype.markUsed.call(this),this.shortcutTo.markUsed()},e}(r.LibraryRefAction=c);r.LibExtensionAction=t;var a=function(i){function e(e,t){i.call(this,t,"a kind from library"),this._lib=e,this.deleted=!1,this._stemName=t,this._contexts=32|m.KindContext.General;var n=m.Property.md_make(0,this,"is invalid","Returns true if the current instance is useless",[],r.api.core.Boolean);n.md_runOnInvalid(),this.addExtensionAction(n)}return __extends(e,i),e.prototype.kill=function(){this.deleted=!0},e.prototype.isError=function(){return this.deleted||this._lib.deleted},e.prototype.isUserDefined=function(){return!0},e.prototype.parentLibrary=function(){return this._lib},e.prototype.getNamespace=function(){return o.libNamespace(this.parentLibrary().getName())},e.prototype.toString=function(){return this.getNamespace()+this.getName()},e.prototype.listPriority=function(){return 3},e.prototype.listProperties=function(){return this.listExtensions()},e.prototype.getProperty=function(e){return this.getExtension(e)},e}(r.ExtensionEnabledKind);r.LibraryRefAbstractKind=a;var n=function(t){function e(e){t.call(this,"no name yet","a library reference"),this.lib=e}return __extends(e,t),e.prototype.listProperties=function(){return this.lib.getPublicActions().map(m.Property.withParent(this))},e.prototype.getProperty=function(t){var e=this.lib.getPublicActions().filter(function(e){return e.getName()==t});if(e[0])return m.Property.withParent(this)(e[0])},e.prototype.getHtmlName=function(){return[m.span("symbol",r.libSymbol),this.lib.getName()]},e.prototype.getName=function(){return this.lib.getName()},e.prototype.toString=function(){return this.lib.toString()},e.prototype.getHelp=function(){return this.lib.getDescription()},e}(m.Kind);r.LibraryRefKind=n;var s=function(t){function e(e){t.call(this),this._lib=e}return __extends(e,t),e.prototype.updateSubstitution=function(){var i=this;if(this.template){var e=function(e){var t=i.parentLibrary().substitute(e.dataKind),n=new r.RecordField(e.getName(),t,e.isKey,e.getDescription());return n.setStableName(e.getStableName()),n};this.keys.setChildren(this.template.keys.map(e)),this.values.setChildren(this.template.values.map(e))}},e.prototype.fromTemplate=function(e){this.template=e,this.recordType=e.recordType,this.cloudEnabled=e.cloudEnabled,this.cloudPartiallyEnabled=e.cloudPartiallyEnabled,this._isExported=e._isExported,this.persistent=e.persistent,this.description=e.description,this.setName(e.getCoreName()),this.setStableName(e.getStableName()),this.updateSubstitution()},e.prototype.parentLibrary=function(){return this._lib},e.prototype.getNamespace=function(){return o.libNamespace(this.parentLibrary().getName())},e}(r.RecordDef);r.LibraryRecordDef=s;var l=function(){function e(e){this.lib=e,this.mapping={},this.clause=null,this.assumptions=[]}return e.prototype.resolve=function(e){if(e instanceof a){var t=e;if(t.parentLibrary().parent==this.lib.resolved){var n=t.toString();return this.mapping.hasOwnProperty(n)?this.mapping[n]:null}}return e},e.prototype.unifyActionKinds=function(e,t){var i=this,n=function(e,n){return e.length==n.length&&e.every(function(e,t){return i.unify(e.getKind(),n[t].getKind())})};return n(e.getInParameters(),t.getInParameters())&&n(e.getOutParameters(),t.getOutParameters())},e.prototype.unifyParametricKinds=function(e,n){var i=this;return e.getRoot().equals(n.getRoot())&&e.parameters.length==n.parameters.length&&e.parameters.every(function(e,t){return i.unify(e,n.parameters[t])})},e.prototype.unifyRecords=function(e,t){var n=this;if(e.getName()!=t.getName()||e.recordType!=t.recordType||e.getRecordPersistence()!=t.getRecordPersistence())return!1;var i=m.Util.toDictionary(t.getFields(),function(e){return e.getName()}),r=!0;return e.getFields().forEach(function(e){if(i.hasOwnProperty(e.getName())){var t=i[e.getName()];e.isKey==t.isKey&&n.unify(e.dataKind,t.dataKind)||(r=!1)}else r=!1}),r},e.prototype.unify=function(t,n){if(t.equals(n))return!0;if(t instanceof m.ActionKind&&n instanceof m.ActionKind)return this.unifyActionKinds(t,n);if(t instanceof m.ParametricKind&&n instanceof m.ParametricKind)return this.unifyParametricKinds(t,n);if(t.getRecord()&&n.getRecord()){if(this.assumptions.some(function(e){return e.formal==t&&e.actual==n}))return!0;this.assumptions.push({formal:t,actual:n});try{return this.unifyRecords(t.getRecord(),n.getRecord())}finally{this.assumptions.pop()}}var e=this.resolve(t);return e?e.equals(n):(this.mapping[t.toString()]=n,!0)},e}();r.UnificationCtx=l;var u=function(t){function e(e){t.call(this),this.name=e,this.kindBindings=new r.BindingBlock,this.actionBindings=new r.BindingBlock,(this.kindBindings.parent=this).actionBindings.parent=this}return __extends(e,t),e.prototype.primaryBody=function(){return this.actionBindings},e.prototype.children=function(){return[this.kindBindings,this.actionBindings]},e.prototype.accept=function(e){return e.visitResolveClause(this)},e.prototype.nodeType=function(){return"resolveClause"},e.prototype.getName=function(){return this.name},e.prototype.resolveExplicit=function(e){if(this.clearError(),!this.defaultLib)return e._hasErrors=!0,void this.setError("TD135: not bound to any library; tap to bind");this.actionBindings.stmts.forEach(function(t){var e=t.actualLib,n=e.getPublicActions().filter(function(e){return e.getName()==t.actualName})[0];(t.actual=n)||t.setError(m.lf("TD138: cannot find function '{1}' in {0}",e,t.actualName))})},e.prototype.typeCheck=function(a){var s=this;if(this.clearError(),this.defaultLib){this.defaultLib.typeCheck(),(a.clause=this).kindBindings.setChildren([]);var e=this.formalLib.getPublicActions().filter(function(e){return e.wasUsed}).map(function(t,e){m.Util.assert(t instanceof c);var n=s.actionBindings.stmts.filter(function(e){return e.formalName==t.getName()})[0];n||(n=new p(t.getName())),n.isExplicit||(n.actualLib=s.defaultLib,n.actualName=t.getName());var i=n.actualLib;i.typeCheck();var r=i.getPublicActions().filter(function(e){return e.getName()==n.actualName})[0];if(n.formal=t,n.actual=r){var o=n.getSignatureError(a,r);o?n.setError(o):n.clearError(),i.isTypechecked||n.setError("TD174: cause of circular library reference")}else i.isReal()?n.setError(m.lf("TD138: cannot find function '{1}' in {0}",i,n.actualName)):s.setError(m.lf("TD139: no library reference named {0}",i));return n});if(e.sort(function(e,t){return e.isExplicit==t.isExplicit?e.formalName.localeCompare(t.formalName):e.isExplicit?-1:1}),this.actionBindings.setChildren(e),!this.getError())e.filter(function(e){return!!e.getError()})[0]&&this.setError("TD173: some binding(s) have errors")}else this.setError("TD135: not bound to any library; tap to bind")},e}(r.Stmt);r.ResolveClause=u;var e=function(t){function e(e){t.call(this),this.formalName=e,this.isExplicit=!1}return __extends(e,t),e}(r.Stmt),d=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.accept=function(e){return e.visitKindBinding(this)},e.prototype.nodeType=function(){return"kindBinding"},e}(r.Binding=e);r.KindBinding=d;var p=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.accept=function(e){return e.visitActionBinding(this)},e.prototype.nodeType=function(){return"actionBinding"},e.prototype.getActualName=function(){return this.actual?this.actual.getName():this.actualName||"?"},e.prototype.getSignatureError=function(a,s){var c=this.formal,l=null,e=function(e,t,n){if(e.length!=t.length)l=m.lf("TD136: '{0}' has {1} {2}-paramters, but '{3}' requires {4}",s,t.length,n,c.getName(),e.length);else for(var i=0;i<e.length;++i){var r=e[i].getKind(),o=t[i].getKind();a.unify(r,o)||(l=m.lf("TD137: '{0}' has {1} as {3}-paramter #{2}, but '{4}' requires {5}",s,o,i,n,c.getName(),a.resolve(r)))}};return c.isAtomic&&!s.isAtomic?m.lf("TD162: an atomic function is required for '{0}'",c.getName()):(e(c.getInParameters(),s.getInParameters(),"in"),e(c.getOutParameters(),s.getOutParameters(),"out"),l)},e}(e);r.ActionBinding=p;var i=function(){function e(e){this.app=e,this.singletonList=[],this.singletons={},this.extensions={}}return e.prototype.createSingleton=function(e,t){var n=new m.Kind(e,m.lf("Extensions"));n._contexts=0;var i=r.mkSingletonDef(e,n);return i.isExtension=!0,i.firstLibraryRef=t,i},e.prototype.addSingleton=function(e,t){if(!r.api.getThing(e)){var n=this.createSingleton(e,t);this.singletonList.push(n),this.singletons[n.getName()]=n}},e.prototype.recompute=function(){var r=this;m.Util.assert(this.app==m.Script),this.singletons={},this.singletonList=[],this.extensions={},this.app.libraries().forEach(function(i){i.getPublicActions().forEach(function(n){n.getNamespaces().forEach(function(e){r.addSingleton(e,i),r.extensions.hasOwnProperty(e)||(r.extensions[e]={actions:{},actionList:[]});var t=r.extensions[e];t.actions[n.getName()]||(t.actionList.push(n),t.actions[n.getName()]=n)})})})},e}();r.LibNamespaceCache=i;var o=function(e){function o(){e.call(this),this.guid="",this.pubid="",this._publicActions=[],this._publicKinds=[],this.kindMapping={},this.externalKindMapping={},this.isTypechecked=!1,this.isTypechecking=!1,this.publicActionsCopiedFromResolved=!1,this.resolveClauses=new r.ResolveBlock,this.listedKinds=[],this._kind=new n(this)}return __extends(o,e),o.prototype.isCloud=function(){return this.resolved&&this.resolved.isCloud},o.prototype.isTopLevel=function(){return this.parent.isTopLevel},o.prototype.isReal=function(){return!!this.getId()},o.prototype.children=function(){return[this.resolveClauses]},o.prototype.isThis=function(){return!1},o.prototype.isPublished=function(){return!this.guid},o.prototype.thingSetKindName=function(){return r.libSymbol},o.prototype.getPublicActions=function(){return this._publicActions},o.prototype.getPublicKinds=function(){return this._publicKinds},o.prototype.getIconArtId=function(){return this.resolved?this.resolved.iconArtId:""},o.prototype.getLibInit=function(){return this.getPublicActions().filter(function(e){return e.isLibInit()})[0]},o.prototype.getPublicActionsAndActionTypes=function(){var e=this.getPublicKinds().map(function(e){return e instanceof m.UserActionKind?e.userAction:null}).filter(function(e){return null!=e});return 0==e.length?this.getPublicActions():e.concat(this.getPublicActions())},o.prototype.getId=function(){return this.guid?this.guid:this.pubid},o.prototype.hasErrors=function(){return this._hasErrors},o.prototype.getCategory=function(){return 3},o.prototype.helpTopic=function(){return"libraries"},o.prototype.nodeType=function(){return"libraryRef"},o.prototype.accept=function(e){return e.visitLibraryRef(this)},o.prototype.getDescription=function(){return": "+(this.resolved?this.resolved.getName():"?")+(this.pubid?"":" (local)")},o.prototype.getNamespace=function(){return r.libSymbol+" "},o.prototype.toString=function(){return this.getNamespace()+this.getName()},o.prototype.hasAbstractKind=function(e){return!!this.kindMapping[e]},o.prototype.isTutorial=function(){return"tutorialLib"==this.getStableName()},o.prototype.isBrowsable=function(){return!r.followingTutorial||!/^_/.test(this.getName())},o.prototype.updateSubstitutions=function(){this._publicActions.forEach(function(e){e.updateSubstitution(),e._extensionAction&&e._extensionAction.updateSubstitution()}),this._publicKinds.forEach(function(e){e.getRecord()instanceof s&&e.getRecord().updateSubstitution()})},o.prototype.importBindings=function(){this.externalKindMapping={},this.updateSubstitutions()},o.prototype.getAbstractKind=function(e){var t=this.kindMapping[e];return t||(t=new a(this,e),this.defKind(t),t)},o.prototype.resolve=function(){var n=this;if(this._hasErrors=!1,this.isTypechecked=!1,this.isTopLevel())if(this.resolved){if(!this.publicActionsCopiedFromResolved){this.resolved.setStableNames(),this.publicActionsCopiedFromResolved=!0,this._publicActions.forEach(function(e){e.deleted=!0}),this._publicKinds.forEach(function(e){e.kill()}),this.kindMapping={},this._publicKinds=[];var e=this.resolved.actionTypeDefs().filter(function(e){return!e.isPrivate}).map(function(e){var t=new c(n);return t._isActionTypeDef=!0,t.setName(e.getName()),n.defKind(t.getDefinedKind()),function(){t.fromTemplate(e)}});e.pushRange(this.resolved.records().filter(function(e){return e.isExported()}).map(function(e){var t=new s(n);return t.setName(e.getCoreName()),n.defKind(t.entryKind),function(){t.fromTemplate(e)}})),e.forEach(function(e){return e()}),this._publicActions=this.resolved.actions().filter(function(e){return!e.isPrivate}).map(function(e){return new c(n).fromTemplate(e)});var i=0;this._publicActions.forEach(function(e){var t=e.getDescription(),n=/{weight:(\d+)}/i.exec(t);n&&(e._weight=parseInt(n[1])),i=Math.max(e._weight,i)}),this._publicActions.forEach(function(e){e.getUsage().apiFreq=e._weight/(i+1)})}}else this._hasErrors=!0},o.prototype.substitute=function(e){var t=this;if(e instanceof a){var n=this.externalKindMapping[e.toString()];return n?(n.deleted&&(n=n.parentLibrary().getAbstractKind(n.getName())),n):e}if(e.isUserDefined())return this.getAbstractKind(e.getName());if(e instanceof m.ParametricKind){var i=e;return i.createInstance(i.parameters.map(function(e){return t.substitute(e)}))}return e},o.prototype.rebind=function(){this.publicActionsCopiedFromResolved=!1},o.prototype.typeCheck=function(){var t=this;if(!this.isTypechecked&&!this.deleted)if(this.isTypechecking)this.setError("TD174: cicular library reference");else if(this.isTopLevel())if(this.resolved){this.isTypechecking=!0,this.clearError();var i={};this.resolveClauses.forEach(function(e){i[e.name]=e});var e=this.resolved.libraries().map(function(e,t){var n=i[e.getName()];return n instanceof u||(n=new u(e.getName())),n.formalLib=e,n});this.resolveClauses.setChildren(e);var n=new l(this);this.resolveClauses.forEach(function(e){e.typeCheck(n),e.getError()&&(t._hasErrors=!0)}),this.updateExternalKindMapping(n),this.isTypechecking=!1,this.isTypechecked=!0}else this.resolveClauses.forEach(function(e){return e.resolveExplicit(t)})},o.prototype.updateExternalKindMapping=function(t){var n=this,e=Object.keys(t.mapping),i=e.length!=Object.keys(this.externalKindMapping).length;i||e.forEach(function(e){t.mapping[e]!=n.externalKindMapping[e]&&(i=!0)}),i&&(this.externalKindMapping=t.mapping,this.updateSubstitutions())},o.prototype.writeTo=function(t){var n=this;this.writeId(t),t.keyword("meta").id("import").id(this.getName()),t.beginBlock(),this.pubid?t.id("pub").string(this.pubid).nl():t.id("guid").string(this.guid).nl(),t.id("usage"),t.beginBlock(),this.getPublicKinds().forEach(function(e){e instanceof a?t.keyword("type").id(e.getName()).nl():e instanceof m.UserActionKind?(e.userAction.writeHeader(t,!0),t.nl()):e instanceof r.RecordEntryKind&&e.getRecord().writeTo(t)}),this.getPublicActions().forEach(function(e){e.writeHeader(t,!0)}),t.nl(),t.endBlock(),this.resolveClauses.forEach(function(e){e.writeId(t),e.defaultLib&&(t.id("resolve").id(e.name).op("="),e.defaultLib.writeRef(t),t.id("with"),t.beginBlock(),e.kindBindings.forEach(function(e){e.isExplicit&&(e.writeId(t),t.keyword("type").id(e.formalName).op("=").kind(n.parent,e.actual).nl())}),e.actionBindings.forEach(function(e){e.isExplicit&&(e.writeId(t),t.keyword("action").id(e.formalName).op("="),e.actualLib.writeRef(t),t.op("→").id(e.getActualName()).nl())}),t.endBlock())}),t.endBlock()},o.prototype.writeRef=function(e){return e.op(r.libSymbol).id(this.getName())},o.prototype.defKind=function(e){this._publicKinds.push(e),this.kindMapping[e.getName()]=e},o.parse=function(r){var o=r.getLibraryRef(r.parseId());o.setStableName(r.consumeLabel()),o.isDeclared?r.parseBraced(function(){r.shift()}):(o.isDeclared=!0,r.declareLibrary(o),r.parseBraced(function(){if(r.gotKey("pub")&&(o.pubid=r.parseString()),r.gotKey("guid")&&(o.guid=r.parseString()),r.gotKey("usage")){var n={};r.parseBraced(function(){if(r.gotKw("action")){r.shift();var e=new c(o);e.parse(r),n.hasOwnProperty(e.getName())||(n[e.getName()]=!0,e.isActionTypeDef()?o.defKind(e.getDefinedKind()):o._publicActions.push(e))}else if(r.gotId("type"))r.shift(),o.listedKinds.push(r.parseId());else if(r.gotKw("table")){r.shift();var t=new s(o);t._initalizeFromParser(r),o.defKind(t.entryKind)}})}if(r.gotKey("resolve")){var i=new u(r.parseId());i.setStableName(r.consumeLabel()),o.resolveClauses.push(i),r.skipOp("="),i.defaultLib=r.parseLibRef(),r.gotId("with")&&r.shift(),r.parseBraced(function(){if(r.gotKw("action")){r.shift();var e=new p(r.parseId());e.setStableName(r.consumeLabel()),e.isExplicit=!0,r.skipOp("="),e.actualLib=r.parseLibRef(),r.skipOp("→"),e.actualName=r.parseId(),i.actionBindings.push(e)}else if(r.gotId("type")){r.shift();var t=new d(r.parseId());t.setStableName(r.consumeLabel()),t.isExplicit=!0,r.skipOp("="),t.actual=r.parseType(),i.kindBindings.push(t)}})}}),o.getId()||(o.pubid="sixvorgj"),o.importBindings())},o.topScriptLibrary=function(e){return new h(e)},o.fresh=function(){var e=r.Parser.parseDecl("meta import __touch_develop__library__ { }");return e.setName(m.Script.freshName("lib")),e.wasAutoNamed=!0,e.pubid="",e},o.prototype.initializeResolves=function(){var e=this,i=function(t){return t==e.resolved.thisLibRef?e:e.resolveClauses.map(function(e){return e.formalLib==t?e.defaultLib:null}).filter(function(e){return!!e})[0]};if(!this.resolved)return[];this.isTypechecked=!1,this.typeCheck();var r=[];return this.resolveClauses.forEach(function(e){var t,n=(t=e.formalLib,m.Script.libraries().filter(function(e){return t.getId()==e.getId()||e.resolved&&t.resolved&&e.resolved.getName()==t.resolved.getName()})[0]);n?e.defaultLib=n:(n=o.fresh(),e.defaultLib=n,r.push(e))}),r.forEach(function(e){var t=e.defaultLib;m.Script.addDecl(t),t.setName(m.Script.freshName(e.formalLib.getName())),t.pubid=e.formalLib.pubid,t.guid=e.formalLib.guid,t.typeCheck()}),r.forEach(function(e){e.defaultLib.resolveClauses.setChildren(e.formalLib.resolveClauses.stmts.map(function(e,t){var n=new u(e.name);return n.defaultLib=i(e.defaultLib),n.actionBindings.setChildren(e.actionBindings.stmts.map(function(e,t){var n=new p(e.formalName);return n.isExplicit=e.isExplicit,n.actualLib=i(e.actualLib),n.actualName=e.actualName,n})),n}))}),r.map(function(e){return e.defaultLib})},o.libNamespace=function(e){return e?r.libSymbol+e+" → ":""},o}(r.PropertyDecl),h=function(t){function e(e){t.call(this),this.resolved=e,this.parent=e,this.setName("this"),this.setStableName("this")}return __extends(e,t),e.prototype.isReal=function(){return!0},e.prototype.getPublicActions=function(){return this.resolved.things.filter(function(e){return e instanceof r.Action&&!e.isPrivate})},e.prototype.isThis=function(){return!0},e.prototype.typeCheck=function(){this.isTypechecked=!0},e}(r.LibraryRef=o)}(m.AST||(m.AST={}))}(TDev||(TDev={})),function(C){var n=function(e){function x(){e.call(this),this.isAux=!1,this.shortNameHeuristicsApplied=!1,this.shortNameHeuristics=!1,this.stringLimit=30,this.renderingSnippet=!1,this.highlightLevel=0,this.showDiff=!1,this.hideErrors=!1,this.formatComments=!0,this.skipComments=!1,this.numDiffs=0,this.mdComments=new C.MdComments(this,null)}return __extends(x,e),x.spacedText=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"(":case")":case".":case"":case" ":return e;case",":return", ";case"not":return"not ";default:return" "+e+" "}},x.opName=function(e){if(!C.AST.proMode)return e;switch(e){case"≠":return"!=";case"≤":return"<=";case"≥":return">=";case"=":return"==";default:return e}},x.quoteString=function(e){for(var t="",n=0;n<e.length;++n){var i,r=e.charAt(n);switch(r){case"\t":i="\\t";break;case'"':i='\\"';break;case"\\":i="\\\\";break;case"\r":i="\\r";break;case"\n":i="\\n";break;default:i=r}t+=i}return t},x.tdiv=function(e,t){return"<div class='"+e+"'>"+t+"</div>"},x.tspan=function(e,t){return"<span class='"+e+"'>"+C.Util.htmlEscape(t)+"</span>"},x.tspanRaw=function(e,t){return"<span class='"+e+"'>"+t+"</span>"},x.prototype.kw=function(e){return x.tspan("kw"," "+e+" ")},x.prototype.kw0=function(e){return x.tspan("kw",e)},x.prototype.greyKw=function(e){return x.tspan("greyed"," "+e+" ")},x.prototype.id=function(e){return C.Util.htmlEscape(e)},x.prototype.name=function(e){return x.tspan("name",C.Util.htmlEscape(e))},x.prototype.kind=function(e){return C.Util.htmlEscape(e.toString())},x.prototype.op=function(e){return C.Util.htmlEscape(x.spacedText(e))},x.prototype.st=function(e){return x.tspan("st",e)},x.prototype.tline=function(e){return x.tdiv("line",e.trim()+(this.showDiff||C.AST.blockMode?"":"<span class='lineSpacer'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>"))+"<br/>"},x.prototype.interpretedComment=function(e){if(!this.renderingSnippet)return!1;var t=/^\s*\{(\/)?highlight\}\s*$/.exec(e.text);return!!t&&(t[1]?this.highlightLevel--:this.highlightLevel++,!0)},x.prototype.renderBlock=function(e){return this.isAux?"":this.showDiff?this.renderSnippet(e.stmtsWithDiffs()):this.renderSnippet(e.stmts)},x.prototype.renderDecl=function(e){this.highlightLevel=0,this.renderingSnippet=!0;try{return x.tdiv("decl",e.accept(this))}finally{this.renderingSnippet=!1}},x.prototype.renderSnippet=function(e){var t="",n=this.highlightLevel,i=this.renderingSnippet;this.highlightLevel=0,this.renderingSnippet=!0;try{for(var r=0;r<e.length;++r)t+=e[r].accept(this);return x.tdiv("block",t)}finally{this.renderingSnippet=i,this.highlightLevel=n}},x.prototype.wrapError=function(e,t){return null!=e.getError()?"<span class='errorSq'>"+t+"</span>":"<span class='calcToken'>"+t+"</span>"},x.prototype.renderTokens=function(e){var t="";if(this.shortNameHeuristics)for(var n=-2,i=0;i<e.length;++i)e[i]instanceof C.AST.PropertyRef&&n==i-1?t+=this.id(" "+e[i].getText()):(this.shortNameHeuristicsApplied=!1,t+=e[i].accept(this),this.shortNameHeuristicsApplied&&(n=i));else for(i=0;i<e.length;++i)t+=e[i].accept(this);return t},x.prototype.renderArtUrl=function(e,t){return e==C.api.core.String&&t?x.tdiv("stringLiteral",C.Util.htmlEscape(C.RT.String_.trim_overflow(C.RT.String_.valueFromArtUrl(t),400))):this.renderString(t,200)},x.prototype.renderBitmatrix=function(e,t){t=t||{};var n=(e||"").trim().split("\n").map(function(e){return e.split(/[\s\r\n]+/).map(function(e){var t=parseInt(e);return isNaN(t)&&(t=0),!!t})}),i=t.maxCols||45,r=t.height||1,o="",a="",s=0,c=n.length;e||(c=5);for(var l=50*c,u=!1,d=0;d<c;++d){var p=n[d]||[],h=Math.max(c,Math.min(p.length,i));s=Math.max(s,50*h+50*Math.floor(h/5)),u=u||h<p.length;for(var m=0;m<h;++m){var f=p[m],g=50*m+50*Math.floor(m/5),v=50*d,y=25;f&&(y+=4,g-=2,v-=2);var b=C.Util.fmt(" M {0} {1} {2} {3} {4} {5} {6} {7} Z",g,v,g+y,v,g+y,v+y,g,v+y);f?o+=b:a+=b}}var _=C.Util.fmt("0 0 {0} {1}",s,l),w=C.Util.fmt("<path class='biton' d='{0}'/><path class='bitoff' d='{1}'/>",o,a),k=C.Util.fmt("<span class='kbm {0}' style='width:{1}em'>{2}</span>",t.cls||"",s/l*r+.1,C.SVG.svgBoilerPlate(_,w));return u&&(k+=x.tspan("stringLiteral","...")),k},x.prototype.renderHintArtId=function(e,t){var n=C.Cloud.artUrl(t,!0);return C.Util.fmt("<img class='picLiteral' src='{0}' alt='{1}' />",n,x.quoteString(C.RT.String_.trim_overflow(e,this.stringLimit)))},x.prototype.renderEnumVal=function(e){return x.tspan("stringLiteral",x.quoteString(C.RT.String_.trim_overflow(e,this.stringLimit)))},x.prototype.renderString=function(e,t){return void 0===t&&(t=this.stringLimit),x.tspan("stringLiteral",'"'+x.quoteString(C.RT.String_.trim_overflow(e,t))+'"')},x.prototype.visitDeclName=function(e){return this.id(e.data)},x.prototype.visitFieldName=function(e){return this.id(e.data)+this.op(":")},x.prototype.visitLiteral=function(e){var t,n=e.data;switch(typeof n){case"number":n+="",C.Util.die();break;case"boolean":t=x.tspan("kw",n?"true":"false");break;case"string":t=/^bitmatrix|bitframe$/i.test(e.languageHint)?this.renderBitmatrix(n):e.enumVal?this.renderEnumVal(n):this.renderString(n),e.hintArtId&&(t+=this.renderHintArtId(n,e.hintArtId));break;default:C.Util.die()}return this.wrapError(e,t)},x.prototype.visitPropertyRef=function(e){var t=e.getText(),n=e.getOrMakeProp().getArrow();return e.skipArrow&&(n=" "),this.wrapError(e,this.id(n+t))},x.prototype.visitThingRef=function(e){if(this.codeReplacement&&!e.forceLocal&&"code"==e.getText())return this.codeReplacement;var t=e.shortName();if(!t&&this.shortNameHeuristics&&!e.forceLocal){var n=C.api.getKind(e.getText());n&&n instanceof C.ThingSetKind&&(t=n.shortName()),this.shortNameHeuristicsApplied=!0}if(e.def instanceof C.AST.PlaceholderDef){var i=e.def;return this.wrapError(e,C.Util.fmt("<span class='placeholder'>{0:q}</span>",i.label||i.getKind().toString()))}var r="";if(t)if(C.Browser.isAndroid){var o=C.SVG.codeSignHtml(t);r=o?"<span class='svg-symbol'>"+o+"</span>":x.tspan("id symbol",t)}else r=x.tspan("id symbol",t);else r=this.id(e.getText());return this.wrapError(e,r)},x.prototype.visitOperator=function(e){var t=e.getText(),n=this.op(x.opName(t));/^[a-z]+$/.test(t)&&(n=this.kw(t));var i=e.getFunArgs();return i&&(t=1==i.length?i[0]:"("+i.join(", ")+")",n=this.id(t+" ⇒ ")),this.wrapError(e,n)},x.prototype.diffWords=function(e){for(var t="",n=0;n<e.length&&(null!=e[n]&&null!=e[n+1]);n+=2)t+=e[n+1];if(n>=e.length)return t;this.numDiffs++,t="";for(n=0;n<e.length;n+=2)null!=e[n]&&null!=e[n+1]?t+=x.tspanRaw("diffTokenUnchanged",e[n+1]):null!=e[n]?t+=x.tspanRaw("diffTokenRemoved",e[n]):t+=x.tspanRaw("diffTokenAdded",e[n+1]);return x.tspanRaw("diffTokensChanged",t)},x.prototype.renderDiffTokens=function(e){var t=this,n=e.map(function(e){return e?e.accept(t):null});return this.diffWords(n)},x.prototype.visitExprHolder=function(e){return this.renderExprHolder(e,e.tokens)},x.prototype.renderExprHolder=function(e,t){if(this.showDiff&&e.diffTokens)return this.renderDiffTokens(e.diffTokens);var n=this.renderTokens(t);if(!e.profilingExprData&&!e.debuggingData)return n;if(e.profilingExprData){var i=Math.floor(e.profilingExprData.duration/C.AST.ExprHolder.profilingDurationBucketSize);return"<span style='background-color:"+(r=C.AST.ExprHolder.heatmapColors[i])+"'>"+n+"</span><span class='profile' style='background-color:"+r+"'>"+Math.round(e.profilingExprData.duration)+"ms/"+Math.round(e.profilingExprData.count)+"</span>"}if(e.debuggingData){if(e.debuggingData.critical&&e.debuggingData.max){var r,o=e.debuggingData.critical/e.debuggingData.max.critical,a=Math.floor(27*o),s="<span style='background-color:"+(r=C.AST.ExprHolder.heatmapColors[a])+"'>"+n+"</span>";return C.dbg&&(s+="<span class='profile' style='background-color:"+r+"'>"+Math.floor(100*o)+"%</span>"),s}return e.debuggingData.visited?"<span style='background-color:#eaf3ff'>"+n+"</span>":e.debuggingData.alwaysTrue?"<span style='background-color:#daffda'>"+n+"</span>":e.debuggingData.alwaysFalse?"<span style='background-color:#ffdada'>"+n+"</span>":n}},x.prototype.diffClass=function(e){if(this.showDiff){if(e.diffStatus<0)return this.numDiffs++," diffStmtRemoved";if(0<e.diffStatus)return this.numDiffs++," diffStmtAdded"}return""},x.prototype.diffMoveMarker=function(e){if(this.showDiff){var t=0;if((t=-e.diffStatus-2)<0&&e.diffAltStmt&&(t=-e.diffAltStmt.diffStatus-2),0<=t)return"<div class='diffMoveMarker'>"+t+"</div>"}return""},x.prototype.stmtClass=function(e){var t=e.nodeType(),n="other";switch(t){case"inlineActions":case"exprStmt":n="exprStmt";break;case"actionHeader":case"inlineAction":n="action";break;case"recordDef":case"libraryRef":case"globalDef":n="decl";break;case"while":case"for":case"foreach":n="loop";break;case"elseIf":case"if":n="if";break;case"recordField":case"actionParameter":n="field"}return" stmt-"+n+" stmt-"+t},x.prototype.stmt=function(e,t,n,i){return void 0===n&&(n=void 0),void 0===i&&(i=null),this.showDiff&&(t=x.tdiv(this.diffClass(e)+this.stmtClass(i||e),t+this.diffMoveMarker(e))),0<this.highlightLevel?x.tdiv("code-highlight",t)+"\x3c!-- HL --\x3e":x.tdiv("stmt"+this.stmtClass(i||e),t)},x.prototype.expr=function(e){return e.isPlaceholder()?C.AST.proMode?this.id("..."):x.tspanRaw("greyed","add code here"):this.dispatch(e)},x.prototype.message=function(e,t){return x.tdiv(e,t)+"<br class='errorBr'/>"},x.prototype.errorNum=function(e){return e?"<span class='errorNumber'> ["+e+"]</span>":""},x.prototype.errorHTML=function(e){if(e instanceof C.AST.ExprStmt){var t=e;if(t.expr){var n=t.expr.debuggingData;if(n&&n.errorMessage)return"<span class='symbol'>⚡</span> "+C.Util.htmlEscape(n.errorMessage)}}var i=e.getError();if(null!=i){var r="";return i=i.replace(/^(TD\d\d\d): /,function(e,t){return r=t,""}),C.Util.htmlEscape("☹ "+i)+this.errorNum(r)}return""},x.prototype.possibleError=function(e){var t=this;if(this.isAux||this.showDiff||this.hideErrors)return"";e.getError();var n="",i=this.errorHTML(e);if(i&&(n+=this.message(e.errorIsOk?"hintMessage":"errorMessage",i)),""==n&&e instanceof C.AST.Stmt){var r=e.tutorialWarning;r&&r.split("\n").forEach(function(e){e&&(n+=t.message("errorMessage",C.Util.htmlEscape("[T] "+e)))})}if(""==n&&e instanceof C.AST.Stmt){var o=e.getHint();o&&o.split("\n").forEach(function(e){n+=t.message("hintMessage",C.Util.htmlEscape("✎ "+e))})}return e.annotations&&e.annotations.forEach(function(e){n+=t.message("error"==e.category?"errorMessage fromPlugin":"hintMessage fromPlugin","<span class='svg-symbol'>"+("caller"==e.pluginRef?C.SVG.getIconSVGCore("bug,#7057D3,clip=100"):C.SVG.getIconSVGCore("plug,#7057D3,clip=100"))+"</span> "+C.Util.htmlEscape(e.message))}),n},x.prototype.renderEmbeddedLangauge=function(e){var t=C.AST.getEmbeddedLangaugeToken(e);if(t){var n=t.getStringLiteral().split(/\n/),i=0,r=(e._inlineErrors||[]).slice(0);r.sort(function(e,t){return e.lineNo-t.lineNo}),50<n.length&&(r[0]&&10<r[0].lineNo&&(i=r[0].lineNo-10),n=n.slice(i,i+50).concat(["..."]),0<i&&(n.unshift("..."),i--)),n=(n=n.map(function(e){return 80<e.length?e.slice(0,80)+"...":e})).map(function(e){return C.Util.htmlEscape(e)});var o="",a=0;return n.forEach(function(e,t){for(;r[a]&&r[a].lineNo==t+i;){var n=r[a++];o+=x.tdiv("error",x.tdiv("main",C.Util.htmlEscape(n.coremsg))+x.tdiv("hints",C.Util.htmlEscape(n.hints)))}o+=e+"\n"}),this.tline(this.renderExprHolder(e.expr,e.expr.tokens.slice(0,2))+this.kw(" inline"))+this.possibleError(e)+x.tdiv("inline-language",o)}return null},x.prototype.renderExprStmt=function(e,t){if(void 0===t&&(t=""),e.isPlaceholder())return C.AST.proMode?this.tline("<span class='greyed'>&nbsp;;</span>"):this.tline("<span class='greyed greyer'>"+C.Cloud.config.doNothingText+"</span>");var n=this.renderEmbeddedLangauge(e);if(n)return n;var i=this.renderExprHolder(e.expr,e.expr.tokens);return i+=t,e.isVarDef()?i=this.kw("var ")+i:!C.AST.blockMode&&e.isPagePush()&&(i=this.kw("push ")+i),this.tline(i)+this.possibleError(e)},x.prototype.visitExprStmt=function(e){if(!this.showDiff&&this.formatComments){var t=e.docText();if(null!=t){var n=this.tline(x.tdiv("md-comment",this.mdComments.formatText(t)));return this.stmt(e,n+this.possibleError(e))}}return this.stmt(e,this.renderExprStmt(e))},x.prototype.visitOptionalParameter=function(e){var t=this.diffTwoWords(e.getName(),e.diffAltStmt?e.diffAltStmt.getName():null);return this.stmt(e,this.tline(this.kw("with ")+t+this.op("=")+this.dispatch(e.expr))+this.possibleError(e))},x.prototype.visitInlineAction=function(e){var i=this,t=this.diffLine(e,e.diffAltStmt,function(e){var n=[i.kw(e.isOptional?"with ":"where "),i.id(e.name.getName())],t=function(e){var t=!0;n.push(i.op("(")),e.forEach(function(e){t||n.push(i.op(", ")),t=!1,n.push(i.id(e.getName()),i.op(":"),i.kind(e.getKind()))}),n.push(i.op(")"))};return t(e.inParameters),0<e.outParameters.length&&(n.push(i.kw(" returns ")),t(e.outParameters)),C.AST.proMode?n.push(i.st(" {")):n.push(i.kw(" is")),n})+this.possibleError(e)+this.renderBlock(e.body)+this.endKeyword("");return this.stmt(e,t)},x.prototype.visitInlineActions=function(e){var t=e.implicitAction(),n=!!t,i="";!this.isAux&&n&&1==e.actions.stmts.length&&(i=C.AST.proMode?this.st(" {"):this.kw("do"));var r=this.renderExprStmt(e,i);if(!this.isAux){var o=e.actions.stmts.slice(0);n?(o.pop(),r+=this.renderSnippet(o),i||(r+=this.tline(C.AST.proMode?this.st(" {"):this.kw("do"))),r+=this.possibleError(t),r+=this.renderBlock(t.body),r+=this.tline(C.AST.proMode?this.st("}"):this.kw("end"))):(r+=this.renderSnippet(o),!C.AST.proMode&&0<o.length&&(r+=this.endKeyword("")))}return this.stmt(e,r)},x.prototype.visitWhile=function(e){return this.stmt(e,(C.AST.proMode?this.tline(this.kw("while")+this.st(" (")+this.expr(e.condition)+this.st(") {")):this.tline(this.kw("while")+this.expr(e.condition)+this.kw("do")))+this.possibleError(e)+this.renderBlock(e.body)+this.endKeyword("while"))},x.prototype.visitBox=function(e){return this.stmt(e,this.tline(this.kw("boxed")+(C.AST.proMode?this.st("{"):""))+this.possibleError(e)+this.renderBlock(e.body)+this.endKeyword("boxed"))},x.prototype.visitComment=function(e){var t="";if(this.showDiff)t=this.diffLine(e,e.diffAltStmt,function(e){var t=["<div translate=yes class='md-comment'>"];return e.text.replace(/[^\s]+\s*/g,function(e){return t.push(C.Util.htmlEscape(e)),""}),t.push("</div>"),t});else{if(this.interpretedComment(e))return"";this.skipComments||(t=this.formatComments?this.tline(x.tdiv("md-comment",this.mdComments.formatText(e.text,e))):this.tline("<span class='comment'> "+C.Util.formatText(e.text)+"</span>"))}return this.stmt(e,t+this.possibleError(e))},x.prototype.endKeyword=function(e){return C.AST.proMode?this.tline(this.st("}")):this.tline(this.kw("end ")+this.greyKw(e))},x.prototype.visitFor=function(e){var t=this.diffTwoWords(e.boundLocal.getName(),e.diffAltStmt?e.diffAltStmt.boundLocal.getName():null);this.kw(e.boundLocal.getName());return this.stmt(e,(C.AST.proMode?this.tline(this.kw("for")+this.st("(")+this.kw0("var ")+t+this.st(" < ")+this.expr(e.upperBound)+this.st(") {")):this.tline(this.kw("for")+this.kw("0")+this.kw("≤")+t+this.kw("<")+this.expr(e.upperBound)+this.kw("do")))+this.possibleError(e)+this.renderBlock(e.body)+this.endKeyword("for"))},x.prototype.visitForeach=function(e){var t=0<e.conditions.stmts.length;return this.stmt(e,this.tline(this.kw("for each ")+(C.AST.proMode?this.st("(")+this.kw0("var "):"")+this.diffTwoWords(e.boundLocal.getName(),e.diffAltStmt?e.diffAltStmt.boundLocal.getName():null)+this.kw("in")+this.expr(e.collection)+(C.AST.proMode?this.st(")")+(t?"":this.st(" {")):t?"":this.kw("do")))+this.possibleError(e)+(t?this.renderBlock(e.conditions)+this.tline(C.AST.proMode?this.st("{"):this.kw("do")):"")+this.renderBlock(e.body)+this.endKeyword("for each"))},x.prototype.visitWhere=function(e){return this.stmt(e,this.tline(this.kw("where")+this.expr(e.condition))+this.possibleError(e))},x.prototype.visitAnyIf=function(e){var t=C.AST.proMode?this.tline((e.isElseIf?this.st("}")+this.kw("else if"):this.kw("if"))+this.st(" (")+this.expr(e.rawCondition)+this.st(") {")):this.tline(this.kw(e.isElseIf?"else if":"if")+this.expr(e.rawCondition)+this.kw("then"));if(t+=this.possibleError(e),e.isTopCommentedOut())return t+=x.tdiv("block-comment",this.renderBlock(e.rawThenBody)),this.stmt(e,t);if(t+=this.renderBlock(e.rawThenBody),this.isAux)return t;if(e.displayElse){if(e.rawElseBody.isBlockPlaceholder())return this.stmt(e,t)+this.stmt(e.rawElseBody.stmts[0]||e,C.AST.proMode?this.tline(this.st("}")+this.kw("else")+this.st("{ }")):this.tline(this.kw("else")+x.tspanRaw("greyed",C.Cloud.config.doNothingText)+this.kw(" end ")+this.greyKw("if")),function(e){return e.setFlag("elseDoNothing",!0)},e);C.AST.proMode?t+=this.tline(this.st("}")+this.kw("else")+this.st("{")):t+=this.tline(this.kw("else")),t+=this.renderBlock(e.rawElseBody),t+=this.endKeyword("if")}return this.stmt(e,t)},x.prototype.visitActionParameter=function(e){var t=this,n=this.op(e.parent.stmts.peek()==e?")":","),i=this.diffLine(e,e.diffAltStmt,function(e){return[t.id(e.getName()),t.op(":"),t.kind(e.getKind()),n]});return this.stmt(e,i+this.possibleError(e))},x.prototype.actionKeyword=function(e){return e.isEvent()?"event":e.isPage()?"page":"function"},x.prototype.renderAppHeader=function(e){var t="",n=this.kw("script");return e.isLibrary&&(n=this.kw("library")+" "+n),t+=this.stmt(e.headerStmt,this.tline(n)),t+=" ",t+=this.stmt(e.nameHolder,this.tline(this.id(C.RT.String_.trim_overflow(e.getName(),64)))),C.Util.fmt("<div id='stmt-script' class='stmt stmt-appHeader'>{0}</div>",this.tline(t))},x.prototype.renderActionHeader=function(e){var t="",n="",i="",r="";return e.action.isPrivate&&(r+=this.kw("private ")),e.action.isAtomic&&!e.action.isPage()&&(r+=this.kw("atomic ")),e.action.isTest()&&(r+=this.kw("test ")),e.action.isOffline&&(r+=this.kw("offline ")),e.action.isQuery&&(r+=this.kw("query ")),r+=this.kw(this.actionKeyword(e.action)),e.action.isActionTypeDef()&&(r+=this.kw(" type")),"main"==e.getName()?r+=this.id(e.getName()):r+=this.stmt(e.action.nameHolder,this.tline(this.id(e.getName()))),e.action.hasInParameters()?(r+=this.op(" ("),t=this.renderBlock(e.inParameters)):r+=this.op(" ()"),e.action.hasOutParameters()&&(n=this.tline(this.kw("returns")+this.op(" (")),i=this.renderBlock(e.outParameters)),!C.AST.proMode||t||i||(r+=this.st(" {")),this.tline(r)+t+n+i+this.possibleError(e.action)},x.prototype.addModelFieldHint=function(){return""},x.prototype.visitActionHeader=function(e){var t=this.renderActionHeader(e),n=e.action;if(n.isActionTypeDef())return this.stmt(e,t);if(n.isPage()){var i="";if(n.modelParameter){var r=n.modelParameter.getKind();if(r instanceof C.AST.RecordEntryKind){var o=r.getRecord();i+=this.tline(this.kw("data"))+(0==o.values.stmts.length?this.addModelFieldHint():this.renderBlock(o.values))}}return i+=this.tline(this.kw("initialize"))+this.renderBlock(n.getPageBlock(!0))+this.tline(this.kw("display"))+this.renderBlock(n.getPageBlock(!1)),this.stmt(e,t+i+this.endKeyword("page"))}return(n.hasOutParameters()||n.hasInParameters())&&(t+=this.tline(C.AST.proMode?this.st("{"):this.kw("do"))),this.stmt(e,t+this.renderBlock(n.body)+this.endKeyword(this.actionKeyword(n)))},x.prototype.visitLibraryRef=function(e){return this.stmt(e,this.tline(this.kw("import")+this.id(e.getName()))+this.tline(this.kw(e.isPublished()?"published":"local")+this.id(e.getId()))+this.possibleError(e)+this.renderBlock(e.resolveClauses))},x.prototype.visitRecordDef=function(e){var t=0<e.keys.count()?this.tline(this.kw((e.getKeyTerminology()||"key")+"s"))+this.renderBlock(e.keys):"",n=0<e.values.count()&&e.getValueTerminology()?this.tline(this.kw(e.getValueTerminology()+"s"))+this.renderBlock(e.values):"",i=this.stmt(e.recordPersistence,this.tline(this.kw(e.getPersistenceDescription()))),r=e.getPersistenceDescription().length?"&nbsp;":"",o=this.stmt(e.recordKind,this.tline(this.kw(e.getDefTerminology()))),a=this.stmt(e.nameHolder,this.tline(this.id(e.getCoreName()))),s=this.diffLine(e,e.diffAltDecl,function(e){return[i,r,o,"&nbsp;",a]});return this.stmt(e,this.possibleError(e)+s+t+n)},x.prototype.diffTwoWords=function(e,t){return this.showDiff&&t&&t!=e?this.diffWords([this.id(t),null,null,this.id(e)]):C.AST.proMode?x.tspan("greyed",e):this.id(e)},x.prototype.diffLine=function(e,t,n){var i=n(e),r="";if(this.showDiff&&t){var o=n(t),a=C.AST.Diff.minimalEditDistance(o,i,function(e,t){return e==t});r=this.diffWords(a)}else{if(0==i.length)return"";r=i.join("")}return this.tline(r)},x.prototype.visitRecordField=function(e){var t=this,n=e.commentBlock.children().map(function(e){return t.visitComment(e)}).join(""),i=e.def()&&e.def().isModel?C.AST.modelSymbol+" ":"",r=this.diffLine(e,e.diffAltStmt,function(e){return[t.id(i+e.getName()),t.op(":"),t.kind(e.dataKind)]});return n+this.stmt(e,r+this.possibleError(e))},x.prototype.libName=function(e){return x.tspan("id symbol",C.AST.libSymbol)+(e?this.id(e.getName()):"?")},x.prototype.visitResolveClause=function(e){return this.stmt(e,this.tline(this.kw("uses")+this.id(e.getName())+this.kw("bound to")+this.libName(e.defaultLib)+this.kw("with"))+this.possibleError(e)+this.renderBlock(e.kindBindings)+this.renderBlock(e.actionBindings))},x.prototype.visitActionBinding=function(e){return this.showDiff&&!e.isExplicit?"":this.stmt(e,this.tline((e.isExplicit?this.kw("explicit"):"")+this.kw("function")+this.id(e.formalName)+this.kw("bound to")+this.libName(e.actualLib)+this.id(" → "+e.getActualName()))+this.possibleError(e))},x.prototype.visitKindBinding=function(e){return this.showDiff&&!e.isExplicit?"":this.stmt(e,this.tline(this.kw("type")+this.id(e.formalName)+this.kw("bound to")+this.kind(e.actual))+this.possibleError(e))},x.prototype.visitAction=function(e){return this.dispatch(e.header)},x.prototype.visitGlobalDef=function(e){var t=this,n=this.diffLine(e,e.diffAltDecl,function(e){return[t.kw(e.isResource?"art":"data"),t.id(e.getName()),t.op(":"),t.kind(e.getKind())]}),i=this.diffLine(e,e.diffAltDecl,function(e){return e.isResource&&e.url?[t.kw("with"),t.id("data: "),t.renderArtUrl(e.getKind(),e.url)]:[]});return this.stmt(e,n+i)+this.possibleError(e)},x.prototype.visitDecl=function(e){return C.Util.check(!1),this.tline("Displaying "+e.getName()+" not implemented.")},x.prototype.renderDiff=function(e,r){var o=this;void 0===r&&(r=!1),this.showDiff=!0;var t=e.things.concat(e.diffRemovedThings||[]);C.AST.App.orderThings(t);var a="";return t.forEach(function(e){var t=r||e.diffStatus,n=o.numDiffs,i=o.dispatch(e);n!=o.numDiffs&&(t=!0),t&&(a+=x.tdiv("decl "+(e.diffStatus<0?"diffDeclRemoved":0<e.diffStatus?"diffDeclAdded":""),i))}),a},x.prototype.visitApp=function(e){var t=this,n="";return e.orderedThings().forEach(function(e){n+=x.tdiv("decl",t.dispatch(e))}),n},x.prototype.renderPropertySig=function(e,n,t,i){var r=this;void 0===n&&(n=!1),void 0===t&&(t=!0),void 0===i&&(i=!0);var o=function(e,t){return void 0===t&&(t=e),n?"<a href='"+o(t)+"'>"+r.id(e)+"</a>":r.id(e)},a=function(e){return n?"<a href='"+o(e.getName())+"'>"+r.kind(e)+"</a>":r.id(e.getName())};e._extensionAction&&(e=e._extensionAction);var s=e,c=s.isExtensionAction&&s.isExtensionAction(),l=e.getParameters().slice(0),u="";if(i&&(u+=this.kw("function ")),t){if(c){var d=l[0];u+=a(d.getKind())}else if(e.parentKind.singleton)u+=o(e.parentKind.singleton.getName());else{var p=e.getNamespaces?e.getNamespaces()[0]:void 0;this.id,u+=p?this.name(p):"("+a(e.parentKind)+")"}l.shift(),u+=" → "}u+=this.name(e.getName());var h=l.map(function(e){return(n?"<br/>":"")+"<span class='sig-parameter'>"+r.id(e.getName())+"</span>"+r.op(":")+a(e.getKind())});0<h.length&&(u+="("+h.join(", ")+")");var m=e.getResult().getKind();return m!=C.api.core.Nothing&&(u+=n?"<br/>":"",u+=this.kw("returns")+a(m)),x.tdiv("signature",u)},x}(C.AST.NodeVisitor),e=function(t){function r(){t.call(this),this.stringLimit=1e3,this.formatComments=!1}return __extends(r,t),r.prototype.tline=function(e){return n.tdiv("line",e.trim())},r.prototype.kw=function(e){return" <span class='keyword'>"+C.Util.htmlEscape(e)+"</span> "},r.prototype.message=function(e,t){return/error/.test(e)?"<div class='error'>"+t.trim()+"</div>":"<div class='hint'>"+t.trim()+"</div>"},r.prototype.visitActionBinding=function(e){return e.isExplicit||e.getError()?t.prototype.visitActionBinding.call(this,e):""},r.prototype.visitKindBinding=function(e){return e.isExplicit||e.getError()?t.prototype.visitKindBinding.call(this,e):""},r.inlineStyles=function(i){return Object.keys(r.styleMap).forEach(function(e){var t=r.styleMap[e],n=C.Util.fmt(" style='{0:q}'",t);i=i.replace(new RegExp(e+"[\"']","g"),function(e){return e+n})}),C.Util.fmt("<div class='column' style='{0:q}'>\x3c!--HEADER--\x3e{1}\x3c!--FOOTER--\x3e</div>","font-family: 'Segoe UI', 'Helvetica', sans-serif;font-size:16px;margin: 0.5em;",i)},r.css='<style>\n@font-face { font-family: "TD Symbols"; src:url(data:application/x-font-woff;base64,d09GRgABAAAAAA6AAA8AAAAAFIgAAQAKAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABWAAAABwAAAAcbURtWU9TLzIAAAF0AAAAXgAAAGDCr8gvY21hcAAAAdQAAABgAAABepl1ln9jdnQgAAACNAAAAFkAAACiD00YpGZwZ20AAAKQAAAEqQAAB7R+YbYRZ2FzcAAABzwAAAAQAAAAEAAVACNnbHlmAAAHTAAABDgAAAUkRa4K32hlYWQAAAuEAAAAMgAAADYK6LO9aGhlYQAAC7gAAAAdAAAAJBA8BgpobXR4AAAL2AAAACkAAAAqQp4D22xvY2EAAAwEAAAAGAAAABgDRASubWF4cAAADBwAAAAgAAAAIAGNAKluYW1lAAAMPAAAAPYAAAG/vR06CXBvc3QAAA00AAAAVAAAAHuSJebqcHJlcAAADYgAAAD4AAABCUO3lqQAAAABAAAAANIEFAUAAAAAyTUxiwAAAADSCyfIeJxjYGaXYZzAwMrAwTqL1ZiBgVEeQjNfZEhj/MjBxMTNxsbMysLExPKAgem9A4NCNAMDgwYQMxg6BjszMChOUrdnk/8nwtDC0csUocDAOB8kx+LBug1IAbkAnM4OXQAAeJxjYGBgZoBgGQZGBhAoAfIYwXwWhgggLcQgABRhUpykbKm6XfWzmqVatTqfuv3//wwMmGL3Cu+cvuV3S/jmuZu9N37fOA01Ew0wsjHAJRiZgAQTugJsuoYXAAAxgRoQeJxjE2EQZ/Bj3QYkS1m3sZ5lQAEsHgwiDBMZGP6/AfEQ5D8REAnUJfxnyv+3/1r/v/q3Eigi8W8PA1mAA0J1MzQy3GWYwdDP0Mcwk6GDoZGRn6ELAE09H/8AAAB4nHVVz1PbRhTeFQYMGCJTyjDVIatu7MJgl3SStkApbG3J2HXTYgwzK+hBIiZjeuKUQ6ad8a2MSP+XJ3IxOeXaQ/+HHNpbOSbX9L2VTSAz1Qhr3/d+7vfeLmr78CDQ+3vt3dbOTz8++qH5faO+XfO9auU7tbX57cY362urX3/15Rf3Vz4vlxY/KxbuyU/duwtzefvOzPTU5ER2fGw0M2JxVhLAQx9GCiJfi6Qvo3q5JPyFrlcu+bIWgogE4CdTlPW6gWQEIhRQxE90Aw5BoeWTDyxVaqmuLbktNtgGpZAC/vKk6PODlsb1H54MBFyZ9SOzzhSNMI2C66KHqYqqFT7UnnZjP8QaeTI1WZXV48lyiSWTU7icwhUsytOEL25ys7AW/fXEYtlpSos79aMO7LS07zmuG5RLDZiRnlGxqgkJY1UYNyHFCZXOzkVSehU/79vsKFzOdWQn+lnDSIS+8Ygfx79DfhmWpAdLz/5ewJ0fQ0l6PixT1ObudZ7m+5QcRgu2FPEbhtuRV//eRqIBMlaw3zBaglUFvqtdepwach3HNSlqcRhH/Xe9IylsGSe5XHzqI91sR2OI/ruX5w7Ungdgh12+Hgy2XtttwketQw1WoSa6ESL4bkl31XHz1zY7/6dmSAuSgwy7LtFw3lfsCAXotXQqC3bkXDC1shyAFZLm1VDz8T5pekPNtXsosbfNto4hU2h0pI+Mn0fQO8Lp+oUaI22Yeeu4Mp7Ni7WVwNgKrKrROREwWkSS0OumA84NucS2EWbepp8rBxMU87NiTWIYiuNLPxy8T7sLGEAg0fXldBD2NCgPFyoadMxP7q+gRxRiw04800xYkacwJyvX3aWy/JO2Ni4DN5irAgsfD7xgxTfnSvhx6KUlUCzZ0pfswbvXyUPhvHjAHrLAI+P5Kk5Z0Y915wncDZ0OnrsnQjsuqAA7HEh9HNDYIUNLrx0zHIGZlT3dbMtm60CvDgpJFRQuU/A/CCO1k4bBAYRsISu05YwEaGgjIGq4kJUN/IXxQhb/bCTcoDS4lQ2hucOG1lgGLAn/2BvYkXwr6CiNU7U+jDZGIsap1h03cNOnXLJQLQaJ0SNLpNaHKrymUJHF+azWDURcLtDQCy2PZSC7AtSOpr0RPYblARmG80Gv9m5JN8hCmpiL6qFAZEJt2blJLmwb+Vqsf6BuDNUizspmO6bgchCQYeUNYDTCajXvmLuADrTEu1fYeKTNgY4Tpegwd9cpiGx0YtnWG8Ya75PfnGeUa5Y1eXOvUi7h1VZJJD9rJYqftQ/0pc2YONvTFxa3qmElSO6hTl8KxpRBLUIJJEGQQJF2Ucgae+dSMdYz2owBjPy4z5nBskOMs8d9K8XsNFHRJFLMQk0m1aihdQaxbIr1DGaehBFlanJUZdWEylnTlpNwgi4QeckZm+DsRY5PcydBr10D93kvmVBOatFDC5VWeLb/PvX+gX6RY+hmfjFRhR4cl4UuNhv/rfiiQ4Pya9CNw4AOG5vH1uDLgctNbJPcxELGcjApjyswJSuEbxG+leJjhI/jiPJ5ju497P0OcJqAQ+3ikRSf/OnE9hV1KsBLJbb/Kf8HKfchKQAAAAABAAMACAAKAA0AB///AA94nFVTXWzbVBS+99rXbtLGiXEct03axklsp2r+lh87S5Zk7aSq1WBr06JJoElDUVdGUdGgY4WBQAzBWKGMIqBDYgg0CTFtKg+s2ksF2kYlYNLQeEC88TSp40eM9WVt7XAdWqDSvfZ3fM93zvnOuQYQHAM3mCE6DxwAQBFqhpyTNYMZso5Pr6yX6Gsr02jhEdu4sDINAMDgy/oZ5ib+AlCABS7AA5HwMmJYIBvKvKwIFC/zEPMyNbq8TC0vmzexYfaYb7ufZvxrw7i09i186ggVP7KRR2M0+nGtygTv/0INsWiMhAcIMHWakXGEIAyA5IAUD6fpb9aLhF5Fh9HhtdNMcONP25citZwmtVwgng5SC8AkP8lr5ydvqDYSnyNEswfVzI9oNIZ+2sw3SNJhcKH+BHuJmQROokIGcVAiWrJ6Ju3zMuGQqmT1tE9sQOwBchDwjafwf6wbelDySayqqUGWYdErw8VCtVooDqO+6tTICAHrtxEHp+Ax1GKuWjPWm+Zfr8Ov4C5YgkvWHuuadd3q/S2SWUT0Ylp5pkObtZ6cjQYoszg8/GzV5pOAIyM/E77bvNvgr6IWOEVoe+BSI8zX1m5TyWcuX87kB2La7FvRnkZv5us/MDP4DdBKdPUBYKi5bIWMV9BYRvRKvkzakEU5pKkKw4ZFzRAzREouq1GGQDRDXxc0KM3Q1HCIyKI0W+j1mDpa/rW1VGOl8EG3B75vBfbuTOCZhxc+u3VrudDG7vju1D1l4/bnh0YrbXd21UJZlq3kbpy6q+WTrz20f2DvXGTCqkcueoVwMAY/lv2Pvesc/OC9/maDF7ID8NB+62Bfr06fg3PvRKz6RPhiFDomrE/2wfO9sp9oYsEi+BB/jxeAANpAEERBGjwIRsjMyjCXTUIm7GXtbYvTYQW6kaBAe2GYSRNpENgCIQt9GcIw7DmLXpaD9rKHnMsaZSjZx2kNK00tqCh16vqg7/cm1tm+8fJZ19xZ10noQC9eMcfNV3m4hFyogsyr8LzOmOtHEebd5qSry+NycjxmBI7r4DkH56GxN/4SKjc7d0K4uyngxE1/SAO6EWgtomZ0f37ONT8Hn3/APGk+fgW9AB1e817e2YLKG4u67OYRc9RcY9Adl4hpngT2dLk4L6Y5T7PL07nKmVdRH/lTJgFg+vEl0pXjpE/2xDgoen3kYvrShm7Y7SEXVCOQiCZfO8kpQ7yYkLbNULUE1OxubBm5LKEY24x/Imy3GiGoT8+Uyplshqxy6T84XVbyOd1Ixbtj0biSTz7qT8nxaKw7nko/l8wrqQ6MlS0jHk1oakQ6kCyEN12K5WSxu8m/hW0XP93cHkjpJwb7T+ipQHsD9w/aWMh5JMnbo42XC7WE2iZiKZSoFUvjWo9XFNvUHfsU9cAmTtQK5YlwSKRFf8TGmz4xru9frNrcCgB/A6dmMf94nGNgZGBgYJScNWPv4b54fpuvDNwcDCBwiVv9Fpxm+8/CvpYtD8jlYGACiQIAVToLBQAAeJxjYGRg4Oj9uwJIhjMAAftaBkYGVMAFAFnVA1oAAAB4nONggAAOIGbbwlDK3s+whU2dgQ1Ec4QzrGLXYZgBFN/GkAcAc98HuQAAAAAAAAAAAAAAABgASABeAH4A7AFWAeICkgABAAAACwB4AAcAAAAAAAIAEAAvAFwAAAEOAAAAAAAAeJyNjkFKw1AURU+atLUiDsSBw+g8bVLooAUn0nYBVpyn8AmF9AfSdtAluBbBPTh3HW7ADXhNnjjQgR/e/+f9d7n3Aee8ENCekBPjgFNujDv0uTUOuebJOJLm1bjLGe/GPQZBX8ogGjQdxgGXUrXcUW5iHHLHwjiS5tm4yxVvxj0u+MAzIgc/0vXAnJgVR7asqSjZ6XMer47bdVWK73EUHDTIqdW64lDmgqXEnn3z1lI42cxUfxm2k0yrTlVjUvFEFpXfL6u6cPEs/olUkyXTZJxmk3+s96jgWp+bZp2vkKEq1cDVu03l42yYpa3PL5dvk0+oxz/wAAB4nGNgYgCDfyYMaQzYADcQMzIwMTIxMjOyMLIysjGyM3IwcnIlFhXllxdlpmeUsJfmZRoZG1uCaVMncwjtZgymzaDiZuZOYNrcwBVCG7sBAInYFXt4nE2Lu07DQBBFd7xOolRjiLCIwB7zcJrtWPpEKUzCgniYkeJESkVPYVNDg5QmiJav8LrLX/AhFHyCcag4xdU9urqjz+7RJOIIQqaJZAoBw2FYhvLaDOjKaDJJTINzj2N9yv1eTR23pras6XKqadpsPb3LLZDs6uYtAeVQllJeJH36TuBEH/OhPmBf7/EOIHsaGfEGHcIvdBBrdNoOCAYt+Em8iFL8CNcT8OpDCzbwUT2kSplNp743tnu7sLCycbrN0d3ctldW8HwxqwDes7f1WowDY8/SmY2CzNjHpnhB5YtxludKLfPiWW0pVF6o//zp/vIXcTtBBg==);}\n@page { margin: 1in; }\n.md-tutorial { font-size: 1.0em; line-height: 1.4em; }\n@media print { .md-tutorial a:link:after, .md-tutorial a:visited:after  { content:" (" attr(href) ") "; } }\n.parse-error, .decl { margin-bottom: 1em; }\n.parse-error, .error { color: #d00; }\n.hint { color: #444; }\n.errorNumber { color: #aaa; }\n.kw, .keyword { font-weight: bold; color: black; }\n.kbm { display:inline-block;} .kbm svg { height: 1em; vertical-align: middle; margin-left: 0.2em; }\n.kbm svg > path.biton { fill:#000; } .kbm svg > path.bitoff { fill:#ccc; }\n.code-highlight { border: 1px dashed gray; font-weight:bold; }\n.comment { color:#444; font-style:italic; }\n.greyed { color:#444; } .greyer { color: #555; }\n.api-kind { border: 1px dotted #BBB; padding: 0.4em; clear: both; font-size: 1.2em; margin-bottom: 0.6em; }\n.md-snippet { border: 1px dotted #bbb; padding: 0.4em 0; clear: both; line-height: 1.3em; page-break-inside:avoid; }\n.md-iframe-wrapper iframe { overflow: hidden; width: 100%; left: 0; top: 0; position: absolute; border: 1px dotted #bbb;}\n.md-iframe-wrapper { width:100%;clear:both;display:block; overflow:hidden;}\n.md-snippet .signature { padding:0em 0.2em 0em 0.2em; }\n.md-snippet .name { font-weight: bold;}\n.md-img { margin:0.5em; clear:both; width:100%; text-align:center; position:relative; }\n.md-img-inner { position:relative; display:inline-block; width:100%; }\n.md-img .caption { font-size:0.8em; }\n.md-img img { max-height: 100%; max-width: 100%; width:auto;}\n.md-box { page-break-inside: avoid; }\n.md-box-header, .md-box-header-print { font-weight: bold; font-size: 1.2em; }\n.md-box, .md-box-landscape, .md-box-portrait { margin-left: 2em;  margin-bottom:0.5em; border: 1px solid #555; border-left-width: 0.5em; padding: 1em; }\n.md-box-avatar { margin-bottom:0.5em; } .md-box-avatar-img { width:4em; display:inline-block; vertical-align:top;} .phone .md-box-avatar-img { width:3em; } .md-box-avatar-body { position:relative; padding:0em 0.5em 0em 0.5em; color:#000; background:#eeeeee; margin-left:1.5em; display:inline-block; width: calc(100% - 7em); } .phone .md-box-avatar-body { width: calc(100% - 6em); } .md-box-avatar-body:after { top: 1.1em; left: -1.5em; bottom: auto; border-width: 0px 1.5em 0.7em 0; border-color: transparent #eeeeee; content: \'\'; position: absolute; border-style: solid; display: block; width: 0; }\n@media print { .md-box-screen { display:none; } }\n.md-box-card { border: solid 1px black; background: inherit; margin-left:inherit; min-height:4em;}\na { color:black; }\na.md-api-entry-link, .api-kind a { text-decoration: none; }\n.api-desc { color: black; font-size: 0.8em; }\n.signature { font-size: 1.3em; }\n.md-api-entry { color: black; border: 1px dotted #BBB; padding: 0.6em 1em 0.5em 1em; margin: 0.5em 0; }\n.md-api-header { font-size: 1.4em; margin-bottom: 1em; }\n.md-api-header .signature { margin-bottom: 0.4em; }\n.md-api-header .sig-parameter { display:inline-block; margin-left: 4em; }\n.md-para { margin-top: 1em; margin-bottom: 1em; }\n.block .md-para { margin: 0; }\nspan.stringLiteral { word-break: break-all; } div.stringLiteral { white-space:pre-wrap; }\n.picLiteral { height:1em; vertical-align: bottom;}\n.md-warning { background-color:lightyellow; border-left:solid 0.25em red; padding:0.5em; margin-left:2em;}\ndiv.md-video-link { position: relative; } div.md-video-link > img { width: calc(100 % - 1em); } div.md-video-link > svg { position: absolute;left:0em; bottom: 0em; width:25%; } @media print { div.md-video-link > svg { display:none; }  }\n@media print { a.md-external-link:link:after, a.md-external-link:visited:after { content: \' (\' attr(href) \') \'; font-size: 80%; } }\nsvg.video-play { width: calc(100% - 1em); background-size:cover; background-repeat:no-repeat;}\n.nopara .md-para { margin:0; }\n.symbol { font-family: "TD Symbols", inherit; }\n.placeholder { font-size: 0.7em; padding: 0.2em; border: 1px dotted gray; }\n.md-comment, .md-comment h1, .md-comment h2, .md-comment h3, .md-comment h4 { display: inline-block; margin:0; }\ncode { font-size: 1.0em; font-family: Calibri, "Helvetica Neue", HelveticaNeue, Helvetica, Arial, "TD Symbols", sans-serif; border: 1px dotted #bbb; padding: 0em 0.2em 0.1em 0.2em; white-space:nowrap; }\ncode.md-ui { border: 2px solid #777; padding-left:0.2em; padding-right:0.2em; white-space:nowrap; }\n.block { margin-left: 1em; }\n.stmt { border-left: 0.2em solid #aaa; margin-top: 0.2em; }\n.line { margin-left: 0.4em; }\n.tutorial-step { font-size: 1.7em; }\n.tutorial-step .md-comment { font-size: 0.6em; }\n.decl > .stmt { border: none; }\n.print-big { font-size: 1.5em; }\na.md-bigbutton {}\n@media print { #MicrosoftTranslatorWidget { display: none; } .body, .inner, .primary-content__inner, .md-tutorial { margin:0; padding:0; } }\nbody { font-family: Calibri, "Helvetica Neue", HelveticaNeue, Helvetica, Arial, "TD Symbols", sans-serif; }\n@page { size: auto; margin: 1cm 1cm 1cm 1cm; }</style>',r.styleMap={"<span class=.keyword":"font-weight: bold; color: #41900D","<div class=.block":"margin-left: 1em","<div class=.md-snippet":"border: 1px dotted #bbb; padding: 0.5em; margin-left: 2em","<div class=.md-para":"margin: 1em 0","<div class=.md-img":"margin: 0.5em; text-align: center"},r}(C.Renderer=n);C.CopyRenderer=e}(TDev||(TDev={})),function(I){I.getScriptHeartCount=function(e){return e?e.updateid&&e.updateid==e.id?e.cumulativepositivereviews:e.positivereviews||0:-1},I.patchScriptHeartCount=function(e,t){if(!e)return-1;e.updateid&&e.updateid==e.id?e.cumulativepositivereviews=t:e.positivereviews=t};var e=[{id:"art",name:"TouchDevelop Art",description:I.lf("Cover art ({0}/...)",I.Cloud.config.primaryCdnUrl),parseIds:function(e){var n=[];return e&&e.replace(/https?:\/\/.*\/pub\/([a-z]+)/gi,function(e,t){n.push(t)}),n},idToUrl:function(e){return I.Cloud.config.primaryCdnUrl+"/pub/"+e},idToHTMLAsync:function(e){return I.Promise.as(I.HTML.mkImg(I.Cloud.config.primaryCdnUrl+"/pub/"+e,"",I.lf("open")))}},{id:"youtube",name:"YouTube",description:I.lf("YouTube video (https://youtu.be/...)"),parseIds:function(e){var a=[];return e&&e.replace(/https?:\/\/(youtu\.be\/([^\s]+))|(www\.youtube\.com\/watch\?v=([^\s]+))/gi,function(e,t,n,i,r){var o=n||r;a.push(o)}),a},idToUrl:function(e){return"https://youtu.be/"+e},idToHTMLAsync:function(e){return I.Promise.as(I.HTML.mkYouTubePlayer(e))}},{id:"videoptr",name:"TouchDevelop Video",description:I.lf("Touch Develop video (/td/videos/...)"),parseIds:function(e,t){var n=I.Cloud.getServiceUrl().replace(/(test|stage|live)/,"www"),i=/^(https:\/\/[^\/]+)\/(\S+)/.exec(e);return t||i&&i[1]==n?(i&&(e=i[2]),[e=(e=(e=e.replace(/^\/+/,"")).replace(/^embed\//,"")).replace(/[^a-z0-9-\/]/g,"-")]):[]},idToUrl:function(e){return I.Cloud.getServiceUrl().replace(/(test|stage|live)/,"www")+"/embed/"+e},idToHTMLAsync:function(e){return e=e.replace(/[^a-z0-9-\/]/g,"-"),I.Promise.as(I.HTML.mkLazyVideoPlayer(I.Util.fmt("{0}/{1}/thumb",I.Cloud.getServiceUrl(),e),I.Util.fmt("{0}/embed/{1}",I.Cloud.getServiceUrl(),e)))}},{id:"bbc",name:"BBC Video",description:I.lf("BBC video (https://files.microbit.co.uk/clips/...)"),parseIds:function(e,t){var n=/^(https:\/\/[^\/]+)\/(.*)/.exec(e);return t||n&&"https://files.microbit.co.uk"==n[1]?(n&&(e=n[2]),[e=(e=(e=e.replace(/^\/+/,"")).replace(/^clips\//,"")).replace(/[^a-z0-9-\/]/g,"-")]):[]},idToUrl:function(e){return"https://files.microbit.co.uk/clips/"+e},idToHTMLAsync:function(e){return e=e.replace(/[^a-z0-9-\/]/g,"-"),I.Promise.as(I.HTML.mkLazyVideoPlayer(I.Util.fmt("https://files.microbit.co.uk/clips/{0}/thumb",e),I.Util.fmt("https://files.microbit.co.uk/clips/{0}/embed",e)))}},{id:"vimeo",name:"Vimeo",description:I.lf("vimeo video (https://vimeo.com/...)"),parseIds:function(e){var n=[];return e&&e.replace(/https?:\/\/vimeo\.com\/\S*?(\d{6,})/gi,function(e,t){n.push(t)}),n},idToUrl:function(e){return"https://vimeo.com/"+e},idToHTMLAsync:function(e){return I.Promise.as(I.HTML.mkLazyVideoPlayer(I.Util.fmt("{0}/thumbnail/512/vimeo/{1:uri}",I.Cloud.getServiceUrl(),e),"https://player.vimeo.com/video/"+e))}},{id:"instagram",name:"Instagram",description:I.lf("Instagram photo (https://instagram.com/p/...)"),parseIds:function(e){var n=[];return e&&e.replace(/https?:\/\/instagram\.com\/p\/([a-z0-9]+)\/?/gi,function(e,t){n.push(t)}),n},idToUrl:function(e){return"https://instagram.com/p/"+e+"/"}},{id:"vine",name:"Vine",description:I.lf("Vine animation (https://vine.co/v/...)"),parseIds:function(e){var n=[];return e&&e.replace(/https?:\/\/vine\.co\/v\/([a-z0-9]+)\/?/gi,function(e,t){n.push(t)}),n},idToUrl:function(e){return"https://vine.co/v/"+e}},{id:"twitter",name:"Twitter",description:I.lf("Twitter picture or tweet (https://twitter.com/.../status/...)"),parseIds:function(e){var t=[];return e&&e.replace(/https:\/\/twitter\.com\/[^\/]+\/status\/[0-9]+\/?/gi,function(e){t.push(e)}),t},idToUrl:function(e){return e}}];I.socialNetworks=function(t){return I.Cloud.hasPermission("post-script-meta")?e.filter(function(e){return!!t["socialNetwork"+e.id]}):[]};var d=function(){function D(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.renderer=e,this.libName=t,this.print=!1,this.showCopy=!0,this.useSVG=!0,this.useExternalLinks=!1,this.blockExternalLinks=void 0,this.pointerHelp=!0,this.allowLinks=!0,this.allowImages=!0,this.allowVideos=!0,this.designTime=!1,this.forWeb=!1,this.relativeLinks=!1,this.depthLimit=0}return D.prototype.serviceUrlOr=function(e,t){return this.useExternalLinks?this.relativeLinks?e:I.Cloud.getServiceUrl()+e:t},D.prototype.topicLink=function(e){return this.serviceUrlOr(I.Cloud.config.topicPath,I.Cloud.config.topicPath)+D.shrink(e)},D.prototype.appLink=function(e){return this.serviceUrlOr("/app/","")+e},D.shrink=function(e){return e?e.replace(/[^A-Za-z0-9]/g,"").toLowerCase():""},D.error=function(e){return"<span class='md-error'>"+I.Util.htmlEscape(e)+" </span>"},D.proxyVideos=function(e){e.poster=I.HTML.proxyResource(e.poster),e.sources.forEach(function(e){e.poster=I.HTML.proxyResource(e.poster),e.src=I.HTML.proxyResource(e.src)}),e.tracks.forEach(function(e){e.src=I.HTML.proxyResource(e.src)})},D.attachVideoHandlers=function(e,c){I.Browser.directionAuto||(I.Util.toArray(e.getElementsByClassName("md-tutorial")).forEach(function(e){return I.dirAuto(e)}),I.Util.toArray(e.getElementsByClassName("md-box-avatar-body")).forEach(function(e){return I.dirAuto(e)})),I.Util.toArray(e.getElementsByClassName("md-video-link")).forEach(function(n){if(n.hasAttribute("data-playerurl"))n.withClick(function(){return n.innerHTML=I.HTML.mkVideoIframe(n.getAttribute("data-playerurl"))});else if(n.hasAttribute("data-video")){I.Util.getTranslationLanguage();var e=JSON.parse(decodeURIComponent(n.getAttribute("data-video")));if(!e)return void n.setChildren(I.div("",I.lf(":( invalid in video information")));D.proxyVideos(e);var t=D.findBestSource(e.sources);if(!t)return void n.setChildren(I.div("",I.lf(":( could not find any video source")));(s=I.createElement("video")).crossOrigin="anonymous",s.width=300,s.height=150,s.controls=!0,s.autoplay=c,s.preload=c?"auto":"none",s.poster=t.poster||e.poster;var i=I.createElement("source");if(i.src=t.src,i.type=t.type,s.appendChild(i),e.tracks&&0<e.tracks.length)if(I.Util.log("loading tracks"),I.Browser.videoTracks)s.appendChildren(e.tracks.map(function(e,t){var n=I.createElement("track");return 0==t&&(n.default=!0),n.src=e.src,n.kind=e.kind||"subtitles",e.srclang&&(n.srclang=e.srclang),n.label=e.label||e.srclang,n}));else{var a=D.findBestTrack(e.tracks);I.Util.log("best track: "+a.label),I.Util.httpGetTextAsync(a.src).done(function(e){var i=I.HTML.parseWtt(e);if(I.Util.log("found {0} cues",i.length),0<i.length)if(s.addTextTrack){var t=s.addTextTrack(a.kind||"subtitles",a.label||a.srclang,a.srclang);i.forEach(function(e){return t.addCue(TextTrackCue(e.startTime,e.endTime,e.message))}),t.mode=t.SHOWING}else{var r=document.createElement("span");r.className="videoCaption";var o=void 0;s.ontimeupdate=function(e){var t=s.currentTime;if(!(o&&o.startTime<=t&&t<=o.endTime)){o=void 0;for(var n=0;n<i.length;){if(i[n].startTime<=t&&t<=i[n].endTime){o=i[n];break}if(i[n].endTime>t)break;n++}o?(r.innerText=o.message,r.style.opacity="1.0"):r.style.opacity="0.0"}},n.classList.add("videoOuter"),n.setChildren([s,r])}},function(e){I.Util.log("wtt: failed to load caption: "+(e.message||""))})}n.setChildren(s)}else if(n.hasAttribute("data-videosrc")){var s,r=n.getAttribute("data-videosrc"),o=n.getAttribute("data-videoposter");if(c)(s=I.createElement("video")).crossOrigin="anonymous",s.width=300,s.height=150,s.controls=!0,s.autoplay=!0,s.src=decodeURI(r),s.poster=decodeURI(o),n.setChildren(s);else n.withClick(function(){var e=I.createElement("video");e.crossOrigin="anonymous",e.width=300,e.height=150,e.controls=!0,e.autoplay=!0,e.src=decodeURI(r),e.poster=decodeURI(o),n.setChildren(e),n.withClick(function(){})})}})},D.findBestSource=function(e){if(e){var t=I.Util.getTranslationLanguage()||"en",n=e.filter(function(e){return e.srclang==t})[0];return n||(t=t.substr(0,2),(n=e.filter(function(e){return e.srclang==t})[0])||e[0])}},D.findBestTrack=function(e){if(e){var t=I.Util.getTranslationLanguage()||"en",n=e.filter(function(e){return e.srclang==t})[0];return n||(t=t.substr(0,2),(n=e.filter(function(e){return e.srclang==t})[0])||e[0])}},D.prototype.sig=function(e,t){void 0===t&&(t=!1);var n=h.findById(e);if(n&&n.isPropertyHelp())return n.getSig(this,t);var i=e.split(/->/);if(i){var r=i[0],o=i[1];if(r&&o&&I.Script){var a=I.Script.librariesAndThis().filter(function(e){return e.getName()==r})[0];if(a){var s=a.getPublicActions().filter(function(e){return e.getName()==o})[0];if(s){var c="<div class=notranslate translate=no dir=ltr style='display:inline-block'><div class='md-snippet'>";return c+=this.renderer.renderPropertySig(s,!1,!0,!1),c+="</div></div>"}}}}return I.lf("could not find decl '{0}'",i)},D.prototype.apiList=function(e){var r=this,o="",t=/^([^:]*):(.*)/.exec(e);t&&(o=t[1],e=t[2]);var a="";return e.split(/,/).forEach(function(e){if(!/^\s*$/.test(e)){var t=o+"_"+e,n=h.findById(t);if(n)if(n.isPropertyHelp())a+=n.renderLink(r,!0);else{var i=n.getSubTopics();0<i.length?a+=i.map(function(e){return e.renderLink(r,!0)}).join(""):a+=D.error(t+" is neither property nor type")}else a+=D.error("no such topic: "+t)}}),a},D.findArtStringResource=function(e,t){var n=e?e.resources().filter(function(e){return D.shrink(e.getName())==D.shrink(t)})[0]:null;if(n&&n.url)return I.RT.String_.valueFromArtUrl(n.url)},D.findArtId=function(i){var r=I.Script?I.Script.resources().filter(function(e){return D.shrink(e.getName())==D.shrink(i)})[0]:null;return I.Cloud.config.altCdnUrls.forEach(function(e){var t=e+"/pub/";if(r&&r.url&&r.url.slice(0,t.length)==t){var n=r.url.slice(t.length);/^\w+$/.test(n)&&(i=n)}}),i},D.prototype.defaultRepl=function(e,t){if("var"==e)switch(t){case"userid":return this.userid||I.Cloud.getUserId();case"apihelp":return D.error("var:apihelp no longer supported");default:return D.error("unknown variable "+t)}else{if("pic"!=e){if("pici"==e){var n=t.split(/:/);L=D.findArtId(n[0]);return(M=n[1]?parseFloat(n[1]):0)||(M=2),N=I.Util.fmt("<img class='md-img-inline' src='{0}' style='width:{1}em' alt='picture' />",I.Cloud.artUrl(L),M)}if("snippet"==e){if(3!=(n=t.split(/:/)).length)return D.error(I.lf("invalid snippet"));var i=n[0],r=I.Cloud.config.scriptRenderers[i];if(!r)return D.error(I.lf("unknown editor"));var o=n[1],a=parseFloat(n[2])||1;return N=I.Util.fmt('<div class="md-iframe-wrapper" style="height:{1}em;"><iframe src="{0}"  frameborder="0" sandbox="allow-scripts allow-same-origin" scrollbars="no" style="height:{1}em;"></iframe></div>',r(o),a)}if("hex"==e)return 2!=(n=t.split(":")).length?D.error(I.lf("missing script title: {hex:id:title}")):I.Util.fmt('<a href="{0:q}" target="_blank">{1:q}</a>',"/api/"+D.shrink(n[0])+"/hex?applyupdates=true",n[1]);if("decl"==e||"decl*"==e){var s=I.Script?t?I.Script.things.filter(function(e){return e.getName()==t})[0]:I.Script:null;return this.currComment&&this.currComment.mdDecl&&(s=this.currComment.mdDecl),s?this.mkDeclSnippet(s,"decl*"==e):D.error(I.lf("no such decl {0}",t))}if("imports"==e){if(!I.Script)return D.error(I.lf("import can only be used from a script context"));N="";return[{name:"npm",url:"https://www.npmjs.com/package/{0:q}",pkgs:I.Script.imports.npmModules},{name:"cordova",url:"http://plugins.cordova.io/#/package/{0:q}/",pkgs:I.Script.imports.cordovaPlugins},{name:"bower",url:"https://www.npmjs.com/package/{0:q}/",pkgs:I.Script.imports.bowerModules},{name:"client",url:"{0}",pkgs:I.Script.imports.clientScripts},{name:"pip",url:"https://pypi.python.org/pypi/{0:q}/",pkgs:I.Script.imports.pipPackages},{name:"touchdevelop",url:"#pub:{0:q}",pkgs:I.Script.imports.touchDevelopPlugins}].forEach(function(i){var e=Object.keys(i.pkgs);0<e.length&&e.forEach(function(e){var t=I.Util.fmt(i.url,e),n=i.pkgs[e];N+=I.Util.fmt("<li>{3}: <a target='blank' href='{1}'>{0:q}{2}</a></li>\n",e,t,n?" "+n:"",i.name)})}),N?"<h3>"+I.lf("imports")+"</h3><ul>"+N+"</ul>":this.designTime?"{imports}":""}if("stlaunch"==e)return this.scriptid?"<h2>"+I.lf("follow tutorial online")+"</h2><div class='md-box-print print-big'>"+I.lf("Follow this tutorial online at <b>{1}/{0:q}</b>",this.scriptid,I.Cloud.config.shareUrl)+".</div>":"";if("stcmd"==e){var c=/^run(:(.*))?/.exec(t);if(c)return I.Util.fmt("<b>Run your program: {0:q}</b>",c[2]||"");var l=/^compile(:(.*))?/.exec(t);return l?I.Util.fmt("<b>Compile your program: {0:q}</b>",l[2]||""):I.Util.fmt("<b>tutorial command: {0:q}</b>",t)}if("adddecl"==e)return this.designTime?I.Util.fmt("<b>Add the declaration:</b>"):"";if("stcode"==e)return"<b>(code of the step)</b>";if("internalstepid"==e)return I.Util.fmt("<h1 class='stepid'>{0:q}</h1>",t);if("follow"==e)return I.Util.fmt('\x3c!-- FOLLOW --\x3e<a href="{0:q}">{1:q}</a>',this.appLink("#hub:follow-tile:"+D.shrink(t)),t);if("topictile"==e)return I.Util.fmt('\x3c!-- FOLLOW --\x3e<a href="{0:q}">{1:q}</a>',this.appLink("#topic-tile:"+D.shrink(t)),t);if("pub"==e)return 2!=(n=t.split(":")).length?D.error(I.lf("missing publication title: {pub:id:title}")):I.Util.fmt('\x3c!-- FOLLOW --\x3e<a href="{0:q}">{1:q}</a>',this.appLink("#pub:"+D.shrink(n[0])),n[1]);if("section"==e){var u=/^([^:;]+)[;:](.*)/.exec(t),d=u?u[1]:t,p=I.Util.fmt("--------------------------- <b>{0:q}</b> ---------------------------",d);return u&&u[2].split(";").forEach(function(e){p+=I.Util.fmt("<div class='md-section'>;; {0:q}</div>",e)}),p}if("hide"==e||"priority"==e||"template"==e||"highlight"==e||"box"==e||"code"==e||"widgets"==e||"templatename"==e||"hints"==e||"pichints"==e||"enum"==e||"language"==e||"weight"==e||"namespace"==e||"parenttopic"==e||"docflags"==e||"stprecise"==e||"flags"==e||"action"==e||"topic"==e||"breadcrumbtitle"==e||"stvalidator"==e||"stnoprofile"==e||"stauto"==e||"sthints"==e||"stcode"==e||"storder"==e||"stdelete"==e||"stcheckpoint"==e||"sthashtags"==e||"stnocheers"==e||"steditormode"==e||"stnexttutorials"==e||"stmoretutorials"==e||"translations"==e||"stpixeltracking"==e||"steventhubstracking"==e||"icon"==e||"help"==e)return this.designTime?"{"+e+(t?":"+I.Util.htmlEscape(t):"")+"}":"";if("api"==e)return this.apiList(t);if("sig"==e)return this.sig(t);if("fullsig"==e)return this.sig(t,!0);if("youtube"==e)return this.allowVideos?this.blockExternal()?this.blockLink(""):t?I.Util.fmt("<div class='md-video-link' data-playerurl='{0:q}'>{1}</div>",I.Util.fmt("//www.youtube-nocookie.com/embed/{0:uri}?modestbranding=1&autoplay=1&autohide=1",t),I.SVG.getVideoPlay(I.Util.fmt("https://img.youtube.com/vi/{0:q}/hqdefault.jpg",t))):D.error("youtube: missing video id"):"";if("videoptr"==e){if(!this.allowVideos)return"";if(this.blockExternal())return this.blockLink("");if(t){var h=this.relativeLinks?"":I.Cloud.getServiceUrl();n=t.split(/:/);if(!/^[a-z0-9\-\/@]+$/.test(n[0]))return D.error("videoptr: invalid pointer path");var m=n[0].replace(/^\/+/,""),f=(T=I.Util.fmt("{0}/{1}/sd",h,m),I.Util.fmt("{0}/embed/{1}",h,m)),g=I.Util.fmt("{0}/{1}/thumb",h,m);if(I.Cloud.config.anonToken){var v="?anon_token="+encodeURIComponent(I.Cloud.config.anonToken);T+=v,g+=v}var y=n.slice(1).join(":")||"";return I.Util.fmt("<div class='md-video-link' data-videoposter='{0:url}' data-playerurl='{1:url}' data-alt='{3:q}'>{2}</div>",g,f,I.SVG.getVideoPlay(g,y),y)}return D.error("videoptr: missing video id")}if("bbc"==e){if(!this.allowVideos)return"";if(this.blockExternal())return this.blockLink("");m=(n=t.split(/:/))[0],A=n.slice(1).join(":");return m?I.Util.fmt("<div class='md-video-link' data-playerurl='{0:q}' data-alt='{2:q}'>{1}</div>",I.Util.fmt("https://files.microbit.co.uk/clips/{0:uri}/embed",m),I.SVG.getVideoPlay(I.Util.fmt("https://files.microbit.co.uk/clips/{0:uri}/thumb",m),A),A):D.error("bbc: missing video id")}if("vimeo"==e){if(!this.allowVideos)return"";if(I.Cloud.isRestricted())return D.error("vimeo not allowed");if(!t)return D.error("vimeo: missing video id");if(this.blockExternal())return this.blockLink("");n=t.split(/:/);if(/^\d+$/.test(n[0])){h=this.relativeLinks?"":I.Cloud.getServiceUrl(),T=I.Util.fmt("{0}/vimeo/{1:uri}/sd",h,n[0]),g=I.Util.fmt("{0}/vimeo/{1:uri}/thumb512",h,n[0]);return I.Util.fmt("<div class='md-video-link' data-videoposter='{0:url}' data-videosrc='{1:url}'>{2}</div>",g,T,I.SVG.getVideoPlay(g))}return D.error("vimeo: video id should be a number")}if("channel9"==e){if(!this.allowVideos)return"";if(this.blockExternal())return this.blockLink("");if(!t)return D.error("channel9: missing MP4 url");var b=t.replace(/^http:\/\/video/,"https://sec"),_=b.replace(/\.mp4$/,"_512.jpg");return I.Util.fmt("<div class='md-video-link' data-videoposter='{0:url}' data-videosrc='{1:url}'>{2}</div>",_,b,I.SVG.getVideoPlay(_))}if("video"==e){if(!this.allowVideos)return"";if(this.blockExternal())return this.blockLink("");if(!t)return D.error("video: missing video preview and url");var w=D.findArtStringResource(I.Script,t);if(w)return D.expandJsonVideo(w);var k=t.split(",");return 2!=k.length?D.error("video: must have <preview url>,<mp4 url> arguments"):I.Util.fmt("<div class='md-video-link' data-videoposter='{0:url}' data-videosrc='{1:url}'>{2}</div>",k[0],k[1],I.SVG.getVideoPlay(k[0]))}if("cap"==e){if(!t)return D.error("cap: requires a comma separated list of required capabilities");var x=I.AST.App.fromCapabilityList(t.split(/,/))&~I.PlatformCapabilityManager.current();return x?"<div class='md-tutorial md-warning'><strong>"+I.lf("This code might not work on your current device")+"</strong>: "+I.lf("missing {0} capabilities.",I.AST.App.capabilityName(x))+"</div>":""}if("webonly"==e)return this.designTime?D.error("{webonly} macro doesn't do anything anymore"):"";if("bigbutton"==e){if(!t)return D.error("bigbutton: requires <text>,<url> arguments");var C=t.split(",");return 2!=C.length?D.error(I.lf("bigbutton: must have <text>,<url> arguments")):this.blockLink(C[1])||I.Util.fmt("<a class='md-bigbutton' target='_blank'  rel='nofollow' href='{0:url}'>{1:q}</a>",C[1],C[0])}return"shim"==e||"asm"==e?this.designTime||"asm"==e?"{"+e+":"+I.Util.htmlEscape(t)+"}":t?I.Util.fmt("<b>{0:q}</b> <span class='font-family: monospace'>{1:q}</span>",I.lf("compiles to C++ function:"),t):"":null}var S=/^((https:\/\/[^:]+)|([\w ]+))(:(\d+)x(\d+))?(:.*)?/i.exec(t);if(S){var A,T=S[2],L=S[3],M=parseFloat(S[5]||"12"),E=parseFloat(S[6]||"12");40<M&&(E*=40/M,M=40),40<E&&(M*=40/E,E=40),A=(A=S[7])?A.slice(1):"",L&&!T?(L=D.findArtId(L),T=I.Cloud.artUrl(L)):I.Cloud.isArtUrl(T)||(T="no-such-image"),T=I.Cloud.toCdnUrl(T),T=I.HTML.proxyResource(T);var N="<div class='md-img'><div class='md-img-inner'>";return N+=I.Util.fmt("<img src=\"{0:q}\" alt='{1:q}'",T,A),(S[6]||!this.forWeb&&!this.print)&&(N+=I.Util.fmt(" style='height:{0}em'",E)),N+="/></div>",N+="</div>"}if(!(S=/^(:(\d+)x(\d+))?(:.*)?/.exec(t)))return D.error(I.lf("invalid picture id"))}},D.expandJsonVideo=function(e){var t;try{t=JSON.parse(e)}catch(e){}if(!t)return D.error("video: missing data");var n=D.findBestSource(t.sources);if(!n)return D.error("videoset: missing sources");var i=n.poster||t.poster;return i?I.Util.fmt("<div class='md-video-link' data-video='{0:uri}'>{1}</div>",JSON.stringify(t),I.SVG.getVideoPlay(i)):D.error("video: missing poster")},D.prototype.blockExternal=function(){return void 0===this.blockExternalLinks&&(this.blockExternalLinks=!(!I.Cloud.isRestricted()||I.Cloud.hasPermission("external-links"))),this.blockExternalLinks},D.prototype.blockLink=function(e){return this.blockExternal()?D.error(I.lf("sorry, external link not allowed")):null},D.prototype.expandInline=function(e,t,n){var a=this;void 0===t&&(t=!1),void 0===n&&(n=!0);for(var i=e,r="",o=function(e,t){var n=e.exec(i);return!!n&&(i=i.slice(n[0].length),r+=t(n),!0)},s=function(t){return function(e){return"<"+t+">"+a.expandInline(e[1])+"</"+t+">"}},c=function(e){var t=e[2];1==e[1].length&&(t=(t=t.replace(/->/g,"→")).replace(/(^|\s)(\w+)\u2192/,function(e,t,n){switch(n){case"code":return t+I.AST.codeSymbol;case"data":return t+I.AST.dataSymbol;case"art":return t+I.AST.artSymbol;case"libs":return t+I.AST.libSymbol;case"records":return t+I.AST.recordSymbol;default:return e}}));var n=a.expandInline(t,!1,!1);return n=n.replace(/[\u25b7\u25f3\u273f\u267B\u2339]/,'<span class="symbol">$&</span>')},l=function(e){var t=c(e);return a.allowLinks&&1==e[1].length&&(t=t.replace(/(^|[\s\(,])([\u2192\w ]+)($|[\s\(,])/g,function(e,t,n,i){return h.findById(n)?t+"<a class='md-code-link' href='"+a.topicLink(n)+"'>"+n+"</a>"+i:e})),"<code class=notranslate translate=no dir=ltr>"+t+"</code>"},u=function(e){return"<code class='md-ui' translate=no dir=ltr>"+c(e)+"</code>"},d=I.Util.htmlEscape;i;)if(!(n&&o(/^\{([\w\*]+)(:([^{}]*))?\}/,function(e){if(!a.allowImages)return"";var t=a.defaultRepl(e[1].toLowerCase(),e[3]);return null==t?D.error("unknown macro '"+e[1]+"'"):t})||o(/^\&(\w+|#\d+);/,function(e){return e[0]})||t&&o(/^<br\s*\/>/,function(e){return"<br/>"})||o(/^([<>&])/,function(e){return I.Util.htmlEscape(e[1])})||o(/^\t/,function(e){return D.error("<tab>")})||t&&(o(/^(``)(.+?)``/,l)||o(/^(``)\[(.+?)\]``/,u)||o(/^(`)\[(.+?)\]`/,u)||o(/^(`)([^\n`]+)`/,l)||o(/^\*\*(.+?)\*\*/,s("strong"))||o(/^\*([^\n\*]+)\*/,s("em"))||o(/^__(.+?)__/,s("strong"))||o(/^_([^\n_]+)_/,s("em"))||this.allowLinks&&o(/^(http|https|ftp):\/\/[^\s]*/gi,function(e){var t=a.blockLink(n);if(t)return t;var n=e[0],i="",r=/(.*?)([,\.;:\)]+)$/.exec(n);return r&&(n=r[1],i=r[2]),n=(n=a.expandInline(n)).replace(/"/g,"&quot;"),'<a href="'+d(n)+"\" target='_blank' rel='nofollow'>"+n+"</a>"+i})))){var p=this.serviceUrlOr("/","");n&&(o(/^\{\#(\w+)\}/g,function(e){return"<a name='"+d(e[1])+"'></a>"})||o(/^\[([^\[\]]*)\]\s*\(([^ \(\)\s]+)\)/,function(e){var t=e[1],n=e[2],i="",r="";if(t||(t=n.replace(/^\//,""),a.pointerHelp&&(t=t.replace(/^[\w\/]+\//,""))),a.pointerHelp&&/^\/[\w\-\/]+(#\w+)?$/.test(n))n=n;else if(/^\/\w+(->\w+)?(#\w+)?$/.test(n))n=a.topicLink(n.slice(1));else if(/^\/script:\w+$/.test(n))i="md-link",n=a.useExternalLinks?p+n.slice(8):"#"+n.slice(1);else if(/^#[\w\-]+:[\w,\-:]*$/.test(n))n=(a.useExternalLinks?p+"/app/#":"#")+n.slice(1);else if(/^#[\w\-]+$/.test(n))n=(a.useExternalLinks?"#":"#goto:")+n.slice(1);else{if(!/^(http|https|ftp):\/\//.test(n)&&!/^mailto:/.test(n))return D.error("invalid link '"+n+"'");var o=a.blockLink(n);if(o)return o;n=n,i="md-link md-external-link",r=' rel="nofollow" target="_blank"',!a.useExternalLinks&&a.allowLinks&&(t+=" ↗")}return a.allowLinks?'<a class="'+i+'" href="'+d(n)+'"'+r+">"+a.expandInline(t)+"</a>":a.expandInline(t)}))||!o(/^(\s+)/,function(e){return e[0]})&&o(/^(\w+\s*|.)/,function(e){return e[0]})}return r},D.prototype.formatInline=function(e){var t=this.allowLinks,n=this.allowImages,i=this.allowVideos;this.allowLinks=!1,this.allowImages=!1,this.allowVideos=!1;try{return this.expandInline(e,!0,!0)}finally{this.allowLinks=t,this.allowImages=n,this.allowVideos=i}},D.prototype.formatTextNoLinks=function(e){var t=this.allowLinks;this.allowLinks=!1;try{return this.formatText(e)}finally{this.allowLinks=t}},D.prototype.formatText=function(e,t){if(void 0===t&&(t=null),!e)return e;this.init();var r="",o="",n=function(n,i){return void 0===i&&(i=""),i||(i="/"+n),function(e,t){return""!=r?e:(r="<"+n+">",o="<"+i+">",t)}};if(/^    /.test(e))return"<pre>"+I.Util.htmlEscape(e.slice(4))+"</pre>";if(/^-{5,}\s*$/.test(e))return this.designTime?e:"<hr/>";if(/^\*{5,}\s*$/.test(e))return this.designTime?e:"<div style='page-break-after:always'></div>";e=(e=(e=(e=(e=(e=(e=e.replace(/^#\s+(.*)/,n("h1"))).replace(/^##\s+(.*)/,n("h2"))).replace(/^###\s+(.*)/,n("h3"))).replace(/^####\s+(.*)/,n("h4"))).replace(/^>\s+(.*)/,n("blockquote"))).replace(/^[-+*]\s+(.*)/,n("ul><li","/li></ul"))).replace(/^\d+\.\s+(.*)/,n("ol><li","/li></ol")),n("div class='md-para'","/div")("","");var i=this.currComment;try{return this.currComment=t,r+this.expandInline(e,!0,!0)+o}finally{this.currComment=i}},D.prototype.mkCopyButton=function(e,t){var n=I.Util.fmt("<button class='{0} copy-button' data-type='{1:q}' data-data='{2:q}'>",this.useSVG?"code-button":"wall-button",e,t);return this.useSVG?n+=I.Util.fmt('<div class="code-button-frame">{0}</div>',I.SVG.getIconSVGCore("copy,currentColor")):n+="copy",n+="</button>"},D.prototype.mkDeclSnippet=function(e,t,n,i,r){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i="md-snippet"),void 0===r&&(r=0),this.depthLimit<0||!this.renderer)return"<div class='md-message'>["+I.Util.htmlEscape(e.getName())+" goes here]</div>";var o="<div class=notranslate translate=no dir=ltr><div class='"+i+"'>",a=this.renderer.formatComments,s=this.renderer.skipComments,c=this.renderer.mdComments;try{this.depthLimit+=r-1,(this.renderer.mdComments=this).renderer.formatComments=n,this.renderer.skipComments=t,o+=this.renderer.renderDecl(e)}finally{this.depthLimit-=r-1,this.renderer.formatComments=a,this.renderer.skipComments=s,this.renderer.mdComments=c}return this.showCopy&&!n&&(o+=this.mkCopyButton("decls",e.serialize())),o+="</div></div>"},D.prototype.mkSnippet=function(e){if(!this.renderer)return"<div class='md-message'>[inline snippet goes here]</div>";var t="<div class=notranslate translate=no dir=ltr><div class='md-snippet'>";if(t+=this.renderer.renderSnippet(e),this.showCopy){var n=new I.AST.Block;n.stmts=e;var i=n.serialize();this.libName&&(i=i.replace(/code\u2192/g,"@\\u267b ->"+I.AST.Lexer.quoteId(this.libName)+"->")),t+=this.mkCopyButton("block",i)}return t+="</div></div>"},D.prototype.init=function(){this.renderer&&(this.libName?(this.renderer.codeReplacement='<span class="id symbol">'+I.AST.libSymbol+"</span> "+this.libName+" ",this.showCopy&&(this.renderer.codeReplacement+="→ ")):this.renderer.codeReplacement=null)},D.prototype.extract=function(e){return this.extractStmts(e.body.stmts)},D.prototype.extractStmts=function(e){this.init();for(var t="",n=null,i=0;i<e.length;){var r=e[i].docText();if(null!=r){var o=/^\s*\{hide(:[^{}]*)?\}\s*$/.exec(r);if(o){o[1]&&(t+=this.formatText(o[1]));for(var a=i+1;a<e.length;){if(/^\s*\{\/hide\}\s*$/.test(e[a].docText())){a++;break}a++}i=a}else if(0==i&&"{var:apihelp}"==r)i++;else if(null!=(o=/^```` bitmatrix((.|\n)*)````$/.exec(r))){var s=o[1];t+="<div class='md-para'>"+this.renderer.renderBitmatrix(s,{cls:"docs",height:7})+"</div>",i++}else if(null!=(o=/^\s*(\{code\}|````)\s*$/.exec(r))){for(a=i+1;a<e.length&&!/^\s*(\{\/code\}|````)\s*$/.test(e[a].docText());)a++;t+=this.mkSnippet(e.slice(i+1,a)),i=a+1}else if(null!=(o=/^\s*\{section:(.*)\}\s*$/.exec(r))){var c=/^([^:;]+)[;:](.*)/.exec(o[1]),l=c?c[1]:o[1];t+=I.Util.fmt("<hr class='md-section' data-name='{0:uri}' data-arguments='{1:uri}' />",l,c?c[2]:""),i++}else if(null!=(o=/^\s*\{box:([^{}]*)\}\s*$/.exec(r))){n&&(t+="</div>");var u=o[1].split(":"),d=u[0],p="",h="",m="",f="md-box";switch(d){case"card":h="<h3 class='md-box-header'>"+this.expandInline(u.slice(1).join(":"),!0,!1)+"</h3>";break;case"hint":h="<div class='md-box-header'>"+I.lf("hint")+"</div>";break;case"exercise":h="<div class='md-box-header'>"+I.lf("exercise")+"</div>";break;case"example":h="<div class='md-box-header'>"+I.lf("example")+"</div>";break;case"nointernet":h="<div class='md-box-header'>"+I.lf("no internet?")+"</div>";break;case"portrait":h="<div class='md-box-header-print'>"+I.lf("device in portrait")+"</div>",f="";break;case"landscape":h="<div class='md-box-header-print'>"+I.lf("device in landscape")+"</div>",f="";break;case"print":case"screen":case"block":f=h="";break;case"avatar":var g=D.findArtId(u[1]);h=I.Util.fmt("<img class='md-box-avatar-img' src='{0}' /><div class='md-box-avatar-body' dir='auto'>",I.Cloud.artUrl(g)),m="</div>",f="",d="avatar",p="dir='ltr'";break;case"column":h="",f="col-xs-12 col-sm-6 col-md-4";break;default:h=D.error("no such box type "+o[1]+", use hint, exercise, example or nointernet"),d="hint"}n=d,t+=I.Util.fmt("<div class='{0} md-box-{1}' {2}>{3}",f,d,p,h),i++}else/^\s*\{\/box(:[^{}]*)?\}\s*$/.test(r)?n?(t+=m+"</div>",n=null):t+=D.error("no box to close"):t+=this.formatText(r),i++}else{for(a=i;a<e.length&&null==e[a].docText();)a++;t+=this.mkSnippet(e.slice(i,a)),i=a}}n&&(t+="</div>");return"<div class='md-tutorial' dir='auto'>"+(t=t.replace(/(<\/ul><ul>|<\/ol><ol>|<\/pre><pre>|<\/div><!-- HL --><div class='code-highlight'>)/g,"").replace(/<ul><li><!-- FOLLOW -->/g,"<ul class='tutorial-list'><li>"))+"</div>"},D.splitDivs=function(e){var n=[],t=e.replace(/([^<]+|<[^<>]+>)/g,function(e,t){return n.push(t),""});I.Util.assert(!t,"should be nothing left: "+t),/<div.*md-tutorial.*>/.test(n[0])&&/<\/div>/.test(n.peek())&&(n.shift(),n.pop());var i=[],r=[],o="",a=function(e){return e.toLowerCase().replace(/\s*/g,"")};return n.forEach(function(e){if(o+=e,a(e)==i.peek())i.pop();else{var t=/<([a-z0-9\-]+)(\s|>)/i.exec(e);t&&/^(div|p|ul|ol|h[1-9]|blockquote)$/i.test(t[1])&&i.push(a("</"+t[1]+">"))}0==i.length&&(r.push(o),o="")}),o&&r.push(o),r},D}();I.MdComments=d;var h=function(){function u(e){this.json=e,this.isBuiltIn=!1,this.parentTopic=null,this.childTopics=[],this.id=d.shrink(this.json.name)}return u.prototype.isTutorial=function(){return this.hashTags()&&/#(stepbystep|hourofcode)\b/i.test(this.allHashTags)&&!/template|notes/i.test(this.json.name)},u.prototype.isHourOfCode=function(){return this.hashTags()&&/#HourOfCode\b/i.test(this.allHashTags)},u.fromJsonScript=function(e){var t=new u({name:e.name,id:e.id,description:e.description,icon:e.icon,iconbackground:e.iconbackground,iconArtId:e.iconArtId,userid:e.userid,time:e.time,text:null,rootid:e.rootid,platforms:e.platforms,priority:2e4});return t.id=e.id,t.hashTags(),t.fromJson=e,t},u.fromScriptText=function(e,t){var n=I.AST.Parser.parseScript(t),i=u.fromScript(n,!1);return e&&(i.id=e,i.json.id=e),i},u.fromScript=function(e,t){void 0===t&&(t=!0);var n=new u({name:e.getName(),id:"none",description:e.getDescription(),icon:I.SVG.justName(e.iconPath()),iconbackground:e.htmlColor(),text:e.serialize(),rootid:"none",priority:2e4});return t&&(n.app=e,n.initPromise=I.Promise.as()),n},u.lookupHelpPath=function(e){e=e.toLowerCase().replace(/^#/,"");var t=I.Cloud.config.specHelpPaths;if(t)for(var n=e.length;2<=n;--n)if(t.hasOwnProperty(e.slice(0,n)))return t[e.slice(0,n)];return null},u.justHelpPath=function(e){if(!e)return null;var t=u.lookupHelpPath(e);if(!t)return null;var n=new u({name:t,id:"",description:"",icon:"Recycle",iconbackground:"#008800",text:"",rootid:"none",priority:2e4,helpPath:t});return n.id=t,n},u.forLibraryAction=function(e){var t=new u({name:e.getName(),id:"",description:e.getDescription(),icon:"Recycle",iconbackground:"#008800",text:"",rootid:"none",priority:2e4,helpPath:e.getHelpPath()});return t.apiProperty=e,t.apiKind=I.api.core.Nothing,t.app=e.parentLibrary().resolved,t.id=I.Util.tagify(t.app.getName()+" "+e.getName()),t.json.description+=" #"+t.id,t},u.getAll=function(){if(!u._initalized){u._initalized=!0;var s={};u._topics=[],I.api.getKinds().forEach(function(o){if(!(o.isPrivate||o instanceof I.ThingSetKind||o.isData&&0==o.getContexts())){var e=I.Util.toHashTag(o.getName()),t=s[d.shrink(e)];t||((t=new u({name:o.getName(),id:"",description:"",icon:I.SVG.justName(o.icon())||"Document",iconbackground:"#7d26cd",priority:11e3,rootid:"none",text:""})).hashTagsCache=["#docs",e],u._topics.push(t)),t.id=d.shrink(e.replace(/^#/,"")),t.json.name=o.getName(),t.json.description=o.getHelp(!1),t.json.parentTopic="api",t.apiKind=o;var a=t;a.subTopics={},o.listProperties().forEach(function(e){if(e.isBrowsable()){var t=e.parentKind.getName()+e.getArrow()+e.getName(),n="#"+e.helpTopic(),i=s[d.shrink(n)];if(!i){var r=a.json;(i=new u({name:t,id:"",rootid:"none",description:"",icon:r.icon,iconbackground:r.iconbackground,priority:1e4+r.priority,text:""})).hashTagsCache=["#docs",n],u._topics.push(i)}i.id=d.shrink(n.replace(/^#/,"")),i.json.name=t,i.json.description=e.getDescription(!0),a.id!=i.id&&(i.json.parentTopic=a.id),(a.subTopics[i.id]=i).apiKind=o,i.apiProperty=e}})}}),u._topics.sort(function(e,t){var n=e.json.priority-t.json.priority;return n||I.Util.stringCompare(e.json.name,t.json.name)}),u._topics.forEach(function(e){return e.isBuiltIn=!0}),u.topicCache={},u.topicByScriptId={},u._topics.forEach(function(e){u.topicByScriptId[e.json.id]=e,u.topicCache[e.id]=e});var n={},i=function(e){if(n.hasOwnProperty(e.id)&&n[e.id]&&(n[e.id]=2),void 0!==e.nestingLevel)return e.nestingLevel;if(e.nestingLevel=0,e.json.parentTopic&&u.topicCache.hasOwnProperty(e.json.parentTopic)){var t=u.topicCache[e.json.parentTopic];n[e.id]=1;i(t);1==n[e.id]?(e.parentTopic=t,e.nestingLevel=i(t)+1,e.parentTopic.childTopics.push(e)):I.dbg&&I.Util.log("DOCERR: cycle in help topics involving "+e.id),n[e.id]=0}else I.dbg&&(e.json.parentTopic?I.Util.log("DOCERR: parent topic "+e.json.parentTopic+" doesn't exists (in '"+e.json.name+"' /"+e.json.id+")"):I.Util.log("DOCERR: no parent topic set for '"+e.json.name+"' /"+e.json.id));return e.nestingLevel};u._topics.forEach(i),u._topics.forEach(function(e){0<e.childTopics.length&&e.childTopics.sort(function(e,t){return I.Util.stringCompare(e.json.name,t.json.name)})})}return u._topics},u.prototype.renderLink=function(e,t){void 0===t&&(t=!1);var n=this.apiProperty,i="";return i+=I.Util.fmt("<a href='{0:q}' id='{1:q}' class='md-api-entry-link'><div class='md-api-entry'>",e.topicLink(this.id),n?d.shrink(n.getName()):d.shrink(this.id)),this.json.text&&(i+="<div class='md-more'>more info</div>"),e.renderer?i+=e.renderer.renderPropertySig(n,!1,t):i+=I.Renderer.tdiv("signature","function "+n.getName()),i+="<div class='nopara'>"+e.formatTextNoLinks(n.getDescription())+"</div>",i+="</div></a>"},u.prototype.isBetterThan=function(e){var t=this.hashTags().length-e.hashTags().length;return 0!=t?t<0:0!=(t=this.json.priority-e.json.priority)?t<0:I.Util.stringCompare(this.id,e.id)<0},u.prototype.updateKey=function(){var e=this.fromJson;return e?e.rootid+":"+e.userid+":"+e.name:this.json.rootid+":jeiv:"+this.json.name},u.prototype.hashTags=function(){if(!this.hashTagsCache){var n=this.hashTagsCache=[],i="";this.json.description=this.json.description.replace(/(#\w+)/g,function(e,t){return n.push(e),i+=" "+e,""}),this.allHashTags=i}return this.hashTagsCache},u.prototype.translations=function(){var e=/\{translations:([^\}]+)\}/i.exec(this.json.text);if(e){var t=d.findArtStringResource(this.app,e[1]);if(t){var n={};return t.split("\n").map(function(e){return e.split("=")}).forEach(function(e){return n[e[0].toLowerCase()]=e[1]}),n}}},u.prototype.templateHashTags=function(){var e=/\{sthashtags:([^\}]+)\}/i.exec(this.json.text);return e?e[1].split(","):[]},u.prototype.templateEditorMode=function(){var e=/\{steditormode:([^\}]+)\}/i.exec(this.json.text);return e?e[1].trim().toLowerCase():""},u.prototype.eventHubsTracking=function(){var e=/\{steventhubstracking:([^\:]+):([^\:]+):([^\}]+)\}/i.exec(this.json.text);if(e)return{namespace:e[1],hub:e[2],token:e[3]}},u.prototype.pixelTrackingUrl=function(){var e=/\{stpixeltracking:([^\}]+)\}/i.exec(this.json.text);return e?e[1]:""},u.prototype.nextTutorials=function(){var e=/\{stnexttutorials:([^\}]+)\}/i.exec(this.json.text);return e?e[1].split(","):[]},u.prototype.moreTutorials=function(){var e=/\{stmoretutorials:([^\}]+)\}/i.exec(this.json.text);if(e)return e[1]},u.prototype.translateAsync=function(e){return this.translatedTopic?I.Promise.as(this.translatedTopic):!e||/^en/i.test(e)||I.Cloud.isOffline()?I.Promise.as(void 0):(I.tick(31,e),this.translateToScriptAsync(e,this.json.id))},u.prototype.translateToScriptAsync=function(n,i){var r=this;return i&&I.Cloud.config.translateCdnUrl&&I.Cloud.config.translateApiUrl?I.ProgressOverlay.lockAndShowAsync(I.lf("translating topic...")+(I.dbg?i:"")).then(function(){var e=I.HTML.proxyResource(I.Cloud.config.translateCdnUrl+"/docs/"+n+"/"+i);return I.Util.httpGetJsonAsync(e).then(function(e){return r.translatedTopic=e,r.translatedTopic},function(e){I.Util.log("requesting topic translation");var t=I.Cloud.config.translateApiUrl+"/translate_doc?scriptId="+i+"&to="+n;return I.Util.httpGetJsonAsync(t).then(function(e){return r.translatedTopic=e.info,r.translatedTopic},function(e){return I.Util.log("tutorial topic failed, "+e),r.translatedTopic={body:void 0}})})}).then(function(){return I.ProgressOverlay.hide()},function(e){return function(){return I.ProgressOverlay.hide()}}):I.Promise.as(this.translatedTopic={body:void 0})},u.prototype.forSearch=function(){if(!this.searchCache){var e=this.json,t=e.name+" "+e.description;this.apiProperty?(t+=" "+this.apiProperty.parentKind.toString(),this.apiProperty.getParameters().forEach(function(e){t+=" "+e.getName()+" "+e.getKind().toString()}),t+=" "+this.apiProperty.getResult().getKind().toString(),t+=" "+this.apiProperty.getDescription()):this.apiKind&&(t+=" "+this.apiKind.toString(),t+=" "+this.apiKind.getDescription()),e.text&&(t+=" "+e.text),this.searchCache=t.toLowerCase()}return this.searchCache},u.prototype.reloadAppAsync=function(){var n=this,t=this.json;return I.AST.loadScriptAsync(function(e){return""==e?null==t.text&&t.id?u.getScriptAsync(t.id).then(function(e){return t.text=e}):I.Promise.as(t.text):u.getScriptAsync(e)}).then(function(e){var t=I.Script;return I.setGlobalScript(e.prevScript),n.fromJson&&(t.blockExternalLinks=n.fromJson.noexternallinks),t})},u.prototype.initAsync=function(){var t=this;return this.json.text||this.json.id?(this.initPromise||(this.initPromise=this.reloadAppAsync().then(function(e){return t.app=e})),this.initPromise):I.Promise.as(this.app)},u.prototype.isApiHelp=function(){return!!this.apiProperty},u.prototype.getSig=function(e,t){var n="<div class='md-api-header md-tutorial'>"+(new I.Renderer).renderPropertySig(this.apiProperty,!0)+(t?"<div class='md-prop-desc'>"+e.formatText(this.apiProperty.getDescription())+"</div>":"")+"</div>";if(t){var i=this.apiProperty.getCapability();n+="<div class='md-tutorial'><ul>"+(0==i?"":"<li>"+I.lf("<strong>required platform:</strong>")+" "+I.Util.htmlEscape(I.AST.App.capabilityName(i)))+(this.apiProperty.isBeta()?"<li>"+I.lf("<strong>feature in beta testing:</strong> the syntax and semantics is subject to change"):"")+(this.apiProperty.isImplementedAnywhere()?"":"<li><strong>"+I.lf("API not implemented")+"</strong>, sorry ")+"</ul></div>"}return e.useExternalLinks&&(n=n.replace(/#topic(:|%3a)/g,I.Cloud.config.rootUrl+I.Cloud.config.topicPath)),n},u.prototype.renderCore=function(t){var n=this;if(!t){var e=new I.Renderer;e.stringLimit=90,t=new d(e,null),this.app&&(t.blockExternalLinks=this.app.blockExternalLinks)}var i="";if(this.apiProperty&&(i+=this.getSig(t,!0)),this.app){var r=this.app.orderedThings().filter(function(e){return e instanceof I.AST.Action}),o=r.some(function(e){return"this is no tutorial"==e.getName()});this.apiProperty instanceof I.AST.LibraryRefAction?r=r.filter(function(e){return e.getName()=="docs "+n.apiProperty.getName()}):this.isTutorial()?r=r.filter(function(e){return/^main$/.test(e.getName())}):0==(r=r.filter(function(e){return e.isNormalAction()&&/^example/.test(e.getName())})).length&&this.app.mainAction()&&(r=[this.app.mainAction()]),r.forEach(function(e){i+=t.extract(e)});var a=o?[]:I.AST.Step.splitActions(this.app);if(0<a.length&&t.forWeb&&(i=i.replace(/<\/div>$/,"<hr class='md-section' data-name='startTutorial' data-arguments='' /></div>")),t.print&&0<a.length){a.forEach(function(e){e.printOut&&(i+=t.mkDeclSnippet(e.printOut,!1,!0,"tutorial-step",1))});var s=this.app.actions().filter(function(e){return"final"==e.getName()})[0];s&&(i+=t.extract(s))}}if(this.apiKind&&!this.apiProperty){var c=this.getSubTopics().map(function(e){return e.renderLink(t)});i+="<div class='md-tutorial'>"+c.join("")+"</div>"}if("api"==this.id){c=[];var l=u.getAll().filter(function(e){return e.apiKind&&!e.apiProperty});l.sort(function(e,t){return I.Util.stringCompare(e.id,t.id)}),c.push("<h3>"+I.lf("services")+"</h3>"),l.filter(function(e){return!e.apiKind.isData&&!e.apiKind.isObsolete}).forEach(function(e){return u.renderKindDecl(c,e,t)}),c.push("<h3>"+I.lf("types")+"</h3>"),l.filter(function(e){return e.apiKind.isData&&!e.apiKind.isAction&&!e.apiKind.isObsolete}).forEach(function(e){return u.renderKindDecl(c,e,t)}),c.push("<h3>"+I.lf("function types")+"</h3>"),l.filter(function(e){return e.apiKind.isData&&e.apiKind.isAction&&!e.apiKind.isObsolete}).forEach(function(e){return u.renderKindDecl(c,e,t)}),i+="<div class='md-tutorial'>"+c.join("")+"</div>"}return i},u.prototype.isPropertyHelp=function(){return!!this.apiProperty},u.prototype.getSubTopics=function(){var t=this,e=Object.keys(this.subTopics);return e.sort(I.Util.stringCompare),e.map(function(e){return t.subTopics[e]})},u.prototype.renderTranslated=function(){if(this.translatedTopic&&this.translatedTopic.body)return"<div class='md-tutorial' dir='auto'>"+this.translatedTopic.body.join("\n")+"</div>"},u.prototype.renderAsync=function(t){var n=this;return void 0===t&&(t=null),this.initAsync().then(function(){var e=I.Script;try{return I.setGlobalScript(n.app),n.renderCore(t)}finally{I.setGlobalScript(e)}})},u.prototype.docInfoAsync=function(){var e=new I.MdComments(new I.CopyRenderer);e.useSVG=!1,e.showCopy=!1;var i=this;return this.renderAsync(e).then(function(e){var t={title:"<h1>"+I.Util.htmlEscape(i.json.name)+"</h1>",description:i.isApiHelp()?"":"<p>"+I.Util.htmlEscape(i.json.description)+"</p>",body:d.splitDivs(e)},n=i.translations();return n&&(t.translations=n),t})},u.prototype.renderHeader=function(){var n=this,i=I.div(null);return this.initAsync().done(function(){var e=n.app.getName().replace(/ tutorial$/,""),t=e.indexOf(":");e=0<t?e.substr(t+1):I.lf("tutorial: ")+e,i.setChildren(e)}),i},u.prototype.render=function(a){var s=this,c=I.div(null);return c.style.marginRight="0.2em",this.translateAsync(I.Util.getTranslationLanguage()).then(function(){return s.renderAsync()}).done(function(e){var t=s.renderTranslated();if(t)if(s.translatedTopic&&s.translatedTopic.manual)I.Browser.setInnerHTML(c,t);else{var n=I.div("");I.Browser.setInnerHTML(n,e);var i=I.div("");I.Browser.setInnerHTML(i,t);var r=I.div("translate-notice",I.lf("Translations by Microsoft® Translator, tap to see original...")).withClick(function(){i.style.display="none",n.style.display="block",I.Util.seeTranslatedText(!1)});i.insertBefore(r,i.firstElementChild);var o=I.div("translate-notice",I.lf("tap to translate with Microsoft® Translator...")).withClick(function(){n.style.display="none",i.style.display="block",I.Util.seeTranslatedText(!0)});n.insertBefore(o,n.firstElementChild),I.Util.seeTranslatedText()?n.style.display="none":i.style.display="none",c.setChildren([n,i])}else I.Browser.setInnerHTML(c,e);I.HTML.fixWp8Links(c),a(c)}),c},u.printManyAsync=function(e){return I.Promise.join(e.map(function(e){return e.printedAsync()})).then(function(e){return u.printText(e.join("<div style='page-break-after:always'></div>\n"),"Help")})},u.prototype.printedAsync=function(t){var n=this;void 0===t&&(t=!1);var e=new I.CopyRenderer,i=new d(e);return i.scriptid=this.json.id,i.useSVG=!1,i.useExternalLinks=!0,i.showCopy=!1,i.print=!0,this.renderAsync(i).then(function(e){return t?I.CopyRenderer.inlineStyles(e):"<h1>"+I.Util.htmlEscape(n.json.name)+"</h1>"+e})},u.printText=function(e,t){try{var n=window.open("about:blank","tdTopic"+I.Util.guidGen()),i="<!DOCTYPE html><html><head>"+I.CopyRenderer.css+"<title>"+I.Util.htmlEscape(t)+"</title><meta name='microsoft' content='notranslateclasses stmt keyword'/></head><body onload='try { window.print(); } catch(ex) {}'>"+e+"</body></html>";n.document.write(i),n.document.close()}catch(e){I.ModalDialog.info(":( can't print from here",I.lf("Your browser might have blocked the print page or try to print from another device..."))}},u.prototype.print=function(){var t=this;this.printedAsync().done(function(e){return u.printText(e,t.json.name)})},u.renderKindDecl=function(e,t,n){var i=t.json,r=i.name;t.apiKind.isData||(r=r.toLowerCase()),e.push("<div class='api-kind'><a href='"+n.topicLink(t.id)+"'>"),e.push("<div class='api-kind-inner'>"),n.useSVG&&e.push("<span class='api-icon' style='background:"+i.iconbackground+"'>"+(n.useSVG?I.SVG.getIconSVGCore(i.icon+",white"):"<img src='/replaceicons/"+i.icon+".png' alt='"+i.icon+"'>")+"</span>"),e.push("<div class='api-names'><div class='api-name'>"+I.Util.htmlEscape(r)+"</div>"),e.push("<div class='api-desc'>"+I.Util.htmlEscape(i.description)+"</div>"),e.push("</div></div></a></div>")},u.findById=function(e){return I.Cloud.isRestricted()?null:(u.getAll(),e&&(e=e.replace(/^t:/,"")),e=d.shrink(e),u.topicCache.hasOwnProperty(e)?u.topicCache[e]:null)},u.contextTopics=[],u._topics=[],u._initalized=!1,u}();I.HelpTopic=h}(TDev||(TDev={})),function(C){var S;(function(e){function w(e){return""===e||e.tokens&&(0==e.tokens.length||1==e.tokens.length&&"placeholder"==e.tokens[0].nodeType)}function k(e){return!e||0==e.length||1==e.length&&"exprStmt"==e[0].nodeType&&w(e[0].expr)}function n(e,t){e.hasIds?(new S.InitIdVisitor(!1).dispatch(e),(new i).dispatch(e)):new r(t).dispatch(e)}e.docs,e.setStableId=n,e.addIdsAndDumpNode=function(e){return new r("").dispatch(e),(new o).toJson(e)},e.dump=function(t){try{return n(t),(new o).toJson(t)}catch(e){throw e.bugAttachments=[t.serialize()],e}},e.dumpForDiff=function(e){var t=new o;return t.shortMode=!0,t.toJson(e)};var i=function(t){function e(){t.call(this),this.currId=0}return __extends(e,t),e.prototype.visitStmt=function(e){this.lastStmt=e,this.currId=0;var t=e.getStableName();t||C.Util.oops("no stable name on "+e.nodeType()),e.stableId=t,this.visitChildren(e)},e.prototype.visitKindBinding=function(e){e.isExplicit?this.visitStmt(e):(e.stableId=this.makeId(),this.visitChildren(e))},e.prototype.visitActionBinding=function(e){e.isExplicit?this.visitStmt(e):(e.stableId=this.makeId(),this.visitChildren(e))},e.prototype.makeId=function(){return this.lastStmt.stableId+"$i"+this.currId++},e.prototype.visitAction=function(e){e.allLocals.forEach(function(e){e.stableId=e.getStableName()});var t=function(e){return e.local.stableId=e.getStableName()};e.getInParameters().forEach(t),e.getOutParameters().forEach(t),e.modelParameter&&t(e.modelParameter),this.visitStmt(e)},e.prototype.visitLibraryRef=function(t){var n=this;this.visitStmt(t),t.getPublicActionsAndActionTypes().forEach(function(n,e){n.stableId=t.stableId+"$a"+e,n.header.stableId=t.stableId+"$ah"+e,n.getInParameters().concat(n.getOutParameters()).forEach(function(e,t){e.stableId=n.stableId+"$p"+t,e.local.stableId=e.stableId+"$l"})}),t.getPublicKinds().forEach(function(e){var t=e.getRecord();t&&(t.keys.setStableName(t.getStableName()+"$ks"),t.values.setStableName(t.getStableName()+"$vs"),n.dispatch(t))})},e.prototype.visitExprHolder=function(e){var r=this.lastStmt.stableId;e.stableId=r+"$eh",e.parsed&&this.dispatch(e.parsed),e.tokens.forEach(function(e,t){e.stableId=r+"$t"+t;var n=e.getLocalDef();if(n&&!n.stableId&&(n.stableId=r+"$err"+t),e.getFunArgs()){var i=e.call.funAction;i&&(i.stableId=r+"$fn"+t,i.body.stableId=r+"$fnb"+t,i.body.stmts[0].stableId=r+"$fns"+t,i.body.stmts[0].expr.stableId=r+"$fneh"+t)}})},e.prototype.visitInlineAction=function(e){e.name.stableId=e.getStableName()+"$inlan",t.prototype.visitInlineAction.call(this,e)},e.prototype.visitAstNode=function(e){e.stableId=this.makeId(),this.visitChildren(e)},e}(S.NodeVisitor),r=function(t){function n(e){void 0===e&&(e=""),t.call(this),this.prefix=e,this.currId=0}return __extends(n,t),n.prototype.makeId=function(){var e=this.prefix;return this.currId<n.begIds.length?e+=n.begIds[this.currId]:(/\d$/.test(e)&&(e+="."),e+=this.currId+"."),this.currId++,e},n.prototype.scope=function(e){var t=this.makeId(),n=this.prefix,i=this.currId;try{return this.prefix=this.makeId(),this.currId=0,e(),t}finally{this.prefix=n,this.currId=i}},n.prototype.visitLocalDef=function(e){},n.prototype.visitApp=function(e){e.stableId=this.makeId(),this.visitChildren(e)},n.prototype.visitAction=function(e){var t=this;e.stableId=this.scope(function(){return e.allLocals.forEach(function(e){e.stableId=t.makeId()})}),this.visitChildren(e)},n.prototype.visitLibraryRef=function(e){t.prototype.visitLibraryRef.call(this,e),this.scopedList(e.getPublicActionsAndActionTypes())},n.prototype.scopedList=function(e){var t=this;this.scope(function(){e.forEach(function(e){return t.dispatch(e)})})},n.prototype.scoped=function(e){var t=this;e.stableId=this.scope(function(){return t.visitChildren(e)})},n.prototype.visitDecl=function(e){this.scoped(e)},n.prototype.visitBlock=function(e){this.scoped(e)},n.prototype.visitCall=function(e){this.scoped(e)},n.prototype.visitExprHolder=function(e){this.scoped(e),e.parsed&&this.dispatch(e.parsed)},n.prototype.visitAstNode=function(e){e.stableId=this.makeId(),this.visitChildren(e)},n.begIds="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n}(S.NodeVisitor);e.getApis=function(){return new o(!1).getApis()};var o=function(t){function e(e){void 0===e&&(e=!0),t.call(this),this.useIds=e,this.seenIds={},this.addLocals=[],this.deletedDecls=[],this.shortMode=!1,this.reflectionMode=!1}return __extends(e,t),e.prototype.getApis=function(){var i=this,r=function(e){return!!e||void 0},o=new S.TypeChecker;o.topApp=S.Parser.parseScript("");var n=function(e){var t=e.getDefaultValue(),n=void 0;return t&&(o.tcTokens(t),n=i.toJsons(t)),{name:e.getName(),type:i.kind(e.getKind()),writesMutable:r(1&e.getFlags()),readsMutable:r(2&e.getFlags()),defaultValue:n,stringValues:e.getStringValues()||void 0}},a=function(e){e instanceof C.Property||C.Util.die();var t=e.getFlags();return{name:e.getName(),help:e.getDescription(),usage_count:e._usage_count,isAsync:r(4096&t),runOnInvalid:r(1&t),isHidden:r(4&t),isObsolete:r(2&t),isDbgOnly:r(1024&t),isBetaOnly:r(8192&t),jsName:e.runtimeName(),infixPriority:e._infixPriority,pausesInterpreter:r(1&e._implStatus),usesStackFrame:r(2&e._implStatus),missingWeb:r(!(16&e._implStatus)),capabilities:S.App.capabilityString(e.getCapability())||void 0,result:n(e.getResult()),parameters:e.getParameters().map(n)}};return{textVersion:S.App.currentVersion,jsonVersion:e.version,types:S.api.getKinds().filter(function(e){return!(e instanceof C.ThingSetKind)}).map(function(e){var t=e.getContexts();return{name:e.getName(),help:e.getDescription(),icon:C.SVG.justName(e.icon()),isAction:r(e.isAction),isData:e.isData,isDbgOnly:r(e.isDbgOnly),isBetaOnly:r(e.isBetaOnly),isSerializable:e.isSerializable,stemName:e.getStemName(),jsName:e.runtimeName(),isBuiltin:e.isBuiltin,ctxLocal:r(1&t),ctxGlobal:r(2&t),ctxLocalKey:r(16&t),ctxGcKey:r(32&t),ctxCloudKey:r(16&t),ctxRowKey:r(64&t),ctxCloudField:r(4&t),ctxWallTap:r(256&t),ctxEnumerable:r(512&t),ctxJson:r(1024&t),properties:e.listProperties().map(a)}})}},e.prototype.visitAstNode=function(e){return C.Util.oops("cannot jsonize "+e.nodeType()),null},e.prototype.fixupJson=function(e,n){var i=this;if(Array.isArray(n)||"string"==typeof n)return n;if(Object.keys(n).forEach(function(e){var t=n[e];t instanceof S.AstNode?n[e]=i.toJson(t):t instanceof C.Kind&&(n[e]=i.kind(t))}),n.nodeType||(n.nodeType=e.nodeType(),n.nodeType||C.Util.oops("cannot get nodetype")),this.useIds&&!n.id&&(n.id=e.stableId,n.id||C.Util.oops("no id on "+n.nodeType),this.seenIds[n.id]=!0),this.shortMode&&e.calcNode){var t=e.calcNode();t&&t.definedLocals&&(n.locals=this.toJsons(t.definedLocals));var r="";e instanceof S.For?r="index":e instanceof S.Foreach?r="iterator":e instanceof S.InlineAction&&(r="reference"),r&&(n.locals||(n.locals=[]),n.locals.unshift(n[r]),delete n[r])}return n},e.prototype.kindJson=function(e){var t=this,n=e.parentLibrary();if(n&&!n.isThis())return{l:this.ref(n),o:e.getName()};if(e instanceof S.RecordEntryKind)return{o:e.getName()};if(e instanceof C.ParametricKind){var i=e;return i.parameters&&i.parameters.length?{g:i.root.getName(),a:i.parameters.map(function(e){return t.kindJson(e)})}:{g:i.root.getName()}}return e.getName()},e.prototype.kind=function(e){var t=this.kindJson(e);return"object"==typeof t?JSON.stringify(t):t},e.prototype.toJson=function(e){return this.fixupJson(e,this.dispatch(e))},e.prototype.possiblyEmptyBlock=function(e){var t=this.toJsons(e.stmts);return k(t)?void 0:t},e.prototype.toJsons=function(e){var t=this;return e.map(function(e){return t.toJson(e)})},e.prototype.ref=function(e){var n=this;if(!e)return null;if(e instanceof S.Decl&&e.deleted){var t=e;if(this.deletedDecls.indexOf(t)<0){this.deletedDecls.push(t);var i=t.getName();if(t instanceof S.Action){var r=t.parentLibrary();r.isThis()||(i=r.getName()+"->"+i)}var o=C.Util.base64Encode(C.Util.toUTF8(""+t.nodeType()+":"+i)).replace(/[^a-zA-Z0-9]/g,"")+"Z";t.stableId=S.AstNode.freshNameCore(o,function(t){return n.deletedDecls.some(function(e){return e.stableId==t})})}}return e.stableId},e.prototype.visitOperator=function(e){return this.shortMode?","+e.data:{op:e.data}},e.prototype.visitPropertyRef=function(e){var t=e.prop.forwardsTo();if(t instanceof S.Action&&(t=t.extensionForward()),this.shortMode)return t?"#"+t.stableId:"."+S.idUrlQuote(e.getText());var n={name:e.getText(),parent:e.prop.parentKind};return t&&(n.declId=this.ref(t)),n},e.prototype.visitLiteral=function(e){if(this.shortMode)switch(typeof e.data){case"string":return"'"+S.idUrlQuote(e.data);case"boolean":return e.data?"T":"F";default:C.Util.oops("bad literal "+e.data)}return{nodeType:typeof e.data+"Literal",value:e.data,stringForm:e.stringForm,enumValue:e.enumVal,hintValue:e.hintVal,hintArtId:e.hintArtId}},e.prototype.visitThingRef=function(e){if(e.def instanceof S.LocalDef)return this.seenIds.hasOwnProperty(e.def.stableId)||this.addLocals.push(this.toJson(e.def)),this.shortMode?"$"+e.def.stableId:{nodeType:"localRef",name:e.getText(),localId:this.ref(e.def)};if(e.def instanceof S.PlaceholderDef){var t=e.def;return this.shortMode?"?"+S.idUrlQuote(this.kind(e.def.getKind()))+":"+S.idUrlQuote(t.label||""):{nodeType:"placeholder",name:t.label||"",type:e.def.getKind()}}if(e.def instanceof S.SingletonDef)return this.shortMode?":"+S.idUrlQuote(e.getText()):{nodeType:"singletonRef",name:e.getText(),type:e.def.getKind(),libraryName:e.namespaceLibrary?e.namespaceLibrary.getName():void 0};C.Util.oops("unknown def "+(e.def?e.def.nodeType():"null"))},e.prototype.visitCall=function(e){var t=this,n=this.visitPropertyRef(e.propRef);if(n.nodeType="call",n.args=this.toJsons(e.args),e.prop()instanceof C.MultiplexProperty){var i=e.prop().savedArgs;i&&(n.typeArgs=i.map(function(e){return t.kindJson(e)}))}return null!=e.calledExtensionAction()&&(n.callType="extension"),null!=e.referencedRecordField()&&(n.callType="field"),n},e.prototype.visitExprHolder=function(e){var t=this;if(this.shortMode)return e.tokens.map(function(e){return e.accept(t)}).join(" ");var n=e.assignmentInfo(),i=n?this.toJsons(n.definedVars).slice(0):[],r={tokens:this.toJsons(e.tokens),tree:this.toJson(e.parsed),locals:i};return 0<this.addLocals.length&&(i.pushRange(this.addLocals),this.addLocals=[]),e.locals&&(r.allLocals=this.toJsons(e.locals)),r},e.prototype.visitComment=function(e){return{text:e.text}},e.prototype.visitBlock=function(e){return this.toJsons(e.stmts)},e.prototype.visitFor=function(e){return{index:e.boundLocal,bound:e.upperBound,body:e.body}},e.prototype.visitForeach=function(e){return{iterator:e.boundLocal,collection:e.collection,conditions:e.conditions,body:e.body}},e.prototype.visitWhile=function(e){return{condition:e.condition,body:e.body}},e.prototype.visitShow=function(e){return{nodeType:"show",expr:e.args[0]}},e.prototype.visitReturn=function(e){return{nodeType:"return",expr:e.args[0]}},e.prototype.visitBreak=function(e){return{nodeType:"break"}},e.prototype.visitContinue=function(e){return{nodeType:"continue"}},e.prototype.visitBox=function(e){return{body:e.body}},e.prototype.visitAnyIf=function(e){return{nodeType:"if",condition:e.rawCondition,thenBody:e.rawThenBody,elseBody:this.possiblyEmptyBlock(e.rawElseBody),isElseIf:e.isElseIf}},e.prototype.visitWhere=function(e){return{condition:e.condition}},e.prototype.visitExprStmt=function(e){return{expr:e.expr}},e.prototype.visitInlineActions=function(e){var t=this.visitExprStmt(e);return t.actions=e.actions,t},e.prototype.visitInlineAction=function(e){var t=this;return{reference:e.name,inParameters:this.toJsons(e.inParameters),outParameters:this.toJsons(e.outParameters),allLocals:e.allLocals.map(function(e){return t.ref(e)}),capturedLocals:e.closure.map(function(e){return t.ref(e)}),isImplicit:e.isImplicit,isOptional:e.isOptional,body:e.body}},e.prototype.visitOptionalParameter=function(e){return{name:e.getName(),declId:this.ref(e.recordField),expr:e.expr}},e.prototype.visitActionParameter=function(e){return this.toJson(e.local)},e.prototype.visitAction=function(e){return this.visitActionCore(e,!this.reflectionMode)},e.prototype.visitActionCore=function(e,t){var n={name:e.getName(),inParameters:this.toJsons(e.header.inParameters.stmts),outParameters:e.header.outParameters,isPrivate:!!e.isPrivate,isTest:!!e.isTest(),isQuery:!!e.isQuery,isOffline:!!e.isOffline,isAsync:!e.isAtomic,description:e.getInlineHelp()||"",unused:!0!==e.visitorState};if(e.isPage()){if(n.nodeType="page",e.modelParameter&&(n.inParameters.unshift(this.toJson(e.modelParameter)),n.hasModelParameter=!0),t){var i=e.getPageBlock(!0);n.initBody=i,n.initBodyId=i.parent.stableId,i=e.getPageBlock(!1),n.displayBody=i,n.displayBodyId=i.parent.stableId}}else e.isEvent()?(n.nodeType="event",n.eventName=e.eventInfo.type.category,n.eventVariableId=this.ref(e.eventInfo.onVariable)):e.isActionTypeDef()?n.nodeType="actionType":n.nodeType="action",t&&(n.body=e.body);return n},e.prototype.visitGlobalDef=function(e){var t={name:e.getName(),comment:e.comment,type:e.getKind(),isReadonly:e.readonly,isTransient:e.isTransient,isCloudEnabled:e.cloudEnabled,value:e.stringResourceValue(),unused:!0!==e.visitorState};return e.isResource?(t.nodeType="art",t.url=e.url):t.nodeType="data",t},e.prototype.visitLibraryRef=function(r){var o=this;return{nodeType:"library",name:r.getName(),libIdentifier:r.getId(),libIsPublished:r.isPublished(),scriptName:r.resolved?r.resolved.getName():null,exportedTypes:r.getPublicKinds().map(function(e){return S.Lexer.quoteId(e.getName())}).join(" "),exportedTypeDefs:r.getPublicKinds().map(function(e,t){if(e instanceof S.LibraryRefAbstractKind)return{nodeType:"libAbstractType",name:e.getName(),id:r.stableId+"$tp"+t};if(e instanceof C.UserActionKind){var n=e.userAction;return(i=o.visitActionCore(n,!1)).nodeType="libActionType",o.fixupJson(n,i)}var i;if(e.getRecord())return(i=o.toJson(e.getRecord())).nodeType="libRecordType",i;C.Util.die()}),exportedActions:r.getPublicActions().map(function(e){var t=o.visitActionCore(e,!1);t.nodeType="libAction";var n=e.parentLibrary();return n&&n.isThis()&&(n=null),t.parentLibId=o.ref(n)||"",o.fixupJson(e,t)}),resolveClauses:r.resolveClauses}},e.prototype.visitRecordDef=function(e){return{nodeType:"record",name:e.getCoreName(),sourceName:e.getName(),comment:e.description,category:e.getDefTerminology(),isCloudEnabled:e.cloudEnabled,isCloudPartiallyEnabled:e.cloudPartiallyEnabled,isPersistent:e.persistent,isExported:e.isExported(),keys:e.keys,fields:e.values,unused:!0!==e.visitorState}},e.prototype.visitLocalDef=function(e){return{name:e.getName(),type:e.getKind(),isByRef:e.isByRef()}},e.prototype.visitApp=function(t){var i=this;t.stableId="app";var n={textVersion:S.App.currentVersion,jsonVersion:this.shortMode?e.shortVersion:e.version,name:t.getName(),comment:t.comment,icon:t.icon,color:t.color,iconArtId:t.iconArtId,spashArtId:t.splashArtId,autoIcon:C.SVG.justName(t.iconPath()),autoColor:t.htmlColor(),platform:t.getCapabilityString(),rootId:t.rootId};return S.App.metaMapping.forEach(function(e){n[e]=!!t[e]}),this.reflectionMode?n.decls=this.toJsons(t.actions().filter(function(e){return!e.isPrivate})):(n.decls=this.toJsons(t.things),n.deletedDecls=this.deletedDecls.map(function(e){var t={name:e.getName()};if(e instanceof S.LibraryRefAction){var n=e.parentLibrary();t.parentLibId=i.ref(n)}return i.fixupJson(e,t)})),n},e.prototype.visitKindBinding=function(e){return{nodeType:"typeBinding",name:e.formalName,isExplicit:e.isExplicit,type:e.actual}},e.prototype.visitActionBinding=function(e){var t=e.actual;return t&&t.parentLibrary()&&t.parentLibrary().deleted&&(t.deleted=!0),t||((t=new S.LibraryRefAction(e.actualLib)).deleted=!0,t.setName(e.actualName)),this.ref(t.parentLibrary()),{name:e.formalName,isExplicit:e.isExplicit,actionId:this.ref(t)}},e.prototype.visitResolveClause=function(e){return{name:e.name,defaultLibId:!e.defaultLib||e.defaultLib.isThis()?null:this.ref(e.defaultLib),withTypes:e.kindBindings,withActions:e.actionBindings}},e.prototype.visitRecordField=function(e){return{nodeType:e.isKey?"recordKey":"recordField",name:e.getName(),type:e.dataKind}},e.version="v0.1,resolved",e.shortVersion="v1.1,resolved,short",e}(S.NodeVisitor);function x(e){var i=S.idUrlUnquote;return e?e.split(" ").map(function(e){var t=e.slice(1);switch(e[0]){case",":return{nodeType:"operator",op:t};case"#":return{nodeType:"propertyRef",declId:t};case".":return{nodeType:"propertyRef",name:i(t)};case"'":return{nodeType:"stringLiteral",value:i(t)};case"F":case"T":return{nodeType:"booleanLiteral",value:"T"==e[0]};case"$":return{nodeType:"localRef",localId:t};case":":return{nodeType:"singletonRef",name:i(t)};case"?":var n=t.indexOf(":");return 0<n?{nodeType:"placeholder",type:i(t.slice(0,n)),name:i(t.slice(n+1))}:{nodeType:"placeholder",type:i(t)};default:throw new Error("wrong short form: "+e)}}):[]}e.shortToTokens=x,e.longToShort=function(e){var t=S.idUrlQuote;switch(e.nodeType){case"operator":return","+e.op;case"propertyRef":return void 0!==e.declId?"#"+e.declId:"."+t(e.name);case"stringLiteral":return"'"+t(e.value);case"booleanLiteral":return e.value?"T":"F";case"localRef":return"$"+e.localId;case"singletonRef":return":"+t(e.name);case"placeholder":return"?"+t(e.type)+(null!=e.name?":"+t(e.name):"");default:C.Util.oops("wrong "+e.nodeType)}},e.serialize=function(e,t){void 0===t&&(t=!1);var n,a=S.TokenWriter.forStorage(),i={},r=t;function s(e){e.nodeType||C.Util.oops("no node type"),n.hasOwnProperty(e.nodeType)?n[e.nodeType](e):C.Util.oops("unhandled nodeType: "+e.nodeType)}function o(e,t){"string"==typeof t&&(t={nodeType:"exprHolder",tokens:x(t)}),s(t)}function c(e){a.beginBlock();for(var t=function(e){return e&&"if"==e.nodeType&&e.isElseIf},n=0;n<e.length;++n){var i=e[n];if("if"==i.nodeType&&t(e[n+1])){var r=i;s(r);for(var o=0;a.keyword("else").op("{"),o++,t(e[n+1])&&(s(r=e[++n]),k(r.elseBody)););for(;0<o--;)a.op("}");a.nl()}else s(i)}a.endBlock()}function l(e){if(e.g)u(e.g),e.a&&(a.op0("["),e.a.forEach(function(e,t){0<t&&a.op(","),l(e)}),a.op0("]"));else if(e.o)if(e.l){var t=v(e.l);a.op(S.libSymbol).id(t.name).op("→").id(e.o)}else a.op0("*").id(e.o);else"string"==typeof e?a.id(e):C.Util.oops("bad kind: "+JSON.stringify(e))}function u(e){if("string"==typeof e){var t=e;"{"==t[0]||'"'==t[0]?l(JSON.parse(t)):a.id(t)}else l(e)}function d(e){function t(e){e.forEach(function(e,t){0<t&&a.op0(",").space(),h(e),a.id(e.name).op(":"),u(e.type)})}a.op0("("),t(e.inParameters),a.op0(")"),0<e.outParameters.length&&(a.keyword("returns").op0("("),t(e.outParameters),a.op0(")")),a.nl()}function p(e){t||a.uniqueId(e.id)}function h(e){r||a.uniqueId(e.id)}function m(e){p(e),a.keyword("event"==e.nodeType?"event":"action"),"libAction"!=e.nodeType&&"libActionType"!=e.nodeType||a.op(e.isAsync?"async":"sync"),"libActionType"!=e.nodeType&&"actionType"!=e.nodeType||a.op("type"),a.id(e.name),d(e)}function f(e){e.isPrivate&&a.keyword("meta").keyword("private").op0(";").nl(),"page"==e.nodeType&&a.keyword("meta").keyword("page").op0(";").nl(),e.isOffline&&a.keyword("meta").keyword("offline").op0(";").nl(),e.isQuery&&a.keyword("meta").keyword("query").op0(";").nl(),e.isTest&&a.keyword("meta").keyword("test").op0(";").nl(),e.isAsync||a.keyword("meta").keyword("sync").op0(";").nl()}function g(e){return a.op(S.libSymbol).id(e)}function v(e){var t=e;return i.hasOwnProperty(t)?i[t]:null}function y(e){var t=e.stringForm;return(!t||"number"==typeof e.value&&parseFloat(t)!==e.value)&&(t=C.Util.numberToStringNoE(e.value),/e/.test(t)&&C.Util.oops("too big of a number in flattening; sorry, not implemented yet")),t.split("")}function b(e){var a=[];function s(e){a.push({nodeType:"operator",id:"",op:e})}function c(e,t){switch(e.nodeType){case"call":!function(e,t){var n=0,i=S.api.getKind(e.parent||"");if(i){var r=i.getProperty(e.name||"");r&&(n=r.getInfixPriority()||0)}if(n){if("-"==e.name&&"numberLiteral"==e.args[0].nodeType&&0===e.args[0].value&&!e.args[0].stringForm)return s(e.name),c(e.args[1],98);if(n<t&&s("("),1==e.args.length)s(e.name),c(e.args[0],n);else{var o=4!=n&&98!=n;c(e.args[0],o?n:n+.1),s(e.name),c(e.args[1],o?n+.1:n)}n<t&&s(")")}else c(e.args[0],1e3),a.push({nodeType:"propertyRef",name:e.name,parent:e.parent,declId:e.declId}),1<e.args.length&&(s("("),e.args.slice(1).forEach(function(e,t){0<t&&s(","),c(e,-1)}),s(")"))}(e,t);break;case"numberLiteral":y(e).forEach(s);break;case"stringLiteral":case"booleanLiteral":case"localRef":case"placeholder":case"singletonRef":a.push(e);break;case"show":case"break":case"return":case"continue":s(e.nodeType);var n=e.expr;n&&c(n,t);break;default:C.Util.oops("invalid nodeType when flattning: "+e.nodeType)}}return c(e,-1),a}!function t(n){n&&(Array.isArray(n)?n.forEach(t):n.nodeType&&(n.id&&(i[n.id]=n),Object.keys(n).forEach(function(e){return t(n[e])})))}(e);var _=function(e){return e&&"operator"==e.nodeType&&/^[0-9\.]$/.test(e.op)};return n={stringLiteral:function(e){a.string(e.value)},booleanLiteral:function(e){a.id(e.value?"true":"false")},numberLiteral:function(e){y(e).forEach(function(e){return a.op(e)})},libAbstractType:function(e){a.keyword("type").sep().id(e.name).nl()},libActionType:function(e){m(e)},libRecordType:function(e){n.record(e)},actionType:function(e){n.action(e)},library:function(e){p(e),a.keyword("meta").id("import").id(e.name),a.beginBlock(),a.id(e.libIsPublished?"pub":"guid").string(e.libIdentifier).nl(),a.id("usage"),a.beginBlock(),(e.exportedTypeDefs||[]).forEach(s),e.exportedActions.forEach(m),a.nl(),a.endBlock(),e.resolveClauses.forEach(s),a.endBlock()},resolveClause:function(e){h(e),a.id("resolve").id(e.name).op("="),e.defaultLibId?g(v(e.defaultLibId).name):g("this"),a.id("with"),a.beginBlock(),e.withTypes.forEach(s),e.withActions.forEach(s),a.endBlock()},typeBinding:function(e){e.isExplicit&&(h(e),a.keyword("type").id(e.name).op("="),u(e.type))},actionBinding:function(e){if(e.isExplicit){h(e),a.keyword("action").id(e.name).op("=");var t=v(e.actionId);g(t.parentLibId?v(t.parentLibId).name:"this"),a.op("→").id(t.name).nl()}},record:function(e){p(e),a.keyword("table").id(e.name),a.beginBlock(),e.comment&&a.comment(e.comment),a.stringAttr("type",C.Util.capitalizeFirst(e.category)),a.boolOptAttr("cloudenabled",e.isCloudEnabled),a.boolOptAttr("cloudpartiallyenabled",e.isCloudPartiallyEnabled),a.boolOptAttr("exported",e.isExported),a.boolAttr("persistent",e.isPersistent),0<e.keys.length&&(a.id("keys"),c(e.keys)),0<e.fields.length&&(a.id("fields"),c(e.fields)),a.endBlock()},recordKey:function(e){n.recordField(e)},recordField:function(e){t||a.uniqueId(e.id),a.id(e.name).op(":"),u(e.type),a.nl()},data:function(e){n.art(e)},art:function(e){p(e),a.keyword("var").id(e.name).op(":"),u(e.type),a.beginBlock(),e.comment&&a.comment(e.comment),a.boolOptAttr("readonly",e.isReadonly),a.boolOptAttr("is_resource","art"==e.nodeType),a.boolOptAttr("transient",e.isTransient),a.boolOptAttr("cloudenabled",e.isCloudEnabled),e.url&&a.stringAttr("url",e.url),a.endBlock()},page:function(e){m(e),a.beginBlock(),r||a.uniqueId(e.initBodyId),a.keyword("if").id("box").op("->").id("is init").keyword("then"),c(e.initBody),r||a.uniqueId(e.displayBodyId),a.keyword("if").id("true").keyword("then"),c(e.displayBody),f(e),a.endBlock()},action:function(e){m(e),c(e.body),a.backspaceBlockEnd(),f(e),a.endBlock()},event:function(e){n.action(e)},localDef:function(e){C.Util.die()},app:function(t){t.hasIds||(r=!0),a.meta("version",S.App.currentVersion),a.meta("name",t.name),a.metaOpt("icon",t.icon),t.color&&a.metaOpt("color",/^#......$/.test(t.color)?"#ff"+t.color.slice(1):t.color),S.App.metaMapping.forEach(function(e){a.metaOpt(e,t[e]?"yes":"")}),a.meta("platform",t.platform),a.meta("rootId",t.rootId),t.comment&&a.comment(t.comment),t.decls.forEach(s)},comment:function(e){h(e),a.comment(e.text)},for:function(e){h(e);var t=e.index||e.locals[0];a.keyword("for").op("0").op("≤").id(t.name).op("<"),o(0,e.bound),a.keyword("do"),c(e.body)},foreach:function(e){h(e);var t=e.iterator||e.locals[0];a.keyword("foreach").id(t.name).keyword("in"),o(0,e.collection),a.nl(),e.conditions.forEach(s),a.keyword("do"),c(e.body)},where:function(e){h(e),a.keyword("where"),o(0,e.condition),a.nl()},while:function(e){h(e),a.keyword("while"),o(0,e.condition),a.keyword("do"),c(e.body)},if:function(e){h(e),a.keyword("if"),o(0,e.condition),a.keyword("then"),c(e.thenBody),k(e.elseBody)||(a.keyword("else"),c(e.elseBody))},boxed:function(e){h(e),a.keyword("do").id("box"),c(e.body)},exprStmt:function(e){h(e),w(e.expr)?a.keyword("skip"):o(0,e.expr),a.op0(";").nl()},inlineActions:function(e){n.exprStmt(e),e.actions.forEach(s)},inlineAction:function(e){var t=e.reference||e.locals[0];h(e),a.keyword("where"),e.isImplicit&&a.op("implicit"),e.isOptional&&a.op("optional"),a.id(t.name),d(e),c(e.body)},optionalParameter:function(e){h(e),a.keyword("where").id(e.declId?v(e.declId).name:e.name).op(":="),o(0,e.expr),a.op0(";").nl()},exprHolder:function(e){if(e.tree&&!e.tokens&&(e.tokens=b(e.tree)),0==e.tokens.length)a.op("...");else{var t=null;e.tokens.forEach(function(e){_(e)?(_(t)||a.sep(),a.op0(e.op)):s(e),t=e})}},operator:function(e){a.op(e.op)},propertyRef:function(e){if(e.declId){var t=v(e.declId);if(t){var n=t.category||"object",i=t.name;if("decorator"==n&&t.keys[0]){var r=t.keys[0].type;if("{"==r[0]){var o=JSON.parse(r);o.o?r=o.o:C.Util.oops("complex decorator: "+r)}i=r+" decorator"}else"object"!=n&&(i=i+" "+n);return void a.sep().op0("→").id0(i)}}a.sep().op0("→").id0(null==e.name?"<unbound>":e.name)},singletonRef:function(e){a.id(e.name),e.libraryName&&a.op0("[").id("lib").id(e.libraryName).op0("]")},localRef:function(e){a.sep().op0("$"),e.localId?a.id0(v(e.localId).name):a.id0(e.name)},placeholder:function(e){a.id(S.ThingRef.placeholderPrefix+e.type+(e.name?":"+e.name:""))},call:function(e){C.Util.die()}},s(e),a.finalize()},e.reflectionInfo=function(e){var n=new o(!1);n.reflectionMode=!0;var i=[];return e.librariesAndThis().map(function(e){if(e.resolved){var t=n.toJson(e.resolved);t.libraryName=e.getName(),t.libraryId=e.getStableName(),i.push(t)}}),i}})((S=C.AST||(C.AST={})).Json||(S.Json={}))}(TDev||(TDev={})),function(s){var c,e;c=s.AST||(s.AST={}),e=function(a){function o(){a.apply(this,arguments),this.features={script:1},this.stmtCount=0,this.includeCaps=!1,this.anonBrowser=!0}return __extends(o,a),o.prototype.use=function(e){if(e){var t=this.features[e]||0;this.features[e]=t+1}},o.prototype.visitAstNode=function(e){a.prototype.visitChildren.call(this,e)},o.prototype.visitExprHolder=function(e){a.prototype.visitExprHolder.call(this,e),e.parsed&&this.dispatch(e.parsed)},o.prototype.visitCall=function(e){var t=this;a.prototype.visitCall.call(this,e);var n=e.prop();if(this.libroots){var i=e.calledExtensionAction();if(i||(i=e.calledAction()),i instanceof c.LibraryRefAction){var r=this.libroots(i.parentLibrary().getId());r&&this.use("l:"+r+":"+i.getName())}}if(e.referencedRecordField()||e.referencedData()||e.calledExtensionAction());else if(n.forwardsTo()||n.forwardsToStmt());else if(n==c.api.core.AssignmentProp)this.use("assignment");else if(n==c.api.core.TupleProp);else if(n.parentKind instanceof c.RecordEntryKind||n.parentKind instanceof c.RecordDefKind);else if(n){this.use(n.helpTopic()),n.parentKind&&this.use(n.parentKind.helpTopic());var o=n.getCapability();-524290&o&&(this.anonBrowser=!1),this.includeCaps&&o&&c.App.capabilityString(n.getCapability()).split(/,/).forEach(function(e){t.use(s.Util.tagify("cap "+e))})}},o.prototype.visitWhere=function(e){a.prototype.visitStmt.call(this,e),1<e.condition.tokens.length&&this.use("where")},o.prototype.visitStmt=function(e){a.prototype.visitStmt.call(this,e),e instanceof c.Block||e instanceof c.ActionHeader||(e.isPlaceholder()||this.stmtCount++,this.use(e.helpTopic()))},o.prototype.visitDecl=function(e){a.prototype.visitChildren.call(this,e),this.use(e.helpTopic())},o.prototype.visitApp=function(e){a.prototype.visitApp.call(this,e),e.isLibrary&&this.use("library"),e.useCppCompiler&&this.use("cppCompiler"),e.isCloud&&this.use("cloud"),this.includeCaps&&this.anonBrowser&&this.use("anonBrowser")},o.bucketId=function(e){var t=s.Util.clone(e);delete t.assignment,delete t.commands,delete t.var;var n=Object.keys(t);return n.sort(s.Util.stringCompare),n.map(function(e){return e+":"+t[e]}).join(",")},o.astInfo=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=new o;i.libroots=t,n||(n={}),s.Runtime.stringToBoolean(n.caps)&&(i.includeCaps=!0),i.dispatch(e);var r=o.bucketId(i.features);return i.features.anystmt=i.stmtCount,i.features.anycode=e.allActions().length,{features:i.features,bucketId:r}},o}(c.NodeVisitor),c.FeatureDetector=e}(TDev||(TDev={})),function(N){var D;(function(l){var b=function(n){function e(){n.apply(this,arguments),this.definedLocals={},this.keep=!1}return __extends(e,n),e.prototype.makeId=function(e){return this.keep&&e?this.lastId=e:this.lastId=D.uniqueAstId(16)},e.prototype.visitLocalDef=function(e){},e.prototype.setDeclId=function(e){e instanceof D.RecordDef&&e.getStableName()&&!/_/.test(e.getStableName())?e.stableId=e.getStableName():this.keep&&e.stableId||(e.stableId=this.makeId(e.stableId))},e.prototype.visitDecl=function(e){this.setDeclId(e),this.visitChildren(e)},e.prototype.visitLibraryRef=function(e){var t=this;e.getPublicActions().forEach(function(e){t.visitAction(e)}),n.prototype.visitLibraryRef.call(this,e)},e.prototype.visitExprHolder=function(e){var i=this,r=[];e.tokens.forEach(function(e){var t=e.getThing();if(t instanceof D.LocalDef){var n=t;N.Util.assert(!!n.stableId),r.indexOf(n)<0&&!i.definedLocals.hasOwnProperty(n.stableId)&&r.push(n)}}),(e.definedLocals=r).forEach(function(e,t){return i.defineLocal(e,i.lastId+"L"+t)}),this.makeId(null)},e.prototype.visitStmt=function(e){e.stableId=this.makeId(e.stableId),this.visitChildren(e)},e.prototype.visitInlineActions=function(e){e.stableId=this.makeId(e.stableId),this.dispatch(e.actions),this.dispatch(e.expr)},e.prototype.visitInlineAction=function(n){var i=this;n.stableId=this.makeId(n.stableId),this.defineLocal(n.name,n.stableId+"B0"),n.inParameters.concat(n.outParameters).forEach(function(e,t){i.defineLocal(e,n.stableId+"P"+t)}),this.visitChildren(n)},e.prototype.visitForeach=function(e){e.stableId=this.makeId(e.stableId),this.defineLocal(e.boundLocal,e.stableId+"B0"),this.visitChildren(e)},e.prototype.visitFor=function(e){e.stableId=this.makeId(e.stableId),this.defineLocal(e.boundLocal,e.stableId+"B0"),this.visitChildren(e)},e.prototype.defineLocal=function(e,t){this.definedLocals[t]=!0,e.stableId=t},e.prototype.visitAction=function(n){var i=this;this.setDeclId(n),this.definedLocals={},n.getInParameters().concat(n.getOutParameters()).forEach(function(e,t){i.defineLocal(e.local,n.stableId+"P"+t)}),n.modelParameter&&this.defineLocal(n.modelParameter.local,n.stableId+"PM"),n.allLocals.forEach(function(e){e.stableId||(e.stableId=i.makeId(null))}),this.visitChildren(n)},e.prototype.visitRecordField=function(e){e.stableId=!e.getStableName()||/_/.test(e.getStableName())?this.makeId(e.stableId):e.getStableName(),this.visitChildren(e)},e}(D.NodeVisitor),_=function(o){function a(e){o.call(this),this.options=e}return __extends(a,o),a.approxName=function(e){return e.toLowerCase().replace(/\s/g,"")},a.prototype.visitThingRef=function(e){o.prototype.visitThingRef.call(this,e),e.def instanceof D.LocalDef?this.use("local:"+e.def.getName()):e.def instanceof D.SingletonDef&&this.use("singl:"+e.def.getName())},a.prototype.visitLiteral=function(e){o.prototype.visitLiteral.call(this,e);var t=e.data;switch(typeof t){case"string":this.use("stringLiteral:"+t);var n=t.length;this.use("stringLiteralLen10:"+Math.round(n/10)),this.use("stringLiteralLen100:"+Math.round(n/100));break;case"number":this.use("numberLiteral:"+t.toString());break;case"boolean":this.use(t?"true":"false")}},a.prototype.visitCall=function(e){o.prototype.visitCall.call(this,e);var t=e.calledExtensionAction();if(t||(t=e.calledAction()),t instanceof D.LibraryRefAction)this.use("libact:"+t.getName());else{var n=e.referencedRecordField();if(n)this.options.approxNameMatching?this.use("decl:"+a.approxName(n.getName())):this.use("decl:"+n.stableId);else{var i=e.prop();(i.parentKind instanceof D.RecordEntryKind||i.parentKind instanceof D.RecordDefKind)&&this.use("recordProp:"+i.getName());var r=e.prop().forwardsTo();r&&(this.options.approxNameMatching?this.use("decl:"+a.approxName(r.getName())):this.use("decl:"+r.stableId))}}},a.prototype.visitOperator=function(e){this.use("op:"+e.data)},a.prototype.visitComment=function(e){var t=this;e.text.split(/\s+/).forEach(function(e){t.use("commentWord:"+e)})},a.prototype.kind=function(e){return e.toString()},a.prototype.visitRecordField=function(e){o.prototype.visitRecordField.call(this,e),this.use("recordFieldName:"+e.getName()),this.use("recordFieldKind:"+this.kind(e.dataKind))},a.run=function(e,t){var n=new a(t);n.dispatch(e);var i=n.features;return Object.keys(i).forEach(function(e){(/^numberLiteral:/.test(e)||/^op:[0-9]/.test(e))&&(i[e]=.2*i[e])}),t.tutorialMode&&i.var&&(i.commands=i.var,i.var=0),i},a.cmp=function(e,t){for(var n=Object.keys(e),i=0,r=0,o=0;o<n.length;++o){var a=e[c=n[o]],s=0;t.hasOwnProperty(c)&&(s=t[c],i+=Math.min(a,s)),r+=Math.abs(a-s)}for(n=Object.keys(t),o=0;o<n.length;++o){var c=n[o];e.hasOwnProperty(c)||(r+=t[c])}return i-r/2},a.updateSize=function(e,t,n){for(var i=Object.keys(e),r=0,o=0;o<i.length;++o){var a=e[c=i[o]],s=0;t.hasOwnProperty(c)&&(s=t[c],Math.min(a,s)),r+=Math.abs(a-s)}for(i=Object.keys(t),o=0;o<i.length;++o){var c=i[o];e.hasOwnProperty(c)||(r+=t[c])}return r},a}(D.FeatureDetector);function w(e){var t=e.nodeType();switch(t){case"action":var n=e;if(n.isEvent())return"event:"+n.eventInfo.type.category;if(n.isPage())return"page";break;case"globalDef":return e.isResource?"art":"data"}return t}function k(e,t){if(e.stableId=t,e instanceof D.RecordField){var n=e;n.def().persistent||n.setStableName(t)}else e instanceof D.RecordDef&&(e.persistent||e.setStableName(t))}function x(e,t,n){if(t&&e&&w(t)==w(e))if(e instanceof D.Block)!function(e,n,o){if(0!=e.length||0!=n.length){e.forEach(function(e){e.diffFeatures=_.run(e,o)}),n.forEach(function(e,t){e.diffFeatures=_.run(e,o),o.tutorialMode?e.diffFeatures.positionWeight=(n.length-t)/n.length*.5:e.diffFeatures.positionWeight=0});for(var a=function(e){return e?e.diffFeatures:{}},t=h(e,n,null,function(e,t){var n=0;!e||!t||w(e)==w(t)||o.placeholderOk&&e.isPlaceholder()||(n=1e20);var i=a(e),r=a(t);return e||(n+=r.positionWeight),_.updateSize(i,r,o.tutorialMode)+n}),i=-1,r=0;r<t.length;r+=2)t[r]?(t[r].isPlaceholder()&&-1!=i&&(t[i]=t[r],t[r]=null,i=-1),t[r+1]&&(i=-1)):-1==i&&(i=r);for(r=0;r<t.length;r+=2)t[r]&&t[r+1]&&k(t[r+1],t[r].stableId);var s=N.Util.toDictionary(e,function(e){return e.stableId});n.forEach(function(e){var t=s[e.stableId];t&&x(t,e,o)})}}(e.stmts,t.stmts,n);else{k(t,e.stableId);var i=e.children(),r=t.children();if(i.forEach(function(e,t){e instanceof D.Stmt&&r[t]instanceof D.Stmt&&x(e,r[t],n)}),e instanceof D.LibraryRef){var o=N.Util.toDictionary(e.getPublicActions(),function(e){return e.getName()});t.getPublicActions().forEach(function(e){var t=o[e.getName()];t&&k(e,t.stableId)})}}}function i(e){(new b).dispatch(e)}function s(e){e.isTopLevel=!0,D.TypeChecker.tcScript(e,!0),i(e)}function c(e,t,n){var i,r,o,a,s,c,l,u,d,p,h,m,f,g,v;i=e,r=t,o=n,a=N.Util.toDictionary(i.things,function(e){return e.getStableName()}),s=N.Util.toDictionary(i.things,function(e){return e.getName()}),c={},l=r.things.filter(function(e){var t=null;return o.useStableNames&&e.getStableName()&&!r.syntheticIds[e.getStableName()]&&a.hasOwnProperty(e.getStableName())&&(t=a[e.getStableName()]),!t&&s.hasOwnProperty(e.getName())&&(t=s[e.getName()]),!t||w(t)!=w(e)||(k(e,t.stableId),c[t.stableId]=!0,delete s[e.getName()],!1)}),u=N.Util.groupBy(i.things.filter(function(e){return!c[e.stableId]}),w),d=N.Util.groupBy(l,w),p=N.Util.memoizeHashed(function(e){return e.stableId},function(e){return _.run(e,o)}),Object.keys(d).forEach(function(e){var t=d[e],r=u[e];if(r){var o=[];t.forEach(function(n){var i=p(n);r.forEach(function(e){var t=_.cmp(p(e),i);0<t&&o.push({score:t,n:n,o:e})})}),o.sort(function(e,t){return t.score-e.score}),o.forEach(function(e){c[e.o.stableId]||c[e.n.stableId]||(k(e.n,e.o.stableId),c[e.o.stableId]=!0)})}}),h=e,m=t,f=n,g=N.Util.toDictionary(h.things,function(e){return e.stableId}),v=[],m.things.forEach(function(e){e.diffAltDecl=null;var t=g[e.stableId];t&&(e.diffAltDecl=t,v.push(e))}),v.forEach(function(e){e instanceof D.Action||x(e.diffAltDecl,e,f)}),v.forEach(function(e){e instanceof D.Action&&x(e.diffAltDecl,e,f)});var y=new b;y.keep=!0,y.dispatch(t)}function t(e,t){var n=u(e.toUpperCase().split(""),t.toLowerCase().split(""),function(e,t){return e.toUpperCase()==t.toUpperCase()}),i=function(){for(var e="",t=0;t<n.length;t+=2)n[t]&&n[t+1]?e+="="+n[t]+n[t+1]:n[t]?e+="-"+n[t]:e+="+"+n[t+1];return e};i(),n=h(e.toUpperCase().split(""),t.toLowerCase().split(""),"",function(e,t){return""==e||""==t?1:e.toLowerCase()==t.toLowerCase()?0:2}),i()}function u(e,t,n){for(var i=e.length,r=t.length,o=new Array(i+1),a=0;a<=i;++a)o[a]=new Array(r+1),o[a][0]=a;for(var s=0;s<=r;++s)o[0][s]=s;for(s=0;s<r;++s)for(a=0;a<i;++a)if(n(e[a],t[s]))o[a+1][s+1]=o[a][s];else{var c=o[a][s+1]+1,l=o[a+1][s]+1,u=o[a][s]+2;o[a+1][s+1]=Math.min(c,l,u)}for(var d=[],p=(a=i-1,s=r-1,!1);0<=a||0<=s;){var h=o[a+1][s+1];if(0<=a&&0<=s&&n(e[a],t[s])&&h==o[a][s])d.push(t[s]),d.push(e[a]),a--,s--;else{var m=0<=a&&h==o[a][s+1]+1,f=0<=s&&h==o[a+1][s]+1;m&&p&&(f=!1),f&&!p&&(m=!1),m?(d.push(null),d.push(e[a]),a--,p=!0):f?(d.push(t[s]),d.push(null),s--,p=!1):(N.Util.assert(h==o[a][s]+2),d.push(t[s]),d.push(null),d.push(null),d.push(e[a]),a--,s--,p=!0)}}return d.reverse(),d}function h(e,t,n,i){for(var r=e.length,o=t.length,a=new Array(r+1),s=e.map(function(e){return i(e,n)}),c=t.map(function(e){return i(n,e)}),l=0;l<=r;++l)a[l]=new Array(o+1),a[l][0]=0==l?0:a[l-1][0]+s[l-1];for(var u=0;u<=o;++u)a[0][u]=0==u?0:a[0][u-1]+c[u-1];for(u=0;u<o;++u)for(l=0;l<r;++l){var d=a[l][u+1]+s[l],p=a[l+1][u]+c[u],h=a[l][u]+i(e[l],t[u]);a[l][u],s[l],c[u],a[l+1][u+1]=Math.min(d,p,h)}for(var m=[],f=(l=r-1,u=o-1,!1);0<=l||0<=u;){var g=a[l+1][u+1];if(0<=l&&0<=u&&g==a[l][u]+i(e[l],t[u]))m.push(t[u]),m.push(e[l]),l--,u--;else{var v=0<=l&&g==a[l][u+1]+s[l],y=0<=u&&g==a[l+1][u]+c[u];v&&f&&(y=!1),y&&!f&&(v=!1),v?(m.push(null),m.push(e[l]),l--,f=!0):y?(m.push(t[u]),m.push(null),u--,f=!1):(N.Util.assert(g==a[l][u]+s[l]+c[u]),m.push(t[u]),m.push(null),m.push(null),m.push(e[l]),l--,u--,f=!0)}}return m.reverse(),m}function d(e,t){return e.stableId&&e.stableId==t.stableId}function p(e){e&&(e.diffAltStmt=null,e.diffStatus=void 0,e.diffStmts=null)}function m(e,t){e.diffStmts||(e.diffStmts=[]),e.diffStmts.push(t)}function f(e){return e instanceof D.GlobalDef&&e.isResource}function g(e){function t(e){return Math.min(e.getText().length,5)+1}for(var n=e.diffTokens,i=0,r=0,o=0;o<n.length;o+=2)n[o]&&n[o+1]?i+=t(n[o]):n[o]?r+=t(n[o]):r+=t(n[o+1]);return r?r/(r+i):0}function v(e,d,p,t){function n(e,t){if(!t)return 1;if(!e)return/^[0-9\.]$/.test(t.getText()),1+.1/(d.tokens.indexOf(t)+2);if(e.nodeType()!=t.nodeType())return 3;if(p.approxNameMatching){var n=p.tutorialCustomizations,i=e.getForwardedDecl(),r=t.getForwardedDecl();if(f(i)&&f(r)&&i.getKind()==r.getKind())return n.artMapping[r.getName()]=i.getName(),0;var o=e.getProperty(),a=t.getProperty();if(o&&a){var s=o.parentKind,c=a.parentKind;if(s&&s==c&&"Colors"==s.getName()&&/#[a-fA-F0-9]{6}/.test(o.getDescription(!0))&&/#[a-fA-F0-9]{6}/.test(a.getDescription(!0)))return 0}var l=e.getLiteral(),u=t.getLiteral();if(!(t instanceof D.FieldName)&&"string"==typeof l&&"string"==typeof u){if(null!=t.enumVal||p.preciseStrings&&p.preciseStrings[u])return l==u?0:3;if(""==l&&""==u)return 0;if(""!=l&&""!=u)return n&&(n.stringMapping[u]=l),0}}return e.getText()==t.getText()?0:3}void 0===t&&(t=void 0),d.diffTokens=h(e.tokens,d.tokens,null,t?t(n):n)}function y(e,t,o){var i={},r={};function a(e,t){if(t instanceof D.Decl);else if(t instanceof D.Stmt)p(e[t.stableId]=t);else{if(!(t instanceof D.ExprHolder))return;t.diffTokens=null}for(var n=t.children(),i=0;i<n.length;++i)a(e,n[i])}function s(e,t){(t.diffAltStmt=e).diffAltStmt=t,N.Util.assert(e.nodeType()==t.nodeType());var n=e.children(),i=t.children();N.Util.assert(n.length==i.length);for(var r=0;r<n.length;++r)if(N.Util.assert(n[r].nodeType()==i[r].nodeType()),n[r]instanceof D.ExprHolder){if(v(n[r],i[r],o),!o.tutorialMode&&1==n.length&&t instanceof D.ExprStmt&&.5<g(i[r]))return!1}else n[r]instanceof D.Block?c(n[r],i[r]):n[r]instanceof D.Stmt?s(n[r],i[r]):N.Util.oops("wrong node type in diff "+n[r].nodeType());return!0}function c(e,t){var n=u(e.stmts,t.stmts,d),i=null;p(t);for(var r=0;r<n.length;r+=2){var o=n[r],a=n[r+1];o&&a?o.isPlaceholder()&&o.nodeType()!=a.nodeType()?(a.diffStatus=1,o.diffStatus=-1,m(a,o)):s(o,a)?(a.diffStatus=0,o.diffStatus=0):(a.diffAltStmt=null,o.diffAltStmt=null,a.diffStatus=2,o.diffStatus=-1,a.calcNode().diffTokens=null,m(a,o)):a?a.diffStatus=1:(o.diffStatus=-1,m(i||t,o)),a&&(i=a)}}a(i,e),a(r,t),s(e,t);var n=2;Object.keys(r).forEach(function(e){var t=r[e];if(2!=t.diffStatus){if(!t.diffAltStmt){var n=i[e];n?(n.diffStatus=-1,t.diffStatus=1,n.nodeType()==t.nodeType()&&s(n,t)):t.diffStatus=1}}else t.diffStatus=1}),Object.keys(i).forEach(function(e){var t=i[e];t.diffAltStmt&&-1==t.diffStatus&&(t.diffStatus=-n,n++),void 0===t.diffStatus&&(t.diffStatus=-1)})}function C(e,n,i){var t,r,o;void 0===i&&(i={}),r=n,o=i,s(t=e),s(r),c(t,r,o);var a=N.Util.toDictionary(e.things,function(e){return e.stableId});n.things.forEach(function(e){var t=a[e.stableId];t?(delete a[e.stableId],e.diffStatus=0,y(t,e,i)):D.visitStmts(e,function(e){return e.diffStatus=1})}),n.diffRemovedThings=[],Object.keys(a).forEach(function(e){var t=a[e];n.diffRemovedThings.push(t),D.visitStmts(t,function(e){return e.diffStatus=-1})})}function S(e){var r={};return function e(t){if(t)if(Array.isArray(t))for(var n=0;n<t.length;++n)e(t[n]);else if("object"==typeof t){t.id||N.Util.oops("no id for "+JSON.stringify(t)),r.hasOwnProperty(t.id)&&N.Util.oops("duplicate id "+t.id),r[t.id]=t;var i=Object.keys(t);for(n=0;n<i.length;++n)e(t[i[n]])}}(e),r}function A(e,t){var s=S(e),c={};function l(e,t){for(var n=0;n<e.length;++n)e[n].id&&i(e[n]);if(!t||e.length!=t.length)return!0;for(n=0;n<e.length;++n)if((t[n].id||t[n])!==(e[n].id||e[n]))return!0;return!1}function i(e){var t;e.id||N.Util.oops("no id on new "+JSON.stringify(e)),s.hasOwnProperty(e.id)?((t=s[e.id])||N.Util.oops("duplicate new id "+e.id),s[e.id]=null):t={id:e.id};for(var n={},i=Object.keys(e),r=0;r<i.length;++r){var o=e[i[r]];if(void 0!==o){var a=t[i[r]];switch(a&&a.id&&(a=a.id),typeof o){case"string":case"number":case"boolean":a!==o&&(n[i[r]]=o);break;default:Array.isArray(o)?l(o,a)&&(n[i[r]]=o.map(function(e){return e.id||e})):null===o?a!==o&&(n[i[r]]=o):N.Util.oops("cannot compare "+JSON.stringify(o))}}}for(i=Object.keys(t),r=0;r<i.length;++r)void 0===e[i[r]]&&void 0!==t[i[r]]&&(n[i[r]]=null);0<Object.keys(n).length&&(c[e.id]=n)}i(t);for(var n=Object.keys(s),r=0;r<n.length;++r){var o=s[n[r]];o&&(c[o.id]=null)}return c}function T(e,t){for(var n=S(e),i=Object.keys(t),r=0;r<i.length;++r){var o=t[p=i[r]];if(void 0!==o){var a=n[p];if(null!==o){a||(n[p]=a={id:p});for(var s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];Array.isArray(u)&&"string"==typeof u[0]&&(u=u.map(function(e){var t=n[e];return t||(t=n[e]={id:e}),t})),N.Util.assert("nodeType"!=l||!a[l]),a[l]=u}}else a||N.Util.oops("apply diff: no target id "+p),a.__deleted=!0}}var d=S(e);for(i=Object.keys(d),r=0;r<i.length;++r){var p=i[r];d[i[r]].__deleted&&N.Util.oops("dangling id after diff "+p)}}function L(e,t){for(var n=u(e.split(/\r?\n/),t.split(/\r?\n/),function(e,t){return e==t}),i="",r=0;r<n.length;r+=2)null!=n[r]&&null!=n[r+1]?i+=" "+n[r]:null!=n[r]?i+="-"+n[r]:i+="+"+n[r+1],i+="\n";return i}l.setLongIds=i,l.randTest=function(){for(var e=0;e<10;++e)t(N.Random.uint32()+"",N.Random.uint32()+"")},l.medTest=t,l.minimalEditDistance=u,l.minimalUpdateDistance=h,l.diffSize=function(e){var c=0;return function e(t,n){if(t instanceof D.Block);else if(t instanceof D.Decl);else{if(!(t instanceof D.Stmt)){if(t instanceof D.ExprHolder){var i=t;if(n)c+=2*i.tokens.length;else if(i.diffTokens)for(var r=i.diffTokens,o=0;o<r.length;o+=2)null==r[o]&&(c+=1),null==r[o+1]&&(c+=.1);return}return}var a=t.diffStatus;if(a<0)return void(c+=2);0<a&&(c+=1,n=!0)}var s=t.children();for(o=0;o<s.length;++o)e(s[o],n)}(e,!1),c},l.diffExprs=v,l.templateDiff=function(e,t,n){i(e),i(t),x(e,t,n),y(e,t,n)},l.diffApps=C,l.jsonDiff=A,l.lastSeqNo=0,l.computeMicroEdits=function(e){function t(e){var t=D.Parser.parseScript(e,[]);return s(t),t}e.forEach(function(e){e.updateSize=0}),l.lastSeqNo=e[0].seqNo;var n=t(e[0].script),i=D.Json.dumpForDiff(n);e[0].ast=i;for(var r=1;r<e.length;++r){l.lastSeqNo=e[r].seqNo;var o=t(e[r].script);c(n,o,{});var a=D.Json.dumpForDiff(o);e[r].updates=A(i,a),i=a,n=o,D.reset(),o.things.forEach(function(e){return e.diffAltDecl=null}),o.diffAltDecl=null}e.forEach(function(e){e.updateSize=JSON.stringify(e.ast||e.updates).length})},l.applyJsonDiff=T,l.lineDiff=L,l.sanityCheckEdits=function(e){var s=null;function c(e){var t=D.Parser.parseScript(e,[]);return t.isTopLevel=!0,D.TypeChecker.tcScript(t,!0),t.rootId="none",D.App.sanitizeScriptTextForCloud(t.serialize())}e.forEach(function(e){l.lastSeqNo=e.seqNo,e.ast?s=JSON.parse(JSON.stringify(e.ast)):T(s,e.updates);var t=JSON.stringify(s),n=e.script,i=D.Json.serialize(s);D.reset();var r=c(n),o=c(i);if(r!=o){if(r.split(/\n/).length<250)var a=L(r,o);N.Util.oops("mismatch!",[a||"<too big>",r,o])}JSON.stringify(s)!=t&&N.Util.oops("serialize modified json",[JSON.stringify(s),t]),delete e.script})},l.scrub=function(e){function s(e,t){if(e&&"object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;++n)s(e[n],t);else{var i=Object.keys(e);for(n=0;n<i.length;++n){var r=i[n],o=e[r],a=t(r,o);o!==a&&(e[r]=a),"object"==typeof a&&s(a,t)}}}function o(e){return"condition"==e||"expr"==e||"bound"==e||"collection"==e}function a(e){return e.toLowerCase().replace(/[ \r\n\t]/g,"")}var c={};["Touch Develop is cool!","tap to create bubbles","hello","hello world","hello world!"].forEach(function(e){c[a(e)]=1});var l=0,u={};e.forEach(function(e){e.scriptId&&s([e.ast,e.updates],function(e,t){return o(e)&&D.Json.shortToTokens(t).forEach(function(e){"stringLiteral"===e.nodeType&&(c[a(e.value)]=1)}),t})}),e.forEach(function(e){s([e.ast,e.updates],function(e,t){if(o(e)){var n=D.Json.shortToTokens(t),i=0;n.forEach(function(e){"stringLiteral"===e.nodeType&&3<e.value.length&&!c.hasOwnProperty(a(e.value))&&(u.hasOwnProperty(e.value)||(u[e.value]="scrub"+l++),e.value=u[e.value],i++)});var r=n.map(D.Json.longToShort).join(" ");return N.Util.assert(0<i||t==r),r}return t})})};var M=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visitStmt=function(e){e.diffAltStmt&&!e.getStableName()&&e.setStableName(e.diffAltStmt.getStableName()),this.visitChildren(e)},t}(D.NodeVisitor),E=function(e){function n(){e.apply(this,arguments),this.stats={numStmts:0,numMatched:0,numAdd:0,numDel:0,numChanged:0,totalChangedRatio:0,numHighlyChanged:0,numArtChanges:0,numNumberChanges:0,numStringChanges:0,numCommentChanges:0,numOtherChanges:0}}return __extends(n,e),n.prototype.visitBlock=function(e){this.visitChildren(e)},n.prototype.processDiffTokens=function(e){for(var t=0,n=0,i=0,r=0,o=!1,a=0;a<e.length;a+=2)if(e[a]&&e[a+1])o=e[a]instanceof D.ThingRef&&"art"==e[a].data;else{var s=e[a]||e[a+1];s instanceof D.Literal&&"string"==typeof s.data?t++:s instanceof D.Operator&&/^[0-9\.]$/.test(s.data)?n++:o&&s instanceof D.PropertyRef?r++:i++}var c=this.stats;c.numArtChanges+=r,c.numStringChanges+=t,n&&c.numNumberChanges++,i&&c.numOtherChanges++},n.prototype.visitStmt=function(e){var t=this.stats;e.diffAltStmt?(t.numMatched++,e instanceof D.GlobalDef&&e.isResource&&e.diffAltStmt.url!=e.url&&t.numArtChanges++):(e.diffStatus<0?t.numDel++:0<e.diffStatus&&t.numAdd++,0<e.diffStatus&&(e instanceof D.GlobalDef&&e.isResource?t.numArtChanges++:t.numOtherChanges++)),t.numStmts++,e.diffAltStmt&&e instanceof D.Comment&&e.text!=e.diffAltStmt.text&&(t.numMatched--,t.numAdd++,t.numDel++,t.numCommentChanges++);var n=e.calcNode();if(n&&n.diffTokens){t.numChanged++;var i=g(n);t.totalChangedRatio+=i,.5<i&&t.numHighlyChanged++,e.diffAltStmt&&this.processDiffTokens(n.diffTokens)}this.visitChildren(e)},n.run=function(e){var t=new n;return t.dispatch(e),t.stats},n}(D.NodeVisitor);l.DiffStat=E,l.assignIds=function(e,t){function n(e){var t=D.Parser.parseScript(e,[]);return t.isTopLevel=!0,D.TypeChecker.tcScript(t,!0),t}var i=n(e),r=n(t);new D.InitIdVisitor(!1).dispatch(i),C(i,r,{useStableNames:!0});var o={oldApp:E.run(i),newApp:E.run(r)};(new M).dispatch(r),new D.InitIdVisitor(!1).dispatch(r),e&&(r.rootId=i.rootId),r.hasIds=!0;var a=r.serialize(),s=n(a);return new D.InitIdVisitor(!1).expectSet(s),{text:a,info:o}}})((D=N.AST||(N.AST={})).Diff||(D.Diff={}))}(TDev||(TDev={})),function(E){!function(T){var L=function(e){function t(){e.apply(this,arguments),this.calledActions={}}return __extends(t,e),t.prototype.visitAstNode=function(e){this.visitChildren(e)},t.prototype.visitExprHolder=function(n){var i=this;n.tokens.forEach(function(e,t){"code"==e.getText()&&n.tokens[t+1]instanceof T.PropertyRef&&(i.calledActions[n.tokens[t+1].getText()]=!0)})},t}(T.NodeVisitor),c=function(n){function e(){n.apply(this,arguments),this.usedDecls={}}return __extends(e,n),e.prototype.use=function(e){e&&(this.usedDecls.hasOwnProperty(e.getCoreName())||(this.usedDecls[e.getCoreName()]=e,this.dispatch(e)))},e.prototype.useKind=function(e){this.use(e.getRecord())},e.prototype.visitRecordField=function(e){this.useKind(e.dataKind),n.prototype.visitRecordField.call(this,e)},e.prototype.visitActionParameter=function(e){this.useKind(e.getKind()),n.prototype.visitActionParameter.call(this,e)},e.prototype.visitCall=function(e){var t=e.calledExtensionAction()||e.calledAction();t&&t.parentLibrary().isThis()?this.use(t):(this.use(e.referencedRecord()),this.use(e.referencedData()),this.use(e.referencedLibrary())),n.prototype.visitCall.call(this,e)},e}(T.ExprVisitor);function M(e){return e.replace(/^#(S\.)?\d+(\.\d+)?\s*/,"")}T.followingTutorial=!1;var e=function(){function A(){this.avatars=!1,this.stcheckpoint=!1,this.noCheers=!1,this.stdelete=0}return A.prototype.computeMeta=function(){var i=this;this.docs.forEach(function(e){if(e instanceof T.Comment){var t=e,n=/\{storder:(\d+(\.\d+)?)\}/.exec(t.text);n&&(i.storder=parseFloat(n[1])),(n=/\{stdelete:(\d+)\}/.exec(t.text))&&(i.stdelete=parseInt(n[1])),/\{stcheckpoint\}/.test(t.text)&&(i.stcheckpoint=!0),/\{stnocheers\}/.test(t.text)&&(i.noCheers=!0),/\{box:avatar:/.test(t.text)&&(i.avatars=!0)}})},A.tutorialInfo=function(n){var e=E.HelpTopic.fromScript(n),t=function(t){var e=n.actions().filter(function(e){return e.getName()==t})[0];return e?A.renderDocs(e.body.stmts):void 0},i={title:"<h1>"+E.Util.htmlEscape(n.getName()||"")+"</h1>",description:"<p>"+E.Util.htmlEscape(n.getDescription()||"")+"</p>",steps:A.splitActions(n).map(function(e){return e.jsonInfo()}),startDocs:t("main"),finalDocs:t("final")},r=e.translations();return r&&(i.translations=r),i},A.renderDocs=function(e){var t=new E.CopyRenderer,n=new E.MdComments(t);return n.useSVG=!1,n.useExternalLinks=!0,n.showCopy=!1,n.extractStmts(e)},A.prototype.jsonInfo=function(){return{stcheckpoint:!!this.stcheckpoint||void 0,actionName:this.declName(),command:this.command,commandArg:this.commandArg,docs:A.renderDocs(this.docs)}},A.prototype.declName=function(){return this._actionName},A.prototype.matchesDecl=function(e){return e.getCoreName()==this.declName()&&this.template.nodeType()==e.nodeType()},A.splitActions=function(b){var _={},n={},w={},k=0,x={},C="";function S(e,t){C+=t+"\n",e&&(e.tutorialWarning||(e.tutorialWarning=""),e.tutorialWarning+=t+"\n")}function t(e){var r=[],o=e.parent?e.parent.stepState:null;!(e.parent instanceof T.ActionHeader&&e.parent.action.isPage())&&e instanceof T.CodeBlock&&(e.stmts.forEach(function(e){if(e.stepState){var t=e.stepState;if(t!=o&&!e.isPlaceholder()&&void 0!==(o=t).globalIdx){var n=new T.Comment;n.text="{internalstepid:"+o.globalIdx+(o.stcheckpoint?" - checkpoint":"")+"}",r.push(n)}if(t.addDecl){if(e instanceof T.Comment){var i=e;r.push(e),/^\s*\{adddecl\}\s*$/.test(i.text)&&(i.text="**Add the declaration:**",(i=new T.Comment).text="{decl:"+t.template.getName()+"}",i.mdDecl=t.template,r.push(i))}return}}r.push(e)}),e.setChildren(r)),e.forEachInnerBlock(t)}var i=!1,e=b.orderedThings(!0).filter(function(e){if(e instanceof T.Action){var t=M(e.getName());return t!=e.getName()&&(n[t]=!0,"main"==t&&e.isPage()&&(i=!0),!0)}return!1});if(T.visitStmts(b,function(e){if(e.tutorialWarning="",e instanceof T.Comment){var t=e.text,n=/^\s*\{template:([^:]*)\}\s*$/i.exec(t);n&&i&&"empty"==n[1]&&S(e,"use {template:emptyapp} for tutorials with main page")}}),0==e.length)return[];var r=e.collect(function i(h){var m=[],f=-1,n=new A;n.preciseStrings=x,n.showAt=0,n.hideAt=1e10;var g=n,r=h.serialize(),v=!1,y=function(e){var d=0,p=!1;e.forEach(function(e){var t=0<d,n=!1,i="",r="";e.tutorialWarning=null;var o=e.docText();if(null!=o){/^\s*\{box:([^{}]*)\}\s*$/i.test(o)&&d++,/^\s*\{\/box\}\s*$/i.test(o)&&d--,f<0&&/^\s*\{adddecl\}\s*$/i.test(o)&&(g.addDecl=[]);var a=/^\s*\{stprecise:(.*)\}\s*$/i.exec(o);if(a){var s=a[1];if(/^["']/.test(s)){var c=T.Lexer.tokenize(s);c&&c[0]&&(s=c[0].data)}x[s]=!0}if((a=/^\s*\{stnoprofile}\s*$/i.exec(o))&&(h._skipIntelliProfile=!0),(a=/^\s*\{stauto(:(.*))?}\s*$/i.exec(o))&&(i=a[2]||"yes"),(a=/^\s*\{stcmd:([^:]*)(:(.*))?\}\s*$/i.exec(o))&&(g.command=a[1],g.commandArg=a[3]||"",n=!0,"change"==g.command)){var l=!1;T.visitExprHolders(h,function(e,t){t.tokens.forEach(function(e){var t=e.getCall();t&&t.referencedData()&&t.referencedData().getName()==g.commandArg&&(l=!0)})}),l||S(e,E.lf("art resource '{0}' not found in current function",g.commandArg))}if((a=/^\s*\{sthints:([^:]*)\}\s*$/i.exec(o))&&(r=a[1]),a=/^\s*\{stvalidator:([^:]*)(:(.*))?\}\s*$/i.exec(o)){g.validator=a[1],g.validatorArg=a[3]||"";var u=b.actions().filter(function(e){return e.getName()==g.validator&&!e.isPrivate})[0];u?u._skipIntelliProfile=!0:S(e,"public validator function "+g.validator+" not found"),n=!0}n||(t=!0)}t?(p||(p=!0,0<=f?g=m[f++]:(m.push(g=new A),g.firstStmt=e,g.preciseStrings=x,g.docs=[])),r&&(g.hintLevel=r,r=""),i?(p=!1,g.autoMode=i,0<g.docs.length&&S(e,"{stauto} step cannot have regular comments attached to it"),g.validator&&S(e,"{stauto} step cannot have a {stvalidator}")):(f<0&&g.docs.push(e),v&&(e.stepState=g))):(p=!1,n&&!v||(e.stepState=g),f<0&&g.addDecl&&g.addDecl.push(e),e.children().forEach(function(e){e instanceof T.Block&&y(e.stmts)}))})},o=M(h.getName()),c=function(e){var t=T.Parser.parseDecl(r,b);return t.autoGenerated="yes",t.setName("#S."+e+" "+o),b.addDecl(t),f=0,g=n,y(t.body.stmts),t};y(h.body.stmts),m.forEach(function(e){return e.computeMeta()});var e=m.filter(function(e){return void 0===e.storder}),t=m.filter(function(e){return void 0!==e.storder});t.stableSortObjs(function(e,t){return e.storder-t.storder});var a=e.concat(t);a.forEach(function(e,t){e.showAt=t,e._actionName=o}),m.forEach(function(e,t){for(var n=e.stdelete||0;0<n--;){var i=m[--t];if(!i)break;i.hideAt=e.showAt}e.addDecl&&(e.hideAt=e.showAt)}),m.forEach(function(e){void 0===e.hideAt&&(e.hideAt=m.length)});var l=[],u=function(n,e){e.setChildren(e.stmts.filter(function(e){var t=e.stepState;return!!t&&(e.isPlaceholder()||t.showAt!=n||e.parent&&!(l.indexOf(e.parent.parent)<0)||l.push(e),e.isInvisible||t.showAt<=n&&n<t.hideAt)})),e.forEachInnerBlock(function(e){return u(n,e)})};if(a.forEach(function(o,e){var t=c(k++);l=[],u(e,t.body);var n=[];if(o.docs.forEach(function(e){"{stcode}"==e.docText()?n.pushRange(l):n.push(e)}),o.docs=n,o.template=t,o.addDecl){var a=null,s=null;if(o.addDecl.forEach(function(e){if(e instanceof T.ExprStmt){var t=e.expr.parsed;if(!t)return;var n=t.referencedRecordField(),i=t.referencedData();i&&i.isResource&&(i=null);var r=a;n?(a=n.def(),_[a.getName()+"->"+n.getName()]=!0):t.referencedRecord()?a=t.referencedRecord():i?s=i:t.calledProp()==T.api.core.AssignmentProp||S(o.firstStmt,"no record or record field to add"),r&&a!=r&&S(o.firstStmt,"more than one record in a step")}else S(o.firstStmt,"bad stmt type: "+e.nodeType())}),a||s||S(o.firstStmt,"no decl to add"),a){var i=T.Parser.parseDecl(a.serialize(),b),r=function(e){var t=e.stmts.filter(function(e){return _[e.def().getName()+"->"+e.getName()]});e.setChildren(t)};r((o.template=i).keys),r(i.values),o._actionName=i.getCoreName()}else{if(!s)return;o.template=s,o._actionName=s.getCoreName()}}}),0==a.length)return[];v=!0;var s=a[0],d=c(k++);s.printOut=d;var p=[];return a.forEach(function(n){w[n._actionName]=!0;var e=new L;e.dispatch(n.template),Object.keys(e.calledActions).forEach(function(t){if(!w.hasOwnProperty(t)){w[t]=!0;var e=b.allActions().filter(function(e){return e.getName()==t})[0];e&&(p.pushRange(i(e)),n.addsAction=!0)}}),p.push(n)}),C&&E.HTML.showWarningNotification("tutorial problem: "+C),p});r.forEach(function(e,t){return e.globalIdx=t}),r.forEach(function(e){e.printOut&&t(e.printOut.body)});var o=2;r.every(function(e){return void 0===e.hintLevel})||(o=1e10);var a=E.Cloud.config.hintLevel;return r.forEach(function(e){e.hintLevel&&(a=e.hintLevel,o=1e10),e.hintLevel=a,e.autoMode||o--,o<=0&&(a="semi"),e.validator&&(e.hintLevel="free")}),T.TypeChecker.tcScript(b),b.things=b.things.filter(function(e){return!e.autoGenerated}),r.forEach(function(e){e.printOut&&e.printOut.setName(e._actionName)}),r},A.reply=function(i,e,t,r){var n={};t.forEach(function(e){n[e.declName()]=e.template});var o=new c;Object.keys(n).forEach(function(e){return o.dispatch(n[e])}),e.libraries().forEach(function(e){return o.use(e)}),Object.keys(o.usedDecls).forEach(function(e){n.hasOwnProperty(e)||(n[e]=o.usedDecls[e])});var a=Object.keys(n).map(function(e){return n[e].serialize()}).join("\n"),s=T.Parser.parseScript(a);return s.setName(i.getName()),s.comment=i.comment,T.TypeChecker.tcScript(s),T.visitExprHolders(s,function(e,t){t.tokens=t.tokens.map(function(e){var t=e.getStringLiteral();return t&&r.stringMapping.hasOwnProperty(t)?T.mkLit(r.stringMapping[t]):e})}),s.resources().forEach(function(e){if(r.artMapping.hasOwnProperty(e.getName())){var t=r.artMapping[e.getName()],n=i.resources().filter(function(e){return e.getName()==t})[0];n&&n.getKind()==e.getKind()&&(e.setName(t),e.url=n.url,e.comment=n.comment)}}),s.hasIds=!0,new T.InitIdVisitor(!1).dispatch(s),s.things.forEach(function(e){var t=e.getCoreName();M(t)!=t&&e.setName(M(t)),"main"==e.getName()&&e instanceof T.Action&&(e.isPrivate=!1)}),s.serialize()},A}();T.Step=e}(E.AST||(E.AST={}))}(TDev||(TDev={})),function(V){!function(G){var c;!function(L){var M=function(e){},E=function(){return V.Util.perfNow()},N=[],D=0,I=[],P=!1,R=0;function q(e){return e instanceof G.App?"***":"!"+e.getStableName()}function j(e,t){return!!e[t]}function B(e,t,n){var i=e[t];if(P)return!!(i&&0<=i.successors.indexOf(n));var r=e[n];return!!(i&&r&&i.order<r.order)}function z(n){if(!n)return[];var e=n.stmt.children().filter(function(e){return e instanceof G.Stmt});return n.stmt instanceof G.If&&2==e.length&&e[1]instanceof G.CodeBlock&&e[1].isBlockPlaceholder()&&e.pop(),e.map(function(e,t){return new O(n.name,q(e),[],e)})}L.badAstMsg="malformed ASTs";var O=function(){function e(e,t,n,i){this.parent=e,this.name=t,this.successors=n,this.stmt=i}return e.prototype.toString=function(){return this.name+":("+this.parent+"):[]"},e}();function U(e,o){var a=0;var n={},i=function i(e,r,t){return e.reduce(function(e,t,n){return t.order=a++,r[t.name]=null,t.parent,r[t.name]=t,o.push(t.name),e.push(t.name),i(z(t),r,e)},t)}(e.map(function(e){return new O(void 0,q(e),[],e)}),n,[]);return i.forEach(function(e,t){n[e].successors=i.slice(t+1,i.length)}),n}function F(i){var e=Object.keys(i);M(">>> transitive closure: "+e.length),e.forEach(function(n){e.forEach(function(t){e.forEach(function(e){i[t][e]=i[t][e]||i[t][n]&&i[n][e]})})})}function H(o,e,n,t){void 0===t&&(t=!1);var a=0,s=[],c={},l={},u={},d=[],p=[];return e.forEach(function(e){l[e]||function n(i,r){void 0===r&&(r=0);l[i]=a;u[i]=a;a++;s.push(i);c[i]=!0;var e=o[i];e&&Object.keys(e).forEach(function(e){if(null==l[e])n(e,r+1),u[i]=Math.min(u[i],u[e]);else{var t=c[e];0<=t&&(u[i]=Math.min(u[i],l[e]))}});if(u[i]==l[i]){p=[];do{var t=s.pop();delete c[t],p.push(t)}while(t!=i);d.push(p)}}(e)}),d.forEach(function(e,t){e.forEach(function(e){n[e]=t})}),d}function c(e){var t=V.AST.Parser.parseScript(e);return V.AST.TypeChecker.tcApp(t),new V.AST.InitIdVisitor(!1).dispatch(t),t}L.HashNode=O,L.getIds=U,L.stronglyConnectedComponents=H,L.merge3=function k(i,e,t,n){n&&(N=[D=0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0,0,0,0],R=0);var r=E();M(">>> Merge: "+E()+" begin merge3"),M(">>> Merge: "+E()+" get IDs");var x=U([i],[]),C=U([e],[]),S=U([t],[]);var A=0;M(">>> Merge: "+E()+" init maps");var p=E(),c={},o={},h={},a={};Object.keys(x).forEach(function(e){c[e]=null}),Object.keys(C).forEach(function(e){c[e]=null}),Object.keys(S).forEach(function(e){c[e]=null});var s=E();I[0]+=s-p,p=s,M(">>> Merge: "+E()+" step 1"),Object.keys(c).forEach(function(e){var t=j(C,e)&&j(S,e)&&j(x,e);(j(C,e)||j(S,e))&&!j(x,e)||t?t||(h[e]=!0):delete c[e]});s=E();function l(r){Object.keys(c).forEach(function(e){var t=x[e],n=C[e],i=S[e];r(e,c,t?t.parent:void 0,n?n.parent:void 0,i?i.parent:void 0)})}I[1]+=s-p,p=s,M(">>> Merge: "+E()+" step 2"),l(function(e,t,n,i,r){i!=n&&(o[e]=!0),t[e]=i}),l(function(e,t,n,i,r){r==i||o[e]||(t[e]=r)});s=E();I[2]+=s-p,p=s;var u=[],d=Object.keys(c);d.forEach(function(e){var t=c[e],n=e;t&&n&&(a[t]||(a[t]={}),a[t][n]=1),t||u.push(n)});s=E();I[3]+=s-p,p=s;var m={},f=H(a,d,m);a=null;s=E();I[4]+=s-p,p=s;var g={};f.forEach(function(t){t.forEach(function(e){t.length<=1&&(g[m[e]]=!0)})});s=E();I[5]+=s-p,p=s,function a(e,s){e.forEach(function(t){var e,n,i=C[t],r=(e=z(i),n={},e.forEach(function(e){n[e.name]=e}),n),o=Object.keys(r);o.forEach(function(e){m[t]==m[e]||s[m[e]]||(c[e]&&(c[e]=t),s[m[e]]=!0)}),a(o,s)})}(u,g);s=E();I[6]+=s-p,p=s,M(">>> Merge: "+E()+" step 3: "+Object.keys(c).length);E();var v={};Object.keys(c).forEach(function(e){var t=c[e];v[t]?v[t].indexOf(e)<0&&v[t].push(e):v[t]=[e]});s=E();function y(e,t,n,i){void 0===i&&(i=1),n[t][e]||(n[e][t]=i)}N[0]+=s-p,p=s,Object.keys(v).forEach(function(e){var r=v[e];M(">>> processing children: "+e+": "+E());var t,n,o={},a={};if(t=a,void 0===n&&(n=0),r.forEach(function(e){t[e]={}}),P)M(">>> part A: "+r.length),r.forEach(function(i){r.forEach(function(e){if(i!=e){var t=i,n=e;!B(C,t,n)||B(x,t,n)&&B(S,n,t)||y(t,n,a)}})}),F(a),M(">>> part C"),r.forEach(function(i){r.forEach(function(e){if(i!=e){var t=i,n=e;B(S,t,n)&&(B(x,n,t)&&B(C,n,t)||!B(x,n,t)&&!B(C,n,t))&&y(t,n,a)}})}),F(a),M(">>> part E"),r.forEach(function(i){r.forEach(function(e){if(i!=e){var t=i,n=e;j(C,t)&&!j(S,t)&&j(S,n)&&!j(C,n)&&y(t,n,a)}})}),F(a);else{var i=E(),s=r.reduce(function(e,t){var n=C[t];return n&&(n.used=!1,e.push(n)),e},[]).sort(function(e,t){return e.order<t.order?-1:1}),c=r.reduce(function(e,t){var n=S[t];return n&&(n.used=!1,e.push(n)),e},[]).sort(function(e,t){return e.order<t.order?-1:1}),l=E();l-i;var u=E();N[1]+=u-p,p=u,s.reduce(function(e,t){return h[t?t.name:void 0]&&e.forEach(function(e){o[e?e.name:void 0]||(o[e?e.name:void 0]=[]),o[e?e.name:void 0].unshift(t)}),e.push(t),e},[void 0]),c.reduce(function(e,t){return h[t?t.name:void 0]&&e.forEach(function(e){o[e?e.name:void 0]||(o[e?e.name:void 0]=[]),o[e?e.name:void 0].unshift(t)}),e.push(t),e},[void 0]),r=r.filter(function(e){return!h[e]}),u=E(),N[2]+=u-p,p=u,M(">>> part A: "+r.length),r.forEach(function(i){r.forEach(function(e){if(i!=e){var t=i,n=e;!B(C,t,n)||B(x,t,n)&&B(S,n,t)||y(t,n,a,1)}})}),u=E(),N[3]+=u-p,p=u,M(">>> part B"),r.forEach(function(i){r.forEach(function(e){if(i!=e){var t=i,n=e;B(S,t,n)&&B(x,n,t)&&B(C,n,t)&&y(t,n,a,2)}})}),u=E(),N[4]+=u-p,p=u,M(">>> SCC: "+r.length);var d=H(a,r,{},100<r.length);u=E(),N[5]+=u-p,p=u,M(">>> comps"),d.forEach(function(e){e.length<=1||e.forEach(function(t){e.forEach(function(e){2<=a[t][e]&&(a[t][e]=0,a[e][t]=1)})})}),u=E(),N[6]+=u-p,p=u}M(">>> sorting"),r.sort(function(e,t){if(0<a[e][t])return-1;if(0<a[t][e])return 1;throw"merge exception: ("+e+", "+t+") not ordered"}),a=null,u=E(),N[7]+=u-p,p=u,P||(r.unshift(void 0),r=function e(t){if(0==r.length)return t;var n=r.pop(),i=o[n];return i&&i.forEach(function(e){e&&!e.used&&(e.used=!0,t.unshift(e.name))}),n&&t.unshift(n),e(t)}([]),v[e]=r),s.forEach(function(e){return e.used=!1}),c.forEach(function(e){return e.used=!1}),o=null,u=E(),N[8]+=u-p,p=u});E();delete v[void 0],Object.keys(v).forEach(function(e){var t=v[e],n="";e==q(i)&&(n="<<ROOT>>"),M(">>> Merge: parent="+e+", child="+t.join(", ")+" | "+n)});var b=E();M(">>> Merge: "+E()+" doing node-level merge...");var _=function t(o,a,s,n,i){var e;if(void 0===i&&(i=0),A=Math.max(i,A),o)e=o.name;else if(a)e=a.name;else{if(!s)return null;e=s.name}var r=n[e];r||(r=[]);var c=[];function l(e){var t=c[e];return t||null}function u(e,t){var n=[];o&&(n=e(o.stmt));var i=[];a&&(i=e(a.stmt));var r=[];return s&&(r=e(s.stmt)),function(e,t,n,i){var r=0,o=function(e){return e},a=new G.ExprHolder;a.tokens=o(e);var s=new G.ExprHolder;s.tokens=o(t);var c=new G.ExprHolder;c.tokens=o(n);var l={},u=0,d=function(n){return function(e,t){return n(e,t)}};V.AST.Diff.diffExprs(a,s,{},d),V.AST.Diff.diffExprs(a,c,{},d);var p=s.diffTokens,h=c.diffTokens,m=[];for(r=0;r<p.length;r+=2)p[r]&&(l[v=""+u]=p[r],u++,m.push(v));var f=[],g=0;for(r=1;r<p.length;r+=2){if(p[r])if(p[r-1])f.push(""+g);else{var v=""+u;l[""+u]=p[r],u++,f.push(v)}p[r-1]&&g++}var y=[];for(g=0,r=1;r<h.length;r+=2)h[r]&&(h[r-1]?y.push(""+g):(l[v=""+u]=h[r],u++,y.push(v))),h[r-1]&&g++;function b(e){var t=new G.App(null);return t.things=e.map(function(e){var t=new G.Decl;return t.setStableName(e),t}),t}return k(b(m),b(f),b(y)).things.map(function(e){return l[e.getStableName()]})}(n,i,r)}function d(e){var t=!o||o.stmt instanceof e,n=!a||a.stmt instanceof e,i=!s||s.stmt instanceof e;return t&&n&&i}function p(e){if(a||s)return a?s&&o&&e(o.stmt)==e(a.stmt)?e(s.stmt):e(a.stmt):e(s.stmt)}function h(t){var e=new G.ExprHolder;return e.tokens=u(function(e){return t(e).tokens}),e}c=r.map(function(e){return t(x[e],C[e],S[e],n,i+1)});var m,f=null,g=void 0;if(d(G.RecordField)){var v=p(function(e){return e.dataKind}),y=p(function(e){return e.isKey}),b=p(function(e){return e.getName()});f=new G.RecordField(b,v,y)}else if(d(G.ResolveClause))b=p(function(e){return e.name}),(f=new G.ResolveClause(b)).kindBindings=l(0),f.actionBindings=l(1),f.defaultLib=p(function(e){return e.defaultLib});else if(d(G.ActionBinding))b=p(function(e){return e.formalName}),(f=new G.ActionBinding(b)).actualLib=p(function(e){return e.actualLib}),f.actualName=p(function(e){return e.actualName}),f.actual=p(function(e){return e.actual}),f.isExplicit=p(function(e){return e.isExplicit});else if(d(G.KindBinding))b=p(function(e){return e.formalName}),(f=new G.KindBinding(b)).actual=p(function(e){return e.actual}),f.isExplicit=p(function(e){return e.isExplicit});else if(d(G.Binding))b=p(function(e){return e.formalName}),(f=new G.Binding(b)).isExplicit=p(function(e){return e.isExplicit});else if(d(G.Comment))(f=new G.Comment).text=u(function(e){return e.text.split(/\s+/).map(function(e){var t=new G.Literal;return t.data=e,t})}).map(function(e){return e.getText()}).join(" ");else if(d(G.CodeBlock))(f=new G.CodeBlock).stmts=c,f.flags=p(function(e){return e.flags});else if(d(G.ConditionBlock))(f=new G.ConditionBlock).stmts=c;else if(d(G.ParameterBlock))(f=new G.ParameterBlock).stmts=c;else if(d(G.BindingBlock))(f=new G.BindingBlock).stmts=c;else if(d(G.ResolveBlock))(f=new G.ResolveBlock).stmts=c;else if(d(G.FieldBlock))(f=new G.FieldBlock).stmts=c,f.parentDef=p(function(e){return e.parentDef});else if(d(G.InlineActionBlock))(f=new G.InlineActionBlock).stmts=c;else{if(d(G.Block))throw Error(L.badAstMsg);if(d(G.For))(f=new G.For).body=l(0),f.boundLocal=p(function(e){return e.boundLocal}),f.upperBound=h(function(e){return e.upperBound});else if(d(G.Foreach))(f=new G.Foreach).conditions=l(0),f.body=l(1),f.boundLocal=p(function(e){return e.boundLocal}),f.collection=h(function(e){return e.collection});else if(d(G.While))(f=new G.While).body=l(0),f.condition=h(function(e){return e.condition});else if(d(G.OptionalParameter))(f=new G.OptionalParameter)._opt_name=p(function(e){return e.getName()}),f.expr=h(function(e){return e.expr});else if(d(G.If)){(f=new G.If).rawThenBody=l(0);var _=l(1);_||(_=G.Parser.emptyBlock()).stmts[0].initStableName(),f.rawElseBody=_,f.rawCondition=h(function(e){return e.rawCondition}),f.isElseIf=p(function(e){return e.isElseIf}),f.displayElse=p(function(e){return e.displayElse})}else if(d(G.Box))(f=new G.Box).body=l(0);else if(d(G.InlineActions))(f=new G.InlineActions).actions=l(0),f.expr=h(function(e){return e.expr});else if(d(G.ExprStmt))(f=new G.ExprStmt).expr=h(function(e){return e.expr});else if(d(G.InlineAction))(f=new G.InlineAction).body=l(0),f.name=p(function(e){return e.name}),f.isOptional=p(function(e){return e.isOptional}),f.isImplicit=p(function(e){return e.isImplicit}),f.inParameters=p(function(e){return e.inParameters}),f.outParameters=p(function(e){return e.outParameters});else if(d(G.Where))(f=new G.Where).condition=h(function(e){return e.condition});else if(d(G.ForeachClause))f=new G.ForeachClause;else if(d(G.ActionParameter))f=new G.ActionParameter(G.mkLocal(p(function(e){return e.getName()}),p(function(e){return e.getKind()})));else if(d(G.ActionHeader))(f=new G.ActionHeader(new G.Action)).inParameters=l(0),f.outParameters=l(1),f.action.body=l(2);else if(d(G.GlobalDef))(f=new G.GlobalDef).readonly=p(function(e){return e.readonly}),f.comment=p(function(e){return e.comment}),f.url=p(function(e){return e.url}),f.isResource=p(function(e){return e.isResource}),f.isTransient=p(function(e){return e.isTransient}),f.cloudEnabled=p(function(e){return e.cloudEnabled}),f.debuggingData=p(function(e){return e.debuggingData}),f.cloudEnabled=p(function(e){return e.cloudEnabled});else if(d(G.Action)){f=new G.Action;var w=l(0);f.body=w.action.body,w.action=f,w.inParameters.parent=f,(w.outParameters.parent=f).header=w,f.isPrivate=p(function(e){return e.isPrivate}),f._isPage=p(function(e){return e._isPage}),f._isTest=p(function(e){return e._isTest}),f._isActionTypeDef=p(function(e){return e._isActionTypeDef}),f.isAtomic=p(function(e){return e.isAtomic}),f.eventInfo=p(function(e){return e.eventInfo}),f.isOffline=p(function(e){return e.isOffline}),f.isQuery=p(function(e){return e.isQuery}),f._isTest=p(function(e){return e._isTest}),p(function(e){return e.modelParameter})&&(f.modelParameter=w.inParameters.stmts.shift())}else if(d(G.RecordDef))(f=new G.RecordDef).keys=l(0),f.values=l(1),f.description=p(function(e){return e.description}),f.recordType=p(function(e){return e.recordType}),f.cloudEnabled=p(function(e){return e.cloudEnabled}),f.persistent=p(function(e){return e.persistent}),f._isExported=p(function(e){return e._isExported}),g=p(function(e){return e.getCoreName()});else if(d(G.LibraryRef))(f=new G.LibraryRef).resolveClauses=l(0),f.guid=p(function(e){return e.guid}),f.pubid=p(function(e){return e.pubid}),f._publicActions=p(function(e){return e._publicActions}),f._publicKinds=p(function(e){return e._publicKinds});else{if(d(G.PropertyDecl))throw Error(L.badAstMsg);if(d(G.SingletonDef))throw Error(L.badAstMsg);if(d(G.PlaceholderDef))throw Error(L.badAstMsg);if(d(G.LocalDef))f=new G.LocalDef;else if(d(G.App))(f=new G.App(null)).rootId=p(function(e){return e.rootId}),f.icon=p(function(e){return e.icon}),f.color=p(function(e){return e.color}),f.comment=p(function(e){return e.comment}),f.iconArtId=p(function(e){return e.iconArtId}),f.splashArtId=p(function(e){return e.splashArtId}),G.App.metaMapping.forEach(function(t){f[t]=p(function(e){return e[t]})}),f.setPlatform(p(function(e){return e.getPlatformRaw()})),f.things=c;else{if(!d(G.Decl))throw d(G.Stmt),Error(L.badAstMsg);(f=new G.Decl)._wasTypechecked=p(function(e){return e._wasTypechecked}),f.deleted=p(function(e){return e.deleted}),f.wasAutoNamed=p(function(e){return e.wasAutoNamed}),f.diffStatus=p(function(e){return e.diffStatus}),f.diffAltDecl=p(function(e){return e.diffAltDecl})}}}return f._kind=p(function(e){return e._kind}),m=e,f.setStableName(m.substr(1)),g?f.setName(g):f.setName(p(function(e){return e.getName()})),c.forEach(function(e){e.parent=f}),f}(new O(void 0,q(i),[],i),new O(void 0,q(e),[],e),new O(void 0,q(t),[],t),v),w=E();if(n){var T={};T.totaltime=w-r,T.nodeleveltime=w-b,T.seqtime=N,T.treetime=I,T.scctime=D,T.numchecks=R,T.deviceinfo=V.Browser.platformCaps,T.releaseid=V.Cloud.currentReleaseId,n(T)}return _},L.theO=void 0,L.theA=void 0,L.theB=void 0,L.theM=void 0,L.testMerge=function(r,o,a){void 0===r&&(r="yqum"),void 0===o&&(o="yqum"),void 0===a&&(a="xspn"),V.ScriptCache.getScriptAsync(r).then(function(i){return V.ScriptCache.getScriptAsync(o).then(function(n){return V.ScriptCache.getScriptAsync(a).then(function(e){var s={};function t(e,t,n,i){L.theO=s[e],L.theA=s[t],L.theB=s[n];var r=V.AST.Merge.merge3(L.theO,L.theA,L.theB);V.AST.TypeChecker.tcApp(r),L.theM=r;var o=!1,a="merge("+e+","+t+","+n+")";s[i]&&r.serialize().replace(/\s*/g,"")!=s[i].serialize().replace(/\s*/g,"")?(a+=" =/= ",r.things.forEach(function(e,t){r.things[t].serialize().replace(/\s*/g,"")!=s[i].things[t].serialize().replace(/\s*/g,"")&&console.log("unequal: "+t)})):(o=!0,a+=" = "),console.log(a+""+i+(o?" (success)":" ((FAIL!))"))}[[r,i],[o,n],[a,e]].forEach(function(e){s[e[0]]||(s[e[0]]=c(e[1]))}),console.log("testing merge(x,x,x)"),t(r,r,r,r),t(o,o,o,o),t(a,a,a,a),console.log("testing merge(x,y,x)"),t(r,o,r,o),t(r,a,r,a),t(o,a,o,a),t(o,r,o,r),t(a,o,a,o),t(a,r,a,r),console.log("testing merge(x,x,y)"),t(r,r,o,o),t(r,r,a,a),t(o,o,a,a),t(o,o,r,r),t(a,a,o,o),t(a,a,r,r)})})})},L.basicTest=function(e,t,n){e||(e='meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync";\nmeta name "awe-inspiring script";\nmeta rootId "nLWNALhDdDnO6mTvydoNe8aI";\nmeta allowExport "yes";\nmeta platform "current";\nmeta parentIds "";\n#main\naction main() {\n  #x1QgKIXXV6P3GL4v $x1 := 1;\n  #nrxemFg0cPs5bQh7 $x2 := 12;\n}\n#main2\naction main2() {\n  #x1QgKIXXV6P3GL4v1 $x1 := 1;\n  #nrxemFg0cPs5bQh72 $x2 := 12;\n  #rpYjyryilrIApEv14 $x4 := 123;\n}\n'),t||(t='meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync";\nmeta name "awe-inspiring script";\nmeta rootId "nLWNALhDdDnO6mTvydoNe8aI";\nmeta allowExport "yes";\nmeta platform "current";\nmeta parentIds "";\n#main\naction main() {\n  #nrxemFg0cPs5bQh7 $x2 := 12;\n  #x1QgKIXXV6P3GL4v $x1 := 1;\n}\n#main2\naction main2() {\n  #x1QgKIXXV6P3GL4v1 $x1 := 1;\n  #nrxemFg0cPs5bQh72 $x2 := 12;\n  #rpYjyryilrIApEv03 $x3 := 123;\n}\n'),n||(n='meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync";\nmeta name "awe-inspiring script";\nmeta rootId "nLWNALhDdDnO6mTvydoNe8aI";\nmeta allowExport "yes";\nmeta platform "current";\nmeta parentIds "";\n#main\naction main() {\n  #x1QgKIXXV6P3GL4v $x1 := 1;\n  #nrxemFg0cPs5bQh7 $x2 := 12;\n  #rpYjyryilrIApEv0 $x3 := 123;\n  #rpYjyryilrIApEv1 $x4 := 123;\n  #rpYjyryilrIApEv2 $x5 := 123;\n  #rpYjyryilrIApEv3 $x6 := 123;\n}\n#main2\naction main2() {\n  #nrxemFg0cPs5bQh72 $x2 := 12;\n  #x1QgKIXXV6P3GL4v1 $x1 := 1;\n}\n'),L.theO=c(e),L.theA=c(t),L.theB=c(n);var i=V.AST.Merge.merge3(L.theO,L.theA,L.theB);V.AST.TypeChecker.tcApp(i),L.theM=i}}(c=G.Merge||(G.Merge={}));!function(e){function t(){e.apply(this,arguments)}__extends(t,e),t.prototype.visitStmt=function(e){this.visitChildren(e)},t.prototype.visitCodeBlock=function(e){var t=[],n=!1;e.stmts.forEach(function(e){e.isPlaceholder()&&n||(n=e.isPlaceholder(),t.push(e))}),e.stmts=t,this.visitChildren(e)}}(G.NodeVisitor);G.mergeScripts=function(e,t,n){var i=function(e){var t=G.Parser.parseScript(e,[]);return G.TypeChecker.tcScript(t,!0),new G.InitIdVisitor(!1).dispatch(t),t},r=i(e),o=i(t),a=i(n),s=c.merge3(r,o,a);return s.parentIds=o.parentIds.slice(0),G.Diff.diffApps(o,s,{useStableNames:!1}),s}}(V.AST||(V.AST={}))}(TDev||(TDev={})),function(y){var b;(function(e){e.cordovaDefaultOptions=function(){var t={email:"",website:"",domain:"",platforms:{}};return Object.keys(v).forEach(function(e){v[e].build&&(t.platforms[e]={build:!!v[e].build,runs:v[e].runs||[e]})}),t},e.getDeploymentInstructionsAsync=function(e,i){var n=y.webappHtml;i.userId||(i.userId="unknown"),i.filePrefix||(i.filePrefix="");var t=i.compileServer&&(i.skipClient||e.isCloud),r={packaging:!0,javascript:!0,scriptId:i.scriptId,authorId:i.userId,scriptGuid:e.localGuid,azureSite:i.azureSite},o=function(e,t){n=n.replace(e.replace(/{.*}/,""),y.Util.fmt(e,t))};n=n.replace("precompiled.js?a=","precompiled.js");var a={meta:{},files:[]};if(!t){var s=Object.keys(e.imports.clientScripts).map(function(e){return/\.css$/i.test(e)?y.Util.fmt('<link rel="stylesheet" href="{0:url}">',e):/\.js$/i.test(e)?y.Util.fmt('<script type="text/javascript" src="{0:url}"><\/script>',e):void 0});n=n.replace("</head>","    "+s.join("\n    ")+"\n</head>")}i.cordova&&(n=n.replace("</head>","    <script src='cordova.js'><\/script>\n</head>"),a.cordova={plugins:[],platforms:{},runs:[]}),o("<title>{0:q}</title>",e.getName()),o('property="og:title" content="{0:q}"',e.getName()),o('var userId = "{0:jq}"',i.userId),o('var webAppName = "{0:jq}"',e.getName()),o('var webAppGuid = "{0:jq}"',e.localGuid),o('var runtimeFlags = "{0:jq}"',i.runtimeFlags||"");var c=y.Cloud.config.primaryCdnUrl+"/app/"+i.relId+"/c/";b.TypeChecker.tcApp(e);var l=b.Compiler.getCompiledScript(e,r),u="";if(e.librariesAndThis().forEach(function(t){t.resolved?t.resolved.things.forEach(function(e){e.hasErrors()&&(u+="Errors in "+t.getName()+"->"+e.getName()+"\n")}):u+="Unresolved library: "+t.getName()+"\n"}),u&&(a.error=u,i.failOnError))return y.ModalDialog.info(y.lf("compilation errors"),u),new y.PromiseInv;a.packageResources=l.packageResources;var d="";if(t?(y.Util.assert(r.javascript,"javascript should have been on"),d="var TDev; if (!TDev) TDev = {}; TDev.isWebserviceOnly = true;"):(d=l.getCompiledCode(),i.cordova&&(y.Util.assert(r.javascript,"javascript should have been on"),a.files.push({path:i.filePrefix+"cordovaPlugins.json",content:JSON.stringify(l.imports.cordovaPlugins,null,2)}),Object.keys(i.cordova.platforms).forEach(function(e){i.cordova.platforms[e].build&&(a.cordova.platforms[e]=v[e],i.cordova.platforms[e].runs.forEach(function(e){return a.cordova.runs.push(e)}))}),a.cordova.plugins=Object.keys(l.imports.cordovaPlugins).map(function(e){return e+(!e||/^https?:\/\//.test(e)||/^\*?$/.test(l.imports.cordovaPlugins[e])?"":"@"+l.imports.cordovaPlugins[e])})),l.packageResources.forEach(function(e){if(a.files.push({path:i.filePrefix+e.packageUrl.replace(/^\.\//,""),url:y.HTML.proxyResource(e.url),content:e.content,kind:e.kind,type:e.type,sourceName:e.sourceName,isUnused:0===e.usageLevel}),"sound"==e.type){var t=y.HTML.patchWavToMp4Url(e.url);e.url!=t&&a.files.push({path:i.filePrefix+e.packageUrl.replace(/^\.\//,"")+".m4a",url:t,kind:e.kind,sourceName:e.sourceName,isUnused:0===e.usageLevel})}}),e.getIconArtId()&&a.files.push({path:i.filePrefix+"art/icon",url:y.Cloud.artUrl(e.getIconArtId()),kind:"art",type:"picture",sourceName:"icon",isUnused:!1}),e.splashArtId&&a.files.push({path:i.filePrefix+"art/splash",url:y.Cloud.artUrl(e.splashArtId),kind:"art",type:"picture",sourceName:"splash",isUnused:!1})),i.compileServer){r.packaging=!1,r.cloud=!0,r.javascript=!0;var p=(l=b.Compiler.getCompiledScript(e,r)).getCompiledCode();l.imports.npmModules["faye-websocket"]="0.8.1";var h={name:"td-"+e.getName().replace(/[^a-zA-Z0-9]/g,"-"),version:"0.0.0",private:!0,dependencies:l.imports.npmModules};a.files.push({path:"package.json",content:JSON.stringify(h,null,2)}),a.files.push({path:"script/compiled.js",content:p});var m=Object.keys(l.imports.pipPackages);0<m.length&&(a.files.push({path:"requirements.txt",content:m.map(function(e){var t=e,n=l.imports.pipPackages[e]||"";return"*"==n||/^(==|>=)/.test(n)||(t+="=="+n),t}).join("\n")}),a.files.push({path:"runtime.txt",content:"python-2.7"}))}a.files.push({path:i.filePrefix+"precompiled.js",content:d}),a.files.push({path:i.filePrefix+"index.html",content:n}),i.baseUrl;var f=function(t,n){return n||(n=i.filePrefix),i.downloadLocalFilesFrom?y.Util.httpGetTextAsync(i.downloadLocalFilesFrom+t).then(function(e){a.files.push({path:n+t,content:e})}):(a.files.push({path:n+t,url:c+t}),y.Promise.as())},g=["default.css","browser.js","runtime.js"].map(function(e){return f(e)});return i.compileServer&&g.push(f("noderuntime.js","script/")),i.cordova||(i.downloadLocalFilesFrom?(g.push(f("error.html")),g.push(f("browsers.html"))):["error","browsers"].forEach(function(e){return a.files.push({path:i.filePrefix+e+".html",url:y.Cloud.getServiceUrl()+"/app/"+e+".html?releaseid="+i.relId})})),a.meta.isCloud=e.isCloud,y.Promise.join(g).then(function(){return a})};var t=72,n=36,i=48,r=96,v={windows:{build:!0,runs:["windows -- --win","windows --device -- --phone","windows -- --phone"],res:"windows8",icons:[{src:"res/windows8/logo.png",width:150},{src:"res/windows8/smalllogo.png",width:30},{src:"res/windows8/storelogo.png",width:50}],splash:[{src:"res/screen/windows8/splashscreen.png",width:620,height:300}]},ios:{build:!0,icons:[{src:"res/ios/icon-60@3x.png",width:180},{src:"res/ios/icon-60.png",width:60},{src:"res/ios/icon-60@2x.png",width:120},{src:"res/ios/icon-76.png",width:76},{src:"res/ios/icon-76@2x.png",width:152},{src:"res/ios/icon-40.png",width:40},{src:"res/ios/icon-40@2x.png",width:80},{src:"res/ios/icon.png",width:57},{src:"res/ios/icon@2x.png",width:114},{src:"res/ios/icon-72.png",width:72},{src:"res/ios/icon-72@2x.png",width:144},{src:"res/ios/icon-small.png",width:29},{src:"res/ios/icon-small@2x.png",width:58},{src:"res/ios/icon-50.png",width:50},{src:"res/ios/icon-50@2x.png",width:100}],splash:[{src:"res/screen/ios/Default~iphone.png",width:320,height:480},{src:"res/screen/ios/Default@2x~iphone.png",width:640,height:960},{src:"res/screen/ios/Default-Portrait~ipad.png",width:768,height:1024},{src:"res/screen/ios/Default-Portrait@2x~ipad.png",width:1536,height:2048},{src:"res/screen/ios/Default-Landscape~ipad.png",width:1024,height:768},{src:"res/screen/ios/Default-Landscape@2x~ipad.png",width:2048,height:1536},{src:"res/screen/ios/Default-568h@2x~iphone.png",width:640,height:1136},{src:"res/screen/ios/Default-667h.png",width:750,height:1334},{src:"res/screen/ios/Default-736h.png",width:1242,height:2208},{src:"res/screen/ios/Default-Landscape-736h.png",width:2208,height:1242}]},android:{build:!0,icons:[{src:"res/android/ldpi.png",density:"ldpi",width:n},{src:"res/android/mdpi.png",density:"mdpi",width:i},{src:"res/android/hdpi.png",density:"hdpi",width:t},{src:"res/android/xhdpi.png",density:"xhdpi",width:r}],splash:[{src:"res/screen/android/splash-land-hdpi.png",density:"land-hdpi",width:t},{src:"res/screen/android/splash-land-ldpi.png",density:"land-ldpi",width:n},{src:"res/screen/android/splash-land-mdpi.png",density:"land-mdpi",width:i},{src:"res/screen/android/splash-land-xhdpi.png",density:"land-xhdpi",width:r},{src:"res/screen/android/splash-port-hdpi.png",density:"port-hdpi",width:t},{src:"res/screen/android/splash-port-ldpi.png",density:"port-ldpi",width:n},{src:"res/screen/android/splash-port-mdpi.png",density:"port-mdpi",width:i},{src:"res/screen/android/splash-port-xhdpi.png",density:"port-xhdpi",width:r}]},"amazon-fireos":{icons:[{src:"res/android/ldpi.png",density:"ldpi",width:n},{src:"res/android/mdpi.png",density:"mdpi",width:i},{src:"res/android/hdpi.png",density:"hdpi",width:t},{src:"res/android/xhdpi.png",density:"xhdpi",width:r}]},blackberry10:{res:"bb10",icons:[{src:"res/bb10/icon-86.png",width:86},{src:"res/bb10/icon-150.png",width:150}]},firefoxos:{res:"ff",icons:[{src:"res/ff/logo.png",width:60}]},tizen:{icons:[{src:"res/tizen/icon-128.png",width:128}]}}})((b=y.AST||(y.AST={})).Apps||(b.Apps={}))}(TDev||(TDev={})),function(o){var l;(function(e){function t(e){var a=[];function s(e){a.push(l.mkOp(e))}function c(e,t){e instanceof l.Call?function(e,t){if(e.savedFix&&(e=e.savedFix),e.propRef.fromOp&&e.propRef.fromOp.getFunArgs())return a.push(e.propRef.fromOp),c(e.args[1],-1);var n=e.getCalledProperty(),i=n.getInfixPriority()||0;if(i){if("-"==n.getName()&&0===e.args[0].getLiteral())return s(n.getName()),c(e.args[1],98);if(i<t&&s("("),1==e.args.length)s(n.getName()),c(e.args[0],i);else{var r=4!=i&&98!=i;c(e.args[0],r?i:i+.1),s(n.getName()),c(e.args[1],r?i+.1:i)}i<t&&s(")")}else{c(e.args[0],1e3),a.push(l.mkPropRef(n.getName()));var o=e.args.slice(1).filter(function(e){return!e.isEscapeDef()});0<o.length&&(s("("),o.forEach(function(e,t){0<t&&s(","),c(e,-1)}),s(")"))}}(e,t):"number"==typeof e.getLiteral()?o.Util.numberToStringNoE(e.getLiteral()).split("").forEach(s):a.push(e)}return c(e,-1),a}function s(e){var t=e.getDefaultValue();if(t)return t;var n,i,r=e.getKind();switch(r.getName()){case"Number":return[l.mkOp("0")];case"String":return[l.mkLit("")];case"Boolean":return[l.mkLit(!1)];case"Color":return l.proMode?null:(n="colors",i="random",[l.mkThing(n),l.mkPropRef(i)])}if(r.isAction){var o=r,a=o.getOutParameters();if(1==a.length)return[l.mkFunOp(o.getInParameters().map(function(e){return e.getName()}))].concat(s(a[0])||[l.mkPlaceholder(a[0])])}return null}function r(e){return e.collect(function(e){return e instanceof l.Literal?t(e):[e]})}e.tokenize=r,e.findDefault=function(t,e){var n=s(t);if(!n){var i=0;l.proMode||o.Script.variables().forEach(function(e){e.getKind()==t.getKind()&&(i++,n=[l.mkThing("data"),l.mkPropRef(e.getName())])}),e.forEach(function(e){e.getKind()==t.getKind()&&(i++,n=[l.mkThing(e.getName())])}),l.proMode&&1<i&&(n=null)}return n||(n=[l.mkPlaceholder(t)]),r(n)},e.getFix=function(e){return e.hasFix&&e.parsed?t(e.parsed):null}})((l=o.AST||(o.AST={})).Fixer||(l.Fixer={}))}(TDev||(TDev={})),function(_){!function(b){var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.unUnicode=function(e){return(""==(e=(e=(e=(e=e.replace(/#/g," sharp ")).replace(/\+/g," plus ")).replace(/\s+([A-Za-z])/g,function(e,t){return t.toUpperCase()})).replace(/[^a-zA-Z0-9]+/g,"_"))||/^[0-9]/.test(e)||t.keywords.hasOwnProperty(e))&&(e="_"+e),e},t.keywords={break:1,case:1,class:1,catch:1,const:1,continue:1,debugger:1,default:1,delete:1,do:1,else:1,export:1,extends:1,finally:1,for:1,function:1,if:1,import:1,in:1,instanceof:1,let:1,new:1,return:1,super:1,switch:1,this:1,throw:1,try:1,typeof:1,var:1,void:1,while:1,with:1,yield:1,enum:1,await:1,implements:1,package:1,protected:1},t}(b.QuotingCtx);var e,o=function(n){function e(){n.call(this),this.globalCtx=new r,this.highlight=0,this.indentString="    "}return __extends(e,n),e.prototype.finalize=function(e){void 0===e&&(e=!1);var t=n.prototype.finalize.call(this,e);return t=t.replace(/(\s+)\}\n\s*else/,function(e,t){return t+"} else"})},e.prototype.getGlobalId=function(e,t){void 0===t&&(t="");var n=e.getName();if(e instanceof b.RecordDef||e instanceof b.Action&&e.isActionTypeDef())n=n[0].toUpperCase()+n.slice(1);else if(e instanceof b.Action){0}return this.globalCtx.quote(t+n,0)},e.prototype.globalId=function(e,t){void 0===t&&(t="");var n=this.getGlobalId(e,t);return this.jsid(n)},e.prototype.sep=function(){return 0<=" ([<.".indexOf(this.lastChar)?this:n.prototype.sep.call(this)},e.prototype.jsid=function(e){return/^[a-zA-Z_]\w*$/.test(e)||_.Util.oops("bad id: "+e),this.sep().write(e)},e.prototype.kw=function(e){return this.keyword(e)},e.prototype.semiNL=function(){return this.highlight&&this.sep().write("// ***"),this.nl(),this},e.prototype.comment=function(e){var t=this;return b.MdDocs.formatText(e).trim().split("\n").forEach(function(e){return t.op("//").space().write(e).nl()}),this},e}(b.TokenWriter),a=(function(t){function e(){t.apply(this,arguments)}__extends(e,t),e.prototype.visitCall=function(e){e.awaits()&&(this.lastAsync=e),t.prototype.visitCall.call(this,e)}}(b.ExprVisitor),function(n){function e(e){n.call(this),this.tw=e,this.numAwaits=0}return __extends(e,n),e.prototype.visitAstNode=function(e){delete e._converterValue,this.visitChildren(e)},e.prototype.visitInlineActions=function(e){var t=this.numAwaits;this.dispatch(e.expr),e._converterAwait=t<this.numAwaits,e.normalActions().forEach(function(e){return e.name._converterAction=e}),n.prototype.visitStmt.call(this,e)},e.prototype.visitStmt=function(e){var t=this.numAwaits;n.prototype.visitStmt.call(this,e),e._converterAwait=t<this.numAwaits},e.prototype.visitExprHolder=function(e){e.isAwait&&this.numAwaits++,n.prototype.visitExprHolder.call(this,e)},e.prototype.visitThingRef=function(e){var t=e.referencedLocal();t&&"number"==typeof t._converterUses&&t._converterUses++},e.prototype.visitAction=function(e){e.getOutParameters().forEach(function(e){e.local._converterUses=0}),n.prototype.visitAction.call(this,e)},e.prototype.visitDecl=function(e){this.tw.getGlobalId(e),n.prototype.visitDecl.call(this,e)},e}(b.NodeVisitor));(e=b.SymbolKind||(b.SymbolKind={}))[e.None=0]="None",e[e.Method=1]="Method",e[e.Property=2]="Property",e[e.Function=3]="Function",e[e.Variable=4]="Variable",e[e.Module=5]="Module",e[e.Enum=6]="Enum",e[e.EnumMember=7]="EnumMember";b.SymbolKind;b.td2ts=function(t){b.reset();var n=null,i=null;if(b.loadScriptAsync(function(e){return _.Promise.as(""==e?t.text:null)}).then(function(e){i=e},function(e){n=e}),n)throw n;var e=new _.AST.Converter(_.Script,t).run();return(e.tdres=i).errLibs=null,i.prevScript=null,e},b.testConverterAsync=function(){return _.Util.httpGetJsonAsync("http://localhost:4242/editor/local/apiinfo.json").then(function(e){return new _.AST.Converter(_.Script,{useExtensions:!0,apiInfo:e}).run().text})};var t=function(i){function y(e,t){var n=this;void 0===t&&(t={}),i.call(this),this.app=e,this.options=t,this.tw=new o,this.builtinCtx=new r,this.localCtx=new r,this.apis={},this.allEnums={},this.isReachable=!0,this.options.apiInfo&&Object.keys(this.options.apiInfo.byQName).forEach(function(e){-1==e.indexOf(".")&&(n.tw.globalCtx.reservedNames[e]=1)})}return __extends(y,i),y.prototype.run=function(){var n=this;new a(this.tw).dispatch(this.app),this.dispatch(this.app);var e=Object.keys(this.apis);e.sort(function(e,t){return n.apis[e]-n.apis[t]});var t={};return e.forEach(function(e){return t[e]=n.apis[e]}),{text:(this.tw.finalize().trim()+"\n").replace(/\n\n+/g,"\n\n"),apis:t}},y.prototype.renderSnippet=function(e){var t=this;return this.tw.clear(),e.forEach(function(e){return t.dispatch(e)}),this.tw.finalize()},y.prototype.renderSig=function(e){return this.tw.clear(),this.printActionHeader(e),this.tw.finalize()},y.prototype.localName=function(e){return e==this.thisLocal?this.tw.kw("this"):this.tw.jsid(this.localCtx.quote(e.getName(),e.nodeId)),this.tw},y.prototype.type=function(e){if(e.getRoot()==b.api.core.Collection)this.type(e.getParameter(0)),this.tw.op0("[]");else if(e.getRoot()==b.api.core.Task)this.tw.write("Promise<"),this.type(e.getParameter(0)),this.tw.write(">");else if(e.getRecord()){var t=e.getRecord().parentLibrary();t&&!t.isThis()&&this.tw.globalId(t).op0("."),this.tw.globalId(e.getRecord())}else if(e.parentLibrary()){var n=e.getName();n=n[0].toUpperCase()+n.slice(1),this.tw.jsid(this.builtinName(n))}else if(y.kindMap.hasOwnProperty(e.toString()))this.tw.kw(y.kindMap[e.toString()]);else{this.tw.id(this.localCtx.unUnicode(e.getRoot().toString())),0<e.getParameterCount()&&(this.tw.write("<"),this.type(e.getParameter(0)),this.tw.write(">"))}return this.tw},y.prototype.localDef=function(e){return this.localName(e).op0(":"),this.type(e.getKind())},y.prototype.builtinName=function(e){return this.builtinCtx.quote(e,0)},y.prototype.visitAstNode=function(e){this.visitChildren(e)},y.prototype.toRegex=function(e,t){void 0===t&&(t="");var n=e.getLiteral();n?this.tw.write("/"+n.replace(/\\?\//g,"\\/")+"/"+t):(this.tw.write("new RegExp("),this.dispatch(e),t&&this.tw.write(", "+JSON.stringify(t)),this.tw.write(")"))},y.prototype.bitop=function(e){if("Bits"!=e.parentKind.getName())return null;switch(e.getName().replace(/ u?int32$/,"")){case"or":return"|,4.1";case"xor":return"^,4.2";case"and":return"&,4.3";case"shift left":return"<<,7";case"shift right":return">>>,7"}return null},y.prototype.infixPri=function(e){var t=e.getCalledProperty();if(!t)return 0;if("is invalid"==t.getName())return 5;if(e instanceof b.Call&&e.funAction)return.1;if(t.parentKind==b.api.core.String){if("equals"==t.getName()||"is empty"==t.getName())return 5;if(t==b.api.core.StringConcatProp)return 10}else if(t.parentKind==b.api.core.Boolean){if("not"==t.getName()){var n=e.args[0].getCalledProperty();return n&&"is invalid"==n.getName()?5:!n||n.parentKind!=b.api.core.String||"is empty"!=n.getName()&&"equals"!=n.getName()?50:5}if("equals"==t.getName())return 5}else{if("mod"==t.getName()&&"Math"==t.parentKind.getName())return 20;if(this.bitop(t))return parseFloat(this.bitop(t).split(/,/)[1]);if(e instanceof b.Call&&e.awaits())return 40}return t.getInfixPriority()||0},y.prototype.visitCall=function(e){e!=this.currAsync?this.visitCallInner(e):this.tw.jsid("_")},y.prototype.propName=function(e){var t=e.getCalledProperty();return t?t.parentKind.getRoot().toString()+"->"+t.getName():null},y.prototype.dumpJs=function(e){var t=this;this.tw.write("/*JS*/").nl(),e.split("\n").forEach(function(e){e=e.replace(/(TDev\.Util|lib)\.userError\(/g,"throw new Error("),t.tw.write(e).nl()})},y.prototype.fixupArgs=function(e,t){var a=this;if(e.args[0]){if(!t){var n=e.args[0].getThing();if(!(n instanceof b.SingletonDef))return;if(n.getKind()instanceof _.ThingSetKind)return}if(this.options.apiInfo){var i=e.getCalledProperty(),r=t||this.builtinName(e.args[0].getThing().getName())+"."+this.builtinName(i.getName()),s=this.options.apiInfo.byQName[r];s?e.args.slice(1).forEach(function(e,t){var n=e.getLiteral();if(n&&"string"==typeof n){n=n.toLowerCase();var i=s.parameters[t];if(i){var r=a.options.apiInfo.byQName[i.type];if(r&&6==r.kind){var o=_.Util.values(a.options.apiInfo.byQName).filter(function(e){return e.namespace==i.type&&(e.name.toLowerCase()==n||(e.attributes.block||"").toLowerCase()==n)});1<=o.length?(e._converterValue=o[0].namespace+"."+o[0].name,1<o.length&&(e._converterValue+=" /*WARN: more possible!*/")):e._converterValue=i.type+"."+e.getLiteral()+" /*WARN: not found*/"}}}}):this.tw.write("/*WARN: no api "+r+"*/")}}},y.prototype.visitCallInner=function(e){var t=this,n=e.getCalledProperty(),i=this.infixPri(e),r=this.propName(e);40==i&&(i=0);var o=function(e){e.peek()&&e.peek().isEscapeDef()&&e.peek().def.escapeDef.isEmpty&&e.pop(),t.pcommaSep(e,function(e){return t.dispatch(e)})};if(n.parentKind==b.api.core.Unknown&&/^(return|break|continue)$/.test(n.getName()))return this.tw.kw(n.getName()),e.args[0].isPlaceholder()||(this.tw.sep(),this.dispatch(e.args[0])),void(this.isReachable=!1);var a=e.args.slice(0);a[0]&&(a[0].getThing()instanceof b.SingletonDef||a[0].referencedLibrary())&&a.shift();var s=y.prefixGlue[r],c=y.methodRepl[r];if(!c&&!s&&n.parentKind instanceof b.LibraryRefKind&&/micro:bit/.test(n.parentKind.getName())){var l=this.builtinName(n.getName()),u=_.Util.values(this.options.apiInfo.byQName).filter(function(e){return e.namespace&&e.name==l})[0];u&&(s=u.namespace+"."+u.name)}if(i||c||/^Invalid->/.test(r)||this.fixupArgs(e,s),i){if("-"==n.getName()&&0===e.args[0].getLiteral())return this.tw.op0("-"),void this.dispatch(e.args[1]);if(e.funAction)return 1==e.funAction.inParameters.length?this.localName(e.funAction.inParameters[0]):this.pcommaSep(e.funAction.inParameters,function(e){return t.localName(e)}),this.tw.op("=>"),void this.dispatch(e.args[1]);var d=function(e){t.infixPri(e)&&t.infixPri(e)<=i&&e.getCalledProperty().getName()!=n.getName()?(t.tw.op0("("),t.dispatch(e),t.tw.op0(")")):t.dispatch(e)};if("is invalid"==n.getName())d(e.args[0]),this.tw.sep().write("== null");else if("async"==n.getName())this.tw.write("/* async */ "),this.dispatch(e.args[1]);else if("is empty"==n.getName()){var p=e.args[0].getCalledProperty();p&&"or empty"==p.getName()?(this.tw.op0("!"),this.tightExpr(e.args[0].args[1])):(d(e.args[0]),this.tw.sep().write('== ""'))}else if(5==i&&"not"==n.getName())switch(d(e.args[0].args[0]),e.args[0].getCalledProperty().getName()){case"is invalid":this.tw.sep().write("!= null");break;case"is empty":this.tw.sep().write('!= ""');break;case"equals":this.tw.op("!="),d(e.args[0].args[1]);break;default:_.Util.die()}else if(1==e.args.length)this.printOp(n.getName()),d(e.args[0]);else if(e._assignmentInfo&&e._assignmentInfo.targets&&1<e._assignmentInfo.targets.length)this.tw.sep().op0("["),this.commaSep(e._assignmentInfo.targets,function(e){return t.dispatch(e)}),this.tw.op0("] =").sep(),this.dispatch(e.args[1]);else if(n==b.api.core.AssignmentProp&&e.args[0].getLiftedSetter())this.visitCallInner(b.mkFakeCall(b.PropertyRef.mkProp(e.args[0].getLiftedSetter()),[e.args[0].args[0],e.args[1]]));else{var h=e.args;3==h.length&&h.shift(),d(h[0]);var m=n.getName();"equals"==m&&(m="=="),this.bitop(n)&&(m=this.bitop(n).split(",")[0]),this.printOp(m),d(h[1])}}else if(s)this.tw.write(s),o(a);else if(null!=c)this.tightExpr(a[0]),a.shift(),""!=y.methodRepl[r]&&(this.tw.write("."+y.methodRepl[r]),o(a));else if(e.referencedData())this.tw.globalId(e.referencedData());else if(e.referencedLibrary())this.tw.globalId(e.referencedLibrary());else if(e.referencedRecord())this.tw.globalId(e.referencedRecord());else if(e.referencedRecordField())this.tightExpr(e.args[0]),this.tw.op0("."),this.simpleId(e.referencedRecordField().getName());else if(e.calledAction()||e.calledExtensionAction()){var f=e.calledExtensionAction()||e.calledAction(),g=e.args.slice(0);g[0].getKind()instanceof _.ThingSetKind&&g.shift(),(this.isExtension(f)||f.parent!=this.app)&&(this.tightExpr(g[0]),g.shift(),this.tw.op0(".")),this.tw.globalId(f),o(g)}else if("App->javascript"==r)this.dumpJs(e.args[2].getLiteral());else if("App->javascript async"==r)this.tw.write("new Promise(resume =>").beginBlock(),this.dumpJs(e.args[2].getLiteral()),this.tw.endBlock(),this.tw.op0(")");else if(n.parentKind instanceof b.RecordDefKind&&"create"==n.getName())this.tw.write("new "),this.type(e.getKind()),o([]);else if(/^Invalid->/.test(r)||n.parentKind instanceof b.RecordDefKind&&"invalid"==n.getName())this.tw.write("(null as "),this.type(e.getKind()),this.tw.write(")");else if(/^Json Builder->set (string|number|boolean|field|builder)$/.test(r)||/->set at$/.test(r))this.tightExpr(e.args[0]),this.tw.op0("["),this.dispatch(e.args[1]),this.tw.op0("] = ").sep(),this.dispatch(e.args[2]);else if(/^Json (Builder|Object)->(string|number|boolean|field|remove field)$/.test(r)||/->at$/.test(r))/remove/.test(r)&&this.tw.kw("delete"),this.tightExpr(e.args[0]),this.tw.op0("["),this.dispatch(e.args[1]),this.tw.op0("]");else if("String->to character code"==r){var v=e.args[0].getCalledProperty();v&&v.parentKind==b.api.core.String&&"at"==v.getName()?(this.tightExpr(e.args[0].args[0]),this.tw.write(".charCodeAt"),o([e.args[0].args[1]])):(this.tightExpr(e.args[0]),this.tw.write(".charCodeAt(0)"))}else/^Web->json array$/.test(r)?this.tw.write("[]"):/^Web->json object$/.test(r)?this.tw.write("{}"):/^Json (Builder|Object)->serialize$/.test(r)?(this.tw.write("JSON.stringify"),o([e.args[0]])):/^Json (Builder|Object)->format$/.test(r)?(this.tw.write("JSON.stringify("),this.dispatch(e.args[0]),this.tw.write(", null,").sep(),this.dispatch(e.args[1]),this.tw.write(")")):/^Collection->remove at$/.test(r)?(this.tightExpr(e.args[0]),this.tw.write(".splice("),this.dispatch(e.args[1]),this.tw.write(", 1)")):/^Json (Builder|Object)->(to json|clone|to json builder)$/.test(r)?/^Web->json(| array| object)$/.test(this.propName(e.args[0]))?this.dispatch(e.args[0]):(this.tw.write("clone"),o([e.args[0]])):"Web->create json builder"==r?this.tw.op0("{}"):e.getKind().getRoot()==b.api.core.Collection&&e.args[0].getCalledProperty()&&"Collection of"==e.args[0].getCalledProperty().getName()||/->create collection$/.test(r)||/^Collections->.* collection$/.test(r)?(this.tw.op0("([] as "),this.type(e.getKind()),this.tw.op0(")")):e.getKind().getRoot()==b.api.core.Collection&&e.args[0].getCalledProperty()&&"map to"==e.args[0].getCalledProperty().getName()?(this.tightExpr(e.args[0].args[0]),this.tw.op0(".map<"),this.type(e.getKind().getParameter(0)),this.tw.op0(">"),o([e.args[1]])):/->count$/.test(r)?(this.tightExpr(e.args[0]),this.tw.op0(".length")):"String->replace regex with converter"==r?(this.tw.write("td.replaceFn("),this.dispatch(e.args[0]),this.tw.op0(",").sep(),this.toRegex(e.args[1]),this.tw.write("g,").sep(),this.dispatch(e.args[2]),this.tw.op0(")")):"String->match"==r?(this.tw.op0("("),this.toRegex(e.args[1]),this.tw.write(".exec("),this.dispatch(e.args[0]),this.tw.op0(") || [])")):"String->is match regex"==r?(this.toRegex(e.args[1]),this.tw.write(".test("),this.dispatch(e.args[0]),this.tw.op0(")")):"String->replace regex"==r?(this.tightExpr(e.args[0]),this.tw.write(".replace("),this.toRegex(e.args[1],"g"),this.tw.op0(",").sep(),this.dispatch(e.args[2]),this.tw.op0(")")):"◈add"==n.getName()?(this.dispatch(e.args[0]),this.tw.op("+="),this.dispatch(e.args[1])):"◈set"==n.getName()?(this.dispatch(e.args[0]),this.tw.op("="),this.dispatch(e.args[1])):n.parentKind.isAction&&"run"==n.getName()?(this.tightExpr(e.args[0]),o(e.args.slice(1))):"Web->json"==r?e.args[1].getLiteral()?this.tw.op0("(").write(e.args[1].getLiteral()).op0(")"):(this.tw.write("JSON.parse("),this.dispatch(e.args[1]),this.tw.write(")")):(/^App Logger->/.test(r)||(this.apis.hasOwnProperty(r)||(this.apis[r]=0),this.apis[r]++),this.tightExpr(e.args[0]),this.tw.op0("."),this.simpleId(n.getName()),o(e.args.slice(1)))},y.prototype.tightExpr=function(e){e instanceof b.ThingRef||e instanceof b.Call&&0==this.infixPri(e)||e instanceof b.Literal?this.dispatch(e):(this.tw.op0("("),this.dispatch(e),this.tw.op0(")"))},y.prototype.visitExprHolder=function(e){e.isPlaceholder()?this.tw.write("/* placeholder */"):this.dispatch(e.parsed)},y.prototype.printOp=function(e){y.opmap.hasOwnProperty(e)?this.tw.op(y.opmap[e]):this.tw.op(e)},y.prototype.simpleId=function(e){var t=this.localCtx.unUnicode(e);return this.tw.jsid(t)},y.prototype.visitPropertyRef=function(e){this.tw.op0("."),this.simpleId(e.getText())},y.prototype.visitLiteral=function(e){var t;e._converterValue?this.tw.write(e._converterValue):void 0!==e.data&&("number"==typeof e.data?this.tw.write(e.stringForm||e.data.toString()):"string"==typeof e.data?this.tw.write(20<(t=e.data).length&&/\n/.test(t)?(/^[01 \n]*$/.test(t)&&(t="\n"+t.replace(/0/g,".").replace(/1/g,"#")+"\n"),"`"+t.replace(/[\\`${}]/g,function(e){return"\\"+e})+"`"):JSON.stringify(t)):"boolean"==typeof e.data?this.tw.kw(e.data?"true":"false"):e.writeTo(this.tw))},y.prototype.inlineAction=function(e){var t=this;this.pcommaSep(e.inParameters,function(e){return t.localDef(e)}),this.tw.op("=>").beginBlock(),e.outParameters.forEach(function(e){t.tw.kw("let"),t.localDef(e),t.tw.semiNL()}),this.codeBlockInner(e.body.stmts),1<=e.outParameters.length&&(this.tw.kw("return"),this.localName(e.outParameters[0]).semiNL()),this.tw.endBlock()},y.prototype.visitThingRef=function(e){var n=this,t=e.def;if(t instanceof b.LocalDef){var i=t._converterAction;i?this.inlineAction(i):t.getKind()==b.api.core.Unknown?this.simpleId(t.getName()):this.localName(t)}else if(t instanceof b.SingletonDef)this.simpleId(t.getName());else if(e.isEscapeDef()){var r=t.escapeDef;if(r.isEmpty)return void this.tw.op0("{}");this.tw.beginBlock();var o=r.optionalConstructor.optionalParameters();o.forEach(function(e,t){n.simpleId(e.recordField.getName()).op0(":").sep(),e instanceof b.OptionalParameter?n.dispatch(e.expr):n.inlineAction(e),t<o.length-1&&n.tw.op0(","),n.tw.nl()}),this.tw.endBlock()}else this.simpleId(t.getName())},y.prototype.visitAnyIf=function(e){var n=this,i=this.tw;e.branches&&e.branches.forEach(function(e,t){e.condition?(0<t&&i.keyword("else"),i.keyword("if").sep().op0("("),n.dispatch(e.condition),i.op0(")"),n.dispatch(e.body)):e.body.isBlockPlaceholder()||(i.keyword("else"),n.dispatch(e.body)),n.isReachable=!0})},y.prototype.visitFor=function(e){this.tw.kw("for (let").sep(),this.localName(e.boundLocal).write(" = 0;").sep(),this.localName(e.boundLocal).op("<"),this.dispatch(e.upperBound),this.tw.op0(";").sep(),this.localName(e.boundLocal).op0("++)"),this.dispatch(e.body)},y.prototype.visitForeach=function(e){this.tw.kw("for (let").sep(),this.localName(e.boundLocal).write(" of").sep(),this.dispatch(e.collection),this.tw.op0(")"),_.Util.assert(0==e.conditions.stmts.length),this.dispatch(e.body)},y.prototype.visitWhile=function(e){var t=this.tw;t.keyword("while").sep().op0("("),this.dispatch(e.condition),t.op0(")"),this.dispatch(e.body)},y.prototype.visitInlineActions=function(e){this.visitExprStmt(e)},y.prototype.visitExprStmt=function(e){e.isVarDef()&&this.tw.kw("let"),this.dispatch(e.expr),this.tw.semiNL()},y.prototype.codeBlockInner=function(e){var n=this;e.forEach(function(e,t){e.isPlaceholder()?0<t&&n.tw.nl():n.dispatch(e)})},y.prototype.visitCodeBlock=function(e){this.tw.beginBlock(),this.codeBlockInner(e.stmts),this.tw.endBlock(),this.isReachable=!0},y.prototype.pcommaSep=function(e,t){this.tw.op0("("),this.commaSep(e,t),this.tw.op0(")")},y.prototype.commaSep=function(e,n){var i=this;e.forEach(function(e,t){0<t&&i.tw.op0(",").sep(),n(e)})},y.prototype.isOwnExtension=function(e){if(!this.options.useExtensions||!this.isExtension(e))return!1;var t=this.getFirstRecord(e);return t&&t.parent==this.app},y.prototype.isExtension=function(e){if(!this.options.useExtensions&&e.parent==this.app)return!1;if(e.isActionTypeDef())return!1;var t=e.getInParameters()[0];if(t&&/\?$/.test(t.getName()))return!1;var n=this.getFirstRecord(e);return n?n.parent==e.parent:!(!t||t.local.getKind().parentLibrary()!=e.parentLibrary())},y.prototype.getFirstRecord=function(e){var t=e.getInParameters()[0];return t?t.local.getKind().getRecord():null},y.prototype.actionReturn=function(e){var t=this;var n=e.getOutParameters();0==n.length?this.tw.kw("void"):1==n.length?this.type(n[0].getKind()):(this.tw.op0("["),this.commaSep(n,function(e){return t.type(e.local.getKind())}),this.tw.op0("]"))},y.prototype.printActionTypeDef=function(e){var t=this;this.tw.kw("export type"),this.tw.globalId(e).op("="),this.pcommaSep(e.getInParameters(),function(e){return t.localDef(e.local)}),this.tw.op("=>"),this.actionReturn(e),this.tw.semiNL()},y.prototype.setupQuoting=function(){this.localCtx=new r,this.localCtx.reservedNames=this.tw.globalCtx.snapshotUsed(),this.thisLocal=null},y.prototype.printActionHeader=function(o){var n=this;if(!o.isActionTypeDef()){var e=this.isOwnExtension(o);this.setupQuoting();var t="",i=null,r=function(e){/\?$/.test(e.getName())?(i=e.local,t=n.localCtx.unUnicode(e.getName()+"0"),n.tw.jsid(t).write(": "),n.tw.globalId(e.local.getKind().getRecord(),"I"),n.tw.write(" = {}")):n.localDef(e.local)},a=o.body.stmts.slice(0),s=[];if(!/^example/.test(o.getName())&&a[0]instanceof b.Comment){for(var c={},l=0;a[0]instanceof b.Comment;){var u=a[0].text;(u=(u=u.replace(/\{(\w+)(:[^{}]*)?\}/g,function(e,t,n){n||(n=":");var i=(n=n.slice(1)).replace(/:.*/),r=n.slice(i.length+1);switch(t){case"shim":case"help":case"weight":n=/\s/.test(n)?/"/.test(n)?"'"+n+"'":'"'+n+'"':n,s.push(t+"="+n);break;case"enum":case"namespace":case"action":break;case"hints":c[i]=", eg: "+r.replace(/,/g,", ");break;default:return e}return"shim"!=t||o.isAtomic||s.push("async"),""})).trim())&&(0==l&&this.tw.write("/**").nl(),this.tw.write(" * "+u).nl(),l++),a.shift()}l&&(o.getInParameters().forEach(function(e){n.tw.write(" * @param "),n.localName(e.local),n.tw.write(" TODO"+(c[e.getName()]||"")).nl()}),this.tw.write(" */").nl()),s.length&&this.tw.write("//% "+s.join(" ")).nl(),o.getParameters().forEach(function(t){if(t.enumMap){var e="enum TODO {\n"+Object.keys(t.enumMap).map(function(e){return"    //% enumval="+t.enumMap[e]+"\n    "+n.builtinName(e)+",\n"}).join("")+"}\n";n.allEnums[e]=1}})}return e?(o.isPrivate?this.tw.kw("private"):this.tw.kw("public"),this.tw.globalId(o),this.pcommaSep(o.getInParameters().slice(1),r)):(this.tw.kw("function"),this.tw.globalId(o),this.pcommaSep(o.getInParameters(),r)),0<o.getOutParameters().length&&(this.tw.op(":"),this.actionReturn(o)),{isExtension:e,stmts:a,optsLocal:i,optsName:t}}this.printActionTypeDef(o)},y.prototype.visitAction=function(e){var t=this;if(0==e.getInParameters().length&&/^main/.test(e.getName()))return this.setupQuoting(),this.codeBlockInner(e.body.stmts),void this.tw.nl();var n=this.printActionHeader(e),i=n.optsLocal;this.tw.beginBlock(),n.isExtension&&(this.thisLocal=e.getInParameters()[0].local),i&&(this.tw.kw("let").sep(),this.localName(i),this.tw.write(" = new").sep(),this.type(i.getKind()),this.tw.write("(); "),this.localName(i).write(".load("),this.tw.jsid(n.optsName).op0(");").nl());var r=!!e.getOutParameters().filter(function(e){return 0<e.local._converterUses})[0];r&&e.getOutParameters().forEach(function(e){t.tw.kw("let"),t.localDef(e.local),t.tw.semiNL()}),this.isReachable=!0,this.codeBlockInner(n.stmts),r&&this.isReachable&&(1==e.getOutParameters().length?(this.tw.kw("return"),this.localName(e.getOutParameters()[0].local).semiNL()):1<e.getOutParameters().length&&(this.tw.kw("return "),e.isAtomic||(this.tw.op0("<["),this.commaSep(e.getOutParameters(),function(e){return t.type(e.local.getKind())}),this.tw.op0("]>")),this.tw.op0("["),this.commaSep(e.getOutParameters(),function(e){return t.localName(e.local)}),this.tw.op0("]").nl())),this.tw.endBlock(),this.tw.nl()},y.prototype.defaultValue=function(e){return e==b.api.core.String?'""':e==b.api.core.Number?"0":e==b.api.core.Boolean?"false":null},y.prototype.visitGlobalDef=function(e){e.getKind()!=b.api.core.Picture&&(this.tw.kw("let"),this.tw.globalId(e).op0(": "),this.type(e.getKind()),this.tw.semiNL())},y.prototype.visitLibraryRef=function(e){},y.prototype.visitRecordDef=function(t){var n=this;this.tw.kw("class").sep(),this.tw.globalId(t).beginBlock(),t.getFields().forEach(function(e){n.tw.kw("public").sep(),n.simpleId(e.getName()),n.tw.op0(":").sep(),n.type(e.dataKind),n.tw.semiNL()}),this.app.actions().filter(function(e){return n.isOwnExtension(e)&&n.getFirstRecord(e)==t}).forEach(function(e){return n.visitAction(e)}),this.tw.endBlock(),this.tw.nl()},y.prototype.visitApp=function(e){var t=this,n=function(e){return e.forEach(function(e){return t.dispatch(e)})};n(e.libraries()),this.tw.nl(),n(e.allActions().filter(function(e){return e.isActionTypeDef()})),this.tw.nl(),n(e.variables()),this.tw.nl(),n(e.resources()),this.tw.nl(),n(e.records()),this.tw.nl();var i=e.allActions().filter(function(e){return!t.isOwnExtension(e)&&!e.isActionTypeDef()}),r=_.Util.groupBy(i,function(e){return e.getNamespaces()[0]||""});Object.keys(r).forEach(function(e){e&&t.tw.kw("namespace "+e).beginBlock(),n(r[e]),e&&t.tw.endBlock()}),this.tw.write(Object.keys(this.allEnums).join("\n"))},y.prototype.visitComment=function(e){var t=e.text.trim();"{highlight}"==t?this.tw.highlight++:"{/highlight}"==t?this.tw.highlight--:this.tw.comment(e.text)},y.prototype.visitStmt=function(e){console.log("unhandled stmt: "+e.nodeType()),i.prototype.visitStmt.call(this,e)},y.kindMap={String:"string",Number:"number",Boolean:"boolean",Nothing:"void",DateTime:"Date","Json Object":"{}","Json Builder":"{}",Buffer:"Buffer"},y.prefixGlue={"App->log":"console.log","Time->now":"new Date","Json Builder->keys":"Object.keys","Json Object->keys":"Object.keys","String Map->keys":"Object.keys","Contract->assert":"control.assert","Bits->string to buffer":"new Buffer","Bits->create buffer":"pins.createBuffer","Time->sleep":"basic.sleep","String->to number":"parseInt","Web->decode url":"decodeURIComponent","Web->decode uri component":"decodeURIComponent","Web->encode uri component":"encodeURIComponent","Web->encode url":"encodeURIComponent","Math->clamp":"Math.clamp","Math->abs":"Math.abs","Math->sign":"Math.sign","Math->pow":"Math.pow","Math->sqrt":"Math.sqrt","Math->min":"Math.min","Math->max":"Math.max","Math->round":"Math.round","Math->floor":"Math.floor","Math->random":"Math.random","Math->random range":"Math.randomRange","Math->random normalized":"Math.randomNormalized","Json Builder->to string":"td.toString","Json Object->to string":"td.toString","Json Builder->to number":"td.toNumber","Json Object->to number":"td.toNumber","♻ micro:bit->plot image":"basic.showLeds","♻ micro:bit->note":"music.noteFrequency","♻ micro:bit music->note":"music.noteFrequency","♻ micro:bit->ring":"music.ringTone","♻ micro:bit->play note":"music.playTone","♻ micro:bit music->play note":"music.playTone"},y.methodRepl={"Buffer->concat":"concat","Buffer->to string":"toString","Number->to string":"toString","String->replace":"replaceAll","String->split":"split","String->substring":"substr","String->to upper case":"toUpperCase","String->to lower case":"toLowerCase","String->code at":"charCodeAt","Json Builder->add":"push","Json Builder->contains key":"hasOwnProperty","Json Object->contains key":"hasOwnProperty","Collection->add":"push","Collection->where":"filter","DateTime->milliseconds since epoch":"getTime","Web Request->send":"sendAsync","♻ micro:bit->show image":"showImage","String->to json":"","Number->to json":"","Task->await":""},y.opmap={not:"!",and:"&&",or:"||","∥":"+","=":"==",":=":"=","≠":"!=","≤":"<=","≥":">=",mod:"%"},y}(b.NodeVisitor);b.Converter=t}(_.AST||(_.AST={}))}(TDev||(TDev={})),function(C){var n;(function(g){var v,y,t,b;g.preexistingArtIds={},g.info=function(){return JSON.stringify({},null,1)};var _,w={videoptr:"video",section:"section",breadcrumbtitle:"short",parenttopic:"parent"};function o(e){var m="";function f(e){y!=t&&(console.log("*** "+y),t=y),m+="WARN: "+e+"\n",console.log("WARN: "+e)}return e=(e=(e=e.replace(/\t/g," ")).replace(/\[([^\n\[\]]*)\]\s*\(([\w\/\-]+)\)/g,function(e,t,n){return t||(t=n.replace(/.*\//,"")),"["+t+"]("+(n="/microbit"+(n=n.replace(/^\/td/,"/js")))+")"})).replace(/\{([\/\w\*]+)(:([^{}]*))?\}/g,function(e,t,n,i){if("vimeo"==(t=t.toLowerCase())&&(t="videoptr",i="vimeo/"+i),"sig"==t){var r=i.split(/->/),o=null;return C.Script.librariesAndThis().forEach(function(e){e.getName()==r[0]&&(o=o||e.getPublicActions().filter(function(e){return e.getName()==r[1]})[0])}),o&&_?k(_.renderSig(o)):(f("cannot find lib action: "+i),e)}if("decl"==t){var a=C.Script.things.filter(function(e){return e.getName()==i})[0];return a?x([a]):(f("no such decl: "+i),e)}if("fullsig"==t)return f("unsupported macro: "+t),e;if("topic"==t)return(v=("/"+(y=i)).replace(/(\/(td|functions))+\//g,"/").replace(/\/(activity|quiz|quiz.answer(s|)|challenges|tutorial)$/,""))||(v=y),v=v.replace(/^\//,"").toLowerCase(),"";if("box"==t){i||(i="box");var s=(l=/([^:]+):(.*)/.exec(i))?l[1]:i,c=l?l[2]:"";return b=null,"card"==s?"## "+c:"screen"==s?"":"### ~"+(b=s)+" "+c}if("hide"==t)return b="hide","### ~hide";if("/box"==t||"/hide"==t)return b?(b=null,"### ~"):"";if(w.hasOwnProperty(t))return"### @"+w[t]+" "+(i||"")+"\n";if("pic"==t||"pici"==t){var l,u=i.split(/:/),d=C.Script.resources().filter(function(e){return C.MdComments.shrink(e.getName())==C.MdComments.shrink(u[0])})[0],p="";d&&(l=/([a-z]+)$/.exec(d.url))&&(p=l[1]),!p&&/^[a-z]+$/.test(u[0])&&(p=u[0]),p||f("missing picture: "+i);var h=g.preexistingArtIds[p];return h?"![](/static/mb/"+h+")":(f("unknown picture: "+i),"(picture "+u[0]+")")}return m+="MACRO: "+t,e}),/^\* /.test(e)?e+"\n"+m:"\n"+e+"\n"+m+"\n"}function k(e){return"\n```\n"+e.trim()+"\n```\n\n"}function x(e){return _?k(_.renderSnippet(e)):"["+e.length+" stmts]"}g.formatText=o,g.toMD=function(e){return(_=new n.Converter(e)).run(),("# "+e.getName()+"\n\n"+e.getDescription()+"\n\n"+function(e){for(var t="",n=0;n<e.length;){var i=e[n].docText();if(null!=i)if(null!=/^\s*(\{code\}|````)\s*$/.exec(i)){for(var r=n+1;r<e.length&&!/^\s*(\{\/code\}|````)\s*$/.test(e[r].docText());)r++;t+=x(e.slice(n+1,r)),n=r+1}else t+=o(i),n++;else{for(r=n;r<e.length&&null==e[r].docText();)r++;t+=x(e.slice(n,r)),n=r}}return t}(e.mainAction().body.stmts)).replace(/\n\n+/g,"\n\n")}})((n=C.AST||(C.AST={})).MdDocs||(n.MdDocs={}))}(TDev||(TDev={})),function(o){!function(e){function t(e){o.Util.log("ScriptCache: "+e)}var r=function(){return o.Storage.getTableAsync("ScriptCache")};function n(i){if(!o.Util.check(!!i))return o.Promise.as("");var e=o.shippedLibraryCache;return e&&e.text.hasOwnProperty(i)?o.Promise.as(e.text[i]):r().then(function(e){return e.getValueAsync("id-"+i)}).then(function(e){return"string"==typeof e?(t("cache hit: "+i),e):(t("cache miss: "+i),o.Cloud.getScriptTextAsync(i).then(function(n){return r().then(function(e){if(!n)return n;var t={};return t["id-"+i]=n,e.setItemsAsync(t).then(function(){return n})})},function(e){return 404!=e.status?(o.Util.reportError("getScriptAsync",e,!1),null):""}))})}e.scriptSource=function(t){return function(e){return e?n(e):o.Promise.as(t)}},e.snapshotCacheAsync=function(n){return r().then(function(t){return t.getKeysAsync().then(function(e){return e=e.filter(function(e){return/^id-/.test(e)}),t.getItemsAsync(e).then(function(e){n.scriptCache=e})})})},e.restoreCacheAsync=function(t){return t.scriptCache?r().then(function(e){return e.setItemsAsync(t.scriptCache)}):o.Promise.as()},e.forceUpdateId=function(e){var t=o.shippedLibraryCache;return t&&t.updates[e]||e},e.forcedUpdate=function(e){var t=o.shippedLibraryCache;return t&&t&&t.updates.hasOwnProperty(e)?(e=t.updates[e],{json:t.json[e],text:t.text[e]}):null},e.shippedLibrariesJson=function(){var e=o.shippedLibraryCache;return e?e.json:void 0},e.getScriptAsync=n}(o.ScriptCache||(o.ScriptCache={}))}(TDev||(TDev={})),function(G){!function(S){function A(e){G.Util.log("World: "+e)}S.log=A,S.getScriptMeta,S.sanitizeScriptTextForCloud,S.waitForUpdate=function(e){return!1},S.disableMerge=!0,S.newHeaderCallbackAsync=function(e,t){return G.Promise.as()},S.incomingHeaderAsync=function(e){return G.Promise.as()};var T=null,L=new G.PromiseInv,M=window.localStorage,E=function(){return G.Storage.getTableAsync("Index")},N=function(){return G.Storage.getTableAsync("Scripts")};function D(e){var t=JSON.parse(JSON.stringify(e));return delete t.script,t}function I(e,t,n){var i={};i[n]=void 0;var r={};return r[n+"-script"]=void 0,r[n+"-scriptState"]=void 0,r[n+"-scriptVersionInCloud"]=void 0,G.Promise.join([e.setItemsAsync(i),t.setItemsAsync(r)])}var P=[];function o(e,t,n){return R(e,t,((i=n).scriptVersion={instanceId:G.Cloud.getWorldId(),version:2147483647,time:253402300799,baseSnapshot:i.scriptVersion.baseSnapshot},i.status="deleted",i),0,0,0,0);var i}function R(e,t,n,i,r,o,a){var s={};if(!i||n.editor||n.meta&&void 0!==n.meta.comment||(n.meta=S.getScriptMeta(i),G.Cloud.lite&&P.push({guid:n.guid,meta:n.meta})),n.editor&&(!n.meta||!n.meta.name))return G.Util.log("ERROR pre-condition not met for [setInstalledAsync]; bailing"),G.Promise.as();n.meta&&(n.name=n.meta.name),s[n.guid]=JSON.stringify(n);var c={};return null!=i&&(c[n.guid+"-script"]="string"==typeof i?i:void 0),null!=r&&(c[n.guid+"-editorState"]="string"==typeof r?r:void 0),null!==o&&(c[n.guid+"-scriptState"]="string"==typeof o?o:void 0),null!=a&&(c[n.guid+"-scriptVersionInCloud"]="string"==typeof a?a:void 0),A(n.guid+"/"+n.scriptId+": "+n.name+" save with base "+n.scriptVersion.baseSnapshot),G.Promise.join([e.setItemsAsync(s),t.setItemsAsync(c)])}function d(t,n,i){return Object.keys(i).forEach(function(e){i[e]&&"object"==typeof i[e]&&n[e]&&"object"==typeof n[e]?n[e]=d(t[e]||{},n[e],i[e]):n.hasOwnProperty(e)&&t[e]!==n[e]||(n[e]=i[e])}),n}function t(e){return G.Util.httpGetJsonAsync(G.Cloud.config.workspaceUrl+e)}function q(i,r,a){if(A(a.guid+"/"+a.scriptId+": "+a.name+" is newer"),G.Cloud.lite){var s,c,l,u,e=!1;return t(a.scriptVersion.baseSnapshot).then(function(e){return s=e}).then(function(){return S.incomingHeaderAsync(a.guid)}).then(function(){return i.getValueAsync(a.guid)}).then(function(e){return u=e?JSON.parse(e):null}).then(function(){var o=function(){a.scriptVersion.instanceId=G.Cloud.getWorldId(),a.scriptVersion.time=p(),a.scriptVersion.version++,a.status="unpublished"};return u&&"cloud"!=u.scriptVersion.instanceId&&u.scriptVersion.baseSnapshot&&u.scriptVersion.baseSnapshot!=a.scriptVersion.baseSnapshot?S.disableMerge?(o(),e=!0,{script:null,editorState:null}):(A(a.guid+"/"+a.scriptId+": "+a.name+" merging based on "+u.scriptVersion.baseSnapshot),t(u.scriptVersion.baseSnapshot).then(function(e){c=e}).then(function(){return S.incomingHeaderAsync(a.guid)}).then(function(){return r.getItemsAsync([a.guid+"-script",a.guid+"-editorState"])}).then(function(e){l={script:e[a.guid+"-script"],editorState:e[a.guid+"-editorState"]}}).then(function(){if(a.editor){var e={script:l.script,editorState:l.editorState,extra:{theirs:{scriptText:s.script,editorState:s.editorState,baseSnapshot:a.scriptVersion.baseSnapshot,metadata:a.meta},base:{scriptText:c.script,editorState:c.editorState,baseSnapshot:u.scriptVersion.baseSnapshot,metadata:u.meta}}},t=a.scriptVersion.baseSnapshot;return(a=u).pendingMerge=t,e}return o(),{script:S.mergeScripts(c.script,l.script,s.script),editorState:(n=c.editorState,i=l.editorState,r=s.editorState,JSON.stringify(d(JSON.parse(n||"{}"),JSON.parse(i||"{}"),JSON.parse(r||"{}"))))};var n,i,r})):s}).then(function(e){return R(i,r,a,e.script,e.editorState,null,JSON.stringify(e.extra||{}))}).then(function(){return S.newHeaderCallbackAsync(a,e?"skippedMerge":"downloaded")}).then(function(){return"cloud"==a.scriptVersion.instanceId?G.Promise.as():j(i,r,a)})}return G.Cloud.getUserInstalledBodyAsync(a.guid).then(function(e){var t=void 0;if(e.bodies.forEach(function(e){e.guid==a.guid&&(t=e)}),t){var n=JSON.stringify(a.scriptVersion);return"published"==t.status?G.ScriptCache.getScriptAsync(t.scriptId).then(function(e){return null==e?G.Promise.as():""==e?o(i,r,D(t)):R(i,r,D(t),e,t.editorState,null,n)}):""==t.script?o(i,r,D(t)):R(i,r,D(t),t.script,t.editorState,null,n)}return I(i,r,a.guid)})}function j(r,o,n){var a=JSON.stringify(n.scriptVersion);return A(n.guid+"/"+n.scriptId+": "+n.name+" is dirty, attempting to save version "+a),n.pendingMerge?(A(n.guid+"/"+n.scriptId+": "+n.name+" is pending merge resolution, skipping"),G.Promise.as()):G.Promise.join({script:o.getValueAsync(n.guid+"-script"),editorState:o.getValueAsync(n.guid+"-editorState")}).then(function(e){var t=JSON.parse(JSON.stringify(n));return G.Cloud.lite||"published"!=t.status?G.Cloud.lite&&"published"==t.status||"unpublished"==t.status||"tobepublished"==t.status?(t.script=S.sanitizeScriptTextForCloud(e.script),"tobepublished"==t.status&&(t.status="unpublished")):t.script=void 0:t.script="",t.editorState=e.editorState,G.Cloud.lite&&S.disableMerge&&(t.scriptVersion.baseSnapshot="*"),G.Cloud.postUserInstalledAsync({bodies:[t]}).then(function(n){if(G.Cloud.lite&&!n.numErrors){var i=n.headers[0];return!i.editor&&t.script&&(i.meta=S.getScriptMeta(t.script)),H(i.guid).then(function(e){var t=JSON.stringify(e.scriptVersion);return A("actually saving? version is now "+t),t!=a?(e.scriptVersion.baseSnapshot=n.headers[0].scriptVersion.baseSnapshot,n.retry=!0,R(r,o,e,null,null,null,null).then(function(){return n})):R(r,o,i,null,null,null,null).then(function(){return n})}).then(function(e){return S.newHeaderCallbackAsync(e.headers[0],"uploaded").then(function(){return e})})}return G.Promise.as(n)})})}S.mergeJSON=d,S.mergeScripts=function(e,t,n){return t},S.getScriptBlobAsync=t;var B=void 0,a=void 0,z=0;function e(){B=void 0}S.cancelSync=e,S.syncIsActive=function(){return!!B},S.cancelContinuouslySync=function(){a&&(a=void 0,e())};var O,U=null,n={};function s(t,o,e,a,s,n,i,r){void 0===t&&(t=!0),void 0===o&&(o=void 0),void 0===e&&(e=!1),void 0===a&&(a=void 0),void 0===s&&(s=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0),void 0===r&&(r=void 0);var c=G.RT.Perf.start("syncasync",!0),l=G.RT.Perf.start("startsync");function u(e){o||G.RT.Perf.stop(l),l=G.RT.Perf.start(e)}if(0<z&&window.applicationCache.status==window.applicationCache.IDLE)try{window.applicationCache.update()}catch(e){}if(u("appcache"),z++,G.Cloud.isOffline()){var d=G.lf("cannot sync - you appear to be offline");return G.HTML.showProgressNotification(o?void 0:d),G.Promise.as(d)}u("isonline");var p=new Object;B=p;var h=G.Promise.wrapError("canceled");A("starting sync"),M.removeItem("editorScriptToSaveDirty");var m=0,f=0,g=0,v=function(e,t,n){if(B==p){f+=t,g+=n;var i=[];(m+=e)&&i.push(G.lf("{0} down",m)),f&&i.push(G.lf("{0} up",f)),g&&i.push(G.lf("{0} publish",g));var r=G.lf("syncing...");0<i.length&&(r+=" ("+i.join(", ")+")",G.HTML.showProgressNotification(r,!1))}};v(0,0,0);var y=[],b=[],_=[],w=[],k=[],x=!1,C=null;return(o?G.Cloud.getUserInstalledLongAsync(o,e):G.Cloud.getUserInstalledAsync()).then(function(e){return B!=p?h:G.Promise.join({installedHeaders:e,indexTable:E(),scriptsTable:N()})},function(e){if(204==e.status)return p=new Object,h;throw e}).then(function(e){if(u("opendb+user/installed"),B!=p)return h;var t=e.installedHeaders.user;t&&(T=t,L&&(L.success(t),L=null));var n=e.installedHeaders.minimum;if(O=e.installedHeaders.v,!(n&&G.Cloud.currentReleaseId&&n<G.Cloud.currentReleaseId&&S.waitForUpdate(n))){if(S.onNewNotificationChanged&&S.onNewNotificationChanged(e.installedHeaders.newNotifications),G.Runtime.offerNotifications()){var i=e.installedHeaders.notifications;G.Runtime.refreshNotifications&&G.Runtime.refreshNotifications(i),S._askToEnableNotifications=!i}if(S._askEmail=!e.installedHeaders.email,S._askToEnableEmailNewsletter=!e.installedHeaders.emailNewsletter,S._askToEnableEmailNotifications=!e.installedHeaders.emailNotifications,S._profileIndex=e.installedHeaders.profileIndex||0,S._profileCount=e.installedHeaders.profileCount||0,e.installedHeaders.blobcontainer&&(G.Cloud.config.workspaceUrl=e.installedHeaders.blobcontainer),G.Random.addCloudEntropy(e.installedHeaders.random),!G.Cloud.lite&&e.installedHeaders.time){var r=((new Date).getTime()-1e3*e.installedHeaders.time)/1e3;if(180<Math.abs(r))return G.HTML.showProgressNotification(o?void 0:"syncing canceled."),B=void 0,void(s&&s(r))}return e.installedHeaders.askBeta&&S.switchToChannel&&(x=!0),C=e.installedHeaders.askSomething,U={},e.installedHeaders.headers.forEach(function(e){e.updateId&&e.scriptId!=e.updateId&&e.updateTime>e.scriptTime&&(U[e.scriptId]=e.updateId)}),M.updateCacheForInstalled=JSON.stringify(U),e.keys=e.indexTable.getKeysAsync(),G.Promise.join(e)}B=new Object}).then(function(e){return u("readdb1"),B!=p?h:(e.items=e.indexTable.getItemsAsync(e.keys),G.Cloud.lite||(e.scriptVersionsInCloudItems=e.scriptsTable.getItemsAsync(e.keys.map(function(e){return e+"-scriptVersionInCloud"}))),G.Promise.join(e))}).then(function(a){if(u("readdb2"),B!=p)return h;var e,s=[],c={};return a.installedHeaders.headers.forEach(function(r){var e=a.items[r.guid],t=!0;if(e){var n=JSON.parse(e);G.Cloud.lite?(t=r.scriptVersion.baseSnapshot!=n.scriptVersion.baseSnapshot&&r.scriptVersion.baseSnapshot!=n.pendingMerge,"deleted"==n.status&&(t=!1),t||"cloud"!=n.scriptVersion.instanceId||"published"!=r.status||"unpublished"!=n.status||(t=!0)):t=G.Cloud.isVersionNewer(r.scriptVersion,n.scriptVersion),r.recentUse<n.recentUse&&s.push(n)}if(t)c[r.guid]=!0,"deleted"===r.status?e&&_.push(r):b.push(r);else{var o=JSON.stringify(r.scriptVersion),i=G.Promise.as();G.Cloud.lite||a.scriptVersionsInCloudItems[r.guid+"-scriptVersionInCloud"]===o||(i=i.then(function(){return e=a.scriptsTable,t=r.guid,(i={})[t+"-scriptVersionInCloud"]="string"==typeof(n=o)?n:void 0,e.setItemsAsync(i);var e,t,n,i})),r.recentUse>n.recentUse&&(i=i.then(function(){return F(a.indexTable,r.guid,r.recentUse)})),w.push(i)}}),a.keys.forEach(function(e){var t=JSON.parse(a.items[e]);if(!c[t.guid]){"tobepublished"===t.status&&y.push(t);var n=!0;if(G.Cloud.lite)n="cloud"!=t.scriptVersion.instanceId;else{var i=a.scriptVersionsInCloudItems[e+"-scriptVersionInCloud"];if(i){var r=JSON.parse(i);G.Cloud.isVersionNewer(t.scriptVersion,r)||(n=!1)}}n&&k.push(t)}}),A(s.length+" items with newer recentUses"),A(b.length+" newer items to download, "+_.length+" deleted items"),A(k.length+" items to upload"),v(b.length,k.length,y.length),0<s.length&&t&&(a.recentUses=(e=s,G.Cloud.postUserInstalledAsync({recentUses:e.map(function(e){return{guid:e.guid,recentUse:e.recentUse}})}))),G.Promise.join(a)}).then(function(t){return u("diff"),P=[],t.downloaded=G.Promise.thenEach(b,function(e){return B!=p?h:q(t.indexTable,t.scriptsTable,e).then(function(){v(-1,0,0)})}),t.removed=G.Promise.thenEach(_,function(e){return B!=p?h:I(t.indexTable,t.scriptsTable,e.guid)}),t.uploaded=G.Promise.thenEach(k,function(e){return B!=p?h:j(t.indexTable,t.scriptsTable,e).then(function(){v(0,-1,0)})}),t.uptodates=G.Promise.join(w),G.Promise.join(t)}).then(function(t){return u("download+upload"),B!=p?h:(t.tobepublished=G.Promise.thenEach(y,function(e){return function(r,o,a){A(a.guid+"/"+a.scriptId+": "+a.name+" is to be published");var e=a.publishAsHidden;return r.getValueAsync(a.guid).then(function(e){a=JSON.parse(e)}).then(function(){return G.Cloud.postUserInstalledPublishAsync(a.guid,e,JSON.stringify(a.scriptVersion),a.meta)}).then(function(e){var t=void 0;if(e.bodies.forEach(function(e){e.guid==a.guid&&(t=e)}),t){var n=JSON.stringify(a.scriptVersion),i=D(t);return R(r,o,i,t.script||null,t.editorState||null,null,n).then(function(){return S.newHeaderCallbackAsync(i,"published")}).then(function(){return[]})}}).then(function(e){return e},function(e){throw 400==e.status&&(G.ModalDialog.info("cannot publish",G.lf("Your script '{0}' cannot be published. Error message: {1:not available}",a.name,e.errorMessage)),H(a.guid).then(function(e){return"tobepublished"==e.status?(e.status="unpublished",R(r,o,e,null,null,null,null)):G.Promise.as()}).done()),e})}(t.indexTable,t.scriptsTable,e).then(function(e){v(0,0,-1),e||G.ModalDialog.info(G.lf("publishing failed"),G.lf("There was a versioning mismatch between your local state and the cloud. Please check the content of the script you want to publish and then try again."))})}),t.progress=G.Cloud.postPendingProgressAsync(),G.Cloud.lite&&0<P.length&&(t.postmeta=G.Cloud.postUserInstalledAsync({metas:P})),G.Promise.join(t))}).then(function(){u("publish"),o||G.RT.Perf.stop(c),B==p&&(B=void 0,G.HTML.showProgressNotification(o?void 0:"syncing done",!0,0,1e3),x&&n&&!/localhost/.test(window.location.href)?n():C&&i?i(C):r&&r())},function(t){if(B==p){B=void 0;var i=t.status,r=t.errorMessage;i||Object.keys(t).forEach(function(e){var n=t[e];n&&(n.status&&(i=n.status),n.errorMessage&&(r=n.errorMessage),"object"==typeof n&&Object.keys(n).forEach(function(e){var t=n[e];t&&(t.status&&(i=t.status),t.errorMessage&&(r=t.errorMessage))}))});var e="";if((i||r)&&(e=" (code "+i+(r?": "+r:"")+")"),G.Util.log("nosync: "+e),G.Util.navigatingAway)G.HTML.showProgressNotification(void 0);else{if(442!=i||!G.Cloud._migrate){if(400==i){var n=G.lf("Cloud precondition violated")+e;return G.HTML.showProgressNotification(n),n}if(503==i){n=G.lf("Did you post a lot recently? You must wait for one hour before you can post more.")+e;return G.HTML.showProgressNotification(n),n}if(403==i){n=403==i?G.Cloud.hasAccessToken()?a?G.lf("cannot sync - your access token has expired and will renew automatically")+e:G.lf("cannot sync - your access token has expired")+e:G.lf("cannot sync - you are not signed in")+e:G.lf("cannot sync")+e;return G.HTML.showProgressNotification(n),403==i&&(a?G.Cloud.accessTokenExpired():G.Cloud.handlePostingError(t,G.lf("sync"))),a&&a(),S.cancelContinuouslySync(),n}if(G.Cloud.isTouchDevelopOnline()){n=G.lf("cannot sync - are you offline?")+e;return G.HTML.showProgressNotification(o?void 0:n),n}var n=G.lf("cannot sync - you are in offline mode");return G.HTML.showProgressNotification(o?void 0:n),n}G.Cloud._migrate()}}})}function F(r,o,a){return G.Util.check(!!o)?G.Promise.join({items:r.getItemsAsync([o])}).then(function(e){var t=e.items[o];if(t){var n=JSON.parse(t);n.recentUse<a&&(n.recentUse=a);var i={};return i[n.guid]=JSON.stringify(n),r.setItemsAsync(i)}}):G.Promise.as(void 0)}function p(){return Math.floor((new Date).getTime()/1e3)}function c(e,t,n,i){var r;"touchdevelop"==i.editorName?(r=S.getScriptMeta(i.scriptText),G.Util.assert(r.name.trim()==i.scriptName.trim()),i.editorName=""):r={localGuid:G.Util.guidGen(),name:i.scriptName,comment:i.scriptComment};var o={status:e,scriptId:t,userId:n,meta:r,name:r.name,scriptVersion:{instanceId:G.Cloud.getWorldId(),version:0,time:p(),baseSnapshot:""},guid:r.localGuid,editor:i.editorName};return G.Util.assert(!!o.guid),G.Promise.join({indexTable:E(),scriptsTable:N()}).then(function(e){return R(e.indexTable,e.scriptsTable,o,i.scriptText,null,null,null).then(function(){return o})})}function l(){return G.Promise.join({indexTable:E(),scriptsTable:N()}).then(function(e){return e.keys=e.indexTable.getKeysAsync(),G.Promise.join(e)}).then(function(e){return e.indexTable.getItemsAsync(e.keys).then(function(e){return G.Promise.thenEach(e,function(e){return JSON.parse(e)})})})}function H(t){return G.Util.check(!!t)?E().then(function(e){return e.getValueAsync(t)}).then(function(e){return e?JSON.parse(e):void 0}):G.Promise.as(void 0)}function i(t){return G.Util.check(!!t)?N().then(function(e){return e.getValueAsync(t+"-script")}):G.Promise.as(void 0)}function r(e){return function(){if(!U){var e=M.updateCacheForInstalled;U=e?JSON.parse(e):{}}}(),e&&"published"==e.status&&(U[e.scriptId]||n[e.scriptId])||null}function u(e,t,n,i,r){return void 0===i&&(i=!1),void 0===r&&(r=""),i||(e.status="unpublished",e.recentUse=p()),e.scriptVersion.instanceId=G.Cloud.getWorldId(),e.scriptVersion.time=p(),e.scriptVersion.version++,e.editor||(e.meta=null),S.setInstalledScriptAsync(e,t,n,"",r)}S.onNewNotificationChanged=void 0,S._askEmail=!1,S._askToEnableEmailNewsletter=!1,S._askToEnableEmailNotifications=!1,S._askToEnableNotifications=!1,S._profileIndex=0,S._profileCount=0,S.continuouslySyncAsync=function(e,t){return void 0===t&&(t=void 0),a?G.Promise.as():function t(n,i,r){var o=O;return r==a&&o?s(!1,o,n).then(function(){var e=G.Promise.as();return r==a&&(i&&o!=O&&(e=e.then(function(){return i()})),e=e.then(function(){return G.Promise.delay(2e3,function(){return t(n,i,r)})})),e}):G.Promise.as()}(e,t,a=new Object)},S.getCurrentUserInfoAsync=function(){return T?G.Promise.as(T):L},S.syncAsync=s,S.saveAsync=function(e,r,t){if(void 0===r&&(r=void 0),void 0===t&&(t=void 0),!G.Cloud.getUserId()||G.Cloud.isOffline())return G.Util.log("save skipped: not auth or offline"),G.Promise.as();var o=new Object;return B=o,G.Promise.wrapError("canceled"),A("starting save"),G.Promise.join({indexTable:E(),scriptsTable:N(),header:H(e)}).then(function(e){if(B==o)return j(e.indexTable,e.scriptsTable,e.header)}).then(function(e){if(B==o)return B=void 0,G.HTML.showSaveNotification(e.numErrors?G.lf("problems saving!"):G.lf("saved")),e},function(e){if(B==o){B=void 0;var t=e.status,n=e.errorMessage,i="";if((t||n)&&(i=" (code "+t+(n?": "+n:"")+")"),400==t)throw new Error("Cloud precondition violated"+i);403==t||!G.Cloud.lite&&G.Cloud.isOnline()&&/localhost/.test(document.URL)?(G.HTML.showSaveNotification(G.lf("could not save - you are not signed in ({0:500})",t)),403==t&&G.Cloud.accessTokenExpired(),r&&r()):G.HTML.showSaveNotification(G.lf("cannot back up to cloud - you appear to be offline"))}})},S.uninstallAsync=function(i){return G.Util.check(!!i)?(A("starting uninstall of "+i),G.Promise.join({indexTable:E(),scriptsTable:N()}).then(function(e){return e.items=e.indexTable.getItemsAsync([i]),G.Promise.join(e)}).then(function(e){var t=e.items[i];if(t){var n=JSON.parse(t);return o(e.indexTable,e.scriptsTable,n)}})):G.Promise.as(void 0)},S.publishAsync=function(r,o){return G.Util.check(!!r)?(A("starting publishing of "+r),G.Promise.join({indexTable:E()}).then(function(e){return e.items=e.indexTable.getItemsAsync([r]),G.Promise.join(e)}).then(function(e){var t=e.items[r];if(t){var n=JSON.parse(t);if("unpublished"===n.status){n.status="tobepublished",n.publishAsHidden=o;var i={};return i[n.guid]=JSON.stringify(n),e.indexTable.setItemsAsync(i)}}})):G.Promise.as(void 0)},S.recentUseAsync=F,S.getCurrentTime=p,S.stripHeaderForSave=function(e){return{cloudId:G.Cloud.config.cloudId,scriptId:e.scriptId,userId:G.Cloud.isRestricted()?void 0:e.userId,status:e.status,lastUse:e.scriptVersion?e.scriptVersion.time:p(),editor:e.editor||"touchdevelop",name:e.meta.name,comment:e.meta.comment}},S.installFromSaveAsync=function(e,t){var n=e.lastUse||e.recentUse||p();n=G.Util.intBetween(135e7,n,p()),e.meta||(e.meta={});var i=e.name||e.meta.name||"no name",r=e.comment||e.meta.comment||"",o={status:"published"===e.status?"published":"unpublished",scriptId:e.scriptId||"",userId:e.userId||(e.scriptId?"bogususerid":""),name:i,meta:{name:i,comment:r},scriptVersion:{instanceId:G.Cloud.getWorldId(),version:0,time:n,baseSnapshot:""},guid:G.Util.guidGen(),editor:"touchdevelop"==e.editor?"":e.editor,recentUse:p()};return/^\w{1,50}$/.test(o.editor)||(o.editor=""),/^[a-z]{1,20}$/.test(o.scriptId)||(o.scriptId="",o.userId=""),o.userId&&!/^[a-z]{1,20}$/.test(o.userId)&&(o.userId="bogususerid"),o.editor||(o.meta=null),G.Promise.join({indexTable:E(),scriptsTable:N()}).then(function(e){return R(e.indexTable,e.scriptsTable,o,t,null,null,null).then(function(){return o})})},S.installPublishedAsync=function(i,r){return G.Util.check(!!i)?l().then(function(n){var e=Object.keys(n).filter(function(e){var t=n[e];return"published"==t.status&&t.scriptId==i});return 0<e.length?n[e[0]]:G.Promise.join({text:G.ScriptCache.getScriptAsync(i),json:G.Browser.TheApiCacheMgr.getAsync(i,!0)}).then(function(e){var t=e.text,n=e.json;return t?c("published",i,r,{scriptText:t,editorName:n.editor||"touchdevelop",scriptName:n.name,scriptComment:n.description}):(G.HTML.showErrorNotification("cannot get script /"+i),new G.PromiseInv)})}):G.Promise.as(void 0)},S.installUnpublishedAsync=function(e,t,n){return c("unpublished",e,t,n)},S.getInstalledAsync=l,S.getInstalledHeaderAsync=H,S.getInstalledScriptAsync=i,S.getInstalledEditorStateAsync=function(t){return G.Util.check(!!t)?N().then(function(e){return e.getValueAsync(t+"-editorState")}):G.Promise.as(void 0)},S.getInstalledScriptVersionInCloud=function(t){return G.Util.check(!!t)?N().then(function(e){return e.getValueAsync(t+"-scriptVersionInCloud")}):G.Promise.as(void 0)},S.getAnyScriptAsync=function(e){return/-/.test(e)?i(e):G.ScriptCache.getScriptAsync(e)},S.getInstalledScriptsAsync=function(i){return N().then(function(e){return e.getItemsAsync(i.map(function(e){return e+"-script"})).then(function(t){var n={};return i.forEach(function(e){n[e]=t[e+"-script"]}),n})})},S.getScriptRestoreAsync=function(i){var r=null;return G.Promise.join({indexTable:E(),scriptsTable:N()}).then(function(e){return r=e,G.Promise.join([e.indexTable.getValueAsync(i),e.scriptsTable.getItemsAsync([i+"-scriptVersionInCloud",i+"-editorState",i+"-script"])])}).then(function(e){var t={};t[i]=e[0];var n=e[1];return function(){return G.Promise.join([r.indexTable.setItemsAsync(t),r.scriptsTable.setItemsAsync(n)])}})},S.setInstalledScriptAsync=function(t,n,i,r,o){return void 0===r&&(r=null),void 0===o&&(o=null),G.Util.check(!!t)?(A("setting "+t.guid),G.Promise.join({indexTable:E(),scriptsTable:N()}).then(function(e){return R(e.indexTable,e.scriptsTable,t,n,i,r,o)})):G.Promise.as(void 0)},S.rememberUpdate=function(e,t){n[e]=t},S.updateFor=r,S.updateAsync=function(e){var n="";return H(e).then(function(e){return(n=r(e))?G.ScriptCache.getScriptAsync(n):G.Promise.as()}).then(function(t){return t?H(e).then(function(e){return"published"!=e.status?G.Promise.as():(e.status="published",e.scriptId=n,e.meta=null,u(e,t,null,!0))}):G.Promise.as()})},S.updateInstalledScriptAsync=u,S.switchToChannel=function(e){"beta"==e?G.Util.navigateInWindow(G.Cloud.getServiceUrl()+"/app/beta?nocache="+G.Util.guidGen()):G.Util.navigateInWindow(G.Cloud.getServiceUrl()+"/app/")}}(G.World||(G.World={}))}(TDev||(TDev={})),function(h){h.onWallClose=null;var e=function(){function e(){this.wallContainer=h.div(""),this.backBtnDiv=h.div(null),this.scriptTitleDiv=h.div("scriptTitle"),this.titleDiv=h.div("title"),this.subtitleDiv=h.div("subtitle"),this.titleContainer=h.div("wallTitleDiv"),this.cloudSymbol=h.div("wallCloudSymbol"),this.cloudStatus=h.div("wallCloudStatus"),this.bgPictureContainer=h.div("wallBgPictureHorizontal"),this.fullScreenContainer=h.div("wallFullScreenContainer"),this.adContainer=h.div("wallAdContainer"),this.wallWidth=1e3,this.wallHeight=1e3,this.wallOrientation=0,this.wallVisible=!1,this.copyrightHeight=26,this.keyState=null,this.localProxyAsync=void 0,this.keyboard=void 0,this.cssSetup=!1,this.cs_hasCloudState=!1,this.cs_status="",this.cs_type="",this.cs_color="#000000"}return e.prototype.getWall=function(){return h.elt("theWall")},e.prototype.isHeadless=function(){return h.Browser.isHeadless||this.currentRt&&this.currentRt.headlessPluginMode},e.prototype.fullWallHeight=function(){return this.computeCopyrightHeight(),h.SizeMgr.windowHeight-this.copyrightHeight},e.prototype.computeCopyrightHeight=function(){this.copyrightHeight=Math.round(.7*h.SizeMgr.topFontSize*1.66)},e.prototype.userWallHeight=function(){return this.currentRt.getCurrentPage().chromeVisible?(this.computeCopyrightHeight(),h.SizeMgr.windowHeight-4*h.SizeMgr.topFontSize-this.copyrightHeight):this.fullWallHeight()},e.prototype.fullWallWidth=function(){return h.SizeMgr.wallWindowWidth},e.prototype.init=function(e){this.currentRt=e},e.prototype.liveMode=function(){return!1},e.prototype.dontWaitForEvents=function(){return!1},e.prototype.astOfAsync=function(e){return h.Promise.as(void 0)},e.prototype.deploymentSettingsAsync=function(e){return h.Promise.as(void 0)},e.prototype.pickScriptAsync=function(e,t){return h.Promise.as(void 0)},e.prototype.saveAstAsync=function(e,t){return h.Promise.as(void 0)},e.prototype.packageScriptAsync=function(e,t){return h.Promise.as(void 0)},e.prototype.showBackButton=function(){return h.Browser.notifyBackToHost?this.currentRt.getCurrentPage().backButtonVisible:(1!=this.currentRt.getPageCount()||!h.Browser.isCompiledApp&&!h.SizeMgr.splitScreen)&&(!!this.currentRt.isStopped()||this.currentRt.getCurrentPage().backButtonVisible)},e.prototype.applyPageAttributes=function(t){this.titleDiv.setChildren(t.title),this.subtitleDiv.setChildren(t.subtitle),this.showBackButton()?this.titleContainer.className="wallTitleDiv":this.titleContainer.className="wallTitleDiv wallTitleDivFirst";var e=h.elt("wallOverlay");e.style.background=t.bgColor,e.style.color=t.fgColor,this.updateCloudStateColor(t.fgColor);var n=this.bgPictureContainer;if(t.bgVideo)t.bgVideo.style.width="100%",t.bgVideo.style.height="100%",t.bgVideo.style.overflow="hidden",t.bgVideo.controls=!1,n.className="wallBgPictureHorizontal",n.setChildren(t.bgVideo),t.bgVideo.play();else if(t.bgPicture&&0<t.bgPictureWidth&&0<t.bgPictureHeight){var i=t.bgPictureWidth,r=t.bgPictureHeight,o=t.bgPicture;n.setChildren(o);var a=r/i,s=window.innerHeight/window.innerWidth;if(i/r<h.SizeMgr.wallWindowWidth/h.SizeMgr.windowHeight){o.style.width="100%";var c=100*a/s;o.style.height=c+"%",n.style.left="0",n.style.top=(100-c)/2+"%",n.className="wallBgPictureHorizontal"}else{var l=100/a*s;o.style.width=l+"%",o.style.height="100%",n.style.left=(100-l)/2+"%",n.style.top="0",n.className="wallBgPictureVertical"}}else t.bgPictureUrl?(n.style.backgroundImage=h.HTML.cssImage(t.bgPictureUrl),n.style.backgroundSize="cover",n.style.width="100%",n.style.height="100%",n.className="wallBgPictureVertical"):(n.className="",n.style.width="",n.style.height="",n.style.backgroundImage="",n.style.backgroundSize="",n.setChildren([]));var u=function(e){e&&(e.getAttribute&&e.getAttribute("fill")&&e.setAttribute("fill",t.fgColor),"topMenu-button-frame"==e.className?e.style.borderColor=t.fgColor:"topMenu-button-desc"!=e.className&&"appBarSymbol"!=e.className||(e.style.color=t.fgColor),h.Util.childNodes(e).forEach(u))};u(h.elt("wallBtns")),u(h.elt("wallFullScreenBtns")),u(h.elt("wallBottomBtns"))},e.prototype.setTransform3d=function(e,t,n){var i=this.fullScreenContainer.firstChild;i&&h.Util.setTransform(i,e,t,n)},e.prototype.fullScreenElement=function(){if(this.isFullScreen())return this.fullScreenContainer.firstElementChild},e.prototype.setFullScreenElement=function(e){if(this.fullScreenContainer.setChildren(e),e){h.elt("wallOverlay");this.fullScreenContainer.style.position="relative",this.fullScreenContainer.style.display="block"}else this.fullScreenContainer.style.display="none",this.fullScreenContainer.innerHTML="";this.updateButtonsVisibility()},e.prototype.isFullScreen=function(){return"none"!=this.fullScreenContainer.style.display&&!!this.fullScreenContainer.firstChild},e.prototype.copyrightElement=function(){if(h.Browser.isCompiledApp&&!h.Browser.webRunner)return h.div(null);if(h.Browser.inEditor)return h.div(null);var e=h.div("copyright-text copyright-info"),t=h.div("copyright-text copyright-logo",h.SVG.getHorizLogo()),n=h.div("copyright-note",t,e),i=window,r=h.Util.htmlEscape(i.userName),o=h.Util.htmlEscape(i.userId),a=h.Util.htmlEscape(i.webAppName),s=(i.betaFriendlyId,h.Browser.inEditor?"":" by <b>"+r+"</b>");h.Browser.setInnerHTML(e,"©&nbsp;&nbsp;<span class='beta-underline'>privacy and cookies</span>&nbsp;&nbsp;<span class='beta-underline'>legal</span>");var c=function(e,t){return h.HTML.mkButton(e,function(){window.open(/:\/\//.test(t)?t:h.Cloud.getServiceUrl()+t)})},l=function(){var e=new h.ModalDialog;e.fullWhite(),e.add(h.div("wall-dialog-header",h.Util.htmlUnescape(a))),e.addHTML(h.lf("This web app was created {0} using Touch Develop.",s)),e.addHTML(h.lf("The Touch Develop platform - Copyright © {0} Microsoft Corporation. All rights reserved.",(new Date).getFullYear())),e.addHTML(h.lf("<b>DISCLAIMER:</b> This web app is not endorsed by Microsoft.")),h.Browser.inEditor||e.add(h.div("wall-dialog-buttons",c("more by "+r,"/"+o),c("try touch develop",""))),e.add(h.div("wall-dialog-buttons",h.Cloud.config.legalButtons.map(function(e){return c(e.name,e.url)}))),e.show()};return t.withClick(l),e.withClick(l),n},e.prototype.askSourceAccessAsync=function(s,c,t,l){if(!h.RuntimeSettings.askSourceAccess)return h.Promise.as(!0);var u=this.currentRt;return u.permissionsAsync().then(function(a){var e=a[s];return!1===e&&t&&(e=void 0),null!=e?(e||h.HTML.showProgressNotification("denied access to "+c),h.Promise.as(!!e)):new h.Promise(function(e,t,n){var i,r=new h.ModalDialog,o=!1;r.onDismiss=function(){a[s]=o,u.savePermissionsAsync(a).done(function(){return e(o)})},r.add([h.div("wall-dialog-header",h.lf("allow access to {0}?",s)),h.div("wall-dialog-body",h.lf("This script wants to access {0}",c)),i=h.div("wall-dialog-buttons",h.HTML.mkButton(h.lf("deny"),function(){o=!1,r.dismiss()}),h.HTML.mkButton(h.lf("allow"),function(){o=!0,r.dismiss()}))]),l&&(r.critical(),i.style.display="none",h.Util.setTimeout(5e3,function(){i.style.display="block"})),r.show()})})},e.prototype.updateButtonsVisibility=function(){if(!this.isHeadless()){var e=this.currentRt.getCurrentPage(),t=this.fullScreenContainer.firstChild,n=this.currentRt.isStopped();this.titleContainer.style.display=!e.chromeVisible||t||h.SizeMgr.splitScreen?"none":"block",this.backBtnDiv.style.display=this.showBackButton()?"block":"none",e.chromeVisible?this.wallContainer.classList.remove("no-bar"):this.wallContainer.classList.add("no-bar"),this.wallContainer.style.display=t?"none":"block",this.fullScreenBtnRow.style.display=h.Browser.screenshots||t?"block":"none",this.bottomBtnsDiv.style.display=t||!this.bottomBtnsDiv.hasChildNodes()?"none":"block";for(var i=0;i<this.bottomBtnsDiv.children.length;++i)this.bottomBtnsDiv.children[i].setFlag("disabled",n)}},e.prototype.applyWallStyle=function(){var e=this.getWall();e.className="wallWithColumns";h.SizeMgr.windowHeight;h.Util.setTransform(e,"none"),h.Util.setupHDragToScroll(h.elt("wallContainer")),h.Util.resetDragToScroll(e),this.wallOrientation=0,this.wallWidth=18.5*h.SizeMgr.topFontSize*.8,this.wallHeight=this.userWallHeight()},e.prototype.publishSizeUpdate=function(){if(this.currentRt){var e=this.currentRt.getCurrentPage();e&&this.applyPageAttributes(e)}h.WallPage.applySizeUpdate(h.elt("wallOverlay"))},e.prototype.additionalButtons=function(){return[]},e.prototype.additionalFullScreenButtons=function(){return[]},e.prototype.notifyRunState=function(){this.updateButtonsVisibility()},e.prototype.notifyBreakpointHit=function(e){},e.prototype.notifyBreakpointContinue=function(){},e.prototype.notifyTutorial=function(e){},e.prototype.agreeTermsOfUseAsync=function(){return h.Promise.as()},e.prototype.keyDown=function(e){return this.keyboard.keyDown(e)},e.prototype.keyUp=function(e){return this.keyboard.keyUp(e)},e.prototype.clearCss=function(){this.cssSetup=!1,h.Util.childNodes(document.head).forEach(function(e){e.getAttribute&&e.getAttribute("data-td-css")&&document.head.removeChild(e)})},e.prototype.importCss=function(e){if(this.cssSetup=!0,e){var t=document.createElement("style");t.appendChild(document.createTextNode(e)),t.setAttribute("data-td-css","yes"),document.head.appendChild(t)}},e.prototype.showWall=function(){var t=this;h.Ticker.dbg("showWall");var e=h.HTML.mkRoundButton("svg:back,currentColor",h.lf("back"),288,function(){return t.backBtnHandler()});if(this.keyboard=new h.RT.RuntimeKeyboard(this.currentRt),this.clearCss(),!h.SizeMgr.splitScreen){var n=h.KeyboardMgr.instance;this.wallVisible=!0,null==this.keyState&&(this.keyState=n.saveState()),n.btnShortcut(e,"Esc"),n.register("*keydown*",function(e){return t.keyDown(e)}),n.register("*keyup*",function(e){return t.keyUp(e)})}this.backBtnDiv=h.div("wallBack",e),this.scriptTitleDiv.setChildren([this.currentRt.compiled.scriptTitle]),this.cloudContainer=h.div("inlineBlock hidden",this.cloudSymbol,this.cloudStatus),this.cloudContainer.withClick(function(){t.cs_hasCloudState&&h.RT.CloudData.sessionInfoAsync(t.currentRt)}),this.wallContainer=h.divId("wallContainer","pane",h.divId("theWall",null),h.divId("theWallFloat",null));var i,r,o=h.elt("wallOverlay");this.titleContainer.setChildren([this.scriptTitleDiv,this.titleDiv,this.subtitleDiv]),this.topBtnRow=h.divId("wallBtns","wallBtnRow",this.backBtnDiv,this.titleContainer,this.cloudContainer,this.additionalButtons()),this.fullScreenBtnRow=h.divId("wallFullScreenBtns","",this.additionalFullScreenButtons()),this.bottomBtnsDiv=h.divId("wallBottomBtns","bottomButtons"),h.Cloud.config.companyLogoHorizontalUrl&&(i=h.div("wallUpperLogo",h.HTML.mkImg(h.Cloud.config.companyLogoHorizontalUrl))),this.currentRt&&this.currentRt.compiled&&this.currentRt.compiled.logoUrl&&(r=h.div("wallLogo",h.HTML.mkImg(this.currentRt.compiled.logoUrl))),this.setFullScreenElement(null),this.bgPictureContainer.setChildren([]),o.setChildren([this.bgPictureContainer,this.wallContainer,this.fullScreenContainer,this.topBtnRow,this.fullScreenBtnRow,this.bottomBtnsDiv,r,i]),this.computeCopyrightHeight(),this.wallContainer.style.bottom=this.copyrightHeight+"px";var a=this.copyrightElement();a&&o.appendChild(a),this.applyWallStyle(),o.style.display="block",o.style.opacity="1",h.Util.showLeftPanel(o),this.wallShown()},e.prototype.getFullScreenCanvas=function(){if("none"!==this.fullScreenContainer.style.display){for(var e=this.fullScreenContainer.firstChild;null!=e&&!e.toDataURL;)e=e.firstChild;if(null!=e)return e}},e.prototype.toScreenshotCanvas=function(){var e=this.getFullScreenCanvas();if(null!=e)try{var t=this.currentRt.getCurrentPage(),n=t.bgColor||"white",i=t.bgPicture,r=document.createElement("canvas"),o=e.width,a=e.height,s=1;o<a?800<a&&(s=800/a):800<o&&(s=800/o),r.width=Math.floor(o*s),r.height=Math.floor(a*s);var c=r.getContext("2d");if(c.save(),c.fillStyle=n,c.fillRect(0,0,r.width,r.height),i){var l,u,d=t.bgPictureWidth,p=t.bgPictureHeight,h=p/d,m=r.height/r.width;m<h?(p=d*m,l=0,u=(t.bgPictureHeight-p)/2):(d=p/m,u=0,l=(t.bgPictureWidth-d)/2),c.drawImage(i,l,u,d,p,0,0,r.width,r.height)}return c.drawImage(e,0,0,r.width,r.height),c.restore(),r}catch(e){}},e.prototype.otherwiseBack=function(){},e.prototype.backBtnHandler=function(){h.Ticker.dbg("history.back from RuntimeHostBase.backBtnHandler"),h.Browser.notifyBackToHost&&1==this.currentRt.getPageCount()?h.Util.externalNotify("exit"):h.Util.goBack()},e.prototype.notifyPageButtonUpdate=function(){this.bottomBtnsDiv.removeAllChildren();for(var e=this.currentRt.getCurrentPage(),t=0;t<e.buttons.length;t++){var n=e.buttons[t];this.bottomBtnsDiv.appendChild(n.getElement())}0<e.buttons.length?(this.bottomBtnsDiv.style.display="block",this.getWall().firstChild.style.paddingBottom="6em"):(this.bottomBtnsDiv.style.display="none",this.getWall().firstChild.style.paddingBottom=null),this.notifyRunState()},e.prototype.notifyPagePush=function(){var e=this;if(this.notifyPageButtonUpdate(),1<this.currentRt.getPageCount()){var t=this.currentRt.getCurrentPage();h.SizeMgr.splitScreen||h.Screen.pushModalHash("page"+t.id,function(){e.currentRt.popPagesIncluding(t)})}},e.prototype.notifyPagePop=function(e){this.notifyPageButtonUpdate(),h.SizeMgr.splitScreen||h.Screen.popModalHash("page"+e.id)},e.prototype.notifyStopAsync=function(){h.Ticker.dbg("notifyStop");var e=this.currentRt.saveDataAsync();return this.notifyRunState(),!h.SizeMgr.splitScreen&&this.backBtnDiv&&this.backBtnDiv.firstChild&&h.KeyboardMgr.instance.btnShortcut(this.backBtnDiv.firstChild,"Esc"),e},e.prototype.updateCloudState=function(e,t,n){if(e!==this.cs_hasCloudState||t!==this.cs_type||n!==this.cs_status){if(e){var i=h.SVG.getCloudSymbol(this.cs_color,t,"connected"===n,1.5);this.cloudSymbol.setChildren(i)}else this.cloudSymbol.setChildren([]);this.cs_hasCloudState=e,this.cs_type=t,this.cs_hasCloudState?this.cloudContainer.classList.remove("hidden"):this.cloudContainer.classList.add("hidden")}n!==this.cs_status&&(this.cloudStatus.setChildren(n),this.cs_status=n)},e.prototype.updateCloudStateColor=function(e){if(this.cs_color!=e){if(this.cs_hasCloudState){var t=h.SVG.getCloudSymbol(e,this.cs_type,"connected"===this.cs_status,1.5);this.cloudSymbol.setChildren(t)}else this.cloudSymbol.setChildren([]);this.cs_color=e}},e.prototype.attachProfilingInfo=function(e){},e.prototype.attachCoverageInfo=function(e,t){},e.prototype.attachDebuggingInfo=function(e,t,n){},e.prototype.canEditCode=function(){return!1},e.prototype.canDebugCode=function(){return!1},e.prototype.fixErrorIn=function(e,t){},e.prototype.wallHidden=function(){},e.prototype.wallShown=function(){},e.prototype.hideWallAsync=function(){var e=this;if(h.Ticker.dbg("hideWallAsync"),this.keyState&&h.KeyboardMgr.instance.loadState(this.keyState),!this.wallVisible)return h.Promise.as();this.clearCss();var t=h.elt("wallOverlay");return this.keyState=null,this.wallHidden(),h.Util.animAsync("fadeOut",200,t).then(function(){e.wallVisible=!1,t.style.display="none"})},e.prototype.goBack=function(){h.Ticker.dbg("history.back from RuntimeHostBase.goBack"),h.Util.goBack()},e.prototype.notifyHideWall=function(){var t=this;h.Ticker.dbg("notifyHideWall"),this.hideWallAsync().done(function(){var e=h.onWallClose;e&&(h.onWallClose=null,e()),t.goBack()})},e.prototype.exceptionActions=function(e){return null},e.prototype.attachScriptStackTrace=function(e){},e.prototype.debugModeEnabled=function(){return!1},e.prototype.exceptionHandler=function(e){var t=this;h.Ticker.dbg("wallExceptionHandler"),e.includeSource=!0;var n=h.Ticker.mkBugReport(e,"runtime error"),i=n.exceptionMessage,r=this.currentRt.runMap,o=h.PackedStackTrace.buildFrom(this.currentRt.getStackTrace());h.RT.App.logException(e);var a=this.exceptionActions(e)||{},s=a.debug||h.Util.doNothing,c=a.stack||h.Util.doNothing,l=(h.Util.doNothing,(e.isUserError&&(e.message||e.name)||"")+"");function u(e){e.addFirst(h.div("floatingFrown",":("))}if(this.canEditCode()&&e.syntaxErrorDeclName)this.fixErrorIn(e.syntaxErrorDeclName,l);else if(e.isUserError){if(this.attachDebuggingInfo(r,o,i),this.canDebugCode())(d=h.ModalDialog.buttons(h.lf("the script crashed"),h.lf("do you want do debug it?"),"",l,h.HTML.mkButton(h.lf("debug"),function(){h.tick(472),d.dismiss(),s()}),h.HTML.mkButton(h.lf("see code"),function(){d.dismiss(),c()}))).fullYellow(),u(d);else c()}else{this.attachScriptStackTrace(n),h.Util.sendErrorReport(n);var d,p=h.dbg?h.div("inlineBlock",h.HTML.mkButton(h.lf("js info (dbg)"),function(){p.className="";var e=n.stackTrace?n.stackTrace:"(none available)";h.Browser.setInnerHTML(p,h.Util.formatText(e))})):void 0;(d=h.ModalDialog.buttons("Touch Develop crashed",this.canDebugCode()?"do you want do debug the script?":null,null,null,this.canDebugCode()?h.HTML.mkButton(h.lf("debug"),function(){d.dismiss(),t.attachDebuggingInfo(r,o,i),s()}):null,p,h.HTML.mkButton(h.lf("cancel"),function(){d.dismiss()}))).fullYellow(),u(d)}},e}();h.RuntimeHostBase=e}(TDev||(TDev={})),function(e){var t;(function(t){t.librarySymbol="♻";var n={alignas:null,alignof:null,and:null,and_eq:null,asm:null,auto:null,bitand:null,bitor:null,bool:null,break:null,case:null,catch:null,char:null,char16_t:null,char32_t:null,class:null,compl:null,concept:null,const:null,constexpr:null,const_cast:null,continue:null,decltype:null,default:null,delete:null,do:null,double:null,dynamic_cast:null,else:null,enum:null,explicit:null,export:null,extern:null,false:null,float:null,for:null,friend:null,goto:null,if:null,inline:null,int:null,long:null,mutable:null,namespace:null,new:null,noexcept:null,not:null,not_eq:null,nullptr:null,operator:null,or:null,or_eq:null,private:null,protected:null,public:null,register:null,reinterpret_cast:null,requires:null,return:null,short:null,signed:null,sizeof:null,static:null,static_assert:null,static_cast:null,struct:null,switch:null,template:null,this:null,thread_local:null,throw:null,true:null,try:null,typedef:null,typeid:null,typename:null,union:null,unsigned:null,using:null,virtual:null,void:null,volatile:null,wchar_t:null,while:null,xor:null,"xor_eq ":null},i={"boolean::not":{prio:3,right:!1,op:"!"},"number::/":{prio:5,right:!0,op:"/"},"number::*":{prio:5,right:!1,op:"*"},"number::+":{prio:6,right:!1,op:"+"},"number::-":{prio:6,right:!0,op:"-"},"number::<":{prio:8,right:!1,op:"<"},"number::≤":{prio:8,right:!1,op:"<="},"number::>":{prio:8,right:!1,op:">"},"number::≥":{prio:8,right:!1,op:">="},"number::≠":{prio:9,right:!1,op:"!="},"number::=":{prio:9,right:!1,op:"=="},"boolean::and":{prio:13,right:!1,op:"&&"},"boolean::or":{prio:14,right:!1,op:"||"}};function r(e,t){return{usedNames:e.usedNames,localNames:e.localNames,globalNameMap:e.globalNameMap,libName:e.libName,priority:t,indent:e.indent,promotedIds:e.promotedIds}}function o(e){return e.libName?e.globalNameMap.libraries[e.libName]:e.globalNameMap.program}function a(e){var t=e.replace(/\W/g,"_");return t in n?t+="_":t.match(/^\d/)&&(t="_"+t),t}function s(e,t){for(var n=0,i="";a(t+i)in e;)i=n++;return a(t+i)}function c(e,t,n){if(n in e.localNames)return e.localNames[n];var i=s(e.usedNames,t);return e.usedNames[i]=!0,e.localNames[n]=i}function l(e,t){return c(e,t.name,t.id)}function u(e,t,n){return n in e.globalNameMap.libraries[t]?e.globalNameMap.libraries[t][n]:a(n)}function d(e,t){var n=o(e);return t in n?n[t]:t}function p(t,e){if("string"==typeof e)return{lib:null,user:!1,type:e,args:[]};if(!e.o&&!e.g)throw new Error("Unsupported type reference");return{lib:e.l?t[e.l]:"",user:!!e.o,type:e.o||e.g,args:e.a&&e.a.length?e.a.map(function(e){return p(t,e)}):[]}}function h(e,t){var n=t;return n.length&&"{"==n[0]?p(e,JSON.parse(n)):p(e,n)}function m(e,t,n){return function t(n,e){var i=e.args.map(function(e){return t(n,e)}),r=e.lib?u(n,e.lib,e.type):d(n,e.type);return(e.lib?a(e.lib)+"::":"")+(e.user?"user_types::":"")+r+(i.length?"<"+i.join(", ")+">":"")}(e,h(t,n))}function f(e,t,n){return m(e,t,n.type)+" "+l(e,n)}function g(t,n,e,i,r,o){if(void 0===o&&(o=!1),1<r.length)throw new Error("Not supported (multiple return parameters)");var a=r.length?m(t,n,r[0].type):"void",s="("+i.map(function(e){return f(t,n,e)}).join(", ")+")";return o?"[=] "+s+" mutable":a+" "+e+s}function v(e){return"singletonRef"==e.nodeType&&e.name}function y(e,t){return"create"==e&&1==t.length&&"call"==t[0].nodeType&&"records"==t[0].parent&&1==t[0].args.length&&"records"==v(t[0].args[0])}function b(e){var t=e.match(/^{shim:([^}]*)}\s*$/);return t?t[1]:null}function _(e){var n=null;return e.forEach(function(e){var t="comment"==e.nodeType&&b(e.text);(t||""===t)&&(n=t)}),n}t.lookupOperator=function(e){return i[e]},t.setPriority=r,t.priority=function(e){return e.priority},t.resetPriority=function(e){return r(e,16)},t.indent=function(e){return{usedNames:e.usedNames,localNames:e.localNames,globalNameMap:e.globalNameMap,libName:e.libName,priority:e.priority,indent:e.indent+"  ",promotedIds:e.promotedIds}},t.markPromoted=function(e,t){e.promotedIds[t]=!0},t.isPromoted=function(e,t){return e.promotedIds[t]},t.emptyEnv=function(e,t){var n={},i=t?e.libraries[t]:e.program;return Object.keys(i).forEach(function(e){var t=i[e];n[t]=!0}),{usedNames:n,localNames:{},globalNameMap:e,libName:t,indent:"",priority:16,promotedIds:{}}},t.currentMap=o,t.mangle=a,t.freshName=s,t.resolveLocal=c,t.resolveLocalDef=l,t.resolveLocalRef=function(e,t){return c(e,t.name,t.localId)},t.resolveGlobalL=function(e,t,n){return a(t)+"::"+u(e,t,n)},t.resolveGlobal=d,t.shouldPromoteToRef=function(e,t,n){return"string"==typeof t&&n},t.resolveTypeRef=h,t.defaultValueForType=function(e,t){var n=h(e,t);return n.lib||"Number"!=n.type?n.lib||"Boolean"!=n.type?n.lib||"Action"!=n.type?null:"NULL":"false":"0"},t.mkType=m,t.mkParam=f,t.mkSignature=g,t.findTypeDef=function(e,t,n,i){return n.length||i.length?1!=n.length||i.length?g(e,t,"",n,i):"Action1<"+m(e,t,n[0].type)+">":"Action"},t.mkReturn=function(e){return"return "+e+";"},t.isLibrary=function(e){return"singletonRef"==e.nodeType?e.libraryName:"call"==e.nodeType&&"singletonRef"==e.args[0].nodeType&&e.args[0].name==t.librarySymbol&&e.name||null},t.isSingletonRef=v,t.isRecordConstructor=y,t.isEnumLiteral=function(e){return"stringLiteral"==e.nodeType&&e.enumValue},t.isScopedCall=function(e){return"singletonRef"==e.nodeType&&"code"==e.name||null},t.isShim=b,t.isShimBody=_,t.isStringLiteral=function(e){return"stringLiteral"==e.nodeType&&e.value},t.isInvalidRecord=function(e,t){return"invalid"==e&&1==t.length&&"call"==t[0].nodeType&&"records"==t[0].parent&&"records"==v(t[0].args[0])},t.isInitialRecordAssignment=function(e,t){return 1==e.length&&"call"==t.nodeType&&":="==t.name&&2==t.args.length&&"call"==t.args[1].nodeType&&y(t.args[1].name,t.args[1].args)&&"localRef"==t.args[0].nodeType&&t.args[0].localId==e[0].id},t.willCompile=function(e){return null==_(e.body)},t.mkLibraryRef=function(e){return{nodeType:"call",id:null,args:[{nodeType:"singletonRef",id:null,name:"♻"}],name:e,parent:null}},t.mkCodeRef=function(){return{nodeType:"singletonRef",id:null,name:"code"}}})((t=e.Embedded||(e.Embedded={})).Helpers||(t.Helpers={}))}(TDev||(TDev={})),function(e){var t,n;t=e.Embedded||(e.Embedded={}),n=function(){function e(){}return e.prototype.visit=function(e,t){switch(t.nodeType){case"numberLiteral":return this.visitNumberLiteral(e,t.value);case"booleanLiteral":return this.visitBooleanLiteral(e,t.value);case"stringLiteral":return this.visitStringLiteral(e,t.value);case"operator":return this.visitOperator(e,t.op);case"propertyRef":var n=t;return this.visitPropertyRef(e,n.name,n.parent);case"call":var i=t;return this.visitCall(e,i.name,i.args,i.typeArgs,i.parent,i.callType);case"singletonRef":return this.visitSingletonRef(e,t.name);case"globalDef":var r=t;return this.visitGlobalDef(e,r.name,r.type,r.comment);case"localDef":var o=t;return this.visitLocalDef(e,o.name,o.id,o.type,o.isByRef);case"localRef":var a=t;return this.visitLocalRef(e,a.name,a.localId);case"exprHolder":var s=t;return this.visitExprHolder(e,s.locals,s.tree,s.tokens);case"exprStmt":var c=t,l=c.expr.tree;switch(l.nodeType){case"show":var u=l;return this.visitShow(e,u.expr);case"break":return this.visitBreak(e);case"continue":return this.visitContinue(e);case"return":var d=l;return this.visitReturn(e,d.expr);default:return this.visitExprStmt(e,c.expr)}case"inlineActions":var p=t;return this.visitInlineActions(e,p.expr,p.actions);case"while":var h=t;return this.visitWhile(e,h.condition,h.body);case"for":var m=t;return this.visitFor(e,m.index,m.bound,m.body);case"comment":return this.visitComment(e,t.text);case"if":var f=t;return this.visitIf(e,f.condition,f.thenBody,f.elseBody,f.isElseIf);case"inlineAction":var g=t;return this.visitInlineAction(e,g.reference,g.inParameters,g.outParameters,g.body);case"action":var v=t;return this.visitAction(e,v.name,v.id,v.inParameters,v.outParameters,v.body,v.isPrivate);case"app":return this.visitApp(e,t.decls);case"library":return this.visitLibrary(e,t.scriptName);case"art":var y=t;return this.visitArt(e,y.name,y.type,y.url,y.comment);case"data":var b=t;return this.visitData(e,b.name,b.type,b.comment);case"record":var _=t;return this.visitRecord(e,_.name,_.keys,_.fields,_.isExported)}throw new Error("Unsupported node: "+t.nodeType)},e.prototype.visitNumberLiteral=function(e,t){throw new Error("Not implemented")},e.prototype.visitStringLiteral=function(e,t){throw new Error("Not implemented")},e.prototype.visitBooleanLiteral=function(e,t){throw new Error("Not implemented")},e.prototype.visitOperator=function(e,t){throw new Error("Not implemented")},e.prototype.visitPropertyRef=function(e,t,n){throw new Error("Not implemented")},e.prototype.visitCall=function(e,t,n,i,r,o){throw new Error("Not implemented")},e.prototype.visitSingletonRef=function(e,t){throw new Error("Not implemented")},e.prototype.visitLocalDef=function(e,t,n,i,r){throw new Error("Not implemented")},e.prototype.visitLocalRef=function(e,t,n){throw new Error("Not implemented")},e.prototype.visitExprHolder=function(e,t,n,i){throw new Error("Not implemented")},e.prototype.visitExprStmt=function(e,t){throw new Error("Not implemented")},e.prototype.visitReturn=function(e,t){throw new Error("Not implemented")},e.prototype.visitShow=function(e,t){throw new Error("Not implemented")},e.prototype.visitBreak=function(e){throw new Error("Not implemented")},e.prototype.visitContinue=function(e){throw new Error("Not implemented")},e.prototype.visitInlineActions=function(e,t,n){throw new Error("Not implemented")},e.prototype.visitWhile=function(e,t,n){throw new Error("Not implemented")},e.prototype.visitFor=function(e,t,n,i){throw new Error("Not implemented")},e.prototype.visitComment=function(e,t){throw new Error("Not implemented")},e.prototype.visitIf=function(e,t,n,i,r){throw new Error("Not implemented")},e.prototype.visitInlineAction=function(e,t,n,i,r){throw new Error("Not implemented")},e.prototype.visitAction=function(e,t,n,i,r,o,a){return this.visitDecl(e,t)},e.prototype.visitApp=function(e,t){throw new Error("Not implemented")},e.prototype.visitLibrary=function(e,t){return this.visitDecl(e,t)},e.prototype.visitArt=function(e,t,n,i,r){return this.visitGlobalDef(e,t,n,r)},e.prototype.visitData=function(e,t,n,i){return this.visitGlobalDef(e,t,n,i)},e.prototype.visitGlobalDef=function(e,t,n,i){return this.visitDecl(e,t)},e.prototype.visitRecord=function(e,t,n,i,r){return this.visitDecl(e,t)},e.prototype.visitDecl=function(e,t){throw new Error("Not implemented")},e}(),t.JsonAstVisitor=n}(TDev||(TDev={}));var __extends=this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},TDev,TDev,TDev,TDev,TDev,TDev,TDev,TDev;!function(e){!function(e){var b=e.Helpers;function _(e){if(!e)throw new Error("Assert failure")}var t=function(i){function e(e,t,n){i.call(this),this.libRef=e,this.libs=t,this.resolveMap=n,this.prototypes="",this.code="",this.prelude="",this.tPrototypes="",this.tCode="",this.libraryMap={},this.imageLiterals=[]}return __extends(e,i),e.prototype.visitMany=function(t,e){var n=this,i=[];return e.forEach(function(e){i.push(n.visit(t,e))}),i.join("\n")},e.prototype.visitComment=function(e,t){return e.indent+"// "+t.replace("\n","\n"+e.indent+"// ")},e.prototype.visitBreak=function(e){return e.indent+"break;"},e.prototype.visitContinue=function(e){return e.indent+"continue;"},e.prototype.visitShow=function(e,t){return e.indent+"serial.print("+this.visit(e,t)+");"},e.prototype.visitReturn=function(e,t){return e.indent+b.mkReturn(this.visit(e,t))},e.prototype.visitExprStmt=function(e,t){return e.indent+this.visit(e,t)+";"},e.prototype.visitInlineActions=function(n,e,t){var i=this,r={};return e.locals.forEach(function(e){r[e.id]=e.name}),t.map(function(e){var t=b.resolveLocal(n,r[e.reference.id],e.reference.id);return n.indent+b.findTypeDef(n,i.libraryMap,e.inParameters,e.outParameters)+" "+t+" = "+i.visitAction(n,"",t,e.inParameters,e.outParameters,e.body,!1,!0)+";\n"}).join("\n")+"\n"+n.indent+this.visit(n,e.tree)+";"},e.prototype.visitExprHolder=function(i,e,t){var r=this;if(b.isInitialRecordAssignment(e,t))return this.visit(i,e[0])+"(new "+b.mkType(i,this.libraryMap,e[0].type)+"_)";var n=e.map(function(e){var t=r.visit(i,e),n=b.defaultValueForType(r.libraryMap,e.type);return t+(!b.isPromoted(i,e.id)&&n?" = "+n:"")+";"});return n.join("\n"+i.indent)+(n.length?"\n"+i.indent:"")+this.visit(i,t)},e.prototype.visitLocalRef=function(e,t,n){return(b.isPromoted(e,n)?"*":"")+b.resolveLocal(e,t,n)},e.prototype.visitLocalDef=function(e,t,n,i,r){var o=b.mkType(e,this.libraryMap,i),a=b.resolveLocal(e,t,n);return b.shouldPromoteToRef(e,i,r)?(b.markPromoted(e,n),"Ref<"+o+"> "+a):o+" "+a},e.prototype.visitStringLiteral=function(e,t){return'touch_develop::mk_string("'+t.replace(/["\\\n\r]/g,function(e){return'"'==e?'\\"':"\\"==e?"\\\\":"\n"==e?"\\n":"\r"==e?"\\r":void 0})+'")'},e.prototype.visitNumberLiteral=function(e,t){return t+""},e.prototype.visitBooleanLiteral=function(e,t){return t+""},e.prototype.visitWhile=function(e,t,n){var i=this.visit(e,t),r=this.visitMany(b.indent(e),n);return e.indent+"while ("+i+") {\n"+r+"\n"+e.indent+"}"},e.prototype.visitFor=function(e,t,n,i){var r=this.visit(e,t)+" = 0",o=b.resolveLocalDef(e,t)+" < "+this.visit(e,n),a="++"+b.resolveLocalDef(e,t),s=this.visitMany(b.indent(e),i);return e.indent+"for ("+r+"; "+o+"; "+a+") {\n"+s+"\n"+e.indent+"}"},e.prototype.visitIf=function(e,t,n,i,r){var o="booleanLiteral"==t.tree.nodeType&&!1===t.tree.value;return[e.indent,r?"else ":"","if ("+this.visit(e,t)+"){\n",o?"":this.visitMany(b.indent(e),n)+"\n",e.indent,"}",i?" else {\n":"",i?this.visitMany(b.indent(e),i)+"\n":"",i?e.indent+"}":""].join("")},e.prototype.resolveCall=function(e,t,n){if(!t)return null;if(b.isScopedCall(t))return this.resolveCall(e,this.libRef,n);var i=b.isLibrary(t);if(i){var r=this.resolveMap[i]||i,o=this.libs.filter(function(e){return e.name==r})[0].decls.filter(function(e){return e.name==n})[0],a=b.isShimBody(o.body);if(null!=a){if(!a.length)throw new Error("Library author: some (compiled) function is trying to call "+n+" which is marked as {shim:}, i.e. for simulator purposes only.\n\nHint: break on exceptions in the debugger and walk up the call stack to figure out which action it is.");return a}return i in this.resolveMap?b.resolveGlobalL(e,this.resolveMap[i],n):b.resolveGlobal(e,n)}return null},e.prototype.specialTreatment=function(t,e,n){var i=this;if("micro_bit::createImage"==e||"micro_bit::showAnimation"==e||"micro_bit::showLeds"==e||"micro_bit::plotLeds"==e){var r=b.isStringLiteral(n[0]);if(""===r&&(r="0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n"),!r)throw new Error("create image / show animation / plot image takes a string literal only");var o="literals::bitmap"+this.imageLiterals.length,a=n.splice(1).map(function(e){return i.visit(t,e)}),s=e+"("+o+"_w, "+o+"_h, "+o+(a.length?", "+a:"")+")";return this.imageLiterals.push(r),s}return null},e.prototype.safeGet=function(e,t){return e+"->"+t},e.prototype.visitCall=function(o,e,a,t,n,i,s){var c=this;void 0===s&&(s=null);var r=function(e,t){var n=t?a.slice(1):a,i=c.specialTreatment(o,e,n);if(i)return i;var r=n.map(function(e){var t=b.isEnumLiteral(e);return t?t+"":c.visit(b.resetPriority(o),e)});return e+(s?"<"+s+">":"")+"("+r.join(", ")+")"},l=function(e){return e>b.priority(o)?function(e){return"("+e+")"}:function(e){return e}};if("Unfinished Type"==n){var u=s||b.mkType(o,this.libraryMap,t[0]);_(a.length&&"call"==a[0].nodeType);var d=a[0];return this.visitCall(b.resetPriority(o),d.name,d.args,d.typeArgs,d.parent,d.callType,u)}if(b.isRecordConstructor(e,a)){var p="user_types::"+b.resolveGlobal(o,n)+"_";return"ManagedType<"+p+">(new "+p+"())"}if(b.isInvalidRecord(e,a))return"ManagedType<user_types::"+b.resolveGlobal(o,a[0].name)+"_>()";if("is invalid"==e&&b.resolveTypeRef(this.libraryMap,n).user)return l(9)(this.visit(b.setPriority(o,9),a[0])+".get() == NULL");if("equals"==e&&b.resolveTypeRef(this.libraryMap,n).user)return l(9)(this.visit(b.setPriority(o,9),a[0])+"=="+this.visit(b.setPriority(o,9),a[1]));var h=this.resolveCall(b.resetPriority(o),a[0],e);if(h)return r(h,!0);if(":="==e)return this.visit(b.resetPriority(o),a[0])+" = "+this.visit(b.resetPriority(o),a[1]);if(a.length&&"data"==b.isSingletonRef(a[0]))return"globals::"+b.resolveGlobal(o,e);if("extension"==i)return r((m=b.resolveTypeRef(this.libraryMap,n)).lib?this.resolveCall(b.resetPriority(o),b.mkLibraryRef(m.lib),e):this.resolveCall(b.resetPriority(o),b.mkCodeRef(),e),!1);if("field"==i)return this.safeGet(this.visit(b.resetPriority(o),a[0]),b.mangle(e));if(a.length&&"♻"==b.isSingletonRef(a[0]))return"";if(a.length&&b.isSingletonRef(a[0]))return b.isSingletonRef(a[0]).toLowerCase()+"::"+r(b.mangle(e).toLowerCase(),!0);var m=b.resolveTypeRef(this.libraryMap,n),f=b.lookupOperator(m.type.toLowerCase()+"::"+e);if(f){var g=l(f.prio),v=f.right?f.prio-1:f.prio,y=f.prio;return 2==a.length?g(this.visit(b.setPriority(o,y),a[0])+" "+f.op+" "+this.visit(b.setPriority(o,v),a[1])):(_(1==a.length),g(f.op+this.visit(b.setPriority(o,y),a[0])))}return r(m.type.toLowerCase()+"::"+b.mangle(e),!1)},e.prototype.visitSingletonRef=function(e,t){return""},e.prototype.visitGlobalDef=function(e,t,n,i){if(null!==b.isShim(i))return null;var r=i.match(/{default:([^}]+)}/),o=r?r[1]:b.defaultValueForType(this.libraryMap,n);return e.indent+b.mkType(e,this.libraryMap,n)+" "+b.resolveGlobal(e,t)+(o?" = "+o:"")+";"},e.prototype.visitAction=function(e,t,n,i,r,o,a,s){if(void 0===s&&(s=!1),1<r.length)throw new Error("Not supported (multiple return parameters)");var c=b.indent(e),l="";if(0<r.length){var u=b.defaultValueForType(this.libraryMap,r[0].type),d=u?" = "+u:"";l=c.indent+this.visit(c,r[0])+d+";"}var p=[l,this.visitMany(c,o),r.length?c.indent+b.mkReturn(b.resolveLocalDef(e,r[0])):""].filter(function(e){return""!=e}).join("\n"),h=b.mkSignature(e,this.libraryMap,b.resolveGlobal(e,t),i,r,s);return(s?"":e.indent)+h+" {\n"+p+"\n"+e.indent+"}"},e.prototype.compileImageLiterals=function(c){return this.imageLiterals.length?c.indent+"namespace literals {\n"+this.imageLiterals.map(function(e,t){for(var n=0,i=0,r=0,o="{ ",a=0;a<e.length;++a)switch(e[a]){case"0":case"1":o+=e[a]+", ",n++;break;case" ":break;case"\n":if(0==i)i=n;else if(n!=i)throw new Error("Malformed string literal");n=0,r++;break;default:throw new Error("Malformed string literal")}r++,o+="}";var s="bitmap"+t;return c.indent+"  const int "+s+"_w = "+i+";\n"+c.indent+"  const int "+s+"_h = "+r+";\n"+c.indent+"  const uint8_t "+s+"[] = "+o+";\n"}).join("\n")+c.indent+"}\n\n":""},e.prototype.typeDecl=function(n,e){var i=this;if(null!==b.isShim(e.comment))return null;var t=b.resolveGlobal(n,e.name),r=e.fields.map(function(e){var t=b.mkType(n,i.libraryMap,e.type);return n.indent+"  "+t+" "+b.mangle(e.name)+";"}).join("\n");return[n.indent+"struct "+t+"_ {",r,n.indent+"};"].join("\n")},e.prototype.typeStub=function(e,t){var n=b.resolveGlobal(e,t.name),i=b.isShim(t.comment);return""===i?null:null!==i?e.indent+"typedef "+i+" "+n+";":[e.indent+"struct "+n+"_;",e.indent+"typedef ManagedType<"+n+"_> "+n+";"].join("\n")},e.prototype.wrapNamespaceIf=function(e,t){return null!=e.libName?t.length?"  namespace "+b.mangle(e.libName)+" {\n"+t+"\n  }":"":t},e.prototype.wrapNamespaceDecls=function(e,t,n){return n.length?e.indent+"namespace "+t+" {\n"+n.join("\n")+"\n"+e.indent+"}":""},e.prototype.visitApp=function(n,e){var i=this;(n=b.indent(n)).libName&&(n=b.indent(n)),e.forEach(function(e){if("library"==e.nodeType){var t=e;i.libraryMap[t.id]=t.name}});var t=e.map(function(e){var t=b.indent(n);return"record"==e.nodeType?i.typeStub(t,e):null}).filter(function(e){return null!=e}),r=this.wrapNamespaceDecls(n,"user_types",t),o=e.map(function(e){var t=b.indent(n);return"record"==e.nodeType?i.typeDecl(t,e):null}).filter(function(e){return null!=e}),a=this.wrapNamespaceDecls(n,"user_types",o),s=e.map(function(e){var t=b.indent(n);return"data"==e.nodeType?i.visit(t,e):null}).filter(function(e){return null!=e}),c=this.wrapNamespaceDecls(n,"globals",s),l=e.map(function(e){return"action"==e.nodeType&&b.willCompile(e)?n.indent+b.mkSignature(n,i.libraryMap,b.resolveGlobal(n,e.name),e.inParameters,e.outParameters)+";":null}).filter(function(e){return null!=e}),u=e.map(function(e){return"action"==e.nodeType&&b.willCompile(e)?i.visit(n,e):("art"!=e.nodeType||"prelude.cpp"!=e.name||(i.prelude+=e.value),null)}).filter(function(e){return null!=e});return this.prototypes=this.wrapNamespaceIf(n,c+"\n"+l.join("\n")),this.code=this.wrapNamespaceIf(n,this.compileImageLiterals(n)+u.join("\n")),this.tPrototypes=this.wrapNamespaceIf(n,r),this.tCode=this.wrapNamespaceIf(n,a),null},e}(e.JsonAstVisitor);e.Emitter=t}(e.Embedded||(e.Embedded={}))}(TDev||(TDev={})),function(e){!function(e){var c=e.Helpers;function l(e,t){e.push(t)}var r=function(o){function e(e){o.call(this),this.env=e,this.as=[]}return __extends(e,o),e.prototype.visitMany=function(t,e){var n=this;e.forEach(function(e){return n.visit(t,e)})},e.prototype.visit=function(e,t){var n=this;if("inlineActions"==t.nodeType){var i=t,r=[];i.actions.forEach(function(e){try{n.visit([],e),n.as.push(e),r.push(e.reference.id);var t=c.resolveLocal(n.env,e.reference.name,e.reference.id);e.reference.name=t}catch(e){}}),i.actions=i.actions.filter(function(e){return r.indexOf(e.reference.id)<0}),i.expr.locals=i.expr.locals.filter(function(e){return r.indexOf(e.id)<0}),0==i.actions.length&&(t.nodeType="exprStmt")}else o.prototype.visit.call(this,e,t)},e.prototype.visitExpr=function(e,t){},e.prototype.visitExprStmt=function(e,t){this.visit(e,t)},e.prototype.visitExprHolder=function(i,e,t,n){e.forEach(function(e){return l(i,e.id)}),n.forEach(function(e){if("localRef"==e.nodeType&&(t=i,n=e.localId,!(0<=t.indexOf(n))))throw{};var t,n})},e.prototype.visitContinue=function(e){},e.prototype.visitReturn=function(e){},e.prototype.visitBreak=function(e){},e.prototype.visitInlineActions=function(e,t,n){this.visit(e,t),this.visitMany(e,n)},e.prototype.visitInlineAction=function(e,t,n,i,r){var o=[];n.forEach(function(e){return l(o,e.id)}),i.forEach(function(e){return l(o,e.id)}),this.visitMany(o,r)},e.prototype.visitWhile=function(e,t,n){this.visitMany(e,n)},e.prototype.visitIf=function(e,t,n,i,r){this.visitMany(e,n),this.visitMany(e,i||[])},e.prototype.visitFor=function(e,t,n,i){l(e,t.id),this.visitMany(e,i)},e.prototype.visitComment=function(e,t){},e.prototype.visitAction=function(e,t,n,i,r,o,a){if(null==c.isShimBody(o)){var s=[];i.forEach(function(e){return l(s,e.id)}),r.forEach(function(e){return l(s,e.id)}),this.visitMany(s,o)}},e.prototype.visitLibrary=function(e,t){},e.prototype.visitApp=function(e,t){this.visitMany(e,t)},e.prototype.visitGlobalDef=function(e,t,n){},e.prototype.visitRecord=function(e,t,n,i){},e}(e.JsonAstVisitor);e.lift=function(e,t){var n=new r(e);n.visit([],t);var i=n.as.map(function(e){var t=e.reference.name;return{nodeType:"action",id:e.reference.id,name:t,inParameters:e.inParameters,outParameters:e.outParameters,isPrivate:!1,isOffline:!1,isQuery:!1,isTest:!1,isAsync:!1,description:"",body:e.body}});Array.prototype.push.apply(t.decls,i)}}(e.Embedded||(e.Embedded={}))}(TDev||(TDev={})),function(A){var T;(function(e){var m,f,g,v,y,b;function _(e){for(var t="",n=0;n<e.length;n+=2)t=e[n]+e[n+1]+t;return A.Util.assert(n==e.length),t}function d(e){var t=new Error(e);throw t.bitvmUserError=!0,t}function w(e){return x==e.sha}function k(e){if(!(e=e.replace(/^[\s:]/,"")))return[];var t=/^([a-f0-9][a-f0-9])/i.exec(e);if(t)return[parseInt(t[1],16)].concat(k(e.slice(2)));A.Util.oops("bad bytes "+e)}e.isSetupFor=w;var x=null;function t(e,t){if(!w(e)){x=e.sha;var n=t||A.bytecodeInfo;f=n.hex;var i=0,r="0000",o=0,a=0;for(y=0;i<f.length;++i){if((d=/:02000004(....)/.exec(f[i]))&&(r=d[1]),d=/^:..(....)00/.exec(f[i])){var s=parseInt(r+d[1],16);if(!y&&245760<=s){var c=k(f[a]);if(16!=c[0]){for(c.pop(),c[0]=16;c.length<20;)c.push(0);f[a]=C(c)}A.Util.assert(0==(15&c[2])),y=o+16,b=a+1}a=i,o=s}(d=/^:10....000108010842424242010801083ED8E98D/.exec(f[i]))&&(g=o,v=i)}g||A.Util.oops("No hex start"),m={};var l=n.functions.concat(e.functions),u=function(t){return Object.keys(t).forEach(function(e){m[e]={name:e,type:"E",args:0,value:t[e]}})};for(u(e.enums),u(n.enums),i=v+1;i<f.length;++i){var d;if(d=/^:10(....)00(.{16})/.exec(f[i]))for(var p=f[i].slice(9);8<=p.length;){var h=l.shift();if(!h)return;(m[h.name]=h).value=4294967294&parseInt(_(p.slice(0,8)),16),A.Util.assert(!!h.value),p=p.slice(8)}}A.Util.die()}}function p(e){return A.Util.assert(null!=e),A.Util.assert(e!=T.api.core.Unknown),!(e==T.api.core.Number||e==T.api.core.Boolean)}function h(e){return/^uBit\./.test(e)&&(e=e.replace(/^uBit\./,"micro_bit::").replace(/\.(.)/g,function(e,t){return t.toUpperCase()})),m[e]}function a(e){var t=h(e);return t?t.value-y:null}e.setupFor=t,e.lookupFunctionAddr=a,e.tohex=function(e){return e<0||65535<e?("0x"+e.toString(16)).toLowerCase():("0x"+("000"+e.toString(16)).slice(-4)).toLowerCase()};var s=function(){function e(e,t){void 0===t&&(t=null),this.index=e,this.def=t,this.isarg=!1}return e.prototype.toString=function(){var e="";return this.def&&(e+=this.def.getName()),this.isarg&&(e="ARG "+e),this.isRef()&&(e="REF "+e),this.isByRefLocal()&&(e="BYREF "+e),"["+e+"]"},e.prototype.isRef=function(){return this.def&&p(this.def.getKind())},e.prototype.refSuff=function(){return this.isRef()?"Ref":""},e.prototype.isByRefLocal=function(){return this.def instanceof T.LocalDef&&this.def.isByRef()},e.prototype.emitStoreByRef=function(e){A.Util.assert(this.def instanceof T.LocalDef),this.isByRefLocal()?(this.emitLoadLocal(e),e.emit("pop {r1}"),e.emitCallRaw("bitvm::stloc"+(this.isRef()?"Ref":""))):this.emitStore(e)},e.prototype.asmref=function(e){return this.isarg?"[sp, args@"+(e.args.length-this.index-1)+"] ; "+this.toString():"[sp, locals@"+this.index+"] ; "+this.toString()},e.prototype.emitStoreCore=function(e){e.emit("str r0, "+this.asmref(e))},e.prototype.emitStore=function(e){this.isarg&&A.Util.oops("store for arg"),this.def instanceof T.GlobalDef?(e.emitInt(this.index),e.emitCall("bitvm::stglb"+this.refSuff(),0)):(A.Util.assert(!this.isByRefLocal()),this.isRef()&&(this.emitLoadCore(e),e.emitCallRaw("bitvm::decr")),e.emit("pop {r0}"),this.emitStoreCore(e))},e.prototype.emitLoadCore=function(e){e.emit("ldr r0, "+this.asmref(e))},e.prototype.emitLoadByRef=function(e){this.isByRefLocal()?(this.emitLoadLocal(e),e.emitCallRaw("bitvm::ldloc"+this.refSuff()),e.emit("push {r0}")):this.emitLoad(e)},e.prototype.emitLoadLocal=function(e){this.isarg&&e.argsInR5?(A.Util.assert(0<=this.index&&this.index<32),e.emit("ldr r0, [r5, #4*"+this.index+"]")):this.emitLoadCore(e)},e.prototype.emitLoad=function(e,t){void 0===t&&(t=!1),this.def instanceof T.GlobalDef?(e.emitInt(this.index),e.emitCall("bitvm::ldglb"+this.refSuff(),0)):(A.Util.assert(t||!this.isByRefLocal()),this.emitLoadLocal(e),e.emit("push {r0}"),(this.isRef()||this.isByRefLocal())&&e.emitCallRaw("bitvm::incr"))},e.prototype.emitClrIfRef=function(e){A.Util.assert(!(this.def instanceof T.GlobalDef)),this.isarg&&this.isByRefLocal()||(this.isRef()||this.isByRefLocal())&&(this.emitLoadCore(e),e.emitCallRaw("bitvm::decr"))},e}();e.Location=s;var c=function(){function e(){this.numArgs=0,this.hasReturn=!1,this.argsInR5=!1,this.lblNo=0,this.prebody="",this.body="",this.locals=[],this.args=[]}return e.prototype.toString=function(){return this.prebody+this.body},e.prototype.mkLocal=function(e){void 0===e&&(e=null);var t=new s(this.locals.length,e);return this.locals.push(t),t},e.prototype.emitClrs=function(t,e){var n=this;void 0===e&&(e=!1);var i=this.locals;e&&(i=i.concat(this.args)),i.forEach(function(e){e.def!=t&&e.emitClrIfRef(n)})},e.prototype.emitCallRaw=function(e){this.emit("bl "+e+" ; (raw)")},e.prototype.emitCall=function(e,t){var n=h(e);A.Util.assert(!!n,"unimplemented function: "+e),A.Util.assert(n.args<=4),4<=n.args&&this.emit("pop {r3}"),3<=n.args&&this.emit("pop {r2}"),2<=n.args&&this.emit("pop {r1}"),1<=n.args&&this.emit("pop {r0}");for(var i=[],r=0;r<4;++r)t&1<<r&&i.push("r"+r);var o=i.length;for("F"==n.type&&0!=t&&(i.push("r7"),this.emit("@stackmark retval")),A.Util.assert(0==(-16&t)),0<i.length&&this.emit("push {"+i.join(",")+"}"),this.emit("bl "+e),"F"==n.type?0==t?this.emit("push {r0}"):this.emit("str r0, [sp, retval@-1]"):"P"==n.type||A.Util.oops("invalid call type "+n.type);0<o--;)this.emitCall("bitvm::decr",0)},e.prototype.emitJmp=function(e,t){void 0===t&&(t="JMP");var n="";"JMPZ"==t?(n=this.mkLabel("jmpz"),this.emit("pop {r0}"),this.emit("cmp r0, #0"),this.emit("bne "+n)):"JMPNZ"==t?(n=this.mkLabel("jmpnz"),this.emit("pop {r0}"),this.emit("cmp r0, #0"),this.emit("beq "+n)):"JMP"==t||A.Util.oops("bad jmp"),this.emit("bb "+e),n&&this.emitLbl(n)},e.prototype.mkLabel=function(e){return"."+e+"."+this.seqNo+"."+this.lblNo++},e.prototype.emitLbl=function(e){this.emit(e+":")},e.prototype.emit=function(e){this.body+=o(e)},e.prototype.emitMov=function(e){A.Util.assert(0<=e&&e<=255),this.emit("movs r0, #"+e)},e.prototype.emitAdd=function(e){A.Util.assert(0<=e&&e<=255),this.emit("adds r0, #"+e)},e.prototype.emitLdPtr=function(e,t){void 0===t&&(t=!1),A.Util.assert(!!e),this.emit("movs r0, "+e+"@hi   ; ldptr "+e),this.emit("lsls r0, r0, #8"),this.emit("adds r0, "+e+"@lo   ; endldptr"),t&&this.emit("push {r0}")},e.prototype.emitInt=function(e,t){void 0===t&&(t=!1),A.Util.assert(null!=e);var n=Math.floor(e),i=!1;n<0&&(i=!0,n=-n),n<=255?this.emitMov(n):n<=65535?(this.emitMov(n>>8&255),this.emit("lsls r0, r0, #8"),this.emitAdd(255&n)):(this.emitMov(n>>24&255),this.emit("lsls r0, r0, #8"),this.emitAdd(n>>16&255),this.emit("lsls r0, r0, #8"),this.emitAdd(n>>8&255),this.emit("lsls r0, r0, #8"),this.emitAdd(n>>0&255)),i&&this.emit("neg r0, r0"),t||this.emit("push {r0}")},e.prototype.stackEmpty=function(){this.emit("@stackempty locals")},e.prototype.pushLocals=function(){A.Util.assert(""==this.prebody),this.prebody=this.body,this.body=""},e.prototype.popLocals=function(){var t=this,e=this.body;this.body=this.prebody;var n=this.locals.length;0<n&&this.emit("movs r0, #0"),this.locals.forEach(function(e){t.emit("push {r0} ; loc")}),this.emit("@stackmark locals"),this.body+=e,A.Util.assert(0<=n&&n<127),0<n&&this.emit("add sp, #4*"+n+" ; pop locals "+n)},e}();function C(e){var t=0,n=":";return e.forEach(function(e){return t+=e}),e.push(255&-t),e.forEach(function(e){return n+=("0"+e.toString(16)).slice(-2)}),n.toUpperCase()}e.Procedure=c;var n=function(){function e(){this.procs=[],this.globals=[],this.csource="",this.strings={},this.stringsBody="",this.lblNo=0}return e.prototype.isDataRecord=function(e){if(!e)return!1;var t=/^:......(..)/.exec(e);return A.Util.assert(!!t),"00"==t[1]},e.prototype.patchHex=function(e){var t=f.slice(0,b);A.Util.assert(this.buf.length<32e3);var r=0;function n(e,t){for(var n=[16,t>>8&255,255&t,0],i=0;i<8;++i)n.push(255&(e[r]||0)),n.push((e[r]||0)>>>8),r++;return n}for(var i=[16903,this.globals.length,65535&y,y>>>16],o=l(),a=0;a<4;++a)i.push(parseInt(_(o.slice(4*a,4*a+4)),16));t[v]=C(n(i,g)),r=0,e&&(t=[]);for(var s=y,c=s-16>>16;r<this.buf.length;)s>>16!=c&&(c=s>>16,t.push(C([2,0,0,4,c>>8,255&c]))),t.push(C(n(this.buf,s))),s+=16;return e||f.slice(b).forEach(function(e){return t.push(e)}),t},e.prototype.addProc=function(e){this.procs.push(e),e.seqNo=this.procs.length,e.label="_"+(e.action?e.action.getName().replace(/[^\w]/g,""):"inline")+"_"+e.seqNo},e.prototype.stringLiteral=function(e){for(var t='"',n=0;n<e.length;++n){var i=255&e.charCodeAt(n),r=String.fromCharCode(i);t+="\\"==r||'"'==r?"\\"+r:"\n"==r?"\\n":i<=15?"\\x0"+i.toString(16):i<32||127<i?"\\x"+i.toString(16):r}return t+'"'},e.prototype.emitLiteral=function(e){this.stringsBody+=e+"\n"},e.prototype.emitString=function(e){if(this.strings.hasOwnProperty(e))return this.strings[e];var t="_str"+this.lblNo++;return this.strings[e]=t,this.emitLiteral(".balign 4"),this.emitLiteral(t+"meta: .short 0xffff, "+e.length),this.emitLiteral(t+": .string "+this.stringLiteral(e)),t},e.prototype.emit=function(e){this.csource+=o(e)},e.prototype.serialize=function(){var t=this;A.Util.assert(""==this.csource),this.emit("; start"),this.emit(".hex 708E3B92C615A841C49866C975EE5197"),this.emit(".hex "+l()+" ; hex template hash"),this.emit(".hex 0000000000000000 ; @SRCHASH@"),this.emit(".space 16 ; reserved"),this.procs.forEach(function(e){t.csource+="\n"+e.body}),this.csource+=this.stringsBody,this.emit("_program_end:")},e.prototype.patchSrcHash=function(){var e=A.Random.sha256buffer(A.Util.stringToUint8Array(A.Util.toUTF8(this.csource)));this.csource=this.csource.replace(/\n.*@SRCHASH@\n/,"\n    .hex "+e.slice(0,16).toUpperCase()+" ; program hash\n")},e.prototype.addSource=function(e,t){var n=A.Util.stringToUint8Array(A.Util.toUTF8(e)),i=n.length+t.length;if(4e4<i)return 0;this.emit(".balign 16"),this.emit(".hex 41140E2FB82FA2BB"),this.emit(".short "+n.length),this.emit(".short "+t.length),this.emit(".short 0"),this.emit(".short 0");var r='_stored_program: .string "',o=function(e){for(var t=0;t<e.length;++t){var n=255&e[t];r+=n<=15?"\\x0"+n.toString(16):"\\x"+n.toString(16)}};return o(n),o(t),r+='"',this.emit(r),i+16},e.extractSource=function(e){if(e){var i,r=0,o=0,a=0,s=0;if(e.split(/\r?\n/).forEach(function(e){var t=/^:10....0041140E2FB82FA2BB(....)(....)(....)(....)(..)/.exec(e);if(t)r=parseInt(_(t[1]),16),o=parseInt(_(t[2]),16),a=r+o,i=new Uint8Array(a);else if(0<a){if(!(t=/^:10....00(.*)(..)$/.exec(e)))return;for(var n=t[1];0<a&&0<n.length;)i[s++]=parseInt(n[0]+n[1],16),n=n.slice(2),a--}}),i&&0==a&&s==i.length){for(var t=new Uint8Array(r),n=new Uint8Array(o),c=0;c<r;++c)t[c]=i[c];for(c=0;c<o;++c)n[c]=i[r+c];return{meta:A.Util.fromUTF8Bytes(t),text:n}}}},e.prototype.assemble=function(){var r=this;T.Thumb.test();var e=new T.Thumb.Binary;if(e.lookupExternalLabel=a,e.emit(this.csource),this.csource=e.getSource(!/peepdbg=1/.test(document.URL)),0<e.errors.length){var o="";if(e.errors.forEach(function(e){var t=/^user(\d+)/.exec(e.scope);if(t){var n=parseInt(t[1]),i=r.procs.filter(function(e){return e.seqNo==n})[0];i&&i.action?o+=A.lf("At function {0}:\n",i.action.getName()):o+=A.lf("At inline assembly:\n"),o+=e.message}}),!o)throw new Error(e.errors[0].message);A.ModalDialog.showText(o,A.lf("errors in inline assembly"))}else this.buf=e.buf},e}();e.Binary=n;var r=function(t){function e(){t.apply(this,arguments),this.markShims=!1}return __extends(e,t),e.prototype.useAction=function(e){null==e.getShimName()?t.prototype.useAction.call(this,e):(this.markShims||e._compilerInlineBody)&&(e.visitorState=!0)},e}(T.PreCompiler);function u(e,t){void 0===t&&(t=!1);var n=A.Script;try{A.Script=e;var i=new r({});i.markShims=t,i.run(A.Script)}finally{A.Script=n}}e.ReachabilityVisitor=r,e.computeReachableNodes=u;var i=function(t){function e(e){t.call(this),this.app=e,this.binary=new n,this.numStmts=1,this.finals=[]}return __extends(e,t),e.prototype.shouldCompile=function(e){return!0===e.visitorState},e.prototype.run=function(){var n=this;if(S(),0<T.TypeChecker.tcApp(this.app))A.HTML.showProgressNotification(A.lf("Your script has errors! Just saving the source."));else{var e=A.Script;try{for(A.Script=this.app,u(this.app),this.app.librariesAndThis().forEach(function(e){if(e.isThis())e.resolved.libraries().forEach(function(e){return e.getPublicActions().forEach(function(e){e._compilerInfo=e.template})});else{var t=A.Util.toDictionary(e.resolveClauses.stmts,function(e){return e.formalLib.getName()});e.resolved.libraries().forEach(function(e){var n=A.Util.toDictionary(t[e.getName()].actionBindings.stmts,function(e){return e.formal.getName()});e.getPublicActions().forEach(function(e){if(n[e.getName()]){var t=n[e.getName()].actual;t instanceof T.LibraryRefAction&&t.template?e._compilerInfo=t.template:e._compilerInfo=t}})})}n.prepApp(e.resolved)}),this.app.librariesAndThis().forEach(function(e){n.compileApp(e.resolved)});0<this.finals.length;)this.finals.shift()()}finally{A.Script=e}}},e.prototype.serialize=function(e,t,n){var i=!1;e=!1,0==this.binary.procs.length?e=!0:(this.binary.serialize(),i=!0);var r=0;null!=t&&null!=n&&(r=this.binary.addSource(t,n)),this.binary.patchSrcHash();var o=0<r;this.binary.assemble();var a={data:null,contentType:"application/x-microbit-hex",csource:this.binary.csource,sourceSaved:o,compiled:i};if(!this.binary.buf)return a;var s=this.binary.patchHex(e).join("\r\n")+"\r\n";return a.data=s,a},e.prototype.visitAstNode=function(e){this.visitChildren(e)},e.prototype.handleAssignment=function(e){A.Util.assert(1==e._assignmentInfo.targets.length);var t=e.args[0],n=e.args[1],i=p(e.args[1].getKind())?"Ref":"";t.referencedRecordField()?(this.dispatch(t.args[0]),this.emitInt(this.fieldIndex(t.referencedRecordField())),this.dispatch(n),this.proc.emitCall("bitvm::stfld"+i,0)):t.referencedData()?(this.dispatch(n),this.globalIndex(t.referencedData()).emitStore(this.proc)):t.referencedLocal()?(this.dispatch(n),this.localIndex(t.referencedLocal()).emitStoreByRef(this.proc)):A.Util.oops("bad assignment: "+t.nodeType())},e.prototype.visitBreak=function(e){this.proc.emitJmp(e.topAffectedStmt._compilerBreakLabel)},e.prototype.visitContinue=function(e){this.proc.emitJmp(e.topAffectedStmt._compilerContinueLabel)},e.prototype.visitReturn=function(e){e.topRetLocal&&(this.dispatch(e.args[0]),this.localIndex(e.topRetLocal).emitStore(this.proc)),this.proc.emitJmp(e.topAffectedStmt._compilerBreakLabel)},e.prototype.getMask=function(e){A.Util.assert(e.length<=8);var i=0;return e.forEach(function(e,t){var n;"string"==typeof(n=e).getLiteral()&&null!=n.enumVal||"number"==typeof n.getLiteral()||!p(n.getKind())||(i|=1<<t)}),i},e.prototype.emitAsString=function(e){this.dispatch(e);var t=e.getKind().getName().toLowerCase();"string"==t||("number"==t||"boolean"==t?this.proc.emitCall(t+"::to_string",0):A.Util.oops("don't know how to convert "+t+" to string"))},e.prototype.emitImageLiteral=function(e){e||(e="0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n");for(var t=0,n=0,i=0,r="",o=0;o<e.length;++o)switch(e[o]){case"0":r+="0,",t++;break;case"1":r+="1,",t++;break;case" ":break;case"\n":if(0==n)n=t;else if(t!=n)throw new Error("Malformed string literal");t=0,i++;break;default:throw new Error("Malformed string literal")}0<t&&i++;var a="_img"+this.binary.lblNo++;this.binary.emitLiteral(".balign 4"),this.binary.emitLiteral(a+": .short 0xffff"),this.binary.emitLiteral("        .short "+n+", "+i),r.length%4!=0&&(r+="42"),this.binary.emitLiteral("        .byte "+r),this.proc.emitLdPtr(a,!0)},e.prototype.handleActionCall=function(e){var t=this,n=e.calledExtensionAction()||e.calledAction(),r=e.args.slice(0);(r[0].getKind()instanceof A.ThingSetKind||r[0].referencedLibrary()||r[0]instanceof T.ThingRef&&r[0].namespaceLibraryName())&&r.shift(),A.Util.assert(r.length==n.getInParameters().length);var i=n._compilerInfo||n;A.Util.assert(r.length==i.getInParameters().length),i!=n&&i.getParameters().slice(-i.getInParameters().length).forEach(function(e){var t=e.getStringValues();if(t){var n=t.enumMap;if(n){var i=n[r[0].getStringLiteral()];A.Util.assert(null!=i),r[0].enumVal=i}}});var o=i.getShimName(),a=!!n.getOutParameters()[0];if("TD_NOOP"!=o)if(/^micro_bit::(createImage|createReadOnlyImage|showAnimation|showLeds|plotLeds)$/.test(o)?(A.Util.assert(null!=r[0].getLiteral()),this.emitImageLiteral(r[0].getLiteral()),r.shift(),r.forEach(function(e){return t.dispatch(e)}),r=[T.mkLit(0)].concat(r)):r.forEach(function(e){return t.dispatch(e)}),"TD_ID"!=o)if(null!=o){var s=this.getMask(r),c="{shim:"+o+"} from "+i.getName();o||d("called "+c+" (with empty {shim:}");var l=h(o);if(i._compilerInlineBody){A.Util.assert(!l),m[o]={name:o,type:a?"F":"P",args:i.getInParameters().length,idx:0,value:0};try{this.proc.emitCall(o,s)}finally{delete m[o]}}else l||d("shim not found: "+c),a?"F"!=l.type&&d("expecting function for "+c):"P"!=l.type&&d("expecting procedure for "+c),r.length!=l.args&&d("argument number mismatch: "+r.length+" vs "+l.args+" in "+c),this.proc.emitCall(o,s)}else{if(this.proc.emit("bl "+this.procIndex(i).label),0<r.length){var u=r.length;A.Util.assert(0<=u&&u<127),this.proc.emit("add sp, #4*"+u)}a&&this.proc.emit("push {r0}")}else A.Util.assert(1==r.length);else A.Util.assert(!a)},e.prototype.emitLazyOp=function(e,t,n){this.dispatch(t);var i=this.proc.mkLabel("lazy");"and"==e?this.proc.emitJmp(i,"JMPZ"):"or"==e?this.proc.emitJmp(i,"JMPNZ"):A.Util.die(),this.dispatch(n),this.proc.emit("pop {r0}"),this.proc.emitLbl(i),this.proc.emit("push {r0}")},e.prototype.visitCall=function(e){var n=this,t=e.getCalledProperty();if(t!=T.api.core.AssignmentProp){var i=function(e,t){t.forEach(function(e){return n.dispatch(e)}),n.proc.emitCall(e,n.getMask(t))},r=t.parentKind.getRoot().getName();if(1==e.args.length&&"is invalid"==t.getName())this.dispatch(e.args[0]),this.proc.emitCall("bitvm::is_invalid",this.getMask(e.args));else if(e.referencedData())this.globalIndex(e.referencedData()).emitLoad(this.proc);else if(e.referencedLibrary())this.emitInt(0);else if(e.calledAction()||e.calledExtensionAction())this.handleActionCall(e);else if(e.args[0]&&e.args[0].referencedRecord()){var o=e.args[0].referencedRecord();"create"==t.getName()?(this.emitInt(o._compilerInfo.refsize),this.emitInt(o._compilerInfo.size),this.proc.emitCall("record::mk",0)):"invalid"==t.getName()?this.emitInt(0):A.Util.oops("unhandled record operation: "+t.getName())}else if(e.referencedRecordField())this.dispatch(e.args[0]),this.emitInt(this.fieldIndex(e.referencedRecordField())),this.proc.emitCall("bitvm::ldfld"+(p(e.getKind())?"Ref":""),0);else if(t.parentKind instanceof T.RecordEntryKind)"equals"==t.getName()?i("number::eq",e.args):A.Util.oops("unhandled entry record operation: "+t.getName());else if("Invalid"==r)this.emitInt(0);else if(e.getKind().getRoot()==T.api.core.Collection&&e.args[0].getCalledProperty()&&"Collection of"==e.args[0].getCalledProperty().getName()){var a=e.getKind().getParameter(0);a==T.api.core.String?this.proc.emitInt(3):p(a)?this.proc.emitInt(1):this.proc.emitInt(0),this.proc.emitCall("collection::mk",0)}else if(t==T.api.core.StringConcatProp)this.emitAsString(e.args[0]),this.emitAsString(e.args[1]),this.proc.emitCall("string::concat_op",3);else if("Boolean"==r&&/^(and|or)$/.test(t.getName()))A.Util.assert(2==e.args.length),this.emitLazyOp(t.getName(),e.args[0],e.args[1]);else{var s=e.args.slice(0);s[0].getThing()instanceof T.SingletonDef&&s.shift();var c=r.toLowerCase()+"::"+A.Embedded.Helpers.mangle(t.getName()),l=h(c);if(l||(l=h(c=r.toLowerCase()+"::"+t.runtimeName())),"contract::assert"==c){A.Util.assert("string"==typeof s[1].getLiteral()),this.dispatch(s[0]);var u=this.binary.emitString(s[1].getLiteral());return this.proc.emitLdPtr(u,!0),void this.proc.emitCall(c,0)}l?(e.getKind()==T.api.core.Nothing?A.Util.assert("P"==l.type,"expecting procedure for "+c):A.Util.assert("F"==l.type,"expecting function for "+c),A.Util.assert(s.length==l.args,"argument number mismatch: "+s.length+" vs "+l.args),i(c,s)):A.Util.oops("function not found: "+c)}}else this.handleAssignment(e)},e.prototype.visitExprHolder=function(e){var n=this,t=e.assignmentInfo();t&&t.definedVars&&t.definedVars.forEach(function(e){if(e.isByRef()){var t=n.localIndex(e);t.emitClrIfRef(n.proc),n.proc.emitCallRaw("bitvm::mkloc"+t.refSuff()),t.emitStoreCore(n.proc)}}),e.isPlaceholder()?this.proc.emit("nop"):this.dispatch(e.parsed)},e.prototype.emitInt=function(e,t){void 0===t&&(t=!1),this.proc.emitInt(e,t)},e.prototype.visitLiteral=function(e){if(void 0!==e.data)if("number"==typeof e.data)this.emitInt(e.data);else if("string"==typeof e.data)if(null!=e.enumVal)if(/^-?\d+$/.test(e.enumVal))this.emitInt(parseInt(e.enumVal));else{var t=h(e.enumVal);t||d(A.lf("unhandled enum value: {0}",e.enumVal)),"E"==t.type?this.proc.emitInt(t.value):"F"==t.type&&0==t.args?this.proc.emitCall(e.enumVal,0):d(A.lf("not valid enum: {0}; is it procedure name?",e.enumVal))}else if(""==e.data)this.proc.emitCall("string::mkEmpty",0);else{var n=this.binary.emitString(e.data);this.proc.emitLdPtr(n+"meta",!1),this.proc.emitCallRaw("bitvm::stringData"),this.proc.emit("push {r0}")}else"boolean"==typeof e.data?this.emitInt(e.data?1:0):A.Util.oops("invalid literal emit "+e.data)},e.prototype.emitInlineAction=function(t){var i=this,n=new c;n.argsInR5=!0,this.binary.addProc(n);var r=function(e){return e.isByRef()||p(e.getKind())},e=t.closure.filter(function(e){return r(e)}),o=t.closure.filter(function(e){return!r(e)}),a=e.concat(o);this.emitInt(e.length),this.emitInt(a.length),this.proc.emitLdPtr(n.label,!0),this.proc.emitCall("action::mk",0),a.forEach(function(e,t){i.emitInt(t),i.localIndex(e).emitLoad(i.proc,!0),i.proc.emitCall("bitvm::stclo",0)}),this.finals.push(function(){i.proc=n,i.proc.args=a.map(function(e,t){var n=new s(t,e);return n.isarg=!0,n}),t.allLocals.forEach(function(e){e._lastWriteLocation=null,-1==a.indexOf(e)&&i.proc.mkLocal(e)}),i.proc.emit(".section code"),i.proc.emit(".balign 4"),i.proc.emitLbl(i.proc.label),i.proc.emit(".short 0xffff, 0x0000   ; action literal"),i.proc.emit("@stackmark inlfunc"),i.proc.emit("push {r5, lr}"),i.proc.emit("mov r5, r1"),i.proc.pushLocals(),t.inParameters.forEach(function(e,t){A.Util.assert(t<2);var n=i.localIndex(e,!0);i.proc.emit("push {r"+(t+2)+"}"),n.emitStore(i.proc)});var e=i.proc.mkLabel("inlret");t._compilerBreakLabel=e,i.dispatch(t.body),i.proc.emitLbl(e),i.proc.emitClrs(null,!1),i.proc.popLocals(),i.proc.emit("pop {r5, pc}"),i.proc.emit("@stackempty inlfunc")})},e.prototype.visitThingRef=function(e){var t=e.def;t instanceof T.LocalDef?t._lastWriteLocation instanceof T.InlineAction?this.emitInlineAction(t._lastWriteLocation):this.localIndex(t).emitLoadByRef(this.proc):t instanceof T.SingletonDef?this.emitInt(0):A.Util.oops(t.nodeType())},e.prototype.visitAnyIf=function(e){var i=this;if(!e.isTopCommentedOut()&&e.branches){var r=this.proc.mkLabel("afterif");e.branches.forEach(function(e,t){if(e.condition){i.dispatch(e.condition);var n=i.proc.mkLabel("else");i.proc.emitJmp(n,"JMPZ"),i.dispatch(e.body),i.proc.emitJmp(r),i.proc.emitLbl(n)}else i.dispatch(e.body)}),this.proc.emitLbl(r)}},e.prototype.globalIndex=function(t){return this.binary.globals.filter(function(e){return e.def==t})[0]},e.prototype.fieldIndex=function(e){return A.Util.assert(null!=e._compilerInfo.idx),e._compilerInfo.idx},e.prototype.procIndex=function(t){return this.binary.procs.filter(function(e){return e.action==t})[0]},e.prototype.localIndex=function(t,e){return void 0===e&&(e=!1),this.proc.locals.filter(function(e){return e.def==t})[0]||(e?null:this.proc.args.filter(function(e){return e.def==t})[0])},e.prototype.visitFor=function(e){var t=this.proc.mkLocal();this.dispatch(e.upperBound),t.emitStore(this.proc);var n=this.localIndex(e.boundLocal);this.proc.emitInt(0),n.emitStore(this.proc);var i=this.proc.mkLabel("fortop");this.proc.emitLbl(i);var r=this.proc.mkLabel("forbrk");n.emitLoad(this.proc),t.emitLoad(this.proc),this.proc.emitCall("number::lt",0),this.proc.emitJmp(r,"JMPZ");var o=this.proc.mkLabel("forcnt");e._compilerBreakLabel=r,e._compilerContinueLabel=o,this.dispatch(e.body),this.proc.emitLbl(o),n.emitLoad(this.proc),this.emitInt(1),this.proc.emitCall("number::add",0),n.emitStore(this.proc),this.proc.stackEmpty(),this.proc.emitJmp(i),this.proc.emitLbl(r)},e.prototype.visitForeach=function(e){A.Util.oops("foreach emit")},e.prototype.visitWhile=function(e){var t=this.proc.mkLabel("whiletop");this.proc.emitLbl(t);var n=this.proc.mkLabel("whilebrk");this.dispatch(e.condition),this.proc.emitJmp(n,"JMPZ"),e._compilerBreakLabel=n,e._compilerContinueLabel=t,this.dispatch(e.body),this.proc.emitJmp(t),this.proc.emitLbl(n)},e.prototype.visitInlineActions=function(e){e.normalActions().forEach(function(e){return e.name._lastWriteLocation=e}),this.visitExprStmt(e)},e.prototype.visitExprStmt=function(e){if(!e.isPlaceholder()){this.dispatch(e.expr);var t=e.expr.parsed.getKind();t==T.api.core.Nothing||(p(t)?this.proc.emitCall("bitvm::decr",0):this.proc.emit("pop {r0}")),this.proc.stackEmpty()}},e.prototype.visitCodeBlock=function(e){var t=this;this.proc.stackEmpty(),e.stmts.forEach(function(e){t.numStmts++,t.dispatch(e),t.proc.stackEmpty()})},e.prototype.visitAction=function(e){if(this.numStmts++,this.proc=this.procIndex(e),null!=e.getShimName()){var t=T.getEmbeddedLangaugeToken(e._compilerInlineBody);return A.Util.assert(null!=t),A.Util.assert(null!=t.getStringLiteral()),this.proc.emit(t.getStringLiteral()),this.proc.emit("@stackempty func"),void this.proc.emit("@scope")}var n=this.proc.mkLabel("actret");e._compilerBreakLabel=n,this.dispatch(e.body),this.proc.emitLbl(n),this.proc.stackEmpty();var i=e.getOutParameters()[0];if(this.proc.emitClrs(i?i.local:null,!0),i){var r=this.localIndex(i.local);A.Util.assert(!r.isByRefLocal()),r.emitLoadCore(this.proc)}this.proc.popLocals(),this.proc.emit("pop {pc}"),this.proc.emit("@stackempty func")},e.prototype.visitGlobalDef=function(e){var t=new s(this.binary.globals.length,e);this.binary.globals.push(t)},e.prototype.visitLibraryRef=function(e){},e.prototype.visitRecordDef=function(e){A.Util.assert(1==e.recordType);var t=e.getFields().filter(function(e){return p(e.dataKind)}),n=e.getFields().filter(function(e){return!p(e.dataKind)});e._compilerInfo={size:t.length+n.length,refsize:t.length},t.concat(n).forEach(function(e,t){e._compilerInfo={idx:t}})},e.prototype.prepAction=function(e){var i=this,t=new c;(this.proc=t).action=e,this.binary.addProc(t);var n=e.getShimName();if(null!=n)return A.Util.assert(!!e._compilerInlineBody),this.proc.label=n,this.proc.emit(".section code"),this.proc.emit(".balign 4"),this.proc.emitLbl(this.proc.label),this.proc.emit("@scope user"+t.seqNo),void this.proc.emit("@stackmark func");var r=e.getInParameters().map(function(e){return e.local});this.proc.args=r.map(function(e,t){var n=new s(t,e);return n.isarg=!0,n}),this.proc.emit(".section code"),this.proc.emitLbl(this.proc.label),this.proc.emit("@stackmark func"),this.proc.emit("@stackmark args"),this.proc.emit("push {lr}"),this.proc.pushLocals(),T.visitStmts(e.body,function(e){if(e instanceof T.ExprStmt){var t=e.expr.assignmentInfo();t&&t.targets.forEach(function(e){return function(e){if(e){var t=r.indexOf(e);if(0<=t&&!i.localIndex(e,!0)){var n=i.proc.mkLocal(e);e.isByRef()&&(i.proc.emitCallRaw("bitvm::mkloc"+n.refSuff()),n.emitStoreCore(i.proc)),i.proc.args[t].emitLoadLocal(i.proc),i.proc.emit("push {r0}"),n.emitStoreByRef(i.proc)}}}(e.referencedLocal())})}}),e.allLocals.forEach(function(e){e._lastWriteLocation=null,-1==r.indexOf(e)&&i.proc.mkLocal(e)})},e.prototype.dump=function(e){var t=this;e.forEach(function(e){t.shouldCompile(e)&&t.dispatch(e)})},e.prototype.prepApp=function(e){var t=this;this.actions(e).forEach(function(e){t.shouldCompile(e)&&t.prepAction(e)}),this.dump(e.libraries()),this.dump(e.variables()),this.dump(e.resources()),this.dump(e.records())},e.prototype.actions=function(e){var t=e.allActions().filter(function(e){return!e.isActionTypeDef()});return T.App.orderThings(t),t},e.prototype.compileApp=function(e){this.dump(this.actions(e))},e.prototype.visitApp=function(e){A.Util.oops("")},e.prototype.visitComment=function(e){},e.prototype.visitStmt=function(e){A.Util.oops("unhandled stmt: "+e.nodeType())},e}(T.NodeVisitor);function o(e){return/(^\s)|(:$)/.test(e)||(e="    "+e),e+"\n"}function l(){for(var e=x?x.slice(0,16):"";e.length<16;)e+="0";return e.toUpperCase()}function S(){null==x&&t({enums:{},functions:[],errors:"",sha:"",compileData:"",hasExtension:!1},null)}e.Compiler=i,T.TypeChecker.lintThumb=function(e,t){S();var n=e.getShimName(),i=new T.Thumb.Binary;if(/{shim:/.test(e.getDescription())&&i.pushError(A.lf("use {asm:{0}} with app->thumb, not {shim:{0}}",n)),h(n)&&i.pushError(A.lf("{asm:{0}} already defined in runtime",n)),/^\w+$/.test(n)||i.pushError(A.lf("invalid characters in shim name: {asm:{0}}",n)),4<e.getInParameters().length&&i.pushError(A.lf("inline shims support only up to 4 arguments")),0<i.errors.length)return i.errors;var r=".section code\n@stackmark func\n"+n+":\n@scope user\n"+t+"\n@stackempty func\n@scope\n";return i.lookupExternalLabel=a,i.throwOnError=!1,i.inlineMode=!0,i.emit(r),i.errors},e.getExtensionInfo=function(e){var p={enums:{},functions:[],errors:"",sha:"",compileData:"",hasExtension:!1},t={},h="",n="",i={dependencies:{},config:{}},r="",m=function(e){return r+="   "+e+"\n"},o="";function a(e){p.hasExtension=!0;var d="";e.split(/\r?\n/).forEach(function(e){var t=/^\s*namespace\s+(\w+)/.exec(e);if(t)return d&&m("more than one namespace declaration not supported"),void(d=t[1]);if(t=/^\s*GLUE\s+(\w+)([\*\&]*\s+[\*\&]*)(\w+)\s*\(([^\(\)]*)\)\s*(;\s*$|\{|$)/.exec(e)){d||m("missing namespace declaration before GLUE");var n=(t[1]+t[2]).replace(/\s+/g,""),i=t[3],r=t[4],o=0;r.trim()&&(o=r.replace(/[^,]/g,"").length+1);var a={name:d+"::"+i,type:"void"==n?"P":"F",args:o,value:null};return p.functions.push(a),void(h+="(uint32_t)(void*)::"+a.name+",\n")}if(/^\s*GLUE\s+/.test(e))m("invalid GLUE line: "+e);else{e=e.replace(/\/\/.*/,"");var s=!1;if((t=/^\s*#define\s+(\w+)\s+(.*)/.exec(e))||(t=/^\s*(\w+)\s*=\s*(.*)/.exec(e),s=!0),t){var c=t[2];c=(c=(c=c.replace(/\/\/.*/,"")).replace(/\/\*.*/,"")).trim(),s&&(c=c.replace(/,$/,""));var l=function e(t){return t=(t=(t=(t=t.trim()).replace(/^\(/,"")).replace(/\)$/,"")).trim(),/^-/.test(t)&&null!=e(t.slice(1))?-e(t.slice(1)):/^0x[0-9a-f]+$/i.exec(t)?parseInt(t.slice(2),16):/^0b[01]+$/i.exec(t)?parseInt(t.slice(2),2):/^0\d+$/i.exec(t)?parseInt(t,8):/^\d+$/i.exec(t)?parseInt(t,10):null}(c),u=t[1];if(s&&(u=d+"::"+u),null!=l)return void(p.enums[u]=l)}}}),d||m("missing namespace declaration"),n+='#include "'+d+'.cpp"\n',t["/generated/"+d+".cpp"]=e}function s(e){if(e.visitorState)return!0;var t=e;return!(!t.template||!t.template.visitorState)}if(e&&(u(e,!0),e.librariesAndThis().forEach(function(e){e.isThis()||e.getPublicActions().some(s)?(r="",e.resolved.resources().forEach(function(e){if("glue.cpp"==e.getName()||"glue.json"==e.getName()){var t=e.stringResourceValue();null!=t?"glue.cpp"==e.getName()?a(t):function(e){var t=A.RT.JsonParser.parse(e,m);if(t){var n=t.value();n&&(p.hasExtension=!0,n.dependencies&&A.Util.jsonCopyFrom(i.dependencies,n.dependencies),n.config&&Object.keys(n.config).forEach(function(e){/^\w+$/.test(e)||m(A.lf("invalid config variable: {0}",e)),o+="#undef "+e+"\n",/^\w+$/.test(n.config[e])||m(A.lf("invalid config value: {0}: {1}",e,n.config[e])),o+="#define "+e+" "+n.config[e]+"\n"}))}}(t):m(A.lf("'{0}' isn't a string resource",e.getName()))}}),r&&(p.errors+=A.lf("Library {0}:\n",e.getName())+r)):A.Util.log("skip library "+e.getName())})),p.errors)return p;o&&(t["/generated/extconfig.h"]=o),t["/generated/extpointers.inc"]=h,t["/generated/extensions.inc"]=n;var c={config:"ws",tag:A.Cloud.config.microbitGitTag,replaceFiles:t,dependencies:i.dependencies},l=A.Util.toUTF8(JSON.stringify(c));return p.sha=A.Random.sha256buffer(A.Util.stringToUint8Array(l)),p.compileData=A.Util.base64Encode(l),p}})((T=A.AST||(A.AST={})).Bytecode||(T.Bytecode={}))}(TDev||(TDev={})),function(g){var l;(function(e){var c,p,h=f("opcode name doesn't match","<name>"),r=function(){function e(e,t,n){this.opcode=t,this.mask=n,g.Util.assert((t&n)==t),this.code=e.replace(/\s+/g," "),this.friendlyFmt=e.replace(/\$\w+/g,function(e){return p[e]?p[e].pretty:e});var i=a(e);this.name=i[0],this.args=i.slice(1)}return e.prototype.emit=function(e){var t=e.words;if(t[0]!=this.name)return h;for(var n=this.opcode,i=1,r=0,o=[],a=0;a<this.args.length;++a){var s=this.args[a],c=t[i++];if(/^\$/.test(s)){var l=p[s],u=null;if(l.isRegister){if(null==(u=m(c)))return f("expecting register name",c)}else if(l.isImmediate){if(c=c.replace(/^#/,""),null==(u=e.bin.parseOneInt(c)))return f("expecting number",c);45056==this.opcode?r=-u/4:45184==this.opcode&&(r=u/4)}else if(l.isRegList){if("{"!=c)return f("expecting {",c);for(u=0;"}"!=t[i];){if(!(c=t[i++]))return f("expecting }",t[i-2]);var d=m(c);if(null==d)return f("expecting register name",c);if(u&1<<d)return f("duplicate register name",c);u|=1<<d,46080==this.opcode?r++:48128==this.opcode&&r--,","==t[i]&&i++}c=t[i++]}else if(l.isLabel){if(c=c.replace(/^#/,""),/^[+-]?\d+$/.test(c))u=parseInt(c,10);else if(null==(u=e.bin.getRelativeLabel(c))){if(e.bin.finalEmit)return f("unknown label",c);u=8}}else g.Util.die();if(null==u)return f("didn't understand it",c);if("bl"==this.name||"bb"==this.name)return t[i]?f("trailing tokens",t[i]):this.emitBl(u,c);if(o.push(u),null==(u=l.encode(u)))return f("argument out of range or mis-aligned",c);g.Util.assert(0==(n&u)),n|=u}else if(s!=c)return f("expecting "+s,c)}return t[i]?f("trailing tokens",t[i]):{stack:r,opcode:n,numArgs:o}},e.prototype.emitBl=function(e,t){if(e%2)return f("uneven BL?",t);var n=e/2;if(g.Util.assert(null!=n),(0|n)!=n||!(-131072<=n&&n<=131072))return f("jump out of range",t);var i=n>>11&1023;return{opcode:4026531840&n?62464|i:61440|i,opcode2:63488|2047&n,stack:0,numArgs:[e]}},e.prototype.toString=function(){return this.friendlyFmt},e}(),n=function(){function e(e,t){this.bin=e,this.text=t}return e.prototype.getOpExt=function(){return this.instruction?this.instruction.code:""},e.prototype.getOp=function(){return this.instruction?this.instruction.name:""},e.prototype.singleReg=function(){g.Util.assert("push"==this.getOp()||"pop"==this.getOp());for(var e=0,t=-1,n=this.numArgs[0];0<n;)1&n&&(t=-1==t?e:-2),n>>=1,e++;return 0<=t?t:-1},e.prototype.preservesReg=function(e){return"movs $r5, $i0"==this.getOpExt()&&this.numArgs[0]!=e},e.prototype.clobbersReg=function(e){return!!("pop"==this.getOp()&&this.numArgs[0]&1<<e)},e.prototype.update=function(e){this.bin.peepOps++,(e=e.replace(/^\s*/,""))||this.bin.peepDel++,e&&(e+="      "),e="    "+e,this.text=e+"; WAS: "+this.text.trim(),this.instruction=null,this.numArgs=null,this.words=a(e)||[],0==this.words.length&&(this.type="empty")},e}(),o=function(){function e(){this.checkStack=!0,this.inlineMode=!1,this.currLineNo=0,this.scope="",this.errors=[],this.labels={},this.stackpointers={},this.stack=0,this.peepOps=0,this.peepDel=0,this.stats="",this.throwOnError=!1,this.disablePeepHole=!1,this.currLine=new n(this,"<start>"),this.currLine.lineNo=0}return e.prototype.emitShort=function(e){g.Util.assert(0<=e&&e<=65535),this.buf.push(e)},e.prototype.location=function(){return 2*this.buf.length},e.prototype.parseOneInt=function(e){if(!e)return null;for(var t=1;r=/^([^\*]*)\*(.*)$/.exec(e);){var n=this.parseOneInt(r[1]);if(null==n)return null;t*=n,e=r[2]}/^-/.test(e)&&(t*=-1,e=e.slice(1));var i=null,r=/^0x([a-f0-9]+)$/i.exec(e);return r&&(i=parseInt(r[1],16)),(r=/^0b([01]+)$/i.exec(e))&&(i=parseInt(r[1],2)),(r=/^(\d+)$/i.exec(e))&&(i=parseInt(r[1],10)),(r=/^(\w+)@(-?\d+)$/.exec(e))&&(1!=t&&this.directiveError(g.lf("multiplication not supported with saved stacks")),this.stackpointers.hasOwnProperty(r[1])?i=4*(this.stack-this.stackpointers[r[1]]+parseInt(r[2])):this.directiveError(g.lf("saved stack not found"))),(r=/^(.*)@(hi|lo)$/.exec(e))&&this.looksLikeLabel(r[1])&&null!=(i=this.lookupLabel(r[1],!0))&&(0<=(i>>=1)&&i<=65535?"hi"==r[2]?i=i>>8&255:"lo"==r[2]?i&=255:g.Util.die():(this.directiveError(g.lf("@hi/lo out of range")),i=null)),null==i&&this.looksLikeLabel(e)&&(i=this.lookupLabel(e,!0),i+=this.baseOffset),null==i||isNaN(i)?null:i*t},e.prototype.looksLikeLabel=function(e){return!/^(r\d|pc|sp|lr)$/i.test(e)&&/^[\.a-zA-Z_][\.\w+]*$/.test(e)},e.prototype.scopedName=function(e){return"."==e[0]&&this.scope?this.scope+"$"+e:e},e.prototype.lookupLabel=function(e,t){void 0===t&&(t=!1);var n=null,i=this.scopedName(e);return this.labels.hasOwnProperty(i)?n=this.labels[i]:this.lookupExternalLabel&&(n=this.lookupExternalLabel(e)),null==n&&t&&(this.finalEmit?this.directiveError(g.lf("unknown label: {0}",e)):n=42),n},e.prototype.getRelativeLabel=function(e){var t=this.lookupLabel(e);return null==t?null:t-(this.location()+4)},e.prototype.align=function(e){for(g.Util.assert(2==e||4==e||8==e||16==e);this.location()%e!=0;)this.emitShort(0)},e.prototype.pushError=function(e,t){void 0===t&&(t="");var n={scope:this.scope,message:g.lf("  -> Line {2} ('{1}'), error: {0}\n{3}",e,this.currLine.text,this.currLine.lineNo,t),lineNo:this.currLine.lineNo,line:this.currLine.text,coremsg:e,hints:t};if(this.errors.push(n),this.throwOnError)throw new Error(n.message)},e.prototype.directiveError=function(e){this.pushError(e)},e.prototype.emitString=function(e){function t(e,t){return 255&(e.charCodeAt(t)||0)}var n,i,r,o=/^\s*([\w\.]+\s*:\s*)?.\w+\s+(".*")\s*$/.exec(e);if(o&&null!=(i=o[2],n=2!=(r=l.Lexer.tokenize(i)).length||3!=r[0].category||7!=r[1].category?null:r[0].data)){this.align(2);for(var a=0;a<n.length+1;a+=2)this.emitShort(t(n,a+1)<<8|t(n,a))}else this.directiveError(g.lf("expecting string"))},e.prototype.parseNumber=function(e){var t=this.parseOneInt(e.shift());return null==t?null:t},e.prototype.parseNumbers=function(e){e=e.slice(1);for(var t=[];;){var n=this.parseNumber(e);if(null==n){this.directiveError(g.lf("cannot parse number at '{0}'",e[0]));break}if(t.push(n),","!=e[0]){if(null==e[0])break;this.directiveError(g.lf("expecting number, got '{0}'",e[0]));break}if(e.shift(),null==e[0])break}return t},e.prototype.emitSpace=function(e){var t=this.parseNumbers(e);if(1==t.length&&t.push(0),2!=t.length)this.directiveError(g.lf("expecting one or two numbers"));else if(t[0]%2!=0)this.directiveError(g.lf("only even space supported"));else{var n=255&t[1];n|=n<<8;for(var i=0;i<t[0];i+=2)this.emitShort(n)}},e.prototype.emitBytes=function(e){var t=this.parseNumbers(e);t.length%2!=0&&(this.directiveError(".bytes needs an even number of arguments"),t.push(0));for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];0<=i&&r<=255&&0<=r&&i<=255?this.emitShort(255&i|(255&r)<<8):this.directiveError(g.lf("expecting uint8"))}},e.prototype.emitHex=function(e){var i=this;e.slice(1).forEach(function(e){if(","!=e)if(e.length%4!=0)i.directiveError(".hex needs an even number of bytes");else if(/^[a-f0-9]+$/i.test(e))for(var t=0;t<e.length;t+=4){var n=parseInt(e.slice(t,t+4),16);n=(255&n)<<8|n>>8&255,i.emitShort(n)}else i.directiveError(".hex needs a hex number")})},e.prototype.handleDirective=function(e){var t,n=this,i=e.words,r=function(){2!=i.length&&n.directiveError(g.lf("expecting one argument"))};switch(i[0]){case".ascii":case".asciz":case".string":this.emitString(e.text);break;case".align":if(r(),null!=(t=this.parseOneInt(i[1]))){if(0==t)return;t<=4?this.align(1<<t):this.directiveError(g.lf("expecting 1, 2, 3 or 4 (for 2, 4, 8, or 16 byte alignment)"))}else this.directiveError(g.lf("expecting number"));break;case".balign":if(r(),null!=(t=this.parseOneInt(i[1]))){if(1==t)return;2==t||4==t||8==t||16==t?this.align(t):this.directiveError(g.lf("expecting 2, 4, 8, or 16"))}else this.directiveError(g.lf("expecting number"));break;case".byte":this.emitBytes(i);break;case".hex":this.emitHex(i);break;case".hword":case".short":case".2bytes":this.parseNumbers(i).forEach(function(e){-32768<=e&&e<=65535?n.emitShort(65535&e):n.directiveError(g.lf("expecting int16"))});break;case".word":case".4bytes":this.parseNumbers(i).forEach(function(e){-2147483648<=e&&e<=4294967295?(n.emitShort(65535&e),n.emitShort(e>>16&65535)):n.directiveError(g.lf("expecting int32"))});break;case".skip":case".space":this.emitSpace(i);break;case"@stackmark":r(),this.stackpointers[i[1]]=this.stack;break;case"@stackempty":null==this.stackpointers[i[1]]?this.directiveError(g.lf("no such saved stack")):this.stackpointers[i[1]]!=this.stack&&this.directiveError(g.lf("stack mismatch"));break;case"@scope":this.scope=i[1]||"",this.currLineNo=this.scope?0:this.realCurrLineNo;break;case".section":case".global":this.stackpointers={},this.stack=0;break;case".file":case".text":case".cpu":case".fpu":case".eabi_attribute":case".code":case".thumb_func":case".type":case"@":break;default:/^\.cfi_/.test(i[0])||this.directiveError(g.lf("unknown directive"))}},e.prototype.handleInstruction=function(n){for(var e=function(e){return c.hasOwnProperty(e)?c[e]:[]},t=n.instruction?[n.instruction]:e(n.words[0]),i=0;i<t.length;++i){var r=t[i].emit(n);if(!r.error)return this.stack+=r.stack,this.checkStack&&this.stack<0&&this.pushError(g.lf("stack underflow")),this.emitShort(r.opcode),null!=r.opcode2&&this.emitShort(r.opcode2),n.instruction=t[i],void(n.numArgs=r.numArgs)}var o=n.words[0].toLowerCase().replace(/s$/,"").replace(/[^a-z]/g,""),a="",s=e(o).concat(e(o+"s"));0<s.length&&s.forEach(function(e){var t=e.emit(n);a+=g.lf("   Maybe: {0} ({1} at '{2}')\n",e.toString(),t.error,t.errorAt)}),this.pushError(g.lf("assembly error"),a)},e.prototype.mkLine=function(e){var t=new n(this,e);return t.scope=this.scope,t.lineNo=this.currLineNo,this.lines.push(t),t},e.prototype.prepLines=function(e){var r=this;this.currLineNo=0,this.realCurrLineNo=0,this.lines=[],e.split(/\r?\n/).forEach(function(e){if(!(10<r.errors.length)){r.currLineNo++,r.realCurrLineNo++;var t=r.mkLine(e),n=a(t.text)||[];t.words=n;var i=/^([\.\w]+):$/.exec(n[0]);if(i){if(t.type="label",t.text=i[1]+":",t.words=[i[1]],!(1<n.length))return;n.shift(),(t=r.mkLine(e.replace(/^[^:]*:/,""))).words=n}/^[\.@]/.test(t.words[0])?(t.type="directive","@scope"==t.words[0]&&r.handleDirective(t)):0==t.words.length?t.type="empty":t.type="instruction"}})},e.prototype.iterLines=function(){var i=this;this.stack=0,this.buf=[],this.lines.forEach(function(e){if(!(10<i.errors.length)&&0!=(i.currLine=e).words.length)if("label"==e.type){var t=i.scopedName(e.words[0]);if(i.finalEmit){var n=i.labels[t];null==n&&g.Util.die(),g.Util.assert(0<i.errors.length||n==i.location())}else i.labels.hasOwnProperty(t)?i.directiveError(g.lf("label redefinition")):i.inlineMode&&/^_/.test(t)?i.directiveError(g.lf("labels starting with '_' are reserved for the compiler")):i.labels[t]=i.location()}else"directive"==e.type?i.handleDirective(e):"instruction"==e.type?i.handleInstruction(e):"empty"==e.type||g.Util.die()})},e.prototype.getSource=function(i){var r=this,e=this.buf?2*this.buf.length:0,t=this.labels._program_end||e,o=g.Util.fmt("; thumb size: {0} bytes; src size {1} bytes\n",t,e-t)+g.Util.fmt("; assembly: {0} lines\n",this.lines.length)+this.stats+"\n\n",a=!1;return this.lines.forEach(function(e,t){if(!a){"label"==e.type&&"_program_end"==e.words[0]&&(a=!0);var n=e.text;if(i){if("@stackempty"==e.words[0]&&r.lines[t-1].text==e.text)return;if(!(n=n.replace(/; WAS: .*/,"")).trim())return}o+=n+"\n"}}),o},e.prototype.peepHole=function(){for(var e=p.$lb11,t=p.$lb,n=this.lines.filter(function(e){return"empty"!=e.type}),i=0;i<n.length;++i){var r=n[i];if(!/^user/.test(r.scope)){var o=n[i+1];if(o){var a=n[i+2];if("instruction"==r.type){var s=r.getOp(),c=!1;"bne"!=s&&"beq"!=s||("b"==o.getOp()&&0==r.numArgs[0]&&(c=!0),"bb"==o.getOp()&&2==r.numArgs[0]&&(c=!0)),"bb"==s&&null!=e.encode(r.numArgs[0])?r.update("b "+r.words[1]):"bne"==s&&c&&null!=t.encode(o.numArgs[0])?(r.update("beq "+o.words[1]),o.update("")):"beq"==s&&c&&null!=t.encode(o.numArgs[0])?(r.update("bne "+o.words[1]),o.update("")):"push"==s&&"pop"==o.getOp()&&r.numArgs[0]==o.numArgs[0]?(g.Util.assert(0<r.numArgs[0]),r.update(""),o.update("")):"push"==s&&"pop"==o.getOp()&&4==r.words.length&&4==o.words.length?(g.Util.assert("{"==r.words[1]),r.update("mov "+o.words[2]+", "+r.words[2]),o.update("")):a&&"movs $r5, $i0"==r.getOpExt()&&"mov $r0, $r1"==o.getOpExt()&&r.numArgs[0]==o.numArgs[1]&&a.clobbersReg(r.numArgs[0])?(r.update("movs r"+o.numArgs[0]+", #"+r.numArgs[1]),o.update("")):"pop"==s&&0<=r.singleReg()&&"push"==o.getOp()&&r.singleReg()==o.singleReg()?(r.update("ldr r"+r.singleReg()+", [sp, #0]"),o.update("")):a&&"push"==s&&0<=r.singleReg()&&o.preservesReg(r.singleReg())&&"pop"==a.getOp()&&r.singleReg()==a.singleReg()&&(r.update(""),a.update(""))}}}}},e.prototype.peepPass=function(){this.disablePeepHole||(this.peepOps=0,this.peepDel=0,this.peepHole(),this.throwOnError=!0,this.finalEmit=!1,this.labels={},this.iterLines(),g.Util.assert(!this.checkStack||0==this.stack),this.finalEmit=!0,this.iterLines(),this.stats+=g.Util.fmt("; peep hole pass: {0} instructions removed and {1} updated\n",this.peepDel,this.peepOps-this.peepDel))},e.prototype.emit=function(e){if(function(){if(!c){p={};var e=function(e,t,n){var i={name:e,pretty:t,encode:n,isRegister:/^\$r\d/.test(e),isImmediate:/^\$i\d/.test(e),isRegList:/^\$rl\d/.test(e),isLabel:/^\$l[a-z]/.test(e)};return p[e]=i},t=function(e,t,n){return Math.floor(t)!=t?null:t<0?null:e<t?null:n};e("$r0","R0-7",function(e){return t(7,e,e)}),e("$r1","R0-7",function(e){return t(7,e,e<<3)}),e("$r2","R0-15",function(e){return t(15,e,7&e|(8&e)<<4)}),e("$r3","R0-15",function(e){return t(15,e,e<<3)}),e("$r4","R0-7",function(e){return t(7,e,e<<6)}),e("$r5","R0-7",function(e){return t(7,e,e<<8)}),e("$i0","#0-255",function(e){return t(255,e,e)}),e("$i1","#0-1020",function(e){return t(255,e/4,e>>2)}),e("$i2","#0-510",function(e){return t(127,e/4,e>>2)}),e("$i3","#0-7",function(e){return t(7,e,e<<6)}),e("$i4","#0-31",function(e){return t(31,e,e<<6)}),e("$i5","#0-124",function(e){return t(31,e/4,e>>2<<6)}),e("$i6","#1-32",function(e){return 0==e?null:32==e?0:t(31,e,e<<6)}),e("$i7","#0-62",function(e){return t(31,e/2,e>>1<<6)}),e("$rl0","{R0-7,...}",function(e){return t(255,e,e)}),e("$rl1","{LR,R0-7,...}",function(e){return 16384&e?t(255,-16385&e,256|255&e):t(255,e,e)}),e("$rl2","{PC,R0-7,...}",function(e){return 32768&e?t(255,-32769&e,256|255&e):t(255,e,e)});var n=function(e,t,n){if(Math.floor(t)!=t)return null;if(t<-(e+1))return null;if(e<t)return null;var i=e<<1|1;return n&i};e("$la","LABEL",function(e){return t(255,e/4,e>>2)}),e("$lb","LABEL",function(e){return n(127,e/2,e>>1)}),e("$lb11","LABEL",function(e){return n(1023,e/2,e>>1)}),c={};var i=function(e,t,n){var i=new r(e,t,n);c.hasOwnProperty(i.name)||(c[i.name]=[]),c[i.name].push(i)};i("adcs  $r0, $r1",16704,65472),i("add   $r2, $r3",17408,65280),i("add   $r5, pc, $i1",40960,63488),i("add   $r5, sp, $i1",43008,63488),i("add   sp, $i2",45056,65408),i("adds  $r0, $r1, $i3",7168,65024),i("adds  $r0, $r1, $r4",6144,65024),i("adds  $r5, $i0",12288,63488),i("adr   $r5, $la",40960,63488),i("ands  $r0, $r1",16384,65472),i("asrs  $r0, $r1",16640,65472),i("asrs  $r0, $r1, $i6",4096,63488),i("bics  $r0, $r1",17280,65472),i("bkpt  $i0",48640,65280),i("blx   $r3",18304,65415),i("bx    $r3",18176,65408),i("cmn   $r0, $r1",17088,65472),i("cmp   $r0, $r1",17024,65472),i("cmp   $r2, $r3",17664,65280),i("cmp   $r5, $i0",10240,63488),i("eors  $r0, $r1",16448,65472),i("ldmia $r5!, $rl0",51200,63488),i("ldmia $r5, $rl0",51200,63488),i("ldr   $r0, [$r1, $i5]",26624,63488),i("ldr   $r0, [$r1, $r4]",22528,65024),i("ldr   $r5, [pc, $i1]",18432,63488),i("ldr   $r5, [sp, $i1]",38912,63488),i("ldrb  $r0, [$r1, $i4]",30720,63488),i("ldrb  $r0, [$r1, $r4]",23552,65024),i("ldrh  $r0, [$r1, $i7]",34816,63488),i("ldrh  $r0, [$r1, $r4]",23040,65024),i("ldrsb $r0, [$r1, $r4]",22016,65024),i("ldrsh $r0, [$r1, $r4]",24064,65024),i("lsls  $r0, $r1",16512,65472),i("lsls  $r0, $r1, $i4",0,63488),i("lsrs  $r0, $r1",16576,65472),i("lsrs  $r0, $r1, $i6",2048,63488),i("mov   $r0, $r1",17920,65472),i("movs  $r0, $r1",0,65472),i("movs  $r5, $i0",8192,63488),i("muls  $r0, $r1",17216,65472),i("mvns  $r0, $r1",17344,65472),i("negs  $r0, $r1",16960,65472),i("nop",18112,65535),i("orrs  $r0, $r1",17152,65472),i("pop   $rl2",48128,65024),i("push  $rl1",46080,65024),i("rev   $r0, $r1",47616,65472),i("rev16 $r0, $r1",47680,65472),i("revsh $r0, $r1",47808,65472),i("rors  $r0, $r1",16832,65472),i("sbcs  $r0, $r1",16768,65472),i("sev",48960,65535),i("stmia $r5!, $rl0",49152,63488),i("str   $r0, [$r1, $i5]",24576,63488),i("str   $r0, [$r1, $r4]",20480,65024),i("str   $r5, [sp, $i1]",36864,63488),i("strb  $r0, [$r1, $i4]",28672,63488),i("strb  $r0, [$r1, $r4]",21504,65024),i("strh  $r0, [$r1, $i7]",32768,63488),i("strh  $r0, [$r1, $r4]",20992,65024),i("sub   sp, $i2",45184,65408),i("subs  $r0, $r1, $i3",7680,65024),i("subs  $r0, $r1, $r4",6656,65024),i("subs  $r5, $i0",14336,63488),i("svc   $i0",57088,65280),i("sxtb  $r0, $r1",45632,65472),i("sxth  $r0, $r1",45568,65472),i("tst   $r0, $r1",16896,65472),i("udf   $i0",56832,65280),i("uxtb  $r0, $r1",45760,65472),i("uxth  $r0, $r1",45696,65472),i("wfe",48928,65535),i("wfi",48944,65535),i("yield",48912,65535),i("cpsid i",46706,65535),i("cpsie i",46690,65535),i("beq   $lb",53248,65280),i("bne   $lb",53504,65280),i("bcs   $lb",53760,65280),i("bcc   $lb",54016,65280),i("bmi   $lb",54272,65280),i("bpl   $lb",54528,65280),i("bvs   $lb",54784,65280),i("bvc   $lb",55040,65280),i("bhi   $lb",55296,65280),i("bls   $lb",55552,65280),i("bge   $lb",55808,65280),i("blt   $lb",56064,65280),i("bgt   $lb",56320,65280),i("ble   $lb",56576,65280),i("bhs   $lb",53760,65280),i("blo   $lb",54016,65280),i("b     $lb11",57344,63488),i("bal   $lb11",57344,63488),i("bl    $lb",61440,63488),i("bb    $lb",57344,63488)}}(),g.Util.assert(null==this.buf),this.prepLines(e),!(0<this.errors.length||(this.labels={},this.iterLines(),this.checkStack&&0!=this.stack&&this.directiveError(g.lf("stack misaligned at the end of the file")),0<this.errors.length||(this.finalEmit=!0,this.iterLines(),0<this.errors.length))))for(var t=0;t<5&&(this.peepPass(),0!=this.peepOps);++t);},e}();function m(e){if(!e)return null;switch(e=e.toLowerCase()){case"pc":e="r15";break;case"lr":e="r14";break;case"sp":e="r13"}var t=/^r(\d+)$/.exec(e);if(t){var n=parseInt(t[1],10);if(0<=n&&n<16)return n}return null}function a(e){var t=(e=e.replace(/[\[\]\!\{\},]/g,function(e){return" "+e+" "})).split(/\s/).filter(function(e){return!!e});if(!t[0])return null;if(/^;/.test(t[0]))return null;for(var n=1;n<t.length;++n)if(/^;/.test(t[n]))return t.slice(0,n);return t}function f(e,t){return{stack:null,opcode:null,error:e,errorAt:t}}function t(e){var t=new o;t.emit(e),0==t.errors.length&&g.Util.oops("ASMTEST: expecting error for: "+e)}function s(e){return e<0||65535<e?("0x"+e.toString(16)).toLowerCase():("0x"+("000"+e.toString(16)).slice(-4)).toLowerCase()}function i(e){var n=[],t=e.replace(/^([0-9a-fA-F]{4})\s/gm,function(e,t){return n.push(parseInt(t,16)),""}),i=new o;i.throwOnError=!0,i.disablePeepHole=!0,i.emit(t),0<i.errors.length&&(console.log(i.errors[0].message),g.Util.oops("ASMTEST: not expecting errors")),i.buf.length!=n.length&&g.Util.oops("ASMTEST: wrong buf len");for(var r=0;r<n.length;++r)i.buf[r]!=n[r]&&g.Util.oops("ASMTEST: wrong buf content, exp:"+s(n[r])+", got: "+s(i.buf[r]))}e.Binary=o,e.testOne=function(e,t){var n=new o;n.checkStack=!1,n.emit(e),g.Util.assert(n.buf[0]==t)},e.tohex=s,e.test=function(){t("lsl r0, r0, #8"),t("push {pc,lr}"),t("push {r17}"),t("mov r0, r1 foo"),t("movs r14, #100"),t("push {r0"),t("push lr,r0}"),t("pop {lr,r0}"),t("b #+11"),t("b #+102400"),t("bne undefined_label"),t(".foobar"),i("0200      lsls    r0, r0, #8\nb500      push    {lr}\n2064      movs    r0, #100        ; 0x64\nb401      push    {r0}\nbc08      pop     {r3}\nb501      push    {r0, lr}\nbd20      pop {r5, pc}\nbc01      pop {r0}\n4770      bx      lr\n0000      .balign 4\ne6c0      .word   -72000\nfffe\n"),i("4291      cmp     r1, r2\nd100      bne     l6\ne000      b       l8\n1840  l6: adds    r0, r0, r1\n4718  l8: bx      r3\n"),i("          @stackmark base\nb403      push    {r0, r1}\n          @stackmark locals\n9801      ldr     r0, [sp, locals@1]\nb401      push    {r0}\n9802      ldr     r0, [sp, locals@1]\nbc01      pop     {r0}\n          @stackempty locals\n9901      ldr     r1, [sp, locals@1]\n9102      str     r1, [sp, base@0]\n          @stackempty locals\nb002      add     sp, #8\n          @stackempty base\n"),i("b090      sub sp, #4*16\nb010      add sp, #4*16\n"),i('6261      .string "abc"\n0063      \n'),i('6261      .string "abcde"\n6463      \n0065      \n'),i("3042      adds r0, 0x42\n1c0d      adds r5, r1, #0\nd100      bne #0\n2800      cmp r0, #0\n6b28      ldr r0, [r5, #48]\n0200      lsls r0, r0, #8\n2063      movs r0, 0x63\n4240      negs r0, r0\n46c0      nop\nb500      push {lr}\nb401      push {r0}\nb402      push {r1}\nb404      push {r2}\nb408      push {r3}\nb520      push {r5, lr}\nbd00      pop {pc}\nbc01      pop {r0}\nbc02      pop {r1}\nbc04      pop {r2}\nbc08      pop {r3}\nbd20      pop {r5, pc}\n9003      str r0, [sp, #4*3]\n")}})((l=g.AST||(g.AST={})).Thumb||(l.Thumb={}))}(TDev||(TDev={})),function(u){var d=u.AST.Json;!function(c){var l=c.Helpers;c.parseScript=function(t){return u.AST.loadScriptAsync(function(e){return""==e?u.Promise.as(t):u.World.getAnyScriptAsync(e)},"").then(function(e){var t=u.Script;return u.Script=null,u.Promise.as(t)})},c.makeOutMbedErrorMsg=function(e){var t="unknown error";return e.mbedresponse&&(e.messages?t=e.messages.filter(function(e){return"error"==e.severity||"Error"==e.type}).map(function(e){return e.message+"\n"+e.text}).join("\n"):e.mbedresponse.result&&(t=e.mbedresponse.result.exception)),t};var s=["user_types","globals","create","collection","touch_develop","ref","ds1307","string","action","math","number","boolean","bits","internal_main","Number","Boolean","String","ManagedString","Collection","Collection_of","Ref","TdError","DalAdapter","MicroBitPin"];c.compile=function(t){var e,n,r=t.decls.filter(function(e){return"library"==e.nodeType}),i=(n={},(e=r).map(function(e){n[e.id]=e.name}),e.map(function(e){var t={};return e.resolveClauses.map(function(e){t[e.name]=n[e.defaultLibId]}),t})),a={},o=r.map(function(e,i){var t=e.libIdentifier;return u.AST.loadScriptAsync(u.World.getAnyScriptAsync,t).then(function(e){var t=u.Script;u.Script=e.prevScript;var n=d.dump(t);return a[r[i].name]=n.name,u.Promise.as(n)})});return o.push(u.Promise.as(t)),u.Promise.join(o).then(function(r){Object.keys(i).forEach(function(e){var t=i[e];Object.keys(t).forEach(function(e){t[e]=a[t[e]]})}),i.push(a);var o={libraries:{},program:null};r.forEach(function(e){var n={},i={};r.map(function(e){return l.mangle(e.name)}).concat(s).forEach(function(e){return i[e]=!0}),e.decls.forEach(function(e){var t=l.freshName(i,e.name);i[t]=!0,n[e.name]=t}),e.isLibrary?o.libraries[e.name]=n:o.program=n});var e=r.map(function(e,t){return function(e,t,n,i){try{var r=l.mkLibraryRef(i.name),o=i.isLibrary?i.name:null,a=l.emptyEnv(e,o);c.lift(a,i);var s=new c.Emitter(r,t,n);return s.visit(a,i),s}catch(s){throw console.error("Compilation error",s),s}}(o,r,i[t],e)});return u.Promise.as(e.map(function(e){return e.prelude}).concat(["namespace touch_develop {"]).concat(e.map(function(e){return e.tPrototypes})).concat(e.map(function(e){return e.tCode})).concat(e.map(function(e){return e.prototypes})).concat(e.map(function(e){return e.code})).concat(["}"]).filter(function(e){return""!=e}).join("\n")+"\n"+(t.isLibrary?'\nvoid app_main() {\n  uBit.display.scroll("Error: trying to run a library");\n}\n':"\nvoid app_main() {\n  touch_develop::main();\n}\n")+"\n\n// vim: sw=2 ts=2")})}}(u.Embedded||(u.Embedded={}))}(TDev||(TDev={})),function(f){!function(e){var s=function(){return f.Storage.getTableAsync("ArtCache")},c=5;function l(e,t,n){var i={};return i[t]=n,e.setItemsAsync(i)}var n={};function i(e){return n.hasOwnProperty(e.sha)?n[e.sha]:n[e.sha]=(t=e,i=f.Cloud.config.primaryCdnUrl+"/compile/"+t.sha,f.Util.httpGetTextAsync(i+".hex").then(function(e){return e},function(e){return f.Cloud.postPrivateApiAsync("compile/extension",{data:t.compileData}).then(function(e){var t=new f.PromiseInv,n=function(){return f.Util.httpGetJsonAsync(e.hex.replace(/\.hex/,".json")).then(function(e){e.success?t.success(f.Util.httpGetTextAsync(i+".hex")):f.ModalDialog.showText(JSON.stringify(e,null,1),f.lf("Compilation error"))},function(e){return f.Util.setTimeout(1e3,n)})};return n(),t})}).then(function(t){return f.Util.httpGetJsonAsync(i+"-metainfo.json").then(function(e){return e.hex=t.split(/\r?\n/),e})}));var t,i}function p(a){if(!a.sha)return f.Promise.as(null);if(f.AST.Bytecode.isSetupFor(a))return f.Promise.as(null);if("local"==f.Cloud.config.microbitGitTag){if(a.hasExtension)throw new Error("?microbit=local not allowed when compiling with extensions");if(!f.bytecodeInfo)throw new Error("?microbit=local requires bytecode.js file");return f.Promise.as(f.bytecodeInfo)}return f.Util.log("get hex info: "+a.sha),(e=a.sha,t="hex-"+e,s().then(function(e){return e.getValueAsync(t)})).then(function(e){if(e){f.Util.log("get from world: "+e.length);var t=JSON.parse(e);return t.hex=function(e){for(var t=[],n=0;n<e.length;n++){var i=/^([@!])(....)$/.exec(e[n]);if(i){var r=parseInt(i[2],16),o=e[++n],a="";if("@"==i[1]){a="";for(var s=parseInt(o,16);0<s--;)a+="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}else a=atob(o);f.Util.assert(0<a.length),f.Util.assert(a.length%16==0);for(var c=0;c<a.length;){var l=[16,r>>8&255,255&r,0];r+=16;for(var u=0;u<16;++u)l.push(a.charCodeAt(c++));for(var d=0,u=0;u<l.length;++u)d+=l[u];l.push(255&-d);for(var p=":",u=0;u<l.length;++u){var h=255&l[u];h<=15&&(p+="0"),p+=h.toString(16)}t.push(p.toUpperCase())}}else t.push(e[n])}return t}(t.hex),f.Promise.as(t)}return f.Cloud.isOffline()?f.Promise.as(null):i(a).then(function(e){var t=e.hex;e.hex=function(e){for(var t=[],n=0;n<e.length;n+=o){for(var i=-1,r="",o=0,a=!1;o<500;){var s=/^:10(....)00(.{32})(..)$/.exec(e[n+o]);if(!s)break;var c=s[2],l=/^0+$/.test(c),u=parseInt(s[1],16);if(-1==i)a=l,t.push((a?"@":"!")+s[1]),i=u-16;else{if(l!=a)break;if(i+16!=u)break}a||(r+=c),i=u,o++}if(0==o)t.push(e[n]),o=1;else if(a)t.push(o.toString(16));else{for(var d="",p=0;p<r.length;p+=2)d+=String.fromCharCode(parseInt(r.slice(p,p+2),16));t.push(btoa(d))}}return t}(e.hex);var n,r,o,i=JSON.stringify(e);return e.hex=t,(n=a.sha,r=i,o="hex-"+n,s().then(function(i){var t=l(i,o,r);return i.getValueAsync("hex:keys").then(function(e){e||(e="[]");var n=JSON.parse(e);return n.push(o),n.length>c&&(n=n.slice(-c),t=t.then(function(){return i.getKeysAsync()}).then(function(e){var t={};return e.forEach(function(e){/^hex-/.test(e)&&-1==n.indexOf(e)&&(f.Util.log("delete "+e),t[e]=null)}),i.setItemsAsync(t)})),t.then(function(){return l(i,"hex:keys",JSON.stringify(n))})})})).then(function(){return e})})});var e,t}function h(e,t){var n=JSON.stringify(f.World.stripHeaderForSave(t));if(!window.LZMA)return f.Promise.as([n,f.Util.stringToUint8Array(f.Util.toUTF8(e))]);var i={compression:"LZMA",headerSize:n.length,textSize:e.length,name:t.name};return f.lzmaCompressAsync(n+e).then(function(e){return[JSON.stringify(i),e]})}e.preCacheEmptyExtensionAsync=function(t){if(void 0===t&&(t=!1),!f.Cloud.isRestricted())return f.Promise.as();var n=f.AST.Bytecode.getExtensionInfo(null);if(n.errors)throw new Error(n.errors);return p(n).then(function(e){e&&t&&f.AST.Bytecode.setupFor(n,e)})},e.cliCompileAsync=function(i,e){void 0===e&&(e=""),i.localGuid;var r=f.AST.Bytecode.getExtensionInfo(i);if(r.errors)throw new Error(r.errors);var t={meta:{name:i.getName(),comment:i.getDescription()},status:e?"published":"unpublished",scriptId:e};return f.Promise.join([p(r),h(i.serialize(),t)]).then(function(e){f.AST.Bytecode.setupFor(r,e[0]);var t=new f.AST.Bytecode.Compiler(i);t.run();var n=t.serialize(!1,e[1][0],e[1][1]);if(!n.data)throw new Error("no hex data");return n})};var m=!0;e.compile=function(o,e,t,a,n,s){var c="",i=f.Util.now();c+=f.Util.fmt("; type check before compile {0}ms\n",i-e);var r=o.localGuid,l=t().then(function(){return f.Promise.join([n||f.World.getInstalledScriptAsync(r),f.World.getInstalledHeaderAsync(r)])}).then(function(e){return h(e[0],e[1])}).then(function(e){var t=f.Util.now();return c+=f.Util.fmt("; save time {0}ms\n",t-i),e}),u=f.Util.now(),d=f.AST.Bytecode.getExtensionInfo(o);d.errors?f.ModalDialog.info(f.lf("Errors compiling glue.cpp extensions"),d.errors):p(d).done(function(e){f.AST.Bytecode.setupFor(d,e);var t=f.Util.now();c+=f.Util.fmt("; glue.cpp extesion handling {0}ms\n",t-u);var r=new f.AST.Bytecode.Compiler(o);try{r.run()}catch(e){return void(e.bitvmUserError?f.ModalDialog.info(e.message,f.lf("If you're using any special library, please contact the author. Otherwise contact BBC micro:bit support.")):(o!=f.Script&&(e.bugAttachments=[o.serialize()]),f.Util.reportError("bitvm compile",e,!1),f.dbg?f.ModalDialog.showText(e.stack):f.HTML.showErrorNotification(f.lf("Oops, something happened! If this keeps happening, contact BBC micro:bit support."))))}var n=f.Util.now();c+=f.Util.fmt("; to assembly {0}ms\n",n-t),l.then(function(e){var t=f.Util.now(),n=r.serialize(!m,e[0],e[1]);if(c+=f.Util.fmt("; assemble time {0}ms\n",f.Util.now()-t),a&&f.ModalDialog.showText(c+n.csource),n.sourceSaved||f.HTML.showWarningNotification("program compiled, but without the source; to save for later use the 'save' button"),m=!1,n.data){var i=f.Util.toFileName("microbit-"+o.getName(),"script")+".hex";f.HTML.browserDownloadText(n.data,i,n.contentType),s&&s(i,"data:"+n.contentType+";base64,"+f.Util.base64EncodeBytes(f.Util.stringToUint8Array(f.Util.toUTF8(n.data))))}}).done(function(){},function(e){f.Util.reportError("bitvm download",e,!1),f.dbg?f.ModalDialog.showText(e.stack):f.HTML.showErrorNotification(f.lf("Oops, something happened! If this keeps happening, contact BBC micro:bit support."))})})}}(f.Hex||(f.Hex={}))}(TDev||(TDev={})),function(r){(r.Embedded||(r.Embedded={})).packageApp=function(e,t){if("undefined"!=typeof JSZip){var n=new JSZip;n.folder(".vscode").file("tasks.json",JSON.stringify({version:"0.1.0",command:"yotta",isShellCommand:!0,args:["--target","bbc-microbit-classic-gcc"],tasks:[{taskName:"build",args:[],isBuildCommand:!0,problemMatcher:"$msCompile"}]},null,"4")),n.file("module.json",JSON.stringify({name:r.Util.toFileName(e,"microbit-script"),version:"0.0.0",keywords:["microbit"],dependencies:{"microbit-touchdevelop":"microsoft/microbit-touchdevelop#"+r.Cloud.config.microbitGitTag},bin:"./source"},null,4));var i=n.folder("source");return Object.keys(t).forEach(function(e){return i.file(e,t[e])}),"data:application/zip;base64,"+n.generate({type:"base64"})}}}(TDev||(TDev={})),TDev=TDev||{},TDev.md_initApis=function(){"use strict";var e,t,n=TDev.Kind.md_make,i=TDev.Property.md_make,r=TDev.PropertyParameter.md_make,o=n(1e4,"Nothing","Represents no value of interest");o.md_isData();var a=e=n(0,"Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var s=e=n(0,"Text Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var c=e=n(0,"Number Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var l=e=n(0,"Boolean Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var u=e=n(0,"Position Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var d=e=n(0,"Sprite Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var p=e=n(0,"Sprite Set Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var h=e=n(0,"Vector Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var m=e=n(0,"Web Response Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var f=e=n(0,"Collection Message Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var g=e=n(0,"Json Action","A place to hook up an action to execute in response to an event","action");e.md_isData(),e.md_ctx("general"),e.md_isAction();var v=e=n(0,"Comparison","An atomic comparison action","action");e.md_isData(),e.md_stem("cmp"),e.md_ctx("general"),e.md_isAction(),e.md_isAtomic(),e.md_parametric("Elt");var y=e=n(0,"Predicate","An atomic predicate test","action");e.md_isData(),e.md_stem("cmp"),e.md_ctx("general"),e.md_isAction(),e.md_isAtomic(),e.md_parameterPrefixes("on"),e.md_parametric("Elt");var b=e=n(0,"Atomic Action","An atomic action with no arguments","action");e.md_isData(),e.md_stem("op"),e.md_ctx("general"),e.md_isAction(),e.md_isAtomic();var _=e=n(0,"Atomic Action1","An atomic single argument action","action");e.md_isData(),e.md_stem("op"),e.md_ctx("general"),e.md_isAction(),e.md_isAtomic(),e.md_parameterPrefixes("taking"),e.md_parametric("T");var w=e=n(0,"Action1","A possibly non-atomic single argument action","action");e.md_isData(),e.md_stem("op"),e.md_ctx("general"),e.md_isAction(),e.md_parameterPrefixes("taking"),e.md_parametric("T");var k=e=n(0,"Number Converter","An atomic conversion function to number","action");e.md_isData(),e.md_stem("key"),e.md_ctx("general"),e.md_isAction(),e.md_isAtomic(),e.md_parameterPrefixes("from"),e.md_parametric("Elt");var x=e=n(0,"String Converter","An atomic conversion function to string","action");e.md_isData(),e.md_stem("key"),e.md_ctx("general"),e.md_isAction(),e.md_isAtomic(),e.md_parameterPrefixes("from"),e.md_parametric("Elt");var C=e=n(0,"Converter","A generic atomic conversion function","action");e.md_isData(),e.md_stem("cnv"),e.md_ctx("general"),e.md_isAction(),e.md_isAtomic(),e.md_parameterPrefixes("from","to"),e.md_parametric("From","To");var S=e=n(0,"App Logger","A custom logger");e.md_isData(),e.md_stem("logger");var A=e=n(0,"App Env","Various properties of application environment");e.md_isData();var T=e=n(0,"App","Interact with the app runtime");e.md_skill(3);var L=e=n(195,"Bazaar","Browse and review scripts from the bazaar");e.md_skill(3);var M=e=n(0,"Bits","Arithmetic and bitwise operations on 32 bit integers");e.md_skill(3);var E=e=n(12146,"Board","A board to build 2D games");e.md_isData(),e.md_icon("gameboard"),e.md_ctx("general","gckey","enumerable");var N=e=n(0,"Obstacle","An obstacle on a board");e.md_isData(),e.md_ctx("general","gckey");var D=e=n(0,"Board Background Scene","A scene contains layers of parralax backgrounds.");e.md_isData(),e.md_stem("scene");var I=e=n(0,"Board Background Layer","A background scene layer");e.md_isData(),e.md_stem("layer");var P=e=n(4321,"Boolean","true or false");e.md_isData(),e.md_stem("b"),e.md_icon("fa-check-square-o"),e.md_immutable(),e.md_isData(),e.md_builtin(),e.md_ctx("general","indexkey","cloudfield","json"),e.md_robust();var R=e=n(0,"Box","Current box element in the page.");e.md_skill(2);var q=e=n(0,"Dom","Current html element in the page.");e.md_betaOnly(),e.md_skill(2);var j=e=n(0,"Buffer","Contains binary data");e.md_isData(),e.md_stem("buf");var B=e=n(33,"Camera","The front or back camera");e.md_isData(),e.md_walltap();var z=e=n(0,"Cloud Session","A cloud data session");e.md_isData(),e.md_ctx("general"),e.md_stem("session"),e.md_cap("cloudData"),e.md_serializable();var O=e=n(0,"Cloud Data","Cloud session management");e.md_cap("cloudData"),e.md_skill(2);var U=e=n(0,"Collection","A collection of objects","parametric");e.md_isData(),e.md_stem("coll"),e.md_icon("fa-list-ol"),e.md_enumerable(),e.md_serializable(),e.md_ctx("general","json"),e.md_parametric("T");var F=e=n(613,"Collections","Create collections of items.");e.md_robust(),e.md_skill(3);var H=e=n(1267,"Color","A argb color (alpha, red, green, blue)");e.md_isData(),e.md_stem("c"),e.md_icon("color"),e.md_immutable(),e.md_ctx("general","indexkey","walltap","cloudfield","json"),e.md_serializable(),e.md_robust();var G=e=n(5532,"Colors","New or built-in colors"),V=e=n(8,"Contact","A contact");e.md_isData(),e.md_walltap(),e.md_cap("contacts");var K=e=n(0,"Contract","Correctness helpers");e.md_skill(3);var J=e=n(0,"Create","Create collections of items.");e.md_robust(),e.md_skill(2);var W=e=n(1934,"DateTime","A combination of date and time");e.md_isData(),e.md_stem("dt"),e.md_immutable(),e.md_ctx("general","indexkey","cloudfield","json"),e.md_serializable();var $=e=n(0,"Docs","Doc rendering helpers"),Y=e=n(0,"Document","A document resource");e.md_isData(),e.md_stem("doc"),e.md_immutable();var Z=e=n(0,"Editor","An interface to TouchDevelop editor");e.md_isData(),e.md_stem("editor"),e.md_ctx("general","gckey");var Q=e=n(0,"Enumerator","An general enumerator");e.md_isData(),e.md_ctx("none");var X=e=n(0,"Event Binding","A handler attached to an event.");e.md_isData(),e.md_stem("ev"),e.md_ctx("general");var ee=e=n(0,"Form Builder","A builder to create HTML Form data");e.md_isData(),e.md_stem("form");var te=e=n(354,"Invalid","Create invalid values");e.md_skill(3);var ne=e=n(0,"Json Builder","A json data structure builder");e.md_isData(),e.md_stem("jsb"),e.md_ctx("general","enumerable","json"),e.md_serializable();var ie=e=n(858,"Json Object","A json data structure.");e.md_isData(),e.md_stem("js"),e.md_immutable(),e.md_ctx("general","gckey","enumerable","cloudfield","json"),e.md_serializable();var re=e=n(167,"Languages","Translation, speech to text, ...");e.md_skill(2);var oe=e=n(76,"Link","A link to a video, image, email, phone number");e.md_isData(),e.md_ctx("general","gckey","walltap","cloudfield","json"),e.md_serializable();var ae=e=n(167,"Location","A geo coordinate (latitude, longitude, ...)");e.md_isData(),e.md_stem("loc"),e.md_immutable(),e.md_ctx("general","indexkey","cloudfield","json"),e.md_serializable();var se=e=n(257,"Locations","Geo coordinates");e.md_skill(3);var ce=e=n(0,"Map Pushpin","A map pushpin");e.md_isData(),e.md_stem("pushpin"),e.md_ctx("general","gckey"),e.md_cap("maps");var le=e=n(111,"Map","A Bing map");e.md_isData(),e.md_ctx("general","gckey"),e.md_cap("maps");var ue=e=n(66,"Maps","Maps, location to address, address to location");e.md_skill(3);var de=e=n(4294,"Math","Math goodness, abs, max, ...");e.md_robust();var pe=e=n(0,"Matrix","A 2D matrix of numbers");e.md_isData(),e.md_stem("m"),e.md_enumerable(),e.md_serializable();var he=e=n(2062,"Media","Pictures and music...");e.md_skill(2);var me=e=n(77,"Message","A post on a message board");e.md_isData(),e.md_stem("msg"),e.md_ctx("general","gckey","walltap"),e.md_serializable();var fe=e=n(33205,"Number","A number (possibly negative and/or fractional)");e.md_isData(),e.md_stem("x"),e.md_icon("fa-calculator"),e.md_immutable(),e.md_isData(),e.md_builtin(),e.md_ctx("general","indexkey","cloudfield","json"),e.md_robust(),e.md_idempotent();var ge=e=n(2043,"Number Map","A map of numbers to numbers");e.md_isData(),e.md_stem("m"),e.md_enumerable(),e.md_serializable(),e.md_ctx("general","json");var ve=e=n(0,"OAuth Response","OAuth 2.0 Access Token or Error as described in http://tools.ietf.org/html/rfc6749.");e.md_isData(),e.md_stem("oauth res"),e.md_serializable(),e.md_ctx("general","cloudfield","json");var ye=e=n(47,"Page","A page on a wall");e.md_isData(),e.md_ctx("general","gckey");var be=e=n(307,"Page Button","A page button on the wall");e.md_isData(),e.md_ctx("general","gckey","walltap");var _e=e=n(253,"Phone","Phone numbers, vibrate, etc...");e.md_skill(2);var we=e=n(3727,"Picture","A picture");e.md_isData(),e.md_stem("pic"),e.md_icon("fa-file-image-o"),e.md_walltap(),e.md_enumerable();var ke=e=n(37,"Place","A named location");e.md_isData(),e.md_ctx("general","gckey","walltap");var xe=e=n(610,"Player","Play, stop or resume songs, ...");e.md_skill(3);var Ce=e=n(0,"Ref","A reference to a value","parametric");e.md_isData(),e.md_stem("ref"),e.md_icon("fa-gift"),e.md_parametric("T");var Se=e=n(430,"Senses","Camera, location, microphone and other sensors"),Ae=e=n(0,"Gamepad","A snapshot of the gamepad state");e.md_isData(),e.md_immutable(),e.md_icon("fa-gamepad"),e.md_robust();var Te=e=n(0,"Server Request","An incomming HTTP web request");e.md_isData(),e.md_stem("request"),e.md_ctx("general","gckey"),e.md_betaOnly();var Le=e=n(0,"Server Response","An HTTP web response to be returned");e.md_isData(),e.md_stem("resp"),e.md_ctx("general","gckey"),e.md_betaOnly();var Me=e=n(119,"Social","Emails, sms, contacts, calendar, ...");e.md_skill(2);var Ee=e=n(568,"Song","A song");e.md_isData(),e.md_icon("fa-headphones"),e.md_walltap();var Ne=e=n(287,"Sound","A sound effect");e.md_isData(),e.md_stem("snd"),e.md_icon("fa-headphones"),e.md_ctx("general","gckey","walltap");var De=e=n(0,"Spring","A spring between two sprites.");e.md_isData(),e.md_ctx("general","gckey");var Ie=e=n(16920,"Sprite","A sprite");e.md_isData(),e.md_icon("fa-rocket"),e.md_ctx("general","gckey");var Pe=e=n(0,"Sprite Animation","A animation to animate sprite properties.");e.md_isData(),e.md_stem("anim"),e.md_ctx("general");var Re=e=n(3475,"Sprite Set","A collection of sprites");e.md_isData(),e.md_stem("sprites"),e.md_icon("fa-list-ol"),e.md_ctx("general","gckey","enumerable");var qe=e=n(0,"Sprite Sheet","A sprite sheet which packs multiple frames in a single picture");e.md_isData(),e.md_stem("sheet"),e.md_ctx("general");var je=e=n(12926,"String","A piece of text");e.md_isData(),e.md_stem("s"),e.md_icon("fa-file-text-o"),e.md_immutable(),e.md_isData(),e.md_builtin(),e.md_ctx("general","indexkey","cloudfield","walltap","enumerable","json");var Be=e=n(856,"String Map","A map from strings to strings");e.md_isData(),e.md_stem("d"),e.md_enumerable(),e.md_serializable(),e.md_ctx("general","json");var ze=e=n(0,"Task","A task created with `async` keyword","parametric");e.md_isData(),e.md_stem("task"),e.md_parametric("T");var Oe=e=n(1029,"TextBox","A text box");e.md_isData(),e.md_stem("tb"),e.md_ctx("general","gckey","walltap");var Ue=e=n(2528,"Time","time and dates");e.md_robust();var Fe=e=n(0,"Timer","A timer");e.md_isData(),e.md_icon("timer"),e.md_ctx("general","gckey");var He=e=n(0,"Tutorial","Support for interactive tutorials.");e.md_skill(3);var Ge=e=n(0,"User","A user account");e.md_isData(),e.md_ctx("general","indexkey","cloudfield","walltap","json"),e.md_serializable(),e.md_icon("fa-user"),e.md_immutable(),e.md_isData(),e.md_ctx("general"),e.md_serializable();var Ve=e=n(1051,"Vector3","A 3D vector");e.md_isData(),e.md_stem("p"),e.md_immutable(),e.md_ctx("general","indexkey","walltap","json"),e.md_serializable();var Ke=e=n(5098,"Wall","Ask or display values on the wall..."),Je=e=n(0,"Web Event Source","A Server-Sent-Events client");e.md_isData(),e.md_stem("source");var We=e=n(592,"Web","Search and browse the web...");e.md_skill(2);var $e=e=n(60,"Web Request","An HTTP web request");e.md_isData(),e.md_stem("request"),e.md_ctx("general","gckey");var Ye=e=n(40,"Web Response","An HTTP web response");e.md_isData(),e.md_stem("response"),e.md_ctx("general","gckey");var Ze=e=n(0,"Web Socket Message","A web socket message");e.md_isData(),e.md_stem("msg"),e.md_ctx("general");var Qe=e=n(0,"Web Socket","A web socket");e.md_isData(),e.md_stem("ws"),e.md_ctx("general");var Xe=e=n(176,"Xml Object","An xml element or collection of elements");e.md_isData(),e.md_stem("xml"),e.md_immutable(),e.md_ctx("general","gckey","enumerable"),(e=i(0,v,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,v,"run","Run the inline action.",[r("a",v.getParameter(0)),r("b",v.getParameter(0))],fe),(e=i(0,y,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,y,"run","Run the inline action.",[r("elt",y.getParameter(0))],P),(e=i(0,_,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,_,"run","Run the inline action.",[r("v",_.getParameter(0))],o),(e=i(0,w,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,w,"run","Run the inline action.",[r("v",w.getParameter(0))],o),(e=i(0,k,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,k,"run","Run the inline action.",[r("elt",k.getParameter(0))],fe),(e=i(0,x,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,x,"run","Run the inline action.",[r("elt",x.getParameter(0))],je),(e=i(0,C,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,C,"run","Run the inline action.",[r("elt",C.getParameter(0))],C.getParameter(1)),(e=i(0,U,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,U,"count","Gets the number of objects.",[],fe),(e=i(0,U,"clear","Removes all objects from the collection",[],o)).md_writesMutable(),(e=i(0,U,"add","Adds an object",[r("item",U.getParameter(0))],o)).md_writesMutable(),(e=i(0,U,"add many","Adds many objects at once",[r("items",U)],o)).md_writesMutable(),e=i(0,U,"index of","Gets the index of the first occurrence of an object. Returns -1 if not found or start is out of range.",[r("item",U.getParameter(0)),r("start",fe)],fe),e=i(0,U,"at","Gets the object at position index. Returns invalid if index is out of range",[r("index",fe)],U.getParameter(0)),e=i(0,U,"contains","Checks if the item is in the collection",[r("item",U.getParameter(0))],P),(e=i(0,U,"remove","Removes the first occurence of an object. Returns true if removed.",[r("item",U.getParameter(0))],P)).md_writesMutable(),e.md_ignoreReturnValue(),(e=i(0,U,"remove at","Removes the object at position index.",[r("index",fe)],o)).md_writesMutable(),(e=i(0,U,"reverse","Reverses the order of objects in the collection",[],o)).md_writesMutable(),e=i(0,U,"random","Gets a random object from the collection. Returns invalid if the collection is empty.",[],U.getParameter(0)),(e=i(0,U,"set at","Sets the object at position index. Does nothing if the index is out of range.",[r("index",fe),r("item",U.getParameter(0))],o)).md_writesMutable(),(e=i(0,U,"insert at","Inserts an object at position index. Does nothing if index is out of range.",[r("index",fe),r("item",U.getParameter(0))],o)).md_writesMutable(),(e=i(0,U,"to json","Exports a JSON representation of the contents.",[],ie)).md_needsFrame(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),(e=i(0,U,"from json","Imports a JSON representation of the contents.",[r("jobj",ie)],o)).md_needsFrame(),e.md_writesMutable(),(e=i(0,U,"where","Returns a collections of elements that satisfy the filter `condition`",[r("condition",y.createInstance([U.getParameter(0)]))],U)).md_needsFrame(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),(t=TDev.MultiplexRootProperty.md_make_kind()).md_parametric("S"),(e=TDev.MultiplexRootProperty.md_make_prop(t,0,U,"map to","Applies `converter` on all elements of the input collection and returns a collection of results",[r("converter",C.createInstance([U.getParameter(0),t.getParameter(0)]))],U.createInstance([t.getParameter(0)]))).md_needsFrame(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),(e=i(0,U,"sorted","Returns a collection sorted using specified `comparison` function",[r("comparison",v.createInstance([U.getParameter(0)]))],U)).md_needsFrame(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),(e=i(0,U,"ordered by","Returns a collection sorted using specified comparison key",[r("key",k.createInstance([U.getParameter(0)]))],U)).md_needsFrame(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),(e=i(0,U,"ordered by string","Returns a collection sorted using specified comparison key",[r("key",x.createInstance([U.getParameter(0)]))],U)).md_needsFrame(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),(e=i(0,U,"take","Returns a collection with the `count` first elements if any.",[r("count",fe)],U)).md_needsFrame(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),(e=i(0,U,"slice","Returns a slice of the collection starting at `start`, and ends at, but does not include, the `end`.",[r("start",fe),r("end",fe)],U)).md_readsMutable(),e.md_arg("result").md_writesMutable(),e=i(0,U,"first","Gets the first element if any",[],U.getParameter(0)),e=i(0,U,"last","Gets the last element if any",[],U.getParameter(0)),(e=i(0,U,"post to wall","Display all objects on the wall",[],o)).md_needsFrame(),(e=i(0,U,"pick entry","Ask user to pick an entry from this collection",[r("text",je)],U.getParameter(0))).md_resumes(),e.md_uiAsync(),(e=i(0,U,"sum of","Computes the sum of the key of the elements in the collection",[r("key",k.createInstance([U.getParameter(0)]))],fe)).md_needsFrame(),e.md_readsMutable(),(e=i(0,U,"max of","Computes the maximum of the key of the elements in the collection",[r("key",k.createInstance([U.getParameter(0)]))],fe)).md_needsFrame(),e.md_readsMutable(),(e=i(0,U,"avg of","Computes the average of the key of the elements in the collection",[r("key",k.createInstance([U.getParameter(0)]))],fe)).md_needsFrame(),e.md_readsMutable(),(e=i(0,U,"min of","Computes the minimum of the key of the elements in the collection",[r("key",k.createInstance([U.getParameter(0)]))],fe)).md_needsFrame(),e.md_readsMutable(),(e=i(0,U,"min","Computes the minimum of the values",[],fe)).md_readsMutable(),e.md_onlyOn("Number"),(e=i(0,U,"max","Computes the maximum of the values",[],fe)).md_readsMutable(),e.md_onlyOn("Number"),(e=i(0,U,"sum","Computes the sum of the values",[],fe)).md_readsMutable(),e.md_onlyOn("Number"),(e=i(0,U,"avg","Computes the average of the values",[],fe)).md_readsMutable(),e.md_onlyOn("Number"),(e=i(0,U,"sort by date","Sorts from the newest to oldest",[],o)).md_writesMutable(),e.md_onlyOn("Message"),(e=i(0,U,"sort","Sorts the strings in this collection",[],o)).md_writesMutable(),e.md_onlyOn("Number","String"),(e=i(0,U,"sort by distance","Sorts the places by distance to the location",[r("loc",ae)],o)).md_writesMutable(),e.md_onlyOn("Location","Place"),(e=i(0,U,"join","Concatenates the separator and items into a string",[r("separator",je)],je)).md_readsMutable(),e.md_onlyOn("Number","String"),(e=i(0,U,"continuation","Gets the identifier of the next set of items (if any)",[],je)).md_readsMutable(),(e=i(0,U,"set continuation","Sets the identifier of the next set of items",[r("value",je)],o)).md_writesMutable(),(e=i(0,Ce,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Ce,"◈get","Get the current value of the reference",[],Ce.getParameter(0))).md_needsFrame(),e.md_jsName("_get"),(e=i(0,Ce,"◈confirmed","Check if reference has been written to the storage/server",[],P)).md_needsFrame(),e.md_jsName("_confirmed"),(e=i(0,Ce,"◈set","Set the value of the reference",[r("t",Ce.getParameter(0))],o)).md_needsFrame(),e.md_jsName("_set"),(e=i(0,Ce,"◈clear","Set reference to invalid",[],o)).md_needsFrame(),e.md_jsName("_clear"),(e=i(0,Ce,"◈ref","Retrive the reference itself (useful on globals and fields)",[],Ce)).md_needsFrame(),e.md_jsName("_ref"),(e=i(0,Ce,"◈add","Add specified value to given reference",[r("v",fe)],o)).md_needsFrame(),e.md_onlyOn("Number"),e.md_jsName("_add"),(e=i(0,Ce,"◈test and set","Set reference to `v` if it's currently non-empty",[r("v",Ce.getParameter(0))],o)).md_needsFrame(),e.md_onlyOn("String"),e.md_jsName("_test_and_set"),(e=i(0,Ce,"◈with notify","Create a new ref, that invokes `on changed` whenever the update is performed through it",[r("on changed",a)],Ce)).md_needsFrame(),e.md_dbgOnly(),e.md_jsName("_with_notify"),(e=i(0,ze,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,ze,"completed","Check if the task is done yet",[],P),(e=i(0,ze,"await","Wait for the task to finish, and return any possible value",[],ze.getParameter(0))).md_resumes(),e.md_async(),e=i(0,ze,"value","Get the value of the task, which must have completed.",[],ze.getParameter(0)),(e=i(0,ze,"await at most","Wait for the task to finish for at most `seconds`; returns invalid in case of timeout",[r("seconds",fe)],ze.getParameter(0))).md_resumes(),e.md_async(),v.initProperties(),y.initProperties(),_.initProperties(),w.initProperties(),k.initProperties(),x.initProperties(),C.initProperties(),U.initProperties(),Ce.initProperties(),ze.initProperties(),(e=i(0,a,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,a,"run","Run the inline action.",[],o),(e=i(0,s,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,s,"run","Run the inline action.",[r("text",je)],o),(e=i(0,c,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,c,"run","Run the inline action.",[r("x",fe)],o),(e=i(0,l,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,l,"run","Run the inline action.",[r("boolean",P)],o),(e=i(0,u,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,u,"run","Run the inline action.",[r("x",fe),r("y",fe)],o),(e=i(0,d,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,d,"run","Run the inline action.",[r("sprite",Ie)],o),(e=i(0,p,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,p,"run","Run the inline action.",[r("sprites",Re)],o),(e=i(0,h,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,h,"run","Run the inline action.",[r("x",fe),r("y",fe),r("delta x",fe),r("delta y",fe)],o),(e=i(0,m,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,m,"run","Run the inline action.",[r("response",Ye)],o),(e=i(0,f,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,f,"run","Run the inline action.",[r("msgs",U.createInstance([me]))],o),(e=i(0,g,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,g,"run","Run the inline action.",[r("json",ie)],o),(e=i(0,b,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,b,"run","Run the inline action.",[],o),(e=i(0,S,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,S,"debug","Logs a debug message",[r("message",je)],o)).md_needsFrame(),(e=i(0,S,"info","Logs an informational message",[r("message",je)],o)).md_needsFrame(),(e=i(0,S,"warning","Logs a warning message",[r("message",je)],o)).md_needsFrame(),(e=i(0,S,"error","Logs an error message",[r("message",je)],o)).md_needsFrame(),(e=i(0,S,"log","Logs a new message with optional metadata. The level follows the syslog convention.",[r("level",je),r("message",je),r("meta",ie)],o)).md_needsFrame(),e.md_arg("level").md_deflStrings("info","debug","warning","error"),e.md_arg("meta").md_deflExpr("invalid->json_object"),(e=i(0,S,"set verbosity",'Set minimum logging level for this logger (defaults to "debug").',[r("level",je)],o)).md_needsFrame(),e.md_arg("level").md_deflStrings("info","debug","warning","error"),e.md_betaOnly(),(e=i(0,S,"verbosity",'Get the current logging level for this logger (defaults to "debug").',[],je)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"set context user","Get the userid attached to the current context, or empty.",[r("userid",je)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"context user","Get the userid attached to the current context, or empty.",[],je)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"context id","The unique id of current context, or empty if in global scope.",[],je)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"context pause","Stop counting time in all current contexts",[],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"context resume","Start counting time again in all current contexts",[],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"logger duration","How long the current logger has been executing for in milliseconds.",[],fe)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"context duration","How long the current context has been executing for in milliseconds.",[],fe)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"tick","Log a custom event tick in any registered performance logger.",[r("id",je)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"custom tick","Log a custom event tick, including specified meta information, in any registered performance logger.",[r("id",je),r("meta",ie)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"measure","Log a measure in any registered performance logger.",[r("id",je),r("value",fe)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"new context","Start new logging context when you're starting a new task (eg, handling a request)",[],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,S,"start","Starts a timed sub-logger. The task name is concatenated to the current logger category.",[r("task",je)],S)).md_betaOnly(),(e=i(0,S,"end","Ends a time sub-logger and reports the time.",[],o)).md_betaOnly(),(e=i(0,A,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,A,"temporary setting","Retreives an in-memory editor setting",[r("key",je)],je)).md_flow("SourceWeb"),(e=i(0,A,"set temporary setting","Sets an in-memory editor setting. The setting is stored until the page is refreshed",[r("key",je),r("value",je)],o)).md_flow("SinkWeb"),e=i(0,A,"user agent","Get the browser name and version",[],je),(e=i(0,A,"has shell","Indicates if the `app->run_command` action can be used to run shell commands.",[],P)).md_betaOnly(),(e=i(0,A,"has host","Indicates if the `app->host_exec` action can be used to run host commands.",[],P)).md_betaOnly(),(e=i(0,A,"runtime kind",'Where are we running from: "editor", "website", "nodejs", "mobileapp", "plugin"',[],je)).md_needsFrame(),e=i(0,A,"form factor",'Get device \'size\': "phone", "tablet", or "desktop"',[],je),e=i(0,A,"operating system",'Get current OS: "windows", "osx", "linux", "wp", "ios", "android", ...',[],je),(e=i(0,A,"backend url","Return URL of the cloud backend service if any.",[],je)).md_needsFrame(),e=i(0,A,"initial url",'Initial URL used to launch the website; invalid when `->runtime kind` is "editor"',[],je),e=i(0,T,"create logger","Creates a specialized logger",[r("category",je)],S),(e=i(0,T,"log","Appends this message to the debug log.",[r("message",je)],o)).md_oldName("time->log"),(e=i(0,T,"current handler","Gets the binding of the current handler if any. This can be used to delete a handler from itself.",[],X)).md_needsFrame(),(e=i(0,T,"stop","Stops the app.",[],o)).md_resumes(),(e=i(0,T,"script id","Gets the app script id if any; invalid if not available",[],je)).md_needsFrame(),(e=i(0,T,"restart","Restarts the app and pops a restart dialog",[r("message",je)],o)).md_resumes(),(e=i(0,T,"fail if not","Aborts the execution if the condition is false.",[r("condition",P)],o)).md_arg("condition").md_defl(!0),(e=i(0,T,"server setting","When exported server-side, retreives the value of a setting stored on the server. If not optional, fails if missing. Returns invalid if missing.",[r("key",je),r("optional",P)],je)).md_needsFrame(),(e=i(0,T,"javascript","When exported, run `script` instead of the body of the action",[r("calling convention",je),r("script",je)],o)).md_arg("calling convention").md_defl("local"),e.md_arg("script").md_lang("js"),(e=i(0,T,"javascript async","When exported, run `script` instead of the body of the action",[r("calling convention",je),r("script",je)],o)).md_resumes(),e.md_async(),e.md_arg("calling convention").md_defl("local"),e.md_arg("script").md_lang("js"),(e=i(0,T,"import","Imports a dependent package which may be versioned. Package managers may be Node.JS npm, Bower, Apache cordova, Python Pip and TouchDevelop plugins. ``bower`` and ``client`` imports are not available within the touchdevelop.com domain.",[r("manager",je),r("module",je),r("version",je)],o)).md_arg("manager").md_deflStrings("npm","cordova","bower","client","touchdevelop","pip"),e.md_arg("version").md_defl("*"),e.md_jsName("import_"),(e=i(0,T,"thumb","When compiled to ARM Thumb, inline the body.",[r("script",je)],o)).md_arg("script").md_lang("thumb"),(e=i(0,T,"server request","Get the current incomming HTTP web request",[],Te)).md_needsFrame(),e.md_betaOnly(),(e=i(0,T,"server response","Get the response corresponding to the current incomming HTTP web request",[],Le)).md_needsFrame(),e.md_betaOnly(),(e=i(0,T,"editor","Get the Editor interface",[],Z)).md_needsFrame(),e.md_betaOnly(),(e=i(0,T,"env","Access various properties of application environment",[],A)).md_betaOnly(),(e=i(0,T,"reflect","Return runtime information about functions and types defined in script and its libraries",[r("what",je)],ie)).md_needsFrame(),e.md_betaOnly(),e.md_arg("what").md_deflStrings("actions"),(e=i(0,T,"run command","Runs a shell command. This action is only available when the script is running from a local web server.",[r("cmd",je),r("data",ie)],ie)).md_resumes(),e.md_arg("cmd").md_deflStrings("shell","mkdir","writeFile","readFile","readDir","writeFiles","pythonEnv","socket","seriallist"),e.md_cap("shell"),e.md_async(),(e=i(0,T,"show logs","Shows a dialog with the logs",[r("filter",je)],o)).md_resumes(),e.md_uiAsync(),e.md_betaOnly(),(e=i(0,T,"consume rendered comments","Get HTML-rendered content of all comments 'executed' since last call",[],je)).md_needsFrame(),e.md_dbgOnly(),(e=i(0,T,"host exec","Invokes the host to execute a command described in the message and returns the response. There is no restriction on the format of the request and response. If not available or errored, returns invalid.",[r("message",je)],je)).md_resumes(),e.md_async(),e.md_readsMutable(),e.md_betaOnly(),(e=i(0,T,"host subscribe","Invokes the host to register an event listener described in the message.",[r("message",je),r("handler",s)],X)).md_resumes(),e.md_async(),e.md_readsMutable(),e.md_betaOnly(),e.md_ignoreReturnValue(),(e=i(0,T,"allow other events","Allow execution of other events, before the current event finishes.",[],o)).md_needsFrame(),(e=i(0,L,"user of","Returns a user object for a specified user id",[r("id",je)],Ge)).md_resumes(),e.md_cachedAsync(),(e=i(0,L,"current user","Returns the user object of the current user",[],Ge)).md_resumes(),e.md_authAsync(),(e=i(17,L,"leaderboard score","Gets the current score for the current script",[],fe)).md_resumes(),e.md_async(),e.md_tandre(),e.md_hasPauseContinue(),e.md_readsMutable(),(e=i(105,L,"post leaderboard score","Posts the current game score to the script leaderboard",[r("score",fe)],o)).md_resumes(),e.md_async(),e.md_writesMutable(),(e=i(73,L,"post leaderboard to wall","Posts the current game leaderboard to the wall",[],o)).md_resumes(),e.md_cachedAsync(),(e=i(0,L,"merge3","three-way merge script texts. Debug only: for testing.",[r("O",je),r("A",je),r("B",je)],je)).md_dbgOnly(),(e=i(0,L,"open","Launches the bazaar.",[],o)).md_obsolete(),(e=i(0,L,"open review","Opens the review page for the current script",[],o)).md_obsolete(),(e=i(0,L,"open leaderboard","Opens the leaderboard for the current script",[],o)).md_resumes(),e.md_obsolete(),(e=i(0,L,"script id","Returns an identifier of either the top-level script or the current library",[r("which",je)],je)).md_needsFrame(),e.md_arg("which").md_deflStrings("top","current"),(e=i(0,L,"pick script","Asks the user to pick a script and return its identifier",[r("mode",je),r("message",je)],je)).md_resumes(),e.md_arg("mode").md_deflStrings("read","write","read-write"),e.md_uiAsync(),(e=i(0,L,"save ast","Saves given Abstract Syntax Tree as a script",[r("id",je),r("script",ie)],o)).md_resumes(),e.md_uiAsync(),(e=i(0,L,"ast of","Returns the Abstract Syntax Tree JSON object for specified script",[r("id",je)],ie)).md_resumes(),e.md_arg("id").md_deflExpr('bazaar->script_id("current")'),e.md_uiAsync(),e=i(0,M,"add uint32","Add two unsigned 32 bit numbers",[r("x",fe),r("y",fe)],fe),e=i(0,M,"subtract uint32","Subtract two unsigned 32 bit numbers",[r("x",fe),r("y",fe)],fe),e=i(0,M,"multiply uint32","Multiply two unsigned 32 bit numbers",[r("x",fe),r("y",fe)],fe),e=i(0,M,"add int32","Add two signed 32 bit numbers",[r("x",fe),r("y",fe)],fe),e=i(0,M,"subtract int32","Subtract two signed 32 bit numbers",[r("x",fe),r("y",fe)],fe),e=i(0,M,"multiply int32","Multiply two signed 32 bit numbers",[r("x",fe),r("y",fe)],fe),e=i(0,M,"and uint32","Perform bitwise and (`&` in C)",[r("x",fe),r("y",fe)],fe),e=i(0,M,"or uint32","Perform bitwise or (`|` in C)",[r("x",fe),r("y",fe)],fe),e=i(0,M,"and int32","Perform bitwise and (`&` in C) on signed integers",[r("x",fe),r("y",fe)],fe),e=i(0,M,"or int32","Perform bitwise or (`|` in C) on signed integers",[r("x",fe),r("y",fe)],fe),e=i(0,M,"xor uint32","Perform bitwise exclusive or (`^` in C)",[r("x",fe),r("y",fe)],fe),e=i(0,M,"not uint32","Perform bitwise negation (`~` in C)",[r("x",fe)],fe),e=i(0,M,"shift left uint32","Shift `x` by `bits` left (`<<` in C)",[r("x",fe),r("bits",fe)],fe),e=i(0,M,"shift right uint32","Shift `x` by `bits` right (`>>` in C, `>>>` in JavaScript)",[r("x",fe),r("bits",fe)],fe),e=i(0,M,"rotate left uint32","Rotate `x` by `bits` left (rotl)",[r("x",fe),r("bits",fe)],fe),e=i(0,M,"rotate right uint32","Rotate `x` by `bits` right (rotr)",[r("x",fe),r("bits",fe)],fe),(e=i(0,M,"create buffer","Creates an empty binary buffer of `size` bytes",[r("size",fe)],j)).md_arg("size").md_defl(32),e.md_arg("result").md_writesMutable(),(e=i(0,M,"string to buffer","Decodes string into a binary buffer",[r("s",je),r("encoding",je)],j)).md_arg("encoding").md_deflStrings("base64","hex","binary","utf8","utf16le"),(e=i(28,E,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(942,E,"height","Gets the height in pixels",[],fe),(e=i(15,E,"count","Gets the sprite count",[],fe)).md_readsMutable(),e=i(1241,E,"width","Gets the width in pixels",[],fe),(e=i(666,E,"touched","True if board is touched",[],P)).md_tandre(),(e=i(92,E,"touch start","Last touch start point",[],Ve)).md_tandre(),(e=i(144,E,"touch current","Current touch point",[],Ve)).md_tandre(),(e=i(27,E,"touch end","Last touch end point",[],Ve)).md_tandre(),(e=i(2,E,"touch velocity","Final touch velocity after touch ended",[],Ve)).md_tandre(),(e=i(98,E,"create boundary","Create walls around the board at the given distance.",[r("distance",fe)],o)).md_writesMutable(),e=i(699,E,"create sprite set","Create a new collection for sprites.",[],Re),(e=i(0,E,"frame timer","gets the timer that fires for every display frame.",[],Fe)).md_needsFrame(),(e=i(0,E,"add on every frame","add an action that fires for every display frame.",[r("body",a)],X)).md_needsFrame(),e.md_ignoreReturnValue(),(e=i(0,E,"on every frame","add an action that fires for every display frame.",[r("body",a)],X)).md_needsFrame(),e.md_ignoreReturnValue(),e=i(0,E,"clear every frame timers","Stops and clears all the `every frame` timers",[],o),(e=i(0,E,"on tap","set the handler that is invoked when the board is tapped",[r("tapped",u)],X)).md_ignoreReturnValue(),e.md_writesMutable(),(e=i(0,E,"on swipe","set the handler that is invoked when the board is swiped",[r("swiped",h)],X)).md_ignoreReturnValue(),e.md_writesMutable(),(e=i(0,E,"on touch down","set the handler that is invoked when the board is touched",[r("touch down",u)],X)).md_writesMutable(),e.md_ignoreReturnValue(),(e=i(0,E,"on touch up","set the handler that is invoked when the board touch is released",[r("touch up",u)],X)).md_writesMutable(),e.md_ignoreReturnValue(),(e=i(265,E,"evolve","Update positions of sprites on board.",[],o)).md_timestamp(),e.md_writesMutable(),e=i(0,E,"equals","Checks if the board is the same instance as the other board.",[r("other board",E)],P),(e=i(0,E,"background scene","Gets the background scene",[],D)).md_readsMutable(),(e=i(678,E,"set background","Sets the background color",[r("color",H)],o)).md_writesMutable(),e.md_arg("color").md_deflExpr("colors->random"),(e=i(10,E,"set background camera","Sets the background camera",[r("camera",B)],o)).md_writesMutable(),e.md_cap("camera"),e.md_arg("camera").md_deflExpr("senses->camera"),(e=i(164,E,"set background picture","Sets the background picture",[r("picture",we)],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),e.md_embedsLink("Board","Picture"),(e=i(30,E,"set debug mode","In debug mode, board displays speed and other info of sprites",[r("debug",P)],o)).md_arg("debug").md_defl(!0),(e=i(25,E,"set friction","Sets the default friction for sprites to a fraction of speed loss between 0 and 1",[r("friction",fe)],o)).md_writesMutable(),e.md_arg("friction").md_defl(.01),e=i(1,E,"is landscape","Gets a value indicating if the board is designed to be viewed in landscape mode",[],P),(e=i(98,E,"set gravity","Sets the uniform acceleration vector for objects on the board to pixels/sec^2",[r("x",fe),r("y",fe)],o)).md_writesMutable(),e.md_arg("y").md_defl(200),(e=i(96,E,"at","Gets the sprite indexed by i",[r("i",fe)],Ie)).md_readsMutable(),(e=i(1342,E,"update on wall","Make updates visible.",[],o)).md_writesMutable(),(e=i(445,E,"create ellipse","Create a new ellipse sprite.",[r("width",fe),r("height",fe)],Ie)).md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_arg("width").md_defl(20),e.md_arg("height").md_defl(20),e.md_embedsLink("Board","Sprite"),(e=i(698,E,"create rectangle","Create a new rectangle sprite.",[r("width",fe),r("height",fe)],Ie)).md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_arg("width").md_defl(20),e.md_arg("height").md_defl(20),e.md_embedsLink("Board","Sprite"),(e=i(1926,E,"create text","Create a new text sprite.",[r("width",fe),r("height",fe),r("font Size",fe),r("text",je)],Ie)).md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_arg("width").md_defl(100),e.md_arg("height").md_defl(40),e.md_arg("font Size").md_defl(20),e.md_embedsLink("Board","Sprite"),(e=i(626,E,"create picture","Create a new picture sprite.",[r("picture",we)],Ie)).md_resumes(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_picAsync(),e.md_embedsLink("Board","Sprite"),e.md_embedsLink("Sprite","Picture"),(e=i(0,E,"create sprite sheet","Create a new sprite sheet.",[r("picture",we)],qe)).md_resumes(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_picAsync(),e.md_embedsLink("Board","SpriteSheet"),e.md_embedsLink("SpriteSheet","Picture"),(e=i(3,E,"create anchor","Create an anchor sprite.",[r("width",fe),r("height",fe)],Ie)).md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_arg("width").md_defl(20),e.md_arg("height").md_defl(20),e.md_embedsLink("Board","Sprite"),(e=i(590,E,"create obstacle","Create a line obstacle with given start point, and given width and height. Elasticity is 0 for sticky, 1 for complete bounce.",[r("x",fe),r("y",fe),r("width",fe),r("height",fe),r("elasticity",fe)],N)).md_writesMutable(),e.md_ignoreReturnValue(),e.md_arg("elasticity").md_defl(1),(e=i(11,E,"create spring","Create a spring between the two sprites.",[r("sprite1",Ie),r("sprite2",Ie),r("stiffness",fe)],De)).md_writesMutable(),e.md_ignoreReturnValue(),e.md_arg("stiffness").md_defl(100),e=i(56,E,"clear events","Clear all queued events related to this board",[],o),(e=i(1,E,"clear background camera","Clears the background camera",[],o)).md_cap("camera"),e=i(5,E,"clear background picture","Clear the background picture",[],o),(e=i(1122,E,"post to wall","Shows the board on the wall.",[],o)).md_needsFrame(),(e=i(0,N,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,N,"on collision","Attaches a handler where a sprite bounces on the obstacle",[r("bounce",d)],X)).md_ignoreReturnValue(),(e=i(0,N,"set color","Sets the obstacle color",[r("color",H)],o)).md_arg("color").md_deflExpr("colors->random"),(e=i(0,N,"set thickness","Sets the obstacle thickness",[r("thickness",fe)],o)).md_arg("thickness").md_defl(3),e=i(0,N,"delete","Delete the obstacle",[],o),(e=i(0,D,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,D,"view x","Gets the view horizontal offset",[],fe)).md_readsMutable(),(e=i(0,D,"set view x","Sets the view horizontal offset",[r("x",fe)],o)).md_writesMutable(),(e=i(0,D,"view y","Gets the view vertical offset",[],fe)).md_readsMutable(),(e=i(0,D,"set view y","Sets the view vertical offset",[r("y",fe)],o)).md_writesMutable(),(e=i(0,D,"create layer","Creates a new layer on the scene. The distance determines the order of rendering and how fast the layer moves",[r("distance",fe),r("pic",we)],I)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),e.md_ignoreReturnValue(),e.md_embedsLink("BoardBackgroundScene","BoardBackgroundLayer"),(e=i(0,D,"count","Gets the number of layers in the scene",[],fe)).md_readsMutable(),(e=i(0,D,"at","Gets the layer at the given index",[r("index",fe)],I)).md_readsMutable(),e=i(0,D,"clear","Removes all layers from scene and resets the viewport",[],o),(e=i(0,D,"post to wall","Displays the sprite sheet.",[],o)).md_needsFrame(),e.md_readsMutable(),(e=i(0,I,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,I,"picture","Gets the picture associated to the layer.",[],o),(e=i(0,I,"distance","Gets the layer distance",[],o)).md_readsMutable(),(e=i(0,I,"set distance","Sets the layer distance",[r("d",fe)],o)).md_writesMutable(),(e=i(0,I,"align x","Gets a value indicating how the picture aligns horizontally. The default is `left`.",[],o)).md_readsMutable(),(e=i(0,I,"set align x","Sets a value indicating how the picture aligns horizontally. The default is `left`.",[r("align",je)],o)).md_arg("align").md_deflStrings("right","left","center"),e.md_writesMutable(),(e=i(0,I,"align y","Gets a value indicating how the picture aligns vertically. The default is `top`.",[],o)).md_readsMutable(),(e=i(0,I,"set align y","Sets a value indicating how the picture aligns vertically. The default is `top`.",[r("align",je)],o)).md_arg("align").md_deflStrings("bottom","top","center"),e.md_writesMutable(),(e=i(0,I,"repeat x","Gets a value indicating if the background repeats horizontally",[],o)).md_readsMutable(),(e=i(0,I,"set repeat x","Sets a value indicating if the background repeats horizontally",[r("repeat",P)],o)).md_writesMutable(),(e=i(0,I,"repeat y","Gets a value indicating if the background repeats horizontally",[],o)).md_readsMutable(),(e=i(0,I,"set repeat y","Sets a value indicating if the background repeats horizontally",[r("repeat",P)],o)).md_writesMutable(),(e=i(12,P,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(327,P,"equals","Indicates that the two values are equal",[r("right",P)],P),(e=i(1511,P,"not","Negates the boolean expression",[],P)).md_infixPriority(4),(e=i(1411,P,"and","Builds conjunction",[r("right",P)],P)).md_infixPriority(3),(e=i(1002,P,"or","Builds disjunction",[r("right",P)],P)).md_infixPriority(2),e=i(31,P,"to string","Converts a boolean to a string",[],je),e=i(18,P,"to number","Converts true to 1 and false to 0",[],fe),(e=i(9,P,"post to wall","Displays the value on the wall",[],o)).md_needsFrame(),e=i(0,P,"to json","Converts the value into a json data structure.",[],ie),(e=i(0,R,"set foreground","Sets the foreground color of elements.",[r("color",H)],o)).md_needsFrame(),e.md_arg("color").md_deflExpr("colors->random"),(e=i(0,R,"set background","Sets the background color.",[r("color",H)],o)).md_needsFrame(),e.md_arg("color").md_deflExpr("colors->random"),(e=i(0,R,"add background picture","Sets the background picture. The picture must be a resource or from the web. The size of the picture does not impact the size of the box.",[r("pic",we),r("position",je),r("size",je),r("repeat",je),r("attachment",je)],o)).md_needsFrame(),e.md_arg("position").md_deflStrings("center center","left top","left center","left bottom","right top","right center","right bottom","center top","center bottom"),e.md_arg("size").md_deflStrings("cover","contain","auto"),e.md_arg("repeat").md_deflStrings("no-repeat","repeat","repeat-x","repeat-y"),e.md_arg("attachment").md_deflStrings("scroll","fixed","local"),(e=i(0,R,"use vertical layout","Arrange boxes inside this box from top to bottom.",[],o)).md_needsFrame(),(e=i(0,R,"use horizontal layout","Arrange boxes inside this box from left to right.",[],o)).md_needsFrame(),(e=i(0,R,"use overlay layout","Arrange boxes inside this box as layers on top of each other.",[],o)).md_needsFrame(),(e=i(0,R,"set width","Set the width of this box.",[r("width",fe)],o)).md_needsFrame(),(e=i(0,R,"set height","Set the height of this box.",[r("height",fe)],o)).md_needsFrame(),(e=i(0,R,"set width range","Set lower and upper limits on the width of this box.",[r("min width",fe),r("max width",fe)],o)).md_needsFrame(),(e=i(0,R,"set height range","Set lower and upper limits on the height of this box.",[r("min height",fe),r("max height",fe)],o)).md_needsFrame(),(e=i(0,R,"set horizontal stretch","Specify how to compute box width (0 = shrink to fit content, 1 = stretch to fit frame, , 0.5 = stretch to half width)",[r("elasticity",fe)],o)).md_needsFrame(),e.md_arg("elasticity").md_defl(1),(e=i(0,R,"set vertical stretch","Specify how to compute box height (0 = shrink to fit content, 1 = stretch to fit frame, 0.5 = stretch to half height)",[r("elasticity",fe)],o)).md_needsFrame(),e.md_arg("elasticity").md_defl(1),(e=i(0,R,"set border","Set the color and width of the border.",[r("color",H),r("width",fe)],o)).md_needsFrame(),e.md_arg("color").md_deflExpr("colors->foreground"),e.md_arg("width").md_defl(.1),(e=i(0,R,"set border widths","Set the width of each border.",[r("top",fe),r("right",fe),r("bottom",fe),r("left",fe)],o)).md_needsFrame(),(e=i(0,R,"set margins","Set the margins of this box (to leave space around the outside of this box).",[r("top",fe),r("right",fe),r("bottom",fe),r("left",fe)],o)).md_needsFrame(),e.md_arg("left").md_defl(.5),e.md_arg("top").md_defl(.5),(e=i(0,R,"set padding","Set the padding of this box (to leave space around the contents of this box).",[r("top",fe),r("right",fe),r("bottom",fe),r("left",fe)],o)).md_needsFrame(),(e=i(0,R,"set horizontal alignment","align (0,0)=center (1,0)=left, (0,1)=right, (1,1)=stretch",[r("left",fe),r("right",fe)],o)).md_needsFrame(),e.md_obsolete(),(e=i(0,R,"set vertical alignment","align (0,0)=center (1,0)=top, (0,1)=bottom, (1,1)=stretch",[r("top",fe),r("bottom",fe)],o)).md_needsFrame(),e.md_obsolete(),(e=i(0,R,"set horizontal align","Specify how to arrange the content of this box",[r("arrange",je)],o)).md_needsFrame(),e.md_arg("arrange").md_defl("left"),e.md_arg("arrange").md_deflStrings("center","left","right","justify","spread"),(e=i(0,R,"set vertical align","Specify how to arrange the content of this box",[r("arrange",je)],o)).md_needsFrame(),e.md_arg("arrange").md_defl("baseline"),e.md_arg("arrange").md_deflStrings("baseline","top","bottom","center","justify","spread"),(e=i(0,R,"set font size","Set font size in this box and contained boxes.",[r("font size",fe)],o)).md_needsFrame(),e.md_arg("font size").md_defl(1),(e=i(0,R,"set font weight","Set font weight in this box and contained boxes.",[r("font weight",je)],o)).md_needsFrame(),e.md_arg("font weight").md_defl("bold"),e.md_arg("font weight").md_deflStrings("normal","bold","lighter","bolder"),(e=i(0,R,"set font family","Set font family in this box and contained boxes.",[r("family",je)],o)).md_needsFrame(),e.md_arg("family").md_defl("Default"),e.md_arg("family").md_deflStrings("Default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Console, Monaco, monospace","Lucida Sans Unicode, Lucida Grande, sans - serif","Palatino Linotype, Book Antiqua, Palatino, serif","Tahoma, Geneva, sans - serif","Times New Roman, Times, serif","Trebuchet MS, sans-serif","Verdana, Geneva, sans-serif","Comic Sans MS, cursive"),e.md_dbgOnly(),(e=i(0,R,"set scrolling","Specify whether to use scrollbars on overflow.",[r("horizontal scrolling",P),r("vertical scrolling",P)],o)).md_needsFrame(),e.md_arg("horizontal scrolling").md_defl(!0),e.md_arg("vertical scrolling").md_defl(!0),(e=i(0,R,"on tapped","Set what happens when the box is tapped.",[r("handler",a)],o)).md_needsFrame(),(e=i(0,R,"on text editing","Set what happens whenever the text in the box is being edited.",[r("handler",s)],o)).md_needsFrame(),e.md_obsolete(),(e=i(0,R,"on text edited","Set what happens when the user has finished editing the text in the box.",[r("handler",s)],o)).md_needsFrame(),e.md_obsolete(),(e=i(0,R,"edit text","Display editable text.",[r("text",je),r("multiline",P)],o)).md_needsFrame(),e.md_obsolete(),e.md_arg("text").md_defl(""),e.md_arg("multiline").md_defl(!0),(e=i(0,R,"edit","Display editable text, for the given content and change handler.",[r("style",je),r("value",je),r("changehandler",s)],o)).md_needsFrame(),e.md_arg("style").md_defl("textline"),e.md_arg("style").md_deflStrings("textline","textarea","number","password"),(e=i(0,R,"edit ref","Display editable text, bound to the given string reference.",[r("style",je),r("ref",Ce.createInstance([je]))],o)).md_needsFrame(),e.md_arg("style").md_defl("textline"),e.md_arg("style").md_deflStrings("textline","textarea","number","password"),(e=i(0,R,"is init","",[],P)).md_needsFrame(),e.md_hidden(),(e=i(0,R,"page width","Get the total width of the page.",[],fe)).md_needsFrame(),(e=i(0,R,"page height","Get the total height of the page.",[],fe)).md_needsFrame(),e=i(0,R,"pixels per em","Get the number of pixels in an em",[],fe),(e=i(0,R,"set text wrapping","Set whether to break long lines, and specify what length is too short for breaking",[r("wrap",P),r("minimumwidth",fe)],o)).md_needsFrame(),e.md_arg("wrap").md_readsMutable(),e.md_arg("wrap").md_defl(!0),e.md_arg("minimumwidth").md_defl(15),(e=i(0,q,"use css","Use CSS for layout and import additional CSS stylesheets. Use string art resource to import urls.",[r("stylesheet",je)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,q,"set tag name","Specify the tagname for this element",[r("name",je)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,q,"add css class","Add a CSS class name to the current element.",[r("name",je)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,q,"set attribute","Specify an attribute for the current element.",[r("name",je),r("value",je)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,q,"set style","Specify a style attribute for the current element.",[r("property",je),r("value",je)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,q,"bind value with handler","Bind editable text, by giving current text and change handler.",[r("value",je),r("changehandler",s)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,q,"bind value to ref","Bind editable text, using a string reference.",[r("ref",Ce.createInstance([je]))],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,q,"add on click","Set what happens when this element is clicked.",[r("body",a)],o)).md_needsFrame(),e.md_betaOnly(),(e=i(0,j,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,j,"read number","Read a binary number at `offset`",[r("offset",fe),r("format",je),r("endian",je)],fe)).md_arg("format").md_deflStrings("int8","uint8","int16","uint16","int32","uint32"),e.md_arg("endian").md_deflStrings("le","be"),(e=i(0,j,"write number","Write a binary number `value` at `offset`",[r("value",fe),r("offset",fe),r("format",je),r("endian",je)],o)).md_arg("format").md_deflStrings("int8","uint8","int16","uint16","int32","uint32"),e.md_arg("endian").md_deflStrings("le","be"),(e=i(0,j,"set","Set byte at `index` to `value`",[r("index",fe),r("value",fe)],o)).md_writesMutable(),(e=i(0,j,"at","Get byte at `index`",[r("index",fe)],fe)).md_readsMutable(),(e=i(0,j,"count","Return the number of bytes in the buffer",[],fe)).md_robust(),(e=i(0,j,"sha256","Return the SHA-256 hash of the buffer encoded as lowercase hex",[],je)).md_betaOnly(),e=i(0,j,"concat","Return a new buffer consiting of the current and `other` in sequence",[r("other",j)],j),(e=i(0,j,"sub buffer","Creates a read-write view of the current buffer.",[r("start",fe),r("length",fe)],j)).md_writesMutable(),(e=i(0,j,"fill random","Fills the buffer with random values",[],o)).md_writesMutable(),(e=i(0,j,"fill","Sets all bytes in buffer to `value`",[r("value",fe)],o)).md_writesMutable(),(e=i(0,j,"copy from","Copies all bytes from `source` to current buffer at `offset`",[r("target offset",fe),r("source",j)],o)).md_writesMutable(),(e=i(0,j,"clone","Copies all bytes from `source` to current buffer at `offset`",[],j)).md_readsMutable(),(e=i(0,j,"to string","Convert the buffer to a string",[r("encoding",je)],je)).md_arg("encoding").md_deflStrings("base64","hex","binary","utf8","utf16le"),e.md_readsMutable(),(e=i(0,B,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(7,B,"height","Gets the height of the camera image in pixels.",[],fe)).md_stub(""),e=i(0,B,"is front","Indicates if this camera is in front of the phone; false if this is the primary (back) camera.",[],P),(e=i(1,B,"width","Gets the width of the camera image in pixels.",[],fe)).md_stub(""),(e=i(7,B,"post to wall","Displays the camera video stream in full screen.",[],o)).md_needsFrame(),e.md_flow("SourceCamera"),(e=i(18,B,"preview","Takes a low quality picture from the camera.",[],we)).md_resumes(),e.md_flow("SourceCamera"),e.md_uiAsync(),(e=i(0,z,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,z,"equals","Checks if this cloud session is the same as another one",[r("other",z)],P),e=i(12,z,"id","Gets a string that uniquely identifies this cloud session; other users can connect by using this string.",[],je),e=i(13,z,"title","Gets a string that describes this cloud session",[],je),e=i(11,z,"owner","Gets information about the user that owns this session",[],Ge),(e=i(0,z,"is owned","Indicates if the current user owns this session",[],P)).md_needsFrame(),(e=i(10,z,"post to wall","Displays the session description on the wall.",[],o)).md_needsFrame(),(e=i(0,z,"server info","Query server about current state of this session. You must be the authenticated owner.",[],ie)).md_resumes(),e.md_async(),e.md_dbgOnly(),(e=i(15,O,"current session","Gets the currently active session. When the script starts, this is always the just-me session.",[],z)).md_needsFrame(),(e=i(0,O,"rebuild cache","Clear the local cache of the current session (discarding unsynced changes) and get fresh data from server",[],z)).md_resumes(),e.md_dbgOnly(),e.md_async(),(e=i(0,O,"clear all data","Clear all data of the currently active session.",[],o)).md_needsFrame(),e.md_writesMutable(),(e=i(0,O,"to json","Export a JSON representation of all the cloud data",[],ie)).md_needsFrame(),e.md_dbgOnly(),(e=i(0,O,"from json","Import a JSON representation of the cloud data",[r("jobj",ie)],o)).md_needsFrame(),e.md_dbgOnly(),e.md_writesMutable(),(e=i(12,O,"last session","Deprecated: always equal to current session.",[],z)).md_needsFrame(),e.md_obsolete(),(e=i(14,O,"just me session","Gets the just-me session, in which cloud data is shared between devices by the same user.",[],z)).md_needsFrame(),(e=i(0,O,"set token validator",'`validator(token)` should return user id (eg, `"fb:123456"`) or `""` in case token is invalid',[r("validator",x.createInstance([je]))],o)).md_needsFrame(),e.md_dbgOnly(),e.md_writesMutable(),(e=i(0,O,"authenticate","Authenticate against your deployed cloud library. Returns false if the authentication fails or the connection times out.",[r("access token",je)],P)).md_resumes(),e.md_dbgOnly(),e.md_uiAsync(),e.md_writesMutable(),(e=i(13,O,"everyone session","Gets the everyone-session, in which cloud data is shared by everyone running this script.",[],z)).md_needsFrame(),(e=i(0,O,"wait for server","Waits until the current server state has been received. Returns false if offline, or if time limit is exceeded.",[r("timeout",fe)],P)).md_resumes(),e.md_arg("timeout").md_deflExpr(30),e.md_async(),e.md_writesMutable(),(e=i(11,O,"create session","Creates a new cloud session owned by the current user.",[r("title",je),r("type",je)],z)).md_resumes(),e.md_arg("type").md_defl("shareable"),e.md_arg("type").md_deflStrings("shareable","private","broadcast"),e.md_async(),e.md_writesMutable(),(e=i(10,O,"session of","Gets a session from a session id",[r("id",je),r("title",je)],z)).md_needsFrame(),(e=i(9,O,"connection status","Gets a string that describes the state of the cloud synchronization, and additional details if requested",[r("include extra details",P)],je)).md_needsFrame(),(e=i(0,O,"participant number","Returns the participant number within the current session, or -1 if not known yet. Participant numbers are assigned by the server on first connect, starting with 0.",[],fe)).md_needsFrame(),(e=i(0,O,"set sync enabled","Enable or disable cloud synchronization for the current session",[r("enable",P)],o)).md_needsFrame(),e.md_writesMutable(),(e=i(0,O,"is sync enabled","Returns a boolean indicating whether cloud synchronization is enabled for the current session",[],P)).md_needsFrame(),(e=i(16,O,"switch to session","Connect to the given session. The user may be asked to confirm.",[r("session",z)],o)).md_resumes(),e.md_arg("session").md_deflExpr("cloud_data->everyone_session"),e.md_uiAsync(),e.md_writesMutable(),(e=i(17,O,"switch sessions","Asks the user to choose a session to switch to",[],o)).md_resumes(),e.md_uiAsync(),e.md_writesMutable(),(e=i(0,F,"create user collection","Creates an empty User collection",[],U.createInstance([Ge]))).md_arg("result").md_writesMutable(),(e=i(0,F,"create date time collection","Creates an empty DateTime collection",[],U.createInstance([W]))).md_arg("result").md_writesMutable(),(e=i(0,F,"create picture collection","Creates an empty Picture collection",[],U.createInstance([we]))).md_arg("result").md_writesMutable(),(e=i(0,F,"create sound collection","Creates an empty Picture collection",[],U.createInstance([Ne]))).md_arg("result").md_writesMutable(),(e=i(0,F,"create action collection","Creates an empty Action collection",[],U.createInstance([a]))).md_arg("result").md_writesMutable(),(e=i(310,F,"create string collection","Creates an empty string collection",[],U.createInstance([je]))).md_arg("result").md_writesMutable(),(e=i(5,F,"create place collection","Creates an empty place collection",[],U.createInstance([ke]))).md_arg("result").md_writesMutable(),(e=i(4,F,"create link collection","Creates an empty link collection",[],U.createInstance([oe]))).md_arg("result").md_writesMutable(),(e=i(4,F,"create message collection","Creates an empty message collection",[],U.createInstance([me]))).md_arg("result").md_writesMutable(),(e=i(10,F,"create location collection","Creates an empty location collection",[],U.createInstance([ae]))).md_arg("result").md_writesMutable(),(e=i(111,F,"create number map","Creates an empty number map",[],ge)).md_arg("result").md_writesMutable(),(e=i(75,F,"create string map","Creates an empty string map (case and culture sensitive)",[],Be)).md_arg("result").md_writesMutable(),(e=i(94,F,"create number collection","Creates an empty number collection",[],U.createInstance([fe]))).md_arg("result").md_writesMutable(),(e=i(7,H,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(19,H,"A","Gets the normalized alpha value (0.0-1.0)",[],fe),e=i(67,H,"R","Gets the normalized red value (0.0-1.0)",[],fe),e=i(66,H,"G","Gets the normalized green value (0.0-1.0)",[],fe),e=i(66,H,"B","Gets the normalized blue value (0.0-1.0)",[],fe),e=i(152,H,"equals","Checks if the color is equal to the other",[r("other",H)],P),e=i(14,H,"blend","Composes a new color using alpha blending",[r("other",H)],H),e=i(227,H,"make transparent","Creates a new color by changing the alpha channel from 0 (transparent) to 1 (opaque).",[r("alpha",fe)],H),(e=i(397,H,"darken","Makes a darker color by a delta between 0 and 1.",[r("delta",fe)],H)).md_arg("delta").md_defl(.1),(e=i(158,H,"lighten","Makes a lighter color by a delta between 0 and 1.",[r("delta",fe)],H)).md_arg("delta").md_defl(.1),e=i(0,H,"to html","Convert color to HTML syntax (either #FF002A or rgba(255, 0, 42, 0.5) when A is non-1)",[],je),e=i(49,H,"hue","Gets the hue component of the color.",[],fe),e=i(16,H,"saturation","Gets the saturation component of the color.",[],fe),e=i(21,H,"brightness","Gets the brightness component of the color.",[],fe),(e=i(8,H,"post to wall","Prints the value to the wall",[],o)).md_needsFrame(),e=i(519,G,"accent","Gets the accent color in the current theme",[],H),e=i(101,G,"subtle","Gets the subtle color in the current theme (light gray)",[],H),e=i(337,G,"chrome","Gets the chrome color in the current theme (control background)",[],H),(e=i(257,G,"foreground","Gets the foreground color in the current theme",[],H)).md_needsFrame(),(e=i(186,G,"background","Gets the background color in the current theme",[],H)).md_needsFrame(),(e=i(46,G,"is light theme","Indicates if the user is using a light theme in their phone",[],P)).md_needsFrame(),e=i(109,G,"from rgb","Creates a color from the red, green, blue channels (0.0-1.0 range)",[r("red",fe),r("green",fe),r("blue",fe)],H),e=i(84,G,"from argb","Creates a color from the alpha, red, green, blue channels (0.0-1.0 range)",[r("alpha",fe),r("red",fe),r("green",fe),r("blue",fe)],H),e=i(0,G,"pink","Gets the color that has the ARGB value of #FFFFCBDB",[],H),e=i(653,G,"black","Gets the color that has the ARGB value of #FF000000",[],H),e=i(285,G,"blue","Gets the color that has the ARGB value of #FF0000FF",[],H),e=i(83,G,"brown","Gets the color that has the ARGB value of #FFA52A2A",[],H),e=i(68,G,"cyan","Gets the color that has the ARGB value of #FF00FFFF",[],H),e=i(187,G,"dark gray","Gets the color that has the ARGB value of #FFA9A9A9",[],H),e=i(176,G,"gray","Gets the color that has the ARGB value of #FF808080",[],H),e=i(325,G,"green","Gets the color that has the ARGB value of #FF008000",[],H),e=i(115,G,"light gray","Gets the color that has the ARGB value of #FFD3D3D3",[],H),e=i(57,G,"magenta","Gets the color that has the ARGB value of #FFFF00FF",[],H),e=i(214,G,"orange","Gets the color that has the ARGB value of #FFFFA500",[],H),e=i(46,G,"purple","Gets the color that has the ARGB value of #FF800080",[],H),e=i(462,G,"red","Gets the color that has the ARGB value of #FFFF0000",[],H),e=i(123,G,"transparent","Gets the color that has the ARGB value of #00FFFFFF",[],H),e=i(449,G,"white","Gets the color that has the ARGB value of #FFFFFFFF",[],H),e=i(84,G,"yellow","Gets the color that has the ARGB value of #FFFFFF00",[],H),e=i(81,G,"sepia","Gets the color that has the ARGB value of #FF704214",[],H),(e=i(114,G,"linear gradient","Computes an intermediate color",[r("c1",H),r("c2",H),r("alpha",fe)],H)).md_arg("c1").md_deflExpr("colors->background"),e.md_arg("c2").md_deflExpr("colors->foreground"),(e=i(61,G,"rand","Renamed to 'random'",[],H)).md_hidden(),e.md_tandre(),(e=i(209,G,"random","Picks a random color",[],H)).md_tandre(),e=i(0,G,"wheel","Picks a color from a color wheel where the hue is between 0 and 1.",[r("hue",fe)],H),(e=i(92,G,"from hsb","Creates a color from the hue, saturation, brightness channels (0.0-1.0 range)",[r("hue",fe),r("saturation",fe),r("brightness",fe)],H)).md_arg("saturation").md_defl(1),e.md_arg("brightness").md_defl(1),(e=i(9,G,"from ahsb","Creates a color from the alpha, hue, saturation, brightness channels (0.0-1.0 range)",[r("alpha",fe),r("hue",fe),r("saturation",fe),r("brightness",fe)],H)).md_arg("alpha").md_defl(1),e.md_arg("saturation").md_defl(1),e.md_arg("brightness").md_defl(1),(e=i(0,V,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,V,"id","Gets the user id if any",[],je)).md_readsMutable(),(e=i(0,V,"set id","Sets the user id",[r("id",je)],o)).md_writesMutable(),(e=i(1,V,"name","Gets the display name (not used when saving contact)",[],je)).md_readsMutable(),(e=i(0,V,"first name","Gets the first name if any.",[],je)).md_readsMutable(),(e=i(0,V,"set first name","Sets the first name",[r("first name",je)],o)).md_writesMutable(),(e=i(0,V,"last name","Gets the last name if any.",[],je)).md_readsMutable(),(e=i(0,V,"set last name","Sets the last name",[r("last name",je)],o)).md_writesMutable(),(e=i(0,V,"nick name","Gets the nickname if any.",[],je)).md_readsMutable(),(e=i(0,V,"set nick name","Sets the middle name",[r("nick name",je)],o)).md_writesMutable(),(e=i(0,V,"middle name","Gets the middle name if any.",[],je)).md_readsMutable(),(e=i(0,V,"set middle name","Sets the middle name",[r("middle name",je)],o)).md_writesMutable(),(e=i(0,V,"title","Gets the name title if any.",[],je)).md_readsMutable(),(e=i(0,V,"set title","Sets the title",[r("title",je)],o)).md_writesMutable(),(e=i(0,V,"suffix","Gets the name suffix if any.",[],je)).md_readsMutable(),(e=i(0,V,"set suffix","Sets the suffix",[r("suffix",je)],o)).md_writesMutable(),(e=i(0,V,"company","Gets the company name if any.",[],je)).md_readsMutable(),(e=i(0,V,"set company","Sets the company",[r("company",je)],o)).md_writesMutable(),(e=i(0,V,"job title","Gets the job title at the company if any.",[],je)).md_readsMutable(),(e=i(0,V,"set job title","Sets the job title",[r("job title",je)],o)).md_writesMutable(),(e=i(0,V,"office","Gets the office location at the company if any.",[],je)).md_readsMutable(),(e=i(0,V,"set office","Sets the office location at the company",[r("office",je)],o)).md_writesMutable(),(e=i(0,V,"work address","Gets the home address if any",[],je)).md_readsMutable(),(e=i(0,V,"set work address","Sets the work address",[r("work address",je)],o)).md_writesMutable(),(e=i(0,V,"home address","Gets the work address if any",[],je)).md_readsMutable(),(e=i(0,V,"set home address","Sets the home address",[r("home address",je)],o)).md_writesMutable(),(e=i(0,V,"source","Gets the source of this contact (phone, etc...)",[],je)).md_readsMutable(),(e=i(0,V,"set source","Sets the source",[r("source",je)],o)).md_writesMutable(),(e=i(0,V,"birthday","Gets the birth date if any.",[],W)).md_readsMutable(),(e=i(0,V,"set birthday","Sets the birthday",[r("birthday",W)],o)).md_writesMutable(),(e=i(3,V,"picture","Gets the picture of the contact if any.",[],we)).md_resumes(),e.md_readsMutable(),e.md_picAsync(),(e=i(0,V,"set picture","Sets the picture",[r("picture",we)],o)).md_writesMutable(),e.md_arg("picture").md_readsMutable(),(e=i(0,V,"set Picture url","Sets the picture url",[r("url",je)],o)).md_writesMutable(),(e=i(1,V,"email","Gets the work or personal email if any",[],oe)).md_readsMutable(),(e=i(0,V,"set email","Sets the work or personal email",[r("email",je)],o)).md_writesMutable(),(e=i(0,V,"work email","Gets the work email if any",[],oe)).md_readsMutable(),(e=i(0,V,"set work email","Sets the work email",[r("work email",je)],o)).md_writesMutable(),(e=i(0,V,"personal email","Gets the personal email if any",[],oe)).md_readsMutable(),(e=i(0,V,"set personal email","Sets the personal email",[r("personal email",je)],o)).md_writesMutable(),(e=i(2,V,"phone number","Gets the cell or work or home phone number if any",[],oe)).md_readsMutable(),(e=i(0,V,"set phone number","Sets the cell or work or home phone number if any",[r("phone number",je)],o)).md_writesMutable(),(e=i(0,V,"home phone","Gets the home phone number if any",[],oe)).md_readsMutable(),(e=i(0,V,"set home phone","Sets the home phone",[r("home phone",je)],o)).md_writesMutable(),(e=i(0,V,"work phone","Gets the work phone number if any",[],oe)).md_readsMutable(),(e=i(0,V,"set work phone","Sets the work phone",[r("work phone",je)],o)).md_writesMutable(),(e=i(0,V,"mobile phone","Gets the cell phone number if any",[],oe)).md_readsMutable(),(e=i(0,V,"set mobile phone","Sets the mobile phone",[r("mobile phone",je)],o)).md_writesMutable(),(e=i(0,V,"web site","Gets the web site if any",[],oe)).md_readsMutable(),(e=i(0,V,"set web site","Sets the web site",[r("web site",je)],o)).md_writesMutable(),(e=i(1,V,"post to wall","Posts the contact to the wall",[],o)).md_needsFrame(),e.md_cap("none"),(e=i(0,K,"requires","Specifies a precondition contract for the action; if the condition is false, execution fails. Does nothing for published scripts.",[r("condition",P),r("message",je)],o)).md_needsFrame(),(e=i(0,K,"assert","Checks for a condition; if the condition is false, execution fails. Does nothing for published scripts.",[r("condition",P),r("message",je)],o)).md_needsFrame(),(t=TDev.MultiplexRootProperty.md_make_kind()).md_parametric("T"),(e=TDev.MultiplexRootProperty.md_make_prop(t,0,J,"Collection of","Creates an empty collection of arbitrary type",[],U.createInstance([t.getParameter(0)]))).md_needsFrame(),e.md_arg("result").md_writesMutable(),(t=TDev.MultiplexRootProperty.md_make_kind()).md_parametric("T"),(e=TDev.MultiplexRootProperty.md_make_prop(t,0,J,"Ref of","Creates a `Ref of T` (single-field object), initialized to the default value of `T`",[],Ce.createInstance([t.getParameter(0)]))).md_needsFrame(),e.md_arg("result").md_writesMutable(),(e=i(8,W,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,W,"to json","Converts the value into a json data structure.",[],ie),(e=i(183,W,"add days","Returns a date that adds the specified number of days to the value of this instance.",[r("days",fe)],W)).md_arg("days").md_defl(1),(e=i(8,W,"add hours","Returns a date that adds the specified number of hours to the value of this instance.",[r("hours",fe)],W)).md_arg("hours").md_defl(1),(e=i(18,W,"add minutes","Returns a date that adds the specified number of minutes to the value of this instance.",[r("minutes",fe)],W)).md_arg("minutes").md_defl(1),(e=i(43,W,"add seconds","Returns a date that adds the specified number of seconds to the value of this instance.",[r("seconds",fe)],W)).md_arg("seconds").md_defl(1),(e=i(35,W,"add milliseconds","Returns a date that adds the specified number of milliseconds to the value of this instance.",[r("milliseconds",fe)],W)).md_arg("milliseconds").md_defl(1),e=i(202,W,"subtract","Computes the difference between date-times in seconds",[r("value",W)],fe),e=i(10,W,"equals","Compares dates for equality",[r("other",W)],P),e=i(0,W,"not equals","Compares dates for disequality",[r("other",W)],P),e=i(14,W,"less or equals","Compares dates for less or equal",[r("other",W)],P),e=i(5,W,"less","Compares dates for less",[r("other",W)],P),e=i(23,W,"greater or equal","Compares dates for greater or equal",[r("other",W)],P),e=i(90,W,"greater","Compares dates for greater",[r("other",W)],P),e=i(83,W,"to string","Converts a dates to a string",[],je),e=i(9,W,"date","Gets the date",[],W),e=i(0,W,"milliseconds since epoch","Gets the milliseconds elapsed since January 1, 1970 UTC; same as getTime() in JavaScript.",[],fe),e=i(0,W,"from now","Converts into text that describes the elapsed time in a friendly way.",[],je),e=i(402,W,"day","Gets the day of the month",[],fe),e=i(179,W,"hour","Gets the hour",[],fe),e=i(26,W,"millisecond","Gets the millisecond",[],fe),e=i(178,W,"minute","Gets the minute",[],fe),e=i(112,W,"month","Gets the month",[],fe),e=i(114,W,"second","Gets the second",[],fe),e=i(112,W,"year","Gets the year",[],fe),e=i(19,W,"week day","Gets the day of the week (sunday = 0, monday = 1, ... saturday = 6)",[],fe),e=i(7,W,"year day","Gets the day of the year between 1 and 366",[],fe),(e=i(0,W,"add years","Returns a date that adds the specified number of years to the value of this instance.",[r("years",fe)],W)).md_stub(),e.md_arg("years").md_defl(1),(e=i(0,W,"add months","Returns a date that adds the specified number of months to the value of this instance.",[r("months",fe)],W)).md_stub(),e.md_arg("months").md_defl(1),e=i(27,W,"to universal time","Converts coordinated universal time",[],W),(e=i(5,W,"to local time","Converts to the local time",[],W)).md_stub(),(e=i(22,W,"post to wall","Prints the date to the wall",[],o)).md_needsFrame(),(e=i(0,$,"bitmatrix","Renders a bitmatrix",[r("bits",je)],o)).md_docsOnly(),e.md_arg("bits").md_lang("bitmatrix"),(e=i(0,Y,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Y,"docs render","Shows a document link in the docs.",[r("caption",je)],o)).md_docsOnly(),e=i(0,Y,"url","Gets the web address for the document.",[],je),(e=i(0,Z,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Z,"progress","Replace standard 'running plugin' message with something else",[r("message",je)],o)).md_needsFrame(),(e=i(0,Z,"annotate ast","Place a message on an AST node",[r("id",je),r("category",je),r("message",je)],o)).md_arg("category").md_deflStrings("warning","info","error"),(e=i(0,Z,"annotate caller","Place a message on the first caller in the top-level script in the editor",[r("category",je),r("message",je)],o)).md_needsFrame(),e.md_arg("category").md_deflStrings("warning","info","error"),e.md_betaOnly(),(e=i(0,Z,"current script id","The id of the script currently in the editor",[],je)).md_needsFrame(),(e=i(0,Z,"current script ast","Returns the AST of the script currently in the editor",[],ie)).md_resumes(),e.md_uiAsync(),(e=i(0,Z,"tutorial step completed","Signal that the current tutorial step is done.",[],o)).md_needsFrame(),(e=i(0,Z,"deployment settings","Get (Azure) web site deployment settings.",[],ie)).md_resumes(),e.md_async(),(e=i(0,Z,"user token","Authenticates the user for the given app name and returns the token if successful. The identity of the token is contructed with ``{app name} - {user id}``.",[r("app name",je)],je)).md_resumes(),e.md_async(),e.md_cap("editoronly"),(e=i(0,Z,"package current script","Compiles and packages the current script.",[r("options",ie)],ie)).md_resumes(),e.md_async(),e.md_cap("editoronly"),e.md_dbgOnly(),(e=i(0,Q,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Q,"current","Return current value",[],o)).md_stub(),(e=i(0,Q,"move next","Advance enumerator and return true if there is another element.",[],P)).md_stub(),(e=i(0,X,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,X,"delete","Detaches the handler from the event.",[],o),(e=i(0,ee,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,ee,"post to wall","Displays the form to the wall",[],o)).md_needsFrame(),(e=i(0,ee,"add text","Adds a piece of text to the form using a custom type and/or file name.",[r("name",je),r("content",je),r("mimetype",je),r("filename",je)],o)).md_arg("mimetype").md_deflStrings("text/html","text/plain"),e=i(0,ee,"add buffer","Adds a buffer as an attached file",[r("name",je),r("buffer",j),r("filename",je)],o),e=i(0,ee,"add string as file","Adds a buffer as an attached file",[r("name",je),r("text",je),r("filename",je)],o),e=i(0,ee,"add string","Adds a string value",[r("name",je),r("value",je)],o),e=i(0,ee,"add number","Adds a number value",[r("name",je),r("value",fe)],o),e=i(0,ee,"add boolean","Adds a boolean value",[r("name",je),r("value",P)],o),(e=i(0,ee,"add picture","Adds a picture",[r("name",je),r("value",we),r("picture Name",je)],o)).md_resumes(),e.md_picAsync(),e.md_arg("picture Name").md_defl("pic"),e=i(86,te,"number","Creates an invalid Number instance",[],fe),e=i(6,te,"boolean","Creates an invalid Boolean instance",[],P),e=i(26,te,"string","Creates an invalid String instance",[],je),e=i(1,te,"string collection","Creates an invalid String Collection instance",[],U.createInstance([je])),e=i(9,te,"datetime","Creates an invalid DateTime instance",[],W),e=i(12,te,"color","Creates an invalid Color instance",[],H),e=i(40,te,"picture","Creates an invalid Picture instance",[],we),e=i(13,te,"song","Creates an invalid Song instance",[],Ee),e=i(1,te,"location","Creates an invalid Location instance",[],ae),e=i(1,te,"location collection","Creates an invalid Location Collection instance",[],U.createInstance([ae])),(e=i(0,te,"map","Creates an invalid Map instance",[],le)).md_cap("maps"),e=i(5,te,"sound","Creates an invalid Sound instance",[],Ne),e=i(0,te,"json object","Creates an invalid Json Object instance",[],ie),e=i(0,te,"link","Creates an invalid Link instance",[],oe),e=i(0,te,"link collection","Creates an invalid Link Collection instance",[],U.createInstance([oe])),e=i(13,te,"vector3","Creates an invalid Vector3 instance",[],Ve),e=i(5,te,"number map","Creates an invalid Number Map instance",[],ge),e=i(3,te,"string map","Creates an invalid String Map instance",[],Be),e=i(0,te,"message","Creates an invalid Message instance",[],me),e=i(1,te,"message collection","Creates an invalid Message Collection instance",[],U.createInstance([me])),e=i(57,te,"board","Creates an invalid Board instance",[],E),e=i(21,te,"sprite","Creates an invalid Sprite instance",[],Ie),e=i(0,te,"sprite animation","Creates an invalid Sprite Animation instance",[],Pe),e=i(27,te,"sprite set","Creates an invalid Sprite Set instance",[],Re),e=i(5,te,"xml object","Creates an invalid Xml Object instance",[],Xe),e=i(0,te,"place","Creates an invalid Place instance",[],ke),e=i(0,te,"place collection","Creates an invalid Place Collection instance",[],U.createInstance([ke])),e=i(3,te,"textbox","Creates an invalid TextBox instance",[],Oe),e=i(0,te,"contact","Creates an invalid Contact instance",[],V),e=i(0,te,"contact collection","Creates an invalid Contact Collection instance",[],U.createInstance([V])),e=i(0,te,"camera","Creates an invalid Camera instance",[],B),e=i(0,te,"web request","Creates an invalid Web Request instance",[],$e),e=i(0,te,"web response","Creates an invalid Web Response instance",[],Ye),e=i(0,te,"number collection","Creates an invalid Number Collection instance",[],U.createInstance([fe])),e=i(4,te,"page","Creates an invalid Page instance",[],ye),e=i(0,te,"page button","Creates an invalid Page Button instance",[],be),e=i(0,te,"page collection","Creates an invalid Page Collection instance",[],U.createInstance([ye])),e=i(0,te,"matrix","Creates an invalid Matrix instance",[],pe),e=i(0,te,"action","Creates an invalid Action instance",[],a),e=i(0,te,"text action","Creates an invalid Text Action instance",[],a),e=i(0,te,"position action","Creates an invalid Position Action instance",[],a),e=i(0,te,"vector action","Creates an invalid Vector Action instance",[],a),e=i(0,te,"webresponse action","Creates an invalid WebResponse Action instance",[],a),e=i(0,te,"sprite action","Creates an invalid Sprite Action instance",[],a),e=i(0,te,"sprite set action","Creates an invalid Sprite Set Action instance",[],a),e=i(0,te,"json builder","Creates an invalid Json Builder instance",[],ne),e=i(0,te,"message collection action","Creates an invalid Message Collection Action instance",[],a),e=i(0,te,"oauth response","Creates an invalid OAuth Response instance",[],ve),e=i(0,te,"form builder","Creates an invalid Form Builder instance",[],ee),e=i(0,te,"user","Creates an invalid User instance",[],Ge),e=i(0,te,"gamepad","Creates an invalid Gamepad instance",[],Ae),(e=i(0,ne,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,ne,"set field","Sets the field value.",[r("name",je),r("value",ie)],o),e=i(0,ne,"set builder","Sets the field the the reference to JsonBuilder.",[r("name",je),r("value",ne)],o),e=i(0,ne,"set string","Sets the string value.",[r("name",je),r("value",je)],o),e=i(0,ne,"clone","Creates a deep copy clone of the object",[],ne),e=i(0,ne,"set number","Sets the number value.",[r("name",je),r("value",fe)],o),e=i(0,ne,"set boolean","Sets the boolean value.",[r("name",je),r("value",P)],o),e=i(0,ne,"set sound","Sets the Sound value as a data uri.",[r("name",je),r("snd",Ne)],o),(e=i(0,ne,"set picture","Sets the Picture value as a data uri.",[r("name",je),r("pic",we),r("quality",fe)],o)).md_resumes(),e.md_picAsync(),e=i(0,ne,"set field null","Sets the field value as null.",[r("name",je)],o),e=i(0,ne,"add","Adds a value to the array.",[r("value",ie)],o),e=i(0,ne,"add number","Adds a number to the array.",[r("value",fe)],o),e=i(0,ne,"add string","Adds a string to the array.",[r("value",je)],o),e=i(0,ne,"add boolean","Adds a boolean to the array.",[r("value",P)],o),e=i(0,ne,"copy from","Copy all fields from given JSON object",[r("value",ie)],o),e=i(0,ne,"add builder","Add a reference to JsonBuilder to the array.",[r("value",ne)],o),e=i(0,ne,"clear","Deletes all array elements from the current builder.",[],o),e=i(0,ne,"add null","Adds a null value to the array.",[],o),e=i(0,ne,"to json","Converts the builder into a json data structure",[],ie),e=i(0,ne,"count","Gets the number of values",[],fe),e=i(0,ne,"at","Gets the i-th json value",[r("index",fe)],ne),e=i(0,ne,"set at","Sets the i-th json value",[r("index",fe),r("v",ne)],o),e=i(0,ne,"remove at","Removes the i-th json value",[r("index",fe)],o),e=i(0,ne,"remove field","Deletes named field",[r("name",je)],o),e=i(0,ne,"boolean","Gets a field value as a boolean",[r("key",je)],P),e=i(0,ne,"contains key","Indicates if the key exists",[r("key",je)],P),e=i(0,ne,"time","Gets the field value as a time",[r("key",je)],W),e=i(0,ne,"field","Gets a value by name",[r("key",je)],ne),e=i(0,ne,"keys","Gets the list of keys",[],U.createInstance([je])),e=i(0,ne,"kind","Gets a json kind (string, number, object, array, boolean, null)",[],je),e=i(0,ne,"number","Gets a field value as a number",[r("key",je)],fe),e=i(0,ne,"string","Gets a field value as a string",[r("key",je)],je),(e=i(0,ne,"post to wall","Prints the value to the wall",[],o)).md_needsFrame(),e=i(0,ne,"to boolean","Converts to a boolean (type must be boolean)",[],P),e=i(0,ne,"to number","Converts to a number (type must be number)",[],fe),e=i(0,ne,"to string","Converts to a string (type must be string)",[],je),e=i(0,ne,"to time","Converts and parses to a date time (type must be string)",[],W),(e=i(0,ne,"to collection","Converts to a collection of JsonBuilders (type must be array)",[],U.createInstance([ne]))).md_readsMutable(),e.md_arg("result").md_writesMutable(),e=i(0,ne,"serialize","Stringify the current JSON object",[],je),(e=i(38,ie,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,ie,"clone","Creates a deep copy clone of the object",[],ie),e=i(39,ie,"count","Gets the number of values",[],fe),e=i(109,ie,"at","Gets the i-th json value",[r("index",fe)],ie),e=i(5,ie,"boolean","Gets a field value as a boolean",[r("key",je)],P),e=i(6,ie,"contains key","Indicates if the key exists",[r("key",je)],P),e=i(1,ie,"time","Gets the field value as a time",[r("key",je)],W),e=i(308,ie,"field","Gets a value by name",[r("key",je)],ie),e=i(70,ie,"keys","Gets the list of keys",[],U.createInstance([je])),e=i(8,ie,"kind","Gets a json kind (string, number, object, array, boolean, null)",[],je),e=i(21,ie,"number","Gets a field value as a number",[r("key",je)],fe),e=i(135,ie,"string","Gets a field value as a string",[r("key",je)],je),(e=i(17,ie,"post to wall","Prints the value to the wall",[],o)).md_needsFrame(),(e=i(0,ie,"format","Create a string formatted for easy readability",[r("spaces",fe)],je)).md_arg("spaces").md_defl(2),e=i(5,ie,"to boolean","Converts to a boolean (type must be boolean)",[],P),e=i(38,ie,"to number","Converts to a number (type must be number)",[],fe),e=i(56,ie,"to string","Converts to a string (type must be string)",[],je),e=i(2,ie,"to time","Converts and parses to a date time (type must be string)",[],W),(e=i(0,ie,"to collection","Converts to a collection of JsonObjects (type must be array)",[],U.createInstance([ie]))).md_readsMutable(),e.md_arg("result").md_writesMutable(),e=i(0,ie,"serialize","Stringify the current JSON object",[],je),(e=i(0,ie,"to json builder","Copy current JSON object into a Json Builder so it can be modified",[],ne)).md_readsMutable(),e.md_arg("result").md_writesMutable(),e=i(24,re,"current language","Gets the current language code, to be used in the 'translate' method.",[],je),(e=i(3,re,"record text","Converts the microphone dictation to text.",[],je)).md_resumes(),e.md_uiAsync(),e.md_cap("speech"),e.md_flow("SourceMicrophone"),(e=i(28,re,"translate","Translates some text between two languages using Bing. Empty source language to auto-detect.",[r("source lang",je),r("target lang",je),r("text",je)],je)).md_resumes(),e.md_async(),e.md_cap("translation"),e.md_flow("SinkSafe"),e.md_arg("target lang").md_defl("fr"),e.md_arg("text").md_defl("hello"),(e=i(3,re,"detect language","Automatically detects the language of a given text using Bing.",[r("text",je)],je)).md_resumes(),e.md_async(),e.md_cap("translation"),e.md_flow("SinkSafe"),(e=i(94,re,"speak","This api was renamed. Use `speak_text` instead.",[r("lang",je),r("text",je)],Ne)).md_cap("translation"),e.md_flow("SinkSafe"),e.md_obsolete(),e.md_arg("result").md_writesMutable(),e.md_arg("lang").md_defl("en"),e.md_arg("text").md_defl(""),(e=i(0,re,"speak text","Speaks the text immediately using the text-to-speech engine on the device.",[r("voice language",je),r("voice gender",je),r("text",je)],o)).md_resumes(),e.md_async(),e.md_cap("speech"),e.md_arg("voice language").md_defl(""),e.md_arg("voice gender").md_deflStrings("female","male"),e.md_arg("text").md_defl(""),e.md_import("cordova","org.apache.cordova.speech.speechsynthesis"),(e=i(0,re,"speak ssml","Speaks the SSML markup immediately using the text-to-speech engine on the device.",[r("ssml",Xe)],o)).md_resumes(),e.md_async(),e.md_cap("speech"),e.md_import("cordova","org.apache.cordova.speech.speechsynthesis"),(e=i(3,oe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(4,oe,"name","Gets the name if any",[],je)).md_readsMutable(),(e=i(0,oe,"set name","Sets the name",[r("name",je)],o)).md_writesMutable(),(e=i(2,oe,"location","Gets the location if any",[],ae)).md_readsMutable(),(e=i(1,oe,"set location","Sets the location",[r("location",ae)],o)).md_writesMutable(),(e=i(10,oe,"address","Gets the url",[],je)).md_readsMutable(),(e=i(0,oe,"to picture","Gets a picture pointing to this address. Only applies to `image` link kinds.",[],we)).md_readsMutable(),e=i(0,oe,"kind","Gets the kind of asset - media, image, email, phone number, hyperlink, deep zoom link, radio",[],je),(e=i(1,oe,"share","Shares the link (email, sms, facebook, social or '' to pick from a list)",[r("network",je)],o)).md_resumes(),e.md_flow("SinkSharing"),e.md_readsMutable(),e.md_uiAsync(),e.md_arg("network").md_defl("social"),(e=i(55,oe,"post to wall","Displays the link on the wall",[],o)).md_needsFrame(),e.md_flow("SinkWeb"),e.md_readsMutable(),(e=i(17,ae,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(11,ae,"to string","Converts to a string lat,long",[],je),e=i(29,ae,"latitude","Gets the latitude of the coordinate",[],fe),e=i(29,ae,"longitude","Gets the longitude of the coordinate",[],fe),e=i(7,ae,"altitude","Gets the altitude of the coordinate",[],fe),e=i(10,ae,"hor accuracy","Gets the horizontal accuracy of the coordinate",[],fe),e=i(10,ae,"vert accuracy","Gets the vertical accuracy of the coordinate",[],fe),e=i(4,ae,"speed","Gets the speed of the coordinate",[],fe),e=i(2,ae,"course","Gets the course of the coordinate",[],fe),e=i(1,ae,"equals","Indicates if this instance is equal to the other",[r("other",ae)],P),(e=i(1,ae,"share","Shares the location (email, sms, social or '' to pick from a list)",[r("network",je),r("message",je)],o)).md_resumes(),e.md_flow("SinkSharing"),e.md_uiAsync(),e.md_arg("network").md_defl("social"),e.md_arg("network").md_deflStrings("","email","sms","social"),e.md_arg("message").md_defl("Sent from TouchDevelop"),e=i(33,ae,"distance","Calculates the distance in meters",[r("other",ae)],fe),(e=i(13,ae,"post to wall","Displays the location in a map using Bing.",[],o)).md_needsFrame(),e.md_cap("maps"),e.md_flow("SinkSafe"),e=i(19,se,"create location","Creates a new geo coordinate location",[r("latitude",fe),r("longitude",fe)],ae),e=i(4,se,"create location list","Creates an empty list of locations",[],U.createInstance([ae])),(e=i(62,se,"describe location","Looks for an address near a location using Bing.",[r("location",ae)],je)).md_resumes(),e.md_async(),e.md_cap("maps"),e.md_flow("SinkSafe"),(e=i(172,se,"search location","Looks for the coordinate of an address using Bing.",[r("address",je),r("postal code",je),r("city",je),r("country",je)],ae)).md_resumes(),e.md_async(),e.md_cap("maps"),e.md_flow("SinkSafe"),(e=i(0,ce,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,ce,"on tap","Set the handler invoked when the pushpin is tapped",[r("body",a)],X)).md_ignoreReturnValue(),(e=i(0,ce,"location","Gets the pushpin geo location",[],ae)).md_readsMutable(),(e=i(0,ce,"set location","Sets the location of the pushpin",[r("loc",ae)],o)).md_writesMutable(),(e=i(0,ce,"set visible","Shows or hides the pushpin",[r("visible",P)],o)).md_writesMutable(),(e=i(0,le,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,le,"zoom","Gets the zoom level",[],fe)).md_readsMutable(),(e=i(15,le,"set zoom","Sets the zoom level from 1 (earth) to 21 (street)",[r("level",fe)],o)).md_writesMutable(),e.md_arg("level").md_defl(12),(e=i(0,le,"center","Gets the map center location",[],ae)).md_readsMutable(),(e=i(19,le,"set center","Sets the map center location",[r("center",ae)],o)).md_writesMutable(),(e=i(23,le,"add text","Adds a text pushpin on the map",[r("location",ae),r("text",je),r("background",H),r("foreground",H)],ce)).md_writesMutable(),e.md_ignoreReturnValue(),e.md_arg("background").md_deflExpr("colors->accent"),e.md_arg("foreground").md_deflExpr("colors->white"),(e=i(0,le,"add link","Adds a link pushpin on the map (ignored if the location if not set)",[r("link",oe),r("background",H),r("foreground",H)],ce)).md_cap("network"),e.md_flow("SinkWeb"),e.md_readsMutable(),e.md_writesMutable(),e.md_ignoreReturnValue(),e.md_arg("background").md_deflExpr("colors->accent"),e.md_arg("foreground").md_deflExpr("colors->white"),e.md_embedsLink("Map","Link"),(e=i(0,le,"add message","Adds a message pushpin on the map (ignored if the location is not set)",[r("msg",me),r("background",H),r("foreground",H)],ce)).md_cap("network"),e.md_flow("SinkWeb"),e.md_writesMutable(),e.md_ignoreReturnValue(),e.md_arg("background").md_deflExpr("colors->accent"),e.md_arg("foreground").md_deflExpr("colors->white"),e.md_embedsLink("Map","Message"),(e=i(5,le,"add picture","Adds a picture pushpin on the map",[r("location",ae),r("picture",we),r("background",H)],ce)).md_writesMutable(),e.md_ignoreReturnValue(),e.md_arg("background").md_deflExpr("colors->accent"),e.md_embedsLink("Map","Picture"),(e=i(4,le,"add place","Adds a place pushpin on the map (ignored if the location is not set)",[r("place",ke),r("background",H),r("foreground",H)],ce)).md_cap("network"),e.md_flow("SinkWeb"),e.md_writesMutable(),e.md_ignoreReturnValue(),e.md_arg("background").md_deflExpr("colors->accent"),e.md_arg("foreground").md_deflExpr("colors->white"),e.md_embedsLink("Map","Place"),(e=i(7,le,"add line","Adds a polyline that passes through various geocoordinates",[r("locations",U.createInstance([ae])),r("color",H),r("thickness",fe)],o)).md_writesMutable(),e.md_arg("locations").md_readsMutable(),e.md_arg("color").md_deflExpr("colors->accent"),e.md_arg("thickness").md_defl(6),(e=i(0,le,"fill region","Fills a region with a color",[r("locations",U.createInstance([ae])),r("fill",H),r("stroke",H),r("thickness",fe)],o)).md_writesMutable(),e.md_arg("locations").md_readsMutable(),e.md_arg("fill").md_deflExpr("colors->background"),e.md_arg("stroke").md_deflExpr("colors->foreground"),e.md_arg("thickness").md_defl(6),(e=i(1,le,"clear","Clears the lines, regions and pushpins",[],o)).md_writesMutable(),(e=i(3,le,"view pushpins","Changes the current zoom and center so that all the pushpins are visible. This method has no effect if the map is not posted on a the wall yet.",[],o)).md_writesMutable(),(e=i(34,le,"post to wall","Displays the map in the wall using Bing.",[],o)).md_needsFrame(),e.md_cap("maps"),e.md_flow("SinkSafe"),e.md_readsMutable(),(e=i(19,ue,"create map","Creates a Bing map. Use 'post to wall' to display it.",[],le)).md_cap("maps"),e.md_arg("result").md_writesMutable(),(e=i(18,ue,"create full map","Creates a full screen Bing map. Use 'post to wall' to display it.",[],le)).md_cap("maps"),e.md_arg("result").md_writesMutable(),(e=i(13,ue,"directions","Calculates the directions between two coordinates using Bing.",[r("from",ae),r("to",ae),r("walking",P)],U.createInstance([ae]))).md_resumes(),e.md_async(),e.md_cap("maps"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),e.md_arg("from").md_deflExpr("senses->current_location"),e.md_arg("walking").md_defl(!0),(e=i(12,ue,"open directions","Shows the directions in the Bing map application. If search term is provided, location is ignored.Provide search term or location for start and end.",[r("start search",je),r("start loc",ae),r("end search",je),r("end loc",ae)],o)).md_resumes(),e.md_arg("start search").md_defl(""),e.md_arg("start loc").md_deflExpr("senses->current_location"),e.md_arg("end search").md_defl(""),e.md_uiAsync(),(e=i(4,ue,"open map","Opens the Bing map application. zoom between 0 (close) and 1 (far).",[r("center",ae),r("search",je),r("zoom",fe)],o)).md_resumes(),e.md_arg("center").md_deflExpr("senses->current_location"),e.md_arg("search").md_defl(""),e.md_arg("zoom").md_defl(.6),e.md_uiAsync(),(e=i(0,de,"map range","Maps an integer value from one range to another. Does not contrain the value.",[r("x",fe),r("in min",fe),r("in max",fe),r("out min",fe),r("out max",fe)],fe)).md_arg("result").md_writesMutable(),e.md_arg("in max").md_defl(1023),e.md_arg("out max").md_defl(4),(e=i(0,de,"create matrix","Creates a matrix of zeros of a given size",[r("rows",fe),r("columns",fe)],pe)).md_arg("result").md_writesMutable(),e.md_arg("rows").md_defl(3),e.md_arg("columns").md_defl(3),e=i(32,de,"ceiling","Returns the smallest integral value greater than or equal to the specified number",[r("x",fe)],fe),e=i(406,de,"floor","Returns the largest integer less than or equal to the specified number",[r("x",fe)],fe),e=i(135,de,"pow","Returns a specified number raised to the specified power",[r("x",fe),r("y",fe)],fe),(e=i(0,de,"random range","Returns a random integral number between `min` and `max` included.",[r("min",fe),r("max",fe)],fe)).md_tandre(),e.md_arg("min").md_defl(-100),e.md_arg("max").md_defl(100),(e=i(825,de,"random","Returns a random integral number bounded between limit and 0, not including limit unless it is 0",[r("limit",fe)],fe)).md_tandre(),e.md_arg("limit").md_defl(2),e.md_oldName("rand"),(e=i(65,de,"random normalized","Returns a random floating-point number x: 0 ≤ x < 1",[],fe)).md_tandre(),(e=i(17,de,"rand norm","Renamed to 'random normalized'",[],fe)).md_hidden(),e.md_tandre(),e=i(0,de,"div","Returns the result of integer division of one number by another number",[r("x",fe),r("y",fe)],fe),e=i(294,de,"mod","Returns the modulus resulting from the division of one number by another number",[r("x",fe),r("y",fe)],fe),e=i(318,de,"abs","Returns the absolute value of a number",[r("x",fe)],fe),e=i(17,de,"acos","Returns the angle whose cosine is the specified number",[r("x",fe)],fe),e=i(35,de,"asin","Returns the angle whose sine is the specified number",[r("x",fe)],fe),e=i(25,de,"atan","Returns the angle whose tangent is the specified number",[r("x",fe)],fe),e=i(35,de,"atan2","Returns the angle whose tangent is the quotient of two specified numbers",[r("y",fe),r("x",fe)],fe),e=i(252,de,"cos","Returns the cosine of the specified angle (in radians)",[r("angle",fe)],fe),e=i(0,de,"e","Returns the natural logarithmic base, specified by the constant, e",[],fe),e=i(75,de,"exp","Returns e raised to the specified power",[r("x",fe)],fe),e=i(3,de,"log","Returns the logarithm of a specified number in a specified base",[r("x",fe),r("base",fe)],fe),e=i(102,de,"loge","Returns the natural (base e) logarithm of a specified number",[r("x",fe)],fe),e=i(19,de,"log10","Returns the base 10 logarithm of a specified number",[r("x",fe)],fe),e=i(72,de,"max","Returns the larger of two numbers",[r("x",fe),r("y",fe)],fe),e=i(38,de,"min","Returns the smaller of two numbers",[r("x",fe),r("y",fe)],fe),(e=i(187,de,"π","Returns the Pi constant",[],fe)).md_jsName("pi"),e=i(0,de,"gravity","Returns the gravity constant (9.80665)",[],fe),e=i(212,de,"round","Rounds a number to the nearest integral value",[r("x",fe)],fe);e=i(75,de,"sign","Returns a value indicating the sign of a number",[r("x",fe)],fe),e=i(246,de,"sin","Returns the sine of the specified angle (in radians)",[r("angle",fe)],fe),e=i(248,de,"sqrt","Returns the square root of a specified number",[r("x",fe)],fe),e=i(30,de,"tan","Returns the tangent of the specified angle (in radians)",[r("angle",fe)],fe),e=i(73,de,"deg to rad","Converts degrees into radians",[r("degrees",fe)],fe),e=i(19,de,"rad to deg","Converts rad into degrees",[r("radians",fe)],fe),(e=i(3,de,"∞₊","Returns the positive infinity",[],fe)).md_jsName("pos_inf"),(e=i(0,de,"∞₋","Returns the negative infinity",[],fe)).md_jsName("neg_inf"),(e=i(19,de,"is ∞","Indicates whether number evaluates to negative or positive infinity",[r("x",fe)],P)).md_jsName("is_inf"),(e=i(0,de,"is ∞₊","Indicates whether number evaluates to positive infinity",[r("x",fe)],P)).md_jsName("is_pos_inf"),(e=i(0,de,"is ∞₋","Indicates whether number evaluates to negative infinity",[r("x",fe)],P)).md_jsName("is_neg_inf"),e=i(35,de,"is nan","Indicates that value cannot be represented as a number, i.e. Not-a-Number. This usually happens when the number is the result of a division by zero.",[r("x",fe)],P),(e=i(114,de,"round with precision","Rounds a number to a specified number of fractional digits.",[r("x",fe),r("digits",fe)],fe)).md_arg("digits").md_defl(2),e=i(0,de,"cosh","Returns the hyperbolic cosine of the specified angle (in radians)",[r("angle",fe)],fe),e=i(0,de,"sinh","Returns the hyperbolic sine of the specified angle (in radians)",[r("angle",fe)],fe),e=i(0,de,"tanh","Returns the hyperbolic tangent of the specified angle (in radians)",[r("angle",fe)],fe),(e=i(54,de,"create number map","Use Collections->create number map instead.",[],ge)).md_hidden(),e.md_arg("result").md_writesMutable(),e=i(101,de,"create vector3","Creates a 3D vector",[r("x",fe),r("y",fe),r("z",fe)],Ve),(e=i(0,de,"ε","Returns the machine epsilon, the smallest positive number greater than zero.",[],fe)).md_jsName("epsilon"),e=i(0,de,"clamp","Clamps `value` between `min` and `max`",[r("min",fe),r("max",fe),r("value",fe)],fe),e=i(0,de,"normalize","Clamps `value` between 0 and 1.",[r("value",fe)],fe),e=i(9,de,"ieee remainder","Returns the remainder resulting from the division of a specified number by another specified number",[r("x",fe),r("y",fe)],fe),e=i(0,de,"range","Return numbers between `start` and `start + length - 1` inclusively",[r("start",fe),r("length",fe)],U.createInstance([fe])),(e=i(0,pe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,pe,"count","Gets the total number of elements",[],fe)).md_readsMutable(),(e=i(0,pe,"row count","Gets the number of rows",[],fe)).md_readsMutable(),(e=i(0,pe,"column count","Gets the number of columns",[],fe)).md_readsMutable(),(e=i(0,pe,"post to wall","Displays the value of the array on the wall",[],o)).md_needsFrame(),(e=i(0,pe,"copy from","Copies the content from ``other`` starting at position ``row`` and ``column``",[r("row",fe),r("column",fe),r("other",pe)],o)).md_writesMutable(),(e=i(0,pe,"at","Gets the value at a given index. Elements are ordered line by line starting top left.",[r("index",fe)],fe)).md_readsMutable(),(e=i(0,pe,"set at","Sets the value at a given index. Elements are ordered line by line starting top left.",[r("index",fe),r("value",fe)],o)).md_writesMutable(),(e=i(0,pe,"item","Gets the value at a given location. Returns invalid if outside of the array dimensions",[r("row",fe),r("column",fe)],fe)).md_readsMutable(),(e=i(0,pe,"set item","Sets the value at a particular position. The matrix  will be expanded if the position falls outside the boundaries.",[r("row",fe),r("column",fe),r("value",fe)],o)).md_writesMutable(),(e=i(0,pe,"clone","Creates a deep copy of the matrix.",[],pe)).md_readsMutable(),(e=i(0,pe,"min","Computes the minimum of the values",[],fe)).md_readsMutable(),(e=i(0,pe,"max","Computes the maximum of the values",[],fe)).md_readsMutable(),(e=i(0,pe,"scale","Returns a copy of the matrix scaled by factor.",[r("factor",fe)],pe)).md_readsMutable(),(e=i(0,pe,"negate","Returns the matrix negated.",[],pe)).md_readsMutable(),(e=i(0,pe,"transpose","Returns the transposed matrix.",[],pe)).md_readsMutable(),(e=i(0,pe,"add","Returns a matrix resulting from adding this matrix to b. The size of both matrices must match.",[r("b",pe)],pe)).md_readsMutable(),(e=i(0,pe,"subtract","Returns a matrix resulting from subtracting b from this matrix. The size of both matrices must match.",[r("b",pe)],pe)).md_readsMutable(),(e=i(0,pe,"multiply","Returns a matrix resulting from multiply each element in the matrices. The size of both matrices must match.",[r("b",pe)],pe)).md_readsMutable(),(e=i(0,pe,"to string","Gets the string representation of the matrix",[],je)).md_readsMutable(),(e=i(0,pe,"random","Gets a random element. Returns invalid if the matrix is empty.",[],fe)).md_tandre(),e.md_readsMutable(),(e=i(0,pe,"clear","Sets all the element of the matrix to the value.",[r("value",fe)],o)).md_writesMutable(),(e=i(0,he,"tone","Plays a monotone sine wave",[r("frequency",fe),r("gain",fe)],o)).md_arg("gain").md_defl(1),e.md_arg("frequency").md_defl(440),(e=i(0,he,"play note","Plays a monotone note",[r("frequency",fe),r("gain",fe),r("seconds",fe)],o)).md_resumes(),e.md_arg("gain").md_defl(1),e.md_arg("frequency").md_defl(440),e.md_arg("seconds").md_defl(1),e.md_async(),(e=i(378,he,"create picture","Creates a new picture of the given size",[r("width",fe),r("height",fe)],we)).md_arg("result").md_writesMutable(),e.md_arg("width").md_defl(480),e.md_arg("height").md_defl(800),(e=i(58,he,"choose picture","Chooses a picture from the media library",[],we)).md_resumes(),e.md_flow("SourcePicture"),e.md_uiAsync(),e.md_import("cordova","cordova-plugin-camera"),(e=i(729,he,"create board","Creates a new game board",[r("height",fe)],E)).md_needsFrame(),e.md_timestamp(),e.md_arg("result").md_writesMutable(),e.md_arg("height").md_defl(640),(e=i(225,he,"create full board","Creates a new game board in portrait mode. On rotatable devices it will take the entire screen when posted.",[],E)).md_needsFrame(),e.md_obsolete(),e.md_timestamp(),e.md_arg("result").md_writesMutable(),(e=i(46,he,"create portrait board","Creates a new game board in portrait mode. On rotatable devices it will take the entire screen when posted.",[r("width",fe),r("height",fe)],E)).md_needsFrame(),e.md_arg("result").md_writesMutable(),e.md_arg("width").md_defl(480),e.md_arg("height").md_defl(800),(e=i(56,he,"create landscape board","Creates a new game board in landscape mode. On rotatable devices it will take the entire screen when posted.",[r("width",fe),r("height",fe)],E)).md_needsFrame(),e.md_arg("result").md_writesMutable(),e.md_arg("width").md_defl(800),e.md_arg("height").md_defl(480),(e=i(3,he,"icon names","Gets the list of built-in 48x48 icon names. You can see the icon list in the script settings.",[],U.createInstance([je]))).md_hidden(),e.md_cap("editoronly"),(e=i(72,he,"icon","Gets a 48x48 icon picture. Use 'media->icon names' to retrieve the list of names available.",[r("name",je)],we)).md_hidden(),e.md_cap("editoronly"),(e=i(175,he,"large icon","Gets a 96x96 icon picture. Use 'media->icon names' to retrieve the list of names available.",[r("name",je)],we)).md_hidden(),e.md_cap("editoronly"),(e=i(0,me,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(4,me,"title","Gets the title text",[],je)).md_readsMutable(),(e=i(8,me,"set title","Sets the title text",[r("title",je)],o)).md_writesMutable(),(e=i(4,me,"message","Gets the message text",[],je)).md_readsMutable(),(e=i(1,me,"set message","Sets the message text",[r("message",je)],o)).md_writesMutable(),(e=i(0,me,"id","Gets the message identifier",[],je)).md_readsMutable(),(e=i(0,me,"set id","Sets the message identifier",[r("value",je)],o)).md_writesMutable(),(e=i(2,me,"from","Gets the author",[],je)).md_readsMutable(),(e=i(6,me,"set from","Sets the author",[r("author",je)],o)).md_writesMutable(),(e=i(2,me,"to","Gets the recipient",[],je)).md_readsMutable(),(e=i(4,me,"set to","Sets the recipient",[r("author",je)],o)).md_writesMutable(),(e=i(2,me,"picture link","Gets a url to the picture",[],je)).md_readsMutable(),(e=i(4,me,"set picture link","Sets the url to the picture",[r("url",je)],o)).md_writesMutable(),(e=i(5,me,"link","Gets the link associated to the message",[],je)).md_readsMutable(),(e=i(4,me,"set link","Sets the link associated to the message",[r("url",je)],o)).md_writesMutable(),(e=i(0,me,"media link","Gets a url to the media",[],je)).md_readsMutable(),(e=i(1,me,"set media link","Sets the url to the media",[r("url",je)],o)).md_writesMutable(),(e=i(0,me,"location","Gets the geo coordinates",[],ae)).md_readsMutable(),(e=i(1,me,"set location","Sets the geo coordinates",[r("location",ae)],o)).md_writesMutable(),(e=i(4,me,"time","Gets the time",[],W)).md_readsMutable(),(e=i(7,me,"set time","Sets the time",[r("time",W)],o)).md_writesMutable(),(e=i(0,me,"source","Gets the source of this message (Facebook, Twitter, etc...)",[],je)).md_readsMutable(),(e=i(6,me,"set source","Sets the source of this message",[r("source",je)],o)).md_writesMutable(),(e=i(5,me,"share","Shares this message (email, sms, facebook, social or '' to pick from a list)",[r("network",je)],o)).md_resumes(),e.md_flow("SinkSharing"),e.md_readsMutable(),e.md_arg("network").md_defl("social"),e.md_uiAsync(),(e=i(1,me,"values","Gets the additional values stored in the message",[],Be)).md_readsMutable(),(e=i(6,me,"post to wall","Posts the message to the wall",[],o)).md_needsFrame(),e.md_flow("SinkWeb"),e.md_readsMutable(),(e=i(110,fe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(1311,fe,"to string","Converts a number to a string",[],je),(e=i(57,fe,"post to wall","Prints the number to the wall",[],o)).md_needsFrame(),e=i(57,fe,"to character","Interprets a number as a unicode value and converts it to the single character string",[],je),e=i(5,fe,"to color","Interprets the number as a ARGB (alpha, red, green, blue) color",[],H),e=i(0,fe,"to json","Converts the value into a json data structure.",[],ie),(e=i(6862,fe,"+","Adds numbers",[r("other",fe)],fe)).md_infixPriority(10),e.md_inlineApply("+"),e.md_jsName("add"),(e=i(6795,fe,"-","Subtracts numbers",[r("other",fe)],fe)).md_infixPriority(10),e.md_inlineApply("-"),e.md_jsName("subtract"),(e=i(5659,fe,"*","Multiplies numbers",[r("other",fe)],fe)).md_infixPriority(20),e.md_inlineApply("*"),e.md_jsName("multiply"),(e=i(4062,fe,"/","Divides numbers",[r("other",fe)],fe)).md_infixPriority(20),e.md_inlineApply("/"),e.md_jsName("divide"),(e=i(3668,fe,"=","Compares numbers for equality",[r("other",fe)],P)).md_infixPriority(5),e.md_inlineApply("==="),e.md_jsName("eq"),(e=i(354,fe,"≠","Compares numbers for disequality",[r("other",fe)],P)).md_infixPriority(5),e.md_inlineApply("!=="),e.md_jsName("neq"),(e=i(420,fe,"≤","Compares numbers for less or equal",[r("other",fe)],P)).md_infixPriority(5),e.md_inlineApply("<="),e.md_jsName("le"),(e=i(1592,fe,"<","Compares numbers for less",[r("other",fe)],P)).md_infixPriority(5),e.md_inlineApply("<"),e.md_jsName("lt"),(e=i(568,fe,"≥","Compares numbers for more or equal",[r("other",fe)],P)).md_infixPriority(5),e.md_inlineApply(">="),e.md_jsName("ge"),(e=i(1685,fe,">","Compares numbers for more",[r("other",fe)],P)).md_infixPriority(5),e.md_inlineApply(">"),e.md_jsName("gt"),(e=i(26,ge,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(147,ge,"count","Gets the number of elements",[],fe)).md_readsMutable(),e=i(0,ge,"clear","Clears the number map.",[],o),(e=i(5,ge,"sum","Computes the sum of the values",[],fe)).md_readsMutable(),(e=i(3,ge,"avg","Computes the average of the values",[],fe)).md_readsMutable(),(e=i(2,ge,"slice","Extracts the elements at indices between start (inclusive) and end (non-inclusive).",[r("start",fe),r("end",fe)],ge)).md_readsMutable(),e.md_arg("result").md_writesMutable(),(e=i(5,ge,"min","Computes the minimum of the values",[],fe)).md_readsMutable(),(e=i(9,ge,"max","Computes the maximum of the values",[],fe)).md_readsMutable(),(e=i(1017,ge,"at","Gets the element at index. Index may be any floating-point value.",[r("index",fe)],fe)).md_readsMutable(),(e=i(792,ge,"set at","Sets the element at index. Index may be any floating-point value.",[r("index",fe),r("value",fe)],o)).md_writesMutable(),(e=i(1,ge,"set many","Sets many elements at once.",[r("numbers",ge)],o)).md_writesMutable(),e.md_arg("numbers").md_readsMutable(),e=i(0,ge,"remove","Removes the value at a given index",[r("index",fe)],o),(e=i(0,ge,"update on wall","Updates any display of this map",[],o)).md_readsMutable(),(e=i(0,ge,"to json","Exports a JSON representation of the contents.",[],ie)).md_readsMutable(),(e=i(0,ge,"from json","Imports a JSON representation of the contents.",[r("jobj",ie)],o)).md_writesMutable(),(e=i(36,ge,"post to wall","Displays the map in a line chart; you need to call 'update on wall' later if you want changes to be reflected.",[],o)).md_needsFrame(),e.md_readsMutable(),(e=i(0,ve,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,ve,"access token","The access token issued by the authorization server.",[],je),e=i(0,ve,"expires in","(Optional) The lifetime in seconds of the access token.",[],fe),e=i(0,ve,"scope","(Optional) Optional if identical to the scope requested by the client; otherwise, the scope of the access token as described by Section 3.3 of the OAuth 2.0 specification.",[],je),e=i(0,ve,"error","A single ASCII [USASCII] error code.",[],je),e=i(0,ve,"error description","(Optional) A human readable error code.",[],je),e=i(0,ve,"error uri","(Optional) A URI identifying a human-readable web page with information about the error, used to provide the client developer with additional information about the error.",[],je),e=i(0,ve,"others","(Optional) Additional key-value pairs not covered by the OAuth 2.0 specification.",[],Be),(e=i(0,ve,"is expiring","(Optional) Indicates if the token might expire within the next seconds.",[r("seconds",fe)],P)).md_arg("seconds").md_defl(100),e=i(0,ve,"is error","Indicates if this response is an error.",[],P),(e=i(0,ve,"post to wall","Displays the response.",[],o)).md_needsFrame(),(e=i(4,ye,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,ye,"on navigated from","Sets a handler that runs when the page is popped.",[r("body",a)],X)).md_ignoreReturnValue(),e=i(41,ye,"equals","Gets a value indicating if the page is equal to the other",[r("other",ye)],P),(e=i(2,ye,"post to wall","Does nothing.",[],o)).md_hidden(),(e=i(0,be,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(1,be,"page","Gets the page hosting this button",[],ye),e=i(9,be,"equals","Gets a value indicating if both instances are equal",[r("page button",be)],P),(e=i(3,be,"post to wall","Pushes this button on the wall",[],o)).md_needsFrame(),(e=i(122,be,"icon","Gets the icon name",[],je)).md_readsMutable(),(e=i(172,be,"text","Gets the text",[],je)).md_readsMutable(),(e=i(22,_e,"dial phone number","Starts a phone call",[r("n",je)],o)).md_resumes(),e.md_flow("SinkSharing"),e.md_uiAsync(),(e=i(0,_e,"save phone number","Allows the user to save the phone number",[r("phone number",je)],o)).md_cap("contacts"),e.md_flow("SinkContacts"),(e=i(0,_e,"save contact","Obsolete, use social->save contact instead",[r("contact",V)],o)).md_obsolete(),e.md_cap("contacts"),e.md_flow("SinkContacts"),e.md_uiAsync(),(e=i(208,_e,"vibrate","Vibrates the phone for ... seconds (0.02 minimum)",[r("seconds",fe)],o)).md_arg("seconds").md_defl(.1),e.md_import("cordova","cordova-plugin-vibration"),(e=i(4,_e,"power source","Indicates if the phone is on 'battery' or 'external' power source.",[],je)).md_resumes(),e.md_quickAsync(),(e=i(124,we,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,we,"count","Gets the number of pixels",[],fe)).md_resumes(),e.md_readsMutable(),e.md_picAsync(),(e=i(16,we,"date","Gets the date time where the picture was taken; if any.",[],W)).md_resumes(),e.md_readsMutable(),e.md_picAsync(),(e=i(171,we,"height","Gets the height in pixels",[],fe)).md_resumes(),e.md_readsMutable(),e.md_picAsync(),e=i(0,we,"equals","Checks if the picture is the same instance as the other picture. This action does not check that pixels are the same between two different pictures.",[r("other picture",we)],P),(e=i(16,we,"is panorama","Indicates if the picture width is greater than its height",[],P)).md_resumes(),e.md_readsMutable(),e.md_picAsync(),(e=i(3,we,"location","Gets the location where the picture was taken; if any.",[],ae)).md_resumes(),e.md_flow("SourceGeoLocation"),e.md_readsMutable(),e.md_picAsync(),(e=i(206,we,"width","Gets the width in pixels",[],fe)).md_resumes(),e.md_readsMutable(),e.md_picAsync(),(e=i(44,we,"update on wall","Refreshes the picture on the wall",[],o)).md_readsMutable(),(e=i(4,we,"at","Gets the pixel color at the given linear index",[r("index",fe)],H)).md_resumes(),e.md_readsMutable(),e.md_picAsync(),(e=i(205,we,"blend","Writes another picture at a given location. The opacity ranges from 0 (transparent) to 1 (opaque).",[r("other",we),r("left",fe),r("top",fe),r("angle",fe),r("opacity",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("other").md_readsMutable(),e.md_arg("opacity").md_defl(1),e.md_picAsync(),(e=i(369,we,"clone","Returns a copy of the image",[],we)).md_resumes(),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_picAsync(),(e=i(228,we,"fill rect","Fills a rectangle with a given color",[r("left",fe),r("top",fe),r("width",fe),r("height",fe),r("angle",fe),r("color",H)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("width").md_defl(100),e.md_arg("height").md_defl(100),e.md_arg("angle").md_defl(0),e.md_arg("color").md_deflExpr("colors->accent"),e.md_picAsync(),(e=i(73,we,"pixel","Gets the pixel color",[r("left",fe),r("top",fe)],H)).md_resumes(),e.md_readsMutable(),e.md_picAsync(),(e=i(252,we,"resize","Resizes the picture to the given size in pixels",[r("width",fe),r("height",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("width").md_defl(100),e.md_arg("height").md_defl(-1),e.md_picAsync(),(e=i(77,we,"save to library","Saves the picture and returns the file name if successful.",[],je)).md_resumes(),e.md_flow("SinkMedia"),e.md_readsMutable(),e.md_ignoreReturnValue(),e.md_async(),(e=i(72,we,"clear","Clears the picture to a given color",[r("color",H)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("color").md_deflExpr("colors->transparent"),e.md_picAsync(),(e=i(0,we,"clear rect","Clears a rectangle on a the picture to a given color",[r("color",H),r("left",fe),r("top",fe),r("width",fe),r("height",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("color").md_deflExpr("colors->transparent"),e.md_arg("width").md_defl(10),e.md_arg("height").md_defl(10),e.md_picAsync(),(e=i(78,we,"colorize","Recolors the picture with the background and foreground color, based on a color threshold between 0.0 and 1.0",[r("background",H),r("foreground",H),r("threshold",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("background").md_deflExpr("colors->accent"),e.md_arg("foreground").md_deflExpr("colors->background"),e.md_arg("threshold").md_defl(.65),e.md_picAsync(),(e=i(0,we,"negative","Inverts the colors in the picture",[],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),(e=i(13,we,"desaturate","Makes picture monochromatic (black and white)",[],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),(e=i(19,we,"invert","Inverts the red, blue and green channels",[],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),(e=i(95,we,"tint","Converts every pixel to gray and tints it with the given color.",[r("color",H)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("color").md_deflExpr("colors->sepia"),e.md_picAsync(),(e=i(16,we,"brightness","Changes the brightness of the picture. factor in [-1, 1].",[r("factor",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("factor").md_defl(.05),e.md_picAsync(),(e=i(15,we,"contrast","Changes the contrast of the picture. factor in [-1, 1].",[r("factor",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("factor").md_defl(.05),e.md_picAsync(),(e=i(129,we,"crop","Crops a sub-image",[r("left",fe),r("top",fe),r("width",fe),r("height",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),(e=i(161,we,"draw ellipse","Draws an elliptic border with a given color",[r("left",fe),r("top",fe),r("width",fe),r("height",fe),r("angle",fe),r("c",H),r("thickness",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("width").md_defl(100),e.md_arg("height").md_defl(100),e.md_arg("angle").md_defl(0),e.md_arg("c").md_deflExpr("colors->accent"),e.md_arg("thickness").md_defl(3),e.md_picAsync(),(e=i(187,we,"draw line","Draws a line between two points",[r("x1",fe),r("y1",fe),r("x2",fe),r("y2",fe),r("color",H),r("thickness",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("color").md_deflExpr("colors->accent"),e.md_arg("thickness").md_defl(3),e.md_picAsync(),(e=i(72,we,"draw rect","Draws a rectangle border with a given color",[r("left",fe),r("top",fe),r("width",fe),r("height",fe),r("angle",fe),r("color",H),r("thickness",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("width").md_defl(100),e.md_arg("height").md_defl(100),e.md_arg("angle").md_defl(0),e.md_arg("color").md_deflExpr("colors->accent"),e.md_arg("thickness").md_defl(3),e.md_picAsync(),(e=i(465,we,"draw text","Draws some text border with a given color and font size",[r("left",fe),r("top",fe),r("text",je),r("font size",fe),r("angle",fe),r("color",H)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("font size").md_defl(16),e.md_arg("angle").md_defl(0),e.md_arg("color").md_deflExpr("colors->foreground"),e.md_picAsync(),(e=i(215,we,"fill ellipse","Fills a ellipse with a given color",[r("left",fe),r("top",fe),r("width",fe),r("height",fe),r("angle",fe),r("color",H)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("width").md_defl(100),e.md_arg("height").md_defl(100),e.md_arg("angle").md_defl(0),e.md_arg("color").md_deflExpr("colors->random"),e.md_picAsync(),(e=i(0,we,"draw path","Draws a path with a given color.",[r("left",fe),r("top",fe),r("angle",fe),r("color",H),r("thickness",fe),r("data",je)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("angle").md_defl(0),e.md_arg("color").md_deflExpr("colors->random"),e.md_picAsync(),(e=i(0,we,"fill path","Fills a path with a given color.",[r("left",fe),r("top",fe),r("angle",fe),r("color",H),r("data",je)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("angle").md_defl(0),e.md_arg("color").md_deflExpr("colors->random"),e.md_picAsync(),(e=i(62,we,"set pixel","Sets the pixel color at a given pixel",[r("left",fe),r("top",fe),r("color",H)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("color").md_deflExpr("colors->accent"),e.md_picAsync(),(e=i(0,we,"to buffer","Copy all pixels from the picture",[],j)).md_resumes(),e.md_allocates(),e.md_writesMutable(),e.md_picAsync(),(e=i(0,we,"write buffer","Copy pixels from `buffer` to the picture",[r("buffer",j)],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),(e=i(4,we,"share","Shares this message ('' to pick from a list)",[r("where",je),r("message",je)],o)).md_resumes(),e.md_flow("SinkSharing"),e.md_readsMutable(),e.md_uiAsync(),(e=i(23,we,"flip horizontal","Flips the picture horizontally",[],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),(e=i(17,we,"flip vertical","Flips the picture vertically",[],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),(e=i(0,we,"to data uri","Encodes the image into a data uri using the desired quality (1 best, 0 worst). If the quality value is 1, the image is encoded as PNG, otherwise JPEG.",[r("quality",fe)],je)).md_resumes(),e.md_async(),e.md_readsMutable(),e.md_arg("quality").md_defl(.85),e.md_picAsync(),(e=i(0,we,"blend svg","Writes an Scalable Vector Graphics (SVG) document at a given location. By default, this action uses the viewport size provided in the SVG document when width or height are negative.",[r("markup",je),r("left",fe),r("top",fe),r("width",fe),r("height",fe),r("angle",fe)],o)).md_resumes(),e.md_writesMutable(),e.md_arg("width").md_defl(-1),e.md_arg("height").md_defl(-1),e.md_picAsync(),e.md_import("npm","xmldom","0.1.*"),(e=i(296,we,"post to wall","Displays the image to the wall; you need to call 'update on wall' later if you want changes to be reflected.",[],o)).md_needsFrame(),e.md_readsMutable(),e.md_embedsLink("Wall","Picture"),(e=i(0,we,"docs render","Shows an art picture in the docs.",[r("height",fe),r("caption",je)],o)).md_docsOnly(),e=i(0,we,"readonly url","Get the web address of an art resource; invalid if not available.",[],je),(e=i(0,ke,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(11,ke,"location","Gets the location of the place",[],ae)).md_readsMutable(),(e=i(1,ke,"set location","Sets the location of the place",[r("location",ae)],o)).md_writesMutable(),(e=i(0,ke,"id","Gets the identifier of this place",[],je)).md_readsMutable(),(e=i(0,ke,"set id","Sets the identifier of this place",[r("id",je)],o)).md_writesMutable(),(e=i(14,ke,"name","Gets the name of the place",[],je)).md_readsMutable(),(e=i(1,ke,"set name","Sets the name of the place",[r("name",je)],o)).md_writesMutable(),(e=i(1,ke,"picture link","Gets a url to the picture",[],je)).md_readsMutable(),(e=i(1,ke,"set picture link","Sets the url to the picture",[r("url",je)],o)).md_writesMutable(),(e=i(0,ke,"link","Gets the link associated to the message",[],je)).md_readsMutable(),(e=i(1,ke,"set link","Sets the link associated to the place",[r("url",je)],o)).md_writesMutable(),(e=i(0,ke,"category","Gets the category of the place",[],je)).md_readsMutable(),(e=i(5,ke,"set category","Sets the category of the place",[r("category",je)],o)).md_writesMutable(),(e=i(0,ke,"source","Gets the source of this place",[],je)).md_readsMutable(),(e=i(0,ke,"set source","Sets the source of this place",[r("source",je)],o)).md_writesMutable(),(e=i(0,ke,"values","Gets the additional values stored in the place",[],Be)).md_readsMutable(),(e=i(0,ke,"to string","Converts to a string name,lat,long",[],je)).md_readsMutable(),(e=i(0,ke,"check in","Checks into the place (supported for Facebook)",[],o)).md_obsolete(),e.md_stub(),e.md_flow("SinkSharing"),e.md_readsMutable(),(e=i(2,ke,"post to wall","Posts the place to the wall",[],o)).md_needsFrame(),e.md_cap("maps","network"),e.md_flow("SinkWeb"),e.md_readsMutable(),(e=i(157,xe,"active song","Gets the active song if any",[],Ee)).md_resumes(),e.md_quickAsync(),e.md_readsMutable(),e.md_embedsLink("Player","Song"),(e=i(0,xe,"on active song changed","Attaches a handler when the active song changes",[r("body",a)],X)).md_ignoreReturnValue(),(e=i(0,xe,"on player state changed","Attaches a handler when the player state changes",[r("body",a)],X)).md_ignoreReturnValue(),(e=i(41,xe,"pause","Pauses the currently playing song",[],o)).md_cap("musicandsounds"),e.md_writesMutable(),(e=i(25,xe,"play","Plays a Song",[r("song",Ee)],o)).md_cap("musicandsounds"),e.md_writesMutable(),e.md_arg("song").md_readsMutable(),e.md_arg("song").md_writesMutable(),(e=i(19,xe,"play position","Gets the position in seconds whithin the active song",[],fe)).md_resumes(),e.md_readsMutable(),e.md_quickAsync(),(e=i(44,xe,"resume","Resumes a paused song",[],o)).md_cap("musicandsounds"),e.md_writesMutable(),(e=i(35,xe,"stop","Stops playing a song",[],o)).md_cap("musicandsounds"),e.md_writesMutable(),(e=i(12,xe,"is muted","Indicates if the player is muted",[],P)).md_resumes(),e.md_readsMutable(),e.md_quickAsync(),(e=i(0,xe,"sound volume","Gets the sound volume for sounds from 0 (silent) to 1 (current volume)",[],fe)).md_stub(),e.md_cap("media"),e.md_readsMutable(),(e=i(0,xe,"set sound volume","Sets the sound volume level from 0 (silent) to 1 (current volume)",[r("x",fe)],o)).md_stub(),e.md_cap("media"),(e=i(6,xe,"is repeating","Indicates if the player is repeating",[],P)).md_resumes(),e.md_readsMutable(),e.md_quickAsync(),(e=i(15,xe,"set repeating","Sets the repeating on and off",[r("repeating",P)],o)).md_resumes(),e.md_writesMutable(),e.md_quickAsync(),e.md_arg("repeating").md_defl(!0),(e=i(10,xe,"is shuffled","Indicates if the player is shuffled",[],P)).md_resumes(),e.md_readsMutable(),e.md_quickAsync(),(e=i(22,xe,"set shuffled","Sets the shuffling on and off",[r("shuffled",P)],o)).md_resumes(),e.md_writesMutable(),e.md_quickAsync(),e.md_arg("shuffled").md_defl(!0),(e=i(14,xe,"is stopped","Indicates if the player is stopped",[],P)).md_resumes(),e.md_readsMutable(),e.md_quickAsync(),(e=i(78,xe,"is playing","Indicates if the player is playing a song",[],P)).md_resumes(),e.md_readsMutable(),e.md_quickAsync(),(e=i(38,xe,"is paused","Indicates if the player is paused",[],P)).md_resumes(),e.md_readsMutable(),e.md_quickAsync(),(e=i(0,xe,"volume","Volume is no longer supported.",[],fe)).md_obsolete(),e.md_readsMutable(),(e=i(0,Se,"on shake","Attaches a handler to the `shake` event.",[r("body",a)],X)).md_ignoreReturnValue(),e.md_cap("accelerometer"),(e=i(0,Se,"on phone face up","Attaches a handler to the `phone face up` event.",[r("body",a)],X)).md_ignoreReturnValue(),e.md_cap("accelerometer"),(e=i(0,Se,"on phone face down","Attaches a handler to the `phone face down` event.",[r("body",a)],X)).md_ignoreReturnValue(),e.md_cap("accelerometer"),(e=i(0,Se,"on phone portrait","Attaches a handler to the `phone portrait` event.",[r("body",a)],X)).md_ignoreReturnValue(),e.md_cap("accelerometer"),(e=i(0,Se,"on phone landscape left","Attaches a handler to the `phone landscape left` event.",[r("body",a)],X)).md_ignoreReturnValue(),e.md_cap("accelerometer"),(e=i(0,Se,"on phone landscape right","Attaches a handler to the `phone landscape right` event.",[r("body",a)],X)).md_ignoreReturnValue(),e.md_cap("accelerometer"),(e=i(19,Se,"take camera picture","Takes a picture and returns it. This picture does not contain the gps location.",[],we)).md_resumes(),e.md_flow("SourceCamera"),e.md_uiAsync(),e.md_import("cordova","cordova-plugin-camera"),(e=i(40,Se,"record microphone","Records audio using the microphone",[],Ne)).md_resumes(),e.md_uiAsync(),e.md_cap("microphone"),e.md_flow("SourceMicrophone"),(e=i(5,Se,"is device stable","Indicates whether the device is 'stable' (no movement for about 0.5 seconds)",[],P)).md_resumes(),e.md_cap("accelerometer"),e.md_quickAsync(),e.md_tandre(),e=i(2,Se,"has accelerometer","Indicates if an accelerometer is available.",[],P),(e=i(5,Se,"acceleration stable","Gets filtered and temporally averaged accelerometer data using an arithmetic mean of the last 25 'optimally filtered' samples, so over 500ms at 50Hz on each axis, to virtually eliminate most sensor noise. This provides a very stable reading but it has also a very high latency and cannot be used for rapidly reacting UI.",[],Ve)).md_resumes(),e.md_cap("accelerometer"),e.md_quickAsync(),e.md_tandre(),(e=i(17,Se,"acceleration smooth","Gets filtered accelerometer data using a 1 Hz first-order low-pass on each axis to eliminate the main sensor noise while providing a medium latency. This can be used for moderately reacting UI updates requiring a very smooth signal.",[],Ve)).md_resumes(),e.md_cap("accelerometer"),e.md_quickAsync(),e.md_tandre(),(e=i(89,Se,"acceleration quick","Gets filtered accelerometer data using a combination of a low-pass and threshold triggered high-pass on each axis to eliminate the majority of the sensor low amplitude noise while trending very quickly to large offsets (not perfectly smooth signal in that case), providing a very low latency. This is ideal for quickly reacting UI updates.",[],Ve)).md_resumes(),e.md_cap("accelerometer"),e.md_quickAsync(),e.md_tandre(),e.md_allowInRestricted(),(e=i(109,Se,"current location","Gets the current approximate phone location. The phone optimizes the accuracy for power, performance, and other cost considerations.",[],ae)).md_resumes(),e.md_async(),e.md_cap("location"),e.md_flow("SourceGeoLocation"),e.md_tandre(),(e=i(39,Se,"current location accurate","Gets the current phone location with the most accuracy. This includes using services that might charge money, or consuming higher levels of battery power or connection bandwidth.",[],ae)).md_resumes(),e.md_async(),e.md_cap("location"),e.md_flow("SourceGeoLocation"),e.md_tandre(),(e=i(40,Se,"camera","Gets the primary camera if available",[],B)).md_resumes(),e.md_cap("camera"),e.md_quickAsync(),(e=i(0,Se,"front camera","Gets the front facing camera if available",[],B)).md_resumes(),e.md_cap("camera"),e.md_quickAsync(),(e=i(2,Se,"has front camera","Test if the senses→front camera is invalid instead",[],P)).md_resumes(),e.md_obsolete(),e.md_cap("camera"),e.md_quickAsync(),(e=i(2,Se,"has motion","Test if the senses→motion is invalid instead.",[],P)).md_obsolete(),e.md_stub(),e.md_cap("motion"),(e=i(0,Se,"orientation","Gets the current orientation in degrees if available. (x,y,z) is also called (pitch, roll, yaw) or (alpha, beta, gamma).",[],Ve)).md_resumes(),e.md_cap("orientation"),e.md_quickAsync(),(e=i(4,Se,"has compass","Test if the senses→heading is invalid instead",[],P)).md_obsolete(),e.md_cap("compass"),(e=i(26,Se,"heading","Gets the compass heading, in degrees, measured clockwise from the Earth’s geographic north.",[],fe)).md_resumes(),e.md_cap("compass"),e.md_quickAsync(),e.md_tandre(),e.md_allowInRestricted(),(e=i(2,Se,"has gyroscope","Indicates if the gyroscope is available on the device",[],P)).md_hidden(),e.md_cap("gyroscope"),(e=i(0,Se,"rotation speed","Gets the gyroscope rotational velocity around each axis of the device, in degrees per second.",[],Ve)).md_resumes(),e.md_cap("gyroscope"),e.md_quickAsync(),e.md_tandre(),(e=i(0,Se,"battery level","Gets the charge level of the battery between 0 (discharged) and 1 (fully charged). Returns invalid if this information is not available.",[],fe)).md_resumes(),e.md_quickAsync(),(e=i(0,Se,"is key pressed","Indicates if the specified key is pressed.",[r("key",je)],P)).md_needsFrame(),e.md_arg("key").md_deflStrings("space","a","w","s","d","enter","left","right","up","down"),(e=i(0,Se,"on key pressed","Attaches an event that triggers while the key is pressed. This event repeats while the key is down.",[r("key",je),r("body",a)],X)).md_needsFrame(),e.md_arg("key").md_deflStrings("space","a","w","s","d","enter","left","right","up","down"),e.md_ignoreReturnValue(),e=i(0,Se,"gamepads","Gets a snapshot of the gamepad states (if any connected to the browser). Empty if unsupported or no gamepad connected.",[],U.createInstance([Ae])),e=i(0,Se,"first gamepad","Gets the first connected gamepad available",[],Ae),(e=i(0,Ae,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,Ae,"equals","Indicates if the gamepad data are identical",[r("other",Ae)],P),(e=i(0,Ae,"post to wall","Displays the state of the gamepad on the wall",[],o)).md_needsFrame(),e=i(0,Ae,"id","Gets the gamepad identifier",[],je),e=i(0,Ae,"index","Gets the player index",[],fe),e=i(0,Ae,"timestamp","Gets the timestamp of this snapshot",[],fe),e=i(0,Ae,"is connected","Indicates if the gamepad is still connected.",[],P),(e=i(0,Ae,"is button pressed","Indicates if a button is pressed. Returns false if button missing.",[r("name",je)],P)).md_arg("name").md_deflStrings("a","b","x","y","left bumper","right bumper","left trigger","right trigger","back","start","left stick","right stick","up","down","left","right","home"),(e=i(0,Ae,"button value","Gets the pressed value of a button. Returns 0 if button missing.",[r("name",je)],fe)).md_arg("name").md_deflStrings("a","b","x","y","left bumper","right bumper","left trigger","right trigger","back","start","left stick","right stick","up","down","left","right","home"),(e=i(0,Ae,"axes","Gets the `x` and `y` value of the selected axes.",[r("name",je)],Ve)).md_arg("name").md_deflStrings("left stick","right stick"),(e=i(0,Te,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,Te,"response","Gets the associated response",[],Le),e=i(0,Te,"content","Reads the request body as a string",[],je),e=i(0,Te,"content as buffer","Reads the request body as a binary buffer",[],j),e=i(0,Te,"content as json","Reads the request body as a JSON tree",[],ie),e=i(0,Te,"method","Gets whether it was a 'get', 'post', 'put', 'delete', 'options', etc.",[],je),e=i(0,Te,"url","Gets the url of the request",[],je),(e=i(0,Te,"header","Gets the value of a given header",[r("name",je)],je)).md_readsMutable(),(e=i(0,Te,"query","Gets the value of a given query string parameter",[r("name",je)],je)).md_readsMutable(),e=i(0,Te,"equals","Indicates if both requests are the same instance.",[r("other",Te)],P),(e=i(0,Te,"post to wall","Displays the request to the wall",[],o)).md_needsFrame(),(e=i(0,Te,"header names","Gets the names of the headers",[],U.createInstance([je]))).md_readsMutable(),(e=i(0,Te,"query names","Gets the names of the query string parameters",[],U.createInstance([je]))).md_readsMutable(),(e=i(0,Te,"user","Get the user who sent this request",[],Ge)).md_dbgOnly(),(e=i(0,Le,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Le,"header","Gets the value of a given header",[r("name",je)],je)).md_readsMutable(),e=i(0,Le,"set header","Sets an HTTP header value. Empty string clears the value",[r("name",je),r("value",je)],o),e=i(0,Le,"request","Gets the request associated to this response",[],Te),e=i(0,Le,"status code","Gets the HTTP Status code of the response (defaults to 200)",[],fe),(e=i(0,Le,"set status code","Sets the HTTP Status code of the response (defaults to 200)",[r("code",fe)],o)).md_arg("code").md_defl(403),e=i(0,Le,"equals","Indicates if both responses are the same instance.",[r("other",Le)],P),(e=i(0,Le,"post to wall","Displays the request to the wall",[],o)).md_needsFrame(),(e=i(0,Le,"set content type","Sets the 'Content-Type' HTTP header; call after `->set_content...`",[r("type",je)],o)).md_arg("type").md_deflStrings("text/html","picture/jpeg","picture/png"),e=i(0,Le,"set content","Sets the content of the response",[r("content",je)],o),e=i(0,Le,"set content as json","Sets the content of the response as the JSON tree",[r("json",ie)],o),e=i(0,Le,"set content as buffer","Sets the content of the response as a binary buffer",[r("bytes",j)],o),(e=i(0,Le,"set content as xml","Sets the content of the response as the XML tree",[r("xml",Xe)],o)).md_import("npm","xmldom","0.1.*"),(e=i(0,Le,"header names","Gets the names of the headers",[],U.createInstance([je]))).md_readsMutable(),(e=i(12,Me,"send email","Opens the mail client",[r("to",je),r("subject",je),r("body",je)],o)).md_resumes(),e.md_flow("SinkSharing"),e.md_uiAsync(),(e=i(0,Me,"save email","Allows the user to save the email address (email)",[r("email address",je)],o)).md_cap("contacts"),e.md_flow("SinkContacts"),(e=i(0,Me,"save contact","Saves a new contact",[r("contact",V)],o)).md_cap("contacts"),e.md_flow("SinkContacts"),(e=i(25,Me,"send sms","Opens the short message client (to, body)",[r("to",je),r("body",je)],o)).md_resumes(),e.md_flow("SinkSharing"),e.md_uiAsync(),(e=i(0,Me,"link phone number","Creates a link from a phone number",[r("phone number",je)],oe)).md_arg("result").md_writesMutable(),(e=i(0,Me,"link email","Creates a link from an email",[r("email address",je)],oe)).md_arg("result").md_writesMutable(),(e=i(10,Me,"create message","Creates a message to share",[r("message",je)],me)).md_arg("result").md_writesMutable(),(e=i(13,Me,"create place","Creates a place",[r("name",je),r("location",ae)],ke)).md_arg("result").md_writesMutable(),(e=i(0,Me,"create contact","Creates a new contact",[r("nickname",je)],V)).md_arg("nickname").md_writesMutable(),e.md_arg("result").md_writesMutable(),(e=i(38,Ee,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(61,Ee,"artist","Gets the name of the artist",[],je)).md_resumes(),e.md_cachedAsync(),(e=i(32,Ee,"duration","Gets the duration in seconds",[],fe)).md_resumes(),e.md_cachedAsync(),(e=i(11,Ee,"genre","Gets the genre of the song",[],je)).md_resumes(),e.md_cachedAsync(),e=i(139,Ee,"name","Gets the name of the song",[],je),(e=i(5,Ee,"play count","Gets the play count",[],fe)).md_resumes(),e.md_cachedAsync(),e.md_readsMutable(),(e=i(1,Ee,"rating","Gets the users rating. -1 if not rated.",[],fe)).md_resumes(),e.md_cachedAsync(),(e=i(13,Ee,"track","Gets the track number in the album",[],fe)).md_resumes(),e.md_cachedAsync(),(e=i(87,Ee,"play","Plays the song.",[],o)).md_cap("musicandsounds"),(e=i(0,Ee,"protected","Gets a value whether the song is DRM protected",[],P)).md_stub(""),(e=i(66,Ee,"post to wall","Displays the song on the wall",[],o)).md_needsFrame(),(e=i(7,Ne,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Ne,"pan","Gets the panning, ranging from -1.0 (full left) to 1.0 (full right).",[],fe)).md_readsMutable(),(e=i(3,Ne,"set pan","Sets the panning, ranging from -1.0 (full left) to 1.0 (full right).",[r("pan",fe)],o)).md_writesMutable(),(e=i(0,Ne,"pitch","Gets the pitch adjustment, ranging from -1 (down one octave) to 1 (up one octave).",[],fe)).md_readsMutable(),(e=i(3,Ne,"set pitch","Sets the pitch adjustment, ranging from -1 (down one octave) to 1 (up one octave).",[r("pitch",fe)],o)).md_writesMutable(),(e=i(0,Ne,"volume","Gets the volume from 0 (silent) to 1 (full volume)",[],fe)).md_readsMutable(),(e=i(12,Ne,"set volume","Sets the volume from 0 (silent) to 1 (full volume).",[r("v",fe)],o)).md_writesMutable(),(e=i(20,Ne,"duration","Gets the duration in seconds.",[],fe)).md_resumes(),e.md_cachedAsync(),e.md_readsMutable(),(e=i(0,Ne,"pause","Not supported anymore",[],o)).md_obsolete(),e.md_writesMutable(),(e=i(191,Ne,"play","Plays the sound effect",[],o)).md_resumes(),e.md_cap("musicandsounds"),e.md_quickAsync(),e.md_readsMutable(),e.md_import("cordova","cordova-plugin-media"),(e=i(16,Ne,"play special","Plays the song with different volume (0 to 1), pitch (-1 to 1) and pan (-1 to 1).",[r("volume",fe),r("pitch",fe),r("pan",fe)],o)).md_resumes(),e.md_cap("musicandsounds"),e.md_quickAsync(),e.md_arg("volume").md_defl(1),e.md_import("cordova","cordova-plugin-media"),(e=i(26,Ne,"post to wall","Displays a player on the wall",[],o)).md_needsFrame(),e.md_readsMutable(),(e=i(0,Ne,"resume","Not supported anymore",[],o)).md_obsolete(),e.md_writesMutable(),(e=i(0,Ne,"state","Not supported anymore",[],je)).md_obsolete(),e.md_readsMutable(),(e=i(9,Ne,"stop","Not supported anymore",[],o)).md_obsolete(),e.md_writesMutable(),(e=i(0,De,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,De,"set stiffness","Sets the spring stiffness.",[r("stiffness",fe)],o),e=i(0,De,"delete","Deletes the spring",[],o),(e=i(63,Ie,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Ie,"friction","Gets the fraction of speed loss between 0 and 1",[],fe)).md_readsMutable(),(e=i(0,Ie,"set shadow","Sets the shadow information",[r("blur",fe),r("color",H),r("x offset",fe),r("y offset",fe)],o)).md_writesMutable(),e.md_arg("blur").md_defl(20),e.md_arg("x offset").md_defl(5),e.md_arg("y offset").md_defl(5),e.md_arg("color").md_deflExpr("colors->gray"),(e=i(334,Ie,"set friction","Sets the friction to a fraction of speed loss between 0 and 1",[r("friction",fe)],o)).md_writesMutable(),(e=i(0,Ie,"scale","Gets the scaling applied when rendering the sprite. This scaling does not influence the bounding box.",[],fe)).md_readsMutable(),(e=i(0,Ie,"set scale","Sets the scaling applied to the sprite on rendering. This scaling does not influence the bounding box.",[r("value",fe)],o)).md_writesMutable(),e.md_arg("value").md_defl(1),(e=i(20,Ie,"angular speed","Gets the rotation speed in degrees/sec",[],fe)).md_readsMutable(),(e=i(144,Ie,"set angular speed","Sets the rotation speed in degrees/sec",[r("speed",fe)],o)).md_writesMutable(),e=i(405,Ie,"height","Gets the height in pixels",[],fe),(e=i(0,Ie,"location","Gets the geo location assigned to the sprite",[],ae)).md_readsMutable(),(e=i(1,Ie,"set location","Sets the geo location of the sprite",[r("location",ae)],o)).md_cap("motion"),e.md_flow("SourceGeoLocation"),e.md_writesMutable(),(e=i(70,Ie,"angle","Gets the angle of the sprite in degrees",[],fe)).md_readsMutable(),(e=i(546,Ie,"set angle","Sets the angle of the sprite in degrees",[r("angle",fe)],o)).md_writesMutable(),(e=i(4,Ie,"elasticity","Gets the sprite elasticity as a fraction of speed preservation per bounce (0-1)",[],fe)).md_readsMutable(),(e=i(41,Ie,"set elasticity","Sets the sprite elasticity as a fraction of speed preservation per bounce (0-1)",[r("elasticity",fe)],o)).md_writesMutable(),(e=i(138,Ie,"speed x","Gets the speed along x in pixels/sec",[],fe)).md_readsMutable(),(e=i(166,Ie,"set speed x","Sets the x speed in pixels/sec",[r("vx",fe)],o)).md_writesMutable(),(e=i(120,Ie,"speed y","Gets the speed along y in pixels/sec",[],fe)).md_readsMutable(),(e=i(143,Ie,"set speed y","Sets the y speed in pixels/sec",[r("vy",fe)],o)).md_writesMutable(),e=i(394,Ie,"width","Gets the width in pixels",[],fe),(e=i(159,Ie,"set height","Sets the height in pixels",[r("height",fe)],o)).md_writesMutable(),(e=i(213,Ie,"set width","Sets the width in pixels",[r("width",fe)],o)).md_writesMutable(),(e=i(0,Ie,"top","Gets the top position in pixels",[],fe)).md_readsMutable(),(e=i(0,Ie,"set top","Sets the top position in pixels",[r("y",fe)],o)).md_writesMutable(),(e=i(0,Ie,"bottom","Gets the bottom position in pixels",[],fe)).md_readsMutable(),(e=i(0,Ie,"set bottom","Sets the bottom position in pixels",[r("y",fe)],o)).md_writesMutable(),(e=i(0,Ie,"right","Gets the right position in pixels",[],fe)).md_readsMutable(),(e=i(0,Ie,"set right","Sets the right position in pixels",[r("x",fe)],o)).md_writesMutable(),(e=i(0,Ie,"left","Gets the left position in pixels",[],fe)).md_readsMutable(),(e=i(0,Ie,"set left","Sets the left position in pixels",[r("x",fe)],o)).md_writesMutable(),(e=i(823,Ie,"x","Gets the center horizontal position of in pixels",[],fe)).md_readsMutable(),(e=i(468,Ie,"set x","Sets the center horizontal position in pixels",[r("x",fe)],o)).md_writesMutable(),(e=i(953,Ie,"y","Gets the y position in pixels",[],fe)).md_readsMutable(),(e=i(529,Ie,"set y","Sets the y position in pixels",[r("y",fe)],o)).md_writesMutable(),(e=i(267,Ie,"color","Returns the sprite color.",[],H)).md_readsMutable(),(e=i(2639,Ie,"set color","Sets the sprite color.",[r("color",H)],o)).md_writesMutable(),e.md_arg("color").md_deflExpr("colors->random"),e=i(66,Ie,"opacity","Gets the opacity (between 0 transparent and 1 opaque)",[],fe),(e=i(273,Ie,"set opacity","Sets the sprite opacity (between 0 transparent and 1 opaque).",[r("opacity",fe)],o)).md_writesMutable(),(e=i(0,Ie,"gradient","Gets the property that enables or disables gradients",[],P)).md_readsMutable(),(e=i(0,Ie,"set gradient","Sets gradient on or off",[r("value",P)],o)).md_writesMutable(),e=i(0,Ie,"sheet","Gets the associated sprite sheet",[],qe),(e=i(0,Ie,"set font size","Sets the font size in pixels of the sprite (for text sprites)",[r("size",fe)],o)).md_needsFrame(),e.md_writesMutable(),e.md_arg("size").md_defl(20),(e=i(0,Ie,"font size","Gets the font size in pixels (for text sprites)",[],fe)).md_readsMutable(),(e=i(0,Ie,"set text baseline","Sets the current text baseline used when drawing text (for text sprites)",[r("pos",je)],o)).md_needsFrame(),e.md_arg("pos").md_deflStrings("top","alphabetic","hanging","middle","ideographic","bottom"),e.md_writesMutable(),(e=i(0,Ie,"text baseline","Gets the current text baseline (for text sprites)",[],je)).md_readsMutable(),(e=i(0,Ie,"fit text","Fits the bounding box to the size of the text",[],o)).md_writesMutable(),(e=i(116,Ie,"text","The text on a text sprite (if it is a text sprite)",[],je)).md_readsMutable(),(e=i(1263,Ie,"set text","Updates text on a text sprite (if it is a text sprite)",[r("text",je)],o)).md_writesMutable(),(e=i(0,Ie,"background","Gets the background color",[],H)).md_readsMutable(),(e=i(0,Ie,"set background","Sets the background color",[r("c",H)],o)).md_writesMutable(),(e=i(0,Ie,"bubble","Gets the bubble sprite if any",[],Ie)).md_writesMutable(),(e=i(0,Ie,"set bubble","Sets the bubble sprite",[r("sprite",Ie)],o)).md_readsMutable(),(e=i(0,Ie,"say","Displays a text bubble attached to the sprite and returns the bubble sprite.",[r("text",je)],Ie)).md_ignoreReturnValue(),(e=i(7,Ie,"mass","Gets the mass",[],fe)).md_readsMutable(),(e=i(6,Ie,"set mass","Sets the sprite mass.",[r("mass",fe)],o)).md_writesMutable(),(e=i(0,Ie,"acceleration x","Gets the acceleration along x in pixels/sec^2",[],fe)).md_readsMutable(),(e=i(0,Ie,"acceleration y","Gets the acceleration along y in pixels/sec^2",[],fe)).md_readsMutable(),(e=i(3,Ie,"set acceleration x","Sets the x acceleration in pixels/sec^2",[r("x",fe)],o)).md_writesMutable(),(e=i(1,Ie,"set acceleration y","Sets the y acceleration in pixels/sec^2",[r("y",fe)],o)).md_writesMutable(),(e=i(3,Ie,"set acceleration","Sets the acceleration in pixels/sec^2",[r("x",fe),r("y",fe)],o)).md_writesMutable(),(e=i(0,Ie,"on tap","Set the handler invoked when the sprite is tapped",[r("tapped",u)],X)).md_ignoreReturnValue(),(e=i(0,Ie,"on swipe","Set the handler invoked when the sprite is swiped",[r("swiped",h)],X)).md_ignoreReturnValue(),(e=i(0,Ie,"on drag","Set the handler invoked when the sprite is dragged",[r("dragged",h)],X)).md_ignoreReturnValue(),(e=i(0,Ie,"on touch down","Set the handler invoked when the sprite is touched initially",[r("touch down",u)],X)).md_ignoreReturnValue(),(e=i(0,Ie,"on touch up","Set the handler invoked when the sprite touch is released",[r("touch up",u)],X)).md_ignoreReturnValue(),(e=i(0,Ie,"on every frame","Add an action that fires for every display frame",[r("body",a)],X)).md_needsFrame(),e.md_ignoreReturnValue(),(e=i(908,Ie,"hide","Hide sprite.",[],o)).md_writesMutable(),(e=i(117,Ie,"is visible","Returns true if sprite is not hidden",[],P)).md_readsMutable(),(e=i(245,Ie,"move","Moves sprite.",[r("delta x",fe),r("delta y",fe)],o)).md_writesMutable(),(e=i(23,Ie,"move towards","Moves sprite towards other sprite.",[r("other",Ie),r("fraction",fe)],o)).md_writesMutable(),e.md_arg("other").md_readsMutable(),e.md_arg("fraction").md_defl(1),(e=i(195,Ie,"overlaps with","Do the sprites overlap",[r("other",Ie)],P)).md_readsMutable(),e.md_arg("other").md_readsMutable(),(e=i(108,Ie,"overlap with","Returns the subset of sprites in the given set that overlap with sprite.",[r("sprites",Re)],Re)).md_readsMutable(),e.md_arg("sprites").md_readsMutable(),(e=i(23,Ie,"equals","Are these the same sprite",[r("other",Ie)],P)).md_readsMutable(),e.md_arg("other").md_readsMutable(),(e=i(111,Ie,"set picture","Updates picture on a picture sprite (if it is a picture sprite)",[r("pic",we)],o)).md_resumes(),e.md_writesMutable(),e.md_picAsync(),(e=i(12,Ie,"picture","The picture on a picture sprite (if it is a picture sprite)",[],we)).md_readsMutable(),(e=i(3599,Ie,"set pos","Sets the position in pixels",[r("x",fe),r("y",fe)],o)).md_writesMutable(),(e=i(258,Ie,"set speed","Sets the speed in pixels/sec",[r("vx",fe),r("vy",fe)],o)).md_writesMutable(),(e=i(473,Ie,"show","Show sprite.",[],o)).md_writesMutable(),(e=i(52,Ie,"speed towards","Sets sprite speed direction towards other sprite with given magnitude.",[r("other",Ie),r("magnitude",fe)],o)).md_writesMutable(),e.md_arg("other").md_readsMutable(),(e=i(19,Ie,"set clip","Sets the clipping area for an image sprite (if it is an image sprite)",[r("left",fe),r("top",fe),r("width",fe),r("height",fe)],o)).md_writesMutable(),e.md_arg("width").md_defl(48),e.md_arg("height").md_defl(48),(e=i(0,Ie,"move clip","Use `Sprite Sheet` instead.",[r("x",fe),r("y",fe)],o)).md_writesMutable(),e.md_obsolete(),e.md_arg("x").md_defl(48),(e=i(331,Ie,"delete","Delete sprite.",[],o)).md_writesMutable(),(e=i(0,Ie,"is deleted","True if sprite is deleted.",[],P)).md_readsMutable(),(e=i(23,Ie,"z index","Gets the z-index of the sprite",[],fe)).md_readsMutable(),(e=i(45,Ie,"set z index","Sets the z-index of the sprite",[r("zindex",fe)],o)).md_writesMutable(),e=i(0,Ie,"create animation","Starts a new tween animation.",[],Pe),(e=i(0,Pe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Pe,"time scale","Gets the current time scale factor",[],fe)).md_readsMutable(),(e=i(0,Pe,"set time scale","Sets the current time scale factor",[r("scale",fe)],o)).md_writesMutable(),e.md_arg("scale").md_defl(1),(e=i(0,Pe,"move to","Moves the sprite to a given location using separate easing for x and y",[r("duration",fe),r("easing",je),r("shape",je),r("x",fe),r("y",fe)],o)).md_writesMutable(),e.md_arg("duration").md_defl(1),e.md_arg("easing").md_deflStrings("cubic","linear","quadratic","expo","sine"),e.md_arg("shape").md_deflStrings("inout","out","in"),(e=i(0,Pe,"text","Changes the text of the sprite.",[r("duration",fe),r("easing",je),r("shape",je),r("value",je)],o)).md_arg("duration").md_defl(1),e.md_arg("easing").md_deflStrings("cubic","linear","quadratic","expo","sine"),e.md_arg("shape").md_deflStrings("inout","out","in"),(e=i(0,Pe,"color","Changes the color of the sprite",[r("duration",fe),r("easing",je),r("shape",je),r("c",H)],o)).md_arg("duration").md_defl(1),e.md_arg("easing").md_deflStrings("cubic","linear","quadratic","expo","sine"),e.md_arg("shape").md_deflStrings("inout","out","in"),(e=i(0,Pe,"beat","Creating a beating animation",[r("duration",fe),r("cycle",fe),r("value",fe)],o)).md_writesMutable(),e.md_arg("duration").md_defl(.3),e.md_arg("cycle").md_defl(2),e.md_arg("value").md_defl(1.1),(e=i(0,Pe,"scale","Scales the sprite",[r("duration",fe),r("easing",je),r("shape",je),r("value",fe)],o)).md_writesMutable(),e.md_arg("duration").md_defl(.5),e.md_arg("value").md_defl(1.2),e.md_arg("easing").md_deflStrings("sine","linear","quadratic","cubic","expo"),e.md_arg("shape").md_deflStrings("inout","out","in"),(e=i(0,Pe,"width","Modifies the sprite width",[r("duration",fe),r("easing",je),r("shape",je),r("value",fe)],o)).md_writesMutable(),e.md_arg("duration").md_defl(.5),e.md_arg("value").md_defl(100),e.md_arg("easing").md_deflStrings("sine","linear","quadratic","cubic","expo"),e.md_arg("shape").md_deflStrings("inout","out","in"),(e=i(0,Pe,"height","Modifies the sprite height",[r("duration",fe),r("easing",je),r("shape",je),r("value",fe)],o)).md_writesMutable(),e.md_arg("duration").md_defl(.5),e.md_arg("value").md_defl(100),e.md_arg("easing").md_deflStrings("sine","linear","quadratic","cubic","expo"),e.md_arg("shape").md_deflStrings("inout","out","in"),(e=i(0,Pe,"fork","Starts a new animation and continues with the current animation",[],Pe)).md_writesMutable(),(e=i(0,Pe,"wait","Waits till the animation completes. This action will evolve the board if needed.",[],o)).md_resumes(),e.md_async(),e=i(0,Pe,"wait for","Waits for the other animation to complete before proceding.",[r("animation",Pe)],o),(e=i(0,Pe,"stop","Stops this animation",[],o)).md_writesMutable(),(e=i(0,Pe,"repeat","Repeats the latest animation. Negative ``count`` makes infinite repetition. ``yoyo`` makes the animation repeat back and forth.",[r("count",fe),r("yoyo",P)],o)).md_writesMutable(),e.md_arg("count").md_defl(2),(e=i(0,Pe,"on start","Raised when the animation started playing",[r("body",a)],X)).md_ignoreReturnValue(),e.md_writesMutable(),(e=i(0,Pe,"on stop","Raised when the animation stopped playing",[r("body",a)],X)).md_ignoreReturnValue(),e.md_writesMutable(),(e=i(0,Pe,"sleep","Waits for a number of seconds",[r("duration",fe)],o)).md_arg("duration").md_defl(1),e.md_writesMutable(),(e=i(0,Pe,"fade in","Fades in to fully opaque",[r("duration",fe),r("easing",je)],o)).md_writesMutable(),e.md_arg("duration").md_defl(.5),e.md_arg("easing").md_deflStrings("cubic","linear","quadratic","expo","sine"),(e=i(0,Pe,"fade out","Fades out to transparent",[r("duration",fe),r("easing",je)],o)).md_writesMutable(),e.md_arg("duration").md_defl(.5),e.md_arg("easing").md_deflStrings("cubic","linear","quadratic","expo","sine"),(e=i(0,Pe,"fade","Changes the opacity of the sprite",[r("duration",fe),r("easing",je),r("shape",je),r("opacity",fe)],o)).md_writesMutable(),e.md_arg("duration").md_defl(.5),e.md_arg("easing").md_deflStrings("cubic","linear","quadratic","expo","sine"),e.md_arg("shape").md_deflStrings("inout","out","in"),(e=i(0,Pe,"puff out","Scales up and fades out an object",[r("duration",fe),r("easing",je),r("scale",fe)],o)).md_writesMutable(),e.md_arg("duration").md_defl(.5),e.md_arg("scale").md_defl(1.5),e.md_arg("easing").md_deflStrings("cubic","linear","quadratic","expo","sine"),(e=i(0,Pe,"hide","Hides the sprite",[],o)).md_writesMutable(),(e=i(0,Pe,"show","shows the sprite",[],o)).md_writesMutable(),(e=i(0,Pe,"delete","deletes the sprite",[],o)).md_writesMutable(),(e=i(0,Pe,"play sound","play sound",[r("sound",Ne)],o)).md_writesMutable(),e=i(0,Pe,"frame","Sets a different frame from the sprite sheet",[r("name",je)],o),(e=i(0,Pe,"play frames","Starts playing an animation from the sprite sheet, if any",[r("animation",je)],o)).md_writesMutable(),e.md_arg("animation").md_defl("all"),(e=i(0,Pe,"turn to","Rotates the sprite.",[r("duration",fe),r("easing",je),r("shape",je),r("angle",fe)],o)).md_writesMutable(),e.md_arg("duration").md_defl(1),e.md_arg("easing").md_deflStrings("expo","linear","quadratic","cubic","sine"),e.md_arg("shape").md_deflStrings("in","out","inout"),(e=i(0,Pe,"run","Calls a user handler during the animation. ``handler`` receives a number from 0 to 1 during the tweeining.",[r("duration",fe),r("easing",je),r("shape",je),r("handler",c)],o)).md_writesMutable(),e.md_arg("duration").md_defl(1),e.md_arg("easing").md_deflStrings("expo","linear","quadratic","cubic","sine"),e.md_arg("shape").md_deflStrings("in","out","inout"),e=i(0,Pe,"is active","Gets a value indicating if the animation is still running",[],P),(e=i(0,Pe,"post to wall","Describes the animation.",[],o)).md_needsFrame(),e.md_readsMutable(),(e=i(38,Re,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Re,"clear","Removes all sprites from the set.",[],o)).md_writesMutable(),(e=i(305,Re,"count","Returns the number of sprites in the set",[],fe)).md_readsMutable(),(e=i(1246,Re,"add","Add sprite to set. Returns true if sprite was not already in set.",[r("sprite",Ie)],P)).md_writesMutable(),e.md_ignoreReturnValue(),e.md_embedsLink("Sprite Set","Sprite"),(e=i(24,Re,"add from","Add sprite to set and remove from old set. Returns true if sprite was in old set and not in new set.",[r("old set",Re),r("sprite",Ie)],P)).md_writesMutable(),e.md_arg("old set").md_readsMutable(),e.md_arg("old set").md_writesMutable(),e.md_ignoreReturnValue(),e.md_embedsLink("Sprite Set","Sprite"),(e=i(116,Re,"remove","Remove sprite from set. Returns true if sprite was in set.",[r("sprite",Ie)],P)).md_writesMutable(),e.md_ignoreReturnValue(),(e=i(5,Re,"contains","Returns true if sprite is in set.",[r("sprite",Ie)],P)).md_readsMutable(),(e=i(22,Re,"remove first","Remove sprite that was added to set first.",[],Ie)).md_writesMutable(),e.md_ignoreReturnValue(),(e=i(52,Re,"index of","Returns index of sprite in this set or -1 if not in set.",[r("sprite",Ie)],fe)).md_readsMutable(),(e=i(1667,Re,"at","Return sprite at given index.",[r("index",fe)],Ie)).md_readsMutable(),(e=i(0,qe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,qe,"picture","Gets the picture associated to this sprite sheet.",[],we)).md_readsMutable(),(e=i(0,qe,"set frame","Sets the current frame displayed by sprite",[r("sprite",Ie),r("frame",je)],o)).md_writesMutable(),(e=i(0,qe,"create sprite","Creates a new sprite displaying the given frame.",[r("frame",je)],Ie)).md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_embedsLink("SpriteSheet","Sprite"),e.md_embedsLink("Sprite","Picture"),(e=i(0,qe,"set frame grid","Sets the frames as a rectangular grid. The tiles are numbered from top, left to bottom right starting at 0.",[r("rows",fe),r("columns",fe),r("frame width",fe),r("frame height",fe),r("margin left",fe),r("margin top",fe),r("spacing",fe)],o)).md_writesMutable(),e.md_arg("rows").md_defl(1),e.md_arg("columns").md_defl(1),(e=i(0,qe,"add frame","Defines a new frame in the sprite sheet",[r("name",je),r("x",fe),r("y",fe),r("width",fe),r("height",fe),r("rotated",P)],o)).md_writesMutable(),(e=i(0,qe,"add grid animation","Defines an animation as a continuous sequence of frames. The frame index starts at `1`.",[r("name",je),r("start",fe),r("count",fe),r("duration",fe),r("loops",fe),r("yoyo",P)],o)).md_writesMutable(),e.md_arg("loops").md_defl(1),e.md_arg("start").md_defl(1),e.md_arg("name").md_defl("all"),(e=i(0,qe,"add animation","Defines an animation as a custom sequence of frames.",[r("name",je),r("frames",U.createInstance([je])),r("duration",fe),r("loops",fe),r("yoyo",P)],o)).md_writesMutable(),e.md_arg("loops").md_defl(1),(e=i(0,qe,"post to wall","Displays the sprite sheet.",[],o)).md_needsFrame(),e.md_readsMutable(),e.md_embedsLink("Wall","Picture"),(e=i(182,je,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(409,je,"split","Returns a string collection that contains the substrings in this string that are delimited by elements of a specified string.",[r("separator",je)],U.createInstance([je]))).md_arg("separator").md_defl(","),e.md_arg("result").md_writesMutable(),e.md_robust(),(e=i(0,je,"trim overflow","Trims the string at the given length and adds ``...`` if necessary",[r("lim",fe)],je)).md_arg("lim").md_defl(140),(e=i(1438,je,"post to wall","Displays string on the wall",[],o)).md_needsFrame(),(e=i(534,je,"count","Returns the number of characters",[],fe)).md_robust(),e=i(0,je,"code at","Gets the charecter unicode value at a given index. Returns NaN if out of bounds",[r("index",fe)],fe),e=i(68,je,"at","Gets the character at a specified index. Returns invalid if out of bounds.",[r("index",fe)],je),(e=i(71,je,"to lower case","Returns a copy of this string converted to lowercase, using the casing rules of the current culture.",[],je)).md_robust(),(e=i(79,je,"to upper case","Returns a copy of this string converted to uppercase, using the casing rules of the current culture.",[],je)).md_robust(),(e=i(12,je,"to unicode","Use ``to_character_code`` instead",[],fe)).md_hidden(),e=i(0,je,"to character code","Converts the first character into the character code number (unicode)",[],fe),(e=i(2,je,"compare","Compares two pieces of text",[r("other",je)],fe)).md_robust(),(e=i(406,je,"concat","Concatenates two pieces of text",[r("other",je)],je)).md_robust(),(e=i(4627,je,"∥","Concatenates two pieces of text",[r("other",je)],je)).md_infixPriority(6),e.md_robust(),e.md_jsName("concat_op"),(e=i(281,je,"contains","Returns a value indicating if the second string is contained",[r("value",je)],P)).md_robust(),e.md_robust(),(e=i(3087,je,"equals","Checks if two strings are the same",[r("other",je)],P)).md_robust(),(e=i(45,je,"ends with","Determines whether the ending matches the specified string",[r("value",je)],P)).md_robust(),(e=i(155,je,"index of","Returns the index of the first occurence if found starting at a given position",[r("value",je),r("start",fe)],fe)).md_robust(),e=i(8,je,"insert","Inserts a string at a given position",[r("start",fe),r("value",je)],je),(e=i(265,je,"is empty","Indicates if the string is empty",[],P)).md_robust(),e=i(23,je,"is match regex","Indicates if the string matches a regular expression",[r("pattern",je)],P),(e=i(1,je,"last index of","Returns the index of the last occurence if found starting at a given position",[r("value",je),r("start",fe)],fe)).md_robust(),e=i(0,je,"match","Gets the groups from the matching the regex expression (pattern). Returns an empty collection if no matches.",[r("pattern",je)],U.createInstance([je])),e=i(19,je,"matches","Gets the strings matching the regex expression (pattern)",[r("pattern",je)],U.createInstance([je])),(e=i(19,je,"remove","Returns the string with characters removed starting at a given index",[r("start",fe)],je)).md_robust(),(e=i(208,je,"replace","Returns a given string with a replacement",[r("old",je),r("new",je)],je)).md_robust(),e=i(42,je,"replace regex","Replace every match of the regex according to the replacement string",[r("pattern",je),r("replace",je)],je),(e=i(0,je,"replace regex with converter","Run `replacer` on every match of the regex",[r("pattern",je),r("replace",x.createInstance([U.createInstance([je])]))],je)).md_needsFrame(),e=i(181,je,"starts with","Determines whether the beginning matches the specified string",[r("value",je)],P),e=i(419,je,"substring","Returns a substring given a start index and a length",[r("start",fe),r("length",fe)],je),(e=i(12,je,"trim","Removes all leading and trailing occurrences of a set of characters specified in a string from the current string.",[r("chars",je)],je)).md_arg("chars").md_defl(" \t"),e.md_robust(),(e=i(32,je,"trim start","Removes all leading occurrences of a set of characters specified in a string from the current string.",[r("chars",je)],je)).md_arg("chars").md_defl(" \t"),e.md_robust(),(e=i(6,je,"trim end","Removes all trailing occurrences of a set of characters specified in a string from the current string.",[r("chars",je)],je)).md_arg("chars").md_defl(" \t"),e.md_robust(),e=i(0,je,"to time","Parses the string as a time (12:30:12) and returns the number of seconds.",[],fe),e=i(248,je,"to number","Parses the string as a number",[],fe),e=i(2,je,"to boolean","Parses the string as a boolean",[],P),e=i(4,je,"to location","Parses the string as a geo coordinate.",[],ae),(e=i(9,je,"share","Shares the string (email, sms, facebook, social or '' to pick from a list)",[r("network",je)],o)).md_resumes(),e.md_uiAsync(),e.md_flow("SinkSharing"),e.md_arg("network").md_defl("social"),(e=i(28,je,"copy to clipboard","Stores text in the clipboard",[],o)).md_resumes(),e.md_flow("SinkClipboard"),e.md_uiAsync(),e=i(2,je,"to datetime","Parses the string as a date and time.",[],W),e=i(2,je,"to color","Parses the string as a color.",[],H),e=i(0,je,"to json","Converts the value into a json data structure.",[],ie),(e=i(8,Be,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(70,Be,"count","Gets the number of elements in the map",[],fe)).md_readsMutable(),(e=i(48,Be,"keys","Gets the keys in the map",[],U.createInstance([je]))).md_readsMutable(),(e=i(241,Be,"at","Gets the value at a given key; invalid if not found",[r("key",je)],je)).md_readsMutable(),(e=i(472,Be,"set at","Sets the value at a given key; invalid if not found",[r("key",je),r("value",je)],o)).md_writesMutable(),(e=i(0,Be,"to json","Exports a JSON representation of the contents.",[],ie)).md_readsMutable(),(e=i(0,Be,"from json","Imports a JSON representation of the contents.",[r("jobj",ie)],o)).md_writesMutable(),e=i(0,Be,"clear","Clears the values from the map",[],o),(e=i(5,Be,"set many","Sets many elements at once.",[r("strings",Be)],o)).md_writesMutable(),e.md_arg("strings").md_readsMutable(),e=i(6,Be,"remove","Removes the value at a given key",[r("key",je)],o),(e=i(6,Be,"post to wall","Displays the list of key,value pairs in a table",[],o)).md_needsFrame(),e.md_readsMutable(),(e=i(6,Oe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(138,Oe,"text","Gets the text",[],je)).md_readsMutable(),(e=i(58,Oe,"set text","Sets the text",[r("text",je)],o)).md_needsFrame(),e.md_writesMutable(),(e=i(6,Oe,"icon","Gets the icon picture (max 173x173)",[],we)).md_readsMutable(),(e=i(29,Oe,"set icon","Sets the icon picture (max 96 x 96)",[r("pic",we)],o)).md_needsFrame(),e.md_writesMutable(),e.md_embedsLink("TextBox","Picture"),(e=i(0,Oe,"font size","Gets the font size",[],fe)).md_readsMutable(),(e=i(4,Oe,"set font size","Sets the font size (small = 14, normal = 15, medium = 17, medium large = 19, large = 24, extra large = 32, extra extra large = 54, huge = 140",[r("size",fe)],o)).md_needsFrame(),e.md_writesMutable(),e.md_arg("size").md_defl(19),(e=i(1,Oe,"background","Gets the background color",[],H)).md_readsMutable(),(e=i(163,Oe,"set background","Sets the background color",[r("color",H)],o)).md_needsFrame(),e.md_writesMutable(),e.md_arg("color").md_deflExpr("colors->background"),(e=i(2,Oe,"foreground","Gets the foreground color",[],H)).md_readsMutable(),(e=i(101,Oe,"set foreground","Sets the foreground color",[r("color",H)],o)).md_needsFrame(),e.md_writesMutable(),e.md_arg("color").md_deflExpr("colors->foreground"),(e=i(0,Oe,"border","Gets the border color",[],H)).md_readsMutable(),(e=i(20,Oe,"set border","Sets the border color",[r("color",H)],o)).md_needsFrame(),e.md_writesMutable(),e.md_arg("color").md_deflExpr("colors->foreground"),(e=i(501,Oe,"post to wall","Posts the textbox to the wall",[],o)).md_needsFrame(),e.md_readsMutable(),(e=i(0,Ue,"on every frame","Attaches a handler to run on every time frame, roughly every 20ms.",[r("body",a)],X)).md_needsFrame(),e.md_writesMutable(),e.md_ignoreReturnValue(),(e=i(0,Ue,"run after","Starts a timer to run ``perform`` after ``seconds`` seconds.",[r("seconds",fe),r("body",a)],Fe)).md_needsFrame(),e.md_writesMutable(),e.md_ignoreReturnValue(),e.md_arg("seconds").md_defl(1),(e=i(0,Ue,"run every","Starts a timer to run ``perform`` every ``seconds`` seconds.",[r("seconds",fe),r("body",a)],Fe)).md_needsFrame(),e.md_writesMutable(),e.md_arg("seconds").md_defl(1),e.md_ignoreReturnValue(),(e=i(561,Ue,"sleep","Waits for a specified amount of seconds",[r("seconds",fe)],o)).md_resumes(),e.md_arg("seconds").md_defl(1),e.md_async(),(e=i(1392,Ue,"now","Gets the current time",[],W)).md_needsFrame(),e.md_tandre(),(e=i(58,Ue,"today","Gets today's date without time",[],W)).md_tandre(),(e=i(92,Ue,"tomorrow","Gets tomorrow's date without time",[],W)).md_tandre(),(e=i(17,Ue,"fail if not","Use `app->fail_if_not` instead.",[r("condition",P)],o)).md_arg("condition").md_defl(!0),e.md_obsolete(),(e=i(108,Ue,"stop","Use `app->stop` instead.",[],o)).md_resumes(),e.md_hidden(),(e=i(126,Ue,"log","Use `app->log` instead.",[r("message",je)],o)).md_hidden(),(e=i(81,Ue,"stop and close","Use `app->stop` instead.",[],o)).md_resumes(),e.md_hidden(),(e=i(93,Ue,"create","Creates a new date instance",[r("year",fe),r("month",fe),r("day",fe),r("hour",fe),r("minute",fe),r("second",fe)],W)).md_arg("year").md_defl(2e3),e.md_arg("month").md_defl(1),e.md_arg("day").md_defl(1),e.md_arg("hour").md_defl(12),(e=i(0,Fe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Fe,"clear","Clears the handlers and pauses the timer",[],o)).md_writesMutable(),(e=i(0,Fe,"on trigger","sets the action to perform when the timer fires",[r("body",a)],X)).md_writesMutable(),e.md_ignoreReturnValue(),e=i(0,Fe,"is active","is the timer active",[],P),e=i(0,Fe,"is interval","is this an interval timer that fires regularly",[],P),(e=i(0,Fe,"set interval","set the regular interval in seconds at which this timer fires",[r("seconds",fe)],o)).md_writesMutable(),e.md_arg("seconds").md_defl(1),(e=i(0,Fe,"set timeout","set the time in seconds after which this timer fires once",[r("seconds",fe)],o)).md_writesMutable(),e.md_arg("seconds").md_defl(1),(e=i(0,Fe,"pause","deactivates the timer",[],o)).md_writesMutable(),(e=i(0,Fe,"resume","reactives the timer",[],o)).md_writesMutable(),(e=i(0,He,"step completed","Signal that the step is done.",[],o)).md_needsFrame(),e.md_docsOnly(),(e=i(0,He,"show hint","Show a suggestion to the user (eg., an error description)",[r("message",je)],o)).md_resumes(),e.md_docsOnly(),e.md_dbgOnly(),e.md_uiAsync(),(e=i(0,Ge,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,Ge,"equals","Gets a value idincating if the user is the same as the other.",[r("other",Ge)],P),e=i(0,Ge,"id","Gets a unique identifier for the user.",[],je),(e=i(0,Ge,"preload","Download user-data if needed",[],o)).md_resumes(),e.md_async(),e.md_cap("network"),(e=i(0,Ge,"name","Gets the name of the user",[],je)).md_resumes(),e.md_cachedAsync(),e.md_cap("network"),(e=i(0,Ge,"about","Gets the about-me text of the user",[],je)).md_resumes(),e.md_cachedAsync(),e.md_cap("network"),(e=i(0,Ge,"has picture","Indicates if the user has a picture",[],P)).md_resumes(),e.md_cachedAsync(),e.md_cap("network"),(e=i(0,Ge,"settings","Gets the user settings if accessible. Currently, only the current user. Supported fields are editormode, twitterhandle, githubuser, minecraftuser",[],ie)).md_resumes(),e.md_cachedAsync(),e.md_cap("editorOnly","network"),(e=i(0,Ge,"picture address","Gets the url of the user picture where original is the unmodified user picture, square is 50x50, small has 50px width, normal has 100px width, large has roughly 200px width",[r("which",je)],je)).md_resumes(),e.md_arg("which").md_deflStrings("original","square","small","normal","large"),e.md_cachedAsync(),e.md_cap("network"),(e=i(0,Ge,"picture","Gets the user picture where original is the unmodified user picture, square is 50x50, small has 50px width, normal has 100px width, large has roughly 200px width",[r("which",je)],we)).md_resumes(),e.md_arg("which").md_deflStrings("original","square","small","normal","large"),e.md_cachedAsync(),e.md_cap("network"),(e=i(0,Ge,"post to wall","Displays the link on the wall",[],o)).md_needsFrame(),e.md_cap("network"),e.md_flow("SinkWeb"),(e=i(7,Ve,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(463,Ve,"x","Gets the x-component",[],fe),e=i(426,Ve,"y","Gets the y-component",[],fe),e=i(36,Ve,"z","Gets the z-component",[],fe),e=i(11,Ve,"length","Gets the length of the vector",[],fe),e=i(8,Ve,"distance","Gets the distance between the two vectors",[r("other",Ve)],fe),e=i(1,Ve,"negate","Returns a vector pointing in the opposite direction",[],Ve),e=i(0,Ve,"normalize","Returns a vector of one unit pointing in the same direction as the original vector",[],Ve),e=i(9,Ve,"add","Adds a vector",[r("other",Ve)],Ve),e=i(5,Ve,"subtract","Subtracts another vector",[r("other",Ve)],Ve),e=i(0,Ve,"multiply","Multiplies component-wise with a vector",[r("other",Ve)],Ve),e=i(72,Ve,"scale","Multiplies with a scaling factor",[r("scalar",fe)],Ve),e=i(3,Ve,"clamp","Restricts the vector in the specified range",[r("min",Ve),r("max",Ve)],Ve),e=i(0,Ve,"cross","Calculates the cross product with the other vector",[r("other",Ve)],Ve),e=i(5,Ve,"linear interpolation","Linear interpolation between two vectors",[r("other",Ve),r("amount",fe)],Ve),e=i(4,Ve,"to string","Turns the vector into a string",[],je),(e=i(1,Ve,"post to wall","Displays the vector on the wall",[],o)).md_needsFrame(),(e=i(1481,Ke,"clear","Clears the background, buttons and entries",[],o)).md_needsFrame(),(e=i(13,Ke,"display search","This action is not supported anymore.",[r("on",P)],o)).md_arg("on").md_defl(!0),e.md_obsolete(),(e=i(471,Ke,"prompt","Prompts the user with a ok button",[r("text",je)],o)).md_resumes(),e.md_tandre2(),e.md_uiAsync(),(e=i(306,Ke,"ask boolean","Prompts the user with ok and cancel buttons",[r("text",je),r("caption",je)],P)).md_resumes(),e.md_tandre2(),e.md_uiAsync(),(e=i(231,Ke,"ask number","Prompts the user to input a number",[r("text",je)],fe)).md_resumes(),e.md_tandre2(),e.md_uiAsync(),(e=i(304,Ke,"ask string","Prompts the user to input a string",[r("text",je)],je)).md_resumes(),e.md_tandre2(),e.md_uiAsync(),(e=i(24,Ke,"screenshot","Takes a screenshot of the wall.",[],we)).md_resumes(),e.md_flow("SourcePicture"),e.md_readsMutable(),e.md_arg("result").md_writesMutable(),e.md_quickAsync(),(e=i(425,Ke,"create text box","Creates an updatable text box",[r("text",je),r("font size",fe)],Oe)).md_arg("result").md_writesMutable(),e.md_arg("font size").md_defl(19),e.md_embedsLink("Wall","TextBox"),(e=i(144,Ke,"pick string","Prompts the user to pick a string from a list. Returns the selected index.",[r("text",je),r("caption",je),r("values",U.createInstance([je]))],fe)).md_resumes(),e.md_tandre2(),e.md_uiAsync(),(e=i(2,Ke,"pick time","Prompts the user to pick a time. Returns a datetime whose time is set, the date is undefined.",[r("text",je),r("caption",je)],W)).md_resumes();e.md_tandre2(),e.md_arg("caption").md_defl("pick a time"),e.md_uiAsync(),(e=i(21,Ke,"pick date","Prompts the user to pick a date. Returns a datetime whose date is set, the time is 12:00:00.",[r("text",je),r("caption",je)],W)).md_resumes(),e.md_tandre2(),e.md_arg("caption").md_defl("pick a date"),e.md_uiAsync(),(e=i(49,Ke,"set foreground","Sets the wall foreground color of elements.",[r("color",H)],o)).md_needsFrame(),e.md_arg("color").md_readsMutable(),e.md_arg("color").md_deflExpr("colors->random"),(e=i(0,Ke,"clear background","Clears the background color, picture and camera",[],o)).md_needsFrame(),(e=i(172,Ke,"set background","Sets the wall background color.",[r("color",H)],o)).md_needsFrame(),e.md_arg("color").md_readsMutable(),e.md_arg("color").md_deflExpr("colors->random"),(e=i(0,Ke,"set page transition style","Sets the animation for push/pop of pages.",[r("style",je)],o)).md_needsFrame(),e.md_arg("style").md_deflStrings("slide","fade","none"),e.md_dbgOnly(),(e=i(64,Ke,"set background picture","Sets the wall background picture. The picture will be resized and clipped to the screen background as needed.",[r("picture",we)],o)).md_resumes(),e.md_arg("picture").md_readsMutable(),e.md_picAsync(),(e=i(0,Ke,"set background camera","Sets the wall background camera.",[r("camera",B)],o)).md_resumes(),e.md_cap("camera"),e.md_async(),e.md_arg("camera").md_readsMutable(),e.md_arg("camera").md_deflExpr("senses->camera"),(e=i(8,Ke,"set transform matrix","Sets the 3x3 affine matrix transformation applied to the wall.",[r("m11",fe),r("m12",fe),r("m21",fe),r("m22",fe),r("offsetx",fe),r("offsety",fe)],o)).md_stub(),e.md_cap("phone"),e.md_arg("m11").md_defl(1),e.md_arg("m12").md_defl(0),e.md_arg("m21").md_defl(0),e.md_arg("m22").md_defl(1),e.md_arg("offsetx").md_defl(0),e.md_arg("offsety").md_defl(0),(e=i(118,Ke,"set reversed","Reverses the elements on the wall and inserts new ones at the bottom.",[r("bottom",P)],o)).md_needsFrame(),e.md_arg("bottom").md_readsMutable(),e.md_arg("bottom").md_defl(!0),(e=i(0,Ke,"show title bar","Indicates if the title and subtitle bar should be visible on a page.",[r("visible",P)],o)).md_needsFrame(),(e=i(0,Ke,"show back button","Indicates if the back button should be visible on the current page. The back button gets visible automatically when the app is paused or stopped in the editor.",[r("visible",P)],o)).md_needsFrame(),(e=i(225,Ke,"set title","Sets the title of the wall.",[r("text",je)],o)).md_needsFrame(),(e=i(136,Ke,"set subtitle","Sets the subtitle of the wall.",[r("text",je)],o)).md_needsFrame(),(e=i(2,Ke,"icon names","Use button icon names instead.",[],U.createInstance([je]))).md_obsolete(),(e=i(76,Ke,"clear buttons","Clears the application bar buttons and hides the bar",[],o)).md_needsFrame(),(e=i(367,Ke,"add button","Add a new button. icon must be the name of a built-in icon, text must be non-empty.",[r("icon",je),r("text",je)],be)).md_needsFrame(),e.md_arg("result").md_writesMutable(),e.md_arg("icon").md_defl("add"),e.md_arg("icon").md_deflStrings("back","cancel","check","close","delete","download","edit","favs.addto","favs","feature.camera","feature.email","feature.search","feature.settings","feature.video","folder","minus","new","next","questionmark","refresh","save","share","stop","sync","transport.ff","transport.pause","transport.play","transport.rew","upload"),e.md_embedsLink("Wall","Page Button"),e.md_ignoreReturnValue(),(e=i(70,Ke,"current page","Gets the current page displayed on the wall",[],ye)).md_needsFrame(),(e=i(204,Ke,"push new page","Pushes an empty page on the wall.",[],ye)).md_needsFrame(),e.md_ignoreReturnValue(),(e=i(160,Ke,"pop page","Pops the current page and restores the previous wall page. Returns false if already on the default page.",[],P)).md_needsFrame(),e.md_ignoreReturnValue(),(e=i(0,Ke,"pop page with transition","Same as `wall->pop_page`, but lets you use specific animation.",[r("style",je)],P)).md_needsFrame(),e.md_ignoreReturnValue(),e.md_arg("style").md_deflStrings("slide down","slide up","slide right","fade","none"),(e=i(21,Ke,"pages","Returns the current back stack of pages, starting from the current page to the bottom page.",[],U.createInstance([ye]))).md_needsFrame(),e=i(4,Ke,"button icon names","Gets the list of available page button names.",[],U.createInstance([je])),(e=i(0,Ke,"width","Gets the width of the screen (in pixels).",[],fe)).md_needsFrame(),(e=i(0,Ke,"height","Gets the height of the screen (in pixels).",[],fe)).md_needsFrame(),(e=i(0,Je,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),(e=i(0,Je,"on message","Sets an event to run when a message is received. Change name to receive custom events.",[r("name",je),r("handler",s)],X)).md_arg("name").md_defl("message"),e.md_ignoreReturnValue(),e.md_writesMutable(),e=i(0,Je,"state","Gets the current connection state (`connecting`, `open`, `closed`)",[],je),(e=i(0,Je,"on open","Sets an event to run when the event source is opened",[r("body",a)],X)).md_ignoreReturnValue(),e.md_writesMutable(),(e=i(0,Je,"on error","Sets an event to run when an error occurs",[r("body",a)],X)).md_ignoreReturnValue(),e.md_writesMutable(),(e=i(0,Je,"close","Closes the EventSource. No further event will be raised.",[],o)).md_writesMutable(),(e=i(3,We,"search","Searching the web using Bing",[r("query",je)],U.createInstance([oe]))).md_resumes(),e.md_async(),e.md_cap("search"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),(e=i(0,We,"search nearby","Searching the web near a location using Bing. Distance in meters, negative to ignore.",[r("query",je),r("location",ae),r("distance",fe)],U.createInstance([oe]))).md_resumes(),e.md_async(),e.md_cap("search"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),e.md_arg("location").md_deflExpr("senses->current_location"),e.md_arg("distance").md_defl(1e3),(e=i(9,We,"search images","Searching images using Bing",[r("query",je)],U.createInstance([oe]))).md_resumes(),e.md_async(),e.md_cap("search"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),(e=i(0,We,"search images nearby","Searching images near a location using Bing. Distance in meters, negative to ignore.",[r("query",je),r("location",ae),r("distance",fe)],U.createInstance([oe]))).md_resumes(),e.md_async(),e.md_cap("search"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),e.md_arg("location").md_deflExpr("senses->current_location"),e.md_arg("distance").md_defl(1e3),(e=i(0,We,"search phone numbers","Search phone numbers using Bing",[r("query",je)],U.createInstance([oe]))).md_obsolete(),e.md_cap("search"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),(e=i(0,We,"search phone numbers nearby","Search phone numbers near a location using Bing. Distance in meters, negative to ignore.",[r("query",je),r("location",ae),r("distance",fe)],U.createInstance([oe]))).md_obsolete(),e.md_cap("search"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),e.md_arg("location").md_deflExpr("senses->current_location"),e.md_arg("distance").md_defl(1e3),(e=i(0,We,"search news","Searching news using Bing",[r("query",je)],U.createInstance([oe]))).md_resumes(),e.md_async(),e.md_cap("search"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),(e=i(0,We,"search news nearby","Searching news near a location using Bing. Distance in meters, negative to ignore.",[r("query",je),r("location",ae),r("distance",fe)],U.createInstance([oe]))).md_resumes(),e.md_async(),e.md_cap("search"),e.md_flow("SinkSafe"),e.md_arg("result").md_writesMutable(),e.md_arg("location").md_deflExpr("senses->current_location"),e.md_arg("distance").md_defl(1e3),e=i(43,We,"is connected","Indicates whether any network connection is available",[],P),(e=i(35,We,"connection type","Gets the type of the network servicing Internet requests (unknown, none, ethernet, wifi, mobile)",[],je)).md_resumes(),e.md_quickAsync(),e.md_import("cordova","cordova-plugin-network-information"),(e=i(29,We,"connection name","Gets a name of the currently connected network servicing Internet requests. Empty string if no connection.",[],je)).md_resumes(),e.md_quickAsync(),(e=i(66,We,"open connection settings","Opens a connection settings page (airplanemode, bluetooth, wifi, cellular)",[r("page",je)],o)).md_resumes(),e.md_cap("phone"),e.md_uiAsync(),e.md_arg("page").md_defl("airplanemode"),e.md_arg("page").md_deflStrings("airplanemode","bluetooth","wifi","cellular"),(e=i(29,We,"browse","Opens a web browser to a url",[r("url",je)],o)).md_resumes(),e.md_cap("network"),e.md_flow("SinkWeb"),e.md_uiAsync(),(e=i(0,We,"redirect","Redirects the browser to a url; only available when exporting",[r("url",je)],o)).md_resumes(),e.md_betaOnly(),e.md_uiAsync(),(e=i(12,We,"play media","Plays an internet audio/video in full screen",[r("url",je)],o)).md_cap("network"),e.md_flow("SinkWeb"),(e=i(3,We,"link media","Creates a link to an internet audio/video",[r("url",je)],oe)).md_arg("result").md_writesMutable(),(e=i(11,We,"link image","Creates a link to an internet image",[r("url",je)],oe)).md_arg("result").md_writesMutable(),(e=i(49,We,"link url","Creates a link to an internet page",[r("name",je),r("url",je)],oe)).md_arg("result").md_writesMutable(),(e=i(0,We,"link deep zoom","Creates a multi-scale image from an image url",[r("url",je)],oe)).md_obsolete(),e.md_arg("result").md_writesMutable(),(e=i(68,We,"download","Downloads the content of an internet page (http get)",[r("url",je)],je)).md_resumes(),e.md_async(),e.md_cap("network"),e.md_flow("SinkWeb"),(e=i(23,We,"download json","Downloads a web service response as a JSON data structure (http get)",[r("url",je)],ie)).md_resumes(),e.md_async(),e.md_cap("network"),e.md_flow("SinkWeb"),(e=i(0,We,"download xml","Downloads a web service response as a XML data structure (http get)",[r("url",je)],Xe)).md_resumes(),e.md_cap("network"),e.md_async(),e.md_flow("SinkWeb"),e.md_import("npm","xmldom","0.1.*"),(e=i(4,We,"download sound","Downloads a WAV sound file from internet",[r("url",je)],Ne)).md_resumes(),e.md_async(),e.md_cap("network"),e.md_flow("SinkWeb"),(e=i(4,We,"download song","Create a streamed song file from internet (download happens when playing)",[r("url",je),r("name",je)],Ee)).md_cap("media","network"),e.md_flow("SinkWeb"),e.md_arg("name").md_defl("a song"),(e=i(2,We,"upload","Uploads text to an internet page (http post)",[r("url",je),r("body",je)],je)).md_resumes(),e.md_async(),e.md_cap("network"),e.md_flow("SinkWeb"),(e=i(0,We,"upload sound","Uploads a sound to an internet page (http post). The sound must have been recorded from the microphone.",[r("url",je),r("snd",Ne)],je)).md_resumes(),e.md_async(),e.md_cap("network"),e.md_flow("SinkWeb"),(e=i(3,We,"upload picture","Uploads a picture to an internet page (http post)",[r("url",je),r("pic",we)],je)).md_resumes(),e.md_async(),e.md_cap("network"),e.md_flow("SinkWeb"),(e=i(53,We,"download picture","Downloads a picture from internet",[r("url",je)],we)).md_resumes(),e.md_async(),e.md_cap("network"),e.md_flow("SinkWeb"),e.md_arg("result").md_writesMutable(),e=i(1,We,"html decode","Decodes a string that has been HTML-encoded",[r("html",je)],je),e=i(0,We,"html encode","Converts a text string into an HTML-encoded string",[r("text",je)],je),e=i(0,We,"decode uri","Decodes a URI component",[r("url",je)],je),e=i(0,We,"encode uri","Encodes a uri component",[r("text",je)],je),e=i(0,We,"decode uri component","Decodes a URI component",[r("url",je)],je),e=i(0,We,"encode uri component","Encodes a uri component",[r("text",je)],je),(e=i(2,We,"url decode","Use `web->decode uri component` instead.",[r("url",je)],je)).md_obsolete(),(e=i(23,We,"url encode","Use `web->encode uri component` instead.",[r("text",je)],je)).md_obsolete(),(e=i(49,We,"json","Parses the string as a json object",[r("value",je)],ie)).md_arg("value").md_lang("json"),e.md_arg("value").md_defl("{}"),e=i(0,We,"json object","Returns an empty json object",[],ie),e=i(0,We,"json array","Returns an empty json array",[],ie),(e=i(26,We,"xml","Parses the string as a xml element",[r("value",je)],Xe)).md_import("npm","xmldom","0.1.*"),(e=i(4,We,"rss","Obsolete. Use 'feed' instead.",[r("value",je)],U.createInstance([me]))).md_obsolete(),e.md_arg("result").md_writesMutable(),e=i(27,We,"create request","Creates a web request",[r("url",je)],$e),(e=i(0,We,"open web socket","Creates a web socket",[r("url",je)],Qe)).md_resumes(),e.md_async(),e=i(0,We,"base64 decode","Decodes a string that has been base64-encoded (assuming utf8 encoding)",[r("text",je)],je),e=i(1,We,"base64 encode","Converts a string into an base64-encoded string (with utf8 encoding)",[r("text",je)],je),(e=i(13,We,"feed","Parses the newsfeed string (RSS 2.0 or Atom 1.0) into a message collection",[r("value",je)],U.createInstance([me]))).md_arg("result").md_writesMutable(),e.md_import("npm","xmldom","0.1.*"),(e=i(0,We,"create json builder","Creates a json builder",[],ne)).md_arg("result").md_writesMutable(),(e=i(0,We,"csv","Parses a Command Separated Values document into a JsonObject where the `headers` is a string array of column names; `records` is an array of rows where each row is itself an array of strings. The delimiter is inferred if not specified.",[r("text",je),r("delimiter",je)],ie)).md_arg("delimiter").md_defl("\t"),e=i(0,We,"picture","Creates a picture from a web address. The resulting picture cannot be modified, use clone if you want to change it.",[r("url",je)],we),(e=i(0,We,"oauth v2","Authenticate with OAuth 2.0 and receives the access token or error. See [](/oauthv2) for more information on which Redirect URI to choose.",[r("oauth url",je)],ve)).md_resumes(),e.md_cap("network"),e.md_flow("SinkWeb"),e.md_uiAsync(),(e=i(0,We,"create form builder","Create a form builder",[],ee)).md_arg("result").md_writesMutable(),(e=i(0,We,"post message to parent","Posts a message to the parent window if any. The `target origin` must match the domain of the parent window, * is not accepted.",[r("target origin",je),r("message",ie)],o)).md_needsFrame(),e.md_readsMutable(),e.md_arg("target origin").md_defl("https://www.touchdevelop.com"),(e=i(0,We,"wait for message from parent","Waits for the next message from the parent window in `origin`.",[r("origin",je)],ie)).md_resumes(),e.md_async(),(e=i(0,We,"on received message from parent","Attaches code to run when a message is received. Only messages from the parent window and `origin` will be received.",[r("origin",je),r("received",g)],X)).md_needsFrame(),e.md_ignoreReturnValue(),(e=i(0,We,"create event source","Opens an Server-Sent-Events client on the given URL. If not supported, returns invalid. The server must implement CORS to allow https://www.touchdevelop.com to receive messages.",[r("url",je)],Je)).md_needsFrame(),e=i(0,We,"oauth token from url","Parses a OAuth v2.0 access token from a redirect uri as described in http://tools.ietf.org/html/rfc6749. Returns invalid if the url does not contain an OAuth token.",[r("redirect url",je)],ve),e=i(0,We,"oauth token from json","Parses a OAuth v2.0 access token from a JSON payload as described in http://tools.ietf.org/html/rfc6749. Returns invalid if the payload is not an OAuth token.",[r("response",ie)],ve),(e=i(0,$e,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,$e,"show notifications","Indicates if program notifications should be shown to the user. Default is true.",[r("visible",P)],o),e=i(0,$e,"method","Gets whether it was a 'get' or a 'post'.",[],je),(e=i(13,$e,"set method","Sets the method. Default value is 'get'.",[r("method",je)],o)).md_arg("method").md_deflStrings("post","put","get","delete"),e=i(0,$e,"url","Gets the url of the request",[],je),e=i(0,$e,"set url","Sets the url of the request. Must be a valid internet address.",[r("url",je)],o),(e=i(0,$e,"header","Gets the value of a given header",[r("name",je)],je)).md_readsMutable(),e=i(10,$e,"set header","Sets an HTML header value. Empty string clears the value",[r("name",je),r("value",je)],o),e=i(0,$e,"equals","Indicates if both requests are the same instance.",[r("other",$e)],P),(e=i(0,$e,"set accept","Sets the Accept header type ('text/xml' for xml, 'application/json' for json).",[r("type",je)],o)).md_arg("type").md_deflStrings("application/json","text/xml"),(e=i(0,$e,"post to wall","Displays the request to the wall",[],o)).md_needsFrame(),(e=i(0,$e,"send async","User ``send`` instead",[],o)).md_needsFrame(),e.md_cap("network"),e.md_flow("SinkWeb"),e.md_hidden(),(e=i(0,$e,"on response received","Use ``send`` instead",[r("handler",m)],X)).md_ignoreReturnValue(),e.md_hidden(),(e=i(29,$e,"send","Performs the request synchronously",[],Ye)).md_resumes(),e.md_async(),e.md_cap("network"),e.md_flow("SinkWeb"),e=i(4,$e,"set content","Sets the content of a 'post' request",[r("content",je)],o),e=i(4,$e,"set content as json","Sets the content of a 'post' request as the JSON tree",[r("json",ie)],o),e=i(0,$e,"set content as buffer","Sets the content of a 'post' request as a binary buffer",[r("bytes",j)],o),e=i(0,$e,"set content as form","Sets the content as multipart/form-data.",[r("form",ee)],o),(e=i(0,$e,"set content as picture","Sets the content of a 'post' request as a JPEG encoded image. Quality from 0 (worse) to 1 (best).",[r("pic",we),r("quality",fe)],o)).md_resumes(),e.md_arg("quality").md_defl(.85),e.md_picAsync(),(e=i(0,$e,"set content as xml","Sets the content of a 'post' request as the XML tree",[r("xml",Xe)],o)).md_import("npm","xmldom","0.1.*"),e=i(0,$e,"set credentials","Sets the name and password for basic authentication. Requires an HTTPS URL, empty string clears.",[r("name",je),r("password",je)],o),(e=i(0,$e,"header names","Gets the names of the headers",[],U.createInstance([je]))).md_readsMutable(),(e=i(0,$e,"set compress","Compresses the request content with gzip and sets the Content-Encoding header",[r("value",P)],o)).md_arg("value").md_defl(!0),e.md_obsolete(),(e=i(0,Ye,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,Ye,"request","Gets the request associated to this response",[],$e),e=i(12,Ye,"status code","Gets the HTTP Status code of the request if any",[],fe),e=i(11,Ye,"content","Reads the response body as a string",[],je),e=i(0,Ye,"content as buffer","Reads the response body as a Buffer.",[],j),e=i(13,Ye,"content as json","Reads the response body as a JSON tree",[],ie),(e=i(1,Ye,"content as picture","Reads the response body as a picture",[],we)).md_resumes(),e.md_async(),(e=i(0,Ye,"content as sound","Reads the response body as a wave sound",[],Ne)).md_stub(),(e=i(1,Ye,"content as xml","Reads the response body as a XML tree",[],Xe)).md_import("npm","xmldom","0.1.*"),e=i(2,Ye,"header","Gets the value of a given header",[r("name",je)],je),e=i(0,Ye,"header names","Gets the names of the headers",[],U.createInstance([je])),(e=i(0,Ye,"post to wall","Displays the response to the wall",[],o)).md_needsFrame(),(e=i(0,Ze,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,Ze,"is error","Indicates if this message is an error",[],P),e=i(0,Ze,"error","Gets the error if any.",[],je),e=i(0,Ze,"string","Gets the message as a string",[],je),e=i(0,Ze,"json","Gets the message as a Json payload",[],ie),e=i(0,Ze,"buffer","Gets the message as a Buffer",[],j),(e=i(0,Ze,"post to wall","Displays the message on the wall",[],o)).md_needsFrame(),(e=i(0,Qe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(0,Qe,"close","Closes the socket",[],o),e=i(0,Qe,"ready state",'Gets the ready state of the web socket, "connection", "closed", "closing", "open"',[],je),e=i(0,Qe,"buffered amount","The number of bytes of data that have been queued using calls to send() but not yet transmitted to the network. This value does not reset to zero when the connection is closed; if you keep calling send(), this will continue to climb.",[],fe),(e=i(0,Qe,"receive","Receives a message",[],Ze)).md_resumes(),e.md_async(),e=i(0,Qe,"send","Transmits string data to the server",[r("msg",je)],o),e=i(0,Qe,"send json","Transmits JSON data to the server",[r("json",ie)],o),e=i(0,Qe,"send buffer","Sends buffer data to the server",[r("buf",j)],o),(e=i(0,Qe,"post to wall","Displays the request to the wall",[],o)).md_needsFrame(),(e=i(6,Xe,"is invalid","Returns true if the current instance is useless",[],P)).md_runOnInvalid(),e.md_cap("none"),e=i(3,Xe,"count","Gets the number of child element",[],fe),e=i(1,Xe,"is element","Indicates if this instance is an element or a filtered collection",[],P),e=i(0,Xe,"name","Gets the full name of this element",[],je),e=i(38,Xe,"value","Gets the concatenated text contents of this element",[],je),e=i(15,Xe,"at","Gets the i-th child element in the collection",[r("index",fe)],Xe),e=i(27,Xe,"attr","Gets the value of the attribute",[r("name",je)],je),e=i(0,Xe,"attr names","Gets the list of attribute names",[],U.createInstance([je])),e=i(65,Xe,"child","Gets a first child element matching the fully qualified name",[r("name",je)],Xe),e=i(8,Xe,"children","Gets a collection of child element matching the fully qualified name",[r("name",je)],Xe),(e=i(1,Xe,"post to wall","Display the xml content to the wall",[],o)).md_needsFrame(),e=i(12,Xe,"to string","Gets an xml string",[],je),e=i(0,Xe,"local name","Gets the local name of this element",[],je),e=i(0,Xe,"namespace","Gets the namespace of this element",[],je),e=i(0,Xe,"create name","Creates a qualified full name from the namespace and local name",[r("local name",je),r("namespace uri",je)],je),TDev.AST.Json.docs='// The current version of this file can be retrieved by:\n// GET /api/language/webast\n\nmodule TDev.AST.Json\n{\n    // This module describes an AST for TouchDevelop scripts. The documentation\n    // is severely lacking, so the best way to figure things out is to write a\n    // TouchDevelop script, and type (in the console):\n    //\n    //   "TDev.AST.Json.dump(TDev.Script)"\n    //\n    // which will dump the currently-edited script in this representation. The\n    // converse operation is:\n    //\n    //   "TDev.AST.Json.serialize(yourJsonAst)"\n    //\n    // Beware: the composition of these two operations is *not* the\n    // identity. In particular, [dump] will resolve implicit optional arguments,\n    // while [serialize] expects them to be left out.\n\n    // These two interfaces are never used. Actually, whenever a field has type\n    // [JNodeRef], this is a lie, and its type is [string].\n    export interface JNodeRef { dummyNodeRef: number; }\n    export interface JTypeRef { dummyTypeRef: number; }\n\n    // the JTypeRef may be either a simple string, or if it starts with \'{\',\n    // it is JSON-encoded and conforms to one of these interfaces or is just a string (API type)\n    export interface JGenericTypeInstance extends JTypeRef {\n        g: string;\n        a?: JTypeRef[];\n    }\n    export interface JUserType extends JTypeRef {\n        o: string;\n    }\n    export interface JLibraryType extends JUserType {\n        l: JNodeRef;\n    }\n\n\n    /*abstract*/ export interface JNode\n    {\n        nodeType:string; // name of interface without leading J and with lower-case first letter\n        id:string; // do not depend on the particular format of these strings\n    }\n\n    /*abstract*/ export interface JDecl extends JNode\n    {\n        name: string;\n        unused?: boolean;\n    }\n\n    /*abstract*/ export interface JToken extends JNode { }\n    /*abstract*/ export interface JExpr extends JToken { }\n\n    // This corresponds to the [operator] syntactic class defined in the\n    // OOPSLA\'15 submission. When adopting the "hybrid AST" point of view,\n    // an expression is decomposed as a series of tokens. The [JOperator]\n    // interface covers operators (assignment, comparison, boolean and\n    // arithmetic operators), but also *digits*.\n    //\n    // For instance, "1 + 10 = 11" will generate:\n    //   [JOperator 1; JOperator +; JOperator 0; JOperator =; JOperator 1; JOperator 1]\n    export interface JOperator extends JToken { op:string; }\n\n    // A reference to a "property", i.e. something defined for an object of that\n    // type. There is no good way of figuring out what should the [parent] be\n    // when generating such properties; probably the best way is to dump a\n    // TouchDevelop AST.\n    export interface JPropertyRef extends JToken\n    {\n        name:string;\n        parent: JTypeRef; // if used as token this is ignored when building\n                          // if used as JCall it\'s needed for operators\n        declId?: JNodeRef; // filled when the property is user-defined\n    }\n\n    export interface JStringLiteral extends JExpr {\n        value:string;\n        enumValue?:string;\n    }\n    export interface JBooleanLiteral extends JExpr { value:boolean; }\n\n    // A number literal is only used when adopting the "tree" view for\n    // expressions (see comment on [JExprHolder]).\n    export interface JNumberLiteral extends JExpr {\n        value:number;\n        // If parsing \'stringForm\' yields \'value\', \'stringForm\' is used\n        // Otherwise stringified form of \'value\' is used\n        stringForm?:string;\n    }\n\n    // when building expressions of these three types you can provide localId/type or name;\n    // if you provide both, name is ignored\n    export interface JLocalRef extends JExpr\n    {\n        name:string;\n        localId:JNodeRef;\n    }\n\n    export interface JPlaceholder extends JExpr\n    {\n        name:string;\n        type:JTypeRef;\n    }\n\n    // A singleton (probably) references one of the top-level categories such as\n    // libraries or data. When trying to call "♻ l →  foo(x1, x2)", one may\n    // understand that the following call takes place:\n    //   ♻ -> l -> foo(x1, x2)\n    // and the following AST is generated:\n    //   JCall { name: foo, parent: l, args: [\n    //     JCall { name: l, parent: ♻, args: [ JSingletonRef ♻ ] },\n    //     x1,\n    //     x2\n    //  ]}\n    // this is surprising, because when calling "1 + 2", we generate a call that\n    // has two arguments only.\n    export interface JSingletonRef extends JExpr\n    {\n        name:string;\n        // type is ignored when building\n        type:JTypeRef;\n        libraryName?:string; // if this is a reference to a namespace in a library, this gives the name of library\n    }\n\n    // It seems like TouchDevelop has an extra invariant that a [JCall] must\n    // *always* be wrapped in a [JExprHolder].\n    export interface JCall extends JPropertyRef, JExpr\n    {\n        args:JExpr[];\n        // If we are calling a *type* T on an expression (e.g. create ->\n        // Collection of -> T), then T will be in there.\n        typeArgs?: JTypeRef[];\n        // The field below, if present, determines without ambiguity the nature\n        // of the call.\n        // - extension (the new special syntax)\n        // - field (reading a record field)\n        // Other types of calls can be determined by careful inspection of the\n        // receiver. See the C++ code emitter.\n        callType?: string;\n    }\n\n    // Expressions can be represented in two different manners.\n    // - The first one is as a series of tokens. This would correspond to the\n    //   "hybrid AST" described in the OOPSLA\'15 submission. In that\n    //   representation, the [tree] field is null and the [tokens] field\n    //   contains the list of tokens.\n    // - The second one is as an actual AST, with a proper tree structure. In\n    //   that case, the [tokens] field is null and [tree] must contain a proper\n    //   tree.\n    //\n    // TouchDevelop conflates variable binding and expressions. This means that\n    // every expression is flagged with the variables that are introduced at\n    // this stage. For instance, "var x = 1" will be translated as a\n    // [JExprHolder] where [locals] contains a [JLocalDef x], and either:\n    // - [tokens] is [JLocalRef x; JOperator :=; JOperator 1], or\n    // - [tree] is [JCall { name: ":=", parent: "Unknown", args: [JLocalRef x, JNumberLiteral 1] }]\n    //\n    // This is not the traditional notion of binding! The variable\'s scope is\n    // not limited to the tokens, but rather extends until the end of the parent\n    // block.\n    export interface JExprHolder extends JNode\n    {\n        // if tokens is unset, will try to use tree\n        tokens:JToken[];\n        tree:JExpr;\n        locals:JLocalDef[]; // locals variables defined in this expression\n    }\n\n    /*abstract*/ export interface JStmt extends JNode\n    {\n        // this is available when using the short form\n        locals?: JLocalDef[];\n    }\n\n    export interface JComment extends JStmt { text: string; }\n    export interface JFor extends JStmt\n    {\n        index:JLocalDef;\n        bound:JExprHolder;\n        body:JStmt[];\n    }\n    export interface JForeach extends JStmt\n    {\n        iterator:JLocalDef;\n        collection:JExprHolder;\n        conditions:JCondition[];\n        body:JStmt[];\n    }\n    /*abstract*/ export interface JCondition extends JNode {\n        // this is available when using the short form\n        locals?: JLocalDef[];\n    }\n    export interface JWhere extends JCondition { condition: JExprHolder; }\n    export interface JWhile extends JStmt\n    {\n        condition:JExprHolder;\n        body:JStmt[];\n    }\n\n    export interface JContinue extends JStmt {}\n    export interface JBreak extends JStmt {}\n    export interface JReturn extends JExprStmt {}\n    export interface JShow extends JExprStmt {}\n\n    // Sequences of if / else if / else statements are not represented the usual\n    // way. That is, instead of having a structured AST:\n    //\n    // if\n    // |- condition1\n    // |- then-branch1 = ...\n    // |- else-branch = if\n    //                  |- condition2\n    //                  |- then-branch2\n    //                  |- else-branch2\n    //\n    // the TouchDevelop AST adopts the following (unusual) representation.\n    //\n    // if\n    // |- condition1\n    // |- then-branch1 = ...\n    // |- else-branch = null\n    // if\n    // |- condition2\n    // |- then-branch2\n    // |- else-branch2\n    // |- isElseIf = true\n    //\n    // This is NOT equivalent to the representation above (condition2 may\n    // subsume condition1), so the extra flag "isElseIf" is set and (I suppose)\n    // gets some special treatment when it comes to running / compiling the\n    // program.\n    export interface JIf extends JStmt\n    {\n        condition:JExprHolder;\n        thenBody:JStmt[];\n        elseBody:JStmt[];\n        isElseIf:boolean;\n    }\n\n    export interface JBoxed extends JStmt { body:JStmt[]; }\n    export interface JExprStmt extends JStmt { expr:JExprHolder; }\n    export interface JInlineActions extends JExprStmt { actions:JInlineAction[]; }\n    export interface JInlineAction extends JNode\n    {\n        reference:JLocalDef;\n        inParameters:JLocalDef[];\n        outParameters:JLocalDef[];\n        body:JStmt[];\n        locals?:JLocalDef[]; // this contains the reference in short mode; it never contains anything else\n        isImplicit:boolean;\n        isOptional:boolean;\n        allLocals: JLocalDef[];\n        capturedLocals: JLocalDef[];\n    }\n\n    export interface JOptionalParameter extends JNode\n    {\n        name:string;\n        declId:JNodeRef;\n        expr:JExprHolder;\n    }\n\n    /*abstract*/ export interface JActionBase extends JDecl\n    {\n        inParameters:JLocalDef[];\n        outParameters:JLocalDef[];\n        // note that events should be always treated as private, but for historical reasons this field can be true or false\n        isPrivate:boolean;\n        isOffline: boolean;\n        isQuery: boolean;\n        isTest: boolean;\n        isAsync:boolean;\n        description: string;\n    }\n\n    export interface JActionType extends JActionBase\n    {\n    }\n\n    export interface JAction extends JActionBase { body: JStmt[]; }\n    export interface JPage extends JActionBase\n    {\n        initBody:JStmt[];\n        displayBody:JStmt[];\n        initBodyId?:string;\n        displayBodyId?:string;\n        hasModelParameter?:boolean;\n    }\n    export interface JEvent extends JActionBase\n    {\n        // when building provide name or both eventName and eventVariableId (which take precedence over name)\n        eventName:string;\n        eventVariableId:JNodeRef;\n        body:JStmt[];\n    }\n\n    export interface JLibAction extends JActionBase\n    {\n        parentLibId:JNodeRef; // this can be empty - it means "current script"\n    }\n\n    export interface JLibAbstractType extends JDecl\n    {\n    }\n\n    export interface JLibActionType extends JActionBase\n    {\n    }\n\n\n    /*abstract*/ export interface JGlobalDef extends JDecl\n    {\n        comment:string;\n        type:JTypeRef;\n        isReadonly:boolean;\n        isTransient:boolean;\n        isCloudEnabled:boolean;\n    }\n\n    export interface JArt extends JGlobalDef {\n        url: string;\n        // If it\'s a string art, contains its value.\n        value: string;\n    }\n    export interface JData extends JGlobalDef { }\n\n    export interface JLibrary extends JDecl\n    {\n        libIdentifier: string;\n        libIsPublished: boolean;\n        scriptName: string; // name of the script to which the library resolves\n        exportedTypes: string; // space separated; obsolete, use exportedTypeDefs\n        exportedTypeDefs: JDecl[]; // JLibAbstractType or JLibActionType\n        exportedActions: JLibAction[];\n        resolveClauses: JResolveClause[];\n    }\n\n    /*abstract*/ export interface JBinding extends JNode\n    {\n        name:string; // name of the formal argument\n        isExplicit:boolean; // was it explicitly specified by the user\n        // implicit bindings are ignored when building expressions\n    }\n\n    export interface JTypeBinding extends JBinding { type:JTypeRef; }\n    export interface JActionBinding extends JBinding { actionId:JNodeRef; }\n\n    export interface JResolveClause extends JNode\n    {\n        name:string;\n        // points to a JLibrary (not publish-id);\n        // it may be null for binding to the current script\n        defaultLibId:JNodeRef;\n        withTypes: JTypeBinding[];\n        withActions: JActionBinding[];\n    }\n    export interface JRecord extends JDecl\n    {\n        comment: string;\n        category: string; // "object", "table", "index", or "decorator"\n        isCloudEnabled: boolean;\n        isCloudPartiallyEnabled: boolean;\n        isPersistent: boolean;\n        isExported: boolean;\n        keys: JRecordKey[];\n        fields: JRecordField[];\n    }\n\n    export interface JRecordField extends JNode\n    {\n        name:string;\n        type:JTypeRef;\n    }\n    export interface JRecordKey extends JRecordField {}\n\n    // local variable or a parameter\n    export interface JLocalDef extends JNode\n    {\n        name:string;\n        type:JTypeRef;\n        isByRef: boolean;\n    }\n\n    // Response to:\n    // GET /api/<script-id>/webast\n    export interface JApp extends JNode\n    {\n        // both versions are comma-separated list of tokens/features\n        textVersion: string;\n        jsonVersion: string;\n\n        name: string;\n        comment: string;\n        // The name and icon are only given here if they are explicitly specified by the user.\n        icon?: string; // name of the icon, e.g., "Bolt"\n        color?: string; // e.g., #ff00ff\n        // These two are always present. They are ignored when building new scripts.\n        autoIcon:string;\n        autoColor:string;\n\n        platform: string; // comma-separated\n        isLibrary: boolean;\n        useCppCompiler?: boolean;\n        showAd: boolean;\n        hasIds: boolean; // does it have stable, persistent ids for every stmt\n        rootId: string;\n        decls: JDecl[];\n        deletedDecls: JDecl[]; // these are present when a node was deleted but is still referenced from somewhere\n\n        libraryName?: string; // when used in reflection info\n        libraryId?: string; // when used in reflection info\n    }\n\n\n    //\n    // API description\n    //\n\n    export interface JPropertyParameter\n    {\n        name: string;\n        type: JTypeRef;\n        writesMutable?: boolean; // are fields of the object referenced by this paramter being written to\n        readsMutable?: boolean;  // .... read from\n        defaultValue?: JToken[];\n        stringValues?: string[]; // these show up in intelli buttons; they are usually all allowed values for a parameter\n    }\n\n    export interface JProperty\n    {\n        name: string;\n        help: string;\n        usage_count: number;       // this is used for syntax autocompletion priority\n        runOnInvalid?: boolean;       // should the property by run even if one of the arguments is \'invalid\'\n        isHidden?: boolean;           // doesn\'t show in autocompletion\n        isAsync?: boolean;\n        isObsolete?: boolean;         // generates a warning\n        isDbgOnly?: boolean;          // an experimental feature; not visible in regular builds\n        isBetaOnly?: boolean;         // a feature in testing; visible in /app/beta\n        jsName: string;            // how is the property refered to from JavaScript\n        infixPriority?: number;    // when present, this is an infix operator with given priority\n                                   // higher number is higher priority; even assosiates left, odd - right\n        pausesInterpreter?: boolean;  // is this a potentially-async operation\n        usesStackFrame?: boolean;     // is the implementation passed IStackFrame object\n        missingWeb?: boolean;         // is the implementation missing from the general web version\n        capabilities?: string;     // comma-separated list of required platform capabilities (if any)\n        result: JPropertyParameter;\n        parameters: JPropertyParameter[];\n    }\n\n    export interface JTypeDef\n    {\n        name: string;\n        help: string;\n        icon: string;               // a name of the icon representing this type\n        isAction?: boolean;            // is it a function type; look for \'run\' property for the signature\n        isData: boolean;               // false for singleton types\n        stemName: string;           // used when auto-naming variables of this type\n        jsName: string;            // how is the type refered to from JavaScript\n        isDbgOnly?: boolean;           // an experimental feature; not visible in regular builds\n        isBetaOnly?: boolean;          // a feature in testing; visible in /app/beta\n        isSerializable: boolean;       // do we support automatic serialization of this type\n        isBuiltin?: boolean;           // true for number, boolean, string; the JS calling convention is different for these\n        ctxLocal?: boolean;            // can it be used as local variable\n        ctxGlobal?: boolean;           // .... as global variable\n        ctxField?: boolean;            // .... as field of a record\n        ctxLocalKey?: boolean;         // .... as key in a local index\n        ctxGcKey?: boolean;            // can it have decorators\n        ctxCloudKey?: boolean;\n        ctxRowKey?: boolean;\n        ctxCloudField?: boolean;\n        ctxWallTap?: boolean;          // do global variables of this type get \'wall tap\' events\n        ctxEnumerable?: boolean;       // can it be used with foreach construct\n        ctxJson?: boolean;             // can it be json exported/imported\n        properties: JProperty[];\n    }\n\n    // GET /api/language/apis\n    export interface JApis\n    {\n        textVersion:string;\n        jsonVersion: string;\n        types:JTypeDef[];\n    }\n\n/*\n\nThe short format\n~~~~~~~~~~~~~~~~\n\nThe main difference between the full JSON format and the short JSON format is\nrepresentation of `JExprHolder` nodes. Whenever the full JSON format says node\n`JBar` has a field `foo` of type `JExprHolder`, then in the short format `JBar`\nhas a field `foo` of type `string` and a field `locals` of type `JLocalDef[]`.\nAdditionally, the fields `index` in `JFor` and `iterator` in `JForeach` are\nabsent, and the loop-bound variable is instead stored as the first element of\n`locals`.\n\nThe string placed instead of the `JExprHolder` node can be turned into sequence\nof tokens using the following function:\n\n    export function shortToTokens(shortForm:string)\n    {\n        function uq(s:string) {\n            var r = ""\n            for (var i = 0; i < s.length; ++i) {\n                var c = s.charAt(i);\n                if (c == "_") {\n                    r += " ";\n                } else if (c == "/") {\n                    r += String.fromCharCode(parseInt(s.slice(i + 1, i + 5), 16))\n                    i += 4\n                } else {\n                    r += c;\n                }\n            }\n            return r;\n        }\n\n        function oneToken(s:string) {\n            var v = s.slice(1)\n            switch (s[0]) {\n                case ",": return { nodeType: "operator", op: v }\n                case "#": return { nodeType: "propertyRef", declId: v }\n                case ".": return { nodeType: "propertyRef", name: uq(v) }\n                case "\'": return { nodeType: "stringLiteral", value: uq(v) }\n                case "F":\n                case "T": return { nodeType: "booleanLiteral", value: (s[0] == "T") }\n                case "$": return { nodeType: "localRef", localId: v }\n                case ":": return { nodeType: "singletonRef", name: uq(v) }\n                case "?":\n                    var cln = v.indexOf(\':\')\n                    if (cln > 0)\n                        return { nodeType: "placeholder", type: uq(v.slice(0, cln)), name: uq(v.slice(cln + 1)) }\n                    else\n                        return { nodeType: "placeholder", type: uq(v) }\n                default:\n                    throw new Error("wrong short form: " + s)\n            }\n        }\n\n        if (!shortForm) return []; // handles "" and null; the code below is incorrect for ""\n\n        return shortForm.split(" ").map(oneToken)\n    }\n\nIn other words, it\'s space separated sequence of strings, where the first\ncharacter denotes the kind of token and remaining characters are the payload.\nThe string is quoted by replacing spaces with underscores and all other\nnon-alphanumeric characters with unicode sequences preceeded by a slash (not\nbackslash to avoid double quoting in JSON).\n\n\n\nShort diff format\n~~~~~~~~~~~~~~~~~\n\nEvery object node in the short JSON format has a field named `id`. This is used\nwhen formulating diffs. The diff is set of updates to nodes of given ids. For\nevery id there is a set of `fieldName`, `value` pairs.\n\nFor example consider:\n\nA = {\n  "id": "01",\n  "one": "one",\n  "two": 2,\n  "baz": [\n    { "id": "02", "enabled": true },\n    { "id": "03", "x": 0 }\n  ]\n}\n\nB = {\n  "id": "01",\n  "one": "seven",\n  "two": 2,\n  "baz": [\n    { "id": "02", "enabled": true },\n    { "id": "05", "y": 7, "z": 13 }\n  ]\n}\n\ndiff(A, B) = {\n  // new node, assignment given for all fields\n  "05": { "y": 7, "z": 13 },\n  // updated node\n  "01": {\n    "one": "seven", // the field "one" is now "seven"\n    // the field "two" is not mentioned and thus unchanged\n    // the field "baz" now contains two nodes, ids of which are given\n    "baz": [ "02", "05" ]\n  },\n  // the node "03" is deleted\n  "03": null\n}\n\nThe JSON diff relies on the following properties of the short JSON format:\n\nFields of JNodes always contain either:\n  1. a JSON primitive value (string, boolean, integer, null), or\n  2. a sequence of JNodes\n\nEvery JNode has a unique \'id\' field.\n\nThis is why JFor.bound and JForeach.collection fields are missing.  In the diff\nformat sequence of strings is always treated as a sequence of node ids.\n\nThe following function can be used to apply JSON diff:\n\n    function indexIds(obj:any)\n    {\n        var oldById:any = {}\n\n        function findIds(o:any) {\n            if (!o) return;\n            if (Array.isArray(o)) {\n                for (var i = 0; i < o.length; ++i)\n                    findIds(o[i])\n            } else if (typeof o === "object") {\n                if (!o.id) Util.oops("no id for " + JSON.stringify(o))\n                if (oldById.hasOwnProperty(o.id)) Util.oops("duplicate id " + o.id)\n                oldById[o.id] = o\n                var k = Object.keys(o)\n                for (var i = 0; i < k.length; ++i)\n                    findIds(o[k[i]])\n            }\n        }\n        findIds(obj)\n\n        return oldById\n    }\n\n    export function applyJsonDiff(base:any, diff:any)\n    {\n        var byId = indexIds(base)\n\n        var k = Object.keys(diff)\n        for (var i = 0; i < k.length; ++i) {\n            var id = k[i]\n            var upd = diff[id]\n            if (upd === undefined) continue;\n            var trg = byId[id]\n            if (upd === null) {\n                if (!trg) Util.oops("apply diff: no target id " + id)\n                trg.__deleted = true;\n                continue;\n            }\n            if (!trg) {\n                byId[id] = trg = { id: id }\n            }\n            var kk = Object.keys(upd)\n            for (var j = 0; j < kk.length; ++j) {\n                var f = kk[j]\n                var v = upd[f]\n                if (Array.isArray(v) && typeof v[0] === "string")\n                    v = v.map(id => {\n                        var r = byId[id]\n                        if (!r) { r = byId[id] = { id: id } }\n                        return r\n                    })\n\n                Util.assert(f != "nodeType" || !trg[f])\n                trg[f] = v\n            }\n        }\n\n        var newIds = indexIds(base)\n        k = Object.keys(newIds)\n        for (var i = 0; i < k.length; ++i) {\n            var id = k[i]\n            if (newIds[k[i]].__deleted)\n                Util.oops("dangling id after diff " + id)\n        }\n    }\n\n*/\n}\n',TDev.webappHtml='<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8" />\n    <title></title>\n    <meta name="Description" content=""/>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>\n    <meta name="apple-mobile-web-app-capable" content="yes" />\n    <meta name="apple-mobile-web-app-status-bar-style" content="default" />\n    <meta name="format-detection" content="telephone=no">\n    <meta name="msapplication-tap-highlight" content="no"/>\n    <meta property="og:title" content=""/>\n    <meta property="og:site_name" content="Touch Develop"/>\n    <meta property="og:type" content="game" />\n    <meta property="og:description" content="" />\n    <meta property="og:image" content="" />\n    <meta property="og:url" content="" />\n    <meta name="mobile-web-app-capable" content="yes">\n</head>\n<body id="root">\n<style type="text/css">\n    @import url("./default.css");\n</style>\n<div id="loading" style="width: 200px; margin: 150px auto 0 auto; text-align: center; color: #81e774; font-family: sans-serif; ">\n<div id="loadingDot" style="font-size: 18px;margin-top:-10px">we need JavaScript enabled</div>\n<div id=\'progressContainer\' style=\'margin-top:20px;height:3px;width:200px; background:#eee;\'>\n<div id=\'progressBar\' style=\'height:3px; width:0px; background:#81e774\'></div>\n</div>\n<div style="margin-top: 1em; font-size:12px;" id="statusMsg"></div>\n</div>\n<script type="text/javascript">\nvar browsersUrl = "browsers.html";\nvar errorUrl = "error.html";\nvar mainJsName = "./runtime.js";\nvar userId = "";\nvar userName = "";\nvar webAppName = "";\nvar webAppGuid = "";\nvar webAppPublicationId = "";\nvar webAppImplicit = true;\nvar runtimeFlags = "";\nvar rootUrl = "https://www.touchdevelop.com";\nif (/debugLocal/.test(document.URL)) rootUrl = "http://localhost:7777";\nvar webRunner = true;\n(function() {\n  var e = document.getElementById("loadingDot");\n  if (e) {\n    e.innerHTML = \'\';\n  }\n}());\n(function() {\n  var ratio = 0.97\n  var curr = 195 / (1 / (1 - ratio))\n  var sum = 0\n  function updatePbar() {\n    var pbar = document.getElementById("progressBar");\n    if (!pbar) return;\n    sum += curr\n    curr *= ratio\n    pbar.style.width = sum + "px"\n    setTimeout(updatePbar, 200)\n  }\n  updatePbar();\n}());\nfunction statusMsg(m) {\n  if (/debugMsg/.test(document.URL)) {\n    var e = document.getElementById("statusMsg");\n    if (e) e.innerHTML = m;\n  }\n}\n<\/script>\n<script src="./browser.js" type="text/javascript"><\/script>\n<script type="text/javascript">\nTDev.Browser.check(true, "Touch Develop", "https://www.touchdevelop.com/app/");\n<\/script>\n<script src="precompiled.js?a=" type="text/javascript"><\/script>\n<script src="./runtime.js" type="text/javascript"><\/script>\n</body>\n</html>\n'},TDev.Util._languageData=function(e){var t=["   Maybe: {0} ({1} at '{2}')\n","  -> Line {2} ('{1}'), error: {0}\n{3}"," -- a local variable"," [class]"," [hidden]"," [override]"," backward"," forward"," hours "," minutes "," of "," seconds "," sending changes"," waiting for server","### full source code","'Javascripty' curly braces, all the tools, for experienced devs!","'atomic' function","'box' can only be accessed in page display code","'box' cannot be accessed in HTML layout mode","'else' of the preceding 'if' must be empty","'html' can only be accessed in HTML layout mode","'{0}' expects {1} here","'{0}' has unsupported signature","'{0}' is currently not implemented","'{0}' is obsolete and not implemented","'{0}' is obsolete and should not be used","'{0}' isn't a string resource","'{0}' returns a '{1}'; {2}","'{0}' returns {1} values; you can use 'store in var' button to save them to locals","(Optional) A URI identifying a human-readable web page with information about the error, used to provide the client developer with additional information about the error.","(Optional) A human readable error code.","(Optional) Additional key-value pairs not covered by the OAuth 2.0 specification.","(Optional) Indicates if the token might expire within the next seconds.","(Optional) Optional if identical to the scope requested by the client; otherwise, the scope of the access token as described by Section 3.3 of the OAuth 2.0 specification.","(Optional) The lifetime in seconds of the access token.","(please wait, it can take up to a minute)",", got {0:a} instead",", got {0}",", size: {0} characters",". Please read our ","... nothing to see here ...","... there's more ...","// comment","1. choose a document (.txt, .pptx, .pdf, .css, less than 8MB)","1. choose an MP3 sound (less than 1MB)","2. give it a name (minimum 4 characters)","3. describe it","4. publish",":( Sorry, an error occured while translating this text.",":( Sorry, we could not translate this.",":( could not find any video source",":( invalid in video information","; are you missing  → ◈ref?","<a href='http://cordova.apache.org/' target='_blank'>Apache Cordova</a> let you build cross-platform mobile applications.","<a href='http://go.microsoft.com/fwlink/?LinkId=254432' target='_blank'>generate the certificate</a>.","<b>DISCLAIMER:</b> This web app is not endorsed by Microsoft.","<b>how to run Touch Develop locally</b>","<b>this line is perfect!</b> let's move on","<h3>loading current settings...</h3>","<h3>no more tips!</h3>","<h3>welcome to Touch Develop</h3>","<h3>{0:q} requires sign&nbsp;in</h3>","<p>If you do not have an Azure subscription, go to <a href='https://account.windowsazure.com/Subscriptions' target='_blank'>Azure subscriptions</a> to get one.</p>","<p>Touch Develop lets you <b>create apps easily</b> from your phone, tablet or PC.</p>","<p>You can share your apps with others, so they can <b>run and edit</b> them on Windows Phone, iPad, iPhone, Android, PC, or Mac.</p>","<strong>feature in beta testing:</strong> the syntax and semantics is subject to change","<strong>required platform:</strong>","@hi/lo out of range","A 2D matrix of numbers","A 3D vector","A Bing map","A Minecraft Pi app.","A Minecraft app.","A Minecraft creeper app.","A Server-Sent-Events client","A animation to animate sprite properties.","A argb color (alpha, red, green, blue)","A background scene layer","A beginner friendly editor","A board to build 2D games","A builder to create HTML Form data","A cloud data session","A collection of objects","A collection of sprites","A color constant","A combination of date and time","A comment about your pull request was added.","A contact","A custom logger","A document","A document resource","A fully replicated {0} is saved in cloud storage, and fully cached on clients.","A generic atomic conversion function","A geo coordinate (latitude, longitude, ...)","A global variable","A group can be used to run a class or an event. Please do NOT include your school name within the group name.","A handler attached to an event.","A json data structure builder","A json data structure.","A link to a video, image, email, phone number","A local {0} is automatically saved to local storage, but never shared with other devices.","A map from strings to strings","A map of numbers to numbers","A map pushpin","A named location","A network error occurred. Your account settings could not be saved. Are you offline?","A number (possibly negative and/or fractional)","A number constant","A page button on the wall","A page on a wall","A partially replicated {0} is saved in cloud storage, and fully cached on clients.","A picture","A piece of text","A pixel art app.","A place to hook up an action to execute in response to an event","A possibly non-atomic single argument action","A post on a message board","A reference to a library script","A reference to a value","A replicated {0} is automatically saved in the cloud and shared between devices.","A scene contains layers of parralax backgrounds.","A separate window with the sign in dialog has opened, please sign in in that window.","A server-local {0} is saved in cloud storage, and never cached on clients.","A signature definition of an function","A single ASCII [USASCII] error code.","A snapshot of the gamepad state","A song","A sound","A sound effect","A spring between two sprites.","A sprite","A sprite sheet which packs multiple frames in a single picture","A structure of user-data","A table of user-defined rows","A task created with `async` keyword","A temporary {0} is local to the connection, and discarded when the connection ends.","A temporary {0} is not saved between runs.","A text box","A timer","A unique display name for your public profile (at least 8 characters)","A unit test","A user account","A user interface","A web socket","A web socket message","ADJ script","API config","API name","API not implemented","ARM logo","Aborts the execution if the condition is false.","Accelerometer","Access Denied: Your web browser and the web site prevent cross-origin resource sharing (CORS).","Access various properties of application environment","Add a CSS class name to the current element.","Add a new button. icon must be the name of a built-in icon, text must be non-empty.","Add a reference to JsonBuilder to the array.","Add an action that fires for every display frame","Add specified value to given reference","Add sprite to set and remove from old set. Returns true if sprite was in old set and not in new set.","Add sprite to set. Returns true if sprite was not already in set.","Add two signed 32 bit numbers","Add two unsigned 32 bit numbers","Adds a boolean value","Adds a number value","Adds a picture","Adds a picture pushpin on the map","Adds a piece of text to the form using a custom type and/or file name.","Adds a place pushpin on the map (ignored if the location is not set)","Adds a string value","Adds a text pushpin on the map","Adds a value to the array.","Adds a vector","Adds an object","Adds many objects at once","Adds numbers","Adds the value to the current life. Value can be negative.","Adds value to the current score. Value can be negative.","Adjust it {0}.","Advance enumerator and return true if there is another element.","After the script stops, browse the code to see collected information.","All my groups","All my scripts","All options turned on","Allow execution of other events, before the current event finishes.","Allows the user to save the email address (email)","Allows the user to save the phone number","An HTTP web request","An HTTP web response","An atomic action with no arguments","An empty app using pages and boxes.","An empty app using the scratch library.","An empty documentation page.","An empty interactive tutorial.","An empty script editor plugin.","An empty script, which doesn't do anything.","An general enumerator","An incomming HTTP web request","An indexed table of user-defined rows","An interface to TouchDevelop editor","An turtle app.","Applies `converter` on all elements of the input collection and returns a collection of results","Are you finished coding?","Are you sure you want to stop following the tutorial?","Arithmetic and bitwise operations on 32 bit integers","Art by this user:","Ask or display values on the wall...","Attach data to other objects","Boiler plate code to create a game.","Browse and review scripts from the bazaar","By dragging and placing blocks, you've created the following code.","Camera","Camera, location, microphone and other sensors","Can't see any window? Try tapping the button below to log in manually.","Change settings...","Change skill level!","Channels","Checks if the board is the same instance as the other board.","Checks if the color is equal to the other","Checks if two strings are the same","Chooses a picture from the media library","Clear all queued events related to this board","Clear the background picture","Clears the background camera","Cloud Data","Cloud session management","Code raised when a user interaction happens","Code that performs a specific task","Compares numbers for equality","Compares numbers for less","Compares numbers for less or equal","Compares numbers for more","Compares numbers for more or equal","Compass","Computes the average of the values","Computes the maximum of the key of the elements in the collection","Computes the maximum of the values","Computes the minimum of the values","Computes the sum of the values","Concatenates two pieces of text","Convert color to HTML syntax (either #FF002A or rgba(255, 0, 42, 0.5) when A is non-1)","Converts a number to a string","Converts and parses to a date time (type must be string)","Converts the value into a json data structure.","Converts to a boolean (type must be boolean)","Converts to a number (type must be number)","Converts to the local time","Copy current JSON object into a Json Builder so it can be modified","Cordova mobile app","Correctness helpers","Counts the number of rows","Create Code","Create Group","Create Script","Create a line obstacle with given start point, and given width and height. Elasticity is 0 for sticky, 1 for complete bounce.","Create a new collection for sprites.","Create a new ellipse sprite.","Create a new picture sprite.","Create a new rectangle sprite.","Create a new script","Create a new sprite sheet.","Create a new text sprite.","Create a spring between the two sprites.","Create an anchor sprite.","Create an invalid value of this object type","Create channel","Create collections of items.","Create invalid values","Create walls around the board at the given distance.","Create your own apps","Creates a color from the red, green, blue channels (0.0-1.0 range)","Creates a new color by changing the alpha channel from 0 (transparent) to 1 (opaque).","Creates a new empty game board and shows it on the screen.","Creates a new game board in landscape mode. On rotatable devices it will take the entire screen when posted.","Creates a new game board in portrait mode. On rotatable devices it will take the entire screen when posted.","Creates a new layer on the scene. The distance determines the order of rendering and how fast the layer moves","Creates a new sprite of width 100 with the given picture.","Creates an empty Picture collection","Creates an invalid Gamepad instance","Creates an invalid reference to an entry","Current box element in the page.","Current device","Current script: {0}","Current touch point","Detaches the handler from the event.","Displays string on the wall","Displays the image to the wall; you need to call 'update on wall' later if you want changes to be reflected.","Displays the link on the wall","Displays the request to the wall","Displays the sprite sheet.","Displays the state of the gamepad on the wall","Divides numbers","Do the sprites overlap","Do you want to receive informational Touch Develop-related newsletters, e.g. about new features and upcoming events?","Docs","Don't forget to scroll down and tap 'save' when you are done editing!","Drag and drop blocks, simplified interface, great for beginners!","Draws a line between two points","Draws some text border with a given color and font size","Edit code as text, more options, for aspiring app writers!","Emails, sms, contacts, calendar, ...","Enable or disable cloud synchronization for the current session","Enter a name","Enter a script name...","Enter some information about yourself","Enter the URL to your personal website (Example: http://www.northwindtraders.com)","Enter the invitation code","Enter your school affiliation, if any.","Events cannot have out parameters.","Everyone will be able to see your picture on the Internet forever. ","Expert","Exports a JSON representation of the contents.","Extensions","Facebook","Fills a ellipse with a given color","Fills a rectangle with a given color","Final touch velocity after touch ended","For published scripts, also look at the tab of the published script page to find anonymously collected crowd-sourced profile and coverage data.","Forums","From now on we won't show you the code to write. Follow the instructions and tap run when you think you are done.","Functions in the current script","Geo coordinates","Gets a field value as a boolean","Gets a field value as a number","Gets a field value as a string","Gets a json kind (string, number, object, array, boolean, null)","Gets a snapshot of the gamepad states (if any connected to the browser). Empty if unsupported or no gamepad connected.","Gets a url to the picture","Gets a value by name","Gets a value indicating if the background repeats horizontally","Gets a value indicating if the board is designed to be viewed in landscape mode","Gets a value whether the song is DRM protected","Gets the `x` and `y` value of the selected axes.","Gets the acceleration along y in pixels/sec^2","Gets the accent color in the current theme","Gets the background scene","Gets the center horizontal position of in pixels","Gets the chrome color in the current theme (control background)","Gets the color that has the ARGB value of #00FFFFFF","Gets the color that has the ARGB value of #FF000000","Gets the color that has the ARGB value of #FF0000FF","Gets the color that has the ARGB value of #FF008000","Gets the color that has the ARGB value of #FF00FFFF","Gets the color that has the ARGB value of #FF704214","Gets the color that has the ARGB value of #FF800080","Gets the color that has the ARGB value of #FF808080","Gets the color that has the ARGB value of #FFA52A2A","Gets the color that has the ARGB value of #FFA9A9A9","Gets the color that has the ARGB value of #FFD3D3D3","Gets the color that has the ARGB value of #FFFF0000","Gets the color that has the ARGB value of #FFFF00FF","Gets the color that has the ARGB value of #FFFFA500","Gets the color that has the ARGB value of #FFFFCBDB","Gets the color that has the ARGB value of #FFFFFF00","Gets the color that has the ARGB value of #FFFFFFFF","Gets the current connection state (`connecting`, `open`, `closed`)","Gets the current phone location with the most accuracy. This includes using services that might charge money, or consuming higher levels of battery power or connection bandwidth.","Gets the duration in seconds","Gets the field value as a time","Gets the first connected gamepad available","Gets the foreground color in the current theme","Gets the gamepad identifier","Gets the genre of the song","Gets the height in pixels","Gets the height of the camera image in pixels.","Gets the i-th json value","Gets the link associated to the message","Gets the list of keys","Gets the name of the artist","Gets the name of the song","Gets the names of the headers","Gets the normalized red value (0.0-1.0)","Gets the number of elements","Gets the number of values","Gets the player index","Gets the pressed value of a button. Returns 0 if button missing.","Gets the property that enables or disables gradients","Gets the sound volume for sounds from 0 (silent) to 1 (current volume)","Gets the sprite count","Gets the sprite indexed by i","Gets the text","Gets the timestamp of this snapshot","Gets the value of a given header","Gets the width in pixels","Gets the width of the camera image in pixels.","Gets the y position in pixels","Getting started","GitHub","Global variables in the current script","HTML5 web app","Help","Hide sprite.","Hides the timer.","Home","House rules","How did you discover Touch Develop?","If the page did not open, tap the 'open' button below, otherwise tap 'done'.","Import Code","Import a script from a file","Imports a JSON representation of the contents.","Imports a dependent package which may be versioned. Package managers may be Node.JS npm, Bower, Apache cordova, Python Pip and TouchDevelop plugins. ``bower`` and ``client`` imports are not available within the touchdevelop.com domain.","Imports the code from .hex files created for the BBC micro:bit or saved .jsz files. Hint: you can also drag and drop the files in the editor to import them!","In debug mode, board displays speed and other info of sprites","Indicates if a button is pressed. Returns false if button missing.","Indicates if program notifications should be shown to the user. Default is true.","Indicates if the gamepad data are identical","Indicates if the gamepad is still connected.","Indicates if the key exists","Indicates if the player is paused","Indicates if the player is stopped","Indicates if the string is empty","Insert '{0}' {1}","Interact with the app runtime","Items marked with * are required.","JSON data","Join Group","Last touch end point","Last touch start point","Libraries referenced by the current script","Library {0}:\n","Loading leaderboards...","Loading sessions...","Loading version info...","Make updates visible.","Makes a darker color by a delta between 0 and 1.","Makes a lighter color by a delta between 0 and 1.","Makes all the sprite bounce on thee border of the screen","Maps, location to address, address to location","Math goodness, abs, max, ...","Me","Microphone","Minecraft user","More","Motion","Moves sprite towards other sprite.","Multiplies numbers","Music and Sounds","My Groups","My Profile","My Scripts","NEW","NFC","Need some reason.","Network","New Scripts","New message from {0} in {1}","New or built-in colors","No can do","Objects, tables and indexes in the current script","On device '{0}', apply the following instructions.","Oops, could not get the leaderboards. Please check your internet connection.","Oops, the name is too short...","Oops, the picture name is too short...","Oops, the sound name is too short...","Oops, there was an error loading the picture.","Oops, we can't take a screenshot now","Oops, we can't take a screenshot now.","Oops, we could not get the scripts for this group. Please try again later.","Opens the leaderboard for the current script","Parses the string as a number","Partners","Phone numbers, vibrate, etc...","Picks a color from a color wheel where the hue is between 0 and 1.","Picks a random color","Pictures and music...","Pictures, sounds, etc. in the current script","Play, stop or resume songs, ...","Plays the song.","Please connect to internet to load the leaderboards.","Please go to the settings in the main hub to disable offline mode.","Please review our Privacy Statement.","Please wait...","Post a comment...","Prints the number to the wall","Prints the value to the wall","Privacy policy","Private actions do not get a run button. ","Prompts the user to input a number","Prompts the user to pick a string from a list. Returns the selected index.","Publish script","Publish your script, so that everyone can run it.","Publishing is subject to our ","Publishing script...","Raised when the animation started playing","Raised when the animation stopped playing","Reads the response body as a wave sound","Receive email notifications when other people review/take a screenshot of/comment on your scripts, or reply to one of your comments, or when events related to your subscriptions occur.","Remember: everyone will be able to see your script if you publish it, so make sure it doesn’t contain your passwords or personal information.","Removes the value from the current life. Value can be negative.","Reply...","Report/Delete","Resizes the picture to the given size in pixels","Returns a collection sorted using specified comparison key","Returns a copy of the image","Returns a copy of this string converted to lowercase, using the casing rules of the current culture.","Returns a copy of this string converted to uppercase, using the casing rules of the current culture.","Returns a date that adds the specified number of months to the value of this instance.","Returns a date that adds the specified number of years to the value of this instance.","Returns a random integral number between `min` and `max` included.","Returns a string collection that contains the substrings in this string that are delimited by elements of a specified string.","Returns a substring given a start index and a length","Returns the hyperbolic cosine of the specified angle (in radians)","Returns the number of characters","Returns the sine of the specified angle (in radians)","Returns the sprite color.","Returns true if sprite is not hidden","Returns true if the current instance is useless","Run the beta version of Touch Develop.","Run the inline action.","Runs a shell command. This action is only available when the script is running from a local web server.","Scales the sprite","Script Updates","Scripts by this user:","Search","Search and browse the web...","Search code...","Search everything","Search here...","Search phone numbers near a location using Bing. Distance in meters, negative to ignore.","Search phone numbers using Bing","Search...","Searching images using Bing","Searching news near a location using Bing. Distance in meters, negative to ignore.","Searching news using Bing","See More","Set what happens when the box is tapped.","Sets a value indicating if the background repeats horizontally","Sets gradient on or off","Sets the 3x3 affine matrix transformation applied to the wall.","Sets the angle of the sprite in degrees","Sets the background camera","Sets the background color","Sets the background color.","Sets the background picture","Sets the center horizontal position in pixels","Sets the current life points. Set as negative or zero to end the game.","Sets the default friction for sprites to a fraction of speed loss between 0 and 1","Sets the height in pixels","Sets the position in pixels","Sets the rotation speed in degrees/sec","Sets the sound volume level from 0 (silent) to 1 (current volume)","Sets the speed in pixels/sec","Sets the sprite color.","Sets the uniform acceleration vector for objects on the board to pixels/sec^2","Sets the url to the picture","Sets the wall background picture. The picture will be resized and clipped to the screen background as needed.","Sets the width in pixels","Sets the x speed in pixels/sec","Sets the y acceleration in pixels/sec^2","Sets the y position in pixels","Sets the y speed in pixels/sec","Sets the z-index of the sprite","Settings","Share it with this url:","Show errors in the editor if the script uses any APIs that prevent it from running on these platforms.","Shows the board on the wall.","Sign out","Skill level: {0}     ","Sorts from the newest to oldest","Sorts the places by distance to the location","Sorts the strings in this collection","Specify how to arrange the content of this box","Starts a new tween animation.","Stops and clears all the `every frame` timers","Stringify the current JSON object","Subtracts numbers","Support for interactive tutorials.","TD100: insert {0:a} here","TD101: cannot find '{0}'","TD109: cannot assign to this","TD111: cannot assign from {0} to {1}","TD112: i cannot find property '{0}' on {1}","TD115: excessive parameter(s) supplied to {0}","TD116: not enough parameters supplied to {0}","TD118: 'if' condition wants {1:a}","TD119: i need something to iterate on","TD121: cannot find type {0}","TD130: bound of 'for' wants {1:a}","TD144: it seems you're missing '{0}', try adding it","TD145: there seem to be an operator (like '+', '(' or ',') missing here","TD147: we didn't expect '{0}' here","TD150: cannot call the thing before '('","TD151: unclosed '('","TD152: unexpected ')'","TD154: the operator needs something after it","TD155: '{0}' cannot be assigned to a local variable","Teach Creative Coding!","Technology services by","Terms of use","The Touch Develop app has been updated.","The Touch Develop platform - Copyright © {0} Microsoft Corporation. All rights reserved.","The document url","The encoded screenshot is too big.","The front or back camera","The group has new owner","The user denied access to shell execution.","Thing","This command requires a local proxy.","This group is locked.","This group is open.","This script is current.","This script is missing the header.","This script is missing the source.","This script is using the following capabilities that might be missing on your current device: {0}","This script uses the following capabilities: ","This tab contains additional information about this script","This tutorial uses cloud data which is shared with other users.","To add page data, create a local var and tap 'promote to field'.","Touch Develop Local Shell","Touch Develop settings","Translation","Translation, speech to text, ...","Translations by Microsoft® Translator, tap to see original...","True if board is touched","Try tweaking your code until you get it right. If you get stuck, tap the tutorial bar.","Trying to reach server","Tutorial completed","Tutorials","Twitter","Type to search online...","Type to search...","TypeScript","Types, order, and number of event parameters cannot be edited.","UI widget","URL: {0}","Update positions of sprites on board.","Updates picture on a picture sprite (if it is a picture sprite)","Updates text on a text sprite (if it is a text sprite)","Upload Picture","Upload Sound","Users","We cannot run this script","We need more options","We will adapt the editor to your coding skill level. You can change your skill level later in the hub.","What is your level of programming knowledge?","What is your occupation?","What's new","Where in the world are you?","Writes another picture at a given location. The opacity ranges from 0 (transparent) to 1 (opaque).","You are online.","YouTube","YouTube video (https://youtu.be/...)","Your .hex will be uploaded onto your BBC micro:bit soon.","Your GitHub user.","Your Minecraft user.","Your art will appear here","Your browser does not allow Touch Develop to store data. This usually happens if run in Private Mode (Safari), in InPrivate mode (Internet Explorer) or your security settings prevent data storage. Sign in or change your browser settings to avoid loosing your work. All the changes not saved to the cloud will be lost when leaving this page.","Your channel will appear here","Your email address has not yet been verified. Please check your inbox.","Your full name","Your nickname is displayed on public pages. Make sure you do not enter your last name there.","Your script '{0}' cannot be published. Error message: {1:not available}","Your script has errors!","Your script will appear here","Your twitter handle, like @touchdevelop.","a few seconds ago","a function","a global variable","a minute ago","a page","about coverage","about insights","about profile","about you","abuse","abuse report","abuse reports","abuse review","access and use your location","access denied","access the {0} field","activity","add","add a new ...","add a publication note","add an action that fires for every display frame.","add comment","add comment for this field","add custom website","add function","add hearts","add input parameter","add line above","add line below","add new","add new tag","add optional","add output parameter","add to channel","add to inventory","add {0}","adding plugins","alien","all APIs","allow","amazing, astonishing, astounding, awe-inspiring, awesome, breathtaking, classic, cool, curious, distinct, exceptional, exclusive, extraordinary, fabulous, fantastic, glorious, great, ","an event handler","an function type definition","an hour ago","analyzing...","apply code","approvals","approve","approved","apps","are you sure?","art","art resource","assignment","authenticating...","author","author email","author web site","back","background","backspace","backspace this","bad key","ball","base","beginner","beginners","bell","binds to script:","blank","blank app","blank creeper","blank docs","blank game","blank minecraft","blank minecraft pi","blank pixel art","blank scratch","blank script plugin","blank turtle","blank tutorial","break in debugger","breakpoint","build","by time","by votes","call","call number","callback","cancel","cannot sync - you are not signed in","cat","change (back) to local","change contents","channels","checks if reference has not been set","choose .hex or .jsz files","choose a file","choose a picture","choose a picture (less than 1MB, smaller than 2048x2048)","choose a plugin","choose a wallpaper","choose group","choose library","choose new password","choose picture","choose your coding skill level","choose...","cleaning up browser data...","clear","clipboard","clone","cloud data","cloud sessions","code","code the goal line","coder","color #{0}","color: {0}","comment out","comments","compile","conditional","connected","connecting","console","continue","convert","copy","copy selection","coverage","create","create a new parameter","create channel","create code with...","create codes","creates an empty collection of entries","creates an empty collection of objects","creating script","current","current expression","customize the art!","cut","cut selection","database","debug","decimal dot","decorators","delete","delete local data and permissions","delete selection","demote to var","deny","description","description (helps search)","desert","details","did you want to use this value?","diff curr","diff prev","disable login","disabled","disconnect","dismiss","display value","displays the object on the wall","document name","document resource","dog","done","done!","edit","else if","email","email (private)","email and push notifications","email is not verified, {0}","enabled","enter a group name (required)","enter a number","enter invitation code","enter this code","errors","errors in plugin","events","everything","ex: ","example","excellent; great job; awesome; cool; you rock; well done; outstanding; you got it; right on","execute shell commands or manipulate files.","exit","expert","explosion","export","export a JSON representation of the contents","exported from this library","extend","extract","extract selection into function","extract to parameter","extract to var","find references","finished","fix it","follow tutorial in editor","for group","forks","function","function name","function types","function, variable, library, ...","gender","get my Hour of Code™ certificate","gets the timer that fires for every display frame.","github user","given ♥","global replace","global variable","global vars","go back","go back to coding! {0}★ to go","go back...","go to","go to list of things in your script","go to previous step","goal:","group","groups","hearts","help","here is your code","hide","history","hooray! your script is published","how found","i want it to run on","i'm finished with my Hour of Code™","icon art: {0}","if","if you are stuck, tap the goal line","image proxying","import can only be used from a script context","import code","import column values from a JSON object","import field values from a JSON object","imports","in a minute","in an hour","in this function","incredible, magical, marvellous, marvelous, mind-blowing, mind-boggling, miraculous, peculiar, phenomenal, rad, rockin', special, spectacular, startling, stunning, super-cool, ","initializing...","insert","insert comment","insert statement","insert {0}","insights","install {0}","installing and loading script","into local","island","issues","join a group","join group","jungle","just keep typing the search terms!","keep editing","known here as:","leaderboard","learn","learn about publishing","learn more","learn more about {0}","leave tutorial","let's change this","let's do it!","let's get started!","lib","libraries","library","library name","library reference","load more","load more replies","loading","loading art ...","loading comments for /{0}...","loading more...","loading replies...","loading script","loading tutorial","loading...","local","location","log","logical negation","logs","main","make call async","makers","manage data","maybe later","me","meow","minecraft","minecraft user","monster","moon","more","more ","more settings","move cursor","move left","move on to the next step","move the cursor left","move the cursor right","my art","my group","my groups","my script","my scripts","need a different name here","need a different string here","need a new field here","need a parameter","need to delete this","need to edit elsewhere","negation","new field/data","new function","new global var","new invitation code","new line","new local","new password:","new property","new stmt below","new variable","next page","next tutorials...","nickname","no","no art published by this user","no comments, tap to write some!","no forks, install, edit and re-publish script to create one!","no hearts. you can add one once you install the script!","no picture loaded yet","no previous email","no screenshots yet!","no tags, tap to add some!","no users in this group!","non-atomic","not today","notifications","now","now you can select a property of {0}; it doesn't do anything by itself","now you can select a property on it","number","number entry","objects","occupation","of an object","offline available","ok","ok, let's roll!","online","open","or tap to get help","others","overview","overwrite","pages","parameter name","parsing script text","password is reset","paste","pause","permissions","physics game starter","pick a script template...","picture","picture name","picture name (minimum 4 characters)","picture url","play again","please wait","please wait...","plugins","preview","print","privacy policy","private","private function","private profile","profile","programming knowledge","progress","promote to data","promote to field","public nickname","public profile","publish","publish as hidden","publish your script","published","pull changes","pull out to block level","pumpkin","re-run","read more...","read only","real name","real name (private)","receive email newsletters","receive email notifications","record name:","redeploying shell...","regular keypad","reloading script","remove","remove else","remove picture","remove white background (best for game sprites)","removing script...","rename","repeat n times","repeat on collection","repeat while","replace all in function","replace all in script","replace picture","replicated","replicated ","reply","report abuse","resume","revert to published version","rewind","rewind ","run","run main","run tests","run with instrumentation","save","saved","saving...","school","screens","screenshot","screenshot of {0}","script","script properties","scripts","search","search art","search art pictures","search here for {0}","search templates","searching...","see more options","select","select more","select that line","select type of this {0}","select {0}","serial","set local variable name","set name","set the handler that is invoked when the board is swiped","set the handler that is invoked when the board is tapped","set the handler that is invoked when the board is touched","set the handler that is invoked when the board touch is released","sets all fields to their default values","setting saved","settings","share","show","show how to complete this activity","show more options","showcase","sign in","sign in as:","sign in required","sign out","signing in...","signing out","simplify","skill level saved","skip iteration","skip this","social","sorry","sound","sound url","splash screen art: {0}","split","start beta testing","start over","starting script","starting...","stats","step in","step out","step over","still compiling, please wait...","stop","stop beta testing","stop function","stop loop","store in var","store the value in a variable","string","string resource","strip '{0}'","stuff you copied","subscribers","subscriptions","superior, supernatural, terrific, unbelievable, unearthly, unique, unprecedented, unusual, weird, wonderful, wondrous","surround with","sync","sync was disabled on purpose","syncing...","table","table of contents","tables","tag name {0} is not allowed","tag not allowed","tags","take picture","taker","tap (←) when done","tap [ok] when done","tap a checkmark to add (or remove) your 'vote' to an existing tag","tap here to move on to the next step","tap here when done","tap there","tap there for instructions","tap there to run your app","tap to change the color","tap to change the icon picture","tap to change the splash screen picture","tap to translate with Microsoft® Translator...","temporary","terms of use","test","test function","tests","tests if two references refer to the same object","the current function","the forums","the hub","the invitation code must be a number between 9 and 64 characters long","the script crashed","the shell and/or the file system. This script may be harmful for your computer. Do not allow this if you do not trust the source of this script.","this","this script is a library","this script is a web service","time and dates","to code","to continue","to global var","toggle breakpoint","top & new","touch develop","touch develop is in offline mode{0}","translate","translating tutorial...","translation","true or false","true?","try again!","turn into","tutorial progress","tutorial: ","tutorials","twitter handle","type: ","type: {0}","types","uncomment","under the hood (dbg): ","undo","undo fix","unhide","unicorn","uninstall","uninstall scripts","uninstalling...","unknown editor","unknown flag","unselect","unsubscribe","update","update them!","updating libraries","updating meta","updating picture...","updating script","updating your scripts","upload","upload picture","upload screenshot","upload sound","uploader","uploading documents","uploading pictures","url","url (e.g. http://localhost:4242):","use C++ compiler","users","value","variable","variable name","view as script","view/edit name, email, ...","vimeo video (https://vimeo.com/...)","wallpaper","we have a library '{0}' here; {1}","we have {0:a} here; did you want to do something with it?","we need a new field","we need a new table","we need a new {0}","we need different keypad","we need to a new variable","we need to edit another thing","we'll guide you step by step","web apps","web site key","web site name","web site url","website","website name","website url","which kind of event to add?","white","working hard","writing {0}","wrote","year of birth","yes","you can also search","you did it!","your best score: {0}","{0} ({1} line{1:s})","{0} day{0:s} ago","{0} down","{0} failed; we are now using offline mode;\n make sure your internet connection is working","{0} file{0:s} imported","{0} for this version","{0} hour{0:s} ago","{0} minute{0:s} ago","{0} month{0:s} ago","{0} of {1} done","{0} publish","{0} script{0:s} published","{0} second{0:s} ago","{0} up","{0} year{0:s} ago","{box:avatar:avatar}\n","© Copyright {0} {1}","● Sign in"];return"ar"==e?(TDev.Util._setLanguageArray(t,[0,0," --متغير محلي",0," [hidden]",0,0,0,0,0," من ",0," إرسال التغييرات",0,0,"أقواس 'Javascripty' المتعرجة، كل الأدوات، للمطورين الخبراء!",'دالة "ذرية"',0,0,0,0,"'{0}' يتوقع {1} هنا",0,0,0,"'{0}' قديم وينبغي عدم استخدامه",0,"'{0}' يقوم بإرجاع \\\"{1}\\\"؛ {2}",0,0,0,0,0,0,0,0,"، حصل على {0} في المقابل","، تم الحصول على {0}",0,0,0,"... هناك المزيد ...","// تعليقات",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>هذا السطر كامل!</b> دعنا نتابع العمل","<h3>تحميل الإعدادات الحالية...</h3>","<h3>لا مزيد من التلميحات!</h3>",0,"<h3>يتطلب {0:q} تسجيل الدخول</h3>",0,0,0,0,0,0,0,0,0,"تطبيق Minecraft Pi.","تطبيق Minecraft.","تطبيق زاحف في Minecraft.",0,0,0,0,0,0,0,0,0,0,"قيمة ثابتة للّون",0,0,0,0,0,0,0,0,0,"متغير عمومي",0,0,0,0,0,0,0,0,0,0,0,"الرقم (قد يكون سالبًا و/أو كسرًا)","قيمة ثابتة للعدد",0,0,0,"صورة","جزء من نص","تطبيق فن بكسل.",0,0,0,"مرجع إلى برنامج نصي لمكتبة",0,0,0,0,0,0,0,0,0,"صوت",0,0,0,0,"بنية بيانات المستخدم","جدول صفوف معرفة من قبل المستخدم",0,0,0,0,0,"اسم عرض فريد لملف التعريف العام لديك (8 أحرف على الأقل)",0,0,"واجهة مستخدم",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"إضافة إجراء يضفي جمالاً لكل إطار عرض",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"إضافة أرقام","يقوم بإزالة القيمة من الحياة الحالية.","إضافة قيمة إلى مجموع النقاط الحالي.",0,0,"بعد توقف البرنامج النصي، استعرض الرمز لمشاهدة المعلومات التي تم تجميعها.","كل مجموعاتي","كل برامجي النصية",0,0,0,0,0,0,0,"تطبيق فارغ يستخدم الصفحات والمربعات.","تطبيق فارغ يستخدم مكتبة الخدوش.","صفحة وثائق فارغة.","برنامج تعليمي تفاعلي فارغ.","مكوّن إضافي لمحرر برنامج نصي فارغ.","برنامج نصي فارغ، لا يقوم بأي إجراء.",0,0,"جدول مفهرس لصفوف معرفة من قبل المستخدم",0,"تطبيق سلحفاة.","يقوم بتطبيق `converter` على جميع عناصر مجموعة الإدخال ويقوم بإرجاع مجموعة نتائج",0,"هل تريد بالتأكيد إيقاف متابعة البرنامج التعليمي؟",0,"النشاط الفني بواسطة هذا المستخدم:","السؤال أو عرض القيم على الجدار...","إرفاق بيانات بالكائنات الأخرى","التعليمات البرمجية المتكررة لإنشاء لعبة.",0,0,0,0,0,0,"تغيير مستوى المهارة!",0,"للتحقق مما إذا كانت اللوحة تقع على نفس المسافة من اللوحة الأخرى.",0,0,0,"مسح كل الأحداث في قائمة الانتظار المرتبطة بهذه اللوحة","مسح صورة الخلفية","مسح كاميرا الخلفية",0,0,"رمز يتم إبرازه عندما يحدث تفاعل مستخدم","رمز يؤدي مهمة معينة","مقارنة الأرقام بأرقام مساوية","مقارنة الأرقام بأقل",0,"مقارنة الأرقام بأكثر",0,0,0,0,0,0,0,"سَلسلة جزأين من النص",0,0,0,0,0,0,"تحويل إلى الوقت المحلي",0,0,0,0,0,"إنشاء مجموعة","إنشاء برنامج نصي","إنشاء حاجز خط مع نقطة بدء محدد، وبعرض وارتفاع محددين. المرونة هي 0 للملصق، و1 للوثب الكامل.","إنشاء مجموعة جديدة لرسومات سبرايت.","إنشاء رسم سبرايت بيضاوي جديد.","إنشاء عرض ثنائي الأبعاد جديد لصورة.","إنشاء عرض ثنائي الأبعاد جديد لمستطيل.",0,"إنشاء ورقة عرض ثنائي الأبعاد جديدة.","إنشاء عرض ثنائي الأبعاد جديد لنص.","إنشاء عرض ثنائي الأبعاد بين عرضين ثنائيي الأبعاد.","إنشاء عرض ثنائي أبعاد لمرساة.","إنشاء قيمة غير صالحة لنوع الكائن هذا","إنشاء قناة","إنشاء مجموعات من العناصر.",0,"إنشاء جدران حول اللوحة على مسافة معينة.","إنشاء تطبيقاتك",0,0,"لإنشاء حد لعبة جديد فارغ وإظهاره على الشاشة.",0,0,0,"لإنشاء عرض ثنائي الأبعاد جديد بعرض يبلغ 100 مع صورة معينة.",0,"لإنشاء مثيل لوحة لعبة غير صالحة",0,0,"الجهاز الحالي",0,"نقطة اللمس الحالية","يفصل المعالج عن الحدث.",0,'يعرض الصورة على حائط، ستكون بحاجة إلى طلب "التحديث على الحائط" في وقت لاحق إذا كنت تريد أن تظهر التغييرات.',0,0,0,"لعرض حالة لوحة اللعبة على الحائط",0,"تنفيذ تداخل العرض ثنائي الأبعاد",0,"المستندات",'لا تنس التمرير لأسفل ولمس "حفظ" عند الانتهاء من التحرير!',"سحب وإفلات الكتل، واجهة مبسّطة، رائعة للمبتدئين!","رسم خط بين نقطتين","رسم بعض حدود النص بلون وحجم خط معين","تحرير التعليمة البرمجية كنص، مزيد من الخيارات، لكتاب التطبيقات الطموحين!",0,0,"إدخال اسم",0,"إدخال بعض المعلومات الخاصة بك","إدخال عنوان URL لموقع الويب الشخصي لديك (مثلاً: http://www.northwindtraders.com)","إدخال رمز الدعوة",0,"لا يمكن أن يكون للأحداث معلمات خارجية.","سيتمكن كل شخص من رؤية صورتك على الإنترنت للأبد. ",0,0,"ملحقات","Facebook","ملء قطع ناقص بلون معين","ملء مستطيل بلون معين","سرعة اللمس النهائية بعد إنهاء اللمس","بالنسبة للبرامج النصية المنشورة، انظر أيضا إلى علامة التبويب الخاصة بصفحة البرنامج النصي المنشور للبحث عن ملف التعريف وبيانات التغطية التي يتم تجميعها بواسطة العديد من المصادر.","منتديات",'من الآن فصاعدًا، لن نعرض لك التعليمات البرمجية اللازم كتابتها. اتبع التعليمات واضغط على "تشغيل" عندما تعتقد أنك انتهيت.',"الدوال في البرنامج النصي الحالي",0,0,0,0,0,"للحصول على لقطة شاشة لحالات لوحة اللعبة (إذا كان أي منها متصلاً بالمستعرض). فارغ إذا كان غير مدعوم أو لا توجد لوحة لعبة متصلة.",0,0,0,"للحصول على قيمة تشير إلى ما إذا كان اللوح قد صّمم ليتم عرضه في الوضع الأفقي",'الحصول على قيمة توضح ما إذا كانت الأغنية محمية بموجب إدارة الحقوق الرقمية "DRM"',"للحصول على قيمة س وص للمحاور المحددة.",0,0,"للحصول على مشهد الخلفية","الحصول على موضع التمركز الأفقي بالبكسل",0,"الحصول على لون له قيمة ARGB تبلغ #00FFFFFF","الحصول على لون له قيمة ARGB تبلغ #FF000000","الحصول على لون له قيمة ARGB تبلغ #FF0000FF","الحصول على لون له قيمة ARGB تبلغ #FF008000","الحصول على لون له قيمة ARGB تبلغ #FF00FFFF",0,"الحصول على لون له قيمة ARGB تبلغ #FF800080",0,0,0,0,"الحصول على لون له قيمة ARGB تبلغ #FFFF0000","الحصول على لون له قيمة ARGB تبلغ #FFFF00FF","الحصول على لون له قيمة ARGB تبلغ #FFFFA500",0,"الحصول على لون له قيمة ARGB تبلغ #FFFFFF00","الحصول على لون له قيمة ARGB تبلغ #FFFFFFFF",0,0,0,0,"للحصول على أول لوحة لعبة متصلة متوفرة",0,"للحصول على معرف لوحة اللعبة",0,"الحصول على الارتفاع بالبسكل","يحصل على الارتفاع الخاص بصورة الكاميرا بالبكسل.",0,0,0,0,0,0,0,0,0,"للحصول على فهرس اللاعبين","احصل على القيمة المضغوطة لزر. لإرجاع 0 إذا كان الزر مفقودًا.",0,"الحصول على مستوى الصوت للأصوات من 0 (صامت) إلى 1 (الصوت الحالي)","للحصول على عدد الصور ثنائية الأبعاد","للحصول على عرض ثنائي الأبعاد مفهرس حسب",0,"للحصول على الطابع الزمني للقطة الشاشة هذه",0,"الحصول على العرض بالبسكل","يحصل على العرض الخاص بصورة الكاميرا بالبكسل.","الحصول على الموضع ص بالبسكل","بدء الاستخدام",0,"المتغيرات العامة في البرنامج النصي الحالي",0,0,0,0,0,0,0,0,0,0,0,0,0,"في وضع تصحيح الخطأ، تعرض اللوحة السرعة والمعلومات الأخرى للعروض ثنائية الأبعاد","للإشارة إلى ما إذا كان قد تم الضغط على زر أم لا. لإرجاع خطأ إذا كان الزر مفقودًا.",0,"للإشارة إلى ما إذا كانت بيانات لوحة اللعبة مطابقة أم لا","للإشارة إلى ما إذا كانت لوحة اللعبة لا تزال متصلة أم لا.",0,0,0,0,'إدراج "{0}" {1}',"التفاعل مع وقت التشغيل","العناصر المعلَّمة بـ * مطلوبة.","بيانات JSON","انضم للمجموعة","نقطة نهاية اللمس الأخيرة","نقطة بداية اللمس الأخيرة",0,0,0,0,0,"جعل التحديثات مرئية.",0,0,"جعل رسم سبرايت يقفز بالكامل على حافة الشاشة",0,"روعة الرياضيات، القيمة المطلقة abs، الحد الأقصى max،...","Me",0,"مستخدم Minecraft",0,0,"نقل رسم سبرايت باتجاه رسم سبرايت آخر.","ضرب أرقام",0,0,0,0,0,0,0,0,"برامج نصية جديدة",0,"الألوان الجديدة أو المضمنة",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"يختار لون عشوائي",0,0,0,0,0,0,"يرجى مراجعة بيان الخصوصية الخاص بنا.",0,"نشر تعليق...",0,0,0,"إجراء خاص لا يشتمل على زر تشغيل.","لمطالبة المستخدم بإدخال رقم",0,"نشر البرنامج النصي","انشر البرنامج النصي الخاص بك، كي يتمكن الجميع من تشغيله.",'النشر يخضع لـ " الخاص بنا ',"جارٍ نشر البرنامج النصي...","يتم الرفع عند بدء الرسم المتحرك في الحركة","يتم الرفع عند توقف الرسم المتحرك عن الحركة","يقرأ نص الاستجابة كموجة صوتية","يمكنك تلقي إعلامات البريد الإلكتروني عند مراجعة أشخاص آخرين/أخذهم لقطات شاشة من/التعليق على البرامج النصية الخاصة بك، أو الرد على أحد تعليقاتك أو عند وقوع أحداث متعلقة باشتراكاتك.","تذكر: سيتمكن الجميع من رؤية برنامجك النصي إذا قمت بنشره، لذا تأكد من أنه لا يحتوي على أي من كلمات المرور أو المعلومات الشخصية الخاصة بك.","يقوم بإزالة القيمة من مرة الحياة الحالية.","رد...","إبلاغ/حذف","تغيير حجم الصورة إلى الحجم المحدد بالبكسل",0,"إرجاع نسخة للصورة",0,0,"يقوم بإرجاع تاريخ يضيق عدد معينا من الأشهر لقيمة هذا المثيل.","يقوم بإرجاع تاريخ يضيق عدد معينا من الأعوام لقيمة هذا المثيل.",'إرجاع رقم صحيح عشوائي بين "الحد الأدنى" و"الحد الأقصى" ويشملهما.',0,0,0,0,0,0,0,'إرجاع "صواب" إذا كان المثيل الحالي بدون استخدام',0,0,0,0,"تحديثات البرنامج النصي","البرامج النصية بواسطة هذا المستخدم:","بحث",0,"بحث عن الرمز...","بحث عن كل شيء","بحث هنا...",0,0,"بحث...",0,0,0,"مشاهدة المزيد",0,0,"تعيين تدرج الألوان على تشغيل أو إيقاف","يقوم بتعيين التحويل الخطي مع إضافة مصفوفة 3×3 المطبقة على الحائط.",0,"لتعيين كاميرا الخلفية","لتعيين لون الخلفية",0,"تعيين صورة الخلفية","تعيين موضع التمركز الأفقي بالبكسل","يقوم بتعيين نقاط الحياة الحالية.","لتعيين الجزء الافتراضي من العروض ثنائية الأبعاد لجزء فقد السرعة بين 0 و1","تعيين الارتفاع بالبسكل","تعيين الموضع بالبسكل",0,"تعيين مستوى الصوت للأصوات من 0 (صامت) إلى 1 (الصوت الحالي)","تعيين السرعة بالبكسل/الثواني","تعيين لون العرض ثنائي الأبعاد.","لتعيين موجّه التسارع الموحّد للكائنات على اللوحة بالبكسل/ثانية^2",0,0,"تعيين العرض بالبسكل","تعيين السرعة س بالبكسل/ث","تعيين تسارع ص بالبكسل/الثانية المربعة","تعيين الموضع ص بالبسكل","تعيين السرعة ص بالبكسل/ث",0,"إعدادات","شاركه باستخدام عنوان url هذا:","يظهر أخطاء في المحرر في حالة استخدام البرنامج النصي لأي واجهات برمجة تطبيقات (API) تمنع تشغيله على هذه الأنظمة الأساسية.","لإظهار اللوحة على الحائط.",0,"مستوى المهارة: {0}     ",0,0,0,0,0,"لإيقاف كل مؤقتات كل إطار ومسحها",0,"طرح أرقام",0,"TD100: إدراج {0} هنا",'TD101: يتعذر البحث عن \\"{0}\\"',"TD109: يتعذر التعيين إلى ذلك","TD111: يتعذر التعيين من {0} إلى {1}",'TD112: لا يمكنني العثور على الخاصية \\"{0}\\" على {1}',"TD115: معلمة (معلمات) زائدة متوفرة لـ {0}","TD116: لا توجد معلمات كافية إلى {0}",'TD118: يريد الشرط \\"إذا\\" {1}',"TD119: أحتاج إلى شيء ما لتكراره",0,'TD130: مرتبط بما يريده \\"لـ\\" {1}','TD144: يبدو أنك ليس لديك \\"{0}\\", حاول الإضافة','TD145: يبدو أنه يوجد عامل (مثل \\"+\\", أو \\"(\\"، أو \\",\\") مفقود هنا','TD147: لم نتوقع \\"{0}\\" هنا',"TD150: يتعذر استدعاء الشيء قبل '('","TD151: مفتوح '('",'TD152: \\")\\"\\" غير متوقع',"TD154: المحرر في حاجة إلى شيء بعده","TD155: '{0}' لا يمكن تعيينها إلى متغير محلي","تعليم الترميز الإبداعي!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"يستخدم هذا البرنامج النصي الإمكانات التالية: ",0,"هذا البرنامج التعليمي يستخدم بيانات السحابة التي تتم مشاركتها مع مستخدمين آخرين.",'لإضافة بيانات الصفحة، قم بإنشاء متغير واضغط \\"ترقية إلى الحقل\\".',0,0,0,0,"ترجمة من قبل مترجم Microsoft ®، اضغط لرؤية الأصلي...","صحيح إذا تم لمس اللوحة","حاول تغيير التعليمة البرمجية وتبديلها حتى تحصل على التعليمة الصحيحة. إذا علقت، فاضغط على شريط البرامج التعليمية.",0,0,"برامج تعليمية","Twitter","اكتب للبحث على الإنترنت...","اكتب للبحث...",0,"يتعذر تحرير أنواع وترتيب ورقم معلمات الأحداث.","عنصر واجهة المستخدم الخاص بواجهة المستخدم",0,"تحديث مواضع العروض ثنائية الأبعاد على اللوحة.","تحديث الصورة على عرض ثنائي الأبعاد للصورة (إذا كانت عبارة عن عرض ثنائي الأبعاد للصورة)","لتحديث النص على عرض ثنائي الأبعاد للنص (إذا كانت عبارة عن عرض ثنائي الأبعاد للنص)","تحميل صورة","تحميل صوت","المستخدمون",0,"نحتاج إلى مزيد من الخيارات","سنجعل المحرر ملائمًا لمستوى مهارات الترميز لديك. يمكنك تغيير مستوى مهاراتك لاحقًا في الموزع.","ما مستوى معلوماتك البرمجية؟","ما مهنتك؟","الجديد","في أي مكان في العالم تقيم؟","يكتب صورة أخرى في مكان معين. يتراوح معدل الشفافية من 0 (شفاف) إلى 1 (معتم).",0,"YouTube",0,0,"مستخدم GitHub الخاص بك.","مستخدم Minecraft الخاصة بك.","العمل الفني الخاص بك يظهر هنا",0,"ستظهر قناتك هنا","لم يتم التحقق من صحة عنوان بريدك الإلكتروني حتى الآن. يرجى التحقق من علبة الوارد لديك.","اسمك بالكامل",0,0,0,"البرنامج النصي الخاص بك يظهر هنا","اسمك على twitter، مثل ‎@touchdevelop.","منذ بضع ثوانٍ","دالة أ","متغير عمومي","منذ دقيقة","صفحة","عن التغطية","عن الأفكار","عن ملف التعريف","عنك","إساءة استخدام",0,"تقارير الإساءة",0,0,0,"الوصول إلى الحقل {0}",0,"إضافة","إضافة جديد...",0,"إضافة إجراء يضفي جمالاً لكل إطار عرض.",0,0,0,0,0,"إضافة معلمة إدخال","إضافة سطر في الأعلى","إضافة سطر في الأسفل","إضافة جديد",0,0,"إضافة معلمة إخراج",0,0,0,0,0,"كل واجهات API","السماح","مذهل، مدهش، رائع، ملهم، جميل، خلاب، كلاسيكي، ظريف، لافت للنظر، مميز، استثنائي، حصري، غير عادي، خرافي، باهر، فخم، عظيم. ",0,"تعريف نوع دالة","منذ ساعة",0,0,0,0,0,"تطبيقات",0,"عمل فني","مورد العمل الفني","تعيين",0,"المؤلف",0,0,"الخلف",0,"مسافة للخلف","رجوع بذلك للخلف",0,0,"قاعدة","مبتدئ","المبتدئون",0,"يرتبط ببرنامج نصي:","فارغ","تطبيق فارغ","زاحف فارغ","مستندات فارغة","لعبة فارغة","لعبة minecraft فارغة","لعبة minecraft pi فارغة","فن بكسل فارغة","خدش فارغ","مكوّن إضافي لبرنامج نصي فارغ","سلحفاة فارغة",0,"إيقاف في مصحح الأخطاء","نقطة توقف",0,0,0,0,0,0,"إلغاء الأمر",0,0,"تغيير (رجوع) إلى محلي","تغيير المحتويات","قنوات","التحقق مما إذا كان المرجع لم يتم تعيينه",0,0,0,"اختر صورة (أقل من 1 ميجابايت، وأصغر من 2048×2048)",0,0,0,0,0,0,"اختيار مستوى مهارات الترميز لديك","اختيار...",0,"مسح","الحافظة","النسخة",0,"جلسات عمل سحابية","رمز","ترميز سطر الهدف","مبرمج","لون #{0}","اللون: {0}","تعليق","تعليقات",0,"شرطي","متصل",0,0,"متابعة",0,"نسخ","نسخ التحديد","تغطية","إنشاء","إنشاء معلمة جديدة",0,0,0,0,"إنشاء مجموعة كائنات فارغة","إنشاء برنامج نصي",0,"التعبير الحالي","تخصيص الفن!","قص","قص التحديد","قاعدة بيانات","تصحيح","نقطة عشرية","الديكور","حذف","حذف البيانات المحلية والأذونات","حذف التحديد","تخفيض إلى متغير","رفض","الوصف","الوصف (يساعد في البحث)",0,"تفاصيل","هل كنت تريد استخدام هذه القيمة؟","حالي مختلف","سابق مختلف",0,0,0,"استبعاد","عرض قيمة","عرض الكائن على الحائط",0,0,0,"تم","تم!","تحرير","آخر في حالة","البريد الإلكتروني",0,"البريد الإلكتروني والإعلامات",0,0,0,0,"أدخل رمز الدعوة","أدخل هذه التعليمة البرمجية","أخطاء",0,"الأحداث",0,"مثال: ",0,"ممتاز؛ عمل رائع؛ جميل؛ جيد؛ مبهر؛ متقن؛ استثنائي؛ مكتمل؛ صحيح",0,"إنهاء","خبير",0,"تصدير","تصدير تمثيل JSON للمحتويات","تم التصدير من هذه المكتبة","توسيع",0,"تحديد إضافي في الدالة",0,"استخراج إلى متغير","بحث عن مراجع","انتهى","الإصلاح","متابعة البرنامج التعليمي في المحرر","للمجموعة","روافع شوكية","الدالة","اسم الدالة","أنواع الدالة","الدالة، المتغير، المكتبة، ...","النوع الاجتماعي","الحصول على شهادة Hour of Code™ الخاصة بي","للحصول على المؤقت الذي يتم تشغيله لكل إطار عرض.","مستخدم github",0,"استبدال عمومي","متغير عمومي","متغيرات عمومية","رجوع للخلف","العودة إلى الترميز! {0}★ للانتقال","رجوع للخلف...","انتقال إلى",0,"انتقال إلى الخطوة السابقة","الهدف:","المجموعة","المجموعات","قلوب","تعليمات",0,0,"السجل","مرحى! تم نشر برنامج النصي","كيف عرفت","أريد التشغيل على","™انتهيتُ من ساعة البرمجة","قصاصة الرمز الفنية: {0}",0,"إذا علقت، فاضغط على سطر الهدف",0,0,0,0,"استيراد قيم الحقل من كائن JSON",0,0,0,"في هذه الدالة","مذهل، سحري، إعجازي، إعجازي، آخذ للعقول، مدهش للعقول، معجز، متميز، نادر، مثير للإعجاب، أسطوري، خاص، دراماتيكي، مروع، فاتن، رائع بشكل فائق، ",0,"إدراج","إدراج تعليق","إدراج عبارة","إدراج {0}","أفكار",0,"تثبيت البرنامج النصي وتحميله","إلى محلي",0,"المشكلات","الانضمام إلى مجموعة","انضمام إلى المجموعة",0,"واصل كتابة مصطلحات البحث!","واصل التحرير","معرفة هنا كـ:",0,"تعلّم","معرفة المزيد عن عملية النشر","معرفة المزيد","معرفة المزيد حول {0}","مغادرة البرنامج التعليمي","لنقم بتغيير ذلك","لنقم بذلك!","لنبدأ","مكتبة","مكتبات","مكتبة","اسم المكتبة","مرجع المكتبة","تحميل المزيد","تحميل المزيد من الردود","جارِ التحميل",0,"جارٍ تحميل التعليقات لـ /{0}...",0,"جارٍ تحميل الردود...","تحميل البرنامج النصي","تحميل البرنامج التعليمي","جارِ التحميل...","محلي","الموقع",0,"رفض منطقي","سجلات","رئيسي",0,"منشئون","إدارة البيانات","ربما في وقت لاحق","أنا",0,0,"مستخدم minecraft",0,0,"المزيد","المزيد ","مزيد من الإعدادات","تحريك المؤشر","تحريك لليسار","تابع إلى الخطوة التالية","تحريك المؤشر لليسار","تحريك المؤشر لليمين","العمل الفني الخاص بي",0,0,0,"برامجي النصية","بحاجة إلى اسم مختلف هنا","بحاجة إلى سلسلة مختلفة هنا","بحاجة إلى حقل جديد هنا","بحاجة إلى معلمة","بحاجة إلى حذف ذلك","بحاجة إلى التحرير في مكان آخر","رفض",0,0,0,0,"سطر جديد",0,0,0,"عبارة جديدة أدناه","متغير جديد",0,"البرامج التعليمية التالية...","اللقب",0,"لم يتم نشر أي فن بواسطة هذا المستخدم","لا توجد تعليقات، المس لكتابة شيء ما!","لا توجد تفرعات شوكية، قم بتثبيت البرنامج النصي وتحريره وإعادة نشره لإنشاء تفرع شوكي!","لا توجد قلوب. يمكنك إضافة واحد منها بمجرد تثبيت البرنامج النصي!","لم يتم تحميل أي صورة حتى الآن",0,0,"لا توجد علامات، المس لإضافة البعض!",0,0,0,"إعلامات",0,"يمكنك الآن تحديد خاصية {0}; لا يقوم بأي شيء بنفسه","يمكنك الآن تحديد خاصية عليه","الرقم","إدخال الرقم","الكائنات","المهنة","لكائن","متوفر دون اتصال","موافق","حسنًا لنبدأ!","متصل",0,"أو انقر للحصول على المساعدة","أخرى","نظرة عامة",0,"صفحات",0,"تحليل نص البرنامج النصي",0,"لصق","إيقاف مؤقت",0,"بادئ لعبة فيزياء","اختيار قالب برنامج نصي...","صورة","اسم الصورة","اسم الصورة (4 أحرف كحد أدنى)","عنوان url للصورة","اللعب مرة أخرى","يرجى الانتظار","يرجى الانتظار...","مكونات إضافية","معاينة","طباعة",0,"خاص","دالة خاصة","ملف تعريف خاص","ملف تعريف","المعلومات البرمجية",0,"ترقية لبيانات",0,"اللقب العام","ملف تعريف عام","نشر","نشر إصدار مخفي",0,"تم النشر","تغييرات السحب","سحب لمستوى الحظر",0,"إعادة تشغيل","قراءة المزيد...","قراءة فقط","الاسم الحقيقي",0,"تلقي رسائل إخبارية على البريد الإلكتروني","تلقي إعلامات البريد الإلكتروني","اسم السجل:",0,"لوحة مفاتيح عادية","إعادة تحميل البرنامج النصي","إزالة",0,"إزالة صورة","إزالة الخلفية البيضاء (الأفضل للعروض ثنائية الأبعاد في الألعاب)",0,"إعادة تسمية","تكرار على أوقات","تكرار على المجموعة","تكرار أثناء","استبدال الكل في الدالة","استبدال الكل في البرنامج النصي","استبدال صورة","نسخ","نسخ ",0,"إبلاغ عن إساءة استخدام",0,"عودة إلى الإصدار المنشور",0,"إرجاع ","تشغيل","تشغيل الرئيسي",0,"تشغيل من خلال الأدوات","حفظ","تم الحفظ","يتم الآن الحفظ...","المدرسة","شاشات","لقطة شاشة","لقطة شاشة لـ {0}","برنامج نصي","خصائص البرنامج النصي",0,"بحث","بحث في الفن","بحث في صور الفن","بحث هنا عن {0}","بحث في القوالب","جارِ البحث...","عرض المزيد من الخيارات","تحديد","تحديد المزيد","تحديد هذا السطر","تحديد نوع هذا {0}",0,0,"تعيين اسم متغير محلي","تعيين اسم","تعيين المعالج الذي يتم استدعاؤه عند تمرير اللوحة","تعيين المعالج الذي يتم استدعاؤه عند الضغط على اللوحة","تعيين المعالج الذي يتم استدعاؤه عند لمس اللوحة","تعيين المعالج الذي يتم استدعاؤه عند تحرير لمس اللوحة","تعيين كل الحقول على قيمها الافتراضية","تم حفظ الإعداد","إعدادات","مشاركة",0,"إظهار كيفية إكمال هذا النشاط","إظهار المزيد من الخيارات","عرض الحالة","تسجيل الدخول",0,0,"تسجيل الخروج","يتم الآن تسجيل الدخول...",0,"تبسيط","تم حفظ مستوى المهارة","تخطي التكرار",0,"مواقع التواصل الاجتماعي",0,"صوت",0,"قصاصة شاشة البدء: {0}","تقسيم",0,"البدء مرة أخرى","بدء البرنامج النصي","جارِ البدء...",0,"دخول","خروج","تخطي",0,"إيقاف",0,"إيقاف الدالة","إيقاف الحلقة","تخزين في متغير","تخزين القيمة في متغير","سلسلة",0,'شريط \\"{0}\\"',0,0,"اشتراكات","فائق، غير عادي، مرعب، لا يصدق، خارق للعادة، فريد، غير مسبوق، غير عادي، غريب، رائع، مدهش","إحاطة بـ",0,0,"جارٍ المزامنة...",0,0,0,0,0,"علامات",0,0,"اضغط على (←) عندما تنتهي","اضغط على [موافق] عندما تنتهي",0,"اضغط هنا للانتقال إلى الخطوة التالية","اضغط هنا عندما تنتهي","اضغط هناك","الضغط هناك للحصول على تعليمات","اضغط هناك لتشغيل تطبيقك","الضغط لتغيير اللون","اضغط لتغيير صورة الرمز","اضغط لتغيير شاشة البدء","اضغط للترجمة مع Microsoft ® مترجم...","مؤقت","terms of use","اختبار","دالة اختبار","اختبارات","اختبار ما إذا كان هناك مرجعان يشيران إلى نفس الكائن",0,0,"الموزع","يجب أن يكون رمز الدعوة رقمًا يتراوح طوله بين 9 و64 حرفًا","تعطل البرنامج النصي",0,0,"هذا البرنامج النصي عبارة عن مكتبة","هذا البرنامج النصي عبارة عن خدمة ويب",0,"إلى رمز","للمتابعة","لمتغير عمومي","تبديل نقطة التوقف","الأفضل والجديد",0,0,"ترجمة","ترجمة البرنامج التعليمي...",0,0,0,"حاول مرة أخرى!","تحويل إلى","تقدم البرنامج التعليمي","البرنامج التعليمي: ","برامج تعليمية","الاسم على twitter","النوع: ","النوع: {0}",0,0,0,"تراجع",0,0,0,0,0,0,0,0,0,0,"تحديث",0,0,0,0,0,0,"تحميل","تحميل الصورة","تحمين لقطة شاشة","تحميل صوت",0,0,0,"url عنوان",0,0,0,0,0,"اسم المتغير","عرض كبرنامج نصي","عرض/تحرير الاسم، البريد،...",0,"خلفية الشاشة",'لدينا مكتبة \\"{0}\\" هنا; {1}',"لدينا {0:a} هنا؛ هل كنت تريد أن تفعل به شيئًا ؟","نحتاج إلى حقل جديد","نحتاج إلى جدول جديد","نحتاج إلى الجديد من {0}","نحتاج للوحة مفاتيح مختلفة","نحتاج إلى متغير جديد","نحتاج لتحرير شيء آخر","سنقوم بتوجيهك خطوة بخطوة","تطبيقات ويب",0,0,0,"موقع الويب",0,"عنوان url الخاص بموقع الويب",0,0,0,0,0,"تاريخ الميلاد",0,0,"لقد قمت بذلك بنجاح!",0,"{0} ({1} سطر{1:s})","منذ {0} يوم{0:s}","{0} إلى أسفل",0,0,0,"منذ {0} عام{0:s}","منذ {0} دقيقة{0:s}","منذ {0} شهر{0:s}","تم الانتهاء من {0} من {1}","{0} نشر","تم نشر {0} برنامج نصي","منذ {0} ثانية{0:s}","{0} لأعلى","منذ {0} عام{0:s}"]),!0):"cy"==e?(TDev.Util._setLanguageArray(t,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Creu Cod",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Dechrau arni",0,0,0,"Cymorth",0,0,"Cartef","Rheolau",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Fy sgriptiau",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Partneriaid",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Polisi preifatrwydd",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Chwilio...",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Allgofnodi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Telerau defnyddio",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"fy sgriptiau",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"polisi preifatrwydd",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"tap yno",0,0,0,0,0,0,0,"telerau defnyddio",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"© Hawlfraint {0} {1}","● Mewngofnodi"]),!0):"de"==e?(TDev.Util._setLanguageArray(t,["   Vielleicht: {0} ({1} bei '{2}')\n","  -> Zeile {2} ('{1}'), Fehler: {0}\n{3}"," -- Lokale Variable"," [Klasse]"," [ausgeblendet]",0," Rückwärts"," Vorwärts"," Stunden "," Minuten "," von "," Sekunden "," Änderungen werden gesendet...",0,0,"Geschweifte Javascript-Klammern und alle Tools für erfahrene Entwickler!","'Atomische' Funktion",0,0,0,0,"'{0}' erwartet {1} hier",0,0,0,"„{0}“ ist ein Hindernis und sollte nicht verwendet werden.",0,"'{0}' gibt '{1}' zurück; {2}",0,0,0,0,0,0,0,0,", stattdessen {0} abgerufen",", {0} abgerufen",0,0,0,"... wir haben noch mehr ...","// Kommentar",0,0,0,0,"4. Veröffentlichen",0,0,0,0,0,0,0,0,0,"<b>Diese Zeile ist perfekt!</b> Weiter geht's","<h3>Aktuelle Einstellungen werden geladen...</h3>","<h3>Keine weiteren Tipps!</h3>",0,"<h3>Für die Nutzung von {0:q} ist die Anmeldung erforderlich.</h3>",0,0,0,0,0,0,"Eine 2D Nummernmatrix","Ein 3D Vektor","Eine Bing Karte","Eine Minecraft Pi-App.","Eine Minecraft-App.","Eine Minecraft Creeper-App.",0,0,0,0,0,0,0,0,0,0,"Eine Farbkonstante",0,0,"Eine Berührung",0,"Ein Dokument",0,0,0,0,"Eine globale Variable",0,0,0,0,0,0,0,0,0,0,0,"Eine Zahl (negative und/oder Bruchzahl möglich)","Eine Zahlenkonstante",0,0,0,"Ein Bild","Ein Stück Text","Eine Pixel-Art-App.",0,0,0,"Ein Verweis auf ein Bibliotheksskript",0,0,0,0,0,0,0,0,"Ein Lied","Ton",0,0,0,0,"Struktur mit Benutzerdaten","Eine Tabelle mit benutzerdefinierten Zeilen",0,0,0,0,0,"Ein eindeutiger Anzeigename für Ihr öffentliches Profil (mindestens 8 Zeichen)",0,0,"Eine Benutzeroberfläche",0,0,"ADJ-Skript",0,0,0,0,0,0,0,0,0,0,0,"Fügen Sie eine Aktion hinzu, die für jeden Anzeigeframe ausgelöst wird",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Addiert Zahlen",0,"Fügt dem Punktestand Werte hinzu.",0,0,"Nachdem das Skript beendet wird, durchsuchen Sie den Code, um die gesammelten Informationen anzuzeigen.","Alle meine Gruppen","Alle meine Skripts",0,0,0,0,0,0,0,"Eine leere App mit Seiten und Feldern.","Eine leere App, für die die Scratch-Bibliothek verwendet wird.","Eine leere Dokumentationsseite.","Ein leeres interaktives Lernprogramm.","Ein leeres Skript-Editor-Plug-In.","Ein leeres Skript ohne Funktion.",0,0,"Eine indizierte Tabelle mit benutzerdefinierten Zeilen",0,"Eine Schildkröten-App.","Wendet `Konverter` auf alle Elemente der Eingabesammlung an und gibt eine Sammlung von Ergebnissen zurück",0,"Möchtest du das Lernprogramm wirklich nicht weiter ausführen?",0,"Grafiken dieses Benutzers:",0,"Daten an andere Objekte anfügen","Codebaustein zum Erstellen eines Spiels.",0,0,0,0,0,0,"Qualifikationsstufe ändern",0,"Überprüft, ob das Board die gleiche Instanz wie das andere Board aufweist.",0,0,0,"Alle Ereignisse in Warteschlange für dieses Board löschen","Hintergrundbild löschen","Hintergrundkamera löschen",0,0,"Code, der bei einer Benutzerinteraktion ausgelöst wird","Code, der eine bestimmte Aufgabe durchführt","Vergleicht Zahlen auf Gleichheit","Vergleicht Zahlen auf weniger",0,"Vergleicht Zahlen auf mehr",0,0,0,0,0,0,0,"Verkettet zwei Textstücke",0,0,0,0,0,0,"Konvertiert zur lokalen Zeit",0,0,0,0,0,"Gruppe erstellen","Skript erstellen","Erstelle ein Linienhindernis mit vorgegebenem Startpunkt und einer Breite und Höhe. In Bezug auf die Elastizität steht 0 für Haften und 1 für vollständiges Abprallen.","Erstelle eine neue Sammlung für Sprites.","Erstelle ein neues ellipsenförmiges Sprite.","Neues Bildsprite erstellen.","Erstelle ein neues rechteckiges Sprite.",0,"Erstelle ein neues Spritesheet.","Erstellen Sie eine neue Text-Sprite.","Erstelle eine Spirale zwischen den beiden Sprites.","Erstelle ein Anker-Sprite.","Einen ungültigen Wert dieses Objekttyps erstellen","Kanal erstellen","Erstellen Sie Sammlungen von Gegenständen.",0,"Erstelle im gewünschten Abstand Wände um das Board.","Erstellen Sie Ihre eigenen Apps",0,0,"Erstellt ein neues, leeres Gameboard und zeigt es auf dem Bildschirm an.",0,0,0,"Erstellt auf der Grundlage eines Bilds ein neues Sprite mit der Breite 100.",0,"Erstellt eine ungültige Gamepad-Instanz",0,0,"Aktuelles Gerät",0,"Aktueller Berührungspunkt","Trennt den Handler vom Ereignis.",0,"Zeigt das Bild an der Wand an; Sie müssen später 'An der Wand aktualisieren' aufrufen, wenn Sie die Änderungen übernehmen möchten.",0,0,0,"Zeigt den Status des Gamepads auf der Wand an",0,"Überlappen die Sprites",0,"Dokumente","Vergessen Sie nicht, einen Bildlauf nach unten auszuführen und auf „Speichern“ zu tippen, wenn Sie mit der Bearbeitung fertig sind!","Blöcke per Drag & Drop einfügen und eine übersichtliche Oberfläche – hervorragend für Anfänger geeignet!","Zeichnet eine Linie zwischen zwei Punkten","Zeichnet einen Textrand mit einer angegebenen Farbe und Schriftgröße","Code als Text bearbeiten und mehr Optionen – optimal für angehende App-Entwickler!",0,0,"Namen eingeben",0,"Geben Sie Informationen über sich selbst ein.","Geben Sie die URL zu Ihrer persönlichen Website ein (Beispiel: http://www.northwindtraders.com).","Einladungscode eingeben",0,"Für Ereignisse können keine out-Parameter angegeben werden.","Jeder kann dein Bild immer im Internet sehen. ",0,0,"Erweiterungen","Facebook","Füllt eine Ellipse mit einer angegebenen Farbe","Füllt ein Rechteck mit einer angegebenen Farbe","Letzte Berührungsgeschwindigkeit nach Berührungsende","Achten Sie bei veröffentlichen Skripts auch auf die Registerkarte der Seite für veröffentlichte Skripts, um anonym gesammelte Crowdsourcing- und Deckungsdaten zu finden.","Foren","Ab jetzt wird der zu schreibende Code nicht mehr angezeigt. Folgen Sie den Anweisungen, und tippen Sie auf „Ausführen“, wenn Sie soweit sind.","Funktionen im aktuellen Skript",0,0,0,0,0,"Erstellt eine Momentaufnahme der Gamepad-Zustände (bei Verbindung mit dem Browser). Ist leer, wenn keine Unterstützung vorhanden oder kein Gamepad angeschlossen ist.",0,0,0,"Ruft einen Wert ab, der angibt, ob das Board für die Anzeige im Querformat ausgelegt ist","Ruft einen Wert ab, ob das Lied DRM-geschützt ist","Ruft den x- und y-Wert der ausgewählten Achsen ab.",0,0,"Dient zum Abrufen der Hintergrundszene","Ruft die mittlere horizontale Position in Pixeln ab",0,"Ruft die Farbe mit dem ARGB-Wert '#00FFFFFF' ab.","Ruft die Farbe mit dem ARGB-Wert '#FF000000' ab.","Ruft die Farbe mit dem ARGB-Wert '#FF0000FF' ab.","Ruft die Farbe mit dem ARGB-Wert '#FF008000' ab.","Ruft die Farbe mit dem ARGB-Wert '#FF00FFFF' ab.",0,"Ruft die Farbe mit dem ARGB-Wert '#FF800080' ab.",0,0,0,0,"Ruft die Farbe mit dem ARGB-Wert '#FFFF0000' ab.","Ruft die Farbe mit dem ARGB-Wert '#FFFF00FF' ab.","Ruft die Farbe mit dem ARGB-Wert '#FFFFA500' ab.",0,"Ruft die Farbe mit dem ARGB-Wert '#FFFFFF00' ab.","Ruft die Farbe mit dem ARGB-Wert '#FFFFFFFF' ab.",0,0,0,0,"Verwendet das erste verfügbare Gamepad, das angeschlossen wird",0,"Ruft den Gamepad-Bezeichner ab",0,"Ruft die Höhe in Pixeln ab","Ruft die Höhe des Kamerabilds in Pixeln ab.",0,0,0,0,0,0,0,0,0,"Ruft den Player-Index ab","Ruft den Wert für das Drücken einer Schaltfläche ab. Gibt 0 zurück, wenn die Schaltfläche fehlt.",0,"Ruft die Lautstärke für Töne von 0 (leise) bis 1 (aktuelle Lautstärke) ab","Ruft die Sprite-Anzahl ab","Sprite wird nach „i“ indiziert",0,"Ruft den Zeitstempel dieser Momentaufnahme ab",0,"Ruft die Breite in Pixeln ab","Ruft die Breite des Kamerabilds in Pixeln ab.","Ruft die y-Position in Pixeln ab","Erste Schritte",0,"Globale Variablen im aktuellen Skript",0,0,0,0,0,0,0,0,0,0,0,0,0,"Im Debugmodus zeigt das Board die Geschwindigkeit und andere Infos zu Sprites an.","Gibt an, ob eine Schaltfläche gedrückt wurde. Gibt „false“ zurück, wenn die Schaltfläche fehlt.",0,"Gibt an, ob die Gamepad-Daten identisch sind","Gibt an, ob das Gamepad noch angeschlossen ist.",0,0,0,0,"{1} '{0}' einfügen",0,"Mit einem Sternchen (*) markierte Elemente sind erforderlich.","JSON-Daten","Gruppe beitreten","Letzter Berührungsendpunkt","Letzter Berührungsstartpunkt",0,0,0,0,0,"Macht Updates sichtbar.",0,0,"Sorgt dafür, dass alle Sprites an den Bildschirmrändern abprallen",0,"Mathematische Funktionen, abs, max, ...","Me",0,"Minecraft-Benutzer",0,0,"Bewegt ein Sprite zu einem anderen Sprite.","Multipliziert Zahlen",0,0,0,0,0,0,0,0,"Neue Skripts",0,"Neue oder integrierte Farben",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Wählt willkürlich eine Farbe aus.","Bilder und Musik...",0,0,0,0,0,"Lesen Sie unsere Datenschutzbestimmungen.",0,"Kommentar posten...",0,0,0,"Private Aktionen haben keine Ausführungsschaltfläche. ","Fordert Benutzer zur Eingabe einer Zahl auf",0,"Skript veröffentlichen",0,"Eine Veröffentlichung unterliegt unseren ","Skript wird veröffentlicht...","Wird ausgelöst, wenn die Wiedergabe der Animation beginnt","Wird ausgelöst, wenn die Wiedergabe der Animation endet","Liest den Antworttext als einen Wavesound","Erhalten Sie E-Mail-Benachrichtigungen, wenn andere Benutzer Ihre Skripts anzeigen/kommentieren bzw. einen Screenshot Ihrer Skripts erstellen, auf einen Ihrer Kommentare antworten oder wenn Ereignisse in Zusammenhang mit Ihrem Abonnement auftreten.","Denken Sie daran: Jeder kann Ihr Skript sehen, wenn Sie es veröffentlichen. Stellen Sie daher sicher, dass es weder Ihre Kennwörter noch andere persönliche Informationen enthält.","Entfernt den Wert vom aktuellen Leben.","Antworten...","Melden/Löschen","Passt die Bildgröße an die angegebene Größe in Pixel an",0,"Gibt eine Kopie des Bilds zurück",0,0,"Gibt ein Datum zurück, das dem Wert dieser Instanz eine bestimmte Anzahl von Monaten hinzufügt.","Gibt ein Datum zurück, das dem Wert dieser Instanz eine bestimmte Anzahl von Jahren hinzufügt.","Gibt eine zufällige ganze Zahl im Bereich zwischen „min“ und „max“ aus.",0,0,0,0,0,0,0,'Gibt "wahr" zurück, wenn die aktuelle Instanz nutzlos ist',0,0,0,0,"Skript-Updates","Skripts von diesem Benutzer:",0,0,"Code suchen...","Durchsuchen","Hier suchen...",0,0,"Suchen...",0,0,0,"Mehr",0,0,"Schaltet den Farbverlauf ein oder aus.","Legt die affine 3x3-Matrixtransformation fest, die auf die Wand angewendet wird.",0,"Legt die Hintergrundkamera fest","Legt die Hintergrundfarbe fest.",0,"Legt das Hintergrundbild fest.","Legt die mittlere horizontale Position in Pixeln fest","Legt die aktuellen Lebenspunkte fest.","Legt die Standardreibung für Sprites auf einen Bruchteil des Geschwindigkeitsverlusts zwischen 0 und 1 fest","Legt die Höhe in Pixeln fest","Legt die Position in Pixeln fest",0,"Legt die Lautstärkestufe von 0 (leise) auf 1 (aktuelle Lautstärke) fest","Legt die Geschwindigkeit in Pixel/s fest.","Legt die Sprite-Farbe fest.","Legt den einheitlichen Beschleunigungsvektor für Objekte auf dem Board auf „Pixel/s^2“ fest",0,0,"Legt die Breite in Pixeln fest",'Legt die Geschwindigkeit von "x" in Pixel/s fest','Legt die Beschleunigung von "y" in Pixel/s^2 fest',"Legt die y-Position in Pixeln fest",'Legt die Geschwindigkeit von "y" in Pixel/s fest',0,"Einstellungen","Du kannst es mit dieser URL teilen:","Fehler im Editor anzeigen, wenn das Skript APIs verwendet, die ein Ausführen auf diesen Plattformen verhindern.","Zeigt das Board auf der Wand an.",0,"Qualifikationsstufe: {0}     ",0,0,0,0,0,"Hält alle Frame-Timer an und löscht sie",0,"Subtrahiert Zahlen",0,"TD100: Hier {0} einfügen","TD101: '{0}' kann nicht gefunden werden","TD109: Zuweisen darauf nicht möglich","TD111: Zuweisen von {0} zu {1} nicht möglich","TD112: Ich kann die Eigenschaft '{0}' nicht auf {1} finden","TD115: Überzählige(r) Parameter an {0} übergeben","TD116: Nicht genügend Parameter für {0} angegeben","TD118: 'if'-Bedingung möchte {1}","TD119: Es ist etwas erforderlich, das durchlaufen werden kann.",0,"TD130: Gebundenes Element von 'for' möchte {1}","TD144: Scheinbar fehlt Ihnen '{0}'. Versuchen Sie das hinzuzufügen","TD145: Es scheint hier ein Operator (z. B. '+', '('or',') zu fehlen","TD147: Wir haben '{0}' hier nicht erwartet","TD150: Element vor '(' kann nicht abgerufen werden.","TD151: '(' nicht geschlossen","TD152: unerwartet ')'","TD154: Hinter dem Operator muss etwas stehen","TD155: '{0}' kann keiner lokalen Variable zugewiesen werden.","Unterrichten Sie Creative Coding!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Das Skript verwendet die folgenden Fähigkeiten: ",0,"Dieses Tutorial enthält Clouddaten, die mit anderen Benutzern geteilt werden.","Um Seitendaten hinzuzufügen, erstellen Sie eine lokale var, und tippen Sie auf 'Auf Feld hochstufen'-",0,0,0,0,"Übersetzungen von Microsoft® Translator. Tippen, um Original anzuzeigen...","Wahr bei Berührung des Boards","Ändern Sie den Code, bis er richtig ist. Wenn Sie nicht weiterkommen, tippen Sie auf die Tutorialleiste.",0,0,"Anleitungen","Twitter","Text eingeben, um online zu suchen...","Eingeben, um zu suchen...",0,"Die Typen, die Reihenfolge und die Anzahl der Ereignisparameter können nicht bearbeitet werden.","UI-Widget",0,"Aktualisiere die Positionen der Sprites im Board.","Aktualisiert das Bild auf einem Bildsprite (wenn es ein Bildsprite ist)","Aktualisiert Text auf Textsprite (wenn Textsprite)","Bild hochladen","Klang hochladen","Benutzer",0,"Mehr Optionen erforderlich","Der Editor wird gemäß Ihrer Qualifikationsstufe im Programmierbereich angepasst. Sie können Ihre Qualifikationsstufe später im Hub ändern.","Über welche Qualifikationsstufe verfügen Sie im Programmierbereich?","Was ist Ihr Beruf?","Was ist neu","Wo befinden Sie sich?","Schreibt ein anderes Bild an einem angegebenen Speicherort. Die Deckkraft reicht von 0 (transparent) bis 1 (opak).",0,"YouTube",0,0,"Ihr GitHub-Benutzer.","Ihr Minecraft-Benutzer","Ihre Kunst wird hier angezeigt",0,"Ihr Kanal wird hier angezeigt.","Ihre E-Mail-Adresse wurde noch nicht überprüft. Überprüfen Sie Ihren Posteingang.","Ihr vollständiger Name",0,0,0,"Ihr Skript wird hier angezeigt","Ihr Twitter-Name wie etwa „@touchdevelop“.","Vor einigen Sekunden","eine Funktion","Eine globale Variable","Vor einer Minute","Eine Seite","Über Deckung","Über Einblicke","Über Profile","Persönliche Infos","Missbrauch",0,"Missbrauchsmeldungen",0,0,0,"Auf Feld '{0}' zugreifen",0,"Hinzufügen","Neu hinzufügen ...",0,"Aktion hinzufügen, die für jeden Anzeigeframe ausgelöst wird.",0,0,0,0,0,"Eingabeparameter hinzufügen","Zeile oben hinzufügen","Zeilen unterhalb hinzufügen","Neu hinzufügen",0,0,"Ausgabeparameter hinzufügen",0,0,0,0,0,"Alle APIs","Zulassen","erstaunlich, verblüffend, beeindruckend, atemberaubend, eindrucksvoll, klassisch, toll, eigenartig, besonders, außergewöhnlich, exklusiv, ungewöhnlich, fabelhaft, fantastisch, herrlich, großartig, ",0,"Die Definition eines Funktionstyps","Vor einer Stunde",0,0,0,0,0,"Apps",0,"Kunst","Kunst-Ressource","Zuweisung",0,"Autor",0,0,"Zurück",0,"Rücktaste","Mit Rücktaste löschen",0,0,"Basis","Anfänger","Anfänger",0,"Bindung an Skript:","Leer","Leere App","Leerer Creeper","Leere Dokumente","Leeres Spiel","Leeres Minecraft","Leeres Minecraft Pi","Leere Pixel-Art","Leeres Scratch-Element","Leeres Skript-Plug-In","Leere Schildkröte","Leeres Lernprogramm","In Debugger unterbrechen","Haltepunkt",0,0,0,0,0,0,"Abbrechen",0,0,"Auf lokal (zurück) ändern","Inhalte ändern","Kanäle","Überprüft, ob kein Verweis festgelegt wurde.",0,0,0,"Bild auswählen (weniger als 1 MB, kleiner als 2048x2048)",0,0,0,0,0,0,"Qualifikationsstufe im Programmierbereich auswählen","Auswählen...",0,"Löschen","Zwischenablage","Klonen",0,"Cloud-Sitzungen","Code","Ziellinie codieren","Programmierer","Farbe #{0}","Farbe: {0}","Auskommentieren","Kommentare",0,"Bedingung","verbunden",0,0,"Fortsetzen",0,"Kopieren","Auswahl kopieren","Abdeckung","Erstellen","Einen neuen Parameter erstellen",0,0,0,0,"Erstellt eine leere Sammlung mit Objekten","Skript erstellen",0,"Aktueller Ausdruck","Passen Sie die Kunst an!","Ausschneiden","Auswahl ausschneiden","Datenbank","Debuggen","Dezimalzeichen",0,"Löschen","Lokale Daten und Berechtigungen löschen","Auswahl löschen","Auf var tiefer stufen","Verweigern","Beschreibung","Beschreibung (Hilfe für Suche)",0,"Details","Sollte dieser Wert verwendet werden?","Differenz (aktuell)","Differenz (vorher)",0,0,0,"Verwerfen","Anzeigewert","Zeigt das Objekt an der Wand an.",0,0,0,"fertig","Fertig","Bearbeiten","else if","E-Mail",0,"E-Mail- und Pushbenachrichtigungen",0,0,0,0,"Einladungscode eingeben","Diesen Code eingeben","Fehler",0,"Ereignisse",0,"ex: ",0,"Exzellent, Großartige Leistung, Erstaunlich, Cool, Sie sind der Hammer, Gut gemacht, Hervorragend, Sie haben es drauf, Genau richtig",0,"Beenden","Experte",0,"Exportieren","Eine JSON-Darstellung der Inhalte exportieren","aus dieser Bibliothek exportiert","Erweitern",0,"Auswahl in Funktion extrahieren",0,"Zur var extrahieren","Verweis suchen","Fertig","Reparieren Sie's","Der Anleitung im Editor folgen","Für Gruppe","Verzweigungen","Funktion","Funktionsname","Funktionsarten","Funktion, Variable, Bibliothek, ...","Geschlecht","Hour of Code™-Zertifikat erhalten","Ruft den Timer ab, der für jeden Anzeigeframe ausgelöst wird.","GitHub-Benutzer",0,"Globales Ersetzen","Globale Variable","Globale Variablen","Zurück","Zurück zum Codieren! noch {0}★","Zurück...","Wechseln zu","Zur Liste von Dingen im Skript wechseln","zum vorherigen Schritt","Ziel:","Gruppe",0,"Herzen","Hilfe",0,0,"Verlauf","Hurra, dein Skript wurde veröffentlicht!","Wie gefunden","Ausführen auf","Ich bin mit meiner Hour of Code™ fertig.","Symbolgrafik: {0}","if","Wenn Sie nicht weiterkommen, tippen Sie auf die Ziellinie.",0,0,0,0,"Feldwerte aus einem JSON-Objekt importieren",0,0,0,0,"unglaublich, magisch, wundervoll, wunderbar, überwältigend, umwerfend, seltsam, phänomenal, bombig, irre, speziell, spektakulär, aufsehenerregend, cool, spitze, ",0,"Einfügen ","Kommentar einfügen","Anweisung einfügen","{0} einfügen","Einblicke",0,"Installieren und Laden des Skripts","In lokales Element",0,"Probleme","Gruppe beitreten","Gruppe beitreten",0,"Geben Sie einfach weitere Suchbegriffe ein!","Bearbeiten Sie weiter","Hier bezeichnet als:",0,"Lernen","Informationen zum Veröffentlichen","Mehr erfahren","erfahren Sie mehr über {0}","Lernprogramm verlassen","Das ändern wir.","Legen wir los!","Los geht's!","lib","Bibliotheken","Bibliothek","Bibliothekname","Bibliotheksverweis","Mehr laden","Weitere Antworten laden","Wird geladen",0,"kommentare für {0} wird geladen...",0,"Antworten werden geladen...","Skript wird geladen.","Tutorial wird geladen","Wird geladen...","Lokal","Ort",0,"Logische Negation","Protokolle","Hauptfunktion",0,"Makers","Daten verwalten","Vielleicht später","ich",0,0,"Minecraft-Benutzer",0,0,"Weitere","Mehr ","Weitere Einstellungen","Cursor bewegen","Nach links bewegen","Gehe zum nächsten Schritt","Cursor nach links bewegen","Cursor nach rechts bewegen","Meine Kunst",0,0,0,"Meine Skripte","Anderer Name erforderlich","andere Zeichenfolge erforderlich","Hier ist ein neues Feld erforderlich.","Parameter erforderlich","Muss gelöscht werden","Muss an anderer Stelle bearbeitet werden","Negation",0,0,0,0,"Neue Zeile",0,0,0,"Neue stmt unterhalb","Neue Variable",0,"Weitere Anleitungen...","Spitzname",0,"Von diesem Benutzer wurde keine Kunst veröffentlicht.","Keine Kommentare, tippen, um welche zu schreiben!","Keine Verzweigungen, Skript installieren, bearbeiten und neu veröffentlichen, um eine zu erstellen!","Keine Herzen, Sie können eins hinzufügen, indem Sie das Skript installieren!","Noch kein Bild geladen",0,0,"Keine Tags, tippen, um welche hinzuzufügen!",0,0,0,"Benachrichtigungen",0,"Jetzt können Sie eine Eigenschaft von {0} auswählen, es tut selbst nichts","Jetzt können Sie eine Eigenschaft dafür auswählen","zahl","Zahleneingabe",0,"Beruf",0,"Offline verfügbar","OK","OK, los geht's!","Online",0,"oder tippen für Hilfe","Andere","Überblick",0,"Seiten",0,"Analyse des Skripttexts",0,"Einfügen","Anhalten",0,"Starthilfe für Physikspiel","Skriptvorlage auswählen...","Bild","Bildname","Bildname (mindestens 4 Zeichen)","Bild-URL","Neues Spiel",0,"Bitte warten...","Plug-Ins","Vorschau","Drucken",0,"Privat","private Funktion","Privates Profil","Profil","Programmierkenntnisse",0,"Auf Daten höherstufen",0,"Öffentlicher Spitzname","Öffentliches Profil","Veröffentlichen","Veröffentlichen als ausgeblendet",0,"Veröffentlicht","Änderungen","Herausziehen, um Stufe zu blockieren",0,"Erneut ausführen","lesen Sie mehr...","Schreibgeschützt","Richtiger Name",0,"E-Mail-Newsletter erhalten","E-Mail-Benachrichtigungen erhalten","Name aufzeichnen:",0,"Normales Tastenfeld","Skript wird neu geladen","Entfernen",0,"Bild entfernen","Weißen Hintergrund entfernen (optimal für Spielesprites)",0,"Umbenennen","n Mal wiederholen","Auf Sammlung wiederholen","wiederholen während","Funktion „Alle ersetzen“","Alle in Skript ersetzen","Bild ersetzen","Repliziert","Repliziert ",0,"Missbrauch melden",0,"Veröffentlichte Version wiederherstellen","Zurück","Zurück ","Ausführen","„main“ ausführen",0,"Mit Instrumentation ausführen","Speichern","gespeichert","Wird gespeichert...","Schule","Bildschirme","Screenshot","Screenshot von {0}","Skript","Skripteigenschaften",0,"Suchen","Kunst durchsuchen","Kunstbilder durchsuchen","Hier suchen nach {0}","Suchvorlagen","Wird gesucht...","Weitere Optionen","Auswählen","Mehr auswählen","Diese Zeile auswählen","Typ für {0} auswählen",0,0,"Name der lokalen Variablen festlegen","Name festlegen","Lege den Handler fest, der beim Wischen auf dem Board aufgerufen wird","Legen Sie den Handler, der beim Tippen auf das Brett aufgerufen wird, fest","Lege den Handler fest, der beim Berühren des Boards aufgerufen wird","Lege den Handler fest, der beim Loslassen des Boards aufgerufen wird","Legt alle Felder auf die Standardwerte fest.","Einstellung gespeichert","Einstellungen","Freigeben",0,"Zeigen, wie diese Aktion fertiggestellt wird","Weitere Optionen anzeigen","Schaufenster","Anmelden",0,0,"Abmelden","Anmelden...",0,"Vereinfachen","Qualifikationsstufe gespeichert","Iteration überspringen",0,"Soziales",0,"Klang",0,"Begrüßungsbildschirm-Grafik: {0}","Trennen",0,"Von vorn beginnen","Skript wird gestartet","Wird gestartet...",0,"Schrittweise ausführen","Schrittweise ausführen beenden","Überspringen",0,"Anhalten",0,"Funktion beenden","Schleife beenden","In var speichern","Speichern Sie den Wert in einer Variablen","Zeichenfolge",0,"Streifen '{0}'",0,0,0,"überragend, unnormal, grandios, sagenhaft, überirdisch, einzigartig, beispiellos, ausgefallen, eigenartig, herrlich, traumhaft","Umgeben mit",0,0,"synchronisieren von...",0,0,0,0,0,"Tags",0,0,"Tippen (←), wenn fertig","Anschließend auf [ok] tippen",0,"Hier tippen, um zum nächsten Schritt zu gelangen","Anschließend hier tippen","Dort tippen","Für Anweisungen hier tippen","Dort tippen, um die Anwendung auszuführen","Tippen, um die Farbe zu ändern","Tippen, um das Symbolbild zu ändern","Tippen, um das Begrüßungsbildschirm-Bild zu ändern","Tippen, um mit Microsoft® Translator zu übersetzen...","Temporär","terms of use","Test","Testfunktion","Tests","Überprüft, ob sich zwei Verweise auf dasselbe Objekt beziehen.",0,0,"Der Hub","Der Einladungscode muss eine Zahl mit 9 bis 64 Zeichen sein","Skript abgestürzt",0,0,"Dieses Skript ist eine Bibliothek","Dieses Skript ist ein Webdienst.",0,"Zum Codieren","Fortsetzen","Zur globalen var","Breakpoint umschalten","Beste & Neueste",0,0,"übersetzen","Tutorial wird übersetzt...",0,0,0,"Versuchen Sie es erneut.","Umwandeln","Fortschritt in der Anleitung","Anleitung: ","Tutorials","Twitter-Name","Typ:","Typ: {0}",0,0,0,"Rückgängig",0,0,0,0,0,0,0,0,0,0,"Update",0,0,0,0,0,0,"Hochladen","bild hochladen","Screenshot hochladen","Klang hochladen",0,0,0,"URL",0,0,0,0,0,"Variablenname","Als Skript anzeigen","Name, E-Mail anzeigen/bearbeiten ...",0,"Hintergrundbild","Wir haben hier '{0}' eine Bibliothek; {1}","Wir haben hier {0:a}. Wolltest du dieses Element für eine Aktion verwenden?","Neues Feld erforderlich","Neue Tabelle erforderlich","Wir brauchen einen neuen {0}","Wir benötigen ein anderes Tastenfeld","Neue Variable erforderlich","Wir müssen noch etwas anderes Ändern","Wir leiten Sie Schritt für Schritt weiter","Web-Apps",0,0,0,"Website",0,"Website-URL",0,0,0,0,0,"Geburtsjahr",0,0,"Sie haben es geschafft!",0,"{0} ({1} Zeile{1:s})","Vor {0} Tag{0:s}","{0} unten",0,0,0,"vor {0} Stunde{0:s}","Vor {0} Minute{0:s}","Vor {0} Monat{0:s}","{0} von {1} fertig","{0} veröffentlichen","Das Skript {0} wurde veröffentlicht","Vor {0} Sekunde{0:s}","{0} hochladen","Vor {0} Jahr{0:s}"]),!0):"en-GB"==e?(TDev.Util._setLanguageArray(t,["{0}PBA","  -> Line {2} ('{1}'), error: {0}\n{3}part",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Search...",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"a function",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"add",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"dismiss",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"goal:",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"insert {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"more",0,0,0,0,0,0,0,0,0,0,0,"my scripts",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"run",0,0,0,0,0,0,0,0,0,0,"script",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"tap there"]),!0):"es"==e?(TDev.Util._setLanguageArray(t,[0,"  -> Línea {2} ('{1}'), error: {0}\n{3}"," -- una variable local"," [class]"," [oculto]"," [override]"," atrás"," adelante"," horas "," minutos "," de "," segundos "," enviando cambios"," esperando por el servidor","### código fuente completo","Las llaves de Javascript, todas las herramientas, para desarrolladores con experiencia","función 'atomic'","'box' solo se puede acceder desde la página de visualización del código","'box' no se puede acceder en el modo de diseño HTML",0,"'html' sólo se puede acceder en el modo de diseño HTML","'{0}' espera {1} aquí","'{0}' tiene una firma no soportada","'{0}' no está implementada","'{0}' es obsoleto y no está implementado","'{0}' obsoleto, no debería utilizarse",0,"'{0}' devuelve un '{1}'; {2}","'{0}' devuelve valores de {1}; puede utilizar el botón 'store in var' para guardar a los locales","(Opcional) Un URI que identifica una página con información sobre el error, usado para proporcionar información adicional sobre el error, al desarrollador del lado del cliente.","(Opcional) Un código de error legible.","(Opcional) Pares adicionales de clave y valor no cubiertos por la especificación OAuth 2.0.","(Opcional) Indica si el token puede caducar dentro de los próximos segundos.","(Opcional) Opcional si es idéntico al alcance solicitado por el cliente; de lo contrario, el alcance del token de acceso según lo descrito por la sección 3.3 de la especificación de OAuth 2.0.","(Opcional) La duración en segundos del token de acceso.","(por favor espere, puede tardar hasta un minuto)",", en su lugar, se obtuvo {0}",", obtuvo {0}",", tamaño: {0} caracteres",". Por favor, lea nuestra ","... nada que ver aquí...","... hay más ...","// comentario","1. elegir un documento (.txt, .pptx, .pdf, .css, de menos de 8MB)","1. escoja un sonido MP3 (menos de 1MB)","2. dar un nombre (mínimos 4 caracteres)","3. describir","4. publicar",":( Lo sentimos, ha ocurrido un error al traducir este texto.",":( Lo sentimos, no se ha podido traducir esto.",":( no pudo encontrar alguna fuente de vídeo",":( no válido en la información de vídeo","; ¿le falta → ◈ref?","<a href='http://cordova.apache.org/' target='_blank'>Apache Cordova</a> le permite construir aplicaciones móviles multiplataforma.","<a href='http://go.microsoft.com/fwlink/?LinkId=254432' target='_blank'> generar el certificado</a>.","<b>Descargo de responsabilidad:</b> Esta aplicación web no está avalada por Microsoft.","<b>cómo ejecutar localmente Touch Develop</b>","<b>¡una línea perfecta!</b> sigamos","<h3>cargando configuraciones actuales...</h3>","<h3>no más consejos!</h3>","<h3>bienvenido a Touch Develop</h3>","<h3>{0:q} requiere estar logueado</h3>","<p>Si no tienes una suscripción Azure, ir a <a href='https://account.windowsazure.com/Subscriptions' target='_blank'> suscripciones Azure</a> para conseguir una.</p>","<p>Touch Develop le permite<b>crear aplicaciones fácilmente</b>desde su teléfono, tablet o PC.</p>","<p>Puedes compartir tus aplicaciones con otros, para que puedan ser <b>ejecutadas y editadas</b> en Windows Phone, iPad, iPhone, Android, PC o Mac.</p>","<strong>función en beta:</strong> la sintaxis y la semántica está sujeta a cambios","<strong>plataforma requerida:</strong>","@hi/lo fuera de alcance","Una matriz 2D de números","Un vector 3D","Un mapa de Bing","Una aplicación Minecraft Pi.","Una aplicación de Minecraft.","Una aplicación Minecraft creeper.","Un cliente que envía eventos al servidor","Una animación para animar las propiedades del sprite.","Un color argb (alfa, rojo, verde, azul)","Una capa de la escena de fondo","Un editor amigable para principiantes","Un tablero para crear juegos 2D","Un constructor para crear formularios de datos en HTML","Una sesión de datos en la nube","Una colección de objetos","Una colección de sprites","Una constante de color","Una combinación de fecha y hora","Se agregó un comentario sobre su pull request.","Un contacto","Un logger personalizado","Un documento","Un recurso de documento","Un {0} completamente replicado se guarda en un almacenamiento en la nube y es completamente amacenado en memoria caché de los clientes.","Una función atómica y genérica de conversión","Una geo coordenada (latitud, longitud,...)","Una variable global","Un grupo puede utilizarse para ejecutar una clase o un evento. Por favor no incluya el nombre de su escuela en el nombre del grupo.","Un controlador conectado a un evento.","Un creador de estructura de datos json","Una estructura de datos json.","Un enlace a un video, imagen, correo electrónico, número de teléfono","Un {0} local es automáticamente guardado en almacenamiento local, pero nunca compartido con otros dispositivos.","Mapa de cadenas a cadenas","Un mapa de números a los números","Un marcador de mapa","Una ubicación con nombre","Se ha producido un error de red. Su configuración de cuenta no ha sido almacenada ¿Estás desconectado?","Un número (posiblemente negativo o fracción)","Una constante numérica","Un botón de página en el muro","Una página en un muro","Un {0} parcialmente replicada se guarda en la nube y completamente en memoria caché en los clientes.","Una imagen","Un fragmento de texto","Una aplicación de diseño infográfico.","Un lugar para conectar una acción para ejecutar en respuesta a un evento","Una acción posiblemente atómica con un único argumento","Un comentario en un muro de mensajes","Una referencia a un script de biblioteca","Una referencia a un valor","Un {0} replicada es automáticamente guardado en la nube y compartido entre los dispositivos.","Una escena que contiene fondos con capas de parralax.","Se ha abierto una ventana separada con el cuadro de acceso, por favor acceda desde esa ventana.","Un {0} local del servidor se guarda en la nube y nunca en caché en los clientes.","Una definición de la firma de una función","Un único códigode error ASCII [USASCII].","Una instantánea del estado de gamepad","Una canción","Un sonido","Un efecto de sonido","Un resorte entre dos sprites.","Un sprite","Una hoja de sprites que agrupa varios fotogramas en una sola imagen","Una estructura de datos de usuario","Una tabla con filas definidas por el usuario","Una tarea creada con la palabra clave 'async'","Un {0} temporal es local en la conexión y desechado cuando la conexión termina.","No se guarda un {0} temporal entre ejecuciones.","Un cuadro de texto","Un contador de tiempo","Un nombre único para mostrar en su perfil público (al menos 8 caracteres)","Una prueba de unidad","Una cuenta de usuario","Una interfaz de usuario","Un web socket","Un mensaje de web socket","Script ADJ","Configuración de API","Nombre de la API","API no implementado","logo ARM","Se aborta la ejecución si la condición es falsa.","Acelerómetro","Acceso denegado: El navegador web y el sitio web evitan compartir recursos de origen cruzado (CORS).","Acceder a diversas propiedades del entorno de aplicación","Agregar un nombre de clase CSS para el elemento actual.","Añadir un nuevo botón. El icono debe ser el nombre de un icono incorporado, el texto no debe estar vacío.","Agregue una referencia a JsonBuilder en la matriz.","Agregar una acción que se desencadene para cada fotograma de la pantalla","Añadir un valor especificado a la referencia dada",0,0,"Añadir dos números de 32 bits firmados","Añadir dos números sin firma de 32 bits","Agrega un valor booleano","Agrega un valor numérico","Agrega una imagen","Añade un marcador de imagen en el mapa","Agrega un trozo de texto al formulario con un nombre personalizado o archivo.","Añade un marcador de lugar en el mapa (ignorar si no se establece la ubicación)","Agrega un valor de cadena","Añade un marcador de texto en el mapa","Agrega un valor al array.","Añade un vector","Agregar un objeto","Agrega muchos objetos a la vez","Suma números",0,"Agrega valor a la puntuación actual.","Ajustar {0}.","Avanzar el enumerador y devuelva true si existe otro elemento.","Después que se detiene el script, explora el código para ver la información recopilada.","Todos mis grupos","Todos mis scripts","Todas las opciones encendidas","Permitir la ejecución de otros eventos, antes de que termine el evento actual.","Le permite al usuario guardar la dirección de correo electrónico (email)","Permite al usuario que guarde el número de teléfono","Una solicitud HTTP de web","Una respuesta HTTP de web","Una acción atómica sin argumentos","Una aplicación vacía usando páginas y casillas.","Una aplicación vacía usando la biblioteca temporal.","Una página de documentación vacía.","Un tutorial interactivo vacío.","Un complemento del editor de script vacío.","Un script vacío que no hace nada.","Un enumerador general","Una solicitud entrante HTTP de web","Una tabla indexada con filas definidas por el usuario","Una interfaz para el editor de TouchDevelop","Una aplicación de tortuga.","Aplica `converter` a todos los elementos de la colección de datos de entrada y devuelve una colección de resultados",0,"¿Está seguro de que quiere dejar de seguir el tutorial?",0,"Artículos por este usuario:","Pedir o mostrar los valores en la pared...","Adjuntar datos a otros objetos","Código repetitivo para crear un juego.",0,0,"Camara","Ubicación, micrófono, cámara y otros sensores",0,"Cambiar configuración...","¡Cambiar nivel de aptitud!","Canales","Verifica si el panel está en la misma instancia que el otro panel.",0,0,0,"Borrar todos los eventos en proceso relacionados con esta placa","Borrar la imagen de fondo","Borrar la cámara de fondo",0,0,"Código que aparece cuando se produce una interacción del usuario","Código que realiza una tarea específica","Compara números según igualdad","Compara números según menor",0,"Compara números según mayor",0,0,0,0,0,0,0,"Concatena dos fragmentos de texto",0,0,0,0,0,0,"Convierte a la hora local",0,0,"Ayudantes de corrección",0,0,"Crear grupo","Crear script","Crea un obstáculo de línea con un punto inicial dado o un ancho y un alto dados. La elasticidad es 0 para la adhesión y es 1 para un rebote completo.","Crea una nueva colección para los sprites.","Crea un nuevo sprite de elipsis.","Crear una imagen sprite nueva.","Crea un nuevo sprite de rectángulo.",0,"Crea una nueva hoja de sprite.","Crear un nuevo sprite de texto.","Crea un salto entre los dos sprites.","Crea un sprite delimitador.","Crear un valor no válido de este tipo de objeto","Crear canal","Crear colecciones de objetos.","Crear valores no válidos","Crea muros alrededor del tablero a una distancia dada.","Crea tus propias aplicaciones",0,0,"Crea un nuevo tablero de juego vacío y lo muestra en la pantalla.",0,0,0,"Crea un nuevo sprite de 100 de ancho con la imagen dada.",0,"Crea una instancia no válida del controlador para juegos",0,"Elemento actual de la caja en la página.","Dispositivo actual",0,"Punto táctil actual","Desasocia el controlador del evento.",0,"Muestra la imagen en el muro; debes llamar a 'actualizar en el muro' posteriormente si quieres que se vean reflejados los cambios.",0,0,0,"Muestra el estado del controlador para juegos en la pared","Divide números","¿Se solapan los sprites?",0,"Documentos","Recuerde desplazarse hacia abajo y presionar “guardar” al terminar la edición.","Arrastre y suelte bloques, interfaz simplificada, ¡perfecto para principiantes!","Dibuja una línea entre dos puntos","Dibuja borde de texto en un color y tamaño de fuente determinados","Edite el código como texto, más opciones, para quienes aspiran a ser escritores de aplicaciones.","Mensajes de correo electrónico, sms, contactos, calendario...",0,"Escribir un nombre",0,"Introduzca alguna información sobre usted","Introduzca la URL de su sitio web personal (ejemplo: http://www.northwindtraders.com)","Ingresar el código de invitación",0,"No se puede tener parámetros out en estos eventos.","Todos podrán ver la imagen en Internet por siempre. ",0,0,"Extensiones","Facebook","Rellena una elipse en un color determinado","Rellena un rectángulo en un color determinado","Velocidad táctil final después de haber finalizado la función táctil",'Para los scripts publicados, consulta también la pestaña en la página del script publicado para buscar un perfil y cobertura recopilados por \\"crowdsourcing\\" de forma anónima',"Foros","Ya no te mostraremos el código que tienes que ingresar. Sigue las instrucciones y toca Ejecutar cuando creas que hayas terminado.","Funciones definidas en el script actual",0,0,0,0,0,"Obtiene una instantánea de los estados del controlador para juegos (si alguno está conectado al navegador). Vacío si el controlador no es compatible o no hay ningún controlador para juegos conectado.",0,0,0,"Obtiene un valor que indica si la placa está diseñada para ser vista en el modo de panorama","Obtiene un valor que indica si la canción está protegida por DRM","Obtiene el valor x e y de los ejes seleccionados.",0,0,"Obtiene la escena de fondo","Obtiene la posición horizontal central en píxeles",0,"Obtiene el color que tiene el valor ARGB de #00FFFFFF","Obtiene el color que tiene el valor ARGB de #FF000000","Obtiene el color que tiene el valor ARGB de #FF0000FF","Obtiene el color que tiene el valor ARGB de #FF008000","Obtiene el color que tiene el valor ARGB de #FF00FFFF",0,"Obtiene el color que tiene el valor ARGB de #FF800080",0,0,0,0,"Obtiene el color que tiene el valor ARGB de #FFFF0000","Obtiene el color que tiene el valor ARGB de #FFFF00FF","Obtiene el color que tiene el valor ARGB de #FFFFA500",0,"Obtiene el color que tiene el valor ARGB de #FFFFFF00","Obtiene el color que tiene el valor ARGB de #FFFFFFFF",0,0,0,0,"Obtiene el primer controlador para juegos conectado disponible",0,"Obtiene el identificador del controlador para juegos",0,"Obtiene el alto en píxeles","Obtiene el alto de la imagen de la cámara en píxeles.",0,0,0,0,0,0,0,0,0,"Obtiene el índice del reproductor","Obtiene el valor presionado de un botón. Devuelve 0 si falta el botón.",0,"Obtiene el volumen del sonido para sonidos comprendidos de 0 (silencio) a 1 (volumen actual)","Obtiene la cantidad de sprites","Obtiene el sprite con índice i",0,"Obtiene la marca de tiempo de esta instantánea",0,"Obtiene el ancho en píxeles","Obtiene el ancho de la imagen de la cámara en píxeles.","Obtiene la posición de y en píxeles","Empezar",0,"Variables globales en el script actual",0,0,0,0,0,0,0,0,0,0,0,0,0,"En el modo de depuración, el panel muestra la velocidad y otra información sobre los sprites","Indica si un botón se presiona. Devuelve false si falta el botón.",0,"Indica si los datos del controlador para juegos son idénticos","Indica si el controlador para juegos aún está conectado.",0,0,0,0,"Insertar '{0}' {1}","Interactuar con el tiempo de ejecución de la aplicación","Los elementos marcados con * son obligatorios.","Datos JSON","Unirse a un grupo","Último punto final táctil","Último punto inicial táctil",0,0,0,0,0,"Permite visualizar las actualizaciones.",0,0,"Hace que el sprite rebote en el borde la pantalla","Mapas, ubicación, dirección, dirección de ubicación","Aptitud de las matemáticas, abs, máx, ...","Me",0,"Usuario de Minecraft","Más","Movimiento","Mueve el sprite hacia otro sprite.","Multiplica números","Música y sonidos","Mis grupos","Mi perfil","Mis Scripts","NUEVO","NFC","Necesita alguna razón.","Red","Nuevos scripts","Nuevo mensaje de {0} en {1}","Colores nuevos o integrados","No puede hacer",0,0,0,"Vaya, el nombre es muy corto...","Vaya, el nombre de la foto es demasiado corto...","Vaya, el nombre del sonido es demasiado corto...","Vaya, hubo un error al cargar la imagen.","Vaya, no podemos tomar una captura de pantalla ahora","Vaya, no podemos tomar una captura de pantalla ahora.",0,0,0,"Socios","Números de teléfono, vibración, etc....",0,"Escoge un color aleatorio","Fotos y música...",0,"Reproducir, detener o reanudar canciones...",0,0,0,"Revise nuestra Declaración de privacidad.","espera...","Publicar un comentario...",0,0,0,"La acción privada no tiene un botón de ejecutar. ","Solicita al usuario que ingrese un número",0,"Publicar guión",0,"La publicación está sujeta a nuestras ","Publicar script...","Se elevó cuando la animación comenzó a mostrarse","Se elevó cuando la animación dejó de mostrarse","Lee el cuerpo de la respuesta como archivo de sonido","Recibir notificaciones de correo electrónico cuando otras personas revisen/tomen una captura de pantalla de sus scripts o respondan a uno de sus comentarios, o cuando ocurran eventos relacionados con sus suscripciones.","Recuerde: todos podrán ver el script si lo publica; por lo tanto, asegúrese de que no contenga las contraseñas o la información personal.","Quita el valor de la vida actual.","Responder...","Informar/eliminar","Cambia el tamaño de la imagen según el tamaño en píxeles especificado",0,"Devuelve una copia de la imagen",0,0,"Devuelve una fecha que agrega el número especificado de meses al valor de esta instancia.","Devuelve una fecha que agrega el número especificado de años al valor de esta instancia.",'Devuelve un número integral aleatorio entre el "mín." y el "máx." incluidos.',0,0,0,0,0,0,0,"Devuelve TRUE si la instancia actual es inservible",0,0,0,"Escalas del sprite","Actualizaciones de script","Scripts por este usuario:","Buscar","Buscar y navegar por la web...","Buscar código...","Buscar todo","Buscar aquí...","Buscar números de teléfono cerca de un lugar usando Bing. Distancia en metros, negativas a ignorar.","Buscar números de teléfono con Bing","Buscar...","Buscar imágenes usando Bing","Buscar noticias cerca de un lugar usando Bing. Distancia en metros, negativas a ignorar.","Buscar noticias con Bing","Ver más",0,0,"Enciende o apaga la gradiente","Establece la transformación afín de matriz 3x3 que se aplica al muro.",0,"Establece la cámara de fondo","Establece el color de fondo","Establece el color de fondo.","Establece la imagen de fondo","Establece la posición horizontal central en píxeles","Fija los puntos de vida actuales.","Establece la fricción predeterminada para los sprites a una fracción de la pérdida de velocidad entre 0 y 1","Establece el alto en píxeles","Establece la posición en píxeles",0,"Establece el nivel del volumen del sonido de 0 (silencio) a 1 (volumen actual)","Establece la velocidad en píxeles/s","Establece el color del sprite.","Establece el vector de aceleración uniforme para los objetos en el panel a píxeles/seg.^2",0,0,"Establece el ancho en píxeles","Establece la velocidad de x en píxeles/seg","Establece la aceleración de y en píxeles/seg^2","Establece la posición de y en píxeles","Establece la velocidad de y en píxeles/seg",0,"Configuración","Comparátelo con esta url:","Mostrar errores en el editor si el script usa API que evitan que se ejecute en estas plataformas.","Muestra el panel en el muro.",0,"Nivel de aptitud: {0}     ",0,0,0,0,0,"Detiene y borra todos los temporizadores de fotogramas",0,"Resta números","Soporte para tutoriales interactivos.","TD100: insertar {0} aquí","TD101: no puede encontrar '{0}'","TD109: no se puede asignar a esto","TD111: no se puede asignar de {0} a {1}","TD112: no puedo encontrar la propiedad '{0}' en {1}","TD115: se han proporcionado demasiados parámetros a {0}","TD116: no se han suministrado suficientes parámetros a {0}","TD118: la condición 'if' pide {1}","TD119: necesito algo en qué iterar",0,"TD130: el enlace de 'for' pide {1}","TD144: parece que te falta '{0}', intenta añadirlo","TD145: parece que aquí falta un operador (como '+', '(' o ',')","TD147: no esperábamos ver a '{0}' aquí","TD150: no puede llamar a la cosa antes '('","TD151: sin cerrar '('","TD152: inesperado ')'","TD154: hay algo que tiene que ir detrás del operador","TD155: no se puede asignar '{0}' a una variable local","Dicte Creative Coding.","Servicios de tecnología de","Condiciones de Uso",0,0,"La url del documento","La imagen codificada es demasiado grande.","La cámara frontal o trasera","El grupo tiene nuevo dueño",0,0,"Este comando requiere un proxy local.","Este grupo está bloqueado.","Este grupo está abierto.","Este script es actual.","Este script le falta el encabezado.","Este script le falta la fuente.","Este script utiliza las siguientes capacidades que pueden faltar en tu dispositivo actual: {0}","Este script usa las siguientes capacidades: ",0,"Este tutorial usa datos en la nube que se comparten con otros usuarios.","Para agregar datos a la página, crea una variable local y pulsa 'promocionar a campo'.",0,0,"Traducción","Traducción, discurso al texto...","Traducciones hechas por Microsoft ® Translator, pulse para ver original...","True si se toca el panel","Intenta modificar el código hasta que sea correcto. Si te atascas, toca la barra del tutorial.","Tratando de llegar a servidor","Tutorial terminado","Tutoriales","Twitter","Escribir para buscar en línea...","Escribir para búsqueda...",0,"No se pueden editar los tipos, el orden y el número de parámetros del evento.","Widget de interfaz de usuario","URL: {0}","Actualiza las posiciones de sprites en el panel.","Actualiza la imagen como imagen sprite (si es una imagen sprite)","Actualiza el texto como sprite de texto (si se trata de un sprite de texto)","Cargar imagen","Cargar sonido","Usuarios","No podemos correr este script","Necesitamos más opciones","Adaptaremos el editor a su nivel de aptitud en codificación. Puede cambiar su nivel de aptitud más tarde en el concentrador.","¿Cuál es su nivel de conocimiento sobre programación?","¿A qué se dedica?","Novedades","¿En qué parte del mundo se encuentra?","Escribe otra imagen en una ubicación determinada. La opacidad tiene una gradación de 0 (transparente) a 1 (opaco).","Usted está en línea.","YouTube",0,0,"Su usuario de GitHub.","Su usuario Minecraft.","Tu arte aparecerá aquí",0,"Tu canal aparecerán aquí","Todavía no se ha verificado su dirección de correo electrónico. Revise su bandeja de entrada.","Su nombre completo","Su apodo aparece en páginas públicas. Asegúrese de que no introducir su apellido.","No se publicará tu script '{0}'. Mensaje de error: {1:not available}","El script contiene errores!","El script aparecerá aquí","Su usuario de Twitter, por ej. @touchdevelop.","hace unos segundos","una función","una variable global","hace un minuto","una página","acerca de la cobertura","acerca de la información detallada","acerca del perfil","sobre usted","abuso","reportes de abuso","informes de contenido inapropiado","informe de abuso","acceder y usar su ubicación","acceso denegado","acceder al campo {0}","actividad","añadir","agregar uno nuevo...","añadir una nota de publicación","agrega una acción que se desencadena para cada fotograma de la pantalla.","agregar comentario",0,"añadir sitio web personalizado","añadir función","añadir corazones","agregar parámetro de entrada","añadir línea arriba","añadir una línea debajo","agregar nuevo","añadir nueva etiqueta",0,"agregar parámetro de salida","añadir al canal","añadir al inventario","añadir {0}","agregando plugins",0,"todas las API","permitir","increíble, asombroso, alucinante, impresionante, formidable, impactante, clásico, guay, curioso, distinto, excepcional, exclusivo, extraordinario, fabuloso, fantástico, glorioso, genial, ",0,"definición de un tipo de función","hace una hora","analizando...","aplicar código","aprobados","aprobar","aprobado","aplicaciones","¿Estás seguro/a?","arte","recursos de arte","asignación","autenticando...","autor","correo electrónico del autor","sitio web del autor","atrás","fondo","retroceso","borra esto","tecla mala",0,"base","principiante","principiantes",0,"está vinculado al script:","en blanco","aplicación en blanco","creeper en blanco","documentos en blanco","juego en blanco","minecraft en blanco","minecraft pi en blanco","diseño infográfico en blanco","borrador en blanco","complemento de script en blanco","tortuga en blanco","tutorial en blanco","pausa en el depurador","punto de interrupción","construir","por tiempo","por votos","llamar","llamar a número","devolución de llamada","cancelar",0,0,"cambiar (de nuevo) a local","cambiar contenidos","canales","comprueba si la referencia no se ha establecido",0,0,0,"elegir una imagen (menor que 1 MB, más pequeña que 2048 x 2048)",0,0,0,0,0,0,"seleccione su nivel de aptitud en codificación","elegir...",0,"borrar","portapapeles","clon",0,"sesiones en la nube","código","codifica la línea de meta","codificador","color #{0}","color: {0}","sacar comentario","comentarios",0,"condicional","conectado",0,0,"continuar",0,"copiar","copiar selección","cobertura","crear","crear un nuevo parámetro",0,0,0,0,"crea una colección vacía de objetos","creando el script",0,"expresión actual","¡personaliza el arte!","cortar","cortar selección","base de datos","depurar","punto decimal",0,"eliminar","eliminar datos locales y permisos","eliminar selección","bajar a variable","denegar","descripción","descripción (búsqueda de ayuda)",0,"detalles","¿Querías usar este valor?","dif. act.","dif. ant.",0,0,0,"descartar","mostrar valor","muestra el objeto en el muro","nombre del documento","recurso del documento","perro","hecho","¡listo!","editar","otra cosa si","correo electrónico",0,"correo electrónico y notificaciones push",0,"habilitado","introduzca un nombre de grupo (requerido)",0,"ingresar el código de invitación","ingresa este código","errores","errores en el plugin","eventos","todo","ej.: ",0,"muy bien; buen trabajo; fantástico, guay; molas; bien hecho; sobresaliente; lo has pillado; genial",0,"salir","experto",0,"exportar","exportar una representación JSON de los contenidos","exportado desde esta biblioteca","ampliar",0,"extraer la selección en la función",0,"extraer a variable","encontrar referencias","finalizado","arréglalo","seguir tutorial en el editor","para el grupo","tenedores","función","nombre de la función","tipos de funciones","función, variable, biblioteca, ...","sexo","Obtener mi certificado Hora del Código™","obtiene el temporizador de se desencadena para cada fotograma de la pantalla.","usuario de github",0,"sustitución global","variable global","variables globales","volver","¡regresar a la codificación! {0}★ para ir","volver...","ir a","ve a la lista de cosas de tu guion","ir al paso anterior","meta:","grupo",0,"corazones","ayuda",0,0,"historial","¡Bravo!, se publicó tu guión","como encontró","quiero ejecutarla en","He terminado mi Hora del Código™","imagen del ícono: {0}",0,"si estás atascado, toca la línea de meta",0,0,0,0,"importar valores de los campos desde un objeto JSON",0,0,0,0,"increíble, mágico, maravilloso, sorprendente, alucinante, milagroso, peculiar, fenomenal, molón, especial, espectacular, inesperado, chocante, super guay, ",0,"insertar","insertar comentario","insertar instrucción","insertar {0}","información detallada",0,"instalando y cargando script","en local",0,"problemas","unirse a un grupo","unirse a un grupo",0,"¡siga escribiendo los términos de búsqueda!","seguir editando","se conoce aquí como:",0,"aprender","obtener información sobre la publicación","más información","más información acerca de {0}","salir del tutorial","cambiemos esto","¡Vamos!","¡empecemos!","bib","bibliotecas","biblioteca","nombre de la biblioteca","referencia de la biblioteca","cargar más","cargar más respuestas","cargando",0,"cargando comentarios de /{0}...",0,"cargando respuestas...","cargando guion","cargando tutorial","cargando...","local","ubicación",0,"negación lógica","registros","principal",0,"creadores","administrar datos","quizás más tarde","yo",0,0,"usuario de minecraft",0,0,"más","más ","más configuraciones","mover cursor","mover a la izquierda","ve al siguiente paso","mover el cursor a la izquierda","mover el cursor a la derecha","mi arte",0,0,0,"mis scripts","se necesita un nombre diferente aquí","aquí se necesita una cadena diferente","aquí se necesita un campo diferente","se necesita un parámetro","tienes que borrar esto","tienes que hacer modificaciones en otro sitio","negativo",0,0,0,0,"nueva línea",0,0,0,"nueva instrucción debajo","nueva variable",0,"siguientes tutoriales...","sobrenombre",0,"este usuario no tiene ningún arte publicado","sin comentarios, pulsa para escribirlos","¡no hay tenedores, instala, edita y vuelve a publicar tu script para crear uno!","no hay corazones. ¡podrás agregar uno cuando instales el script!","todavía no se cargaron imágenes",0,0,"sin etiquetas, pulsa para añadirlas",0,0,0,"notificaciones",0,"ya puedes seleccionar una propiedad de {0}; por sí misma no hace nada","ahora puedes seleccionar una propiedad en él","número","entrada numérica",0,"ocupación",0,"disponible sin conexión","aceptar","juguemos entonces","en línea",0,"o toca para obtener ayuda","otros","información general",0,"páginas",0,"análisis del texto del script",0,"pegar","pausar",0,"inicio del juego de física","elige una plantilla de script...","imagen","nombre de la imagen","nombre de la imagen (de 4 caracteres como mínimo)","url de la imagen","volver a jugar",0,"espera...","complementos","vista previa","imprimir",0,"privado","función privada","perfil privado","perfil","conocimiento sobre programación",0,"promocionar a datos",0,"sobrenombre público","perfil público","publicar","publicar como oculto",0,"publicado","extraer cambios","sacar a nivel de bloque",0,"volver a ejecutar","leer mas...","solo lectura","nombre real",0,"recibir boletín de correo electrónico","recibir notificaciones de correo electrónico","registrar nombre:",0,"teclado numérico normal","volviendo a cargar script","eliminar",0,"eliminar imagen","quitar el fondo blanco (es mejor para los sprites del juego)",0,"cambiar nombre","repetir n veces","repetir en la colección","repetir mientras","sustituir todo en la función","sustituir todo en el script","sustituir imagen","replicado","replicado ",0,"denunciar abuso",0,"revertir a versión publicada",0,"retroceder ","ejecutar","ejecute principal",0,"ejecutar con instrumentación","guardar","guardado","guardando...","estudios","pantallas","captura de pantalla","captura de pantalla de {0}","script","propiedades del script",0,"buscar","buscar arte","buscar imágenes de arte","buscar aquí para {0}","buscar plantillas","buscando...","ver más opciones","seleccionar","seleccionar más","selecciona esa línea","seleccionar el {0}",0,0,"establecer el nombre de la variable local","establecer nombre","establecer el controlador que se invoca cuando se desliza el panel","establecer el controlador que se invoca cuando se pulsa el panel","establecer el controlador que se invoca cuando se toca el panel","establecer el controlador que se invoca cuando se libera la capacidad táctil del panel","establece todos los campos a sus valores predeterminados","configuración guardada","configuración","compartir",0,"mostrar cómo completar esta actividad","mostrar más opciones","presentar","iniciar sesión",0,0,"cerrar sesión","iniciando sesión...",0,"simplificar","nivel de aptitud guardado","saltar iteración",0,"social",0,"sonido",0,"imagen de la pantalla de presentación: {0}","dividir",0,"volver a empezar","iniciando script","iniciando...",0,"dentro","fuera","encima",0,"detener",0,"función detener","detener bucle","guardar en variable","guardar el valor en una variable","cadena",0,"tira '{0}'",0,0,0,"superior, sobrenatural, estupendo, inaudito, sobrenatural, único, sin precedentes, inusual, raro, extraño, fuera de lo común","alrededor de",0,0,"sincronización de...",0,0,0,0,0,"etiquetas",0,0,"toca (←) cuando termines","toca [ok] cuando termines",0,"toca aquí para ir al siguiente paso","pulsar aquí cuando termine","pulsa aquí","pulsar aquí para obtener instrucciones","pulsa aquí para ejecutar la aplicación","pulsa para cambiar el color","tocar para cambiar la imagen del icono","tocar para cambiar la imagen de la pantalla de presentación","pulsar para traducir con el traductor de Microsoft®...","temporal","terms of use","probar","función de prueba","pruebas","prueba si dos referencias aluden al mismo objeto",0,0,"el hub","el código de invitación debe ser un número entre 9 y 64 caracteres de largo","el script se bloqueó",0,0,"este script es una biblioteca","este script es un servicio web","hora y fecha","a código","para continuar","para variable global","alternar punto de interrupción","más destacado y nuevo",0,0,"traducir","traduciendo tutorial...",0,0,0,"volver a intentarlo","convertir en","progreso del tutorial","tutorial: ","tutoriales","usuario de Twitter","tipo:","tipo: {0}",0,0,0,"deshacer",0,0,0,0,0,0,0,0,0,0,"actualizar",0,0,0,0,0,0,"cargar","cargar imagen","Cargar captura de pantalla","cargar sonido",0,0,0,"url",0,0,0,0,0,"nombre de la variable","ver como script","ver/editar nombre, correo electrónico, ...",0,"fondo de pantalla","tenemos una biblioteca '{0}' aquí; {1}","Aquí tenemos un {0:a}; ¿quería hacer algo con él?","necesitamos un nuevo campo","necesitamos una nueva tabla","necesitamos un nuevo {0}","necesitamos un teclado numérico diferente","necesitamos una nueva variable","tenemos que editar otra cosa","te guiaremos paso a paso","aplicaciones web",0,0,0,"sitio web",0,"url del sitio web",0,0,0,0,0,"año de nacimiento",0,0,"¡Lo has conseguido!",0,"{0} ({1} línea{1:s})","hace {0} día{0:s}",0,"{0} falló; ahora estamos en modo offline;\n asegúrate de que tu conexión a internet funcione","archivo {0} de {0:s} importados","{0} para esta versión","hace {0} hora{0:s}","hace {0} minuto{0:s}","hace {0} mes{0:s}","{0} de {1} terminado","{0} publicar","{0} script{0:s} publicado{0:s}","hace {0} segundo{0:s}","{0} arriba","hace  {0:s}años {0}"]),!0):"es-ES"==e?(TDev.Util._setLanguageArray(t,[0,"  -> Línea {2} ('{1}'), error: {0}\n{3}"," -- una variable local"," [class]"," [oculto]"," [override]"," atrás"," adelante"," horas "," minutos "," de "," segundos "," enviando cambios"," esperando por el servidor","### código fuente completo","Las llaves de Javascript, todas las herramientas, para desarrolladores con experiencia","función 'atomic'","'box' solo se puede acceder desde la página de visualización del código","'box' no se puede acceder en el modo de diseño HTML",0,"'html' sólo se puede acceder en el modo de diseño HTML","'{0}' espera {1} aquí","'{0}' tiene una firma no soportada","'{0}' no está implementada","'{0}' es obsoleto y no está implementado","'{0}' obsoleto, no debería utilizarse",0,"'{0}' devuelve un '{1}'; {2}","'{0}' devuelve valores de {1}; puede utilizar el botón 'store in var' para guardar a los locales","(Opcional) Un URI que identifica una página con información sobre el error, usado para proporcionar información adicional sobre el error, al desarrollador del lado del cliente.","(Opcional) Un código de error legible.","(Opcional) Pares adicionales de clave y valor no cubiertos por la especificación OAuth 2.0.","(Opcional) Indica si el token puede caducar dentro de los próximos segundos.","(Opcional) Opcional si es idéntico al alcance solicitado por el cliente; de lo contrario, el alcance del token de acceso según lo descrito por la sección 3.3 de la especificación de OAuth 2.0.","(Opcional) La duración en segundos del token de acceso.","(por favor espere, puede tardar hasta un minuto)",", en su lugar, se obtuvo {0}",", obtuvo {0}",", tamaño: {0} caracteres",". Por favor, lea nuestra ","... nada que ver aquí...","... hay más ...","// comentario","1. elegir un documento (.txt, .pptx, .pdf, .css, de menos de 8MB)","1. escoja un sonido MP3 (menos de 1MB)","2. dar un nombre (mínimos 4 caracteres)","3. describir","4. publicar",":( Lo sentimos, ha ocurrido un error al traducir este texto.",":( Lo sentimos, no se ha podido traducir esto.",":( no pudo encontrar alguna fuente de vídeo",":( no válido en la información de vídeo","; ¿le falta → ◈ref?","<a href='http://cordova.apache.org/' target='_blank'>Apache Cordova</a> le permite construir aplicaciones móviles multiplataforma.","<a href='http://go.microsoft.com/fwlink/?LinkId=254432' target='_blank'> generar el certificado</a>.","<b>Descargo de responsabilidad:</b> Esta aplicación web no está avalada por Microsoft.","<b>cómo ejecutar localmente Touch Develop</b>","<b>¡una línea perfecta!</b> sigamos","<h3>cargando configuraciones actuales...</h3>","<h3>no más consejos!</h3>","<h3>bienvenido a Touch Develop</h3>","<h3>{0:q} requiere estar logueado</h3>","<p>Si no tienes una suscripción Azure, ir a <a href='https://account.windowsazure.com/Subscriptions' target='_blank'> suscripciones Azure</a> para conseguir una.</p>","<p>Touch Develop le permite<b>crear aplicaciones fácilmente</b>desde su teléfono, tablet o PC.</p>","<p>Puedes compartir tus aplicaciones con otros, para que puedan ser <b>ejecutadas y editadas</b> en Windows Phone, iPad, iPhone, Android, PC o Mac.</p>","<strong>función en beta:</strong> la sintaxis y la semántica está sujeta a cambios","<strong>plataforma requerida:</strong>","@hi/lo fuera de alcance","Una matriz 2D de números","Un vector 3D","Un mapa de Bing","Una aplicación Minecraft Pi.","Una aplicación de Minecraft.","Una aplicación Minecraft creeper.","Un cliente que envía eventos al servidor","Una animación para animar las propiedades del sprite.","Un color argb (alfa, rojo, verde, azul)","Una capa de la escena de fondo","Un editor amigable para principiantes","Un tablero para crear juegos 2D","Un constructor para crear formularios de datos en HTML","Una sesión de datos en la nube","Una colección de objetos","Una colección de sprites","Una constante de color","Una combinación de fecha y hora","Se agregó un comentario sobre su pull request.","Un contacto","Un logger personalizado","Un documento","Un recurso de documento","Un {0} completamente replicado se guarda en un almacenamiento en la nube y es completamente amacenado en memoria caché de los clientes.","Una función atómica y genérica de conversión","Una geo coordenada (latitud, longitud,...)","Una variable global","Un grupo puede utilizarse para ejecutar una clase o un evento. Por favor no incluya el nombre de su escuela en el nombre del grupo.","Un controlador conectado a un evento.","Un creador de estructura de datos json","Una estructura de datos json.","Un enlace a un video, imagen, correo electrónico, número de teléfono","Un {0} local es automáticamente guardado en almacenamiento local, pero nunca compartido con otros dispositivos.","Mapa de cadenas a cadenas","Un mapa de números a los números","Un marcador de mapa","Una ubicación con nombre","Se ha producido un error de red. Su configuración de cuenta no ha sido almacenada ¿Estás desconectado?","Un número (posiblemente negativo o fracción)","Una constante numérica","Un botón de página en el muro","Una página en un muro","Un {0} parcialmente replicada se guarda en la nube y completamente en memoria caché en los clientes.","Una imagen","Un fragmento de texto","Una aplicación de diseño infográfico.","Un lugar para conectar una acción para ejecutar en respuesta a un evento","Una acción posiblemente atómica con un único argumento","Un comentario en un muro de mensajes","Una referencia a un script de biblioteca","Una referencia a un valor","Un {0} replicada es automáticamente guardado en la nube y compartido entre los dispositivos.","Una escena que contiene fondos con capas de parralax.","Se ha abierto una ventana separada con el cuadro de acceso, por favor acceda desde esa ventana.","Un {0} local del servidor se guarda en la nube y nunca en caché en los clientes.","Una definición de la firma de una función","Un único códigode error ASCII [USASCII].","Una instantánea del estado de gamepad","Una canción","Un sonido","Un efecto de sonido","Un resorte entre dos sprites.","Un sprite","Una hoja de sprites que agrupa varios fotogramas en una sola imagen","Una estructura de datos de usuario","Una tabla con filas definidas por el usuario","Una tarea creada con la palabra clave 'async'","Un {0} temporal es local en la conexión y desechado cuando la conexión termina.","No se guarda un {0} temporal entre ejecuciones.","Un cuadro de texto","Un contador de tiempo","Un nombre único para mostrar en su perfil público (al menos 8 caracteres)","Una prueba de unidad","Una cuenta de usuario","Una interfaz de usuario","Un web socket","Un mensaje de web socket","Script ADJ","Configuración de API","Nombre de la API","API no implementado","logo ARM","Se aborta la ejecución si la condición es falsa.","Acelerómetro","Acceso denegado: El navegador web y el sitio web evitan compartir recursos de origen cruzado (CORS).","Acceder a diversas propiedades del entorno de aplicación","Agregar un nombre de clase CSS para el elemento actual.","Añadir un nuevo botón. El icono debe ser el nombre de un icono incorporado, el texto no debe estar vacío.","Agregue una referencia a JsonBuilder en la matriz.","Agregar una acción que se desencadene para cada fotograma de la pantalla","Añadir un valor especificado a la referencia dada",0,0,"Añadir dos números de 32 bits firmados","Añadir dos números sin firma de 32 bits","Agrega un valor booleano","Agrega un valor numérico","Agrega una imagen","Añade un marcador de imagen en el mapa","Agrega un trozo de texto al formulario con un nombre personalizado o archivo.","Añade un marcador de lugar en el mapa (ignorar si no se establece la ubicación)","Agrega un valor de cadena","Añade un marcador de texto en el mapa","Agrega un valor al array.","Añade un vector","Agregar un objeto","Agrega muchos objetos a la vez","Suma números",0,"Agrega valor a la puntuación actual.","Ajustar {0}.","Avanzar el enumerador y devuelva true si existe otro elemento.","Después que se detiene el script, explora el código para ver la información recopilada.","Todos mis grupos","Todos mis scripts","Todas las opciones encendidas","Permitir la ejecución de otros eventos, antes de que termine el evento actual.","Le permite al usuario guardar la dirección de correo electrónico (email)","Permite al usuario que guarde el número de teléfono","Una solicitud HTTP de web","Una respuesta HTTP de web","Una acción atómica sin argumentos","Una aplicación vacía usando páginas y casillas.","Una aplicación vacía usando la biblioteca temporal.","Una página de documentación vacía.","Un tutorial interactivo vacío.","Un complemento del editor de script vacío.","Un script vacío que no hace nada.","Un enumerador general","Una solicitud entrante HTTP de web","Una tabla indexada con filas definidas por el usuario","Una interfaz para el editor de TouchDevelop","Una aplicación de tortuga.","Aplica `converter` a todos los elementos de la colección de datos de entrada y devuelve una colección de resultados",0,"¿Está seguro de que quiere dejar de seguir el tutorial?",0,"Artículos por este usuario:","Pedir o mostrar los valores en la pared...","Adjuntar datos a otros objetos","Código repetitivo para crear un juego.",0,0,"Camara","Ubicación, micrófono, cámara y otros sensores",0,"Cambiar configuración...","¡Cambiar nivel de aptitud!","Canales","Verifica si el panel está en la misma instancia que el otro panel.",0,0,0,"Borrar todos los eventos en proceso relacionados con esta placa","Borrar la imagen de fondo","Borrar la cámara de fondo",0,0,"Código que aparece cuando se produce una interacción del usuario","Código que realiza una tarea específica","Compara números según igualdad","Compara números según menor",0,"Compara números según mayor",0,0,0,0,0,0,0,"Concatena dos fragmentos de texto",0,0,0,0,0,0,"Convierte a la hora local",0,0,"Ayudantes de corrección",0,0,"Crear grupo","Crear script","Crea un obstáculo de línea con un punto inicial dado o un ancho y un alto dados. La elasticidad es 0 para la adhesión y es 1 para un rebote completo.","Crea una nueva colección para los sprites.","Crea un nuevo sprite de elipsis.","Crear una imagen sprite nueva.","Crea un nuevo sprite de rectángulo.",0,"Crea una nueva hoja de sprite.","Crear un nuevo sprite de texto.","Crea un salto entre los dos sprites.","Crea un sprite delimitador.","Crear un valor no válido de este tipo de objeto","Crear canal","Crear colecciones de objetos.","Crear valores no válidos","Crea muros alrededor del tablero a una distancia dada.","Crea tus propias aplicaciones",0,0,"Crea un nuevo tablero de juego vacío y lo muestra en la pantalla.",0,0,0,"Crea un nuevo sprite de 100 de ancho con la imagen dada.",0,"Crea una instancia no válida del controlador para juegos",0,"Elemento actual de la caja en la página.","Dispositivo actual",0,"Punto táctil actual","Desasocia el controlador del evento.",0,"Muestra la imagen en el muro; debes llamar a 'actualizar en el muro' posteriormente si quieres que se vean reflejados los cambios.",0,0,0,"Muestra el estado del controlador para juegos en la pared","Divide números","¿Se solapan los sprites?",0,"Documentos","Recuerde desplazarse hacia abajo y presionar “guardar” al terminar la edición.","Arrastre y suelte bloques, interfaz simplificada, ¡perfecto para principiantes!","Dibuja una línea entre dos puntos","Dibuja borde de texto en un color y tamaño de fuente determinados","Edite el código como texto, más opciones, para quienes aspiran a ser escritores de aplicaciones.","Mensajes de correo electrónico, sms, contactos, calendario...",0,"Escribir un nombre",0,"Introduzca alguna información sobre usted","Introduzca la URL de su sitio web personal (ejemplo: http://www.northwindtraders.com)","Ingresar el código de invitación",0,"No se puede tener parámetros out en estos eventos.","Todos podrán ver la imagen en Internet por siempre. ",0,0,"Extensiones","Facebook","Rellena una elipse en un color determinado","Rellena un rectángulo en un color determinado","Velocidad táctil final después de haber finalizado la función táctil",'Para los scripts publicados, consulta también la pestaña en la página del script publicado para buscar un perfil y cobertura recopilados por \\"crowdsourcing\\" de forma anónima',"Foros","Ya no te mostraremos el código que tienes que ingresar. Sigue las instrucciones y toca Ejecutar cuando creas que hayas terminado.","Funciones definidas en el script actual",0,0,0,0,0,"Obtiene una instantánea de los estados del controlador para juegos (si alguno está conectado al navegador). Vacío si el controlador no es compatible o no hay ningún controlador para juegos conectado.",0,0,0,"Obtiene un valor que indica si la placa está diseñada para ser vista en el modo de panorama","Obtiene un valor que indica si la canción está protegida por DRM","Obtiene el valor x e y de los ejes seleccionados.",0,0,"Obtiene la escena de fondo","Obtiene la posición horizontal central en píxeles",0,"Obtiene el color que tiene el valor ARGB de #00FFFFFF","Obtiene el color que tiene el valor ARGB de #FF000000","Obtiene el color que tiene el valor ARGB de #FF0000FF","Obtiene el color que tiene el valor ARGB de #FF008000","Obtiene el color que tiene el valor ARGB de #FF00FFFF",0,"Obtiene el color que tiene el valor ARGB de #FF800080",0,0,0,0,"Obtiene el color que tiene el valor ARGB de #FFFF0000","Obtiene el color que tiene el valor ARGB de #FFFF00FF","Obtiene el color que tiene el valor ARGB de #FFFFA500",0,"Obtiene el color que tiene el valor ARGB de #FFFFFF00","Obtiene el color que tiene el valor ARGB de #FFFFFFFF",0,0,0,0,"Obtiene el primer controlador para juegos conectado disponible",0,"Obtiene el identificador del controlador para juegos",0,"Obtiene el alto en píxeles","Obtiene el alto de la imagen de la cámara en píxeles.",0,0,0,0,0,0,0,0,0,"Obtiene el índice del reproductor","Obtiene el valor presionado de un botón. Devuelve 0 si falta el botón.",0,"Obtiene el volumen del sonido para sonidos comprendidos de 0 (silencio) a 1 (volumen actual)","Obtiene la cantidad de sprites","Obtiene el sprite con índice i",0,"Obtiene la marca de tiempo de esta instantánea",0,"Obtiene el ancho en píxeles","Obtiene el ancho de la imagen de la cámara en píxeles.","Obtiene la posición de y en píxeles","Empezar",0,"Variables globales en el script actual",0,0,0,0,0,0,0,0,0,0,0,0,0,"En el modo de depuración, el panel muestra la velocidad y otra información sobre los sprites","Indica si un botón se presiona. Devuelve false si falta el botón.",0,"Indica si los datos del controlador para juegos son idénticos","Indica si el controlador para juegos aún está conectado.",0,0,0,0,"Insertar '{0}' {1}","Interactuar con el tiempo de ejecución de la aplicación","Los elementos marcados con * son obligatorios.","Datos JSON","Unirse a un grupo","Último punto final táctil","Último punto inicial táctil",0,0,0,0,0,"Permite visualizar las actualizaciones.",0,0,"Hace que el sprite rebote en el borde la pantalla","Mapas, ubicación, dirección, dirección de ubicación","Aptitud de las matemáticas, abs, máx, ...","Me",0,"Usuario de Minecraft","Más","Movimiento","Mueve el sprite hacia otro sprite.","Multiplica números","Música y sonidos","Mis grupos","Mi perfil","Mis Scripts","NUEVO","NFC","Necesita alguna razón.","Red","Nuevos scripts","Nuevo mensaje de {0} en {1}","Colores nuevos o integrados","No puede hacer",0,0,0,"Vaya, el nombre es muy corto...","Vaya, el nombre de la foto es demasiado corto...","Vaya, el nombre del sonido es demasiado corto...","Vaya, hubo un error al cargar la imagen.","Vaya, no podemos tomar una captura de pantalla ahora","Vaya, no podemos tomar una captura de pantalla ahora.",0,0,0,"Socios","Números de teléfono, vibración, etc....",0,"Escoge un color aleatorio","Fotos y música...",0,"Reproducir, detener o reanudar canciones...",0,0,0,"Revise nuestra Declaración de privacidad.","espera...","Publicar un comentario...",0,0,0,"La acción privada no tiene un botón de ejecutar. ","Solicita al usuario que ingrese un número",0,"Publicar guión",0,"La publicación está sujeta a nuestras ","Publicar script...","Se elevó cuando la animación comenzó a mostrarse","Se elevó cuando la animación dejó de mostrarse","Lee el cuerpo de la respuesta como archivo de sonido","Recibir notificaciones de correo electrónico cuando otras personas revisen/tomen una captura de pantalla de sus scripts o respondan a uno de sus comentarios, o cuando ocurran eventos relacionados con sus suscripciones.","Recuerde: todos podrán ver el script si lo publica; por lo tanto, asegúrese de que no contenga las contraseñas o la información personal.","Quita el valor de la vida actual.","Responder...","Informar/eliminar","Cambia el tamaño de la imagen según el tamaño en píxeles especificado",0,"Devuelve una copia de la imagen",0,0,"Devuelve una fecha que agrega el número especificado de meses al valor de esta instancia.","Devuelve una fecha que agrega el número especificado de años al valor de esta instancia.",'Devuelve un número integral aleatorio entre el "mín." y el "máx." incluidos.',0,0,0,0,0,0,0,"Devuelve TRUE si la instancia actual es inservible",0,0,0,"Escalas del sprite","Actualizaciones de script","Scripts por este usuario:","Buscar","Buscar y navegar por la web...","Buscar código...","Buscar todo","Buscar aquí...","Buscar números de teléfono cerca de un lugar usando Bing. Distancia en metros, negativas a ignorar.","Buscar números de teléfono con Bing","Buscar...","Buscar imágenes usando Bing","Buscar noticias cerca de un lugar usando Bing. Distancia en metros, negativas a ignorar.","Buscar noticias con Bing","Ver más",0,0,"Enciende o apaga la gradiente","Establece la transformación afín de matriz 3x3 que se aplica al muro.",0,"Establece la cámara de fondo","Establece el color de fondo","Establece el color de fondo.","Establece la imagen de fondo","Establece la posición horizontal central en píxeles","Fija los puntos de vida actuales.","Establece la fricción predeterminada para los sprites a una fracción de la pérdida de velocidad entre 0 y 1","Establece el alto en píxeles","Establece la posición en píxeles",0,"Establece el nivel del volumen del sonido de 0 (silencio) a 1 (volumen actual)","Establece la velocidad en píxeles/s","Establece el color del sprite.","Establece el vector de aceleración uniforme para los objetos en el panel a píxeles/seg.^2",0,0,"Establece el ancho en píxeles","Establece la velocidad de x en píxeles/seg","Establece la aceleración de y en píxeles/seg^2","Establece la posición de y en píxeles","Establece la velocidad de y en píxeles/seg",0,"Configuración","Comparátelo con esta url:","Mostrar errores en el editor si el script usa API que evitan que se ejecute en estas plataformas.","Muestra el panel en el muro.",0,"Nivel de aptitud: {0}     ",0,0,0,0,0,"Detiene y borra todos los temporizadores de fotogramas",0,"Resta números","Soporte para tutoriales interactivos.","TD100: insertar {0} aquí","TD101: no puede encontrar '{0}'","TD109: no se puede asignar a esto","TD111: no se puede asignar de {0} a {1}","TD112: no puedo encontrar la propiedad '{0}' en {1}","TD115: se han proporcionado demasiados parámetros a {0}","TD116: no se han suministrado suficientes parámetros a {0}","TD118: la condición 'if' pide {1}","TD119: necesito algo en qué iterar",0,"TD130: el enlace de 'for' pide {1}","TD144: parece que te falta '{0}', intenta añadirlo","TD145: parece que aquí falta un operador (como '+', '(' o ',')","TD147: no esperábamos ver a '{0}' aquí","TD150: no puede llamar a la cosa antes '('","TD151: sin cerrar '('","TD152: inesperado ')'","TD154: hay algo que tiene que ir detrás del operador","TD155: no se puede asignar '{0}' a una variable local","Dicte Creative Coding.","Servicios de tecnología de","Condiciones de Uso",0,0,"La url del documento","La imagen codificada es demasiado grande.","La cámara frontal o trasera","El grupo tiene nuevo dueño",0,0,"Este comando requiere un proxy local.","Este grupo está bloqueado.","Este grupo está abierto.","Este script es actual.","Este script le falta el encabezado.","Este script le falta la fuente.","Este script utiliza las siguientes capacidades que pueden faltar en tu dispositivo actual: {0}","Este script usa las siguientes capacidades: ",0,"Este tutorial usa datos en la nube que se comparten con otros usuarios.","Para agregar datos a la página, crea una variable local y pulsa 'promocionar a campo'.",0,0,"Traducción","Traducción, discurso al texto...","Traducciones hechas por Microsoft ® Translator, pulse para ver original...","True si se toca el panel","Intenta modificar el código hasta que sea correcto. Si te atascas, toca la barra del tutorial.","Tratando de llegar a servidor","Tutorial terminado","Tutoriales","Twitter","Escribir para buscar en línea...","Escribir para búsqueda...",0,"No se pueden editar los tipos, el orden y el número de parámetros del evento.","Widget de interfaz de usuario","URL: {0}","Actualiza las posiciones de sprites en el panel.","Actualiza la imagen como imagen sprite (si es una imagen sprite)","Actualiza el texto como sprite de texto (si se trata de un sprite de texto)","Cargar imagen","Cargar sonido","Usuarios","No podemos correr este script","Necesitamos más opciones","Adaptaremos el editor a su nivel de aptitud en codificación. Puede cambiar su nivel de aptitud más tarde en el concentrador.","¿Cuál es su nivel de conocimiento sobre programación?","¿A qué se dedica?","Novedades","¿En qué parte del mundo se encuentra?","Escribe otra imagen en una ubicación determinada. La opacidad tiene una gradación de 0 (transparente) a 1 (opaco).","Usted está en línea.","YouTube",0,0,"Su usuario de GitHub.","Su usuario Minecraft.","Tu arte aparecerá aquí",0,"Tu canal aparecerán aquí","Todavía no se ha verificado su dirección de correo electrónico. Revise su bandeja de entrada.","Su nombre completo","Su apodo aparece en páginas públicas. Asegúrese de que no introducir su apellido.","No se publicará tu script '{0}'. Mensaje de error: {1:not available}","El script contiene errores!","El script aparecerá aquí","Su usuario de Twitter, por ej. @touchdevelop.","hace unos segundos","una función","una variable global","hace un minuto","una página","acerca de la cobertura","acerca de la información detallada","acerca del perfil","sobre usted","abuso","reportes de abuso","informes de contenido inapropiado","informe de abuso","acceder y usar su ubicación","acceso denegado","acceder al campo {0}","actividad","añadir","agregar uno nuevo...","añadir una nota de publicación","agrega una acción que se desencadena para cada fotograma de la pantalla.","agregar comentario",0,"añadir sitio web personalizado","añadir función","añadir corazones","agregar parámetro de entrada","añadir línea arriba","añadir una línea debajo","agregar nuevo","añadir nueva etiqueta",0,"agregar parámetro de salida","añadir al canal","añadir al inventario","añadir {0}","agregando plugins",0,"todas las API","permitir","increíble, asombroso, alucinante, impresionante, formidable, impactante, clásico, guay, curioso, distinto, excepcional, exclusivo, extraordinario, fabuloso, fantástico, glorioso, genial, ",0,"definición de un tipo de función","hace una hora","analizando...","aplicar código","aprobados","aprobar","aprobado","aplicaciones","¿Estás seguro/a?","arte","recursos de arte","asignación","autenticando...","autor","correo electrónico del autor","sitio web del autor","atrás","fondo","retroceso","borra esto","tecla mala",0,"base","principiante","principiantes",0,"está vinculado al script:","en blanco","aplicación en blanco","creeper en blanco","documentos en blanco","juego en blanco","minecraft en blanco","minecraft pi en blanco","diseño infográfico en blanco","borrador en blanco","complemento de script en blanco","tortuga en blanco","tutorial en blanco","pausa en el depurador","punto de interrupción","construir","por tiempo","por votos","llamar","llamar a número","devolución de llamada","cancelar",0,0,"cambiar (de nuevo) a local","cambiar contenidos","canales","comprueba si la referencia no se ha establecido",0,0,0,"elegir una imagen (menor que 1 MB, más pequeña que 2048 x 2048)",0,0,0,0,0,0,"seleccione su nivel de aptitud en codificación","elegir...",0,"borrar","portapapeles","clon",0,"sesiones en la nube","código","codifica la línea de meta","codificador","color #{0}","color: {0}","sacar comentario","comentarios",0,"condicional","conectado",0,0,"continuar",0,"copiar","copiar selección","cobertura","crear","crear un nuevo parámetro",0,0,0,0,"crea una colección vacía de objetos","creando el script",0,"expresión actual","¡personaliza el arte!","cortar","cortar selección","base de datos","depurar","punto decimal",0,"eliminar","eliminar datos locales y permisos","eliminar selección","bajar a variable","denegar","descripción","descripción (búsqueda de ayuda)",0,"detalles","¿Querías usar este valor?","dif. act.","dif. ant.",0,0,0,"descartar","mostrar valor","muestra el objeto en el muro","nombre del documento","recurso del documento","perro","hecho","¡listo!","editar","otra cosa si","correo electrónico",0,"correo electrónico y notificaciones push",0,"habilitado","introduzca un nombre de grupo (requerido)",0,"ingresar el código de invitación","ingresa este código","errores","errores en el plugin","eventos","todo","ej.: ",0,"muy bien; buen trabajo; fantástico, guay; molas; bien hecho; sobresaliente; lo has pillado; genial",0,"salir","experto",0,"exportar","exportar una representación JSON de los contenidos","exportado desde esta biblioteca","ampliar",0,"extraer la selección en la función",0,"extraer a variable","encontrar referencias","finalizado","arréglalo","seguir tutorial en el editor","para el grupo","tenedores","función","nombre de la función","tipos de funciones","función, variable, biblioteca, ...","sexo","Obtener mi certificado Hora del Código™","obtiene el temporizador de se desencadena para cada fotograma de la pantalla.","usuario de github",0,"sustitución global","variable global","variables globales","volver","¡regresar a la codificación! {0}★ para ir","volver...","ir a","ve a la lista de cosas de tu guion","ir al paso anterior","meta:","grupo",0,"corazones","ayuda",0,0,"historial","¡Bravo!, se publicó tu guión","como encontró","quiero ejecutarla en","He terminado mi Hora del Código™","imagen del ícono: {0}",0,"si estás atascado, toca la línea de meta",0,0,0,0,"importar valores de los campos desde un objeto JSON",0,0,0,0,"increíble, mágico, maravilloso, sorprendente, alucinante, milagroso, peculiar, fenomenal, molón, especial, espectacular, inesperado, chocante, super guay, ",0,"insertar","insertar comentario","insertar instrucción","insertar {0}","información detallada",0,"instalando y cargando script","en local",0,"problemas","unirse a un grupo","unirse a un grupo",0,"¡siga escribiendo los términos de búsqueda!","seguir editando","se conoce aquí como:",0,"aprender","obtener información sobre la publicación","más información","más información acerca de {0}","salir del tutorial","cambiemos esto","¡Vamos!","¡empecemos!","bib","bibliotecas","biblioteca","nombre de la biblioteca","referencia de la biblioteca","cargar más","cargar más respuestas","cargando",0,"cargando comentarios de /{0}...",0,"cargando respuestas...","cargando guion","cargando tutorial","cargando...","local","ubicación",0,"negación lógica","registros","principal",0,"creadores","administrar datos","quizás más tarde","yo",0,0,"usuario de minecraft",0,0,"más","más ","más configuraciones","mover cursor","mover a la izquierda","ve al siguiente paso","mover el cursor a la izquierda","mover el cursor a la derecha","mi arte",0,0,0,"mis scripts","se necesita un nombre diferente aquí","aquí se necesita una cadena diferente","aquí se necesita un campo diferente","se necesita un parámetro","tienes que borrar esto","tienes que hacer modificaciones en otro sitio","negativo",0,0,0,0,"nueva línea",0,0,0,"nueva instrucción debajo","nueva variable",0,"siguientes tutoriales...","sobrenombre",0,"este usuario no tiene ningún arte publicado","sin comentarios, pulsa para escribirlos","¡no hay tenedores, instala, edita y vuelve a publicar tu script para crear uno!","no hay corazones. ¡podrás agregar uno cuando instales el script!","todavía no se cargaron imágenes",0,0,"sin etiquetas, pulsa para añadirlas",0,0,0,"notificaciones",0,"ya puedes seleccionar una propiedad de {0}; por sí misma no hace nada","ahora puedes seleccionar una propiedad en él","número","entrada numérica",0,"ocupación",0,"disponible sin conexión","aceptar","juguemos entonces","en línea",0,"o toca para obtener ayuda","otros","información general",0,"páginas",0,"análisis del texto del script",0,"pegar","pausar",0,"inicio del juego de física","elige una plantilla de script...","imagen","nombre de la imagen","nombre de la imagen (de 4 caracteres como mínimo)","url de la imagen","volver a jugar",0,"espera...","complementos","vista previa","imprimir",0,"privado","función privada","perfil privado","perfil","conocimiento sobre programación",0,"promocionar a datos",0,"sobrenombre público","perfil público","publicar","publicar como oculto",0,"publicado","extraer cambios","sacar a nivel de bloque",0,"volver a ejecutar","leer mas...","solo lectura","nombre real",0,"recibir boletín de correo electrónico","recibir notificaciones de correo electrónico","registrar nombre:",0,"teclado numérico normal","volviendo a cargar script","eliminar",0,"eliminar imagen","quitar el fondo blanco (es mejor para los sprites del juego)",0,"cambiar nombre","repetir n veces","repetir en la colección","repetir mientras","sustituir todo en la función","sustituir todo en el script","sustituir imagen","replicado","replicado ",0,"denunciar abuso",0,"revertir a versión publicada",0,"retroceder ","ejecutar","ejecute principal",0,"ejecutar con instrumentación","guardar","guardado","guardando...","estudios","pantallas","captura de pantalla","captura de pantalla de {0}","script","propiedades del script",0,"buscar","buscar arte","buscar imágenes de arte","buscar aquí para {0}","buscar plantillas","buscando...","ver más opciones","seleccionar","seleccionar más","selecciona esa línea","seleccionar el {0}",0,0,"establecer el nombre de la variable local","establecer nombre","establecer el controlador que se invoca cuando se desliza el panel","establecer el controlador que se invoca cuando se pulsa el panel","establecer el controlador que se invoca cuando se toca el panel","establecer el controlador que se invoca cuando se libera la capacidad táctil del panel","establece todos los campos a sus valores predeterminados","configuración guardada","configuración","compartir",0,"mostrar cómo completar esta actividad","mostrar más opciones","presentar","iniciar sesión",0,0,"cerrar sesión","iniciando sesión...",0,"simplificar","nivel de aptitud guardado","saltar iteración",0,"social",0,"sonido",0,"imagen de la pantalla de presentación: {0}","dividir",0,"volver a empezar","iniciando script","iniciando...",0,"dentro","fuera","encima",0,"detener",0,"función detener","detener bucle","guardar en variable","guardar el valor en una variable","cadena",0,"tira '{0}'",0,0,0,"superior, sobrenatural, estupendo, inaudito, sobrenatural, único, sin precedentes, inusual, raro, extraño, fuera de lo común","alrededor de",0,0,"sincronización de...",0,0,0,0,0,"etiquetas",0,0,"toca (←) cuando termines","toca [ok] cuando termines",0,"toca aquí para ir al siguiente paso","pulsar aquí cuando termine","pulsa aquí","pulsar aquí para obtener instrucciones","pulsa aquí para ejecutar la aplicación","pulsa para cambiar el color","tocar para cambiar la imagen del icono","tocar para cambiar la imagen de la pantalla de presentación","pulsar para traducir con el traductor de Microsoft®...","temporal","terms of use","probar","función de prueba","pruebas","prueba si dos referencias aluden al mismo objeto",0,0,"el hub","el código de invitación debe ser un número entre 9 y 64 caracteres de largo","el script se bloqueó",0,0,"este script es una biblioteca","este script es un servicio web","hora y fecha","a código","para continuar","para variable global","alternar punto de interrupción","más destacado y nuevo",0,0,"traducir","traduciendo tutorial...",0,0,0,"volver a intentarlo","convertir en","progreso del tutorial","tutorial: ","tutoriales","usuario de Twitter","tipo:","tipo: {0}",0,0,0,"deshacer",0,0,0,0,0,0,0,0,0,0,"actualizar",0,0,0,0,0,0,"cargar","cargar imagen","Cargar captura de pantalla","cargar sonido",0,0,0,"url",0,0,0,0,0,"nombre de la variable","ver como script","ver/editar nombre, correo electrónico, ...",0,"fondo de pantalla","tenemos una biblioteca '{0}' aquí; {1}","Aquí tenemos un {0:a}; ¿quería hacer algo con él?","necesitamos un nuevo campo","necesitamos una nueva tabla","necesitamos un nuevo {0}","necesitamos un teclado numérico diferente","necesitamos una nueva variable","tenemos que editar otra cosa","te guiaremos paso a paso","aplicaciones web",0,0,0,"sitio web",0,"url del sitio web",0,0,0,0,0,"año de nacimiento",0,0,"¡Lo has conseguido!",0,"{0} ({1} línea{1:s})","hace {0} día{0:s}",0,"{0} falló; ahora estamos en modo offline;\n asegúrate de que tu conexión a internet funcione","archivo {0} de {0:s} importados","{0} para esta versión","hace {0} hora{0:s}","hace {0} minuto{0:s}","hace {0} mes{0:s}","{0} de {1} terminado","{0} publicar","{0} script{0:s} publicado{0:s}","hace {0} segundo{0:s}","{0} arriba","hace  {0:s}años {0}"]),!0):"fi"==e?(TDev.Util._setLanguageArray(t,[0,0," --paikallinen muuttuja",0,0,0,0,0,0,0,0,0,0,0,0,"'Javascriptin aaltosulkeet, kaikki työkalut, kokeneille kehittäjille!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,", mutta siinä on {0:a}",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>tämä rivi on täydellinen!</b> jatketaan","<h3>ladataan nykyisiä asetuksia...</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Julkisen profiilisi yksilöllinen näyttönimi (vähintään 8 merkkiä)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Kasvattavaa nykyistä pistemäärää.",0,0,0,0,"Kaikki skriptini",0,0,0,0,0,0,0,"Sivuja ja ruutuja käyttävä tyhjä sovellus.","Scratch-kirjastoa käyttävä tyhjä sovellus.",0,0,0,0,0,0,0,0,"Kilpikonnasovellus.",0,0,0,0,"Tämän käyttäjän kuvat/äänet:",0,0,"Koodipohja pelin luomiseen.",0,0,0,0,0,0,"Vaihda taitotaso!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Luo koodi",0,"Luo skripti",0,0,0,"Luo uusi kuvahahmo.",0,"Luo uusi skripti",0,0,0,0,0,"Luo kanava",0,0,0,"Luo omia sovelluksia",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Osuvatko hahmot päällekkäin","Haluatko saada TouchDevelop-sovellukseen liittyviä uutiskirjeitä esimerkiksi uusista ominaisuuksista ja tulevista tapahtumista.","Asiakirjat","Muista siirtyä alaspäin ja napauttaa ”save”, kun et enää tee muutoksia!","Vedä ja pudota lohkoja, yksinkertaistettu käyttöliittymä, hyvä vaihtoehto vasta-alkajille!",0,0,"Muokkaa koodia tekstinä, lisää toimintoja, haasteita kaipaaville kirjoittajille!",0,0,0,0,"Anna joitakin tietoja itsestäsi","Anna oman verkkosivustosi URL-osoite (esimerkki:\nhttp://www.northwindtraders.com)",0,"Määritä mahdollinen suhteesi kouluun.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Hakee korkeuden kuvapisteinä",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Hakee y-sijainnin kuvapisteinä","Aloitus",0,"Nykyisen komentosarjan yleiset muuttujat",0,"Ohje",0,0,0,0,"Miten löysit TouchDevelop-ohjelman?",0,"Tuo koodi","Tuo skripti tiedostosta",0,0,0,0,0,0,0,0,0,0,0,0,"Lisää '{0}' {1}",0,"Tähdellä (*) merkityt kohdat ovat pakollisia. ",0,0,0,0,0,0,0,0,0,0,0,0,"Saa kaikki pelihahmot ponnahtelemaan näytön reunoista",0,0,"Minä",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Lue tietosuojatietomme.",0,0,0,0,0,0,0,0,0,"Julkaise skriptisi niin, että kaikki voivat suorittaa sen.",0,0,0,0,0,"Vastaanota sähköposti-ilmoituksia, kun muut henkilöt tarkastelevat tai kommentoivat skriptejäsi tai ottavat niistä näyttökuvan tai vastaavat kommentteihisi tai kun ilmenee tilauksiisi liittyviä tapahtumia.",0,"Poistaa arvon nykyisestä elämästä.",0,"Ilmoita/poista",0,0,0,0,0,0,0,"Palauttaa sattumanvaraisen kokonaisluvun ”min”- ja ”max”-arvojen väliltä raja-arvot mukaan lukien.",0,0,0,0,0,0,0,0,0,0,0,0,0,"Tämän käyttäjän skriptit:",0,0,"Hae koodia...","Hae kaikki","Hae tästä...",0,0,"Hae...",0,0,0,"Näytä lisää",0,0,0,0,0,0,0,0,"Asettaa taustakuvan",0,"Asettaa nykyiset elämät.",0,0,"Asettaa sijainnin kuvapisteinä",0,0,0,0,0,0,0,"Asettaa leveyden kuvapisteinä","Asettaa nopeuden x kuvapisteinä/s","Asettaa y-kiihtyvyyden kuvapisteinä/s^2",0,"Asettaa y-nopeuden kuvapisteinä/s",0,"Asetukset",0,0,0,0,"Taitotaso: {0}     ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"TD118: if-ehto edellyttää {1:a}",0,0,0,0,0,0,0,0,0,0,0,"Opeta luovaa koodausta!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Microsoft® Translator -käännös. Napauta, niin näet alkuperäisen...",0,0,0,0,"Opetusohjelmat",0,0,0,0,0,"käyttöliittymän pienoissovellus",0,0,0,0,0,0,0,0,0,"Muutamme editoria ohjelmoinnin taitotasosi mukaan. Voit vaihtaa taitotasosi myöhemmin keskuksessa.","Mikä on ohjelmointitaitojesi taso?","Mikä on ammattisi?","Uudet ominaisuudet ","Missä oikein olet?",0,0,0,0,0,"GitHub-käyttäjäsi.","Minecraft-käyttäjäsi.",0,0,"Kanavasi näkyy tässä","Sähköpostiosoitettasi ei ole vahvistettu. Katso Saapuneet-kansiotasi.","Koko nimesi",0,0,0,"Skriptisi näkyy tässä","Twitter-käyttäjänimesi, kuten @touchdevelop.","muutama sekunti sitten","funktio","yleinen muuttuja","minuutti sitten",0,0,0,0,"tietoja sinusta",0,0,"ilmoitukset väärinkäytöstä",0,0,0,0,0,"lisää",0,0,0,0,0,0,0,0,0,0,"lisätä rivi alapuolelle","lisää uusi",0,0,0,0,0,0,0,0,0,0,0,0,0,"tunti sitten",0,0,0,0,0,0,0,"kuva/ääni",0,"tehtävä",0,0,0,0,0,0,"askelpalautin","poista tämä askelpalauttimella",0,0,0,"aloittelija","vasta-alkajat",0,0,0,"tyhjä sovellus",0,0,"tyhjä peli",0,0,0,"tyhjä scratch",0,"tyhjä kilpikonna",0,0,0,0,0,0,0,0,0,"peruuta",0,0,0,0,"kanavat",0,0,0,0,0,0,0,0,0,0,0,"valitse ohjelmoinnin taitotasosi",0,0,0,0,"kloonaa",0,0,"koodi",0,"koodaaja",0,0,0,0,0,"ehtolause",0,0,0,0,0,"kopioi",0,0,"luo",0,"luo kanava",0,0,0,0,"luodaan skriptiä",0,0,"mukauta kuvitusta!","leikkaa",0,0,0,"desimaalipiste",0,0,0,0,0,0,0,0,0,"tiedot",0,0,0,0,0,0,"hylkää","näyttöarvo",0,0,0,0,0,0,"muokkaa",0,"sähköposti","sähköposti (yksityinen)","sähköposti- ja palveluilmoitukset","sähköpostia ei voi tarkistaa, {0}",0,0,0,0,0,0,0,0,0,"esim.: ",0,"loistavaa; hyvin tehty; mahtavaa; upeaa; sinä olet paras; hyvää työtä; erinomaista; juuri niin; niin sitä pitää",0,0,"asiantuntija",0,0,0,0,0,0,0,0,0,0,"valmis",0,"seuraa opetusohjelmaa editorissa",0,0,"funktio",0,0,"funktio, muuttuja, kirjasto...","sukupuoli","hae Hour of Code™ -todistus",0,"github-käyttäjä",0,0,0,"yleiset muuttujat",0,"palaa koodaukseen! {0}★ ja palaa",0,0,0,"palaa edelliseen vaiheeseen","tavoite:",0,0,0,"ohje",0,0,"historia",0,"miten löytynyt",0,"olen saanut oman Hour of Code™ -osuuteni tehtyä",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"lisää","lisää kommentti","lisää lause","lisää {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,"opettele",0,0,0,0,"muutetaan tätä","aloitetaan!","käynnistys!",0,"kirjastot",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"sijainti",0,"looginen negaatio",0,0,0,0,0,0,0,0,0,"minecraft-käyttäjä",0,0,"lisää","lisää ","lisää asetuksia","siirrä kohdistinta",0,0,"siirrä kohdistinta vasemmalle","siirrä kohdistinta oikealle",0,0,0,0,"omat skriptit",0,0,0,0,0,0,"negaatio",0,0,0,0,0,0,0,0,0,"uusi muuttuja",0,"seuraavat opetusohjelmat...","lempinimi",0,0,0,0,0,0,"ei aiempaa sähköpostia",0,0,0,0,0,"ilmoitukset",0,0,0,0,0,0,"ammatti",0,0,0,0,0,0,0,0,"yleiskatsaus",0,0,0,"jäsennetään skriptin tekstiä",0,"liitä","tauko",0,0,"valitse skriptimalli...","kuva",0,0,0,"pelaa uudelleen",0,"odota...",0,0,0,0,"yksityinen",0,"yksityinen profiili",0,"ohjelmointitaidot",0,0,0,"julkinen lempinimi","julkinen profiili","publish",0,0,0,0,0,0,0,"lue lisää...",0,"oikea nimi","oikea nimi (yksityinen)","vastaanota sähköpostitiedotteita","vastaanota sähköposti-ilmoitukset",0,0,0,0,"poista",0,"poista kuva",0,0,0,"toista n kertaa",0,"toista kunnes",0,0,0,0,0,0,0,0,0,"siirrä taaksepäin","siirrä taaksepäin ","suorita","suorita main-osio",0,0,"tallenna",0,"tallennetaan...","koulu",0,0,0,"skripti","skriptin ominaisuudet",0,0,"hae kuvaa/ääntä",0,"hae täältä {0}","hae malleja",0,0,"valitse",0,"valitse kyseinen rivi",0,0,0,0,"aseta nimi",0,0,0,0,0,0,0,0,0,0,"näytä lisää vaihtoehtoja","esittely",0,0,0,"kirjaudu ulos","kirjaudutaan sisään...",0,0,0,"keskeytä toisto",0,0,0,0,0,0,"jaa",0,0,0,0,0,0,0,0,0,0,0,"keskeytä funktio","keskeytä silmukka",0,"tallenna arvo muuttujaan","merkkijono",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"napauta tätä",0,"napauta tätä, kun haluat suorittaa sovelluksen",0,0,0,0,0,"käyttöehdot",0,0,0,0,0,0,"keskus",0,0,0,0,0,0,0,0,"jatka","yleisiin muuttuj",0,0,0,0,0,0,0,0,0,"yritä uudelleen!","muunna muotoon","opetusohjelman eteneminen","opetusohjelma: ","opetusohjelmat","twitter-käyttäjänimi","tyyppi: ","tyyppi: {0}",0,0,0,"kumoa",0,0,0,"poista asennus",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"näytä/muokkaa: nimi, sähköposti, ...",0,"taustakuva",0,"tässä on {0:a}; halusitko tehdä sille jotakin?",0,0,0,0,0,0,"opastamme sinua vaihe vaiheelta",0,0,0,0,"verkkosivusto",0,"verkkosivuston URL-osoite",0,0,0,0,0,"syntymävuosi",0,0,0,0,0,"{0} päivää sitten",0,0,0,0,0,"{0} minuuttia sitten","{0} kuukautta sitten",0,0,0,"{0} sekuntia sitten",0,"{0} vuotta sitten",0,0,"● Kirjaudu sisään"]),!0):"fr"==e?(TDev.Util._setLanguageArray(t,[0,0," -- une variable locale"," [class]"," [masqué]"," [override]",0,0," heures "," minutes "," de "," secondes "," envoi des modifications"," en attente du serveur","### code source complet","Accolades Javascript, tous les outils, pour les développeurs avertis !","fonction 'atomic'",0,0,0,0,"'{0}' attend {1} ici",0,0,0,"« {0} » est obsolète et ne doit pas être utilisé",0,"'{0}' renvoie un '{1}' ; {2}",0,0,0,0,0,0,0,0,", devienne {0:a} à la place",", a obtenu {0}",0,0,0,"... il y a plus ...","// commentaire",0,0,0,0,"4. publier",0,0,0,0,0,0,0,"<b>Avertissement :</b> Cette application web n'est pas approuvée par Microsoft.",0,"<b>Cette ligne est parfaite !</b> Poursuivons.","<h3>chargement des paramètres actuels...</h3>","<h3>plus d'indices!</h3>",0,"<h3>{0:q} nécessite de se connecter</h3>",0,0,"<p>Vous pouvez partager vos applications avec d'autres, afin qu'ils puissent <b>exécuter et modifier</b> sur Windows Phone, iPad, iPhone, Android, PC ou Mac.</p>",0,0,0,0,0,0,"Application Minecraft Pi.","Application Minecraft.","Application Minecraft Creeper.",0,0,"Une couleur argb (alpha, rouge, vert, bleu)",0,0,0,0,0,"Une collection d'objets",0,"Une constante (couleur)","Une combinaison de date et d'heure",0,"Un contact",0,"Un document",0,0,0,0,"Une variable globale",0,0,0,0,0,0,0,0,0,0,0,"Nombre (éventuellement négatif et/ou décimal)","Une constante (chiffre)",0,0,0,"Une image","Extrait de texte","Application Pixel Art.","Un endroit pour accrocher une action à exécuter en réponse à un événement",0,0,"Une référence à un script bibliothèque",0,0,0,0,0,0,0,0,0,"Son",0,0,0,0,"Structure de données utilisateur","Une table de lignes définies par l'utilisateur",0,0,0,"Une zone de texte","Une minuterie","Nom complet unique pour votre profil public (au moins 8 caractères)",0,"Un compte utilisateur","Une interface utilisateur",0,0,"Script de ADJ","Configuration de l'API",0,0,0,0,"Accéléromètre",0,0,0,0,0,"Ajouter une action qui se déclenche pour chaque image affichée",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Ajoute un objet","Ajoute plusieurs objets à la fois","Ajoute des nombres",0,"Ajoute une valeur au score actuel.",0,0,"Après que le script s'arrête, parcourir le code pour voir les informations collectées.","Tous mes groupes","Tous mes scripts","Toutes les options sont activées",0,0,"Autorise l'utilisateur à enregistrer le numéro de téléphone",0,0,0,"Application vide utilisant des pages et des zones.","Application vide utilisant la bibliothèque Scratch.","Page de documentation vierge.","Didacticiel interactif vide.","Plug-in d’éditeur de script vide.","Un script vide, qui ne fait rien.",0,0,"Une table indexée de lignes définies par l'utilisateur",0,"Application Turtle.","Applique 'converter' à tous les éléments de la collection d'entrée et retourne une collection de résultats","Avez-vous fini de coder?","Voulez-vous vraiment arrêter le didacticiel ?","Opérations arithmétiques et opérations de bits sur les entiers de 32 bits","Image de cet utilisateur :","Demander ou afficher des valeurs sur le mur...","Attacher les données à d’autres objets","Code réutilisable pour créer un jeu.","Parcourir et examiner les scripts du bazar",0,0,"Caméra, micro, localisation et autres capteurs",0,0,"Changer le niveau de compétence!","Chaînes","Vérifie si le tableau est la même instance que l’autre tableau.","Vérifie si la couleur est égale à l'autre","Vérifie si deux textes sont identiques","Choisit une image de la Médiathèque","Effacer tous les événements en attente pour ce tableau","Effacer l’image d’arrière-plan","Effacer la caméra d’arrière-plan","Données du Cloud","Gestion de session du cloud","Code évoqué lors d'une interaction de utilisateur","Code qui effectue une tâche spécifique","Compare les nombres égaux","Compare les nombres inférieurs","Compare les nombres inférieurs ou égaux","Compare les chiffres pour en savoir plus","Compare les nombres supérieurs ou égaux",0,"Calcule la moyenne",0,"Calcule le maximum des valeurs","Calcule le minimum des valeurs","Calcule la somme","Concaténer deux morceaux de texte",0,"Convertit un nombre en texte","Convertit en une date (type doit être ``string``)","Convertit la valeur en une structure de données JSON.","Convertit en une valeur booléenne (type doit être ``boolean``)","Convertit un nombre (type doit être number)","Convertit en heure locale",0,0,"Aides pour l'exactitude",0,0,"Créer un groupe","Créez un Script","Créez un obstacle ligne avec le point de départ et les dimensions (largeur/hauteur) spécifiés. L’élasticité est 0 pour aucun rebond et 1 pour un rebond complet.","Créer une nouvelle collection de ``sprites``.","Créer un sprite d’ellipse.","Créez un nouveau sprite d’image.",'Créer un nouveau "sprite" rectangle.',0,"Créez une feuille de sprites.","Créer un nouveau sprite de texte.","Créez un sprite entre les deux sprites.","Créez un sprite d’ancrage.","Créer une valeur non valide sur ce type d’objet","Créer une chaîne","Créer une collection d'éléments.","Créer des valeurs non valides","Créez des murs autour du tableau à la distance spécifiée.","Créez vos propres applications",0,"Crée une nouvelle couleur en changeant le canal alpha de 0 (transparent) à 1 (opaque).","Crée un tableau de jeu vide et l’affiche à l’écran.",0,0,0,"Crée un sprite de 100 de largeur avec l’image spécifiée.","Crée une collection de Picture vide","Crée une instance du tableau de bord non valide",0,"Élément 'box' courant dans la page.","périphérique actuel",0,"Point tactile actuel","Détache le gestionnaire de l'événement.","Affiche le texte à l'écran","Affiche l'image sur le mur ; vous devez activer la fonction 'update on wall' si vous voulez que les changements apparaissent.","Affiche le lien sur le mur","Affiche la requête à l'écran","Affiche la ``sprite sheet``.","Affiche l’état du tableau de bord sur le mur","Divise des nombres","Les lutins se chevauchent-ils",0,"Docs","N’oubliez pas de faire défiler vers le bas et d’appuyer sur « Enregistrer » quand vous avez terminé vos modifications !","Blocs à déplacer, interface simplifiée, parfait pour les débutants !","Dessine une ligne entre deux points","Trace la bordure d'un texte avec une couleur et taille de police spécifiques","Code à modifier en texte, options supplémentaires, pour les apprentis développeurs d’applications !","E-mails, sms, contacts, calendrier, ...",0,"Entrez un nom","Entrez un nom pour le script...","Entrez des informations vous concernant","Entrez l’URL de votre site web personnel (exemple : http://www.northwindtraders.com)","Entrez le code d’invitation",0,"Les événements ne peuvent pas avoir de paramètres out.","Tout le monde pourra voir votre image sur Internet. ",0,"Exporte une représentation JSON du contenu.","Extensions","Facebook","Remplit une ellipse avec une couleur donnée","Remplit un rectangle avec une couleur donnée","Vitesse tactile finale après l’arrêt de l’action tactile","Pour les scripts publiés, regardez également sur l'onglet de la page de script publié pour trouver des données de couverture et de profil enrichies par les utilisateurs de façon anonyme.","Forums",'A partir de maintenant, on ne vous montrera plus le code à insérer. Suivez les instructions et tapez "exécuter" quand vous avez finit.',"Fonctions contenues dans le script actuel","Coordonnées géographique","Obtient une valeur de champ comme un type boolean","Obtient une valeur du champ sous forme de nombre","Obtient une valeur de champ sous forme de chaîne","Obtient a sorte de json (``string``, ``number``, ``object``, ``array``, ``boolean``, ``null``)","Obtient un instantané des états du tableau de bord (si connecté au navigateur). Vide en l’absence d’un tableau de bord pris en charge ou connecté.","Obtient un url vers l'image","Obtient une valeur par nom","Obtient une valeur indiquant si le fond se répète horizontalement","Obtient une valeur qui indique si le tableau peut être affiché en mode paysage","Permet d'obtenir une valeur si la chanson est protégée par la gestion des droits numériques DRM","Obtient les valeurs x et y des axes sélectionnés.","Obtient l'accélération le long de y en ``pixels/s^2``","Obtient la couleur d'accent dans le thème actuel","Obtient le décor d’arrière-plan","Permet d'obtenir la position centrée horizontalement en pixels","Obtient la couleur de chrome dans le thème actuel (arrière-plan de contrôle)","Obtient la couleur qui a la valeur ARVB de #00FFFFFF","Obtient la couleur qui a la valeur ARVB de #FF000000","Obtient la couleur qui a la valeur ARVB de #FF0000FF","Obtient la couleur qui a la valeur ARVB de #FF008000","Obtient la couleur qui a la valeur ARVB de #FF00FFFF",0,"Obtient la couleur qui a la valeur ARVB de #FF800080",0,0,0,0,"Obtient la couleur qui a la valeur ARVB de #FFFF0000","Obtient la couleur qui a la valeur ARVB de #FFFF00FF","Obtient la couleur qui a la valeur ARVB de #FFFFA500",0,"Obtient la couleur qui a la valeur ARVB de #FFFFFF00","Obtient la couleur qui a la valeur ARVB de #FFFFFFFF",0,0,"Obtient la durée en secondes","Obtient la valeur du champ sous forme de temps","Obtient le premier tableau de bord connecté disponible","Obtient la couleur de premier plan dans le thème actuel","Obtient l’identificateur du tableau de bord","Obtient le genre de la chanson","Obtient la hauteur en pixels","Permet d'obtenir la hauteur de l'image de la caméra en pixels.","Renvoie la i-ème valeur json","Obtient le lien associé au message","Obtient la liste des clés","Obtient le nom de l'artiste","Obtient le nom de la chanson",'Obtient les noms des "headers"',"Récupère la valeur normalisée de rouge (0.0-1.0)","Obtient le nombre d'éléments","Obtient le nombre de valeurs","Obtient l’index du lecteur","Obtient la valeur d’un bouton appuyé. Retourne 0 s’il n’y a pas de bouton.",0,"Permet d'obtenir le volume sonore pour des sons allant de 0 (silencieux) à 1 (volume actuel)","Obtient le nombre de sprites","Obtient le sprite d’index i","Obtient le texte","Obtient l’horodatage de cet instantané",'Obtient la valeur d\'un "header" donné',"Obtient la largeur en pixels","Permet d'obtenir la largeur de l'image de la caméra en pixels.","Obtient la position y en pixels","Mise en route",0,"Variables globales contenues dans le script actuel",0,0,"Cacher le sprite.",0,0,0,0,0,0,0,"Importe une représentation JSON du contenu.",0,0,'En mode de débogage, affiche les vitesse et autres infos de "sprites"',"Indique si un bouton est appuyé. Retourne false s’il n’y a pas de bouton.",0,"Indique si les données du tableau de bord sont identiques","Indique si le tableau de bord est encore connecté.","Indique si la clé existe","Indique si le lecteur est en mode pause","Indique si le lecteur est arrêté","Indique si le texte est vide","Insérer '{0}' {1}","Interagissent avec le runtime de l'application","Les éléments marqués d’un * sont obligatoires.","données JSON","Joindre un groupe","Dernier point tactile de fin","Dernier point tactile de départ",0,0,0,0,0,"Affichez les mises à jour.","Crée une couleur plus foncée suivant un delta compris entre 0 et 1.","Crée une couleur plus claire suivant un delta compris entre 0 et 1.","Fait rebondir tous les sprites sur le bord de l’écran","Cartes, localisation d'adresse, adresse de l'emplacement","Les maths dans toute leur splendeur : abs, max, etc, ...","Me",0,"Utilisateur Minecraft","Plus",0,"Déplace un sprite vers un autre.","Multiplie des nombres",0,0,0,0,0,0,0,0,"Nouveaux Scripts",0,"Couleurs nouvelles ou intégrées",0,0,0,0,0,0,0,0,0,0,0,0,"Convertit le texte en nombre",0,"Numéros de téléphone, vibrer, etc...","Sélectionne une couleur d'une roue de couleur où la teinte est comprise entre 0 et 1.","Sélectionne une couleur au hasard","Images et musique...",0,"Jouer, arrêter ou reprendre les chansons...","Joue la chanson.",0,0,"Veuillez lire notre Déclaration de confidentialité.","veuillez patienter...","Publier un commentaire...","Imprime le nombre sur le mur",'Imprime le contenu du "wall"',0,"Une action privée n’a pas de bouton d’exécution. ","Invite l'utilisateur à entrer un nombre",0,"Script de publication",0,"La publication est soumise à nos ","Publication du script en cours...","Se déclenche au démarrage de la lecture de l’animation","Se déclenche à l’arrêt de la lecture de l’animation","Lit la réponse comme un son Wave","Recevez des notifications par e-mail quand des personnes consultent ou commentent vos scripts, quand elles en font une capture instantanée, quand elles répondent à l'un de vos commentaires ou encore quand des événements concernant vos abonnements se produisent.","Rappel : Votre script est visible par tous dès sa publication. Veillez à ce qu’il ne contienne aucun mot de passe ni aucune information personnelle.","Supprime la valeur de la vie en cours.","Répondre...","Rapporter/Supprimer","Redimensionne l'image à la taille donnée en pixels","Retourne une collection triée à l'aide de la clé de comparaison","Renvoie une copie de l'image",0,0,"Renvoie une date qui ajoute le nombre spécifié de mois à la valeur de cette instance.","Renvoie une date qui ajoute le nombre spécifié d'années à la valeur de cette instance.","Retourne un nombre entier aléatoire entre `min` et `max` inclus.","Retourne une collection de chaînes qui contient les sous-chaînes de cette chaîne qui sont délimitées par les éléments d'une chaîne spécifiée.","Retourne une sous-chaîne à partir d'un index de début et d'une longueur",0,"Renvoie le nombre de caractères",0,'Retourne la couleur du "sprite".',0,"Renvoie true si cette instance est inutile",0,"Exécuter l'action incluse.",0,0,"Mises à jour des scripts","Scripts de cet utilisateur :",0,"Rechercher et naviguer le web...","Chercher un code...","Tout rechercher","Chercher ici...",0,0,"Rechercher...",0,0,0,"Voir Plus",0,"Définit une valeur indiquant si le fond se répète horizontalement","Active ou désactive le dégradé","Définit la transformation affine de matrice 3x3 appliquée au mur.",'Spécifie l\'angle du "sprite" en degrés',"Définit la caméra d’arrière-plan","Spécifie la couleur d'arrière-plan","Définit la couleur d’arrière-plan.","Définit l’image d’arrière-plan","Spécifie la position centrée horizontalement en pixels","Définit les points de vie actuels.","Définit la friction par défaut pour les sprites à une fraction de la perte de vitesse entre 0 et 1","Spécifie la hauteur en pixels","Spécifie la position en pixels","Spécifie la vitesse de rotation en degrés/sec","Définit le niveau du volume sonore de 0 (silencieux) à 1 (volume actuel)","Spécifie la vitesse en pixels/sec","Spécifie la couleur du sprite.","Définit le vecteur d’accélération constant pour les objets du tableau à pixels/sec^2","Spécifie l'url de l'image","Définit l'image d'arrière-plan du mur. L'image sera redimensionnée et découpée sur le fond d'écran au besoin.","Spécifie la largeur en pixels","Spécifie la vitesse x en pixels/sec","Spécifie l'accélération y en pixels/s^2","Spécifie la position y en pixels","Définit la vitesse y en pixels/sec","Spécifie l'index-z du sprite","Paramètres","Partagez-le avec cette URL :","Afficher les erreurs dans l'éditeur si le script utilise une interface API qui empêche l'exécution sur ces plateformes.","Affiche le tableau sur le mur.",0,"Niveau de compétence : {0}     ","Trie du plus récent au plus ancien","Trie les lieux par la distance et l'emplacement","Trie cette collection","Spécifie comment organiser le contenu de cette boîte","Commence une nouvelle animation.","Arrête et efface les minuteurs de chaque image","Convertit l'object JSON en texte","Soustrait des nombres","Support pour des didacticiels interactifs.","TD100: insérez un {0:a} ici","TD101: impossible de trouver '{0}'","TD109: impossible d'attribuer à celui-ci","TD111: impossible d'attribuer de {0} à {1}","TD112: je ne peux pas trouver la propriété '{0}' sur {1}","TD115: trop de paramètres fournis à {0}","TD116: nombre insuffisant de paramètres fournis à {0}","TD118: la condition 'if' veut {1:a}","TD119 : j’ai besoin d’un élément sur lequel itérer",0,"TD130: limite de 'for' veut {1:a}","TD144: il semble qu'il vous manque '{0}', essayez de l'ajouter","TD145: il semble qu'il manque un opérateur (comme '+' ou ',')","TD147: on ne s'attend pas à '{0}' ici","TD150: impossible d’appeler l’élément avant '('","TD151: TD151 : '(' non fermée","TD152: inattendu ')'","TD154: l'opérateur doit être suivi de quelque chose","TD155: '{0}' ne peut pas être attribué à une variable locale","Enseignez Creative Coding !",0,0,0,0,0,0,0,0,0,"Chose",0,0,0,0,0,0,0,"Ce script utilise les fonctionnalités suivantes : ",0,"Ce didacticiel utilise des données du cloud qui sont partagées avec d'autres utilisateurs.","Pour ajouter des données de page, créez une variable locale et appuyez sur 'promote to field'.",0,0,0,"Traduction, dictation, ...",'Traductions fournies par \\"Microsoft®Translator\\", cliquez pour voir l\'original...',"True si le tableau est touché","Essayez de changer votre code. If vous êtes bloqué, tapez sur le menu du tutoriel.",0,0,"Didacticiels","Twitter","Faire une recherche en ligne...","Tapez pour rechercher...",0,"Les types, l’ordre et le nombre de paramètres d’événement ne peuvent pas être modifiés.","Widget de UI",0,"Mettez à jour les emplacements des sprites sur le tableau.","Met à jour une image sur une image de lutin (le cas échéant)","Mises à jour du texte sur un sprite de texte","Charger une image","Charger un son","Utilisateurs",0,"Nous avons besoin de plus d'options","Nous adapterons l’éditeur à votre niveau de compétence en code. Vous pouvez changer votre niveau de compétence plus tard dans le hub.","Quel est le niveau de vos connaissances en programmation ?","Quelle est votre profession ?","Nouveautés","Où habitez-vous ?","Dessine une autre image à un endroit donné. La gamme de l'opacité va de 0 (transparent) à 1 (opaque).",0,"YouTube",0,0,"Votre utilisateur GitHub.","Votre utilisateur Minecraft.","Votre art apparaîtra ici",0,"Votre chaîne apparaîtra ici","Votre adresse e-mail n'a pas encore été vérifiée. Consultez votre boîte de réception.","Votre nom complet",0,0,0,"Votre script apparaîtra ici","Votre pseudo twitter, tel que @touchdevelop.","il y a quelques secondes","une fonction","une variable globale","il y a une minute","une page","à propos de la couverture","à propos des aperçus","à propos du profil","informations personnelles","abus",0,"rapports d’abus",0,0,0,"accéder au champ {0}",0,"ajouter","ajouter un nouvel élément...",0,"ajouter une action qui se déclenche pour chaque image de l'animation",0,"ajouter un commentaire pour ce champ",0,0,0,"ajouter le paramètre d'entrée","ajouter une ligne ci-dessus","ajouter une ligne ci-dessous","ajouter nouvelle",0,"ajouter une option","ajouter le paramètre de sortie",0,0,"ajouter {0}",0,0,"toutes les APIs","autoriser","extraordinaire, étonnant, stupéfiant, imposant, impressionnant, à couper le souffle, classique, super, curieux, différent, exceptionnel, incomparable, splendide, fabuleux, fantastique, magnifique, géant, ",0,"une définition de type de fonction","il y a une heure",0,0,0,0,0,"applications",0,"art","ressource d'art","devoir",0,"auteur",0,0,"précédent",0,"retour arrière","effacez ceci",0,0,"base","débutant","débutants",0,"liée au script :","vide","application vide","creeper vide","documents vierges","jeu vide","minecraft vide","minecraft pi vide","pixel art vide","scratch vide","plug-in de script vide","turtle vide","didacticiel vide","interrompre le débogueur","point d'arrêt",0,0,0,0,0,0,"annuler","ne peut pas synchroniser - vous n'êtes pas connecté",0,"revenir en local","modifiez le contenu","chaînes","vérifie si la référence n’a pas été définie",0,0,0,"choisissez une image (taille inférieure à 1 Mo et à 2048 x 2048)",0,0,0,0,0,0,"choisir votre niveau de compétence en code","choisir...",0,"effacer","presse-papiers","clone",0,"sessions Cloud","code","codez la ligne d'objectif","développeur","couleur n°{0}","couleur : {0}","placer en commentaire","commentaires","compiler","conditionnel","connecté",0,0,"continuer",0,"copier","coller la sélection","couverture","créer","créer un nouveau paramètre",0,0,0,0,"crée une collection d’objets vide","création d'un script","actuel","expression courante","personnaliser l’image clipart","couper","couper la sélection","base de données","déboguer","point décimal","décorateurs","supprimer","supprimer les données locales et les autorisations","supprimer la sélection","rétrograder en variable","refuser","description","description (facilite la recherche)",0,"détails","vouliez-vous utiliser cette valeur ?","diff. actuelle","diff. préc",0,0,0,"annuler","afficher la valeur","affiche l’objet sur le mur",0,0,0,"terminée","terminé !","modifier","else if","e-mail",0,"e-mail et notifications push",0,0,0,"entrez un numéro","entrer le code d’invitation","entrez ce code","erreurs",0,"événements",0,"ex. : ",0,"excellent ; bon travail ; magnifique ; super ; vous êtes fabuleux ; très bien ; incroyable ; vous avez réussi ; parfait",0,"sortir","expert",0,"exporter","exporter une représentation JSON du contenu","exporté de cette bibliothèque","étendre",0,"extraire la sélection et l’ajouter dans la fonction","extrait au paramètre","extraire en var","trouver des références","terminé","corrigez-le","suivre le didacticiel dans l'éditeur","pour le groupe","bifurcations","fonction","nom de la fonction","types de fonction","fonction, variable, bibliothèque, etc.","homme/femme","obtenir mon certificat Heure de Code™","obtient le minuteur qui se déclenche pour chaque image affichée.","utilisateur github","♥ donné","remplacement global","variable globale","variables globales","retour","retournez au code ! encore {0} ★","retour...","aller à","accédez à liste de choses dans votre script","revenir à l’étape précédente","objectif :","groupe","groupes","coeurs","aide",0,0,"histoire","super, le script est publié","comment nous avez-vous trouvés","je veux l'exécuter sur","j'ai terminé ma session Heure de Code™","image d’icône : {0}","si","si vous êtes bloqué, appuyez sur la ligne d'objectif",0,0,0,0,"importer des valeurs de champ à partir d’un objet JSON",0,0,0,"dans cette fonction","incroyable, magique, merveilleux, époustouflant, ahurissant, particulier, phénoménal, génial, rock and roll, spécial, spectaculaire, surprenant, éblouissant, super-génial, ",0,"insérer","insérer commentaire","insérer une instruction","insérer {0}","aperçus",0,"installation et chargement de script","en locale",0,"problèmes","joindre un groupe","joindre un groupe",0,"continuez simplement à taper les termes de recherche !","continuer à modifier","dénommée ici :",0,"apprendre","en savoir plus sur la publication","en savoir plus","en savoir plus sur {0}","quitter le didacticiel","modifier","c'est parti !","c'est parti !","lib","bibliothèques","bibliothèque","nom de la bibliothèque","référence de la bibliothèque","charger plus","charger plus de réponses","chargement en cours","téléchargement des ressources en cours...","chargement de commentaires pour /{0}...","téléchargement en cours...","chargement des réponses...","chargement du script","chargement du didacticiel","téléchargement en cours...","local","lieu de résidence",0,"négation logique","journaux","principal",0,"fabricants","gestion des données","peut-être plus tard","moi",0,0,"utilisateur minecraft",0,0,"plus","plus ","plus de paramètres","déplacer curseur","aller à gauche","passe à l’étape suivante","déplacer le curseur à gauche","déplacer le curseur vers la droite","mon art",0,0,0,"mes scripts","besoin d'un autre nom ici","une chaîne différente est attendue ici","nouveau champ nécessaire ici","un paramètre est nécessaire","nécessité de supprimer ce","besoin d'éditer ailleurs","négation",0,0,0,0,"nouvelle ligne",0,0,0,"nouveau stmt ci-dessous","nouvelle variable",0,"didacticiels suivants...","surnom","non","aucune image clipart publiée par cet utilisateur","pas de commentaires, appuyez pour en écrire !","aucune bifurcation, installez, modifiez et republiez le script pour en créer une !","aucun cœur. vous pouvez en ajouter un après que vous avez installé le script !","aucune image téléchargée",0,0,"aucune balise, appuyez pour en ajouter !",0,0,0,"notifications",0,"vous pouvez désormais sélectionner une propriété de {0} ; elle ne fait rien par elle-même","vous pouvez sélectionner une propriété là-dessus","nombre","entrée de numéro","objets","profession","d'un objet","disponible hors ligne","oK","ok, c'est compris!","en ligne",0,"ou appuyez pour obtenir de l'aide","autres","vue d'ensemble",0,"pages",0,"analyse du texte de script",0,"coller","pause",0,"kit de démarrage jeu de physique","sélectionnez un modèle de script...","image","nom de l’image","nom de l’image (4 caractères au minimum)","url de l’image","rejouer",0,"veuillez patienter...","plugins","aperçu","imprimer",0,"privé","fonction privée","profil privé","profil","connaissances en programmation","progression","promouvoir comme données","promouvoir en champ","surnom public","profil public","publier","publier sous la forme masquée","publier votre script","publiée ","extraire les modifications","extraire au block supérieur",0,"ré-exécuter","lire la suite...","lecture seule","vrai nom",0,"recevoir les newsletters par e-mail","recevoir des notifications par e-mail","nom de l'enregistrement :",0,"clavier habituel","rechargement du script","supprimer",0,"supprimer l’image","supprimer l’arrière-plan blanc (recommandé pour les sprites de jeu)",0,"renommer","répéter n fois","répéter sur la collection","répéter pendant","remplacer tout dans la fonction","remplacer tout dans le script","remplacer l'image","répliqué","répliqué ",0,"signaler un abus","continuer","revenir à la version publiée","revenir en arrière","revenir en arrière ","exécuter","exécuter main","exécuter les tests","exécuter avec instrumentation","enregistrer","enregistré","enregistrement...","établissement scolaire","écrans","capture d'écran","capture d’écran de {0}","script","propriétés du script","scripts","recherche","rechercher des images clipart","rechercher des images artistiques","rechercher ici pour {0}","rechercher des modèles","recherche en cours...","afficher plus d’options","sélectionner","sélectionner plusieurs","sélectionner cette ligne","Sélectionnez le type de ce {0}",0,0,"spécifiez le nom de la variable locale","spécifier le nom","définir le gestionnaire appelé lors d’un balayage sur le tableau","définissez le gestionnaire qui est invoqué en appuyant sur le tableau","définir le gestionnaire appelé quand le tableau est touché","définir le gestionnaire appelé quand le tableau n’est plus touché","définit tous les champs à leurs valeurs par défaut","paramètre enregistré","paramètres","partager",0,"indiquer comment terminer cette activité","afficher plus d’options","vitrine","connexion",0,0,"déconnexion","connexion...",0,"simplifier","niveau de compétence enregistré","ignorer l’itération",0,"social",0,"son",0,"image d’écran de démarrage : {0}","partager",0,"recommencer","démarrage du script","début...",0,"entrer","sortir","passer par-dessus",0,"arrêter",0,"arrêter la fonction","arrêter la boucle","stocker dans variable","stocker la valeur dans une variable","chaîne",0,"bande de « {0} »",0,0,0,"supérieur, surnaturel, énorme, hallucinant, étrange, unique, inédit, original, bizarre, remarquable, fascinant","entourer de",0,0,"la synchronisation...",0,0,0,0,0,"tags",0,0,"appuyez sur (←) quand vous avez terminé","appuie sur [ok] quand tu as terminé",0,"appuie ici pour passer à l’étape suivante","appuyez ici quand vous avez terminé","appuyez ici","appuyez ici pour obtenir des instructions","appuyez ici pour exécuter votre application","appuyez pour changer la couleur","appuyez pour changer l’image d’icône","appuyez pour changer l’image d’écran de démarrage",'appuyez pour traduire avec \\"Microsoft® Translator...\\"',"temporaire","terms of use","test","fonction de test","tests","teste si deux références renvoient vers le même objet",0,0,"le hub","le code d’invitation doit être un nombre composé de 9 à 64 caractères","échec du script",0,0,"ce script est une bibliothèque","ce script est un service web","dates","vers code","pour continuer","convertir en variable globale","basculer vers le point de rupture","top & nouveau",0,0,"traduire","traduction du didacticiel...",0,0,0,"réessayez!","transformer en","avancement du didacticiel","didacticiel : ","didacticiels","pseudo twitter","type : ","type : {0}",0,0,0,"annuler",0,0,0,0,0,0,0,0,0,0,"mettre à jour",0,0,0,0,0,0,"télécharger","charger une image","télécharger une capture d'écran","charger un son",0,0,0,"url",0,0,"utilisateurs",0,0,"nom de la variable","voir comme un script","afficher/modifier le nom, l’adresse e-mail...",0,"papier peint","nous avons une bibliothèque {0} ici ; {1}","Ici, nous avons {0:a} ; vouliez-vous vous en servir ?","nous avons besoin d'un nouveau champ","nous avons besoin d'une nouvelle table","nous avons besoin d'un nouveau {0}","nous avons besoin d'un autre clavier","nous avons besoin d'une nouvelle variable","nous devons encore faire une modification","nous allons vous guider pas à pas","applications web",0,0,0,"site web",0,"URL du site web",0,0,0,0,0,"année de naissance","oui",0,"vous avez réussi !","votre meilleur score : {0}","{0} ({1} ligne{1:s})","il y a {0} jour{0:s}","{0} vers le bas",0,0,0,"il y a {0} heure{0:s}","il y a {0} minute{0:s}","il y a {0} mois{0:s}","{0} sur {1} effectué","{0} publiés","{0} script publié{0:s}","il y a {0} seconde{0:s}","{0} vers le haut","il y a {0} années{0:s}"]),!0):"he"==e?(TDev.Util._setLanguageArray(t,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"חיפוש...",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"עוד",0,0,0,0,0,0,0,0,0,0,0,"הסקריפטים שלי",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"הקש שם"]),!0):"hi"==e?(TDev.Util._setLanguageArray(t,[0,0," -- स्‍थानीय वेरिएबल",0,0,0,0,0,0,0,0,0,0,0,0,"'Javascripty' curly braces, सभी टूल, अनुभवी डेवलपरों के लिए!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,", उसके बजाय {0:a} आ गया",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>यह पंक्ति एकदम ठीक है!</b> आगे बढ़ते हैं","<h3>वर्तमान सेटिंग लोड हो रही है...</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"आपकी सार्वजनिक प्रोफाइल के लिए विशिष्‍ट प्रदर्शित नाम (कम से कम 8 अक्षर)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"मौजूदा स्कोर में मान जोड़ता है।",0,0,0,0,"मेरी सभी स्क्रिप्‍ट",0,0,0,0,0,0,0,"पृष्ठों और बॉक्स का इस्तेमाल कर रहा रिक्त ऐप","स्क्रैच लाइब्रेरी का इस्तेमाल कर रहा एक रिक्त ऐप",0,0,0,0,0,0,0,0,"एक turtle ऐप।",0,0,0,0,"इस उपयोगकर्ता की आर्ट:",0,0,"गेम बनाने के लिए बॉयलर प्लेट कोड।",0,0,0,0,0,0,"कौशल का स्‍तर बदलें!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"कोड बनाएँ",0,"स्क्रिप्‍ट बनाएं",0,0,0,"नई तस्‍वीर वाली स्प्राइट बनाएं।",0,"नई स्क्रिप्ट बनाएँ",0,0,0,0,0,"चैनल बनाएँ",0,0,0,"स्‍वयं अपनी ऐप्‍स बनाएं",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0," स्प्राइट ओवरलैप करें","क्‍या आप जानकारीपरक Touch Develop-संबंधी न्‍यूजलेटर प्राप्‍त करना चाहते हैं, जैसे नई सुविधाओं और भावी कार्यक्रमों के बारे में जानकारी?","डॉक्स","संपादन करने के बाद नीचे स्‍क्रॉल करने और 'सहेजें' पर टैप करना ना भूलें!","ड्रैग एंड ड्रॉप ब्‍लॉक, सरलीकृत इंटरफेस, शुरुआत करने वालों के लिए सर्वोत्‍तम!",0,0,"कोड को पाठ के रूप में संपादित करें, भावी ऐप निर्माताओं के लिए, अधिक विकल्‍प!",0,0,0,0,"अपने बारे में कुछ जानकारी प्रविष्‍ट करें","अपनी व्‍यक्तिगत वेबसाइट का URL प्रविष्‍ट करें (उदाहरण: http://www.northwindtraders.com)",0,"अपनी स्‍कूल संबद्धता प्रविष्‍ट करें, यदि कोई है।",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"लम्बाई पिक्सेल में मिलती है",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Y स्थिति पिक्सेल में मिलती है","प्रारंभ करना",0,"मौजूदा स्क्रिप्ट में ग्लोबल वेरिएबल",0,"सहायता",0,0,0,0,"आपको Touch Develop के बारे में कैसे पता चला?",0,"कोड आयात करें","फ़ाइल से स्क्रिप्ट आयात करें",0,0,0,0,0,0,0,0,0,0,0,0,"'{0}' {1} प्रविष्‍ट करें",0,"* द्वारा चिह्नित आइटम आवश्‍यक हैं।",0,0,0,0,0,0,0,0,0,0,0,0,"सभी स्प्राइट को स्क्रीन की सीमा पर उछालता है",0,0,"मैं",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"कृपया हमारा निजता वक्‍तव्‍य देखें।",0,0,0,0,0,0,0,0,0,"अपनी स्क्रिप्ट पब्लिश करें, ताकि हर कोई इसे रन कर सके",0,0,0,0,0,"अन्‍य लोगों द्वारा आपकी किसी स्क्रिप्‍ट की समीक्षा करने/उसका स्‍क्रीनशॉट लेने/उस पर टिप्‍पणी करने, या आपकी किसी टिप्‍पणी पर जवाब देने, या आपकी सदस्‍य संबंधी आयोजन होने पर ईमेल से सूचना प्राप्‍त करें।",0,"मौजूदा जीवन से मान निकालता है।",0,"रिपोर्ट करें/हटाएँ",0,0,0,0,0,0,0,"“min” और “max” के बीच यादृच्छिक अभिन्न संख्या देता है जिसमें ये दोनों शामिल हैं।",0,0,0,0,0,0,0,0,0,0,0,0,0,"इस उपयोगकर्ता की स्क्रिप्‍ट:",0,0,"कोड खोजें...","सब कुछ खोजें","यहां खोजें...",0,0,"खोजें…",0,0,0,"और देखें",0,0,0,0,0,0,0,0,"बैकग्राउंड पिक्‍चर सेट करता है",0,"मौजूदा जीवन पाइंट सेट करें।",0,0,"पिक्‍सेल में स्थिति निर्धारित करता है",0,0,0,0,0,0,0,"पिक्सेल में चौड़ाई सेट करता है","x स्‍पीड को पिक्सेल/ सेकंड में सेट करता है","y acceleration को पिक्सेल/ सेकंड^2 में सेट करता है",0,"y स्‍पीड को पिक्‍सेल/ सेकंड में सेट करता है",0,"सेटिंग्स",0,0,0,0,"कौशल का स्‍तर: {0}     ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"TD118: 'if' कन्डीशन को {1:a} चाहिए,",0,0,0,0,0,0,0,0,0,0,0,"क्रिएटिव कोडिंग सिखाएँ!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Microsoft® Translator द्वारा अनुवाद, मूल देखने के लिए टैप करें...",0,0,0,0,"ट्यूटोरियल",0,0,0,0,0,"UI विजेट",0,0,0,0,0,0,0,0,0,"हम एडिटर को आपकी कोडिंग के कौशल स्‍तर के अनुकूल बना देंगे। आप बाद में अपना कौशल स्तर हब में बदल सकते हैं।","आपके प्रोग्रामिंग ज्ञान का स्‍तर क्‍या है?","आपका पेशा क्‍या है?","नया क्या है","आप इस दुनिया में कहां रहते हैं?",0,0,0,0,0,"आपका GitHub उपयोगकर्ता।","आपका Minecraft उपयोगकर्ता।",0,0,"आपका चैनल यहाँ दिखाई देगा","आपका ईमेल पता अभी तक सत्‍यापित नहीं हुआ है। कृपया अपना इनबॉक्‍स चेक करें।","आपका पूरा नाम",0,0,0,"आपकी स्क्रिप्‍ट यहां नजर आएगी","आपका ट्विटर हैंडल, जैसे @touchdevelop।","कुछ सेकंड पहले","फंक्‍शन","वैश्विक वेरिएबल","एक मिनट पहले",0,0,0,0,"आपके बारे में",0,0,"दुरुपयोग की रिपोर्ट",0,0,0,0,0,"जोड़ें",0,0,0,0,0,0,0,0,0,0,"नीचे पंक्ति जोड़ें","नया जोड़ें",0,0,0,0,0,0,0,0,0,0,0,0,0,"एक घंटे पहले",0,0,0,0,0,0,0,"कला",0,"कार्यभार",0,0,0,0,0,0,"बैकस्‍पेस","इसे बैकस्पेस करें",0,0,0,"बिगिनर","शुरुआत करने वाले",0,0,0,"रिक्त ऐप",0,0,"रिक्त गेम",0,0,0,"रिक्त स्क्रैच",0,"रिक्त turtle",0,0,0,0,0,0,0,0,0,"रद्द करें",0,0,0,0,"चैनल",0,0,0,0,0,0,0,0,0,0,0,"अपने कोडिंग कौशल का स्‍तर चुनें",0,0,0,0,"क्‍लोन",0,0,"कोड",0,"कोडर",0,0,0,0,0,"कंडीशनल",0,0,0,0,0,"कॉपी करें",0,0,"बनाएँ",0,"चैनल बनाएँ",0,0,0,0,"स्क्रिप्‍ट तैयार हो रही है",0,0,"कला को अनुकूलित करें!","कट करें",0,0,0,"दशमलव बिंदु",0,0,0,0,0,0,0,0,0,"विवरण",0,0,0,0,0,0,"खारिज करें","प्रदर्शित मान",0,0,0,0,0,0,"संपादन करें",0,"ईमेल","ई-मेल (निजी)","ईमेल और पुश नोटिफिकेशन","ईमेल सत्यापित नहीं हुई, {0}",0,0,0,0,0,0,0,0,0,"उदा.: ",0,"शानदार; अच्‍छा प्रदर्शन; अद्भुत; बहुत बढ़ि‍या; छा गए; बहुत अच्‍छे; उत्‍कृष्‍ट; बिल्‍कुल; हां",0,0,"विशेषज्ञ",0,0,0,0,0,0,0,0,0,0,"पूरा हुआ",0,"एडिटर में ट्यूटोरियल का पालन करें",0,0,"फ़ंक्शन",0,0,"फंक्‍शन, वेरिएबल, लाइब्रेरी, ...","लिंग","मेरा Hour of Code™ सर्टिफिकेट प्राप्त करें",0,"github उपयोगकर्ता",0,0,0,"वैश्विक वेरिएबल",0,"कोडिंग पर वापस जाएं! {0}★ बाकी",0,0,0,"पिछले कदम पर जाएं","लक्ष्‍य:",0,0,0,"सहायता",0,0,"इतिहास",0,"कैसे मिला",0,"मैंने Hour of Code™ को पूरा कर लिया",0,0,0,0,0,"कोड आयात करें",0,0,0,0,0,0,0,0,0,"टिप्पणी सम्मिलित करें","स्टेटमेंट प्रविष्ट करें","{0} प्रविष्‍ट करें",0,0,0,0,0,0,0,0,0,0,0,0,0,"सीखें",0,0,0,0,"आइए इसे बदलें","आइए, इसे क्रियान्वित करें!","आइए शुरूआत करते हैं!",0,"लाइब्रेरी",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"स्‍थान",0,"तार्किक निषेध",0,0,0,0,0,0,"मैं",0,0,"minecraft उपयोगकर्ता",0,0,"अधिक","और ","अधिक सेटिंग्‍स","कर्सर को सरकाएं",0,0,"कर्सर को बांये ले जाएं","कर्सर दायें ले जाएं",0,0,0,0,"मेरी स्क्रिप्‍ट",0,0,0,0,0,0,"निषेध",0,0,0,0,0,0,0,0,0,"नया वेरिएबल",0,"अगले ट्यूटोरियल...","उपनाम",0,0,0,0,0,0,"कोई पिछली ईमेल नहीं है",0,0,0,0,0,"सूचनाएं",0,0,0,0,0,0,"पेशा",0,0,0,0,0,0,0,0,"रूपरेखा",0,0,0,"स्क्रिप्‍ट का टेक्‍स्‍ट पार्स हो रहा है",0,"पेस्‍ट करें","पॉज़ करें",0,0,"स्क्रिप्ट टेम्प्लेट लें...","तस्‍वीर",0,0,0,"फिर खेलें",0,"कृपया प्रतीक्षा करें...",0,0,0,0,"निजी",0,"निजी प्रोफाइल",0,"प्रोग्रामिंग ज्ञान",0,0,0,"सार्वजनिक उपनाम","सार्वजनिक प्रोफाइल","पब्लिश करें",0,0,0,0,0,0,0,"और पढ़ें",0,"वास्‍तविक नाम","वास्तविक नाम (निजी)","ईमेल न्‍यूजलेटर प्राप्‍त करें","ईमेल सूचनाएं प्राप्‍त करें",0,0,0,0,"हटाएं",0,"तस्‍वीर हटाएं",0,0,0,"n बार दोहराएं",0,"तक दोहराएं",0,0,0,0,0,0,0,0,0,"पीछे करें","पीछे करें ","रन करें","मुख्‍य को रन करें",0,0,"सहेजें",0,"सहेज रहा है...","स्‍कूल",0,0,0,"स्क्रिप्ट","स्क्रिप्‍ट के गुण",0,0,"कला खोजें",0,"{0} के लिए यहां खोजें","टेम्प्लेट की खोज करें",0,0,"चयन करें",0,"उस पंक्ति को चुनें",0,0,0,0,"नाम सेट करें",0,0,0,0,0,0,0,0,0,0,"और विकल्प दिखायें","शोकेस","साइन इन",0,0,"साइन आउट","प्रवेश हो रहा है...",0,0,0,"पुनरावृत्ति छोड़ें",0,0,0,0,0,0,"विभाजित करें",0,0,0,0,0,0,0,0,0,0,0,"रोकने का फ़ंक्शन","रोकने का लूप",0,"इस मान को वेरिएबल में भंडारित करें","स्ट्रिंग",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"वहाँ टैप करें",0,"अपनी ऐप को रन करने के लिए यहां क्लिक करें",0,0,0,0,0,"उपयोग की शर्तें",0,0,0,0,0,0,"हब",0,0,0,0,0,0,0,0,"जारी रखने के लिए","वैश्विक वेरिएबल के लिए",0,0,0,0,0,0,0,0,0,"फिर कोशिश करें!","में बदलें","ट्यूटोरियल की प्रगति","ट्यूटोरियल: ","ट्यूटोरियल","ट्विटर हैंडल","टाइप करें: ","टाइप करें: {0}",0,0,0,"पूर्ववत करें",0,0,0,"स्‍थापना रद्द करें",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"नाम, ईमेल देखें/संपादित करें ...",0,"वॉलपेपर",0,"हमारे पास यहाँ {0:a} है; क्या आप इसके साथ कुछ करना चाहते थे?",0,0,0,0,0,0,"हम आपका चरण-दर-चरण मार्गदर्शन करेंगे",0,0,0,0,"वेबसाइट",0,"वेबसाइट का यूआरएल",0,0,0,0,0,"जन्‍म वर्ष",0,0,0,0,0,"{0} दिन पहले",0,0,0,0,0,"{0} मिनट पहले","{0} महीने पहले",0,0,0,"{0} सेकंड पहले",0,"{0} साल पहले",0,0,"● साइन इन"]),!0):"id"==e?(TDev.Util._setLanguageArray(t,[0,0," -- variabel lokal",0,0,0,0,0,0,0,0,0,0,0,0,"Kurung kurawal Javascript, semua alat bantu, untuk pengembang berpengalaman!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,", namun mendapatkan {0:a}",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>baris ini sempurna!</b> ayo lanjut","<h3>memuat pengaturan saat ini...</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Nama tampilan unik untuk profil publik Anda (minimal 8 karakter)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Menambahkan nilai ke skor saat ini.",0,0,0,0,"Semua skrip saya",0,0,0,0,0,0,0,"Aplikasi kosong yang menggunakan halaman dan kotak.","Aplikasi kosong yang menggunakan perpustakaan awal.",0,0,0,0,0,0,0,0,"Aplikasi kura-kura.",0,0,0,0,"Seni dari pengguna ini:",0,0,"Kode pelat nama untuk membuat game.",0,0,0,0,0,0,"Ubah tingkat keahlian!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Buat Kode",0,"Buat Skrip",0,0,0,"Buat sprite gambar baru.",0,"Buat skrip baru",0,0,0,0,0,"Buat saluran",0,0,0,"Buat aplikasi sendiri",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Apakah sprite tumpang tindih","Anda ingin menerima buletin informasi terkait ToucDevelop, misalnya tentang fitur baru dan acara mendatang?","Dok","Jangan lupa gulir ke bawah, lalu ketuk 'simpan' bila Anda selesai mengedit!","Tarik dan simpan blok, antarmuka sederhana, cocok untuk pemula!",0,0,"Edit kode sebagai teks, pilihan selengkapnya, untuk calon penulis aplikasi!",0,0,0,0,"Masukkan beberapa informasi tentang diri Anda!","Masukkan URL ke situs web pribadi Anda (Misalnya: http://www.northwindtraders.com)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Mendapatkan tinggi dalam piksel",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Mendapatkan posisi y dalam piksel","Memulai",0,"Variabel global dalam skrip saat ini",0,"Bantuan",0,0,0,0,"Bagaimana Anda menemukan TouchDevelop?",0,"Impor Kode","Impor skrip dari file",0,0,0,0,0,0,0,0,0,0,0,0,"Masukkan '{0}' {1}",0,"Item yang ditandai * adalah wajib.",0,0,0,0,0,0,0,0,0,0,0,0,"Membuat semua sprite memantul dari batas layar",0,0,"Saya",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Tinjau Pernyataan Privasi kami.",0,0,0,0,0,0,0,0,0,"Publikasikan skrip, agar setiap orang dapat menjalankannya.",0,0,0,0,0,"Terima pemberitahuan email saat orang lain meninjau/mengambil screenshot dari/mengomentari skrip Anda, atau membalas salah satu komentar Anda, atau saat kejadian terkait langganan Anda muncul.",0,"Menghapus nilai dari nyawa saat ini.",0,"Laporkan/Hapus",0,0,0,0,0,0,0,'Menghasilkan angka integral acak antara "min" dan "max" yang disertakan.',0,0,0,0,0,0,0,0,0,0,0,0,0,"Skrip dari pengguna ini:",0,0,"Cari kode...","Cari semua hal","Cari di sini...",0,0,"Cari…",0,0,0,"Lihat Lainnya",0,0,0,0,0,0,0,0,"Tetapkan gambar latar belakang",0,"Menetapkan poin nyawa saat ini.",0,0,"Menetapkan posisi dalam piksel",0,0,0,0,0,0,0,"Menetapkan lebar dalam piksel","Menetapkan kecepatan x dalam piksel/detik","Menetapkan percepatan y dalam piksel/detik^2",0,"Menetapkan kecepatan y dalam piksel/detik",0,"Pengaturan",0,0,0,0,"Tingkat keahlian: {0}     ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"TD118: kondisi 'if' menginginkan {1:a}",0,0,0,0,0,0,0,0,0,0,0,"Ajarkan Pengkodean Kreatif!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Terjemahan oleh Microsoft® Translator, ketuk untuk melihat yang asli...",0,0,0,0,"Tutorial",0,0,0,0,0,"widget UI",0,0,0,0,0,0,0,0,0,"Kami akan menyesuaikan editor dengan tingkat keahlian pengkodean Anda! Anda selanjutnya dapat mengubah tingkat keahlian di hub.","Apa tingkat pengetahuan pemrograman Anda?","Apa pekerjaan Anda?","Yang baru","Di mana lokasi Anda?",0,0,0,0,0,"pengguna GitHub Anda.","Pengguna Minecraft Anda.",0,0,"Saluran kamu akan ditampilkan di sini","Alamat email Anda belum diverifikasi. Periksa kotak masuk Anda.","Nama lengkap Anda",0,0,0,"Skrip kamu akan ditampilkan di sini","Handle twitter Anda, seperti @touchdevelop.","beberapa detik yang lalu","fungsi","variabel global","menit yang lalu",0,0,0,0,"tentang Anda",0,0,"laporan penyalahgunaan",0,0,0,0,0,"tambah",0,0,0,0,0,0,0,0,0,0,"tambah baris di bawah ini","tambah baru",0,0,0,0,0,0,0,0,0,0,0,0,0,"satu jam yang lalu",0,0,0,0,0,0,0,"seni",0,"penugasan",0,0,0,0,0,0,"backspace","hapus ini",0,0,0,"pemula","pemula",0,0,0,"blank app",0,0,"game kosong",0,0,0,"blank scratch",0,"blank turtle",0,0,0,0,0,0,0,0,0,"batal",0,0,0,0,"saluran",0,0,0,0,0,0,0,0,0,0,0,"pilih tingkat keahlian pengkodean Anda",0,0,0,0,"kloning",0,0,"kode",0,"coder",0,0,0,0,0,"kondisional",0,0,0,0,0,"salin",0,0,"buat",0,"buat saluran",0,0,0,0,"membuat skrip",0,0,"sesuaikan art!","potong",0,0,0,"dot desimal",0,0,0,0,0,0,0,0,0,"detail",0,0,0,0,0,0,"tutup","tampilkan nilai",0,0,0,0,0,0,"edit",0,"email","email (pribadi)","pemberitahuan email dan push","email belum diverifikasi, {0}",0,0,0,0,0,0,0,0,0,"mis.: ",0,"sangat baik; kerja bagus; menggagumkan; keren; kamu hebat; bagus; luar biasa; kamu berhasil; tepat sekali",0,0,"ahli",0,0,0,0,0,0,0,0,0,0,"selesai",0,"ikuti tutorial dalam editor",0,0,"fungsi",0,0,"fungsi, variabel, perpustakaan,...","jenis kelamin","dapatkan sertifikat Hour of Code™",0,"pengguna github",0,0,0,"variabel global",0,"kembali ke pengkodean! {0}★ tersisa",0,0,0,"lanjut ke langkah berikutnya","sasaran:",0,0,0,"bantuan",0,0,"riwayat",0,"cara menemukan",0,"saya selesai dengan Hour of Code™",0,0,0,0,0,"impor kode",0,0,0,0,0,0,0,0,"sisipkan","masukkan komentar","masukkan pernyataan","masukkan {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,"pelajari",0,0,0,0,"mari kita mengubahnya","ayo lakukan!","ayo mulai!",0,"perpustakaan",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"lokasi",0,"negasi logika",0,0,0,0,0,0,0,0,0,"pengguna minecraft",0,0,"lainnya","lebih ","pengaturan selengkapnya","pindahkan kursor",0,0,"gerakkan kursor ke kiri","gerakkan kursor ke kanan",0,0,0,0,"skrip saya",0,0,0,0,0,0,"negasi",0,0,0,0,0,0,0,0,0,"variabel baru",0,"tutorial berikutnya...","nama panggilan",0,0,0,0,0,0,"tidak ada email sebelumnya",0,0,0,0,0,"pemberitahuan",0,0,0,0,0,0,"pekerjaan",0,0,0,0,0,0,0,0,"ikhtisar",0,0,0,"menguraikan teks skrip",0,"tempel","jeda",0,0,"pilih template skrip...","gambar",0,0,0,"main lagi",0,"tunggu...",0,0,0,0,"pribadi",0,"profil pribadi",0,"pengetahuan pemrograman",0,0,0,"nama panggilan publik","profil publik","publikasikan",0,0,0,0,0,0,0,"baca selengkapnya...",0,"nama asli","nama asli (pribadi)","terima buletin email","terima pemberitahuan email",0,0,0,0,"hapus",0,"hapus gambar",0,0,0,"ulang n kali",0,"ulang sewaktu",0,0,0,0,0,0,0,0,0,"mundur","mundur ","jalankan","jalankan utama",0,0,"simpan",0,"menyimpan...","sekolah",0,0,0,"skrip","properti skrip",0,0,"cari seni",0,"cari {0} di sini","template pencarian",0,0,"pilih",0,"pilih baris tersebut",0,0,0,0,"tetapkan nama",0,0,0,0,0,0,0,0,0,0,"tampilkan pilihan lainnya","tampilkan",0,0,0,"sign out",0,0,0,0,"lewati iterasi",0,0,0,0,0,0,"bagi",0,0,0,0,0,0,0,0,0,0,0,"hentikan fungsi","hentikan loop",0,"simpan nilai dalam variabel","string",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ketuk di sana",0,"ketuk di sana untuk menjalankan aplikasi",0,0,0,0,0,"syarat penggunaan",0,0,0,0,0,0,"hub",0,0,0,0,0,0,0,0,"untuk melanjutkan","ke var global",0,0,0,0,0,0,0,0,0,"coba lagi!","berubah menjadi","kemajuan tutorial","tutorial: ","tutorial","handle twitter","tipe: ","tipe: {0}",0,0,0,"batalkan",0,0,0,"hapus instalan",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"lihat/edit nama, email, ...",0,"wallpaper",0,"kita punya {0:a} di sini; ada yang ingin kamu lakukan dengannya?",0,0,0,0,0,0,"kami akan memandu Anda langkah demi langkah",0,0,0,0,"situs web",0,"url situs web",0,0,0,0,0,"tahun kelahiran",0,0,0,0,0,"{0} hari yang lalu",0,0,0,0,0,"{0} menit yang lalu","{0} bulan yang lalu",0,0,0,"{0} detik yang lalu",0,"{0} tahun yang lalu",0,0,"● Sign in"]),!0):"it"==e?(TDev.Util._setLanguageArray(t,[0,0," -- una variabile locale",0,0,0,0,0,0,0,0,0,0,0,0,"Parentesi graffe in stile Javascript e tutti gli strumenti per sviluppatori esperti.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,", non uno {0:a}",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>la riga è perfetta.</b> Procediamo","<h3>caricamento impostazioni correnti...</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Un nome visualizzazione univoco per il tuo profilo pubblico (almeno 8 caratteri)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Aggiunge valore al punteggio corrente.",0,0,0,0,"Tutti i miei script",0,0,0,0,0,0,0,"Un’app vuota che usa pagine e caselle.","Un’app vuota che usa la libreria scratch.",0,0,0,0,0,0,0,0,"Un’app turtle.",0,0,0,0,"Disegni di questi utenti:",0,0,"Codice standard per creare un gioco.",0,0,0,0,0,0,"Modifica livello di competenza.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Crea codice",0,"Crea script",0,0,0,"Crea un nuovo sprite immagine.",0,"Crea un nuovo script",0,0,0,0,0,"Crea canale",0,0,0,"Crea le tue app",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Esegui sovrapposizione sprite","Vuoi ricevere newsletter informative su TouchDevelop, ad esempio, su nuove funzionalità e sugli eventi in programma?","Documenti",'Non dimenticare di scorrere verso il basso e toccare "salva" al termine dell\'operazione di modifica.',"Possibilità di trascinare i blocchi e interfaccia semplificata, ideali per i principianti.",0,0,"Possibilità di modificare il codice come testo e opzioni aggiuntive per aspiranti programmatori di app.",0,0,0,0,"Inserisci alcune informazioni personali","Inserisci l'URL del tuo sito Web (esempio: http://www.northwindtraders.com)",0,"Indica l'affiliazione scolastica, se disponibile.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Visualizza l'altezza in pixel",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Visualizza la posizione y in pixel","Introduzione",0,"Variabili globali nello sprite corrente",0,"Guida",0,0,0,0,"Come hai scoperto TouchDevelop?",0,"Importa codice","Importa script da un file",0,0,0,0,0,0,0,0,0,0,0,0,"Inserisci '{0}' {1}",0,"Gli elementi contrassegnati da * sono obbligatori.",0,0,0,0,0,0,0,0,0,0,0,0,"Consente a tutti gli sprite di rimbalzare sul bordo dello schermo",0,0,"Io",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Consulta la nostra Informativa sulla privacy.",0,0,0,0,0,0,0,0,0,"Pubblica lo script e consenti ad altri di usarlo.",0,0,0,0,0,"Ricevi notifiche via e-mail quando altri utenti rivedono/scattano uno screenshot/commentano i tuoi script o rispondono a uno dei tuoi commenti oppure quando si verificano eventi correlati ai tuoi abbonamenti.",0,"Rimuove il valore dalla vita corrente.",0,"Segnala/Elimina",0,0,0,0,0,0,0,'Restituisce un numero intero casuale tra "min" e "max".',0,0,0,0,0,0,0,0,0,0,0,0,0,"Script di questo utente:",0,0,"Cerca codice...","Cerca tutto","Cerca qui...",0,0,"Cerca...",0,0,0,"Visualizza altro",0,0,0,0,0,0,0,0,"Imposta l'immagine di sfondo",0,"Imposta i punti per la vita corrente.",0,0,"Imposta la posizione in pixel",0,0,0,0,0,0,0,"Imposta la larghezza in pixel","Imposta x speed in pixel/sec","Imposta y acceleration in pixel/sec^2",0,"Imposta y speed in pixel/sec",0,"Impostazioni",0,0,0,0,"Livello di competenza: {0}     ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,'TD118: la condizione "if" richiede un valore {1:a}',0,0,0,0,0,0,0,0,0,0,0,"Insegna la scrittura di codice creativa!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Traduzioni di Microsoft® Translator. Tocca per visualizzare la versione originale...",0,0,0,0,"Tutorial",0,0,0,0,0,"widget UI",0,0,0,0,0,0,0,0,0,"Adatteremo l'editor in base al tuo livello di competenza. Puoi modificare il tuo livello di competenza successivamente nell'hub.","Qual è il tuo livello di conoscenze relative alla programmazione?","Qual è la tua occupazione?","Novità","Dove vivi?",0,0,0,0,0,"Il tuo utente GitHub.","Il tuo utente Minecraft.",0,0,"Il tuo canale viene visualizzato qui","Il tuo indirizzo e-mail non è stato ancora verificato. Controlla la Posta in arrivo.","Nome completo",0,0,0,"Il tuo script viene visualizzato qui","Il tuo pseudonimo Twitter, ad esempio @touchdevelop.","alcuni secondi fa","una funzione","una variabile globale","un minuto fa",0,0,0,0,"informazioni personali",0,0,"segnalazioni abusi",0,0,0,0,0,"aggiungi",0,0,0,0,0,0,0,0,0,0,"aggiungi riga in basso","aggiungi nuovo",0,0,0,0,0,0,0,0,0,0,0,0,0,"un'ora fa",0,0,0,0,0,0,0,"disegno",0,"assegnazione",0,0,0,0,0,0,"backspace","premi qui il tasto backspace",0,0,0,"principiante","principianti",0,0,0,"modello di app",0,0,"gioco vuoto",0,0,0,"modello di scratch",0,"modello di turtle",0,0,0,0,0,0,0,0,0,"annulla",0,0,0,0,"canali",0,0,0,0,0,0,0,0,0,0,0,"scegli il tuo livello di competenze di programmazione",0,0,0,0,"duplica",0,0,"codice",0,"programmatore",0,0,0,0,0,"istruzione condizionale",0,0,0,0,0,"copia",0,0,"crea",0,0,0,0,0,0,"creazione script",0,0,"personalizza il disegno.","taglia",0,0,0,"punto decimale",0,0,0,0,0,0,0,0,0,"dettagli",0,0,0,0,0,0,"ignora","visualizza valore",0,0,0,0,0,0,"modifica",0,"e-mail","e-mail (privata)","e-mail e notifiche push","e-mail non verificata; {0}",0,0,0,0,0,0,0,0,0,"esempio: ",0,"eccellente; ottimo lavoro; grandioso; grande; sei forte; ottimo;\neccezionale; esatto; giusto",0,0,"esperto",0,0,0,0,0,0,0,0,0,0,"fine",0,"segui il tutorial nell'editor",0,0,"funzione",0,0,"biblioteca, variabile, funzione,...","sesso","visualizza il mio certificato Hour of Code™",0,"utente github",0,0,0,"variab. globali",0,"torna alla scrittura di codice. {0}★ per andare",0,0,0,"vai al passaggio precedente","obiettivo:",0,0,0,"guida",0,0,"cronologia",0,"come ci hai trovato",0,"ho terminato Hour of Code™",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"inserisci commento","inserisci istruzione","inserisci {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,"apprendi",0,0,0,0,"modifichiamolo","facciamolo!","Iniziamo!",0,"raccolte",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"percorso",0,"negazione locale",0,0,0,0,0,0,0,0,0,"utente minecraft",0,0,"altro","altro ","altre impostazioni","sposta il cursore",0,0,"muovi il cursore a sinistra","muovi il cursore a destra",0,0,0,0,"i miei script",0,0,0,0,0,0,"negazione",0,0,0,0,0,0,0,0,0,"nuova variabile",0,"prossimi tutorial...","nickname",0,0,0,0,0,0,"nessuna e-mail precedente",0,0,0,0,0,"notifiche",0,0,0,0,0,0,"occupazione",0,0,0,0,0,0,0,0,"panoramica",0,0,0,"analisi testo script",0,"incolla","pausa",0,0,"scegli un modello di script...","immagine",0,0,0,"gioca di nuovo",0,"attendi...",0,0,0,0,"privato",0,"profilo privato",0,"competenze di programmazione",0,0,0,"nickname pubblico","profilo pubblico","pubblica",0,0,0,0,0,0,0,"leggi altro...",0,"nome reale","nome vero (privato)","ricevi le newsletter via e-mail","ricevi notifiche via e-mail",0,0,0,0,"elimina",0,"elimina immagine",0,0,0,"ripeti n volte",0,"ripeti mentre",0,0,0,0,0,0,0,0,0,"indietro","indietro ","esegui","esegui principale",0,0,"salva",0,"salvataggio in corso...","scuola",0,0,0,"script","proprietà script",0,0,"cerca disegno",0,"cerca {0} da qui","cerca modelli",0,0,"seleziona",0,"seleziona la riga",0,0,0,0,"imposta nome",0,0,0,0,0,0,0,0,0,0,"mostra più opzioni","presentazione",0,0,0,"esci","accesso in corso...",0,0,0,"salta iterazione",0,0,0,0,0,0,"dividi",0,0,0,0,0,0,0,0,0,0,0,"arresta funzione","arresta loop",0,"archivia il valore nella variabile","stringa",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Tocca là",0,"tocca là per eseguire l'app",0,0,0,0,0,"condizioni per l'utilizzo",0,0,0,0,0,0,"l'hub",0,0,0,0,0,0,0,0,"per continuare","alla variabile glob",0,0,0,0,0,0,0,0,0,"riprova!","trasforma","avanzamento tutorial","tutorial: ","tutorial","pseudonimo Twitter","digita: ","digita: {0}",0,0,0,"annulla",0,0,0,"disinstalla",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"visualizza/modifica nome, e-mail, ...",0,"sfondo",0,"qui c'è uno {0:a}. Volevi usarlo?",0,0,0,0,0,0,"ti guideremo passo dopo passo",0,0,0,0,"sito Web",0,"url sito Web",0,0,0,0,0,"anno di nascita",0,0,0,0,0,"{0} giorni fa",0,0,0,0,0,"{0} minuti fa","{0} mesi fa",0,0,0,"{0} secondi fa",0,"{0} anni fa",0,0,"● Accedi"]),!0):"ja"==e?(TDev.Util._setLanguageArray(t,[0,0," -- ローカル変数",0," [非表示]",0,0,0,0," 分 "," / "," 秒 "," 変更の送信",0,0,"経験豊富な開発者のために、Javascript の中かっこやあらゆるツールも用意されています!","'アトミック' 関数",0,0,0,0,"'{0}' はここで {1} を予期しています",0,0,0,"'{0}' は古い形式であり、使用しないでください",0,"'{0}' は '{1}' を返します。{2}",0,0,0,0,0,0,0,0,"、代わりに得られたのは {0}","、{0} を取得",0,0,0,"... さらに...","// コメント",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>この行は完成しました。</b> 先へ進みましょう","<h3>現在の設定を読み込んでいます…</h3>","<h3>他にヒントはありません!</h3>",0,"<h3>{0:q} にはサインインが必要です</h3>",0,0,0,0,0,0," 2Dマトリクス（数列）","3D ベクトル",0,"Minecraft Pi アプリ。","Minecraft アプリ。","Minecraft クリーパー アプリ。",0,0,0,0,0,0,0,0,0,0,"カラー定数",0,0,0,0,0,0,0,0,0,"グローバル変数",0,0,0,0,0,0,0,0,0,0,0,"数値 (負 / 小数の場合もある)","数値定数",0,0,0,"画像","一連のテキスト","ピクセル アート アプリ。",0,0,0,"ライブラリ スクリプトの参照",0,0,0,0,0,0,0,0,0,"サウンド","効果音",0,0,0,"ユーザー データの構造","ユーザー定義行から成るテーブル",0,0,0,"テキストボックス","タイマー","パブリック プロフィールの一意の表示名 (8 文字以上)",0,"ユーザーアカウント","ユーザー インターフェイス",0,0,"ADJ スクリプト",0,0,0,0,0,"加速度センサ",0,0,0,0,0,"表示フレームごとに起動されるアクションの追加",0,0,0,0,0,0,0,"画像を追加",0,0,0,0,0,0,"ベクターを追加","オブジェクトを追加",0,"数値の加算",0,"現在のスコアに値を加算します。",0,0,"スクリプトの停止後、コードを参照して、収集された情報を確認してください。","すべてのマイ グループ","すべてのマイ スクリプト",0,0,0,0,0,0,0,"ページとボックスを使用する空白のアプリ。","検索ライブラリを使用する空白のアプリ。","空白のドキュメント ページ。","空白の対話型チュートリアル。","空白のスクリプト エディター プラグイン。","空白のスクリプト。これは何も行いません。",0,0,"ユーザー定義行から成るインデックス付きテーブル",0,"カメのアプリ。","入力コレクションのすべての要素に対して `converter` を適用し、結果から成るコレクションを返します",0,"チュートリアルに従うことを本当に停止しますか?",0,"このユーザーによるアート:",0,"他のオブジェクトにデータを添付します","ゲームを作成するための反復して使用するコード。",0,0,"カメラ",0,0,0,"スキル レベルの変更","チャンネル","ボードが他のボードと同じインスタンスであるかどうかを確認します。",0,0,0,"このボードに関連するキューに登録済みのすべてのイベントを消去","背景画像を消去","背景カメラを消去",0,0,"ユーザー操作が発生したときに呼び出されるコード","特定のタスクを実行するコード","数値が等しいかどうかの比較","数値が小さいかどうかの比較",0,"数値が大きいかどうかの比較",0,0,0,0,0,0,0,"2 つのテキスト要素を連結",0,0,0,0,0,0,"ローカル時刻に変換",0,0,0,0,0,"グループの作成","スクリプトの作成","指定された開始ポイント、指定された幅と高さで障害物の線を作成します。粘着する場合の弾力性は 0、完全なバウンスの場合は 1 です。","スプライトの新しいコレクションを作成します。","新しい楕円形のスプライトを作成。","新しい画像スプライトを作成します。","新しい四角形のスプライトを作成します。",0,"新しいスプライト シートを作成します。","新しいテキスト スプライトを作成します。","2 つのスプライトの間にスプリングを作成します。","anchor スプライトを作成します。","このオブジェクト タイプの無効な値を作成します","チャンネルを作成します",0,0,"指定された距離でボードの周囲にウォールを作成します。","アプリの作成",0,0,"新しい空白のゲーム ボードを作成して、画面上に表示します。",0,0,0,"指定された画像に幅 100 の新しいスプライトを作成します。",0,"無効なゲームパッド インスタンスを作成します",0,0,"現在のデバイス",0,"現在のタッチ ポイント","イベントからのハンドラーのデタッチ",0,"ウォールに画像を表示します。変更を反映するには、'update on wall' (ウォールで変更) を後で呼び出す必要があります。",0,0,0,"ウォールにゲームパッドの状態を表示します",0,"スプライトを重ね合わせますか",0,"文書","編集が終わったら、下にスクロールして、[保存] をタップしてください!","ブロックのドラッグ アンド ドロップ、簡略化されたインターフェイスによって、初心者でも簡単に操作できます!","2 つの店の間に 1 本の直線を描きます","指定したカラーとフォント サイズでテキスト境界を描画します","テキストとしてコードを編集できることやその他のオプションは、コーディング初心者にとって心強い味方です!",0,0,"名前の入力",0,"お客様の情報を入力してください","お客様の Web サイト URL を入力してください (例: http://www.northwindtraders.com)","招待コードを入力します",0,"イベントにアウト パラメーターを含めることはできません。","誰でもインターネット上で永久に写真を見ることができます。 ",0,0,"エクステンション","Facebook","特定の色で楕円を塗りつぶし","特定の色で長方形を塗りつぶし","タッチの修了後の最終タッチ速度","公開されているスクリプトについては、公開されているスクリプト ページに対応するタブも参照し、匿名で収集されたクラウドベースのプロファイルとカバレッジ データを確認してください。","フォーラム","今後は、作成する行を表示しません。指示に従って、完了したと思ったときに [実行] をタップします。","現在のスクリプトの関数",0,0,0,0,0,"ゲームパッドの状態のスナップショットを取得します (ブラウザーに接続している場合)。ゲームパッドがサポートされていないか、接続されていない場合は空白です。",0,0,0,"ボードが横長に表示されるように設計されているかどうかを示す値を取得します。","歌が DRM で保護されているかどうかを表す値を取得します","選択された軸の x と y の値を取得します。",0,0,"背景シーンを取得","水平方向の中心位置をピクセル単位で取得",0,"ARGB 値が #00FFFFFF の色を取得","ARGB 値が #FF000000 の色を取得","ARGB 値が #FF0000FF の色を取得","ARGB 値が #FF008000 の色を取得","ARGB 値が #FF00FFFF の色を取得",0,"ARGB 値が #FF800080 の色を取得",0,0,0,0,"ARGB 値が #FFFF0000 の色を取得","ARGB 値が #FFFF00FF の色を取得","ARGB 値が #FFFFA500 の色を取得",0,"ARGB 値が #FFFFFF00 の色を取得","ARGB 値が #FFFFFFFF の色を取得",0,0,0,0,"最初に接続されたゲームパッドを使用できます",0,"ゲームパッドの識別子を取得します",0,"高さをピクセル単位で取得","カメラ画像の高さをピクセル単位で取得します。",0,0,0,0,0,0,0,0,0,"プレイヤーのインデックスを取得します","押されたボタンの値を取得します。ボタンが不明な場合は 0 を返します。",0,"サウンドに関するサウンド ボリュームを 0 (無音) から 1 (現在のボリューム) の範囲で取得します","スプライト数を取得","i によってインデックスが付けられたスプライトを取得",0,"このスナップショットのタイムスタンプを取得します",0,"幅をピクセル単位で取得","カメラ画像の幅をピクセル単位で取得します。","y 位置をピクセル単位で取得","作業の開始",0,"現在のスクリプト内のグローバル変数",0,0,0,0,0,0,0,0,0,0,0,0,0,"デバッグ モードでは、ボードに速度およびスプライトのその他の情報が表示されます","ボタンが押されているかどうかを示します。ボタンが不明な場合は false を返します。",0,"ゲームパッド データが一致しているかどうかを示します。","ゲームパッドがまだ接続されてかどうかを示します。",0,0,0,0,"'{0}' {1} の挿入",0,"* が付いている項目は必須です。","JSON データ","グループに参加","最後のタッチの終了ポイント","最後のタッチの開始ポイント",0,0,0,0,0,"更新を表示します。",0,0,"すべてのスプライトが画面の 3 つの境界で跳ね返るようにします。",0,"長所、特殊性、最大値などを計算します。","Me",0,"Minecraft ユーザー",0,0,"スプライトを他のスプライトに向けて移動します。","数値の乗算",0,0,0,0,0,0,0,0,"新しいスクリプト",0,"新しい色または組み込みの色",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ランダム カラーを選択します",0,0,0,0,0,0,"プライバシーに関する声明を確認してください。","お待ち下さい...","コメントを投稿します...",0,0,0,"プライベート アクションでは [実行] ボタンが表示されません。 ","ユーザーに数値を入力するように指示します",0,"スクリプトの公開",0,"公開は、当社の ","スクリプトを公開しています…","アニメーションの再生が開始されたときに上昇します","アニメーションの再生が停止されたときに上昇します","広告本文をウェーブ サウンドとして読み上げ","他の人があなたのスクリプトをレビューしたり、スクリーンショットを作成したり、コメントした場合や、あなたのコメントに返信した場合、あるいはあなたのサブスクリプションに関するイベントが発生した場合に、電子メールで通知を受け取ります。","覚えておいてください: スクリプトを公開すると、全員が見られるようになるため、パスワードや個人情報が含まれていないことを確認してください。","現在のライフから値を減らします。","返信...","レポート/削除","ピクセル単位で指定したサイズに合わせて画像をサイズ変更",0,"画像のコピーを返します",0,0,"このインスタンスの値に対して指定した月数を加算したのに相当する日付を返します。","このインスタンスの値に対して指定した年数を加算したのに相当する日付を返します。","「min」と「max」の間に含まれるランダムな整数を返します。",0,0,0,0,0,0,0,"現在のインスタンスが不要な場合は true を返す",0,0,0,0,"スクリプトの更新","このユーザーによるスクリプト:",0,0,"コードの検索...","すべてを検索","ここで検索...",0,0,"検索...",0,0,0,"詳細の表示",0,0,"勾配をオンまたはオフに設定","ウォールに対して適用される 3x3 のアフィン行列の転換を設定します。",0,"背景カメラを設定します","背景色を設定します","背景色を設定します。","背景の画像を設定します","水平方向の中心位置をピクセル単位で設定","現在のライフ ポイント、つまり残機を設定します。","スプライトの既定の摩擦を、0～1 の速度低下の摩擦に設定します","高さをピクセル単位で設定","位置をピクセル単位で設定",0,"サウンド ボリューム レベルを 0 (無音) から 1 (現在のボリューム) の範囲で設定します","速度をピクセル/秒で設定","スプライトの色を設定します。","ボード上のオブジェクトの均一の加速ベクトルをピクセル/秒^2 に設定します",0,0,"幅をピクセル単位で設定","x 方向の速度をピクセル/秒で設定","y 方向の加速度をピクセル/秒^2 で設定","y 位置をピクセル単位で設定","y 方向の速度をピクセル/秒で設定",0,"設定","この URL で共有します:","これらのプラットフォームで実行できない API をスクリプトで使用している場合は、エディターでエラーを表示します。","ボードをウォールに表示します。",0,"スキル レベル:{0}     ",0,0,0,0,0,"フレームごとのすべてのタイマーを停止して消去",0,"数値の減算",0,"TD100: {0} をここに挿入","TD101: '{0}' が見つかりません","TD109: これに割り当てることはできません","TD111: {0} から {1} に割り当てることはできません","TD112: プロパティ '{0}' が {1} で見つかりません","TD115: {0} に対して指定したパラメーターが多すぎます","TD116: {0} に対して十分なパラメーターが指定されていません","TD118: 'if' 条件で要求されているのは {1}","何かを繰り返す必要があります",0,"TD130: 'for' に結合された条件で要求されているのは {1}","TD144: '{0}' が欠落しているようです。追加してみてください","TD145: ここで演算子 ('+'、'('、',' など) が欠落しているようです","TD147: ここで '{0}' は予期されていませんでした","TD150: '(' の前に何かを呼び出すことはできません","TD151: 閉じられていない '('","TD152: 予期しない ')'","TD154: この後、オペレーターはいずれかを実行する必要があります","TD155: '{0}' をローカル変数に割り当てることはできません","Creative Coding を指導してください!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"このスクリプトでは次の機能を使用: ",0,"このチュートリアルでは、他のユーザーと共有するクラウド データを使用します。","ページ データを追加するには、ローカル変数を作成し、'promote to field' (フィールドに昇格) をタップします。",0,0,0,0,"Microsoft® Translator による翻訳。タップすると、原文が表示されます...","ボードがタッチされている場合は true","目的の結果が得られるまで、コードを変更してみてください。行き詰まったら、チュートリアル バーをタップしてください。",0,0,"チュートリアル","Twitter","入力してオンラインで検索...","入力して検索...","TypeScript","イベントパラメーターのタイプ、順序、および数を編集することはできません。","UI ウィジェット","URL: {0}","ボード上のスプライトの位置を更新します。","画像スプライト (これが画像スプライトである場合) を画像で更新","テキスト スプライトのテキストを更新 (これがテキスト スプライトである場合)","画像のアップロード","サウンドのアップロード","ユーザー",0,"その他のオプションが必要です","コーディング スキル レベルに合わせたディターを採用しています。ハブで後からスキル レベルを変更できます。","プログラムに関する知識はどの程度のレベルですか?","あなたのご職業は?","新機能","どこにお住まいですか?","指定した場所に別の画像を書き込みます。透明度の範囲は 0 (透過) から 1 (不透明) です。",0,"YouTube","YouTube ビデオ (https://youtu.be/...)",0,"自分の GitHub ユーザー名。","自分の Minecraft ユーザー名。","制作したアートはここに表示されます",0,"チャンネルがここに表示されます","電子メールが確認されていません。受信トレイをチェックしてください。","フル ネーム",0,0,0,"制作したスクリプトはここに表示されます","Twitter のハンドル名 (例: @touchdevelop)","数秒前","関数","グローバル変数","1 分前","ページ","カバレッジについて","洞察について","プロファイルについて","自分について","不正使用",0,"不正使用を報告",0,0,0,"{0} フィールドにアクセスします",0,"追加","新規追加…",0,"表示フレームごとに起動されるアクションを追加します。","コメントを追加",0,"カスタムWebサイトを追加","関数を追加",0,"入力パラメーターの追加","下の行を追加","次の行を追加","新しい",0,0,"出力パラメーターの追加","チャンネルに追加",0,0,0,0,"すべての API","許可","すばらしい, 目を見張る, 仰天するような, 恐怖すら感じる, 恐ろしい, はらはらする, 最高水準の, クールな, 不思議な, 格別な, 例外的な, 上級の, 非凡な, 信じがたい, すてきな, 名誉ある, 偉大な, ",0,"関数の種類の定義","1 時間前",0,0,0,0,0,"アプリ",0,"アート","アート リソース","課題",0,"制作者",0,0,"戻る",0,"バックスペース","ここでバックスペース",0,0,"基数","初心者","初心者",0,"スクリプトにバインドされます:","空白","空白のアプリ","空白のクリーパー","空白のドキュメント","空白のゲーム","空白の Minecraft","空白の Minecraft Pi","空白のピクセル アート","空白のスクラッチ","空白のスクリプト プラグイン。","空白のカメ","空白のチュートリアル。","デバッガーでブレーク","ブレークポイント",0,0,0,0,0,0,"キャンセル",0,0,"ローカルに変更 (戻す)","内容の変更","チャンネル","参照が設定されているかどうかを確認します",0,"ファイルを選択","画像を選択","画像を選択 (1MB、2048x2048 未満)","プラグインを選択","壁紙を選択","グループを選択","ライブラリを選択","新しいパスワードを選択","画像を選択","コーディングのスキル レベルを選んでください","選択します...",0,"クリア","クリップボード","クローン","クラウドデータ","クラウド セッション","コード","目標の行をコーディング","コーダー","カラー #{0}","カラー: {0}","コメント アウト","コメント",0,"条件付き","接続済み",0,"コンソール","続行",0,"コピー","選択内容のコピー","カバレッジ","作成","新規パラメーターの作成",0,0,0,0,"オブジェクトの空のコレクションを作成します","スクリプトの作成",0,"現在の式","アートをカスタマイズします。","切り取り","選択内容の切り取り","データベース","デバッグ","小数点","デコレータ","削除","ローカルのデータとアクセス許可の削除","選択内容の削除","変数に降格","拒否","説明","説明 (ヘルプの検索)",0,"詳細","この値を使用しましたか?","diff curr","diff prev",0,0,0,"クリア","値を表示","オブジェクトをウォールに表示します",0,0,0,"完了しました","完了しました。","編集","else if","電子メール",0,"電子メールとプッシュ通知",0,0,0,0,"招待コードを入力","このコードを入力","エラー",0,"イベント","すべて","例: ","例","最高; 優れた成果; 完璧; クール; 感動的; 良好な出来; 抜群; 上出来; 適切",0,"終了","エキスパート",0,"エクスポート","コンテンツの JSON 表現をエクスポートします","このライブラリからエクスポート済み","拡張",0,"選択内容の関数への抽出",0,"変数に抽出","参照の検索","完了","これを修正します","エディター内のチュートリアルに従ってください","グループ","フォーク","関数","関数名","関数タイプ","関数、変数、ライブラリなどを追加します...","性別","Hour of Code™ 認定証の取得","表示フレームごとに起動されるタイマーを取得します。","GitHub ユーザー",0,"一括置換","グローバル変数","グローバル変数","戻る","コーディングに戻ります!残り {0}★","戻る...","移動","スクリプト内の項目のリストに移動","前の手順に移動","目標:","グループ",0,"心臓部","ヘルプ",0,0,"履歴","これでスクリプトが公開されました","見つけた方法","次のものに対して実行","Hour of Code™ を使用した作業が完了しました","アイコン アート: {0}",0,"行き詰まったら、目標の行をタップ",0,0,0,0,"JSON オブジェクトからフィールド値をインポートします",0,0,0,0,"途方もない, 魔法でも見ているような, 驚くべき, 本当とも思えないほど, 幻覚でも起こしそうな, 肝をつぶすような, 奇跡の, 独特の, 珍しい, 格好良い, 揺り動かす, 特殊な, 華々しい, あっと言わせる, 立派な, とてもクールな, ",0,"挿入","コメントの挿入","ステートメントの挿入","{0} の挿入","洞察",0,"スクリプトをインストールして読み込んでいます","ローカルに",0,"課題","グループに参加","グループに参加",0,"検索語句の入力を続けます!","編集の続行","次のように認識されました:",0,"詳細","公開について学習する","詳細情報","{0} を詳細します。","チュートリアルから離れる","これを変更しましょう","実行しましょう。","作業を開始しましょう。","lib","ライブラリ","ライブラリ","ライブラリ名","ライブラリ参照","さらに読み込み","さらに返信を読み込み","読み込み中",0,"/{0} に対するコメントを読み込んでいます...",0,"返信を読み込んでいます...","スクリプトの読み込み中","チュートリアルの読み込み","読み込み中...","ローカル","場所",0,"論理否定","ログ","メイン",0,"マーカー","データの管理","後で実行することもできます","自分",0,"minecraft","Minecraft ユーザー","モンスター",0,"詳細","その他? ","その他の設定","カーソルの移動","左に移動","次のステップに移動","カーソルを左に移動","カーソルを右に移動","マイ アート",0,0,0,"マイ スクリプト","ここに別の名前が必要","ここに別の文字列が必要","ここに新しいフィールドが必要","パラメーターが必要","これを削除する必要があります","どこかを編集する必要があります","否定","新しいフィールド/データ","新しい関数","新しいグローバル変数","新しい招待コード","新しい行","新しいローカル","新しいパスワード:","新しいプロパティ","新しいステートメントを下に","新しい変数","次のページ","次のチュートリアル...","ニックネーム","いいえ","このユーザーからアートは発行されていません","コメントはありません。タップして何かコードを記述します。","スクリプトを作成するために、スクリプトのフォーク (分岐)、インストール、編集、再発行なし","ハートがありません。スクリプトをインストールした後、ハートを追加できます。","まだどの画像も読み込まれていません",0,0,"タグはありません。タップして何かコードを追加します。",0,0,0,"通知",0,"{0} のプロパティを選択できます。これは単独では何も実行しません","現在、これに対するプロパティを選択できます","数値","数値エントリ",0,"職業",0,"オフラインで使用可能","OK","行きましょう！","オンライン",0,"またはタップしてヘルプを表示","その他","概要",0,"ページ",0,"スクリプトのテキストを解析",0,"貼り付け","一時停止",0,"物理的なゲーム スターター","スクリプトのテンプレートを選択…","画像","画像の名前","画像の名前 (4 文字以上)","画像の URL","もう一度プレイする",0,"お待ちください...","プラグイン","プレビュー","出力","プライバシーポリシー","プライベート","プライベート関数","プライベート プロフィール","プロファイル","プログラムに関する知識",0,"データに昇格",0,"パブリック ニックネーム","パブリック プロフィール","公開","非表示として公開",0,"公開者","変更の取得","ブロック レベルまで引き上げる",0,"再実行","詳細...","読み取り専用","本名",0,"電子メールのニュースレターを受信","電子メールの通知を受信","名前の記録:",0,"通常のキーパッド","スクリプトの再読み込み","削除",0,"画像を削除","白の背景を削除 (ゲーム スプライトに最適)",0,"名前の変更","n 回反復処理","コレクションの反復処理","少しの間反復処理","関数内ですべてを置換","スクリプト内ですべてを置換","アートの置換","レプリケート済み","レプリケート済み ",0,"不正使用を報告",0,"公開されているバージョンに戻す","巻き戻し","巻き戻し ","実行","main を実行",0,"インストルメンテーションを使用して実行","保存","保存済み","保存しています…","学校","スクリーン","スクリーンショット","{0} のスクリーンショット","スクリプト","スクリプトのプロパティ","スクリプト","検索","アートの検索","アート画像の検索","ここで {0} を検索","テンプレートの検索","検索中...","その他のオプションを表示","選択","他を選択","行の選択","この {0} のタイプを選択します ",0,0,"ローカル変数の名前を設定","名前の設定","ボードがスワイプされたときに起動されるハンドラーを設定","ボードがタップされたときに起動されるハンドラーを設定","ボードがタッチされたときに起動されるハンドラーを設定","ボードのタッチが解放されたときに起動されるハンドラーを設定","すべてのフィールドを既定値に設定します","保存された設定","設定","共有",0,"このアクティビティを完了させる方法を表示します","その他のオプションを表示","ショーケース","サインインしています",0,0,"サインアウト","サインインしています…",0,"簡略化","保存されたスキル レベル","繰り返しをスキップ",0,"ソーシャル",0,"サウンド",0,"スプラッシュ画面アート: {0}","分割",0,"最初からやり直し","スクリプトを開始","開始中...",0,"ステップ イン","ステップ アウト","ステップ オーバー",0,"停止して",0,"関数を停止","ループを停止","変数に格納","値を変数に格納します","文字列",0,"'{0}' を取り除く",0,0,0,"上等の, 超自然の, 最高の, 信じられない, この世のものとも思えない, 唯一の, 空前の, まれな, 奇妙な, 驚嘆すべき, 不思議なほど","囲む",0,0,"同期しています...",0,0,0,0,0,"タグ",0,0,"完了したら (←) をタップ","完了したら、[OK] をタップ",0,"ヒーローをタップすると次のステップに移動","完了したら、ここをタップ","ここをタップします","説明を表示するには、ここをタップします","ここをタップして開発中のアプリを実行します","タップしてカラーを変更","タップしてアイコン画像を変更","タップしてスプラッシュ画面の画像を変更","タップすると、Microsoft® Translator で翻訳されます...","一時的","terms of use","テスト","テスト関数","テスト","同じオブジェクトを参照する 2 つの参照をテストします",0,0,"ハブ","招待コードは 9～64 文字の数値にする必要があります","スプライトがクラッシュしました",0,0,"このスクリプトはライブラリです","このスクリプトは Web サービスです",0,"コードに","続行","グローバル変数に","ブレークポイントのトグル","トップと新機能",0,0,"翻訳","チュートリアルの翻訳...",0,0,0,"再挑戦!","次のものに変化","チュートリアルの進行状況","チュートリアル: ","チュートリアル","Twitter のハンドル名","タイプ: ","タイプ: {0}",0,0,0,"元に戻す",0,0,0,"アンインストール",0,"アンインストール中...",0,0,0,0,"更新",0,0,0,0,0,0,"アップロード","画像のアップロード","スクリーンショットのアップロード",0,"アップローダー",0,0,"URL","url (例: http://localhost:4242):",0,"ユーザー","値","変数","変数名","スクリプトとして表示","名前、電子メールを表示/編集しています…","vimeo ビデオ (https://vimeo.com/...)","壁紙","ライブラリ '{0}' がここにあります。 {1}","ここに {0:a} があります。これで何かを実行しようと思いましたか?","新しいフィールドが必要","新しい表が必要","新規が必要 {0}","別のキーパッドが必要です","新しい変数が必要","別のものを編集する必要があります","手順を追って説明します","Web アプリ",0,0,"WebサイトのURL","Web サイト","Webサイト名","Web サイトの URL",0,0,0,0,0,"生年","はい",0,"作業が完了しました。",0,"{0} ({1} 行{1:s})","{0} 日{0:s} 前","{0} ダウン",0,0,0,"{0} 時間{0:s} 前","{0} 分{0:s} 前","{0} か月{0:s} 前","{0} / {1} 完了","{0} 個を公開します","{0} 個のスクリプトが公開されました","{0} 秒{0:s} 前","{0} 個をアップロードします","{0} 年{0:s} 前",0,0,"● ログイン"]),!0):"ko"==e?(TDev.Util._setLanguageArray(t,[0,0," -- 지역 변수",0," [숨김]",0,0,0,0,0," / ",0," 변경 내용을 보내는 중",0,0,"Javascripty의 중괄호, 모든 도구는 숙련된 개발자를 위한 것입니다!","'원자성' 함수",0,0,0,0,"'{0}'에 {1} 필요",0,0,0,"'{0}'은(는) 사용되지 않으므로 사용하면 안 됩니다.",0,"'{0}'이(가) '{1}' 반환, {2}",0,0,0,0,0,0,0,0,", 대신 {0} 받음",", {0} 받음",0,0,0,"... 더 많은 결과가 있습니다. ...","// 설명",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>이 줄은 완벽합니다.</b> 넘어가세요.","<h3>현재 설정을 로드하는 중...</h3>","<h3>팁이 더 이상 없음!</h3>",0,"<h3>{0:q}에는 로그인이 필요함</h3>",0,0,0,0,0,0,0,0,0,"Minecraft Pi 앱.","Minecraft 앱.","Minecraft creeper 앱.",0,0,0,0,0,0,0,0,0,0,"색 상수",0,0,0,0,0,0,0,0,0,"전역 변수",0,0,0,0,0,0,0,0,0,0,0,"숫자(음수 또는 분수)","숫자 상수",0,0,0,"그림","텍스트","pixel art 앱.",0,0,0,"라이브러리 스크립트에 대한 참조",0,0,0,0,0,0,0,0,0,"사운드",0,0,0,0,"사용자 데이터 구조","사용자 정의 행의 테이블",0,0,0,0,0,"공개 프로필의 고유한 표시 이름(8자 이상)",0,0,"사용자 인터페이스",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"모든 디스플레이 프레임에 대해 실행되는 작업 추가",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"더하기",0,"현재 점수에 값을 추가합니다.",0,0,"스크립트 중지 후 코드를 찾아 수집된 정보를 보세요.","모든 내 그룹","모든 내 스크립트",0,0,0,0,0,0,0,"페이지 및 상자를 사용하는 비어 있는 앱.","scratch 라이브러리를 사용하는 비어 있는 앱.","비어 있는 문서 페이지.","비어 있는 대화형 자습서.","비어 있는 스크립트 편집기 플러그인.","아무런 작업도 수행하지 않는 비어 있는 스크립트.",0,0,"사용자 정의 행의 인덱싱된 테이블",0,"turtle 앱.","입력 컬렉션의 모든 요소에 `변환기` 적용 및 결과 컬렉션 반환",0,"다음 자습서를 중지하시겠습니까?",0,"이 사용자가 만든 아트:",0,"다른 개체에 데이터 첨부","게임을 만들기 위한 상용구 코드.",0,0,0,0,0,0,"기술 수준 변경!",0,"보드가 다른 보드와 동일한 인스턴스인지 확인합니다.",0,0,0,"이 보드와 관련된 큐의 모든 이벤트 지우기","배경 그림 지우기","배경 카메라 지우기",0,0,"사용자 상호 작업 발생 시 실행된 코드","특정 작업을 수행하는 코드","등호","어느 숫자가 더 작은지 비교",0,"부등호(보다 큼)",0,0,0,0,0,0,0,"두 텍스트 연결",0,0,0,0,0,0,"로컬 시간으로 변환",0,0,0,0,0,"그룹 만들기","스크립트 만들기","지정된 시작 지점, 너비 및 높이를 사용하여 라인 장애물을 만듭니다. 탄력성은 달라붙는 경우 0, 완전히 튕기는 경우 1입니다.","스프라이트용 새 컬렉션을 만듭니다.","새 원 스프라이트 만들기.","새 그림 스프라이트를 만드세요.","새 직사각형 스프라이트를 만듭니다.",0,"새 스프라이트 시트를 만듭니다.","새 텍스트 스프라이트를 만드십시오.","두 스프라이트 사이에 스프링을 만듭니다.","앵커 스프라이트를 만듭니다.","이 개체 유형의 잘못된 값 생성","채널 만들기",0,0,"지정된 거리에 보드를 둘러싼 벽을 만듭니다.","자신만의 앱 만들기",0,0,"빈 게임 보드를 새로 만들어 화면에 표시합니다.",0,0,0,"지정된 그림으로 너비100의 새 스프라이트를 만듭니다.",0,"유효하지 않은 게임패드 인스턴스 만들기",0,0,"현재 장치",0,"현재 터치 지점","이벤트에서 처리기를 분리합니다.",0,"담벼락에 이미지를 표시합니다. 변경 내용을 적용하려면 나중에 '담벼락에서 업데이트'를 호출해야 합니다.",0,0,0,"담벼락에 게임패드의 상태를 표시",0,"스프라이트 겹치기 수행",0,"문서","편집을 완료하면 아래로 스크롤하여 '저장'을 탭해야 합니다.","초보자에게 안성맞춤인 끌어서 놓기 블록, 간편해진 인터페이스!","두 점 사이 선 그리기","지정된 색과 글꼴 크기로 텍스트 테두리 그리기","예비 앱 개발자를 위한 텍스트로 코드 편집 기능 및 추가 옵션!",0,0,"이름 입력",0,"본인에 대한 정보를 입력하세요.","개인 웹 사이트의 URL(예: http://www.northwindtraders.com)을 입력하세요.","초대 코드 입력",0,"이벤트에는 Out 매개 변수가 있을 수 없습니다.","인터넷에서 모든 사람이 영구적으로 귀하의 그림을 볼 수 있게 됩니다. ",0,0,"확장","Facebook","지정된 색으로 타원 채우기","지정된 색으로 사각형 채우기","터치 종료 후의 최종 터치 속도","게시된 스크립트의 경우 게시된 스크립트 페이지의 탭을 보고 익명으로 수집된 크라우드 제공 프로필과 검사 데이터를 찾아보세요.","포럼","지금부터는 작성할 코드가 표시되지 않습니다. 지침에 따라 진행하고, 완료된 것 같으면 실행을 탭합니다.","현재 스크립트의 함수",0,0,0,0,0,"게임패드 상태 스냅샷을 가져옵니다(브라우저에 연결된 경우). 지원되지 않거나 연결된 게임패드가 없는 경우 비어 있습니다.",0,0,0,"보드가 가로 모드로 표시되도록 디자인되었는지 여부를 나타내는 값을 가져옵니다.","DRM에 의해 보호되는 곡인지 여부에 대한 값 가져오기","선택한 축의 x 및 y 값을 가져옵니다.",0,0,"배경 장면 가져오기","가로 가운데 위치 구하기(픽셀)",0,"ARGB 값이 #00FFFFFF인 색 가져오기","ARGB 값이 #FF000000인 색 가져오기","ARGB 값이 #FF0000FF인 색 가져오기","ARGB 값이 #FF008000인 색 가져오기","ARGB 값이 #FF00FFFF인 색 가져오기",0,"ARGB 값이 #FF800080인 색 가져오기",0,0,0,0,"ARGB 값이 #FFFF0000인 색 가져오기","ARGB 값이 #FFFF00FF인 색 가져오기","ARGB 값이 #FFFFA500인 색 가져오기",0,"ARGB 값이 #FFFFFF00인 색 가져오기","ARGB 값이 #FFFFFFFF인 색 가져오기",0,0,0,0,"사용 가능한 첫 번째 연결된 게임패드 가져오기",0,"게임패드 식별자 가져오기",0,"높이 구하기(픽셀)","카메라 이미지의 높이(픽셀)를 구합니다.",0,0,0,0,0,0,0,0,0,"플레이어 인덱스 가져오기","단추의 누름 값을 가져옵니다. 단추가 없는 경우 0을 반환합니다.",0,"0(무음)에서 1(현재 볼륨)까지 사운드 볼륨 가져오기","스프라이트 수 가져오기","i로 인덱싱된 스프라이트 가져오기",0,"이 스냅샷의 타임스탬프 가져오기",0,"너비 구하기(픽셀)","카메라 이미지의 너비(픽셀)를 구합니다.","y 위치 구하기(픽셀)","시작하기",0,"현재 스크립트의 전역 변수",0,0,0,0,0,0,0,0,0,0,0,0,0,"디버그 모드에서 보드에는 속도와 기타 스프라이트 정보가 표시됨","단추를 눌렀는지 여부를 나타냅니다. 단추가 없는 경우 false를 반환합니다.",0,"게임패드 데이터가 동일한지 여부를 나타냄","게임패드가 아직 연결되어 있는지 여부를 나타냅니다.",0,0,0,0,"'{0}' {1} 삽입",0,"*로 표시된 항목은 필수 항목입니다.","JSON 데이터","그룹 참가","마지막 터치 종료 지점","마지막 터치 시작 지점",0,0,0,0,0,"업데이트를 보이도록 합니다.",0,0,"모든 스프라이트가 화면 끝에 닿으면 튀어오르도록 설정",0,"수학 공식, abs, max, ...","Me",0,"Minecraft 사용자",0,0,"스프라이트를 다른 스프라이트 방향으로 이동합니다.","곱하기",0,0,0,0,0,0,0,0,"새 스크립트",0,"새 또는 기본 제공 색",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"임의의 색 선택",0,0,0,0,0,0,"개인정보취급방침을 검토하세요.",0,"설명 게시...",0,0,0,"개인적으로 수행한 작업에는 run 단추가 표시되지 않습니다. ","사용자가 숫자를 입력하도록 표시",0,"스크립트 게시",0,"게시에 다음 적용됨 ","스크립트를 게시하는 중…","애니메이션 재생이 시작되면 실행됨","애니메이션 재생이 중지되면 실행됨","웨이브 사운드로 응답 본문 읽기","다른 사람이 스크립트를 검토하거나 스크립트의 스크린샷을 찍거나 이에 대해 댓글을 다는 경우, 사용자의 댓글에 답글이 게재되는 경우, 또는 사용자 구독 관련 이벤트가 발생할 경우 전자 메일 알림이 수신됩니다.","주의: 스크립트를 게시하면 모든 사람이 볼 수 있으므로 암호나 개인 정보가 포함되어 잇지 않은지 확인하세요.","현재 수명에서 값을 제거합니다.","회신...","보고/삭제","지정된 크기(픽셀)로 그림 크기 조정",0,"이미지의 복사본 반환",0,0,"이 인스턴스의 값에 지정된 개월 수를 추가하는 날짜를 반환합니다.","이 인스턴스의 값에 지정된 연도 수를 추가하는 날짜를 반환합니다.",'"min"에서 "max"까지의 정수 난수를 반환합니다.',0,0,0,0,0,0,0,"현재 인스턴스가 소용 없을 경우 true 반환",0,0,0,0,"스크립트 업데이트","이 사용자가 작성한 스크립트:",0,0,"코드 검색...","모두 검색","여기 검색...",0,0,"검색...",0,0,0,"더 보기",0,0,"그라데이션 설정/해제","담벼락에 적용되는 3x3 행렬 유사 변환을 설정합니다.",0,"배경 카메라 설정","배경 색 설정","배경 색 설정.","배경 그림 설정","가로 가운데 위치 설정(픽셀)","현재 수명 점수를 설정합니다.","스프라이트의 기본 마찰을 0과 1 사이의 속도 손실 분수로 설정","높이 설정(픽셀)","위치 설정(픽셀)",0,"0(무음)에서 1(현재 볼륨)까지 사운드 볼륨 수준 설정","픽셀/초 단위로 속도 설정","스프라이트 색을 설정합니다.","보드의 개체에 대한 등가속도 벡터를 픽셀/초^2로 설정",0,0,"너비 설정(픽셀)","x 위치 설정(픽셀/초)","y 가속화 설정(픽셀/초)^2","y 위치 설정(픽셀)","y 위치 설정(픽셀/초)",0,"설정","이 url과 함께 공유:","이러한 플랫폼에서 실행되지 못하게 하는 API가 스크립트에 사용되는 경우 편집기에 오류를 표시합니다.","담벼락에 보드를 표시합니다.",0,"기술 수준: {0}     ",0,0,0,0,0,"모든 프레임 타이머 중지 및 지우기",0,"빼기",0,"TD100: 여기에 {0} 삽입","TD101: '{0}'을(를) 찾을 수 없음","TD109: 이 항목에 할당할 수 없음","TD111: {0}에서 {1}에 할당할 수 없음","TD112: {1}에서 속성 '{0}'을(를) 찾을 수 없음","TD115: {0}에 과도한 매개 변수 제공됨","TD116: {0}에 매개 변수가 충분히 제공되지 않음","TD118: 'if' 조건에 {1} 필요","TD119: 반복할 대상이 필요합니다.",0,"TD130: 'for'의 경계에 {1} 필요","TD144: '{0}'이(가) 누락된 것 같음, 추가 필요","TD145: 연산자('+', '(', ',' 등)가 누락된 것 같음","TD147: 여기에 '{0}' 필요 없음","TD150: '(' 앞의 항목을 호출할 수 없음","TD151: 닫히지 않은 '('","TD152: 예기치 않음 ')'","TD154: 연산자 다음 항목 필요","TD155: '{0}'은(는) 로컬 변수에 할당할 수 없음","Creative Coding을 지도하세요!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"이 스크립트는 다음 기능을 사용함: ",0,"이 자습서에서 사용하는 클라우드 데이터는 다른 사용자와 공유됩니다.","페이지 데이터를 추가하려면 로컬 변수를 만들고 '필드로 수준 올리기'를 탭하세요.",0,0,0,0,"Microsoft® Translator의 번역, 원본을 보려면 탭...","보드가 터치된 경우 true","올바르게 실행될 때까지 코드를 다듬어 봅니다. 진행이 중단되는 경우 자습서 막대를 탭합니다.",0,0,"자습서","Twitter","온라인 검색 내용 입력...","검색 내용 입력...",0,"이벤트 매개 변수의 유형, 순서 및 번호는 편집할 수 없습니다.","UI 위젯",0,"보드의 스프라이트 위치를 업데이트합니다.","그림 스프라이트의 그림 업데이트(그림 스프라이트인 경우)","텍스트 스프라이트의 텍스트 업데이트(텍스트 스프라이트인 경우)","그림 업로드","사운드 업로드","사용자",0,"추가 옵션이 필요함","편집기를 코딩 기술 수준에 맞춥니다. 나중에 허브에서 기술 수준을 변경할 수 있습니다.","프로그래밍 지식 수준은 어떻게 됩니까?","직업은 무엇입니까?","새로운 기능","현재 위치한 세계","지정된 위치에 다른 그림을 작성합니다. 불투명도 범위는 0(투명)에서 1(불투명)입니다.",0,"YouTube",0,0,"GitHub 사용자입니다.","Minecraft 사용자입니다.","아트가 여기 표시됨",0,"채널이 여기 표시됨","전자 메일 주소가 확인되지 않습니다. 받은 편지함을 확인하세요.","전체 이름",0,0,0,"스크립트가 여기 표시됨","@touchdevelop과 같은 Twitter handle.","몇 초 전","함수","전역 변수","1분 전","페이지","검사 정보","통찰력 정보","프로필 정보","내 정보","신고",0,"신고서",0,0,0,"{0} 필드에 액세스",0,"추가","새로 추가...",0,"모든 디스플레이 프레임에 대해 실행되는 작업을 추가합니다.",0,0,0,0,0,"입력 매개 변수 추가","위에 줄 추가","아래에 줄 추가","새로 추가",0,0,"출력 매개 변수 추가",0,0,0,0,0,"모든 API","허용","놀라운, 눈부신, 뜻밖의, 장엄한, 근사한, 숨막히는, 클래식, 멋진, 호기심을 일으키는, 명확한, 특별한, 예외적인, 대단한, 굉장한, 멋진, 훌륭한, 대단한, ",0,"함수 유형 정의","1시간 전",0,0,0,0,0,"앱",0,"아트","아트 리소스","과제",0,"만든 이",0,0,"뒤로",0,"백스페이스","이 항목 지우기",0,0,"기본","초보자","초보자",0,"스크립트에 바인딩:","비어 있음","비어 있는 앱","비어 있는 creeper","비어 있는 문서","비어 있는 게임","비어 있는 minecraft","비어 있는 minecraft pi","비어 있는 pixel art","비어 있는 scratch","비어 있는 스크립트 플러그인","비어 있는 turtle","비어 있는 자습서","중단하고 디버거 실행","중단점",0,0,0,0,0,0,"취소",0,0,"로컬로 다시 변경","콘텐츠 변경","채널","참조가 설정되지 않았는지 확인",0,0,0,"그림 선택(1MB 미만, 2048x2048보다 작음)",0,0,0,0,0,0,"코딩 기술 수준 선택","선택...",0,"지우기","클립보드","클론",0,"클라우드 세션","코드","골 라인 코딩","코더","색 #{0}","색: {0}","주석 처리","설명",0,"조건부","연결됨",0,0,"계속",0,"복사","선택 항목 복사","검사","만들기","새 매개 변수 만들기",0,0,0,0,"빈 개체 컬렉션 생성","스크립트 만들기",0,"현재 식","아트를 사용자 지정하십시오.","잘라내기","선택 항목 잘라내기","데이터베이스","디버그","소수점",0,"삭제","로컬 데이터 및 사용 권한 삭제","선택 항목 삭제","변수로 수준 내리기","거부","설명","설명(검색에 도움이 됨)",0,"세부 정보","사용하려던 것이 이 값인가요?","현재 차이","이전 차이",0,0,0,"취소","값 표시","담벼락에 개체 표시",0,0,0,"완료","완료했습니다.","편집","else if","전자 메일",0,"전자 메일 및 푸시 알림",0,0,0,0,"초대 코드 입력","이 코드 입력","오류",0,"이벤트",0,"예: ",0,"우수, 훌륭함, 멋짐, 감동, 보기 좋음, 잘함, 뛰어남, 해냄, 옳음",0,"종료","전문가",0,"내보내기","콘텐츠의 JSON 표현 내보내기","이 라이브러리에서 내보냄","확장",0,"선택 항목을 함수로 추출",0,"변수로 추출","참조 찾기","종료됨","수정","편집기에서 자습서 추적","그룹용","분기","함수","함수 이름","함수 유형","함수, 변수, 라이브러리, ...","성","내 Hour of Code™ 인증서 받기","모든 디스플레이 프레임에 대해 실행되는 타이머를 가져옵니다.","GitHub 사용자",0,"전체 바꾸기","전역 변수","전역 변수","뒤로 이동","코딩으로 돌아가기! 이동할 {0}★","뒤로 이동...","이동","스크립트의 항목 목록으로 이동","이전 단계로 이동","목표:","그룹",0,"하트","도움말",0,0,"기록","축하합니다! 스크립트가 게시되었습니다.","찾은 방법","다음에 실행","내 Hour of Code™ 마침","아이콘 아트: {0}",0,"진행이 중단되는 경우 골 라인 탭",0,0,0,0,"JSON 개체에서 필드 값 가져오기",0,0,0,0,"엄청난, 신기한, 놀랄 만한, 감동적인, 믿어지지 않는, 기적적인, 독특한, 경이적인, 끝내주는, 마음을 뒤흔드는, 특별한, 눈부신, 깜짝 놀라게 하는, 엄청난, 아주 멋진, ",0,"삽입","설명 삽입","문 삽입","{0} 삽입","통찰력",0,"스크립트를 설치 및 로드하는 중","로컬로",0,"문제","그룹 참가","그룹 참가",0,"검색어를 계속 입력하세요!","계속 편집","이곳의 알려진 이름:",0,"알아보기","게시에 대해 알아보기","자세히 알아보기","{0}에 대해 자세히 알아보기","자습서에서 나가기","이것을 바꿔 보겠습니다.","시작!","시작!","lib","라이브러리","라이브러리","라이브러리 이름","라이브러리 참조","더 로드","추가 회신 로드","로드 중",0,"/{0}에 대한 설명 로드 중...",0,"회신 로드 중...","스크립트 로드 중","자습서를 로드하는 중","로드 중...","로컬","위치",0,"논리 부정","로그","주",0,"메이커","데이터 관리","나중에","나",0,0,"minecraft 사용자",0,0,"기타","기타 ","추가 설정","커서 이동","왼쪽으로 이동","다음 단계로 이동","왼쪽으로 커서 이동","오른쪽으로 커서 이동","내 아트",0,0,0,"내 스크립트","여기에는 다른 이름이 필요함","여기에는 다른 문자열이 필요함","여기에 새 필드가 필요합니다","매개 변수 필요","삭제 필요","다른 곳에서 편집 필요","부정",0,0,0,0,"줄 추가",0,0,0,"아래 문 추가","새 변수",0,"다음 자습서...","애칭",0,"이 사용자가 게시한 아트 없음","설명 없음, 몇 가지를 기록하려면 탭!","분기가 없습니다. 스크립트를 설치, 편집 및 다시 게시하여 하나 만드십시오.","하트가 없습니다. 스크립트를 설치하면 하나 추가할 수 있습니다.","업로드된 그림 없음",0,0,"태그 없음, 몇 가지를 추가하려면 탭!",0,0,0,"알림",0,"이제 {0}의 속성을 선택할 수 있지만 그 자체는 아무 것도 하지 않음","이제 속성을 선택할 수 있습니다.","숫자","숫자 항목",0,"직업",0,"오프라인으로 사용 가능","확인","그럼 시작해 봅시다.","온라인",0,"또는 탭하여 도움말 확인","다른 사람","개요",0,"페이지",0,"스크립트 텍스트 구문 분석 중",0,"붙여넣기","일시 정지",0,"물리 게임 스타터","스크립트 템플릿 선택…","그림","그림 이름","그림 이름(최소 4자)","그림 url","다시 플레이",0,"잠시 기다려 주세요.","플러그 인","미리 보기","인쇄",0,"비공개","개인 함수","비공개 프로필","프로필","프로그래밍 지식",0,"데이터로 수준 올리기",0,"공개 애칭","공개 프로필","게시","숨김 항목으로 게시",0,"게시됨","변경 내용 받음","블록 수준으로 끌어내기",0,"다시 실행","자세히 읽기...","읽기 전용","실명",0,"전자 메일 뉴스레터 수신","전자 메일 알림 수신","레코드 이름:",0,"일반 키보드","스크립트를 다시 로드하는 중","제거",0,"그림 제거","흰색 배경 제거(게임 스프라이트에 최적)",0,"이름 바꾸기","n번 반복","컬렉션에서 반복","반복","함수에서 모두 바꾸기","스크립트에서 모두 바꾸기","그림 바꾸기","복제됨","복제됨 ",0,"신고",0,"게시된 버전으로 되돌리기",0,"되감기 ","실행","기본 실행",0,"계측으로 실행","저장","저장됨","저장하는 중...","학교","화면","스크린 샷","{0}의 스크린 샷","스크립트","스크립트 속성",0,"검색","아트 검색","아트 그림 검색","여기에서 {0} 검색","템플릿 검색","검색 중...","옵션 더 보기","선택","더 선택","이 줄 선택","이 {0}의 유형 선택",0,0,"로컬 변수 이름 설정","이름 설정","보드를 살짝 밀 때 호출되는 처리기 설정","보드를 탭할 때 호출되는 처리기 설정","보드를 터치할 때 호출되는 처리기 설정","보드를 터치했다가 뗄 때 호출되는 처리기 설정","모든 필드를 기본값으로 설정","설정 저장됨","설정","공유",0,"이 작업을 수행하는 방법 표시","추가 옵션 표시","소개","로그인",0,0,"로그아웃","로그인하는 중...",0,"단순화","기술 수준 저장됨","반복 건너뛰기",0,"소셜",0,"사운드",0,"시작 화면 아트: {0}","분할",0,"다시 시작","스크립트 시작 중","시작하는 중...",0,"한 단계씩 코드 실행","프로시저 나가기","프로시저 단위 실행",0,"중지",0,"함수 중지","반복 중지","변수에 저장","변수에 값 저장","문자열",0,"'{0}' 스트립",0,0,0,"우수한, 초자연적인, 빼어난, 믿기 어려운, 비현실적인, 독특한, 전례가 없는, 유별난, 기묘한, 이상한, 불가사의한","둘러싸기",0,0,"동기화 중...",0,0,0,0,0,"태그",0,0,"완료되면 (←) 탭","완료되면 [ok] 를 탭하세요.",0,"다음 단계로 이동하려면 여기를 탭하세요","완료되면 여기를 탭","여기 탭","여기를 탭하여 지침 보기","앱을 실행하려면 거기 탭","탭하여 색 변경","아이콘 그림을 변경하려면 탭","시작 화면 그림을 변경하려면 탭","Microsoft® Translator로 번역하려면 탭...","임시","terms of use","테스트","테스트 함수","테스트","두 참조가 동일한 개체를 참조하는지 테스트",0,0,"허브","초대 코드는 9~64자 사이의 숫자여야 함","스크립트가 충돌함",0,0,"이 스크립트는 라이브러리임","이 스크립트는 웹 서비스임",0,"코드에","계속하려면","전역 변수로","중단점 설정/해제","인기 및 최신",0,0,"번역","자습서를 번역하는 중...",0,0,0,"다시 시도하세요!","다음으로 변환","자습서 진행률","자습서: ","자습서","Twitter handle","유형: ","유형: {0}",0,0,0,"실행 취소",0,0,0,0,0,0,0,0,0,0,"업데이트",0,0,0,0,0,0,"업로드","사진 업로드","스크린 샷 업로드","소리 업로드",0,0,0,"url",0,0,0,0,0,"변수 이름","스크립트로 보기","이름, 전자 메일 등 보기/편집 ",0,"배경 화면","여기에 라이브러리 '{0}' 있음, {1}","여기에 {0:a}이(가) 있습니다. 이를 통해 작업을 수행하려 하셨습니까?","새 필드가 필요함","새 테이블이 필요함","새 항목이 필요함 {0}","다른 키보드 필요","새 변수가 필요함","다른 사항을 편집해야 함","단계별 안내","웹 앱",0,0,0,"웹 사이트",0,"웹 사이트 URL",0,0,0,0,0,"출생 연도",0,0,"해냈습니다.",0,"{0} ({1} 줄{1:s})","{0}일{0:s} 전",0,0,0,0,"{0}시간{0:s} 전","{0}분{0:s} 전","{0}개월{0:s} 전","{0}/{1} 완료","{0} 게시","{0} 스크립트가 게시됨","{0}초{0:s} 전","{0} 위로","{0}년{0:s} 전"]),!0):"nl"==e?(TDev.Util._setLanguageArray(t,["   Misschien {0} ({1} bij '{2}')\n","  Lijn {2} ('{1}'), fout: {0}\n{3}"," -- een lokale variabele"," [class]"," [verborgen]"," [override]"," achterwaarts"," voorwaarts"," uren "," minuten "," van "," seconden "," wijzigingen worden doorgestuurd"," wachten op de server","### volledige broncode","'Javascript'-accolades, alle hulpmiddelen, voor ervaren ontwerpers!","'atomaire' functie","'box' kan alleen geopend worden in de code bekijken pagina","'box' kan niet geopend worden in de HTML layout modus","'else' van de voorafgaande 'if' moet leeg zijn","'html' kan alleen geopend worden in de HTML layout modus","'{0}' verwacht {1} hier","'{0}' heeft een niet-ondersteunde handtekening","'{0}' is momenteel niet geïmplementeerd","'{0}' is verouderd en niet geïmplementeerd","'{0}' is verouderd en mag niet worden gebruikt","'{0}' is geen string bron","'{0}' retourneert een '{1}'; {2}","'{0}' geeft {1} waarden terug; u kunt de 'bewaren in var' knop gebruiken om hen lokaal op te slaan","(Optioneel) Een URI identificeerd een menselijke leesbare webpagina met information over de fout, gebruikt om de client-ontwikkelaar met extra informatie over de fout te verschaffen.","(Optioneel) Een menselijk leesbare foutcode.",0,0,0,0,0,", kreeg in plaats daarvan {0}",", kreeg {0}",0,0,0,"... er is meer ...","// opmerking",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>deze regel is perfect!</b> laten we verdergaan","<h3>bezig met laden van huidige instellingen...</h3>","<h3>geen tips meer!</h3>",0,"<h3>{0:q} vereist aanmelding</h3>",0,0,0,0,0,0,0,0,0,"Een Minecraft Pi-app.","Een Minecraft-app.","Een Minecraft creeper-app.",0,0,0,0,0,0,0,0,0,0,"Een kleurconstante",0,0,0,0,0,0,0,0,0,"Een globale variabele",0,0,0,0,0,0,0,0,0,0,0,"Een aantal (mogelijk negatieve en/of gedeeltelijke)","Een getalconstante",0,0,0,"Een afbeelding","Een stuk tekst","Een pixel art-app.",0,0,0,"Een verwijzing naar een bibliotheekscript",0,0,0,0,0,0,0,0,0,"Een geluid",0,0,0,0,"Een structuur van gebruikersgegevens","Een tabel met door de gebruiker ingestelde rijen",0,0,0,0,0,"Een unieke weergavenaam voor uw openbare profiel (minimaal 8 tekens)",0,0,"Een gebruikersinterface",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Voeg een actie toe die wordt uitgevoerd voor elk weergavebeeld",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Telt getallen op",0,"Voegt een waarde toe aan de huidige score.",0,0,"Doorzoek nadat het script stopt de code om verzamelde informatie weer te geven.","Al mijn groepen","Al mijn scripts",0,0,0,0,0,0,0,"Een lege app die gebruikmaakt van pagina’s en kaders.","Een lege app die gebruikmaakt van de scratch-bibliotheek.","Een lege documentatie-pagina.","Een lege interactieve tutorial.","Een lege plug-in voor scriptbewerking.","Een leeg script, dat niks doet.",0,0,"Een geïndexeerde tabel met door de gebruiker ingestelde rijen",0,"Een turtle app.","Past 'omzetter' toe op alle elementen van de inputverzameling en retourneert een verzameling resultaten",0,"Weet je zeker dat je de tutorial niet meer wilt volgen?",0,"Activiteit van deze gebruiker:",0,"Bevestig gegevens aan andere objecten","Standaardcode om een game te maken.",0,0,0,0,0,0,"Niveau wijzigen!",0,"Controleert of het bord op dezelfde instantie is als het andere bord.",0,0,0,"Verwijder alle geplande events die aan dit bord zijn gerelateerd","Verwijder de achtergrondafbeelding","Verwijder de achtergrondcamera",0,0,"Code doorgegeven in geval van interactie met gebruiker","Code die een specifieke taak uitvoert","Vergelijkt getallen voor gelijkheid","Vergelijkt getallen voor minder",0,"Vergelijkt getallen voor meer",0,0,0,0,0,0,0,"Koppelt twee stukken tekst aaneen",0,0,0,0,0,0,"Zet om naar de lokale tijd",0,0,0,0,0,"Groep maken","Script maken","Een lijn-obstakel met bepaald startpunt en bepaalde breedte en hoogte maken. Elasticiteit is 0 voor plakkerig, 1 voor compleet stuiteren.","Maak een nieuwe verzameling voor sprites.","Een nieuwe ovaalsprite maken.","Een nieuwe afbeeldingssprite maken.","Een nieuwe rechthoeksprite maken.",0,"Een nieuwe spritesheet maken.","Een nieuwe tekstsprite maken.","Een spring tussen de twee sprites maken.","Een anchor-sprite maken.","Een ongeldige waarde van dit objecttype maken","Kanaal maken",0,0,"Muren rond het bord op de bepaalde afstand maken.","Maak je eigen apps",0,0,"Maakt een nieuw leeg spelbord en laat het zien op het scherm.",0,0,0,"Creëert een nieuwe sprite met een breedte van 100 met de bepaalde afbeelding.",0,"Maakt een ongeldige Gamepad-instantie",0,0,"Huidig apparaat",0,"Huidige aanraakpunt","Koppelt de handler los van de gebeurtenis.",0,"Geeft de afbeelding op de wand weer; je moet later 'bijwerken op wand' gebruiken als je wilt dat de veranderingen worden weergegeven.",0,0,0,"Geeft de status van de gamepad weer op de muur",0,"Overlappen de sprites elkaar",0,"Documenten","Vergeet niet om naar beneden te bladeren en op “Opslaan” te tikken als u klaar bent met bewerken!","Blokken verslepen en plaatsen, vereenvoudigde interface, perfect voor beginners!","Tekent een lijn tussen twee punten","Tekent een tekstrand met een gegeven kleur en fontgrootte","Code als tekst bewerken, meer opties, voor aankomende app-schrijvers!",0,0,"Voer een naam in",0,"Voer informatie over uzelf in.","Voer de URL naar uw persoonlijke website in (bijvoorbeeld: http://www.northwindtraders.com)","Vul de uitnodigingscode in",0,"Gebeurtenissen kunnen geen out parameters hebben.","Iedereen zal voor altijd je afbeelding kunnen zien op internet. ",0,0,"Uitbreidingen","Facebook","Vult een ovaal met een gegeven kleur","Vult een rechthoek met een gegeven kleur","Uiteindelijke aanraaksnelheid na stoppen aanraken","Bekijk bij gepubliceerde scripts ook de tab van de gepubliceerde scriptpagina om anoniem verzamelde crowd-sourced profiel- en dekkingsgegevens te zoeken.","Forums","Vanaf nu laten we de code niet meer zien. Volg de instructies en tik uitvoeren als je denkt dat je klaar bent.","Functies in het huidige script",0,0,0,0,0,"Maakt een snapshot van de status van het gamepad (indien aangesloten op de browser). Leeg wanneer het niet wordt ondersteund of er geen gamepad verbonden is.",0,0,0,"Krijgt een waarde die aangeeft of het bord is ontworpen om in landschapsmodus te worden weergegeven","Haalt een waarde op die aangeeft of het lied door DRM is beschermd","Haalt de x- en y-waarde van de geselecteerde assen op.",0,0,"Krijgt de achtergrondscène","Haalt de centrale horizontale positie in pixels op",0,"Haalt de kleur op met ARGB-waarde #00FFFFFF","Haalt de kleur op met ARGB-waarde #FF000000","Haalt de kleur op met ARGB-waarde #FF0000FF","Haalt de kleur op met ARGB-waarde #FF008000","Haalt de kleur op met ARGB-waarde #FF00FFFF",0,"Haalt de kleur op met ARGB-waarde #FF800080",0,0,0,0,"Haalt de kleur op met ARGB-waarde #FFFF0000","Haalt de kleur op met ARGB-waarde #FFFF00FF","Haalt de kleur op met ARGB-waarde #FFFFA500",0,"Haalt de kleur op met ARGB-waarde #FFFFFF00","Haalt de kleur op met ARGB-waarde #FFFFFFFF",0,0,0,0,"Neemt het eerste beschikbare aangesloten gamepad",0,"Haalt de identificatie van de gamepad op",0,"Haalt de hoogte in pixels op","Haalt de hoogte van het camerabeeld in pixels op.",0,0,0,0,0,0,0,0,0,"Haalt de spelerindex op","Haal de ingedrukt-status van een knop op. Levert 0 op als de knop ontbreekt.",0,"Haalt het geluidsvolume op voor geluiden van 0 (stil) tot 1 (huidig volume)","Krijgt de sprite-count","Sorteert de sprites op i",0,"Geeft het tijdstempel van dit snapshot",0,"Haalt de breedte in pixels op","Haalt de breedte van het camerabeeld in pixels op.","Haalt de y-positie in pixels op","Aan de slag",0,"Globale variabelen in het huidige script",0,0,0,0,0,0,0,"Als de pagina niet opende, tik dan op de 'open' knop beneden of tik 'klaar'.",0,0,0,0,0,"In de probleemoplossingsmodus geeft het bord de snelheid en andere info over sprites weer","Geeft aan of een knop wordt ingedrukt Levert false op als de knop ontbreekt.",0,"Geeft aan of de gamepadgegevens identiek zijn","Geeft aan of de gamepad nog verbonden is.",0,0,0,0,"'{0}' {1} invoegen",0,"Onderdelen gemarkeerd met * zijn verplicht.","JSON-gegevens","Aanmelden bij groep","Eindpunt laatste aanraking","Startpunt laatste aanraking",0,0,0,0,0,"not yet translated",0,0,"Laat alle sprites stuiteren op drie randen van het scherm",0,"Wiskunde, abs, max,...","Me",0,"Minecraft-gebruiker",0,0,"Verplaatst een sprite naar een andere sprite.","Vermenigvuldigt getallen",0,0,0,0,0,0,0,0,"Nieuwe scripts",0,"Nieuwe of ingebouwde kleuren",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Kiest een willekeurige kleur",0,0,0,0,0,0,"Lees onze Privacyverklaring.",0,"Een opmerking posten...",0,0,0,"Privé acties krijgen geen 'run' knop. ","Vraagt de gebruiker om een waarde in te voeren",0,"Script publiceren",0,"Publicatie is onderhevig aan onze ","Script publiceren...","Wordt doorgegeven als de animatie begint te spelen","Word doorgegeven als de animatie stopt met spelen","Leest het responslichaam als een geluidsgolf","Ontvang e-mailmeldingen als anderen je scripts bekijken/daar een schermafbeelding van maken/daar opmerkingen over hebben, of een van je opmerkingen beantwoorden, of als gebeurtenissen plaatsvinden die betrekking hebben op je abonnementen.","Vergeet niet dat iedereen uw script kan zien als u het publiceert, dus zorg ervoor dat het niet uw wachtwoord of persoonlijke gegevens bevat.","Verwijdert de waarde voor het huidige leven.","Beantwoorden...","Rapport/verwijder","Past de afbeelding aan de opgegeven grootte in pixels aan",0,"Retourneert een kopie van de afbeelding",0,0,"Retourneert een datum die het opgegeven aantal maanden optelt bij de waarde van dit geval.","Retourneert een datum die het opgegeven aantal jaren optelt bij de waarde van dit geval.","Retourneert een willekeurig geheel getal tussen ‘min’ en ‘max’.",0,0,0,0,0,0,0,"Retourneert waar als het huidige geval nutteloos is",0,0,0,0,"Scriptupdates","Scripts van deze gebruiker:",0,0,"Code zoeken...","Alles doorzoeken","Hier zoeken...",0,0,"Zoek...",0,0,0,"Meer info","Definieer wat er gebeurd als op de box wordt getikt",0,"Schakelt kleurovergang in of uit","Stelt de 3x3 affiene matrixtransformatie in die op de wand is toegepast.",0,"Stelt de achtergrondcamera in","Stelt de achtergrondkleur in","Stelt de achtergrondkleur in.","Stelt de achtergrondafbeelding in","Stelt de centrale horizontale positie in pixels in","Hiermee wordt het aantal levens ingesteld.","Stel de standaard frictie voor sprites in op een fractie van snelheidsverlies tussen 0 en 1","Stelt de hoogte in pixels in","Stelt de positie in pixels in",0,"Stelt het volumeniveau in van 0 (stil) op 1 (huidig volume)","Stelt de snelheid in pixels/sec in","Stelt de kleur van de sprite in.","Stel de algemene acceleratievector voor objecten op het bord in op pixels/sec^2",0,0,"Stelt de breedte in pixels in","Stelt de x-snelheid in pixels/sec in","Stelt de y-versnelling in pixels/sec^2 in","Stelt de y-positie in pixels in","Stelt de y-snelheid in pixels/sec in",0,"Instellingen","Deel het met deze url:","Geeft fouten weer in de editor als het script API's gebruikt die voorkomen dat de app op deze platformen kan worden uitgevoerd.","Geeft het bord op de muur weer.",0,"Vaardigheidsniveau: {0}     ",0,0,0,0,0,"Stopt en verwijdert alle every frame timers",0,"Trekt getallen af",0,"TD100: hier {0} invoegen","TD101: kan '{0}' niet vinden","TD109: kan niet toewijzen aan deze","TD111: kan niet toewijzen van {0} aan {1}","TD112: ik kan eigenschap '{0}' op {1} niet vinden","TD115: excessieve parameter(s) geleverd aan {0}","TD116: niet genoeg parameters geleverd aan {0}","TD118: 'als'-voorwaarde wil {1}","TD119: Ik heb iets nodig om te doorlopen",0,"TD130: limiet van 'voor' wil {1}","TD144: het lijkt erop dat '{0}' ontbreekt, probeer deze toe te voegen","TD145: er lijkt hier een operator (zoals '+', '(' of ',') te ontbreken","TD147: we hadden '{0}' hier niet verwacht","TD150: kan het ding voor ' (' niet aanroepen","TD151: ongesloten ' ('","TD152: onverwachte ')'","TD154: er moet iets na de operator komen","TD155: '{0}' kan niet worden toegewezen aan een lokale variabele","Doceer creatief coderen!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Dit script gebruikt de volgende mogelijkheden: ",0,"Deze tutorial gebruikt gegevens in de cloud die gedeeld worden met andere gebruikers.","Maak een lokale var en tik op 'bevorderen naar veld' om paginagegevens toe te voegen.",0,0,0,0,"Vertalingen door Microsoft ® vertaler, tik om het origineel te zien...","Waar als bord aangeraakt is","Probeer de code aan te passen tot deze goed is. Tik op de lesbalk als je vastzit.",0,0,"Tutorials","Twitter","Typ om online te zoeken...","Typ om te zoeken...",0,"Het type, de volgorde en het aantal gebeurtenisparameters kunnen niet bewerkt worden.","UI widget",0,"Posities van sprites op bord bijwerken.","Werkt afbeelding op een afbeeldingssprite bij (als het een afbeeldingssprite is)","Werkt tekst op een sprite bij (als het een tekstsprite is)","Afbeelding uploaden","Geluid uploaden","Gebruikers",0,"We hebben meer opties nodig","We passen de editor aan uw coderingsniveau aan. U kunt uw ervaringsniveau later in de hub wijzigen.","Wat is het niveau van uw programmeerkennis?","Wat is uw beroep?","Wat is er nieuw","Waar ter wereld bent u?","Schrijft nog een afbeelding op een gegeven locatie. De opaciteit loopt uiteen van 0 (transparant) tot 1 (ondoorzichtig).",0,"YouTube",0,0,"Uw GitHub-gebruiker.","Uw Minecraft-gebruiker.","Uw kunst verschijnt hier",0,"Uw kanaal verschijnt hier","Uw e-mailadres is nog niet geverifieerd. Controleer uw postvak.","Uw volledige naam",0,0,0,"Jouw script verschijnt hier","Uw twitter-gebruikersnaam, zoals @touchdevelop.","een paar seconden geleden","een functie","een globale variabele","een minuut geleden","een pagina","over dekking","over inzichten","over profiel","over u","misbruik",0,"meldingen van misbruik",0,0,0,"toegang tot het veld {0}",0,"toevoegen","een nieuwe toevoegen...",0,"voeg een actie toe die wordt uitgevoerd voor elk weergavebeeld.",0,0,0,0,0,"invoerparameter toevoegen","voeg hierboven een regel toe","voeg hieronder een regel toe","nieuwe toevoegen","voeg een nieuwe tag toe",0,"uitvoerparameter toevoegen",0,0,0,0,0,"alle API's\n","toestaan","verbazingwekkend, verbijsterend, ongelofelijk, ontzagwekkend, gaaf, adembenemend, klassiek, gaaf, curieus, apart, uitzonderlijk, exclusief, buitengewoon, fabuleus, fantastisch, glorieus, geweldig, ",0,"definitie voor een functietype","een uur geleden",0,0,0,0,0,"apps",0,"kunst","kunst resource","opdracht",0,"auteur",0,0,"terug",0,"backspace","verwijder deze met backspace",0,0,"basis","beginner","beginners",0,"verbindt aan script:","leeg","lege app","lege creeper","lege docs","lege game","lege minecraft","lege minecraft pi","lege pixel art","lege scratch","leeg script plug-in","lege turtle","lege tutorial","stop in debugger","onderbrekingspunt",0,0,0,0,0,0,"annuleren",0,0,"(terug) veranderen naar lokaal","inhoud veranderen","kanalen","controleert of verwijzing niet werd ingesteld",0,0,0,"kies een foto (minder dan 1 MB, kleiner dan 2048x2048)",0,0,0,0,0,0,"kies uw vaardigheidsniveau voor coderen","kiezen...",0,"wissen","klembord","klonen",0,"cloud-sessies","code","codeer de doellijn","programmeur","kleur #{0}","kleur: {0}","commentaar uit","opmerkingen",0,"voorwaardelijk","verbonden",0,0,"doorgaan",0,"kopie","kopieer selectie","dekking","creëren","een nieuwe parameter maken",0,0,0,0,"maakt een lege verzameling van objecten","script maken",0,"huidige expressie","pas de afbeeldingen aan!","knippen","selectie knippen","database","debuggen","decimale punt",0,"verwijderen","lokale gegevens en machtigingen verwijderen","selectie verwijderen","terugzetten naar var","afwijzen","beschrijving","beschrijving (helpt bij zoeken)",0,"details","wilde je deze waarde gebruiken?","huid wijz","vor wijz",0,0,0,"negeren","waarde weergeven","geeft het object op de wand weer",0,0,0,0,"klaar!","bewerken","anders als","e-mail",0,"e-mail- en push-meldingen",0,0,0,0,"vul uitnodigingscode in","voer deze code in","fouten",0,"evenementen",0,"ex: ",0,"uitstekend; goed gedaan; fantastisch; vet; jij bent geweldig; super; grandioos; het is je gelukt; perfect",0,"afsluiten","expert",0,"exporteren","een JSON-representatie van de inhoud exporteren","geëxporteerd van deze bibliotheek","uitbreiden",0,"selectie uitpakken naar functie",0,"overnemen naar var","verwijzingen zoeken","afgelopen","repareer het","tutorial in editor volgen","voor groep","splitsingen","functie","naam functie","soorten functie","functie, variabele, bibliotheek, ...","geslacht","mij Uur Code™-certificaat ontvangen","neemt de timer die wordt uitgevoerd voor elk weergavebeeld.","github-gebruiker",0,"globaal vervangen","globale variabele","globale vars","terug","programmeer verder! nog {0}★ te gaan","terug...","ga naar","ga naar een lijst met zaken in je script","ga naar de vorige stap","doel:","groep","groepen","harten","help",0,"verbergen","geschiedenis","hoera! Je script wordt gepubliceerd","hoe gevonden","ik wil het uitvoeren op","ik ben klaar met mijn Uur Code™","pictogramkunst: {0}","als","Tik op de doellijn als je vastzit",0,0,0,0,"veldwaarden van een JSON-object importeren",0,0,0,0,"onvoorstelbaar, magisch, schitterend, onthutsend, verbijsterend, miraculeus, vreemd, fenomenaal, stoer, speciaal, spectaculair, opzienbarend, magnifiek, supergaaf ",0,"invoegen","opmerking invoegen","propositie invoegen","{0} invoegen","inzichten",0,"script installeren en laden","naar lokaal",0,"problemen","aanmelden bij een groep","aanmelden bij groep",0,"blijf de zoektermen gewoon intypen!","doorgaan met bewerken","hier bekend als:",0,"leren","meer informatie over publiceren","meer leren","meer weten over {0}","tutorial verlaten","laten we dit veranderen","aan de slag!","laten we beginnen!","lib","bibliotheken","bibliotheek","naam bibliotheek","bibliotheekreferentie","meer laden","laden van meer antwoorden","laden",0,"opmerkingen voor /{0} worden geladen...",0,"antwoorden worden geladen...","script wordt geladen","tutorial laden","laden...","lokaal","locatie",0,"logische negatie","logboeken","main",0,"makers","gegevens beheren","misschien later","ik",0,0,"minecraft-gebruiker",0,0,"meer","meer ","meer instellingen","cursor verplaatsen","ga naar links","verder met de volgende stap","verplaats de cursor naar links","verplaats de cursor naar rechts","mijn kunst",0,0,0,"mijn scripts","hier is een andere naam nodig","hier is een andere tekenreeks nodig","nieuw veld nodig hier","parameter nodig","moet dit verwijderen","bewerken op ander punt nodig","ontkenning",0,0,0,0,"nieuwe regel",0,0,0,"nieuwe stmt hieronder","nieuwe variabele",0,"volgende tutorials...","bijnaam",0,"geen afbeeldingen gepubliceerd door deze gebruiker","geen commentaar, tik om iets te schrijven!","geen vorken. Installeer, bewerk en publiceer script opnieuw om er één te maken!","geen harten. Je kunt er één toevoegen nadat je het script hebt geïnstalleerd!","nog geen afbeelding geladen",0,0,"geen codes, tik om er enkele toe te voegen!",0,0,0,"meldingen",0,"nu kun je een eigenschap selecteren van {0}; op zichzelf doet het niets","nu kun je er een eigenschap voor selecteren","aantal","getalinvoer",0,"beroep","van een object","offline beschikbaar","oké","ok, aan de slag!","online",0,"of tik voor hulp","anderen","overzicht",0,"pagina 's",0,"scripttekst wordt geparseerd",0,"plakken","pauzeren",0,"natuurkundegame starter","kies een scriptsjabloon...","afbeelding","naam foto","naam foto (minimaal 4 tekens)","afbeeldings-url","speel opnieuw",0,"een ogenblik geduld...","plugins","voorbeeld","afdrukken",0,"privé","persoonlijke functie","privéprofiel","profiel","programmeerkennis",0,"verhogen naar data","promoveren naar veld","openbare bijnaam","openbaar profiel","publiceren","verborgen publiceren",0,"gepubliceerd","haal wijzigingen op","trek uit niveau blokkeren",0,"opnieuw uitvoeren","lees meer...","alleen lezen","echte naam",0,"e-mailnieuwsbrieven ontvangen","e-mailmeldingen ontvangen","naam record:",0,"gewoon toetsenpaneel","script opnieuw laden","verwijderen","verwijderen anders","afbeelding verwijderen","verwijder witte achtergrond (beste voor gamesprites)",0,"naam wijzigen","n keer herhalen","herhaal op collectie","herhalen zolang","alle vervangen in functie","alle vervangen in script","afbeelding vervangen","herhaald","herhaald ",0,"misbruik melden","hervatten","terugkeren naar gepubliceerde versie","terugspoelen","terugspoelen ","uitvoeren","hoofdprogramma uitvoeren",0,"uitvoeren met instrumentatie","opslaan","opgeslagen","bezig met opslaan...","school","schermen","schermafbeelding","schermafbeelding van {0}","script","eigenschappen van script",0,"zoeken","afbeeldingen doorzoeken","kunstafbeeldingen doorzoeken","hier zoeken naar {0}","zoek sjablonen","zoeken...","bekijk meer opties","selecteer","meer selecteren","selecteer deze regel","selecteer type van deze {0}",0,0,"instellen naam lokale variabele","naam instellen","stel de handler in die wordt opgeroepen wanneer over het bord wordt geveegd","stel de handler in die wordt uitgelokt wanneer op het bord wordt getikt","stel de handler in die wordt opgeroepen wanneer het bord wordt aangeraakt","stel de handler in die wordt opgeroepen wanneer op het bord wordt getikt","stelt alle velden in op hun standaardwaarden","instelling opgeslagen","instellingen","delen",0,"laat zien hoe je deze activiteit kunt afronden","meer opties tonen","tentoonstellen","aanmelden",0,0,"afmelden","bezig met aanmelden...",0,"vereenvoudigen","ervaringsniveau opgeslagen","iteratie overslaan",0,"sociaal",0,"geluid",0,"welkomstschermkunst: {0}","splitsen",0,"begin opnieuw","script starten","beginnen...",0,"instappen","uitstappen","eroverheen stappen",0,"stop",0,"functie stoppen","lus stoppen","opslaan in var","sla de waarde op in een variabele","tekenreeks",0,"strip '{0}'",0,0,0,"superieur, bovennatuurlijk, ontzagwekkend, ongelofelijk, buitenaards goed, uniek, ongekend, ongebruikelijk, vreemd, schitterend, prachtig, wonderbaarlijk","omringen met",0,0,"synchroniseert...",0,0,0,0,0,"tags",0,0,"tik op (←) als je klaar bent","tik [ok] wanneer je klaar bent","tik een checkmark om je 'vote' aan een bestaande 'tag' toe te voegen","tik hier om verder te gaan met de volgende stap","tik hier als je klaar bent","tik daar","tik daar voor instructies","tik daar om de app uit te voeren","tik om de kleur te veranderen","tik om het pictogram te veranderen","tik om de welkomstschermafbeelding te veranderen","tik hier om te vertalen met Microsoft ® vertaler...","tijdelijk","terms of use","test","testfunctie","proeven","controleert of twee verwijzingen verwijzen naar hetzelfde object",0,0,"de hub","de uitnodigingscode moet een nummer zijn tussen 9 en 64 tekens lang","het script is gecrashed",0,0,"dit script is een bibliotheek","dit script is een webdienst",0,"naar code","doorgaan","naar globale var","onderbrekingspunt","beste en nieuw",0,0,"vertalen","tutorial vertalen...",0,0,0,"probeer opnieuw!","veranderen in","voortgang tutorial","tutorial: ","tutorials","twitter-gebruikersnaam","type: ","type: {0}",0,0,0,"ongedaan maken",0,0,0,0,0,0,0,0,0,0,"bijwerken",0,0,0,0,0,0,"uploaden","afbeelding uploaden","schermafbeelding uploaden","geluid uploaden",0,0,0,"url",0,0,0,0,0,"naam variabele","weergeven als script","bekijk/bewerk naam, e-mail, ...",0,"achtergrond","we hebben een bibliotheek '{0}' hier; {1}","dit is een {0:a}; wilde je daar iets mee doen?","we hebben een nieuw veld nodig","we hebben een nieuwe tabel nodig","we hebben een nieuwe nodig {0}","we hebben een ander toetsenpaneel nodig","we hebben een nieuwe variabele nodig","we moeten ook nog iets anders bewerken","we begeleiden je stap voor stap","webapps",0,0,0,"website",0,"website url",0,0,0,0,0,"geboortejaar",0,0,"Het is je gelukt!",0,"{0} ({1} regel{1:s})","{0} dag {0:s} geleden",0,0,0,0,"{0} uur {0:s} geleden","{0} minuten {0:s} geleden","{0} maand {0:s} geleden","{0} van {1} gereed","{0} publiceren","{0} script gepubliceerd","{0} seconden{0:s} geleden","{0} omhoog","{0} jaar {0:s} geleden"]),!0):"pl"==e?(TDev.Util._setLanguageArray(t,["   Może: {0} ({1} w '{2}')\n","  -> Linia {2} ('{1}'), błąd: {0}\n{3}"," -- zmienna lokalna",0,0,0," do tyłu"," do przodu"," godzin "," minut "," z "," sekundy "," wysyłanie zmian",0,0,"'Zastosowanie nawiasów klamrowych podobnie jak w JavaScript, wszystkie narzędzia niezbędne doświadczonym programistom!",0,0,0,0,0,"'{0}' oczekuje {1} tutaj",0,0,0,"„{0}” to element przestarzały i nie należy go używać",0,"'{0}' zwraca '{1}'; {2}",0,0,0,0,0,0,0,0,", a dostaliśmy {0}",", mamy {0}",0,0,0,0,"// komentarz",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>ten wiersz jest doskonały!</b> przejdźmy dalej","<h3>ładowanie bieżących ustawień…</h3>","<h3>koniec podpowiedzi!</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Kolor argb (alfa, czerwony, zielony, niebieski)",0,0,0,0,0,0,0,"Stała koloru",0,0,0,0,0,0,0,0,0,"Zmienna globalna",0,0,0,0,0,0,0,0,0,0,0,0,"Stała liczba",0,0,0,"Obraz",0,0,"Miejsce aby podpiąć akcję, żeby wykonać ją w odpowiedzi na zdarzenie",0,0,"Odwołanie do skryptu z biblioteki",0,0,0,0,0,0,0,0,"Piosenka","Dźwięk","Efekt dźwiękowy",0,0,0,0,"Tabela wierszy zdefiniowanych przez użytkownika",0,0,0,0,"Zegar","Unikatowa nazwa wyświetlana Twojego profilu publicznego (co najmniej 8 znaków)",0,0,"Interfejs użytkownika",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Dodaj akcję, która zadziała dla każdej wyświetlanej klatki",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Dodaje liczby",0,"Dodaje wartość do bieżącego wyniku.",0,0,"Po zatrzymaniu skryptu przejrzyj kod i zapoznaj się z zebranymi informacjami.",0,"Wszystkie moje skrypty",0,0,0,0,0,0,0,0,0,0,0,0,"Pusty skrypt, który nic nie robi.",0,0,"Indeksowana tabela wierszy zdefiniowanych przez użytkownika",0,0,"Aplikuje `converter` na wszystkich elementach kolekcji wejściowej i zwraca kolekcję wyników",0,0,"Operacje arytmetyczne i logiczne na 32-bitowych liczbach całkowitych","Zasoby artystyczne tego użytkownika:","Wprowadź lub wyświetl wartości na ścianie...",0,"Stelarz do stworzenia gry.","Przeglądaj i recenzuj skrypty z bazaru",0,0,"Aparat fotograficzny, lokalizacja, mikrofon i inne czujniki",0,0,"Zmień poziom umiejętności!",0,0,0,0,0,0,0,0,0,"Zarządzanie sesjami w chmurze","Kod zgłaszany po interakcji z użytkownikiem","Kod wykonujący określone zadanie","Porównuje liczby","Sprawdza, która liczba jest mniejsza",0,"Sprawdza, która liczba jest większa",0,0,0,0,0,0,0,"Łączy dwa fragmenty tekstu",0,0,0,0,0,0,"Konwertuje na czas lokalny",0,0,"Funkcje pomocnicze dla poprawności",0,"Utwórz kod","Utwórz grupę","Utwórz skrypt",0,0,0,"Utwórz nowy obrazek złożony.",0,"Utwórz nowy skrypt",0,0,0,0,0,"Utwórz kanał","Tworzy kolekcję przedmiotów.","Tworzenie nieprawidłowych wartości",0,"Stwórz własne aplikacje",0,0,0,0,0,0,0,0,0,0,"Bieżące pudełko na stronie.","Bieżące urządzenie",0,0,"Odłącza program obsługi od zdarzenia.","Wyświetla napis na ścianie","Wyświetla zdjęcia na tablicy; trzeba będzie wywołać polecenie „update on wall” później, jeśli chcesz zobaczyć zmiany.",0,0,0,0,"Dzielenie liczb","Nałóż na siebie obrazki","Czy chcesz otrzymywać biuletyny informacyjne związane z Touch Develop, np. poświęcone nowym funkcjom i nadchodzącym wydarzeniom?","Dokumenty","Nie zapomnij przewinąć w dół i nacisnąć przycisku „zapisz” po zakończeniu edycji!","Przeciąganie i upuszczanie bloków, uproszczony interfejs, doskonałe narzędzie dla początkujących!","Rysuje linię między dwoma punktami","Rysuje niektóre obramowania tekstowe za pomocą zadanego koloru i rozmiaru czcionki","Edytowanie kodu w formie tekstu i więcej opcji dla początkujących programistów!","E-maile, sms, kontakty, kalendarz...",0,0,0,"Wpisz informacje o sobie","Wpisz adres URL własnej witryny internetowej (na przykład: http://www.northwindtraders.com)",0,"Opisz swoje powiązanie ze szkołą, jeśli takie masz.",0,0,0,0,0,"Facebook","Wypełnia elipsę zadanym kolorem","Wypełnia prostokąt zadanym kolorem",0,"W przypadku opublikowanych skryptów poszukaj także na karcie strony opublikowanego skryptu anonimowo zebranych profili społecznościowych i danych o pokryciu.","Fora","Od teraz nie pokażemy Ci kodu do wpisania. Postępuj zgodnie z instrukcjami i gdy jesteś gotowy uruchom program.",0,"Współrzędne geograficzne",0,0,0,0,0,0,0,0,0,"Pobiera wartość, określającą czy utwór jest chroniony prawami DRM",0,0,0,0,"Pobiera wyśrodkowane położenie poziome w pikselach",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Pobiera wysokość w pikselach","Pobiera wysokość obrazu z aparatu w pikselach.",0,0,0,0,0,0,0,0,0,0,0,0,"Pobiera głośność dźwięku od 0 (cicho) do 1 (bieżąca głośność)",0,0,0,0,0,"Pobiera szerokość w pikselach","Pobiera szerokość obrazu z aparatu w pikselach.","Pobiera położenie y w pikselach","Pierwsze kroki",0,"Globalne zmienne w bieżącym skrypcie",0,0,0,0,0,0,"Skąd wiesz o Touch Develop?",0,"Importuj kod","Importuj skrypt z pliku",0,0,0,0,0,0,0,0,0,0,0,0,0,"Interakcja z bibliotekami uruchomieniowymi","Elementy oznaczone symbolem * są wymagane.",0,"Dołącz do grupy",0,0,0,0,0,0,0,0,0,0,"Sprawia, że wszystkie sprite'y odbijają się od krawędzi ekranu","Mapy, z lokalizacji do adresu i odwrotnie",0,"Ja",0,0,0,0,0,"Mnoży liczby",0,0,0,0,0,0,0,0,"Nowe skrypty",0,"Nowe lub wbudowane kolory",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Numery telefonów, wibracja, itp...",0,"Wybiera losowy kolor","Zdjęcia i muzyka...",0,"Zagraj, zatrzymaj lub wznów piosenki..",0,0,0,"Zapoznaj się z naszymi Zasadami zachowania poufności informacji.","Proszę czekać...",0,0,0,0,0,0,0,0,0,"Publikowanie wymaga ",0,0,0,"Odczytuje treść odpowiedzi jako falę dźwiękową","Możesz otrzymywać powiadomienia e-mail informujące o przeglądaniu/komentowaniu Twoich skryptów przez innych użytkowników, robieniu przez nich zrzutów ekranu z Twoimi skryptami, przesłaniem odpowiedzi na Twoje komentarze lub też wydarzeniach dotyczących Twoich subskrypcji.",0,"Odejmuje wartość od bieżącego życia.","Odpowiedz...","Zgłoś/usuń","Zmienia rozmiar obrazu do zadanego rozmiaru w pikselach",0,"Zwraca kopię obrazu",0,0,"Zwraca datę, która dodaje do wartości tego wystąpienia określoną liczbę miesięcy.","Zwraca datę, która dodaje do wartości tego wystąpienia określoną liczbę lat.",'Zwraca losową liczbę całkowitą pomiędzy podanymi wartościami "min" i "max".',0,0,0,0,0,"Zwraca kolor duszka.",0,"Zwraca wartość true, jeśli bieżąca instancja jest bezużyteczna",0,"Uruchomia akcję inline.",0,0,"Aktualizacje skryptów","Skrypty tego użytkownika:",0,"Wyszukiwanie i przeglądanie stron internetowych...","Szukaj w kodzie...","Szukaj wszędzie","Szukaj tutaj...",0,0,"Szukaj...",0,0,0,"Zobacz więcej",0,0,0,"Ustawia afiniczne przekształcenie macierzy 3x3 stosowane do tablicy.",0,0,0,0,"Ustawia obraz tła","Ustawia wyśrodkowane położenie poziome w pikselach","Ustawia aktualne punkty życia.",0,"Ustawia wysokość w pikselach","Ustawia położenie w pikselach",0,"Ustawia głośność dźwięku od 0 (cicho) do 1 (bieżąca głośność)",0,0,0,0,0,"Ustawia szerokość w pikselach","Ustawia prędkość x w pikselach/s","Ustawia przyspieszenie y w pikselach/s^2","Ustawia położenie y w pikselach","Ustawia prędkość y w pikselach/s",0,"Ustawienia",0,"Pokaż błędy w edytorze, jeśli skrypt używa interfejsu API, który uniemożliwia uruchomienie go na tych platformach.",0,0,"Poziom umiejętności:{0}     ",0,0,0,0,0,0,0,"Odejmuje liczby","Wsparcie dla interaktywnych samouczków.","TD100: wstaw tutaj {0}","TD101: nie mogę znaleźć '{0}'","TD109: nie można wykonać przypisania do tego elementu","TD111: nie można wykonać przypisania z {0} do {1}","TD112: nie można znaleźć właściwości '{0}' w {1}","TD115: nadmierne parametry dostarczone do {0}","TD116: za mało parametrów dla {0}","TD118: warunek 'if' potrzebuje {1}",0,0,"TD130: granica 'for' potrzebuje {1}","TD144: chyba brakuje tutaj '{0}', spróbuj to dodać","TD145: chyba brakuje tutaj operatora (np. '+', '(' lub',')","TD147: nie oczekiwaliśmy tutaj '{0}'",0,0,"TD152: nieoczekiwane ')'","TD154: coś musi być po operatorze",0,"Ucz Kreatywnego Programowania!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Ten skrypt używa następujących funkcji: ",0,0,"Aby dodać dane strony, utwórz zmienną lokalną i kliknij 'promuj do pola'.",0,0,0,"tłumaczenia, mowa do tekstu...","Tłumaczenia Microsoft® Translator; dotknij, aby zobaczyć wersję oryginalną...",0,"Zmieniaj kod, aż pojawi się znak powodzenia. Jeśli utkniesz, kliknij na pasku samouczka.",0,0,"Samouczki","Twitter",0,"Wpisz, aby wyszukać...",0,0,"widżet UI",0,0,"Aktualizuje zdjęcia na obrazku (jeśli jest obrazek z wielu zdjęć)",0,"Wrzuć Zdjęcie","Wrzuć Dźwięk","Użytkownicy",0,0,"Dostosujemy edytor do Twojego poziomu umiejętności kodowania. Poziom umiejętności możesz później zmienić w Centrum.","Jak dobra jest Twoja znajomość programowania?","Jaki zawód wykonujesz?","Nowości","W jakim miejscu świata się znajdujesz?","Zapisuje inny obraz w danej lokalizacji. Przezroczystość może mieć wartość od 0 (przezroczyste) do 1 (nieprzezroczyste).",0,"YouTube",0,0,"Twoja nazwa użytkownika w serwisie GitHub.","Twoja nazwa użytkownika w portalu Minecraft.","Zasoby artystyczne pojawią się tutaj",0,"Twój kanał pojawi się tutaj","Twój adres e-mail nie został jeszcze zweryfikowany. Sprawdź skrzynkę odbiorczą.","Twoje pełne imię i nazwisko",0,0,0,"Twój skrypt pojawi się tutaj","Twoja nazwa użytkownika na Twitterze, na przykład @touchdevelop.","kilka sekund temu","funkcja","zmienna globalna","minutę temu","strona","o pokryciu","o wnioskach","o profilu","o tobie",0,0,"zgłoszenia nadużyć",0,0,0,0,0,"dodaj",0,0,0,0,0,0,0,0,"dodaj parametr wejściowy",0,"dodaj wiersz poniżej","dodaj nowe",0,0,"dodaj parametr wyjściowy",0,0,0,0,0,0,0,"niesamowity, zadziwiający, zdumiewający, inspirujący, klasyczny, fajny, ciekawy, wyjątkowy, ekskluzywny, nadzwyczajny, wspaniały, fantastyczny, wielki, ",0,0,"godzinę temu",0,0,0,0,0,0,0,"sztuka","zasoby artystyczne","przypisanie",0,"autor",0,0,"wstecz",0,"backspace","usuńmy to",0,0,"baza","początkujący",0,0,0,"pusty",0,0,0,"pusta gra",0,0,0,0,0,0,0,"zatrzymaj się w debugerze","punkt przerwania",0,0,0,0,0,0,"anuluj",0,0,"zmień (ponownie) na lokalną",0,"kanały",0,0,0,0,0,0,0,0,0,0,0,"wybierz poziom swoich umiejętności kodowania",0,0,"wyczyść",0,"klonuj",0,"sesje chmurowe","kod",0,"programista","kolor nr{0}",0,0,"komentarze",0,"instrukcja warunkowa",0,0,0,"kontynuuj",0,"kopiuj",0,"pokrycie","utwórz","utwórz nowy parametr",0,0,0,0,0,"tworzenie skryptu",0,"aktualne wyrażenie","dostosuj grafikę!","wytnij",0,0,"debuguj","kropka dziesiętna",0,"usuń","usuń lokalne dane i uprawnienia",0,"zdegraduj do zmiennej",0,"opis",0,0,"szczegóły",0,0,0,0,0,0,"odrzuć","wyświetl wartość",0,0,0,0,0,"gotowe!","edytuj","else if","e-mail","e-mail (prywatny)","powiadomienia e-mail i push","niezweryfikowany adres e-mail, {0}",0,0,0,0,0,0,0,"wydarzenia",0,"eks: ",0,"doskonale; świetna robota; niesamowite; spoko; brawo; wybitnie; dokładnie tak",0,"wyjście","ekspert",0,0,0,0,"rozszerz",0,0,0,"wyodrębnij do var","znajdź odniesienia","ukończone","napraw","obserwuj samouczek w edytorze",0,"rozwidlenia","funkcja",0,0,"funkcja, zmienna, biblioteka, ...","płeć","pobierz swój certyfikat Godzinka z kodem™",0,"nazwa użytkownika w serwisie github",0,"globalne zastąpienie","zmienna globalna","globalne zm.",0,"wróć do kodowania! jeszcze {0}★",0,"idź do",0,"aby wrócić do poprzedniego kroku","cel:",0,0,"serca","pomoc",0,"ukryj","historia",0,"skąd o nas wiesz","chcę to uruchomić","moja godzina Godzinka z kodem™ jest skończona",0,0,0,0,0,0,0,0,0,0,0,0,"magiczny, wspaniały, cudowny, osobliwy, fenomenalny, specjalny, spektakularny, zaskakujący, wspaniały, super-fajny, ",0,0,"wstaw komentarz","wstaw instrukcję","wstaw {0}","wgląd",0,0,"do lokalnej",0,"problemy",0,0,0,0,"nadal edytuj",0,0,"uczymy się",0,"dowiedz się więcej",0,0,0,"do dzieła!","zaczynajmy!","bib","biblioteki","biblioteka",0,0,"załaduj więcej",0,0,0,0,0,0,0,0,"ładowanie...",0,"lokalizacja",0,"negacja logiczna","dzienniki",0,0,0,"zarządzaj danymi","może później",0,0,0,"nazwa użytkownika w portalu minecraft",0,0,"więcej","więcej ","więcej ustawień","rusz kursor","przesuń w lewo",0,"przesuń kursor w lewo","przesuń kursor w prawo","moja sztuka",0,0,0,"moje skrypty",0,0,0,0,"trzeba to usunąć","trzeba edytować coś jeszcze","zaprzeczenie",0,0,0,0,"nowa linia",0,0,0,"nowa instrukcja poniżej","nowa zmienna",0,"następne samouczki...","nick",0,"brak grafik opublikowanych przez tego użytkownika","brak komentarzy, kliknij, aby jakieś napisać!","brak skryptu rozgałęzienia, instalacji, edycji lub ponownej publikacji do utworzenia!","nie ma serc. możesz jedno dodać po zainstalowaniu skryptu!","nie załadowano obrazów","brak poprzedniego adresu e-mail",0,"brak tagów, kliknij, aby jakieś dodać!",0,0,0,"powiadomienia",0,"teraz możesz wybrać właściwość {0}; samo z siebie to nic nie zrobi","teraz możesz wybrać właściwość",0,"wpisywanie liczb",0,"zawód",0,"dostępne offline",0,"ok, startujemy!","online",0,0,0,"ogólne",0,"strony",0,"analizowanie tekstu skryptu",0,"wklej","pauza",0,0,0,"obraz",0,0,0,"zagraj ponownie",0,"czekaj...","wtyczki","podgląd","drukuj",0,"prywatne",0,"profil prywatny","profil","znajomość programowania",0,0,0,"nick publiczny","profil publiczny","publikuj",0,0,0,"ściągnij zmiany","wyciągnij na poziom bloku",0,"uruchom od nowa",0,"tylko do odczytu","prawdziwe imię i nazwisko","prawdziwe imię (prywatne)","otrzymywanie biuletynu e-mail","otrzymywanie powiadomień e-mail","nazwa rekordu:",0,"zwykła klawiatura",0,"usuń",0,"usuń obrazek",0,0,"zmień nazwę","powtórz n razy","iteruj po kolekcji","powtórz klauzulę while",0,"zastąp wszystko w skrypcie","zamień obraz",0,0,0,"zgłoś nadużycie",0,"przywróć opublikowaną wersję",0,"cofnij ","uruchom","uruchom główny",0,"uruchom z instrumentacją","zapisz",0,"zapisywanie...","szkoła","ekrany","zrzut ekranu",0,"skrypt","właściwości skryptu",0,0,"szukaj grafiki","szukaj grafik","szukaj tutaj {0}",0,"wyszukiwanie...",0,"wybierz","wybierz więcej","wybierz ten wiersz",0,0,0,"ustaw nazwę zmiennej lokalnej","ustaw nazwę",0,"ustaw program obsługi wywoływany po kliknięciu tablicy",0,0,0,0,"ustawienia","udostępnij",0,"pokaż, jak przeprowadzić tę czynność",0,"wybrane","zaloguj",0,0,"wyloguj","logowanie...",0,"uprość",0,"zatrzymaj iterację",0,"społecznościowo",0,"dźwięk",0,0,"przedziel",0,"zacznij od nowa",0,"trwa rozpoczynanie...",0,"wejdź w","wyjdź","przejdź nad",0,"stop",0,"zatrzymaj funkcję","zatrzymaj pętlę","zapisz w var","przechowaj wartość w zmiennej","napis",0,"odpakuj '{0}'",0,0,0,"nadprzyrodzony, niewiarygodny, nieziemski, unikatowy, bezprecedensowy, dziwny",0,0,0,0,0,0,0,0,0,"tagi",0,0,0,0,0,0,0,"kliknij tutaj","kliknij tutaj, aby uzyskać instrukcje","kliknij tutaj, aby uruchomić aplikację","kliknij, aby zmienić kolor",0,0,0,0,"warunki użytkowania","test",0,"testy",0,0,0,"hub",0,0,0,0,"ten skrypt jest biblioteką",0,"czas i daty","do kodu","aby kontynuować","na zmienną globalną","przełącz punkt przerwania","najlepsze & nowe",0,0,0,0,0,0,0,"spróbuj jeszcze raz!","przekształć na","postęp przerabiania samouczka","samouczek: ","samouczki","nazwa użytkownika na twitterze","typ: ","typ: {0}",0,0,0,"cofnij",0,0,0,"odinstaluj",0,0,0,0,0,0,"aktualizacja",0,0,0,0,0,0,"załaduj",0,"załaduj zrzut ekranu",0,0,0,0,"url",0,0,0,0,0,0,"wyświetl jako skrypt","wyświetl/edytuj nazwę, e-mail, ...",0,"tapeta","'{0}' to biblioteka; {1}","mamy tutaj {0:a}; chcesz coś z nim zrobić?",0,0,0,"potrzebujemy innej klawiatury",0,"trzeba jeszcze coś zmienić","poprowadzimy Cię krok po kroku",0,0,0,0,"witryna internetowa",0,"adres url witryny internetowej",0,0,0,0,0,"rok urodzenia",0,0,"udało się!",0,"{0} ({1} linia{1:s})","Dni temu: {0} {0:s}",0,0,0,0,"Godzin temu: {0} {0:s}","{0} min{0:s} temu","{0} mies.{0:s} temu",0,0,0,"{0} s{0:s} temu",0,"Lat temu {0} {0:s}",0,0,"● Zaloguj"]),!0):"pt"==e?(TDev.Util._setLanguageArray(t,["   Talvez: {0} ({1} em '{2}')\n","  -> Linha {2} ('{1}'), erro: {0}"," -- uma variável local"," [class]"," [oculto]"," [override]"," para trás"," para frente"," horas "," minutos "," de "," segundos "," enviando alterações"," a aguardar pelo servidor","### código fonte completo","Chaves como em JavaScript, todas as ferramentas, para desenvolvedores experientes!","função “atômica”","só pode aceder-se à 'box' na página de exibição do código","não pode aceder-se à 'box' em modo de layout HTML",0,"só se pode aceder ao 'html' em modo de layout HTML","'{0}' espera {1} aqui","'{0}' tem uma assinatura não suportada","'{0}' não está implementada","'{0}' é obsoleto e não está implementado","'{0}' é obsoleto e não deve ser usado",0,"'{0}' retorna um '{1}'; {2}","'{0}' devolve valores de {1}; pode usar o botão 'store em var' para os guardar em locais",0,0,0,0,0,0,0,", em vez disso, obteve {0}",", obteve {0}",0,0,0,"... há mais...","// comentário",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>esta linha está perfeita!</b> vamos continuar","<h3>carregando configurações atuais...</h3>","<h3>sem mais dicas!</h3>",0,"<h3>{0:q} exige conexão</h3>",0,0,0,0,0,0,0,0,0,"Um aplicativo de pi do Minecraft.","Um aplicativo Minecraft.","Um aplicativo de creeper do Minecraft.",0,0,0,0,0,0,0,0,0,0,"Uma cor constante",0,0,0,0,0,0,0,0,0,"Uma variável global",0,0,0,0,0,0,0,0,0,0,0,"Um número (possivelmente negativo e/ou fração)","Um número constante",0,0,0,"Uma imagem","Um trecho de texto","Um aplicativo de pixel art.",0,0,0,"Uma referência a um script de biblioteca",0,0,0,0,0,0,0,0,0,"Um som",0,0,0,0,"Uma estrutura de dados do usuário","Uma tabela de linhas definidas pelo usuário",0,0,0,0,"Um temporizador","Um nome exclusivo de exibição para seu perfil público (pelo menos 8 caracteres)",0,0,"Uma interface do usuário",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Adicionar uma ação que é disparada para cada quadro de exibição",0,"Adicione o sprite para definir e remover do conjunto de velho. Retorna true se a sprite foi no antigo conjunto e não no conjunto de novo.","Adicione o sprite para definir. Retorna true se o sprite já não estava no conjunto.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Adiciona números",0,"Agrega valor à pontuação atual.",0,"Avança o enumerador e retornar true se há um outro elemento.","Após a interrupção do script, procure o código para ver as informações coletadas.","Todos os meus grupos","Todos os meus scripts",0,0,0,0,0,0,0,"Um aplicativo em branco usando páginas e caixas.","Um aplicativo em branco que usa a biblioteca de rascunhos.","Uma página de documentação vazia.","Um tutorial interativo vazio.","Um plugin de editor script vazio.","Um script em branco, que não faz nada.",0,0,"Uma tabela indexada de linhas definidas pelo usuário",0,"Um aplicativo de tartaruga.","Aplica `conversor` a todos os elementos da coleção de entradas e retorna uma coleção de resultados",0,"Tem certeza de que deseja parar de seguir o tutorial?","Operações aritméticas e bit a bit em inteiros de 32 bits","Arte desse usuário:","Perguntar ou exibir valores na tela...","Anexe dados a outros objetos","Código de texto clichê para criar um jogo.",0,0,0,0,0,0,"Alterar o nível de habilidade!","canais","Verifica que o quadro é a mesma instância do outro quadro.",0,0,0,"Limpe todos os eventos em fila relacionados com esse quadro","Limpar a imagem do plano de fundo","Limpar a câmera do plano de fundo",0,0,"Código gerado quando ocorre uma interação do usuário","Código que executa uma tarefa específica","Compara números para igualdade","Compara números para menos",0,"Compara números para mais",0,0,0,0,"Calcula o máximo dos valores","Calcula o mínimo dos valores",0,"Concatena dois trechos de texto",0,0,0,"Converte o valor em uma estrutura de dados json.",0,0,"Converte na hora local",0,0,"Ajudantes de correção",0,"Criar o código","Criar Grupo","Criar Script","Criar um obstáculo de linha com certo ponto de início, de certa largura e altura. Elasticidade é 0 para grudento e 1 para rebatimento completo.","Crie uma nova coleção de sprites.","Criar um novo sprite de elipse.","Crie uma nova forma de imagem.","Criar um novo sprite de retângulo.","Criar um novo script",0,0,0,"Cria um sprite âncora.","Crie um valor inválido deste tipo de objeto","Criar canal",0,"Criar valores inválidos","Cria paredes em torno do quadro a uma dada distância.","Criar seus próprios aplicativos",0,0,"Cria um quadro de jogo vazio e mostra-o na tela.","Cria um novo jogo de tabuleiro no modo paisagem. Em dispositivos rotativos tomará a tela inteira quando Postado.","Cria um novo jogo de tabuleiro no modo retrato. Em dispositivos rotativos tomará a tela inteira quando Postado.","Cria uma nova camada na cena. A distância determina a ordem de renderização e quão rápido a camada se move","Cria um novo sprite de largura 100 com a imagem fornecida.",0,"Cria uma instância de gamepad inválida",0,0,"Dispositivo atual",0,"Ponto de toque atual","Desvincula o manipulador do evento.",0,"Exibe a imagem na parede; você precisará chamar 'atualização na parede' mais tarde se quiser que as alterações sejam refletidas.",0,0,0,"Exibe o estado do gamepad no mural","Divide números","Fazer com que as formas se sobreponham",0,"Documentos","Não se esqueça de rolar para baixo na tela e tocar em 'salvar' quando terminar de editar!","Arrastar e soltar blocos, interface simplificada, ótimo para iniciantes!","Traça uma linha entre dois pontos","Desenha alguma borda de texto com uma determinada cor e tamanho de fonte","Edite código como texto, mais opções, para aspirantes a criadores de aplicativos!",0,"Habilitar ou desabilitar a sincronização da nuvem para a sessão atual do","Insira um nome",0,"Insira algumas informações sobre você","Insira o URL de seu website pessoal (Exemplo: http://www.northwindtraders.com)","Insira o código de convite",0,"Os eventos não podem ter parâmetros.","Todos podem ver sua foto na Internet para sempre. ",0,0,"Extensões","Facebook","Preenche uma elipse com uma determinada cor","Preenche um retângulo com uma determinada cor","Velocidade de toque final após o fim do toque","Para scripts publicados, veja também a guia da página de scripts publicados para encontrar dados de cobertura e perfis coletados de forma anônima.","Fóruns","A partir de agora, não mostraremos mais o código a ser escrito. Siga as instruções e toque em executar quando achar que terminou.","Funções no script atual",0,0,0,0,0,"Obtém uma captura de tela dos estados do gamepad (se conectado ao navegador). Vazio se não tiver suporte ou nenhum gamepad for conectado.",0,0,0,"Obtenha um valor indicando se o quadro é projetado para ser exibido em modo paisagem","Obterá um valor se a música for protegida por DRM","Obtém o valor x e y dos eixos selecionados.",0,0,"Obtém a cena do plano de fundo","Obtém a posição horizontal do centro em pixels",0,"Obtém a cor com valor ARGB igual a #00FFFFFF","Obtém a cor com valor ARGB igual a #FF000000","Obtém a cor com valor ARGB igual a #FF0000FF","Obtém a cor com valor ARGB igual a #FF008000","Obtém a cor com valor ARGB igual a #FF00FFFF",0,"Obtém a cor com valor ARGB igual a #FF800080",0,0,0,0,"Obtém a cor com valor ARGB igual a #FFFF0000","Obtém a cor com valor ARGB igual a #FFFF00FF","Obtém a cor com valor ARGB igual a #FFFFA500",0,"Obtém a cor com valor ARGB igual a #FFFFFF00","Obtém a cor com valor ARGB igual a #FFFFFFFF",0,0,0,0,"Obtém o primeiro gamepad conectado disponível",0,"Obtém o identificador do gamepad",0,"Obtém a altura em pixels","Obtém a altura da imagem da câmera em pixels.",0,0,0,0,0,0,0,"Obtém o número de elementos",0,"Obtém o índice do jogador","Obtém o valor pressionado de um botão. Retorna 0 se o botão não for encontrado.","Obtém a propriedade que habilita ou desabilita a gradientes","Obtém o volume para sons de 0 (silencioso) a 1 (volume atual)","Obtém a contagem de sprites","Faz o sprite ser indexado por i",0,"Obtém a data/hora dessa captura de tela",0,"Obtém a largura em pixels","Obtém a largura da imagem da câmera em pixels.","Obtém a posição y em pixels","Introdução",0,"Variáveis globais no script atual",0,0,0,0,0,0,0,0,"Código de importação","Importar um script de um arquivo","Importa uma representação JSON do conteúdo.","Importa um pacote de dependente que pode ser versionado. Gerenciadores de pacotes podem ser node. js npm, Bower, Apache cordova, Python Pip e plugins TouchDevelop. importações ' bower ' e ' cliente ' não estão disponíveis dentro do domínio touchdevelop.com.","Importações, o código de arquivos hex criado para o BBC micro: bit ou .jsz arquivos salvos. Dica: você também pode arrastar e soltar os arquivos no editor para importá-los!","No modo debug, o quadro exibe a velocidade e outras informações de sprites","Indica se o botão é pressionado. Retorna falso se o botão não for encontrado.","Indica se as notificações do programa devem ser mostradas ao usuário. Padrão é true.","Indica se os dados do gamepad são idênticos","Indica se o gamepad ainda está conectado.",0,0,0,0,"Inserir '{0}' {1}",0,"Itens marcados com * são obrigatórios.","dados JSON","Ingressar no grupo","Último ponto final de toque","Último ponto inicial de toque",0,0,0,0,0,"Torna as atualizações visíveis.",0,0,"Faz com que todos os sprites saltem na borda da tela","Mapas, localização de endereço, endereço de localização","Bom em matemática, abs, máx, ...","Me",0,"Usuário Minecraft",0,0,"Move o sprite em direção a outro.","Multiplica números",0,0,0,0,0,0,0,0,"Novos Scripts",0,"Cores novas ou inseridas",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Números de telefone, vibrar, etc...",0,"Escolhe uma cor aleatória",0,0,0,0,0,"Por favor, vá para as configurações no cubo principal para desativar o modo off-line.","Examine nossa Declaração de Privacidade",0,"Publicação de um comentário...",0,0,0,"Ação privada não tem um botão run. ","Solicita que o usuário forneça um número","Solicita ao usuário para escolher uma seqüência de caracteres de uma lista. Retorna o índice selecionado.","Publicar script",0,"A publicação está sujeita aos nossos ","Publicando script...","Aumentado quando a animação começou a tocar","Aumentado quando a animação parou a tocar","Lê o corpo de resposta como som wave","Receba notificações quando outras pessoas avaliam/tiram uma captura de tela/comentam seus scripts, ou respondem um de seus comentários, ou quando ocorrem eventos relacionados às suas assinaturas.","Lembre-se: todos poderão ver o seu script se você publicá-lo; certifique-se de que ele não contém senhas ou informações pessoais.","Remove o valor da vida atual.","Responder...","Relatar/Excluir","Redimensiona a imagem de acordo com o tamanho fornecido em pixels",0,"Retorna uma cópia da imagem","Retorna uma cópia dessa seqüência de caracteres convertido para minúsculas, usando as regras capitalização da cultura atual.","Retorna uma cópia dessa seqüência de caracteres convertidos em maiúsculas, usando as regras capitalização da cultura atual.","Retorna uma data que adiciona o número especificado de meses ao valor dessa instância.","Retorna uma data que adiciona o número especificado de anos ao valor dessa instância.","Retorna que um número aleatório integral entre 'min' e 'max' incluído.",0,0,0,0,0,0,"Retorna true se o sprite não está oculto","Retorna verdadeiro se a instância atual é inútil",0,"Execute a ação de inline.",0,0,"Atualizações de script","Scripts desse usuário:",0,"Pesquisar e navegar na web...","Pesquisar código...","Pesquisar tudo","Pesquisar aqui...",0,0,"Pesquisar...",0,0,0,"Ver Mais",0,0,"Ativa ou desativa o set gradient","Define a transformação de matriz offline 3x3 aplicada à parede.",0,"Define a câmera de fundo","Define a cor de fundo","Define a cor de fundo.","Define a imagem de fundo","Define a posição horizontal do centro em pixels","Define os pontos da vida atual.","Define a resistência dos sprites como uma fração da perda de velocidade entre 0 e 1","Define a altura em pixels","Define a posição em pixels",0,"Define o nível de volume para sons de 0 (silencioso) a 1 (volume atual)","Define a velocidade em pixels/segundos","Define a cor do sprite.","Define o vetor de aceleração uniforme para objetos no quadro como pixels/sec^2",0,0,"Define a largura em pixels","Define a velocidade x em pixels/s","Define a aceleração y em pixels/s^2","Define a posição y em pixels","Define a velocidade y em pixels/s",0,"Configurações","Compartilhe-o com essa url:","Mostrar erros no editor se o script usar APIs que impeçam sua execução nessas plataformas.","Mostra o quadro no mural.",0,"Nível de habilidade: {0}     ",0,0,0,0,0,"Para e limpa todos timers de cada quadro",0,"Subtrai números",0,"TD100: inserir {0} aqui","TD101: não é possível encontrar '{0}'","TD109: não é possível fazer essa atribuição","TD111: não é possível atribuir de {0} a {1}","TD112: não consigo encontrar a propriedade '{0}' em {1}","TD115: parâmetro(s) excessivo(s) fornecido(s) para {0}","TD116: não foram fornecidos parâmetros suficientes para {0}","TD118: condição 'se' quer {1}","TD119: preciso de algo para interagir",0,"TD130: associado de 'para' quer {1}","TD144: parece que está faltando '{0}', tente adicioná-lo","TD145: parece que está faltando um operador (como '+', '(' ou ',') aqui","TD147: não esperávamos '{0}' aqui","TD150: não pode chamar antes de '('","TD151: unclosed ' ('","TD152: inesperado ')'","TD154: o operador precisa de alguma coisa após isso","TD155: '{0}' não pode ser atribuída a uma variável local","Ensine o Creative Coding!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Este script usa os seguintes recursos: ",0,"Este tutorial usa dados de nuvem compartilhados com outros usuários.","Para adicionar dados de página, crie uma variável local e toque em 'promover para campo'.",0,0,0,"Tradução, fala em texto,...","Traduções por Microsoft ® Translator, toque para ver o original...","Verdadeiro, se o quadro for tocado","Tente ajustar seu código até funcionar. Se tiver dificuldade, toque na barra do tutorial.",0,0,"Tutoriais","Twitter","Digite para pesquisar online...","Digite para pesquisar...",0,"Tipos, ordem e número de parâmetros de evento não podem ser editados.","Widget de interface do usuário",0,"Atualize as posições dos sprites no quadro.","Atualiza a imagem em uma forma de imagem (se não for uma forma de imagem)","Atualiza o texto em um sprite de texto (se for um sprite de texto)","Carregar imagens","Carregar som","Usuários",0,"Precisamos de mais opções","Adaptaremos o editor ao seu nível de habilidade em codificação. Você poderá alterar seu nível de habilidade posteriormente no hub.","Qual seu nível de conhecimento de programação?","Qual é a sua ocupação?","O que há de novo","Onde você está?","Grava outra imagem em um determinado local. A opacidade varia de 0 (transparente) a 1 (opaco).",0,"YouTube",0,0,"Seu usuário GitHub.","Seu usuário Minecraft.","Sua arte aparecerá aqui",0,"Seu canal aparecerá aqui","Seu endereço de email ainda não foi verificado Verifique sua caixa de entrada.","Seu nome completo",0,0,0,"Seu script aparecerá aqui","Seu handle do twitter, como @touchdevelop.","alguns segundos atrás","uma função","uma variável global","um minuto atrás","uma página","sobre cobertura","sobre percepções","sobre perfil","sobre você","abuso",0,"relatar abusos",0,0,0,"acesse o campo {0}",0,"adicionar","adicionar um novo...",0,"adicionar uma ação que é disparada para cada quadro de exibição.",0,0,0,0,0,"adicionar parâmetro de entradas","adicionar linha acima","adicionar linha abaixo","adicionar novo",0,0,"adicionar parâmetro de saídas",0,0,0,0,0,"todas as APIs","permitir","excelente, surpreendente, impressionante, espantoso, fenomenal, de tirar o fôlego, clássico, legal, curioso, diferente, excepcional, exclusivo, extraordinário, fabuloso, fantástico, esplêndido, ótimo, ",0,"uma definição de tipo de função","uma hora atrás",0,0,0,0,0,"aplicativos",0,"arte","recurso de arte","atribuição",0,"autor",0,0,"voltar",0,"backspace","usar backspace nisto",0,0,"base","iniciante","iniciantes",0,"vincula ao script:","em branco","aplicativo em branco","creeper em branco","documentos em branco","jogo em branco","minecraft em branco","minecraft pi em branco","pixel art em branco","rascunho em branco","plugin de script em branco","tartaruga em branco","tutorial em branco","quebrar no depurador","ponto de interrupção",0,0,0,0,0,0,"cancelar",0,0,"alterar (voltar) para local","alterar conteúdos",0,"verifica se a referência não foi definida",0,0,0,"escolha uma imagem (menos que 1 MB, menor que 2048x2048)",0,0,0,0,0,0,"escolha seu nível de habilidade em codificação","escolha...",0,"limpar","área de transferência","clonar",0,"sessões de nuvem","código","codifique a linha de objetivo","codificador","cor nº{0}","cor: {0}","comentado","comentários",0,"condicional","conectado",0,0,"continuar",0,"copiar","copiar seleção","cobertura","criar","criar um novo parâmetro",0,"crie código de com...","criar códigos",0,"cria uma coleção vazia de objetos","criação de script",0,"expressão atual","personalize a arte!","recortar","cortar seleção","banco de dados","depurar","ponto decimal",0,"excluir","excluir dados locais e permissões","excluir seleção","rebaixar para var","negar","descrição","descrição (ajuda a pesquisa)",0,"detalhes","você queria usar este valor?","diff curr","diff prev","desativar o login","desativado",0,"ignorar","valor de exibição","exibe o objeto na rede",0,0,0,"pronto","pronto!","editar","e se","email",0,"email e notificações por push",0,0,0,0,"insira o código de convite","insira este código","erros",0,"eventos",0,"ex: ",0,"excelente; ótimo trabalho; incrível; legal; você é demais; bom trabalho; extraordinário; você conseguiu; é isso aí",0,"saída","especialista",0,"exportar","exportar uma representação JSON dos conteúdos","exportado desta biblioteca","estender",0,"extrair seleção em função",0,"extrair para var","encontrar referências","concluído","corrigir","seguir tutorial no editor","para o grupo","bifurcações","função","nome da função","tipos de função","função, variável, biblioteca...","gênero","obter meu certificado da Hora do Código™","obtém o timer que dispara para cada quadro de exibição.","usuário github","dado ♥","substituição global","variável global","variáveis globais","voltar","voltar para a codificação! {0}★ para ir","voltar...","ir para","ir para a lista de coisas em seu script","ir para a etapa anterior","objetivo:","grupo","grupos","corações","ajuda",0,0,"histórico","Viva! Seu script está publicado","como encontrou","quero que seja executado em","terminei com meu Hora do Código™","arte do ícone: {0}",0,"se tiver dificuldade, toque na linha de objetivo",0,"importação somente pode ser usada em um contexto de roteiro","código de importação",0,"importar valores de campo de um objeto JSON","importações",0,0,0,"incrível, mágico, maravilhoso, maravilhoso, alucinante, estarrecedor, milagroso, peculiar, fenomenal, radical, formidável, especial, espetacular, vistoso, deslumbrante, superlegal, ",0,"inserir","inserir comentário","inserir instrução","inserir {0}","percepções",0,"instalando e carregando o script","no local",0,"questões","ingressar em um grupo","ingressar no grupo","selva","basta digitar os termos de pesquisa!","continuar editando","conhecido aqui como:",0,"aprender","saiba mais sobre publicação","saber mais","saiba mais sobre {0}","deixar tutorial","vamos mudar isso","vamos fazer isso!","vamos começar!","lib","bibliotecas","biblioteca","nome da biblioteca","referência de biblioteca","carregar mais","carregar mais respostas","carregando",0,"carregando comentários para /{0}...",0,"carregando respostas...","carregando o script","​carregando tutorial​","carregando...","local","local",0,"negação lógica","logs","principal",0,"makers","gerenciar dados","talvez mais tarde","eu",0,0,"usuário minecraft",0,0,"mais","mais ","mais configurações","mover cursor","mover para a esquerda","passe para a próxima etapa","mova o cursor para esquerda","mova o cursor para a direita","minha arte",0,0,0,"meus scripts","um nome diferente é necessário aqui","necessário uma string diferente aqui","um novo campo aqui é necessário","precisa de um parâmetro","é necessário excluir isso","é necessário editar em algum outro local","negação",0,0,0,0,"nova linha",0,0,0,"novo stmt abaixo","nova variável",0,"próximos tutoriais...","apelido",0,"nenhuma arte publicada por este usuário","nenhum comentário; toque para escrever algum!","nenhum script de bifurcações, instalação, edição e nova publicação para criar um!","nenhum coração. Você pode adicionar um desde que instale um script!","nenhuma imagem carregada ainda",0,0,"nenhuma marca; toque para adicionar alguma!",0,0,0,"notificações",0,"agora você pode selecionar uma propriedade de {0}; ele não faz nada sozinho","agora você pode selecionar uma propriedade nele","número","entrada de número",0,"ocupação","de um objeto","offline disponível","ok","ok, vamos lá!","online",0,"ou toque para obter ajuda","outros","visão geral",0,"páginas",0,"analisando o texto do script",0,"colar","pausar",0,"iniciador do jogo de física","escolha um modelo de script...","imagem","nome da imagem","nome da imagem (mínimo de 4 caracteres)","url da imagem","jogue novamente",0,"aguarde...","plugins","visualizar","imprimir",0,"privado","função privada","perfil privado","perfil","conhecimento de programação",0,"promover para dados","promover a campo","apelido público","perfil público","publicar","publicar como oculto",0,"publicado","extrair alterações","extrair para nível de bloco",0,"executar novamente","leia mais...","somente leitura","nome real",0,"receber boletins de notícias por email","receber notificações por email","registrar nome:",0,"teclado normal","recarregando script​","remover",0,"remover imagem","remove fundo branco (bom para sprites de jogos)",0,"renomear","repetir n vezes","repetir na coleção","repetir enquanto","substituir tudo na função","substituir tudo no script","substituir imagem","replicado","replicado ",0,"denunciar abuso",0,"reverter para versão publicada",0,"retroceder ","executar","executar principal",0,"executar com instrumentação","salvar","salvo","salvando...","escola","telas","captura de tela","captura de tela de {0}","script","propriedades do script",0,"pesquisar","pesquisar arte","pesquisar imagens de arte","pesquisar {0} aqui","pesquisar modelos","pesquisando...","ver mais opções","selecionar","selecionar mais","selecionar essa linha","selecione o tipo deste {0}",0,0,"definir nome da variável local","definir nome","definir o manipulador que é invocado quando o quadro é deslizado","definir o manipulador que é invocado quando o painel é tocado","definir o manipulador que é invocado quando o quadro é tocado","definir o manipulador que é invocado quando o quadro é solto","define todos os campos para os valores padrão","configuração salva","configurações","compartilhar",0,"mostrar como completar esta atividade","mostrar mais opções","demonstração","entrar",0,0,"sair","entrando...",0,"simplificar","nível de habilidade salvo","ignorar a iteração",0,"social",0,"som",0,"arte da tela inicial: {0}","dividir",0,"começar novamente","iniciando o script","iniciando...",0,"entrar","sair","transpor",0,"parar",0,"parar função","parar loop","store in var","armazenar o valor em uma variável","cadeia de caracteres",0,"faixa '{0}'",0,0,0,"superior, supernatural, tremendo, inacreditável, sobrenatural, único, sem precedente, incomum, estranho, magnífico, notável","cercar com",0,"sincronização foi desativada de propósito","sincronizando...",0,0,0,0,0,"tags",0,0,"toque (←) quando terminar","toque em [ok] ao concluir",0,"toque aqui para passar a próxima etapa","toque aqui quando concluir","toque aqui","toque lá para obter instruções","toque aqui para executar seu aplicativo","tocar para alterar a cor","toque para mudar a imagem do ícone","toque para mudar a imagem da tela inicial","toque para traduzir com o Microsoft® Translator...","temporário","terms of use","teste","testar função","testes","testa se duas referências estão relacionadas a um mesmo objeto",0,0,"o hub","o código de convite deve ser um número com extensão entre 9 e 64 caracteres","pane no script",0,0,"este script é uma biblioteca","este script é um serviço Web","tempo e datas","para código","para continuar","para var global","ativar/desativar ponto de interrupção","Novidades principais",0,0,"traduzir","​traduzindo tutorial​...",0,0,0,"tente novamente!","transformar em","progresso do tutorial","tutorial: ","tutoriais","handle do twitter","tipo: ","tipo: {0}",0,0,0,"desfazer",0,0,0,0,0,0,0,"bandeira desconhecida",0,0,"atualização",0,0,0,0,0,0,"carregar","carregar imagens","carregar screenshot","carregar som",0,0,0,"url",0,0,0,0,0,"nome da variável","exibir como script","exibir/editar nome, e-mail...",0,"papel de parede","temos uma biblioteca '{0}' aqui; {1}","temos {0:a} aqui; você queria fazer algo com isso?","precisamos de um novo campo","precisamos de uma nova tabela","precisamos de um novo {0}","precisamos de um teclado diferente","precisamos de uma nova variável","precisamos editar outro item","orientaremos você passo a passo","aplicativos web",0,0,0,"website",0,"url do website",0,0,0,0,0,"ano de nascimento",0,0,"você conseguiu!",0,"{0} ({1} linha{1:s})","{0} dia{0:s} atrás",0,0,0,0,"{0} hora{0:s} atrás","{0} minuto{0:s} atrás","{0} mês{0:s} atrás","{0} de {1} concluído","{0} publicado","{0} script publicado","{0} segundo{0:s} atrás","mais {0}","{0} ano{0:s} atrás"]),!0):"pt-BR"==e?(TDev.Util._setLanguageArray(t,["   Talvez: {0} ({1} em '{2}')\n","  -> Linha {2} ('{1}'), erro: {0}"," -- uma variável local"," [class]"," [oculto]"," [override]"," para trás"," para frente"," horas "," minutos "," de "," segundos "," enviando alterações"," a aguardar pelo servidor","### código fonte completo","Chaves como em JavaScript, todas as ferramentas, para desenvolvedores experientes!","função “atômica”","só pode aceder-se à 'box' na página de exibição do código","não pode aceder-se à 'box' em modo de layout HTML",0,"só se pode aceder ao 'html' em modo de layout HTML","'{0}' espera {1} aqui","'{0}' tem uma assinatura não suportada","'{0}' não está implementada","'{0}' é obsoleto e não está implementado","'{0}' é obsoleto e não deve ser usado",0,"'{0}' retorna um '{1}'; {2}","'{0}' devolve valores de {1}; pode usar o botão 'store em var' para os guardar em locais",0,0,0,0,0,0,0,", em vez disso, obteve {0}",", obteve {0}",0,0,0,"... há mais...","// comentário",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>esta linha está perfeita!</b> vamos continuar","<h3>carregando configurações atuais...</h3>","<h3>sem mais dicas!</h3>",0,"<h3>{0:q} exige conexão</h3>",0,0,0,0,0,0,0,0,0,"Um aplicativo de pi do Minecraft.","Um aplicativo Minecraft.","Um aplicativo de creeper do Minecraft.",0,0,0,0,0,0,0,0,0,0,"Uma cor constante",0,0,0,0,0,0,0,0,0,"Uma variável global",0,0,0,0,0,0,0,0,0,0,0,"Um número (possivelmente negativo e/ou fração)","Um número constante",0,0,0,"Uma imagem","Um trecho de texto","Um aplicativo de pixel art.",0,0,0,"Uma referência a um script de biblioteca",0,0,0,0,0,0,0,0,0,"Um som",0,0,0,0,"Uma estrutura de dados do usuário","Uma tabela de linhas definidas pelo usuário",0,0,0,0,"Um temporizador","Um nome exclusivo de exibição para seu perfil público (pelo menos 8 caracteres)",0,0,"Uma interface do usuário",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Adicionar uma ação que é disparada para cada quadro de exibição",0,"Adicione o sprite para definir e remover do conjunto de velho. Retorna true se a sprite foi no antigo conjunto e não no conjunto de novo.","Adicione o sprite para definir. Retorna true se o sprite já não estava no conjunto.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Adiciona números",0,"Agrega valor à pontuação atual.",0,"Avança o enumerador e retornar true se há um outro elemento.","Após a interrupção do script, procure o código para ver as informações coletadas.","Todos os meus grupos","Todos os meus scripts",0,0,0,0,0,0,0,"Um aplicativo em branco usando páginas e caixas.","Um aplicativo em branco que usa a biblioteca de rascunhos.","Uma página de documentação vazia.","Um tutorial interativo vazio.","Um plugin de editor script vazio.","Um script em branco, que não faz nada.",0,0,"Uma tabela indexada de linhas definidas pelo usuário",0,"Um aplicativo de tartaruga.","Aplica `conversor` a todos os elementos da coleção de entradas e retorna uma coleção de resultados",0,"Tem certeza de que deseja parar de seguir o tutorial?","Operações aritméticas e bit a bit em inteiros de 32 bits","Arte desse usuário:","Perguntar ou exibir valores na tela...","Anexe dados a outros objetos","Código de texto clichê para criar um jogo.",0,0,0,0,0,0,"Alterar o nível de habilidade!","canais","Verifica que o quadro é a mesma instância do outro quadro.",0,0,0,"Limpe todos os eventos em fila relacionados com esse quadro","Limpar a imagem do plano de fundo","Limpar a câmera do plano de fundo",0,0,"Código gerado quando ocorre uma interação do usuário","Código que executa uma tarefa específica","Compara números para igualdade","Compara números para menos",0,"Compara números para mais",0,0,0,0,"Calcula o máximo dos valores","Calcula o mínimo dos valores",0,"Concatena dois trechos de texto",0,0,0,"Converte o valor em uma estrutura de dados json.",0,0,"Converte na hora local",0,0,"Ajudantes de correção",0,"Criar o código","Criar Grupo","Criar Script","Criar um obstáculo de linha com certo ponto de início, de certa largura e altura. Elasticidade é 0 para grudento e 1 para rebatimento completo.","Crie uma nova coleção de sprites.","Criar um novo sprite de elipse.","Crie uma nova forma de imagem.","Criar um novo sprite de retângulo.","Criar um novo script",0,0,0,"Cria um sprite âncora.","Crie um valor inválido deste tipo de objeto","Criar canal",0,"Criar valores inválidos","Cria paredes em torno do quadro a uma dada distância.","Criar seus próprios aplicativos",0,0,"Cria um quadro de jogo vazio e mostra-o na tela.","Cria um novo jogo de tabuleiro no modo paisagem. Em dispositivos rotativos tomará a tela inteira quando Postado.","Cria um novo jogo de tabuleiro no modo retrato. Em dispositivos rotativos tomará a tela inteira quando Postado.","Cria uma nova camada na cena. A distância determina a ordem de renderização e quão rápido a camada se move","Cria um novo sprite de largura 100 com a imagem fornecida.",0,"Cria uma instância de gamepad inválida",0,0,"Dispositivo atual",0,"Ponto de toque atual","Desvincula o manipulador do evento.",0,"Exibe a imagem na parede; você precisará chamar 'atualização na parede' mais tarde se quiser que as alterações sejam refletidas.",0,0,0,"Exibe o estado do gamepad no mural","Divide números","Fazer com que as formas se sobreponham",0,"Documentos","Não se esqueça de rolar para baixo na tela e tocar em 'salvar' quando terminar de editar!","Arrastar e soltar blocos, interface simplificada, ótimo para iniciantes!","Traça uma linha entre dois pontos","Desenha alguma borda de texto com uma determinada cor e tamanho de fonte","Edite código como texto, mais opções, para aspirantes a criadores de aplicativos!",0,"Habilitar ou desabilitar a sincronização da nuvem para a sessão atual do","Insira um nome",0,"Insira algumas informações sobre você","Insira o URL de seu website pessoal (Exemplo: http://www.northwindtraders.com)","Insira o código de convite",0,"Os eventos não podem ter parâmetros.","Todos podem ver sua foto na Internet para sempre. ",0,0,"Extensões","Facebook","Preenche uma elipse com uma determinada cor","Preenche um retângulo com uma determinada cor","Velocidade de toque final após o fim do toque","Para scripts publicados, veja também a guia da página de scripts publicados para encontrar dados de cobertura e perfis coletados de forma anônima.","Fóruns","A partir de agora, não mostraremos mais o código a ser escrito. Siga as instruções e toque em executar quando achar que terminou.","Funções no script atual",0,0,0,0,0,"Obtém uma captura de tela dos estados do gamepad (se conectado ao navegador). Vazio se não tiver suporte ou nenhum gamepad for conectado.",0,0,0,"Obtenha um valor indicando se o quadro é projetado para ser exibido em modo paisagem","Obterá um valor se a música for protegida por DRM","Obtém o valor x e y dos eixos selecionados.",0,0,"Obtém a cena do plano de fundo","Obtém a posição horizontal do centro em pixels",0,"Obtém a cor com valor ARGB igual a #00FFFFFF","Obtém a cor com valor ARGB igual a #FF000000","Obtém a cor com valor ARGB igual a #FF0000FF","Obtém a cor com valor ARGB igual a #FF008000","Obtém a cor com valor ARGB igual a #FF00FFFF",0,"Obtém a cor com valor ARGB igual a #FF800080",0,0,0,0,"Obtém a cor com valor ARGB igual a #FFFF0000","Obtém a cor com valor ARGB igual a #FFFF00FF","Obtém a cor com valor ARGB igual a #FFFFA500",0,"Obtém a cor com valor ARGB igual a #FFFFFF00","Obtém a cor com valor ARGB igual a #FFFFFFFF",0,0,0,0,"Obtém o primeiro gamepad conectado disponível",0,"Obtém o identificador do gamepad",0,"Obtém a altura em pixels","Obtém a altura da imagem da câmera em pixels.",0,0,0,0,0,0,0,"Obtém o número de elementos",0,"Obtém o índice do jogador","Obtém o valor pressionado de um botão. Retorna 0 se o botão não for encontrado.","Obtém a propriedade que habilita ou desabilita a gradientes","Obtém o volume para sons de 0 (silencioso) a 1 (volume atual)","Obtém a contagem de sprites","Faz o sprite ser indexado por i",0,"Obtém a data/hora dessa captura de tela",0,"Obtém a largura em pixels","Obtém a largura da imagem da câmera em pixels.","Obtém a posição y em pixels","Introdução",0,"Variáveis globais no script atual",0,0,0,0,0,0,0,0,"Código de importação","Importar um script de um arquivo","Importa uma representação JSON do conteúdo.","Importa um pacote de dependente que pode ser versionado. Gerenciadores de pacotes podem ser node. js npm, Bower, Apache cordova, Python Pip e plugins TouchDevelop. importações ' bower ' e ' cliente ' não estão disponíveis dentro do domínio touchdevelop.com.","Importações, o código de arquivos hex criado para o BBC micro: bit ou .jsz arquivos salvos. Dica: você também pode arrastar e soltar os arquivos no editor para importá-los!","No modo debug, o quadro exibe a velocidade e outras informações de sprites","Indica se o botão é pressionado. Retorna falso se o botão não for encontrado.","Indica se as notificações do programa devem ser mostradas ao usuário. Padrão é true.","Indica se os dados do gamepad são idênticos","Indica se o gamepad ainda está conectado.",0,0,0,0,"Inserir '{0}' {1}",0,"Itens marcados com * são obrigatórios.","dados JSON","Ingressar no grupo","Último ponto final de toque","Último ponto inicial de toque",0,0,0,0,0,"Torna as atualizações visíveis.",0,0,"Faz com que todos os sprites saltem na borda da tela","Mapas, localização de endereço, endereço de localização","Bom em matemática, abs, máx, ...","Me",0,"Usuário Minecraft",0,0,"Move o sprite em direção a outro.","Multiplica números",0,0,0,0,0,0,0,0,"Novos Scripts",0,"Cores novas ou inseridas",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Números de telefone, vibrar, etc...",0,"Escolhe uma cor aleatória",0,0,0,0,0,"Por favor, vá para as configurações no cubo principal para desativar o modo off-line.","Examine nossa Declaração de Privacidade",0,"Publicação de um comentário...",0,0,0,"Ação privada não tem um botão run. ","Solicita que o usuário forneça um número","Solicita ao usuário para escolher uma seqüência de caracteres de uma lista. Retorna o índice selecionado.","Publicar script",0,"A publicação está sujeita aos nossos ","Publicando script...","Aumentado quando a animação começou a tocar","Aumentado quando a animação parou a tocar","Lê o corpo de resposta como som wave","Receba notificações quando outras pessoas avaliam/tiram uma captura de tela/comentam seus scripts, ou respondem um de seus comentários, ou quando ocorrem eventos relacionados às suas assinaturas.","Lembre-se: todos poderão ver o seu script se você publicá-lo; certifique-se de que ele não contém senhas ou informações pessoais.","Remove o valor da vida atual.","Responder...","Relatar/Excluir","Redimensiona a imagem de acordo com o tamanho fornecido em pixels",0,"Retorna uma cópia da imagem","Retorna uma cópia dessa seqüência de caracteres convertido para minúsculas, usando as regras capitalização da cultura atual.","Retorna uma cópia dessa seqüência de caracteres convertidos em maiúsculas, usando as regras capitalização da cultura atual.","Retorna uma data que adiciona o número especificado de meses ao valor dessa instância.","Retorna uma data que adiciona o número especificado de anos ao valor dessa instância.","Retorna que um número aleatório integral entre 'min' e 'max' incluído.",0,0,0,0,0,0,"Retorna true se o sprite não está oculto","Retorna verdadeiro se a instância atual é inútil",0,"Execute a ação de inline.",0,0,"Atualizações de script","Scripts desse usuário:",0,"Pesquisar e navegar na web...","Pesquisar código...","Pesquisar tudo","Pesquisar aqui...",0,0,"Pesquisar...",0,0,0,"Ver Mais",0,0,"Ativa ou desativa o set gradient","Define a transformação de matriz offline 3x3 aplicada à parede.",0,"Define a câmera de fundo","Define a cor de fundo","Define a cor de fundo.","Define a imagem de fundo","Define a posição horizontal do centro em pixels","Define os pontos da vida atual.","Define a resistência dos sprites como uma fração da perda de velocidade entre 0 e 1","Define a altura em pixels","Define a posição em pixels",0,"Define o nível de volume para sons de 0 (silencioso) a 1 (volume atual)","Define a velocidade em pixels/segundos","Define a cor do sprite.","Define o vetor de aceleração uniforme para objetos no quadro como pixels/sec^2",0,0,"Define a largura em pixels","Define a velocidade x em pixels/s","Define a aceleração y em pixels/s^2","Define a posição y em pixels","Define a velocidade y em pixels/s",0,"Configurações","Compartilhe-o com essa url:","Mostrar erros no editor se o script usar APIs que impeçam sua execução nessas plataformas.","Mostra o quadro no mural.",0,"Nível de habilidade: {0}     ",0,0,0,0,0,"Para e limpa todos timers de cada quadro",0,"Subtrai números",0,"TD100: inserir {0} aqui","TD101: não é possível encontrar '{0}'","TD109: não é possível fazer essa atribuição","TD111: não é possível atribuir de {0} a {1}","TD112: não consigo encontrar a propriedade '{0}' em {1}","TD115: parâmetro(s) excessivo(s) fornecido(s) para {0}","TD116: não foram fornecidos parâmetros suficientes para {0}","TD118: condição 'se' quer {1}","TD119: preciso de algo para interagir",0,"TD130: associado de 'para' quer {1}","TD144: parece que está faltando '{0}', tente adicioná-lo","TD145: parece que está faltando um operador (como '+', '(' ou ',') aqui","TD147: não esperávamos '{0}' aqui","TD150: não pode chamar antes de '('","TD151: unclosed ' ('","TD152: inesperado ')'","TD154: o operador precisa de alguma coisa após isso","TD155: '{0}' não pode ser atribuída a uma variável local","Ensine o Creative Coding!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Este script usa os seguintes recursos: ",0,"Este tutorial usa dados de nuvem compartilhados com outros usuários.","Para adicionar dados de página, crie uma variável local e toque em 'promover para campo'.",0,0,0,"Tradução, fala em texto,...","Traduções por Microsoft ® Translator, toque para ver o original...","Verdadeiro, se o quadro for tocado","Tente ajustar seu código até funcionar. Se tiver dificuldade, toque na barra do tutorial.",0,0,"Tutoriais","Twitter","Digite para pesquisar online...","Digite para pesquisar...",0,"Tipos, ordem e número de parâmetros de evento não podem ser editados.","Widget de interface do usuário",0,"Atualize as posições dos sprites no quadro.","Atualiza a imagem em uma forma de imagem (se não for uma forma de imagem)","Atualiza o texto em um sprite de texto (se for um sprite de texto)","Carregar imagens","Carregar som","Usuários",0,"Precisamos de mais opções","Adaptaremos o editor ao seu nível de habilidade em codificação. Você poderá alterar seu nível de habilidade posteriormente no hub.","Qual seu nível de conhecimento de programação?","Qual é a sua ocupação?","O que há de novo","Onde você está?","Grava outra imagem em um determinado local. A opacidade varia de 0 (transparente) a 1 (opaco).",0,"YouTube",0,0,"Seu usuário GitHub.","Seu usuário Minecraft.","Sua arte aparecerá aqui",0,"Seu canal aparecerá aqui","Seu endereço de email ainda não foi verificado Verifique sua caixa de entrada.","Seu nome completo",0,0,0,"Seu script aparecerá aqui","Seu handle do twitter, como @touchdevelop.","alguns segundos atrás","uma função","uma variável global","um minuto atrás","uma página","sobre cobertura","sobre percepções","sobre perfil","sobre você","abuso",0,"relatar abusos",0,0,0,"acesse o campo {0}",0,"adicionar","adicionar um novo...",0,"adicionar uma ação que é disparada para cada quadro de exibição.",0,0,0,0,0,"adicionar parâmetro de entradas","adicionar linha acima","adicionar linha abaixo","adicionar novo",0,0,"adicionar parâmetro de saídas",0,0,0,0,0,"todas as APIs","permitir","excelente, surpreendente, impressionante, espantoso, fenomenal, de tirar o fôlego, clássico, legal, curioso, diferente, excepcional, exclusivo, extraordinário, fabuloso, fantástico, esplêndido, ótimo, ",0,"uma definição de tipo de função","uma hora atrás",0,0,0,0,0,"aplicativos",0,"arte","recurso de arte","atribuição",0,"autor",0,0,"voltar",0,"backspace","usar backspace nisto",0,0,"base","iniciante","iniciantes",0,"vincula ao script:","em branco","aplicativo em branco","creeper em branco","documentos em branco","jogo em branco","minecraft em branco","minecraft pi em branco","pixel art em branco","rascunho em branco","plugin de script em branco","tartaruga em branco","tutorial em branco","quebrar no depurador","ponto de interrupção",0,0,0,0,0,0,"cancelar",0,0,"alterar (voltar) para local","alterar conteúdos",0,"verifica se a referência não foi definida",0,0,0,"escolha uma imagem (menos que 1 MB, menor que 2048x2048)",0,0,0,0,0,0,"escolha seu nível de habilidade em codificação","escolha...",0,"limpar","área de transferência","clonar",0,"sessões de nuvem","código","codifique a linha de objetivo","codificador","cor nº{0}","cor: {0}","comentado","comentários",0,"condicional","conectado",0,0,"continuar",0,"copiar","copiar seleção","cobertura","criar","criar um novo parâmetro",0,"crie código de com...","criar códigos",0,"cria uma coleção vazia de objetos","criação de script",0,"expressão atual","personalize a arte!","recortar","cortar seleção","banco de dados","depurar","ponto decimal",0,"excluir","excluir dados locais e permissões","excluir seleção","rebaixar para var","negar","descrição","descrição (ajuda a pesquisa)",0,"detalhes","você queria usar este valor?","diff curr","diff prev","desativar o login","desativado",0,"ignorar","valor de exibição","exibe o objeto na rede",0,0,0,"pronto","pronto!","editar","e se","email",0,"email e notificações por push",0,0,0,0,"insira o código de convite","insira este código","erros",0,"eventos",0,"ex: ",0,"excelente; ótimo trabalho; incrível; legal; você é demais; bom trabalho; extraordinário; você conseguiu; é isso aí",0,"saída","especialista",0,"exportar","exportar uma representação JSON dos conteúdos","exportado desta biblioteca","estender",0,"extrair seleção em função",0,"extrair para var","encontrar referências","concluído","corrigir","seguir tutorial no editor","para o grupo","bifurcações","função","nome da função","tipos de função","função, variável, biblioteca...","gênero","obter meu certificado da Hora do Código™","obtém o timer que dispara para cada quadro de exibição.","usuário github","dado ♥","substituição global","variável global","variáveis globais","voltar","voltar para a codificação! {0}★ para ir","voltar...","ir para","ir para a lista de coisas em seu script","ir para a etapa anterior","objetivo:","grupo","grupos","corações","ajuda",0,0,"histórico","Viva! Seu script está publicado","como encontrou","quero que seja executado em","terminei com meu Hora do Código™","arte do ícone: {0}",0,"se tiver dificuldade, toque na linha de objetivo",0,"importação somente pode ser usada em um contexto de roteiro","código de importação",0,"importar valores de campo de um objeto JSON","importações",0,0,0,"incrível, mágico, maravilhoso, maravilhoso, alucinante, estarrecedor, milagroso, peculiar, fenomenal, radical, formidável, especial, espetacular, vistoso, deslumbrante, superlegal, ",0,"inserir","inserir comentário","inserir instrução","inserir {0}","percepções",0,"instalando e carregando o script","no local",0,"questões","ingressar em um grupo","ingressar no grupo","selva","basta digitar os termos de pesquisa!","continuar editando","conhecido aqui como:",0,"aprender","saiba mais sobre publicação","saber mais","saiba mais sobre {0}","deixar tutorial","vamos mudar isso","vamos fazer isso!","vamos começar!","lib","bibliotecas","biblioteca","nome da biblioteca","referência de biblioteca","carregar mais","carregar mais respostas","carregando",0,"carregando comentários para /{0}...",0,"carregando respostas...","carregando o script","​carregando tutorial​","carregando...","local","local",0,"negação lógica","logs","principal",0,"makers","gerenciar dados","talvez mais tarde","eu",0,0,"usuário minecraft",0,0,"mais","mais ","mais configurações","mover cursor","mover para a esquerda","passe para a próxima etapa","mova o cursor para esquerda","mova o cursor para a direita","minha arte",0,0,0,"meus scripts","um nome diferente é necessário aqui","necessário uma string diferente aqui","um novo campo aqui é necessário","precisa de um parâmetro","é necessário excluir isso","é necessário editar em algum outro local","negação",0,0,0,0,"nova linha",0,0,0,"novo stmt abaixo","nova variável",0,"próximos tutoriais...","apelido",0,"nenhuma arte publicada por este usuário","nenhum comentário; toque para escrever algum!","nenhum script de bifurcações, instalação, edição e nova publicação para criar um!","nenhum coração. Você pode adicionar um desde que instale um script!","nenhuma imagem carregada ainda",0,0,"nenhuma marca; toque para adicionar alguma!",0,0,0,"notificações",0,"agora você pode selecionar uma propriedade de {0}; ele não faz nada sozinho","agora você pode selecionar uma propriedade nele","número","entrada de número",0,"ocupação","de um objeto","offline disponível","ok","ok, vamos lá!","online",0,"ou toque para obter ajuda","outros","visão geral",0,"páginas",0,"analisando o texto do script",0,"colar","pausar",0,"iniciador do jogo de física","escolha um modelo de script...","imagem","nome da imagem","nome da imagem (mínimo de 4 caracteres)","url da imagem","jogue novamente",0,"aguarde...","plugins","visualizar","imprimir",0,"privado","função privada","perfil privado","perfil","conhecimento de programação",0,"promover para dados","promover a campo","apelido público","perfil público","publicar","publicar como oculto",0,"publicado","extrair alterações","extrair para nível de bloco",0,"executar novamente","leia mais...","somente leitura","nome real",0,"receber boletins de notícias por email","receber notificações por email","registrar nome:",0,"teclado normal","recarregando script​","remover",0,"remover imagem","remove fundo branco (bom para sprites de jogos)",0,"renomear","repetir n vezes","repetir na coleção","repetir enquanto","substituir tudo na função","substituir tudo no script","substituir imagem","replicado","replicado ",0,"denunciar abuso",0,"reverter para versão publicada",0,"retroceder ","executar","executar principal",0,"executar com instrumentação","salvar","salvo","salvando...","escola","telas","captura de tela","captura de tela de {0}","script","propriedades do script",0,"pesquisar","pesquisar arte","pesquisar imagens de arte","pesquisar {0} aqui","pesquisar modelos","pesquisando...","ver mais opções","selecionar","selecionar mais","selecionar essa linha","selecione o tipo deste {0}",0,0,"definir nome da variável local","definir nome","definir o manipulador que é invocado quando o quadro é deslizado","definir o manipulador que é invocado quando o painel é tocado","definir o manipulador que é invocado quando o quadro é tocado","definir o manipulador que é invocado quando o quadro é solto","define todos os campos para os valores padrão","configuração salva","configurações","compartilhar",0,"mostrar como completar esta atividade","mostrar mais opções","demonstração","entrar",0,0,"sair","entrando...",0,"simplificar","nível de habilidade salvo","ignorar a iteração",0,"social",0,"som",0,"arte da tela inicial: {0}","dividir",0,"começar novamente","iniciando o script","iniciando...",0,"entrar","sair","transpor",0,"parar",0,"parar função","parar loop","store in var","armazenar o valor em uma variável","cadeia de caracteres",0,"faixa '{0}'",0,0,0,"superior, supernatural, tremendo, inacreditável, sobrenatural, único, sem precedente, incomum, estranho, magnífico, notável","cercar com",0,"sincronização foi desativada de propósito","sincronizando...",0,0,0,0,0,"tags",0,0,"toque (←) quando terminar","toque em [ok] ao concluir",0,"toque aqui para passar a próxima etapa","toque aqui quando concluir","toque aqui","toque lá para obter instruções","toque aqui para executar seu aplicativo","tocar para alterar a cor","toque para mudar a imagem do ícone","toque para mudar a imagem da tela inicial","toque para traduzir com o Microsoft® Translator...","temporário","terms of use","teste","testar função","testes","testa se duas referências estão relacionadas a um mesmo objeto",0,0,"o hub","o código de convite deve ser um número com extensão entre 9 e 64 caracteres","pane no script",0,0,"este script é uma biblioteca","este script é um serviço Web","tempo e datas","para código","para continuar","para var global","ativar/desativar ponto de interrupção","Novidades principais",0,0,"traduzir","​traduzindo tutorial​...",0,0,0,"tente novamente!","transformar em","progresso do tutorial","tutorial: ","tutoriais","handle do twitter","tipo: ","tipo: {0}",0,0,0,"desfazer",0,0,0,0,0,0,0,"bandeira desconhecida",0,0,"atualização",0,0,0,0,0,0,"carregar","carregar imagens","carregar screenshot","carregar som",0,0,0,"url",0,0,0,0,0,"nome da variável","exibir como script","exibir/editar nome, e-mail...",0,"papel de parede","temos uma biblioteca '{0}' aqui; {1}","temos {0:a} aqui; você queria fazer algo com isso?","precisamos de um novo campo","precisamos de uma nova tabela","precisamos de um novo {0}","precisamos de um teclado diferente","precisamos de uma nova variável","precisamos editar outro item","orientaremos você passo a passo","aplicativos web",0,0,0,"website",0,"url do website",0,0,0,0,0,"ano de nascimento",0,0,"você conseguiu!",0,"{0} ({1} linha{1:s})","{0} dia{0:s} atrás",0,0,0,0,"{0} hora{0:s} atrás","{0} minuto{0:s} atrás","{0} mês{0:s} atrás","{0} de {1} concluído","{0} publicado","{0} script publicado","{0} segundo{0:s} atrás","mais {0}","{0} ano{0:s} atrás"]),!0):"pt-PT"==e?(TDev.Util._setLanguageArray(t,["   Talvez: {0} ({1} em '{2}')\n","  -> Linha {2} ('{1}'), erro: {0}"," -- uma variável local"," [class]"," [oculto]"," [override]"," para trás"," para frente"," horas "," minutos "," de "," segundos "," enviando alterações"," a aguardar pelo servidor","### código fonte completo","Chaves como em JavaScript, todas as ferramentas, para desenvolvedores experientes!","função “atômica”","só pode aceder-se à 'box' na página de exibição do código","não pode aceder-se à 'box' em modo de layout HTML",0,"só se pode aceder ao 'html' em modo de layout HTML","'{0}' espera {1} aqui","'{0}' tem uma assinatura não suportada","'{0}' não está implementada","'{0}' é obsoleto e não está implementado","'{0}' é obsoleto e não deve ser usado",0,"'{0}' retorna um '{1}'; {2}","'{0}' devolve valores de {1}; pode usar o botão 'store em var' para os guardar em locais",0,0,0,0,0,0,0,", em vez disso, obteve {0}",", obteve {0}",0,0,0,"... há mais...","// comentário",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>esta linha está perfeita!</b> vamos continuar","<h3>carregando configurações atuais...</h3>","<h3>sem mais dicas!</h3>",0,"<h3>{0:q} exige conexão</h3>",0,0,0,0,0,0,0,0,0,"Um aplicativo de pi do Minecraft.","Um aplicativo Minecraft.","Um aplicativo de creeper do Minecraft.",0,0,0,0,0,0,0,0,0,0,"Uma cor constante",0,0,0,0,0,0,0,0,0,"Uma variável global",0,0,0,0,0,0,0,0,0,0,0,"Um número (possivelmente negativo e/ou fração)","Um número constante",0,0,0,"Uma imagem","Um trecho de texto","Um aplicativo de pixel art.",0,0,0,"Uma referência a um script de biblioteca",0,0,0,0,0,0,0,0,0,"Um som",0,0,0,0,"Uma estrutura de dados do usuário","Uma tabela de linhas definidas pelo usuário",0,0,0,0,"Um temporizador","Um nome exclusivo de exibição para seu perfil público (pelo menos 8 caracteres)",0,0,"Uma interface do usuário",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Adicionar uma ação que é disparada para cada quadro de exibição",0,"Adicione o sprite para definir e remover do conjunto de velho. Retorna true se a sprite foi no antigo conjunto e não no conjunto de novo.","Adicione o sprite para definir. Retorna true se o sprite já não estava no conjunto.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Adiciona números",0,"Agrega valor à pontuação atual.",0,"Avança o enumerador e retornar true se há um outro elemento.","Após a interrupção do script, procure o código para ver as informações coletadas.","Todos os meus grupos","Todos os meus scripts",0,0,0,0,0,0,0,"Um aplicativo em branco usando páginas e caixas.","Um aplicativo em branco que usa a biblioteca de rascunhos.","Uma página de documentação vazia.","Um tutorial interativo vazio.","Um plugin de editor script vazio.","Um script em branco, que não faz nada.",0,0,"Uma tabela indexada de linhas definidas pelo usuário",0,"Um aplicativo de tartaruga.","Aplica `conversor` a todos os elementos da coleção de entradas e retorna uma coleção de resultados",0,"Tem certeza de que deseja parar de seguir o tutorial?","Operações aritméticas e bit a bit em inteiros de 32 bits","Arte desse usuário:","Perguntar ou exibir valores na tela...","Anexe dados a outros objetos","Código de texto clichê para criar um jogo.",0,0,0,0,0,0,"Alterar o nível de habilidade!","canais","Verifica que o quadro é a mesma instância do outro quadro.",0,0,0,"Limpe todos os eventos em fila relacionados com esse quadro","Limpar a imagem do plano de fundo","Limpar a câmera do plano de fundo",0,0,"Código gerado quando ocorre uma interação do usuário","Código que executa uma tarefa específica","Compara números para igualdade","Compara números para menos",0,"Compara números para mais",0,0,0,0,"Calcula o máximo dos valores","Calcula o mínimo dos valores",0,"Concatena dois trechos de texto",0,0,0,"Converte o valor em uma estrutura de dados json.",0,0,"Converte na hora local",0,0,"Ajudantes de correção",0,"Criar o código","Criar Grupo","Criar Script","Criar um obstáculo de linha com certo ponto de início, de certa largura e altura. Elasticidade é 0 para grudento e 1 para rebatimento completo.","Crie uma nova coleção de sprites.","Criar um novo sprite de elipse.","Crie uma nova forma de imagem.","Criar um novo sprite de retângulo.","Criar um novo script",0,0,0,"Cria um sprite âncora.","Crie um valor inválido deste tipo de objeto","Criar canal",0,"Criar valores inválidos","Cria paredes em torno do quadro a uma dada distância.","Criar seus próprios aplicativos",0,0,"Cria um quadro de jogo vazio e mostra-o na tela.","Cria um novo jogo de tabuleiro no modo paisagem. Em dispositivos rotativos tomará a tela inteira quando Postado.","Cria um novo jogo de tabuleiro no modo retrato. Em dispositivos rotativos tomará a tela inteira quando Postado.","Cria uma nova camada na cena. A distância determina a ordem de renderização e quão rápido a camada se move","Cria um novo sprite de largura 100 com a imagem fornecida.",0,"Cria uma instância de gamepad inválida",0,0,"Dispositivo atual",0,"Ponto de toque atual","Desvincula o manipulador do evento.",0,"Exibe a imagem na parede; você precisará chamar 'atualização na parede' mais tarde se quiser que as alterações sejam refletidas.",0,0,0,"Exibe o estado do gamepad no mural","Divide números","Fazer com que as formas se sobreponham",0,"Documentos","Não se esqueça de rolar para baixo na tela e tocar em 'salvar' quando terminar de editar!","Arrastar e soltar blocos, interface simplificada, ótimo para iniciantes!","Traça uma linha entre dois pontos","Desenha alguma borda de texto com uma determinada cor e tamanho de fonte","Edite código como texto, mais opções, para aspirantes a criadores de aplicativos!",0,"Habilitar ou desabilitar a sincronização da nuvem para a sessão atual do","Insira um nome",0,"Insira algumas informações sobre você","Insira o URL de seu website pessoal (Exemplo: http://www.northwindtraders.com)","Insira o código de convite",0,"Os eventos não podem ter parâmetros.","Todos podem ver sua foto na Internet para sempre. ",0,0,"Extensões","Facebook","Preenche uma elipse com uma determinada cor","Preenche um retângulo com uma determinada cor","Velocidade de toque final após o fim do toque","Para scripts publicados, veja também a guia da página de scripts publicados para encontrar dados de cobertura e perfis coletados de forma anônima.","Fóruns","A partir de agora, não mostraremos mais o código a ser escrito. Siga as instruções e toque em executar quando achar que terminou.","Funções no script atual",0,0,0,0,0,"Obtém uma captura de tela dos estados do gamepad (se conectado ao navegador). Vazio se não tiver suporte ou nenhum gamepad for conectado.",0,0,0,"Obtenha um valor indicando se o quadro é projetado para ser exibido em modo paisagem","Obterá um valor se a música for protegida por DRM","Obtém o valor x e y dos eixos selecionados.",0,0,"Obtém a cena do plano de fundo","Obtém a posição horizontal do centro em pixels",0,"Obtém a cor com valor ARGB igual a #00FFFFFF","Obtém a cor com valor ARGB igual a #FF000000","Obtém a cor com valor ARGB igual a #FF0000FF","Obtém a cor com valor ARGB igual a #FF008000","Obtém a cor com valor ARGB igual a #FF00FFFF",0,"Obtém a cor com valor ARGB igual a #FF800080",0,0,0,0,"Obtém a cor com valor ARGB igual a #FFFF0000","Obtém a cor com valor ARGB igual a #FFFF00FF","Obtém a cor com valor ARGB igual a #FFFFA500",0,"Obtém a cor com valor ARGB igual a #FFFFFF00","Obtém a cor com valor ARGB igual a #FFFFFFFF",0,0,0,0,"Obtém o primeiro gamepad conectado disponível",0,"Obtém o identificador do gamepad",0,"Obtém a altura em pixels","Obtém a altura da imagem da câmera em pixels.",0,0,0,0,0,0,0,"Obtém o número de elementos",0,"Obtém o índice do jogador","Obtém o valor pressionado de um botão. Retorna 0 se o botão não for encontrado.","Obtém a propriedade que habilita ou desabilita a gradientes","Obtém o volume para sons de 0 (silencioso) a 1 (volume atual)","Obtém a contagem de sprites","Faz o sprite ser indexado por i",0,"Obtém a data/hora dessa captura de tela",0,"Obtém a largura em pixels","Obtém a largura da imagem da câmera em pixels.","Obtém a posição y em pixels","Introdução",0,"Variáveis globais no script atual",0,0,0,0,0,0,0,0,"Código de importação","Importar um script de um arquivo","Importa uma representação JSON do conteúdo.","Importa um pacote de dependente que pode ser versionado. Gerenciadores de pacotes podem ser node. js npm, Bower, Apache cordova, Python Pip e plugins TouchDevelop. importações ' bower ' e ' cliente ' não estão disponíveis dentro do domínio touchdevelop.com.","Importações, o código de arquivos hex criado para o BBC micro: bit ou .jsz arquivos salvos. Dica: você também pode arrastar e soltar os arquivos no editor para importá-los!","No modo debug, o quadro exibe a velocidade e outras informações de sprites","Indica se o botão é pressionado. Retorna falso se o botão não for encontrado.","Indica se as notificações do programa devem ser mostradas ao usuário. Padrão é true.","Indica se os dados do gamepad são idênticos","Indica se o gamepad ainda está conectado.",0,0,0,0,"Inserir '{0}' {1}",0,"Itens marcados com * são obrigatórios.","dados JSON","Ingressar no grupo","Último ponto final de toque","Último ponto inicial de toque",0,0,0,0,0,"Torna as atualizações visíveis.",0,0,"Faz com que todos os sprites saltem na borda da tela","Mapas, localização de endereço, endereço de localização","Bom em matemática, abs, máx, ...","Me",0,"Usuário Minecraft",0,0,"Move o sprite em direção a outro.","Multiplica números",0,0,0,0,0,0,0,0,"Novos Scripts",0,"Cores novas ou inseridas",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Números de telefone, vibrar, etc...",0,"Escolhe uma cor aleatória",0,0,0,0,0,"Por favor, vá para as configurações no cubo principal para desativar o modo off-line.","Examine nossa Declaração de Privacidade",0,"Publicação de um comentário...",0,0,0,"Ação privada não tem um botão run. ","Solicita que o usuário forneça um número","Solicita ao usuário para escolher uma seqüência de caracteres de uma lista. Retorna o índice selecionado.","Publicar script",0,"A publicação está sujeita aos nossos ","Publicando script...","Aumentado quando a animação começou a tocar","Aumentado quando a animação parou a tocar","Lê o corpo de resposta como som wave","Receba notificações quando outras pessoas avaliam/tiram uma captura de tela/comentam seus scripts, ou respondem um de seus comentários, ou quando ocorrem eventos relacionados às suas assinaturas.","Lembre-se: todos poderão ver o seu script se você publicá-lo; certifique-se de que ele não contém senhas ou informações pessoais.","Remove o valor da vida atual.","Responder...","Relatar/Excluir","Redimensiona a imagem de acordo com o tamanho fornecido em pixels",0,"Retorna uma cópia da imagem","Retorna uma cópia dessa seqüência de caracteres convertido para minúsculas, usando as regras capitalização da cultura atual.","Retorna uma cópia dessa seqüência de caracteres convertidos em maiúsculas, usando as regras capitalização da cultura atual.","Retorna uma data que adiciona o número especificado de meses ao valor dessa instância.","Retorna uma data que adiciona o número especificado de anos ao valor dessa instância.","Retorna que um número aleatório integral entre 'min' e 'max' incluído.",0,0,0,0,0,0,"Retorna true se o sprite não está oculto","Retorna verdadeiro se a instância atual é inútil",0,"Execute a ação de inline.",0,0,"Atualizações de script","Scripts desse usuário:",0,"Pesquisar e navegar na web...","Pesquisar código...","Pesquisar tudo","Pesquisar aqui...",0,0,"Pesquisar...",0,0,0,"Ver Mais",0,0,"Ativa ou desativa o set gradient","Define a transformação de matriz offline 3x3 aplicada à parede.",0,"Define a câmera de fundo","Define a cor de fundo","Define a cor de fundo.","Define a imagem de fundo","Define a posição horizontal do centro em pixels","Define os pontos da vida atual.","Define a resistência dos sprites como uma fração da perda de velocidade entre 0 e 1","Define a altura em pixels","Define a posição em pixels",0,"Define o nível de volume para sons de 0 (silencioso) a 1 (volume atual)","Define a velocidade em pixels/segundos","Define a cor do sprite.","Define o vetor de aceleração uniforme para objetos no quadro como pixels/sec^2",0,0,"Define a largura em pixels","Define a velocidade x em pixels/s","Define a aceleração y em pixels/s^2","Define a posição y em pixels","Define a velocidade y em pixels/s",0,"Configurações","Compartilhe-o com essa url:","Mostrar erros no editor se o script usar APIs que impeçam sua execução nessas plataformas.","Mostra o quadro no mural.",0,"Nível de habilidade: {0}     ",0,0,0,0,0,"Para e limpa todos timers de cada quadro",0,"Subtrai números",0,"TD100: inserir {0} aqui","TD101: não é possível encontrar '{0}'","TD109: não é possível fazer essa atribuição","TD111: não é possível atribuir de {0} a {1}","TD112: não consigo encontrar a propriedade '{0}' em {1}","TD115: parâmetro(s) excessivo(s) fornecido(s) para {0}","TD116: não foram fornecidos parâmetros suficientes para {0}","TD118: condição 'se' quer {1}","TD119: preciso de algo para interagir",0,"TD130: associado de 'para' quer {1}","TD144: parece que está faltando '{0}', tente adicioná-lo","TD145: parece que está faltando um operador (como '+', '(' ou ',') aqui","TD147: não esperávamos '{0}' aqui","TD150: não pode chamar antes de '('","TD151: unclosed ' ('","TD152: inesperado ')'","TD154: o operador precisa de alguma coisa após isso","TD155: '{0}' não pode ser atribuída a uma variável local","Ensine o Creative Coding!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Este script usa os seguintes recursos: ",0,"Este tutorial usa dados de nuvem compartilhados com outros usuários.","Para adicionar dados de página, crie uma variável local e toque em 'promover para campo'.",0,0,0,"Tradução, fala em texto,...","Traduções por Microsoft ® Translator, toque para ver o original...","Verdadeiro, se o quadro for tocado","Tente ajustar seu código até funcionar. Se tiver dificuldade, toque na barra do tutorial.",0,0,"Tutoriais","Twitter","Digite para pesquisar online...","Digite para pesquisar...",0,"Tipos, ordem e número de parâmetros de evento não podem ser editados.","Widget de interface do usuário",0,"Atualize as posições dos sprites no quadro.","Atualiza a imagem em uma forma de imagem (se não for uma forma de imagem)","Atualiza o texto em um sprite de texto (se for um sprite de texto)","Carregar imagens","Carregar som","Usuários",0,"Precisamos de mais opções","Adaptaremos o editor ao seu nível de habilidade em codificação. Você poderá alterar seu nível de habilidade posteriormente no hub.","Qual seu nível de conhecimento de programação?","Qual é a sua ocupação?","O que há de novo","Onde você está?","Grava outra imagem em um determinado local. A opacidade varia de 0 (transparente) a 1 (opaco).",0,"YouTube",0,0,"Seu usuário GitHub.","Seu usuário Minecraft.","Sua arte aparecerá aqui",0,"Seu canal aparecerá aqui","Seu endereço de email ainda não foi verificado Verifique sua caixa de entrada.","Seu nome completo",0,0,0,"Seu script aparecerá aqui","Seu handle do twitter, como @touchdevelop.","alguns segundos atrás","uma função","uma variável global","um minuto atrás","uma página","sobre cobertura","sobre percepções","sobre perfil","sobre você","abuso",0,"relatar abusos",0,0,0,"acesse o campo {0}",0,"adicionar","adicionar um novo...",0,"adicionar uma ação que é disparada para cada quadro de exibição.",0,0,0,0,0,"adicionar parâmetro de entradas","adicionar linha acima","adicionar linha abaixo","adicionar novo",0,0,"adicionar parâmetro de saídas",0,0,0,0,0,"todas as APIs","permitir","excelente, surpreendente, impressionante, espantoso, fenomenal, de tirar o fôlego, clássico, legal, curioso, diferente, excepcional, exclusivo, extraordinário, fabuloso, fantástico, esplêndido, ótimo, ",0,"uma definição de tipo de função","uma hora atrás",0,0,0,0,0,"aplicativos",0,"arte","recurso de arte","atribuição",0,"autor",0,0,"voltar",0,"backspace","usar backspace nisto",0,0,"base","iniciante","iniciantes",0,"vincula ao script:","em branco","aplicativo em branco","creeper em branco","documentos em branco","jogo em branco","minecraft em branco","minecraft pi em branco","pixel art em branco","rascunho em branco","plugin de script em branco","tartaruga em branco","tutorial em branco","quebrar no depurador","ponto de interrupção",0,0,0,0,0,0,"cancelar",0,0,"alterar (voltar) para local","alterar conteúdos",0,"verifica se a referência não foi definida",0,0,0,"escolha uma imagem (menos que 1 MB, menor que 2048x2048)",0,0,0,0,0,0,"escolha seu nível de habilidade em codificação","escolha...",0,"limpar","área de transferência","clonar",0,"sessões de nuvem","código","codifique a linha de objetivo","codificador","cor nº{0}","cor: {0}","comentado","comentários",0,"condicional","conectado",0,0,"continuar",0,"copiar","copiar seleção","cobertura","criar","criar um novo parâmetro",0,"crie código de com...","criar códigos",0,"cria uma coleção vazia de objetos","criação de script",0,"expressão atual","personalize a arte!","recortar","cortar seleção","banco de dados","depurar","ponto decimal",0,"excluir","excluir dados locais e permissões","excluir seleção","rebaixar para var","negar","descrição","descrição (ajuda a pesquisa)",0,"detalhes","você queria usar este valor?","diff curr","diff prev","desativar o login","desativado",0,"ignorar","valor de exibição","exibe o objeto na rede",0,0,0,"pronto","pronto!","editar","e se","email",0,"email e notificações por push",0,0,0,0,"insira o código de convite","insira este código","erros",0,"eventos",0,"ex: ",0,"excelente; ótimo trabalho; incrível; legal; você é demais; bom trabalho; extraordinário; você conseguiu; é isso aí",0,"saída","especialista",0,"exportar","exportar uma representação JSON dos conteúdos","exportado desta biblioteca","estender",0,"extrair seleção em função",0,"extrair para var","encontrar referências","concluído","corrigir","seguir tutorial no editor","para o grupo","bifurcações","função","nome da função","tipos de função","função, variável, biblioteca...","gênero","obter meu certificado da Hora do Código™","obtém o timer que dispara para cada quadro de exibição.","usuário github","dado ♥","substituição global","variável global","variáveis globais","voltar","voltar para a codificação! {0}★ para ir","voltar...","ir para","ir para a lista de coisas em seu script","ir para a etapa anterior","objetivo:","grupo","grupos","corações","ajuda",0,0,"histórico","Viva! Seu script está publicado","como encontrou","quero que seja executado em","terminei com meu Hora do Código™","arte do ícone: {0}",0,"se tiver dificuldade, toque na linha de objetivo",0,"importação somente pode ser usada em um contexto de roteiro","código de importação",0,"importar valores de campo de um objeto JSON","importações",0,0,0,"incrível, mágico, maravilhoso, maravilhoso, alucinante, estarrecedor, milagroso, peculiar, fenomenal, radical, formidável, especial, espetacular, vistoso, deslumbrante, superlegal, ",0,"inserir","inserir comentário","inserir instrução","inserir {0}","percepções",0,"instalando e carregando o script","no local",0,"questões","ingressar em um grupo","ingressar no grupo","selva","basta digitar os termos de pesquisa!","continuar editando","conhecido aqui como:",0,"aprender","saiba mais sobre publicação","saber mais","saiba mais sobre {0}","deixar tutorial","vamos mudar isso","vamos fazer isso!","vamos começar!","lib","bibliotecas","biblioteca","nome da biblioteca","referência de biblioteca","carregar mais","carregar mais respostas","carregando",0,"carregando comentários para /{0}...",0,"carregando respostas...","carregando o script","​carregando tutorial​","carregando...","local","local",0,"negação lógica","logs","principal",0,"makers","gerenciar dados","talvez mais tarde","eu",0,0,"usuário minecraft",0,0,"mais","mais ","mais configurações","mover cursor","mover para a esquerda","passe para a próxima etapa","mova o cursor para esquerda","mova o cursor para a direita","minha arte",0,0,0,"meus scripts","um nome diferente é necessário aqui","necessário uma string diferente aqui","um novo campo aqui é necessário","precisa de um parâmetro","é necessário excluir isso","é necessário editar em algum outro local","negação",0,0,0,0,"nova linha",0,0,0,"novo stmt abaixo","nova variável",0,"próximos tutoriais...","apelido",0,"nenhuma arte publicada por este usuário","nenhum comentário; toque para escrever algum!","nenhum script de bifurcações, instalação, edição e nova publicação para criar um!","nenhum coração. Você pode adicionar um desde que instale um script!","nenhuma imagem carregada ainda",0,0,"nenhuma marca; toque para adicionar alguma!",0,0,0,"notificações",0,"agora você pode selecionar uma propriedade de {0}; ele não faz nada sozinho","agora você pode selecionar uma propriedade nele","número","entrada de número",0,"ocupação","de um objeto","offline disponível","ok","ok, vamos lá!","online",0,"ou toque para obter ajuda","outros","visão geral",0,"páginas",0,"analisando o texto do script",0,"colar","pausar",0,"iniciador do jogo de física","escolha um modelo de script...","imagem","nome da imagem","nome da imagem (mínimo de 4 caracteres)","url da imagem","jogue novamente",0,"aguarde...","plugins","visualizar","imprimir",0,"privado","função privada","perfil privado","perfil","conhecimento de programação",0,"promover para dados","promover a campo","apelido público","perfil público","publicar","publicar como oculto",0,"publicado","extrair alterações","extrair para nível de bloco",0,"executar novamente","leia mais...","somente leitura","nome real",0,"receber boletins de notícias por email","receber notificações por email","registrar nome:",0,"teclado normal","recarregando script​","remover",0,"remover imagem","remove fundo branco (bom para sprites de jogos)",0,"renomear","repetir n vezes","repetir na coleção","repetir enquanto","substituir tudo na função","substituir tudo no script","substituir imagem","replicado","replicado ",0,"denunciar abuso",0,"reverter para versão publicada",0,"retroceder ","executar","executar principal",0,"executar com instrumentação","salvar","salvo","salvando...","escola","telas","captura de tela","captura de tela de {0}","script","propriedades do script",0,"pesquisar","pesquisar arte","pesquisar imagens de arte","pesquisar {0} aqui","pesquisar modelos","pesquisando...","ver mais opções","selecionar","selecionar mais","selecionar essa linha","selecione o tipo deste {0}",0,0,"definir nome da variável local","definir nome","definir o manipulador que é invocado quando o quadro é deslizado","definir o manipulador que é invocado quando o painel é tocado","definir o manipulador que é invocado quando o quadro é tocado","definir o manipulador que é invocado quando o quadro é solto","define todos os campos para os valores padrão","configuração salva","configurações","compartilhar",0,"mostrar como completar esta atividade","mostrar mais opções","demonstração","entrar",0,0,"sair","entrando...",0,"simplificar","nível de habilidade salvo","ignorar a iteração",0,"social",0,"som",0,"arte da tela inicial: {0}","dividir",0,"começar novamente","iniciando o script","iniciando...",0,"entrar","sair","transpor",0,"parar",0,"parar função","parar loop","store in var","armazenar o valor em uma variável","cadeia de caracteres",0,"faixa '{0}'",0,0,0,"superior, supernatural, tremendo, inacreditável, sobrenatural, único, sem precedente, incomum, estranho, magnífico, notável","cercar com",0,"sincronização foi desativada de propósito","sincronizando...",0,0,0,0,0,"tags",0,0,"toque (←) quando terminar","toque em [ok] ao concluir",0,"toque aqui para passar a próxima etapa","toque aqui quando concluir","toque aqui","toque lá para obter instruções","toque aqui para executar seu aplicativo","tocar para alterar a cor","toque para mudar a imagem do ícone","toque para mudar a imagem da tela inicial","toque para traduzir com o Microsoft® Translator...","temporário","terms of use","teste","testar função","testes","testa se duas referências estão relacionadas a um mesmo objeto",0,0,"o hub","o código de convite deve ser um número com extensão entre 9 e 64 caracteres","pane no script",0,0,"este script é uma biblioteca","este script é um serviço Web","tempo e datas","para código","para continuar","para var global","ativar/desativar ponto de interrupção","Novidades principais",0,0,"traduzir","​traduzindo tutorial​...",0,0,0,"tente novamente!","transformar em","progresso do tutorial","tutorial: ","tutoriais","handle do twitter","tipo: ","tipo: {0}",0,0,0,"desfazer",0,0,0,0,0,0,0,"bandeira desconhecida",0,0,"atualização",0,0,0,0,0,0,"carregar","carregar imagens","carregar screenshot","carregar som",0,0,0,"url",0,0,0,0,0,"nome da variável","exibir como script","exibir/editar nome, e-mail...",0,"papel de parede","temos uma biblioteca '{0}' aqui; {1}","temos {0:a} aqui; você queria fazer algo com isso?","precisamos de um novo campo","precisamos de uma nova tabela","precisamos de um novo {0}","precisamos de um teclado diferente","precisamos de uma nova variável","precisamos editar outro item","orientaremos você passo a passo","aplicativos web",0,0,0,"website",0,"url do website",0,0,0,0,0,"ano de nascimento",0,0,"você conseguiu!",0,"{0} ({1} linha{1:s})","{0} dia{0:s} atrás",0,0,0,0,"{0} hora{0:s} atrás","{0} minuto{0:s} atrás","{0} mês{0:s} atrás","{0} de {1} concluído","{0} publicado","{0} script publicado","{0} segundo{0:s} atrás","mais {0}","{0} ano{0:s} atrás"]),!0):"ru"==e?(TDev.Util._setLanguageArray(t,["   Возможно: {0} ({1} в '{2}')\n","  -> Строка{2} ('{1}'), ошибка: {0}\n{3}"," -- локальная переменная"," [class]"," [скрытый]"," [override]"," назад"," вперёд"," часов "," минут "," из "," секунд "," отправление изменений"," ожидание ответа от сервера","### полный исходный код","Фигурные скобки как в JavaScript, весь набор инструментов, для опытных разработчиков!","'атомарная' функция","'блок' доступен только в коде интерфейса страницы","'блок' недоступен в режиме HTML разметки","'else' предшествующего 'if' должен быть пустым","'html' доступен только в режиме HTML разметки",'"{0}" ожидает {1} здесь',0,"'{0}' на данный момент не реализован","'{0}' является устаревшим и не поддерживается","'{0}' устарел, использовать его не следует","'{0}' не является строковым ресурсом",'"{0}" возвращает "{1}"; {2}',"'{0}' возвращает значения {1}; вы можете 'сохранить в переменную', чтобы сохранить как локальную переменную",0,"(Необязательно) Удобочитаемый код ошибки.",'(Необязательно) Дополнительные пары "ключ-значение", неохваченные в спецификации OAuth 2.0.',"(Необязательно) Указывает, если срок действия маркера может истечь в ближайшие секунды.","(Необязательно) Необязательно, если идентично области, запрошенной клиентом; в противном случае, область маркера доступа, в соответствии с описанием в разделе 3.3 спецификации OAuth 2.0.","(Необязательно) Время жизни в секундах маркера доступа.","(Пожалуйста, подождите, это может занять около минуты)",", вместо этого получено {0}",", получено {0}",", размер: {0} символов",". Прочитайте наше ","... здесь ничего нет ...","... здесь есть ещё ...","//комментарий","1. выберите документ (.txt, .pptx, .pdf, .css, менее 8 мб)","1. выберите звуковой файл MP3 (менее 1 мб)","2. задайте имя файла (минимум 4 символа)","3. введите описание","4. опубликуйте",":( К сожалению, при переводе текста произошла ошибка.",":( К сожалению, мы не можем перевести это.",":( Не могу найти источник видео",0,0,"<a href='http://cordova.apache.org/' target='_blank'> Apache Cordova</a> позволяет создавать кроссплатформенные мобильные приложения.","<a href='http://go.microsoft.com/fwlink/?LinkId=254432' target='_blank'> создать сертификат</a>.",0,"<b>как запустить Touch Develop локально</b>","<b>эта строка идеальна!</b> давайте двигаться дальше","<h3>загрузка текущих параметров...</h3>","<h3>подсказок больше нет!</h3>","<h3>добро пожаловать в Touch Develop</h3>",0,"<p>Если у вас нет подписки Azure, перейдите на страницу <a href='https://account.windowsazure.com/Subscriptions' target='_blank'>Подписки Azure</a>, для получения.</p>","<p>Touch Develop позволяет <b>легко создавать приложения</b> на смартфоне, планшете или компьютере.</p>","<p>Вы можете делиться вашими приложениями с другими, чтоб они могли <b>запустить и редактировать</b> их на Windows Phone, iPad, iPhone, Android, PC или Mac.</p>","<strong>функция в бета-тестировании:</strong> синтаксис и семантика могут быть изменены","<strong>необходимая платформа:</strong>",0,"Двумерная матрица чисел","Трёхмерный вектор","Карта Bing","Приложение для Minecraft Pi.","Приложение для Minecraft.",0,0,0,"Argb цвет (альфа, красный, зеленый, синий)",0,0,"Панель для создания 2D-игр",0,0,0,0,"Константа цвета",0,0,"Контакт",0,"Документ",0,0,0,0,"Глобальная переменная",0,0,0,0,0,0,0,0,0,0,0,0,"Константа числа",0,0,0,"Изображение",0,0,"Место для подключения действие для выполнения в ответ на событие",0,0,"Ссылка на скрипт библиотеки",0,0,0,0,0,0,0,0,"Песня","Звук","Звуковой эффект",0,0,0,0,"Таблица заданных пользователем строк",0,0,0,0,0,"Уникальное отображаемое имя для вашего общедоступного профиля (не менее 8 знаков)","Модульный тест",0,"Пользовательский интерфейс",0,0,"ADJ сценарий",0,0,0,0,0,"Акселерометр",0,0,0,0,0,"Добавьте действие, которое вызывается для каждого кадра отображаемого изображения",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Складывает числа",0,"Добавляет очки в текущий результат.",0,0,"После остановки скрипта просмотрите код, чтобы увидеть собранную информацию.","Все мои группы","Все мои сценарии",0,0,0,0,0,0,0,0,"Пустое приложение с использованием вспомогательной библиотеки.",0,"Пустой интерактивный урок.",0,"Пустой сценарий, который ничего не делает.",0,0,"Индексированная таблица заданных пользователем строк",0,"Приложение черепаха.","Применяет преобразователь ко всем элементам входной коллекции и возвращает коллекцию результатов",0,0,0,"Медиаобъекты этого пользователя:","Прочтите или отобразите значения на стене...",0,"Шаблонный код для создания игры.",0,0,0,0,0,0,"Изменить уровень мастерства!",0,0,0,0,0,0,0,0,0,0,"Код, который порождается при взаимодействии с пользователем","Код, который выполняет определенную задачу","Сравнивает числа (равенство)","Сравнивает числа (определяет меньшее из них)",0,"Сравнивает числа (определяет большее из них)",0,0,0,0,0,0,0,"Соединяет две части текста",0,0,0,0,0,0,"Преобразует время в местное",0,"Мобильное приложение Cordova",0,"Подсчитывает количество строк","Создать код","Создать группу","Создать скрипт",0,0,0,"Создать новый спрайт изображения.",0,"Создать скрипт",0,0,0,0,0,"Создать канал","Создание коллекций элементов.",0,0,"Создание собственных приложений",0,0,0,0,0,0,0,0,0,"Создает недопустимую ссылку на запись",0,"Текущее устройство","Текущий скрипт: {0}",0,"Отключает обработчик от события.",0,'Отображает изображение на стене; необходимо вызвать позже команду "обновить на стене", если вы хотите увидеть изменения.',0,0,0,0,"Делит числа","Сделайте наложение спрайтов","Вы хотите получать информационные бюллетени о TouchDevelop, например о новых функциях и предстоящих мероприятиях?","Документы",'После внесения изменений не забудьте выполнить прокрутку вниз и щелкнуть элемент "Сохранить"!',"Перетаскиваемые блоки и упрощенный интерфейс в помощь начинающим!","Рисует линию между двумя точками.","Рисует рамку с определенным цветом и размером шрифта","Редактирование кода как текста и большой набор возможностей для амбициозных программистов!",0,0,"Введите имя","Введите имя сценария...","Введите некоторые сведения о себе","Введите URL-адрес своего личного веб-сайта (например,\nhttp://www.northwindtraders.com)",0,"Укажите, к какой школе вы относитесь (если такая имеется).",0,0,0,0,"Расширения","Facebook","Заполняет эллипс определенным цветом","Заполняет прямоугольник определенным цветом",0,"При использовании опубликованных скриптов также откройте вкладку страницы для таких скриптов, чтобы найти анонимно собранные данные покрытия и профиля для краудсорсинга.","Форумы",0,"Функции в текущем сценарии",0,0,0,0,0,0,0,0,0,0,"Получает значение, которое указывает на то, защищена ли песня с помощью DRM",0,0,0,0,"Получает горизонтальное положение по центру в пикселях",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Получает высоту в пикселях","Получает высоту изображения с камеры в пикселях.",0,0,0,0,0,0,0,0,0,0,0,0,"Получает громкость звука, значения — от 0 (без звука) до 1 (текущая громкость)",0,0,0,0,0,"Получает ширину в пикселях","Получает ширину изображения с камеры в пикселях.","Получает положение y в пикселях","Приступая к работе",0,"Глобальные переменные в текущем скрипте","Веб-приложение HTML5",0,0,"Скрывает таймер.",0,0,"Как вы узнали о TouchDevelop",0,"Импортировать код","Импортировать скрипт из файла",0,0,0,0,0,0,0,0,0,0,0,0,"Вставить '{0}' {1}","Взаимодействовать с исполняющей средой приложенеия","Элементы, помеченные звездочкой (*), являются обязательными. ","Данные JSON","Присоединиться к группе",0,0,"Библиотеки, на которые ссылается текущий сценарий","Библиотека {0}:\n","Загрузка таблицы рекордов...","Загрузка сессий...","Загрузка данных о версии...",0,0,0,"Заставляет все спрайты отскакивать от границ экрана",0,0,"Я",0,0,"Подробнее",0,0,"Умножает числа",0,0,0,0,0,0,0,0,"Новые скрипты",0,"Новые или встроенные цвета",0,"Объекты, таблицы и индексы в текущем сценарии",0,"Ой, не удалось получить таблицу рекордов. Проверьте ваше интернет-соединение.",0,0,0,"Ой, произошла ошибка при загрузке картинки.",0,0,0,"Открывает таблицу рекордов для текущего скрипта",0,"Партнёры",0,0,"Выбирает случайный цвет","Картинки и музыка...","Картинки, звуки и т.д. в текущем сценарии",0,0,"Подключитесь к интернету, чтобы загрузить таблицу рекордов.",0,"Прочитайте наше заявление о конфиденциальности.",0,"Опубликовать комментарий...",0,0,"Политика конфиденциальности",0,0,0,0,0,"Публикация регулируется нашими ",0,0,0,"Читает текст ответа со звуком WAVE","Получайте уведомления, когда другие люди просматривают или комментируют ваши скрипты, делают их снимки экрана или отвечают на один из ваших комментариев, а также в случае проведения мероприятий, связанных с вашей подпиской.",0,"Вычитает значение из имеющихся баллов шкалы здоровья.","Ответ...","Сообщить/Удалить","Изменяет размер изображения на определенный размер в пикселях",0,"Возвращает копию изображения",0,0,"Возвращает дату, которая прибавляет указанное количество месяцев к значению этого экземпляра.","Возвращает дату, которая прибавляет указанное количество лет к значению этого экземпляра.","Возвращает случайное целое число между значениями min и max включительно.",0,0,0,0,0,0,0,'Возвращает значение "истина", если текущий экземпляр является бесполезным',"Запустить бета-версию Touch Develop.","Запуск встроенных действий.","Выполняет команду оболочки. Это действие доступно только в том случае, когда скрипт запускается на локальном веб-сервере.",0,"Обновления скриптов","Скрипты этого пользователя:",0,0,"Поиск в коде...","Поиск везде","Искать здесь...",0,0,"Поиск...",0,0,0,"Больше",0,0,0,"Задает аффинное преобразование с матричным представлением 3x3, которое применяется к стене.",0,0,0,0,"Задает фоновое изображение","Устанавливает горизонтальное положение по центру в пикселях","Задает количество баллов шкалы здоровья.",0,"Устанавливает высоту в пикселях","Устанавливает положение в пикселях",0,"Устанавливает громкость звука, значения — от 0 (без звука) до 1 (текущая громкость)",0,0,0,0,0,"Устанавливает ширину в пикселях","Устанавливает скорость x в пикселях/с","Устанавливает ускорение y в пикселях/с^2","Устанавливает положение y в пикселях","Устанавливает скорость y в пикселях/с",0,"Параметры",0,"В редакторе будут отображаться ошибки, если в скрипте используются API, которые не дают ему выполняться на этих платформах.",0,0,"Уровень навыка:{0}     ",0,0,0,0,0,0,0,"Вычитает числа",0,"TD100: вставить {0} сюда",'TD101: не удается найти "{0}"',"TD109: невозможно присвоить такое значение","TD111: невозможно присвоить значение от {0} до {1}",'TD112: не удается найти свойство "{0}" в {1}',"TD115: для {0} указаны лишние параметры","TD116: для {0} указано недостаточно параметров",'TD118: для условия "если" нужно указать {1}',0,"TD121: не удается найти тип {0}",'TD130: связанный с "для" элемент требует указать {1}','TD144: кажется, что вы пропустили элемент "{0}", попробуйте добавить его','TD145: кажется, здесь не хватает оператора (например, "+", "(" или ",")','TD147: элемент "{0}" не ожидался здесь',"TD150: не удается вызвать часть перед ' ('","TD151: отсутствует закрывающая ' ('",'TD152: непредвиденный знак ")"',"TD154: после оператора нужно указать еще что-то","TD155: '{0}' не может быть назначен локальной переменной","Научите других креативному программированию!","Технологии предоставляются","Условия использования","Приложение Touch Develop обновлено.","Платформа Touch Develop - Copyright © {0} Корпорация Майкрософт. Все права защищены.","URL-адрес документа",0,0,0,"Пользователь отказал в доступе выполнению командной оболочки.","Вещь",0,0,0,0,0,0,0,"В этом скрипте используются следующие возможности: ","Эта вкладка содержит дополнительные сведения об этом сценарии",0,'Чтобы добавить страничные данные, создайте локальную переменную и нажмите "повысить уровень до поля".',"Локальная коммандная оболочка Touch Develop","Настройки Touch Develop",0,0,"Перевод Microsoft® Переводчика, нажмите, чтобы увидеть оригинал...",0,0,0,"Урок завершён","Учебники","Twitter",0,"Ввести поисковой запрос...",0,0,"Мини-приложение пользовательского интерфейса",0,0,"Обновляет изображение на его спрайте (если это спрайт изображения)",0,"Загрузить изображение","Загрузить звук","Пользователи",0,0,"Мы адаптируем редактор под уровень навыка, если позднее вы измените его в Центре.","Каков ваш уровень знаний о программировании?","Каков ваш род занятий?","Новые возможности","В какой части мира вы находитесь?","Записывает еще одно изображение в определенном расположении. Для прозрачности устанавливаются значения от 0 (прозрачное изображение) до 1 (непрозрачное изображение).",0,"YouTube",0,"Файл .hex скоро будет загружен на ваш BBC micro:bit.","Ваш пользователь GitHub.","Ваш пользователь Minecraft.","Ваши медиа-объекты появятся здесь","Браузер не позволяет Touch Develop сохранять данные. Это обычно происходит когда браузер запущен в режиме инкогнито, или параметры безопасности запрещают сохранять данные в хранилище. Войдите или измените параметры безопасности браузера, чтобы сохранить вашу работу. Все изменения, не сохранённые в облаке, будут утеряны при закрытии этой страницы.","Ваш канал появится здесь","Ваш адрес электронной почты еще не подтвержден. Проверьте папку входящих сообщений.","Ваше полное имя",0,0,0,"Ваш скрипт появится здесь","Ваш дескриптор twitter, например @touchdevelop.","несколько секунд назад","функция","глобальная переменная","минуту назад","страница","о покрытии","об аналитических данных","о профиле","сведения о вас","злоупотребление",0,"сообщения о нарушениях",0,0,0,"доступ к полю {0}",0,"добавить",0,0,0,"добавить комментарий","добавить комментарий для этого поля",0,0,0,"Добавить параметр ввода","добавить строку выше","добавить строку ниже","Добавить",0,0,"Добавить параметр вывода",0,0,"добавить {0}",0,"чужой",0,0,"абсурдно, удивительно, потрясающе, великолепно, волшебно, восхитительно, впечатляюще, головокружительно, замечательно, захватывающе, зрелищно, изумительно, исключительно, классика, колоссально, непревзойденно, ","обработчик событий",0,"час назад","анализ...",0,0,0,0,"приложения",0,"медиа-объекты","медиа-объект","назначение",0,"автор",0,0,"назад","фон","backspace","удалить это клавишей backspace",0,"мяч","база","новичок","начинающие","колокольчик",0,"пустой","пустое приложение",0,0,"пустая игра",0,0,"пустой пиксель арт",0,0,0,"пустой урок","переключиться в отладчик","точка останова",0,0,0,0,0,0,"отмена",0,"кошка","изменить на локальный","изменить содержимое","каналы",0,"выберите файлы .hex или .jsz",0,0,0,0,0,0,0,0,0,"Выберите уровень навыка программирования",0,"очистка данных браузера...","очистить","буфер обмена","клонировать",0,"облачные сеансы","код",0,"программист","цвет №{0}","цвет: {0}","комментарий","комментарии",0,"условное",0,"подключение","консоль","продолжить","конвертировать","копировать","скопировать выделенное","покрытие","создать","создать новый параметр",0,0,0,"создает пустую коллекцию записей","создает пустую коллекцию объектов","Создание скрипта","текущий","текущее выражение","Наделите рисунки индивидуальностью!","вырезать","вырезать выделенное","база данных","отладка","десятичная точка",0,"удалить","удалить локальные данные и разрешения","удалить выделенное","понизить уровень до переменной",0,"описание",0,"пустыня","Сведения",0,0,0,0,0,"отсоедините","отменить","отображаемое значение","отображает объект на стене",0,0,"собака",0,"Готово!","редактировать","иначе если","электронная почта","адрес эл. почты (не отображается)","электронная почта и push-уведомления","адрес эл. почты не подтвержден, {0}",0,0,"введите число",0,0,"ошибки",0,"события",0,"пример: ",0,"отлично; отличная работа; превосходно; классно; вы отлично справляетесь; молодец; выдающийся результат; у вас получилось; в точку","выполняет команды оболочки или управляет файлами.","выход","эксперт","взрыв","экспорт",0,"экспортированно из этой библиотеки","расширить","извлечь",0,"извлечение параметров","извлечь в переменную","найти ссылки","завершено","исправить","следовать учебнику в редакторе",0,"вилки","функция","имя функции",0,"функция, переменная, библиотека,…","пол","Получить сертификат «Час кода»™",0,"пользователь github",0,"глобальная замена","глобальная переменная","глобальные переменные",0,"вернитесь к написанию кода! {0}★ для перехода",0,"перейти","перейти к списку вещей в вашем скрипте","перейти к предыдущему шагу","цель:","группа","группы","сердечки","справка","вот ваш код","скрыть","журнал",0,"как найдено","хочу, чтобы это запускалось на","я подтверждаю прохождение курса Час Кода™",0,"если",0,"проксирование изображения",0,0,"импорт значений столбца из объекта JSON",0,0,0,0,"в этой функции","любопытно, завораживающе, на грани фантастики, невероятно, незабываемо, необыкновенно, необычайно, необычно, отлично, ошеломляюще, поразительно, потрясающе, превосходно, пугающе, ","инициализация...",0,"вставить комментарий","вставить оператор","вставить {0}","аналитические данные",0,"Установка и загрузка скрипта","в локальный","остров","Проблемы",0,0,"джунгли",0,"Редактировать еще",0,"таблица рекордов","обучение",0,"подробнее","узнайте больше о {0}",0,"давайте изменим это","приступим!","давайте приступим!","библиотека","библиотеки","библиотека","имя библиотеки",0,"загрузить еще","загрузить больше ответов",0,0,"загрузка комментариев для {0}...",0,0,"загрузка скрипта",0,"загрузка...",0,"расположение","журнал","логическое отрицание","журналы",0,"сделать вызов асинхронного",0,"управление данными","возможно, позже","я","мяу",0,"пользователь minecraft",0,"луна","больше","вперед ","дополнительные параметры","переместить курсор","переместиться влево",0,"переместить курсор влево","переместить курсор вправо","мои медиа-объекты","моя группа","мои группы","мой скрипт","мои скрипты",0,0,0,0,"нужно удалить это","необходимо отредактировать в другом месте","отрицание",0,0,0,0,"новая строка",0,0,"новое свойство","новый stmt ниже","новая переменная","следующая страница","Следующий курс...","псевдоним","нет","Данный пользователь не публиковал картинки","нет комментариев, нажмите, чтобы их оставить!","Ветвления отсутствуют: чтобы создать ветвление, установите, отредактируйте и заново опубликуйте скрипт.","Сердец нет. Установите скрипт и добавьте их сами!","изображение еще не загружено","нет предыдущего адреса","пока скриншотов нет!","нет тегов, нажмите, чтобы их добавить!","в группе нет пользователей!","неатомарная","не сегодня","уведомления","сейчас","теперь вы можете выбрать свойство элемента {0}; сам по себе этот элемент ничего не делает","теперь вы можете выбрать свойство в этом",0,"ввод чисел","объекты","род занятий","объекта","автономный режим доступен","хорошо",0,"в сети","открыть","или нажмите, чтобы получить помощь","другие","обзор","перезаписать","страницы","имя параметра","анализ текста скрипта","пароль был сброшен","вставить","приостановить","разрешения",0,"выберите шаблон скрипта...","рисунок",0,0,0,"играть еще раз",0,"подождите...","подключаемые модули","предварительный просмотр","печать","политика конфиденциальности","частный",0,"Частный профиль","профиль","знания о программировании","прогресс",0,0,"общедоступный псевдоним","общедоступный профиль","опубликовать",0,0,0,"перетащить изменения","перенести на уровень блоков","тыква","повторный запуск","подробнее...","только чтение","настоящее имя","реальное имя (не отображается)","получение бюллетеней по электронной почте","получение уведомлений по электронной почте","имя записи:","повторное развертывание командной оболочки...","обычная дополнительная клавиатура",0,"удалить",0,"удалить рисунок",0,"удаление скрипта...","переименовать","повторить n раз","повторять на коллекции","повторять во время",0,"заменить все в скрипте","Заменить изображение",0,0,"ответить","сообщить о нарушении","продолжить","вернуться к опубликованной версии",0,"назад ","запустить","запустить главный блок","запустить тесты","запуск с инструментированием","сохранить",0,"Сохранение","школа","экраны","скриншоты","скриншот {0}","скрипт","свойства скрипта","скрипты","поиск","Поиск картинок","поиск в изображениях из числа медиа-объектов","искать {0} здесь","поиск шаблона","поиск...","посмотреть другие варианты","выбрать","выбрать дополнительные элементы","выберите эту строку",0,"выберите {0}","последовательный","установить имя локальной переменной","установить имя",0,"установите обработчик, который вызывается при касании доски",0,0,0,0,"параметры","поделиться","показать","показать, как нужно завершить это действие","показать дополнительные параметры","витрина",0,"войти как:","требуется вход","выход","выполняется вход...","выход","упростить","уровень навыков сохранён","пропустить итерацию","пропустить","социальные","извините","звук","url-адрес звука",0,"разделить","начать бета-тестирование","начать заново",0,"запуск...","статистика","шаг с заходом","шаг с выходом","шаг с обходом","компиляция продолжается, пожалуйста, подождите...","остановить","выйти из бета-тестирования","остановить функцию","остановить цикл","сохранить в переменной","сохранить значение в переменной","строка","строковый ресурс",'полоса "{0}"',"скопированное","подписчики","подписки","сверхъестественно, сногсшибательно, уникально, удивительно, умопомрачительно, уникально, фантастически, феноменально, чудесно, эксклюзивно","окружить","синхронизировать",0,"синхронизация...","таблица","содержание","таблицы","тег {0} не разршён","этот тег не разрешён","теги","сделать снимок","получатель","нажмите (←), когда закончите",0,0,0,0,"нажмите здесь","нажмите здесь, чтобы получить инструкции","нажмите здесь для запуска приложения","нажмите, чтобы изменить цвет",0,"нажмите, чтобы изменить изображение экрана заставки","нажмите, чтобы перевести Microsoft® Переводчиком...",0,"условия использования","тест","функция теста","тесты",0,"текущая функция","форум","главный экран",0,"скрипт сломался","командная оболочка и/или файловая система. Этот скрипт может нанести вред вашему компьютеру. Не разрешайте, если не доверяете источнику.","этот","этот скрипт является библиотекой",0,"время и даты","в код","чтобы продолжить","до глобальной переменной","переключить точку останова","наиболее популярные и новые","touch develop","touch develop в автономном режиме{0}","перевести","перевод урока...",0,"истина или ложь","истина?","попробуйте еще раз!","преобразовать в","Прохождение курса","учебник: ","учебники","дескриптор twitter","тип: ","введите: {0}","типы","раскомментировать","под капотом (dbg): ","отменить","отменить исправление","отобразить","единорог","Удалить","удалить скрипты","удаление...","неизвестный редактор",0,"снять выделение","отписаться","обновить","обновить их!","обновление библиотек","обновление метаданных","обновление изображения...","обновление скрипта","обновление скриптов","загрузить","загрузить картинку","загрузить снимок экрана","загрузить звук",0,"загрузка документов","загрузка изображений","url-адрес",0,"использовать компилятор C++","пользователи",0,"переменная","имя переменной","посмотреть как скрипт","просмотреть/изменить имя, электронную почту, ...",0,"обои",'здесь есть библиотека "{0}"; {1}',"здесь находится {0:a}; вы хотели что-то с ним сделать?",0,0,"нам нужна новая {0}","нужна другая дополнительная клавиатура",0,"нам необходимо отредактировать еще кое-что","мы будем сопровождать вас на всех этапах","веб-приложения","ключ веб-сайта","имя веб-сайта","адрес веб-сайта","веб-сайт","имя веб-сайта","URL-адрес веб-сайта","какой тип события добавить?","белый","усердно работает","пишет {0}","написал","год рождения","да","вы также можете искать","вам удалось это!","ваш лучший результат: {0}","{0} (линий: {1})","Дней назад: {0}","{0} вниз",0,0,0,"Часов назад: {0}","Минут назад: {0}","Месяцев назад: {0}",0,0,0,"Секунд назад: {0}","{0} вверх","Лет назад: {0}","{box:avatar:avatar}\n",0,"● Войти"]),!0):"sv"==e?(TDev.Util._setLanguageArray(t,[0,0," -- en lokal variabel",0,0,0,0,0,0,0,0,0,0,0,0,"JavaScript-klammerparenteser, alla verktygen, för erfarna utvecklare!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,", men fick en {0:a}",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>den här raden är perfekt!</b> vi fortsätter","<h3>laddar aktuella inställningar...</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Ett unikt visningsnamn för din offentliga profil (minst 8 tecken)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Lägger till värde till aktuellt poängvärde.",0,0,0,0,"Alla mina skript",0,0,0,0,0,0,0,"En tom app använder sidor och rutor.","En tom app som använder scratch-biblioteket.",0,0,0,0,0,0,0,0,"En sköldpaddeapp.",0,0,0,0,"Den här användarens konst:",0,0,"Standardkod för att skapa ett spel",0,0,0,0,0,0,"Ändra kunskapsnivå!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Skapa kod",0,"Skapa skript",0,0,0,"Skapa en ny bildsprite.",0,"Skapa ett nytt skript",0,0,0,0,0,"Skapa kanal",0,0,0,"Skapa egna appar",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Överlappar spriterna","Vill du få informativa nyhetsbrev om TouchDevelop, t.ex. om nya funktioner och kommande evenemang?","Dokument","Glöm inte att trycka på ”spara” längst ned när du har redigerat klart!","Dra och släpp block, förenklat användargränssnitt, perfekt för nybörjare!",0,0,"Redigera kod som text, fler alternativ, för aspirerande apputvecklare!",0,0,0,0,"Ange information om dig själv","Ange adressen till din personliga webbplats (till exempel: http://www.northwindtraders.com)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Anger höjden i pixlar",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Anger y-positionen i pixlar","Komma igång",0,"Globala variabler från aktuellt liv",0,0,0,0,0,0,"Hur upptäckte du TouchDevelop?",0,"Importera kod","Importera ett skript från en fil",0,0,0,0,0,0,0,0,0,0,0,0,"Infoga '{0}' {1}",0,"Objekt markerade med * måste anges.",0,0,0,0,0,0,0,0,0,0,0,0,"Får en sprite att studsa på skärmens kant",0,0,"Mig",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Läs igenom vårt sekretessmeddelande.",0,0,0,0,0,0,0,0,0,"Publicera ditt skript så att alla kan köra det.",0,0,0,0,0,"Ta emot e-postmeddelanden när andra granskar/tar en skärmdump av/kommenterar dina skript eller svarar på någon av dina kommenterar eller när någonting kopplat till din prenumeration inträffar.",0,"Tar bort värde från aktuellt liv.",0,"Rapportera/Ta bort",0,0,0,0,0,0,0,"Returnerar ett slumpmässigt inbyggt nummer mellan ”min” och ”max”.",0,0,0,0,0,0,0,0,0,0,0,0,0,"Den här användarens skript:",0,0,"Sök kod ...","Sök i allt","Sök här...",0,0,"Sök...",0,0,0,"Se mer",0,0,0,0,0,0,0,0,"Ställer in bakgrundsbilden",0,"Anger aktuella livpoäng.",0,0,"Anger positionen i pixlar",0,0,0,0,0,0,0,"Anger bredden i pixlar","Anger x-hastigheten i pixlar/sek","Anger y-accelerationen i pixlar/sek^2",0,"Anger y-hastigheten i pixlar/sek",0,"Inställningar",0,0,0,0,"Kunskapsnivå: {0}     ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"TD118: ”if-villkor” vill ha ett {1:a} uttryck",0,0,0,0,0,0,0,0,0,0,0,"Lär ut kreativ kodning!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Översättning av Microsoft® Translator, tryck för att se originaltext ...",0,0,0,0,"Lektioner",0,0,0,0,0,"UI-widget",0,0,0,0,0,0,0,0,0,"Vi anpassar redigeraren efter din kunskapsnivå. Du kan ändra kunskapsnivå i hubben senare.","På vilken nivå ligger dina programmeringskunskaper?","Vad har du för sysselsättning?","Senaste nytt","Var i världen befinner du dig?",0,0,0,0,0,"Din GitHub-användare.","Din Minecraft-användare.",0,0,"Din kanal visas här","Din e-postadress har inte bekräftats än. Kontrollera din inbox.","Ditt fullständiga namn",0,0,0,"Ditt skript visas här","Ditt twitternamn, t.ex. @touchdevelop.","några sekunder sedan","en funktion","en global variabel","1 minut sedan",0,0,0,0,"om dig",0,0,"rapporter om missbruk",0,0,0,0,0,"lägg till",0,0,0,0,0,0,0,0,0,0,"lägg till rad under","lägg till ny",0,0,0,0,0,0,0,0,0,0,0,0,0,"1 timme sedan",0,0,0,0,0,0,0,"konst",0,"uppgift",0,0,0,0,0,0,"backsteg","ta bort det här",0,0,0,"nybörjare","nybörjare",0,0,0,"tom app",0,0,"tomt spel",0,0,0,"tom scratch",0,"tom sköldpadda",0,0,0,0,0,0,0,0,0,"avbryt",0,0,0,0,"kanaler",0,0,0,0,0,0,0,0,0,0,0,"välj kunskapsnivå",0,0,0,0,"klona",0,0,"kod",0,"kodare",0,0,0,0,0,"villkor",0,0,0,0,0,"kopiera",0,0,"skapa",0,0,0,0,0,0,"skapar skript",0,0,"anpassa konsten!","klipp ut",0,0,0,"decimaltecken",0,0,0,0,0,0,0,0,0,"information",0,0,0,0,0,0,"stäng","visa värde",0,0,0,0,0,0,"redigera",0,"e-post","e-post (privat)","e-post och push-meddelanden","ej verifierad e-postadress, {0}",0,0,0,0,0,0,0,0,0,"till exempel: ",0,"utmärkt; bra jobbat; fantastiskt; coolt; du är grym; bra gjort; toppen; exakt så; precis",0,0,"expert",0,0,0,0,0,0,0,0,0,0,"klar",0,"följ lektionen i redigeraren",0,0,"funktion",0,0,"funktion, variabel, bibliotek...","kön","hämta mitt Hour of Code™-certifikat",0,"github-användare",0,0,0,"globala variabler",0,"tillbaka till kodning! {0}★ kvar",0,0,0,"gå tillbaka till föregående steg","mål:",0,0,0,"hjälp",0,0,"historik",0,"hur hittade",0,"jag är klar med min Hour of Code™",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"infoga kommentar","infoga påstående","infoga {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,"lär",0,0,0,0,"det här ska vi ändra på","nu kör vi!","nu kör vi igång!",0,"bibliotek",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"plats",0,"logisk negation",0,0,0,0,0,0,0,0,0,"minecraft-användare",0,0,"mer","mer ","fler inställningar","flytta markör",0,0,"flytta markören åt vänster","flytta markören åt höger",0,0,0,0,"mina skript",0,0,0,0,0,0,"negation",0,0,0,0,0,0,0,0,0,"ny variabel",0,"nästa självstudie ...","användarnamn",0,0,0,0,0,0,"ingen tidigare e-postadress",0,0,0,0,0,"meddelanden",0,0,0,0,0,0,"sysselsättning",0,0,0,0,0,0,0,0,"översikt",0,0,0,"tolkar skripttext",0,"klistra in","pausa",0,0,"välj en skriptmall...","bild",0,0,0,"spela igen",0,"vänta ...",0,0,0,0,"privat",0,"privat profil",0,"programmeringskunskaper",0,0,0,"offentligt användarnamn","offentlig bild","publicera",0,0,0,0,0,0,0,"se mer ...",0,"riktigt namn","riktigt namn (privat)","ta emot nyhetsbrev via e-post","ta emot e-postmeddelanden",0,0,0,0,"ta bort",0,"ta bort bild",0,0,0,"upprepa n gånger",0,"upprepa medan",0,0,0,0,0,0,0,0,0,"spola tillbaka","spola tillbaka ","kör","kör huvudsaklig",0,0,"spara",0,"sparar...","skola",0,0,0,"skript","skriptegenskaper",0,0,"sök efter konst",0,"sök efter {0} här","sök mallar",0,0,"markera",0,"tryck på den linjen",0,0,0,0,"ange namn",0,0,0,0,0,0,0,0,0,0,"visa fler alternativ","showcase",0,0,0,"logga ut",0,0,0,0,"hoppa över upprepning",0,0,0,0,0,0,"dela",0,0,0,0,0,0,0,0,0,0,0,"stoppfunktion","stoppslinga",0,"lagra värdet i en variabel","sträng",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"tryck här",0,"tryck här för att köra din app",0,0,0,0,0,"användarvillkor",0,0,0,0,0,0,"hubben",0,0,0,0,0,0,0,0,"för att fortsätta","till global var",0,0,0,0,0,0,0,0,0,"försök igen!","gör till","lektionsförlopp","lektion: ","lektioner","twitternamn","skriv: ","skriv: {0}",0,0,0,"ångra",0,0,0,"avinstallera",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"visa/redigera namn, e-post, ...",0,"bakgrund",0,"här har vi en {0:a}, vill du göra något med den?",0,0,0,0,0,0,"vi kommer att guida dig steg för steg",0,0,0,0,"webbplats",0,"webbadress",0,0,0,0,0,"födelseår",0,0,0,0,0,"{0} dagar sedan",0,0,0,0,0,"{0} minuter sedan","{0} månader sedan",0,0,0,"{0} sekunder sedan",0,"{0} år sedan",0,0,"● Logga in"]),!0):"sv-SE"==e?(TDev.Util._setLanguageArray(t,[0,0," -- en lokal variabel",0,0,0,0,0,0,0,0,0,0,0,0,"JavaScript-klammerparenteser, alla verktygen, för erfarna utvecklare!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,", men fick en {0:a}",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>den här raden är perfekt!</b> vi fortsätter","<h3>laddar aktuella inställningar...</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Ett unikt visningsnamn för din offentliga profil (minst 8 tecken)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Lägger till värde till aktuellt poängvärde.",0,0,0,0,"Alla mina skript",0,0,0,0,0,0,0,"En tom app använder sidor och rutor.","En tom app som använder scratch-biblioteket.",0,0,0,0,0,0,0,0,"En sköldpaddeapp.",0,0,0,0,"Den här användarens konst:",0,0,"Standardkod för att skapa ett spel",0,0,0,0,0,0,"Ändra kunskapsnivå!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Skapa kod",0,"Skapa skript",0,0,0,"Skapa en ny bildsprite.",0,"Skapa ett nytt skript",0,0,0,0,0,"Skapa kanal",0,0,0,"Skapa egna appar",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Överlappar spriterna","Vill du få informativa nyhetsbrev om TouchDevelop, t.ex. om nya funktioner och kommande evenemang?","Dokument","Glöm inte att trycka på ”spara” längst ned när du har redigerat klart!","Dra och släpp block, förenklat användargränssnitt, perfekt för nybörjare!",0,0,"Redigera kod som text, fler alternativ, för aspirerande apputvecklare!",0,0,0,0,"Ange information om dig själv","Ange adressen till din personliga webbplats (till exempel: http://www.northwindtraders.com)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Anger höjden i pixlar",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Anger y-positionen i pixlar","Komma igång",0,"Globala variabler från aktuellt liv",0,0,0,0,0,0,"Hur upptäckte du TouchDevelop?",0,"Importera kod","Importera ett skript från en fil",0,0,0,0,0,0,0,0,0,0,0,0,"Infoga '{0}' {1}",0,"Objekt markerade med * måste anges.",0,0,0,0,0,0,0,0,0,0,0,0,"Får en sprite att studsa på skärmens kant",0,0,"Mig",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Läs igenom vårt sekretessmeddelande.",0,0,0,0,0,0,0,0,0,"Publicera ditt skript så att alla kan köra det.",0,0,0,0,0,"Ta emot e-postmeddelanden när andra granskar/tar en skärmdump av/kommenterar dina skript eller svarar på någon av dina kommenterar eller när någonting kopplat till din prenumeration inträffar.",0,"Tar bort värde från aktuellt liv.",0,"Rapportera/Ta bort",0,0,0,0,0,0,0,"Returnerar ett slumpmässigt inbyggt nummer mellan ”min” och ”max”.",0,0,0,0,0,0,0,0,0,0,0,0,0,"Den här användarens skript:",0,0,"Sök kod ...","Sök i allt","Sök här...",0,0,"Sök...",0,0,0,"Se mer",0,0,0,0,0,0,0,0,"Ställer in bakgrundsbilden",0,"Anger aktuella livpoäng.",0,0,"Anger positionen i pixlar",0,0,0,0,0,0,0,"Anger bredden i pixlar","Anger x-hastigheten i pixlar/sek","Anger y-accelerationen i pixlar/sek^2",0,"Anger y-hastigheten i pixlar/sek",0,"Inställningar",0,0,0,0,"Kunskapsnivå: {0}     ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"TD118: ”if-villkor” vill ha ett {1:a} uttryck",0,0,0,0,0,0,0,0,0,0,0,"Lär ut kreativ kodning!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Översättning av Microsoft® Translator, tryck för att se originaltext ...",0,0,0,0,"Lektioner",0,0,0,0,0,"UI-widget",0,0,0,0,0,0,0,0,0,"Vi anpassar redigeraren efter din kunskapsnivå. Du kan ändra kunskapsnivå i hubben senare.","På vilken nivå ligger dina programmeringskunskaper?","Vad har du för sysselsättning?","Senaste nytt","Var i världen befinner du dig?",0,0,0,0,0,"Din GitHub-användare.","Din Minecraft-användare.",0,0,"Din kanal visas här","Din e-postadress har inte bekräftats än. Kontrollera din inbox.","Ditt fullständiga namn",0,0,0,"Ditt skript visas här","Ditt twitternamn, t.ex. @touchdevelop.","några sekunder sedan","en funktion","en global variabel","1 minut sedan",0,0,0,0,"om dig",0,0,"rapporter om missbruk",0,0,0,0,0,"lägg till",0,0,0,0,0,0,0,0,0,0,"lägg till rad under","lägg till ny",0,0,0,0,0,0,0,0,0,0,0,0,0,"1 timme sedan",0,0,0,0,0,0,0,"konst",0,"uppgift",0,0,0,0,0,0,"backsteg","ta bort det här",0,0,0,"nybörjare","nybörjare",0,0,0,"tom app",0,0,"tomt spel",0,0,0,"tom scratch",0,"tom sköldpadda",0,0,0,0,0,0,0,0,0,"avbryt",0,0,0,0,"kanaler",0,0,0,0,0,0,0,0,0,0,0,"välj kunskapsnivå",0,0,0,0,"klona",0,0,"kod",0,"kodare",0,0,0,0,0,"villkor",0,0,0,0,0,"kopiera",0,0,"skapa",0,0,0,0,0,0,"skapar skript",0,0,"anpassa konsten!","klipp ut",0,0,0,"decimaltecken",0,0,0,0,0,0,0,0,0,"information",0,0,0,0,0,0,"stäng","visa värde",0,0,0,0,0,0,"redigera",0,"e-post","e-post (privat)","e-post och push-meddelanden","ej verifierad e-postadress, {0}",0,0,0,0,0,0,0,0,0,"till exempel: ",0,"utmärkt; bra jobbat; fantastiskt; coolt; du är grym; bra gjort; toppen; exakt så; precis",0,0,"expert",0,0,0,0,0,0,0,0,0,0,"klar",0,"följ lektionen i redigeraren",0,0,"funktion",0,0,"funktion, variabel, bibliotek...","kön","hämta mitt Hour of Code™-certifikat",0,"github-användare",0,0,0,"globala variabler",0,"tillbaka till kodning! {0}★ kvar",0,0,0,"gå tillbaka till föregående steg","mål:",0,0,0,"hjälp",0,0,"historik",0,"hur hittade",0,"jag är klar med min Hour of Code™",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"infoga kommentar","infoga påstående","infoga {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,"lär",0,0,0,0,"det här ska vi ändra på","nu kör vi!","nu kör vi igång!",0,"bibliotek",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"plats",0,"logisk negation",0,0,0,0,0,0,0,0,0,"minecraft-användare",0,0,"mer","mer ","fler inställningar","flytta markör",0,0,"flytta markören åt vänster","flytta markören åt höger",0,0,0,0,"mina skript",0,0,0,0,0,0,"negation",0,0,0,0,0,0,0,0,0,"ny variabel",0,"nästa självstudie ...","användarnamn",0,0,0,0,0,0,"ingen tidigare e-postadress",0,0,0,0,0,"meddelanden",0,0,0,0,0,0,"sysselsättning",0,0,0,0,0,0,0,0,"översikt",0,0,0,"tolkar skripttext",0,"klistra in","pausa",0,0,"välj en skriptmall...","bild",0,0,0,"spela igen",0,"vänta ...",0,0,0,0,"privat",0,"privat profil",0,"programmeringskunskaper",0,0,0,"offentligt användarnamn","offentlig bild","publicera",0,0,0,0,0,0,0,"se mer ...",0,"riktigt namn","riktigt namn (privat)","ta emot nyhetsbrev via e-post","ta emot e-postmeddelanden",0,0,0,0,"ta bort",0,"ta bort bild",0,0,0,"upprepa n gånger",0,"upprepa medan",0,0,0,0,0,0,0,0,0,"spola tillbaka","spola tillbaka ","kör","kör huvudsaklig",0,0,"spara",0,"sparar...","skola",0,0,0,"skript","skriptegenskaper",0,0,"sök efter konst",0,"sök efter {0} här","sök mallar",0,0,"markera",0,"tryck på den linjen",0,0,0,0,"ange namn",0,0,0,0,0,0,0,0,0,0,"visa fler alternativ","showcase",0,0,0,"logga ut",0,0,0,0,"hoppa över upprepning",0,0,0,0,0,0,"dela",0,0,0,0,0,0,0,0,0,0,0,"stoppfunktion","stoppslinga",0,"lagra värdet i en variabel","sträng",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"tryck här",0,"tryck här för att köra din app",0,0,0,0,0,"användarvillkor",0,0,0,0,0,0,"hubben",0,0,0,0,0,0,0,0,"för att fortsätta","till global var",0,0,0,0,0,0,0,0,0,"försök igen!","gör till","lektionsförlopp","lektion: ","lektioner","twitternamn","skriv: ","skriv: {0}",0,0,0,"ångra",0,0,0,"avinstallera",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"visa/redigera namn, e-post, ...",0,"bakgrund",0,"här har vi en {0:a}, vill du göra något med den?",0,0,0,0,0,0,"vi kommer att guida dig steg för steg",0,0,0,0,"webbplats",0,"webbadress",0,0,0,0,0,"födelseår",0,0,0,0,0,"{0} dagar sedan",0,0,0,0,0,"{0} minuter sedan","{0} månader sedan",0,0,0,"{0} sekunder sedan",0,"{0} år sedan",0,0,"● Logga in"]),!0):"th"==e?(TDev.Util._setLanguageArray(t,[0,0," -- ตัวแปรภายใน",0,0,0,0,0,0,0,0,0,0,0,0,"'วงเล็บปีกกาของ Javascripty' เครื่องมือทั้งหมด สำหรับนักพัฒนาผู้มีประสบการณ์",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"แต่ได้รับ {0:a} แทน",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>บรรทัดนี้สมบูรณ์แล้ว!</b> ไปต่อบรรทัดอื่นเลย","<h3>กำลังโหลดการตั้งค่าปัจจุบัน...</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ชื่อที่แสดงที่ไม่ซ้ำกันสำหรับโพรไฟล์สาธารณะของคุณ (อย่างน้อย 8 อักขระ)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"เพิ่มค่าลงในคะแนนปัจจุบัน",0,0,0,0,"สคริปต์ของฉันทั้งหมด",0,0,0,0,0,0,0,"แอปว่างเปล่าที่ใช้หน้าและกล่อง","แอปว่างเปล่าที่ใช้ไลบรารี Scratch",0,0,0,0,0,0,0,0,"แอปเต่า",0,0,0,0,"งานศิลป์โดยผู้ใช้รายนี้:",0,0,"โค้ด Boilerplate ในการสร้างเกม",0,0,0,0,0,0,"เปลี่ยนระดับทักษะ!","ช่อง",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"สร้างโค้ด",0,"สร้างสคริปต์",0,0,0,"สร้างสไปรท์รูปภาพใหม่",0,"สร้างสคริปต์ใหม่",0,0,0,0,0,"สร้างช่อง",0,0,0,"สร้างแอปของคุณเอง",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ทำ Sprite ให้ทับซ้อนกัน","คุณต้องการรับจดหมายข่าวข้อมูลเกี่ยวกับ TouchDevelop เช่น เกี่ยวกับคุณลักษณะใหม่และกิจกรรมที่จะมีขึ้นหรือไม่","เอกสาร",'อย่าลืมเลื่อนลงและแตะ "บันทึก" เมื่อคุณแก้ไขเสร็จแล้ว!',"ลากและวางบล็อก อินเทอร์เฟซประยุกต์ ยอดเยี่ยมสำหรับผู้เริ่มต้น",0,0,"แก้ไขโค้ดในแบบข้อความ ตัวเลือกมากขึ้น สำหรับผู้เขียนแอปหัวก้าวหน้า!",0,0,0,0,"ใส่ข้อมูลบางอย่างเกี่ยวกับตัวคุณ","ใส่ URL ไปยังเว็บไซต์ส่วนตัวของคุณ (ตัวอย่างเช่น:\nhttp://www.northwindtraders.com)",0,"ใส่สังกัดของโรงเรียนคุณ (หากมี).",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"รับความกว้างเป็นพิกเซล",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"รับตำแหน่ง y เป็นพิกเซล","เริ่มต้นกันเลย",0,"ตัวแปรส่วนกลางในสคริปต์ปัจจุบัน",0,"ช่วยเหลือ",0,0,0,0,"คุณค้นพบ TouchDevelop ได้อย่างไร",0,"อิมพอร์ตโค้ด","อิมพอร์ตสคริปต์จากไฟล์",0,0,0,0,0,0,0,0,0,0,0,0,"แทรก '{0}' {1}",0,"รายการที่ทำเครื่องหมาย * เป็นรายการที่ต้องระบุ ",0,0,0,0,0,0,0,0,0,0,0,0,"ทำให้สไปรท์ทั้งหมดกระเด้งบนขอบของหน้าจอ",0,0,"ฉัน",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ตรวจสอบคำชี้แจงสิทธิส่วนบุคคลของเรา.",0,0,0,0,0,0,0,0,0,"เผยแพร่สคริปต์ของคุณเพื่อให้ทุกคนนำไปใช้งานได้",0,0,0,0,0,"รับการแจ้งเตือนทางอีเมลเมื่อมีคนอื่นมารีวิว/บันทึกภาพหน้าจอ/แสดงข้อคิดเห็นบนสคริปต์ของคุณ หรือตอบกลับข้อคิดเห็นใดข้อคิดเห็นหนึ่งของคุณ หรือเมื่อมีกิจกรรมที่เกี่ยวข้องกับการสมัครใช้งานของคุณ ",0,"นำค่าออกจากชีวิตปัจจุบัน",0,"รายงาน/ลบ",0,0,0,0,0,0,0,"แสดงจำนวนเต็มแบบสุ่มระหว่าง “min” และ “max” ที่รวมอยู่ด้วย",0,0,0,0,0,0,0,0,0,0,0,0,0,"สคริปต์โดยผู้ใช้รายนี้:",0,0,"ค้นหาโค้ด…","ค้นหาทุกอย่าง","ค้นหาที่นี่…",0,0,"ค้นหา…",0,0,0,"ดูเพิ่มเติม",0,0,0,0,0,0,0,0,"กำหนดรูปภาพพื้นหลัง",0,"กำหนดจุดชีวิตปัจจุบัน",0,0,"กำหนดตำแหน่งในพิกเซล",0,0,0,0,0,0,0,"กำหนดความกว้างเป็นพิกเซล","กำหนดความเร็ว x เป็นพิกเซล/วินาที","กำหนด y ในความเร่งเป็นพิกเซล/วินาที^2",0,"กำหนดความเร็ว y เป็นพิกเซล/วินาที",0,0,0,0,0,0,"ระดับทักษะ:{0}     ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,'TD118: เงื่อนไข "ถ้า" ต้องการ {1:a}',0,0,0,0,0,0,0,0,0,0,0,"สอน Creative Coding!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"แปลโดยนักแปลของ Microsoft® แตะเพื่อดูต้นฉบับ...",0,0,0,0,"บทช่วยสอน",0,0,0,0,0,"วิดเจ็ต UI",0,0,0,0,0,0,0,0,0,"เราจะปรับตัวแก้ไขในการเขียนโค้ดของคุณเพื่อเปลี่ยนระดับทักษะในฮับหลังจากนั้น","ระดับความรู้ในการเขียนโปรแกรมของคุณอยู่ในระดับใด?","คุณประกอบอาชีพใด","มีอะไรใหม่","คุณอยู่ที่ใด",0,0,0,0,0,"ผู้ใช้ GitHub ของคุณ.","ผู้ใช้ Minecraft ของคุณ",0,0,"ช่องของคุณจะปรากฏที่นี่","ที่อยู่อีเมลยังไม่ได้รับการยืนยัน โปรดตรวจสอบกล่องขาเข้าของคุณ.","ชื่อเต็มของคุณ",0,0,0,"สคริปต์ของคุณจะปรากฏที่นี่","ตัวจัดการ Twitter ของคุณ เช่น @touchdevelop.","สองสามวินาทีที่ผ่านมา","ฟังก์ชัน","ตัวแปรส่วนกลาง","1 นาทีที่ผ่านมา",0,0,0,0,"เกี่ยวกับคุณ",0,0,"การแจ้งการใช้งานในทางที่ผิด",0,0,0,0,0,"เพิ่ม",0,0,0,0,0,0,0,0,0,0,"เพิ่มบรรทัดด้านล่าง","เพิ่มใหม่",0,0,0,0,0,0,0,0,0,0,0,0,0,"1 ชั่วโมงที่ผ่านมา",0,0,0,0,0,0,0,"งานศิลป์",0,"การกำหนด",0,0,0,0,0,0,"แป้นถอยหลัง","Backspace สิ่งนี้",0,0,0,"ผู้เริ่มต้น","ผู้เริ่มต้น",0,0,0,"แอปเปล่า",0,0,"เกมว่าง",0,0,0,"Scratch เปล่า",0,"เต่าเปล่า",0,0,0,0,0,0,0,0,0,"ยกเลิก",0,0,0,0,"ช่อง",0,0,0,0,0,0,0,0,0,0,0,"เลือกระดับทักษะการเขียนโค้ดของคุณ",0,0,0,0,"ลอกแบบ",0,0,"โค้ด",0,"ตัวเข้ารหัส",0,0,0,0,0,"เป็นเงื่อนไข  ",0,0,0,0,0,"คัดลอก ",0,0,"สร้าง",0,"สร้างช่อง",0,0,0,0,"กำลังสร้างสคริปต์ ",0,0,"กำหนดงานศิลป์เอง","ตัด",0,0,0,"จุดทศนิยม",0,0,0,0,0,0,0,0,0,"รายละเอียด",0,0,0,0,0,0,"ยกเลิก ","แสดงค่า",0,0,0,0,0,0,"แก้ไข",0,"อีเมล","อีเมล (ส่วนตัว)","อีเมลและการแจ้งเตือนแบบพุช","อีเมลไม่ได้รับการยืนยัน {0}",0,0,0,0,0,0,0,0,0,"ตัวอย่าง: ",0,"ยอดเยี่ยม; ดีมาก; สุดยอด; เลิศมาก; คุณเจ๋ง; ทำได้ดี; เลิศมาก; คุณทำได้; เป๊ะเลย",0,0,"ผู้เชี่ยวชาญ",0,0,0,0,0,0,0,0,0,0,"เสร็จสิ้น",0,"ทำตามบทช่วยสอนในตัวแก้ไข",0,0,"ฟังก์ชัน",0,0,"ฟังก์ชัน ตัวแปร ไลบรารี…","เพศ","รับประกาศนียบัตร Hour of Code™ ของฉัน",0,"ผู้ใช้ GitHub",0,0,0,"ตัวแปรส่วนกลาง",0,"กลับไปที่การเขียนโค้ด {0}★ เพื่อไป",0,0,0,"ไปที่ขั้นตอนก่อนหน้านี้","เป้าหมาย:",0,0,0,"ช่วยเหลือ",0,0,"ประวัติ",0,"พบได้อย่างไร",0,"ฉันเข้ารับการแนะแนว Hour of Code™ เสร็จสิ้นแล้ว",0,0,0,0,0,"อิมพอร์ตโค้ด",0,0,0,0,0,0,0,0,0,"แทรกเอกสาร","แทรกคำสั่ง","แทรก {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,"เรียนรู้",0,0,0,0,"ลองเปลี่ยนสิ่งนี้กัน","เริ่มกันเถอะ!","มาเริ่มกันเถอะ!",0,"ไลบรารี",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ที่ตั้ง",0,"ค่าลบตรรกะ",0,0,0,0,0,0,0,0,0,"ผู้ใช้ Minecraft ",0,0,"เพิ่มเติม","มากกว่า ","การตั้งค่าเพิ่มเติม","ย้ายเคอร์เซอร์ ",0,0,"เลื่อนเคอร์เซอร์ไปทางซ้าย","เลื่อนเคอร์เซอร์ไปทางขวา",0,0,0,0,"สคริปต์ของฉัน",0,0,0,0,0,0,"ค่าลบ",0,0,0,0,0,0,0,0,0,"ตัวแปรใหม่",0,"บทช่วยสอนถัดไป...","ชื่อเล่น",0,0,0,0,0,0,"ไม่มีอีเมลก่อนหน้านี้",0,0,0,0,0,"การแจ้งเตือน",0,0,0,0,0,0,"อาชีพ",0,0,0,0,0,0,0,0,"ภาพรวม",0,0,0,"กำลังแยกวิเคราะห์ข้อความสคริปต์",0,"วาง","หยุดชั่วคราว",0,0,"เลือกเทมเพลตสคริปต์...","รูปภาพ",0,0,0,"เล่นอีกครั้ง",0,"โปรดรอ...",0,0,0,0,"ส่วนตัว",0,"โพรไฟล์ส่วนตัว",0,"ความรู้ในการเขียนโปรแกรม",0,0,0,"ชื่อเล่นสาธารณะ ","โพรไฟล์สาธารณะ","เผยแพร่",0,0,0,0,0,0,0,"อ่านเพิ่มเติม…",0,"ชื่อจริง","ชื่อเต็ม (ส่วนตัว)","รับจดหมายข่าวทางอีเมล","รับการแจ้งเตือนทางอีเมล",0,0,0,0,"นำออก",0,"นำรูปภาพออก",0,0,0,"ทำซ้ำ n ครั้ง",0,"ทำซ้ำขณะ",0,0,0,0,0,0,0,0,0,"กรอกลับ","กรอกลับ ","เรียกใช้","เรียกใช้ส่วนหลัก",0,0,"บันทึก",0,"กำลังบันทึก…","โรงเรียน",0,0,0,"สคริปต์","คุณสมบัติของสคริปต์",0,0,"ค้นหางานศิลป์",0,"ค้นหา {0} ที่นี่","ค้นหาเทมเพลต",0,0,"เลือก",0,"เลือกบรรทัดนั้น",0,0,0,0,"กำหนดชื่อ",0,0,0,0,0,0,"การตั้งค่า",0,0,0,"แสดงตัวเลือกเพิ่มเติม","ผลงาน",0,0,0,"ลงชื่อออกจากระบบ","กำลังลงชื่อเข้าใช้…",0,0,0,"ข้ามการทำซ้ำ",0,0,0,0,0,0,"แยก",0,0,0,0,0,0,0,0,0,0,0,"หยุดการทำงาน","หยุดลูป",0,"เก็บค่าในตัวแปร","สตริง",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"แตะตรงนั้น",0,"แตะที่นั่นเพื่อเรียกใช้แอปของคุณ",0,0,0,0,0,"ข้อกำหนดการใช้งาน",0,0,0,0,0,0,"ฮับ",0,0,0,0,0,0,0,0,"ทำต่อ","ไปยังตัวแปรส่วนกลาง",0,0,0,0,0,0,0,0,0,"ลองอีกครั้ง!","เปลี่ยนเป็น","ความคืบหน้าในบทช่วยสอน","บทช่วยสอน: ","บทช่วยสอน","Twitter Handle","ประเภท: ","ประเภท: {0}",0,0,0,"ยกเลิก",0,0,0,"ถอนการติดตั้ง",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ดู/แก้ไขชื่อ, อีเมล, …",0,"รูปพื้นหลัง",0,"เรามี {0:a} ที่นี่ คุณต้องการใช้สไปรท์ทำอะไรไหม",0,0,0,0,0,0,"เราจะแนะนำคุณทีละขั้นตอน",0,0,0,0,"เว็บไซต์",0,"URL เว็บไซต์",0,0,0,0,0,"ปีเกิด",0,0,0,0,0,"{0} วันที่ผ่านมา",0,0,0,0,0,"{0} นาทีที่ผ่านมา","{0} เดือนที่ผ่านมา",0,0,0,"{0} วินาทีที่ผ่านมา",0,"{0} ปีที่ผ่านมา",0,0,"●ลงชื่อเข้าใช้"]),!0):"tr"==e?(TDev.Util._setLanguageArray(t,["   Belki: {0} ('{1}',{2}) ","  Satır {2} ('{1}'), hata->: {0}{3}"," bir yerel değişken"," [class]"," [hidden]"," [override]"," arkaya"," ileri"," saat "," dakika "," in "," saniye "," değişiklikler gönderiliyor"," sunucunun yanıt vermesi bekleniyor","### tam kaynak kodu","Tecrübeli geliştiriciler için Javascript’in küme parantezi ve tüm araçları!","'atomic' fonksiyon","'box' sadece sayfanın görüntü kodundan erişilebilir","'box' a HTML düzenleme modunda erişilemez",0,"'html' ye sadece HTML düzenleme modunda erişilebilir","'{0}' burada {1} bekleniyor","'{0}' desteklenmeyen bir imza içeriyor","'{0}' şimdilik eklenmedi","'{0}' eski ve eklenmedi","'{0}' kullanımdan kalkmıştır ve kullanılmamalıdır",0,"'{0}' bir '{1}'; {2}ye dönüşür",0,0,0,0,0,0,0,0,", bunun yerine {0} var",", {0} var",", boyut: {0} karakter",". Lütfen okuyun ","... burada bakacak bir şey yok ...","... dahası da var ...","// yorum",0,"1. 1 MB tan daha az bir MP3 sesi seçin","2. En az 4 karakterli bir isim belirleyin","3. açıkla","4. yayımla",":( Üzgünüz, bu metin çevrilirken bir hata oluştu.",":( Üzgünüz, bu metni çevirmek olanaksız.",":( Herhangi bir video kaynağı bulunamadı",":( Video bilgileri geçersiz",";  → ◈ref eksik mi?",0,0,0,0,"<b>bu satır mükemmel!</b> devam edelim","<h3>mevcut ayarlar yükleniyor...</h3>",0,0,0,0,0,0,0,0,0,0,0,"Bir Bing haritası",0,0,"Minecraft Creeper uygulaması.",0,0,0,"Arka plan sahne katmanı",0,0,0,0,0,0,"Sabit bir renk",0,0,0,0,0,0,0,0,0,"Genel bir değişken",0,0,0,0,0,0,0,0,0,0,0,0,"Sabit bir sayı",0,0,0,"Bir resim",0,0,0,0,0,"Bir kütüphane komut dosyasına referans",0,0,0,0,0,0,0,0,"Bir şarkı","Bir ses","Ses efekti",0,0,0,0,"Bir kullanıcı tanımlı satırlar tablosu",0,0,0,0,0,"Herkese açık profiliniz için daha önce hiç kullanılmayan bir ad (en az 8 karakterden oluşan)",0,0,"Bir kullanıcı arayüzü",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Her bir ekran çerçevesi için etkinleşen bir eylem ekleyin",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Sayılar ekler",0,"Mevcut puana değer ekler.",0,0,"Komut dosyası durduktan sonra, toplanan bilgileri görmek için koda göz atın.",0,"Tüm komut dosyalarım",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Kullanıcı tanımlı satırların bir dizinli tablosu",0,0,"Giriş koleksiyonunun tüm öğelerinde `dönüştürücü` uygular ve sonuçların koleksiyonunu getirir",0,0,0,"Bu kullanıcı tarafından yapılan görsel:",0,0,"Oyun oluşturmak için kod şablonu.",0,0,0,0,0,0,"Beceri düzeyini değiştir!",0,0,0,0,0,0,0,0,0,0,"Kullanıcı etkileşimi gerçekleştiğinde kod çalışır","Belirli bir görevi yerine getiren kod","Eşitlik için sayıları karşılaştırır","Daha azı için sayıları karşılaştırır",0,"Daha fazlası için sayıları karşılaştırır",0,0,0,0,0,0,0,"Metnin iki parçasını birleştirir",0,0,0,0,0,0,"Yerel saate dönüştürür",0,0,0,0,"Kod Oluştur","Grup Oluştur","Komut Dosyası Oluştur",0,0,0,"Yeni bir hareketli resim oluştur.",0,"Yeni bir komut dosyası oluşturun",0,0,0,0,0,"Kanal oluşturun",0,0,0,"Kendi uygulamalarınızı oluşturun",0,0,0,0,0,0,0,0,0,0,0,"Geçerli cihaz",0,0,"İşleyiciyi etkinlikten ayırır.",0,"Görüntüyü duvara getirir; daha sonra değişikliklerin yansıtılmasını isterseniz 'duvarda güncelle' öğesini seçmelisiniz.",0,0,0,0,0,"Hareketli görüntüleri üst üste bindir","Yeni özellikler ve gelecek etkinlikler vb. konularda TouchDevelop ile ilgili bilgilendirme amaçlı bültenleri almak istiyor musunuz?","Belgeler","Düzenleme işlemini bitirdikten sonra aşağıya inip “kaydet” öğesine tıklamayı unutmayın!","Acemiler için mükemmel sürükle ve bırak bloklar, kolaylaştırılmış arayüz!","İki nokta arasında bir çizgi çizer","Belirlenmiş bir renk ve yazı tipi boyutu ile metin çizer","Can atan uygulama yazıcıları için kodu metin olarak ve daha değişik seçeneklerde düzenleme!",0,0,0,0,"Kendiniz hakkında bir şeyler yazın","Kişisel web sitenizin URL’ini girin (Örnek: http://www.northwindtraders.com)",0,"Varsa okulla olan ilişiğinizi girin.",0,0,0,0,0,"Facebook","Elipsi belirlenmiş bir renk ile doldurur","Dikdörtgeni belirlenmiş renk ile doldurur",0,"Yayınlanan komut dosyaları için, anonim olarak toplanan kitle kaynaklı profil ve kapsam verilerini bulmak için yayınlanan komut dosyası sayfasının sekmesine de bakın.","Forumlar",0,0,0,0,0,0,0,0,0,0,0,0,"Şarkının DRM korumalı olup olmadığına göre bir değer alır",0,0,0,0,"Pikseldeki merkez yatay pozisyonunu alır",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Pikseldeki yüksekliği alır","Kamera görüntüsünün yüksekliğini piksel olarak alır.",0,0,0,0,0,0,0,0,0,0,0,0,"Sesler için ses yüksekliğini 0 (sessiz) ile 1 (geçerli ses) arasında alır",0,0,0,0,0,"Pikseldeki genişliği alır","Kamera görüntüsünün genişliğini piksel olarak alır.","Pikseldeki y konumunu alır","Başlarken",0,"Mevcut komut dosyasındaki genel değişkenler",0,"Yardım",0,0,0,0,"TouchDevelop’u nasıl keşfettiniz?",0,"Kodu İçe Aktar","Komut dosyasını bir dosyadan içe aktarın",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"* ile işaretlenen yerlerin doldurulması gerekmektedir.",0,"Gruba Katıl",0,0,0,0,0,0,0,0,0,0,"Tüm hareketli simgelerin, ekranın kenarına çarpıp geri dönmelerini sağlar",0,0,"Ben",0,0,0,0,0,"Sayıları çarpar",0,0,0,0,0,0,0,0,"Yeni Komut Dosyaları",0,"Yeni veya mevcut renkler",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Lütfen Gizlilik Bildirimimizi inceleyin.",0,0,0,0,0,0,0,0,0,0,"Yayınlama kullanım koşullarımıza ",0,0,0,"Yanıt gövdesini bir ses dalgası olarak okur","Diğer kişiler tarafından komut dosyanız incelendiğinde/komut dosyanızın ekran görüntüsü alındığında/hakkında yorum yapıldığında veya yorumlarınızdan birisine cevap verildiğinde ya da üyeliğinizle ilgili bir durum olduğunda e-posta bildirimleri alın.",0,"Değeri geçerli candan kaldırır.","Yanıtla...","Bildir/Sil","Belirlenmiş piksel boyutuna resmi yeniden boyutlandırır",0,"Görüntünün bir kopyasını getirir",0,0,"Bu örneğin değerine göre belirtilen ayların sayısını ekleyen bir tarihe döner.","Bu örneğin değerine göre belirtilen yılların sayısını ekleyen bir tarihe döner.",'Mevcut "min." ve "maks." değerler arasında rastgele bir tamsayıyı seçer.',0,0,0,0,0,0,0,"Geçerli örnek işe yaramaz ise doğru döner",0,0,0,0,"Komut Dosyası Güncellemeleri","Bu kullanıcı tarafından oluşturulan komut dosyaları",0,0,"Kod ara...","Her şeyi ara","Burada ara...",0,0,"Ara...",0,0,0,"Daha Fazla Bilgi Edinin",0,0,0,"Duvara uygulanan afin matris dönüşümünü 3x3 olarak ayarlar.",0,0,0,0,"Arka plan resmini ayarla","Pikseldeki merkez yatay pozisyonunu belirler","Geçerli can puanlarını ayarlar.",0,"Pikseldeki yüksekliği belirler","Pikseldeki konumu belirler",0,"Sesler için ses yüksekliği seviyesini 0 (sessiz) ile 1 (geçerli ses) arasında ayarlar",0,0,0,0,0,"Pikseldeki genişliği belirler","Pikselde/saniyede x hızını belirler","Pikselde/saniyede^2 y hızlanmasını belirler","Pikseldeki y konumunu belirler","Pikselde/saniyede y hızını belirler",0,"Ayarlar",0,"Komut dosyası, bu platformlar üzerinde çalışmasını önleyen API'ler kullanıyorsa, hataları düzenleyicide göster.",0,0,"Beceri düzeyi: {0}     ",0,0,0,0,0,0,0,"Sayıları çıkarır",0,"TD100: buraya {0} ekle","TD101: '{0}' bulunamadı","TD109: buna atanamıyor","TD111: {0} kaynağından {1} hedefine atanamıyor","TD112: '{0}' özelliğini {1} öğesinde bulamadım","TD115: {0} öğesine sağlanan aşırı parametre(ler)","TD116: {0} öğesine sağlanan yeterli parametre yok","TD118: 'eğer' koşulu {1} istiyor",0,0,"TD130: isteklere 'bağlı' {1}","TD144: görünüşe göre '{0}' öğesini atladınız, eklemeyi deneyin","TD145: görünüşe göre burada bir işleç ('+', '(' veya ',' gibi) eksik","TD147: '{0}' öğesini burada beklemiyorduk",0,"TD151: kapatılmamış ' ('","TD152: beklenmeyen ')'","TD154: ardından işlece bir şey gerekir",0,"Yaratıcı Kodlama Dersi Verin!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Bu komut dosyası aşağıdaki özellikleri kullanır: ",0,0,"Sayfa verileri eklemek için, yerel bir değişken oluşturun ve 'alana yükselt' seçeneğine dokunun.",0,0,0,0,"Microsoft ® çevirmen tarafından çeviriler dokunun orijinal görmek için...",0,0,0,0,"Öğreticiler","Twitter",0,"Aramak için yazın...",0,0,"UI widget",0,0,"Hareketli resimdeki resmi günceller (hareketli resim ise)",0,"Resim Yükle","Ses Yükle","Kullanıcılar",0,0,"Düzenleyiciyi kodlama beceri düzeyinize göre uyarlayacağız. Daha sonra hub’dan beceri düzeyinizi değiştirebilirsiniz.","Programlama bilgisi düzeyiniz nedir?","Mesleğiniz nedir?","Yenilikler","Dünyanın hangi ülkesindesiniz?","Belirlenmiş bir konumda başka bir resim yazar. Opaklık aralığı 0 (saydam) ile 1 (opak) arasında değişir.",0,"YouTube",0,0,"GitHub kullanıcınız.","Minecraft kullanıcınız.","Görseliniz burada görüntülenecek",0,"Kanalınız burada görüntülenecek","E-posta adresiniz henüz onaylanmadı. Lütfen gelen kutunuzu kontrol edin.","Tam adınız",0,0,0,"Komut dosyanız burada görüntülenecek","Twitter tanıtıcınız, @touchdevelop gibi.","birkaç saniye önce","bir işlev","genel bir değişken","bir dakika önce","bir sayfa","kapsam hakkında","öngörüler hakkında","profil hakkında","hakkınızda",0,0,"uygunsuz kullanım raporları",0,0,0,0,0,"ekle",0,0,0,0,0,0,0,0,"giriş parametresi ekle",0,"aşağıya satır ekle","yeni ekle",0,0,"çıkış parametresi ekle",0,0,0,0,0,0,0,"inanılmaz, şaşırtıcı, hayret verici, büyüleyici, müthiş, nefes kesici, klasik, havalı, ilginç, farklı, özel, seçkin, sıra dışı, mükemmel, etkileyici, olağanüstü, harika, ",0,0,"bir saat önce",0,0,0,0,0,0,0,"görsel","görsel kaynağı","görevlendirme",0,"yazar",0,0,"geri",0,"sil","bunu sil",0,0,"taban","acemi",0,0,0,0,0,0,0,"boş oyun",0,0,0,0,0,0,0,"hata ayıklamayı ara ver","kesme noktası",0,0,0,0,0,0,"iptal",0,0,"yerele (geri) değiştir",0,"kanallar",0,0,0,0,0,0,0,0,0,0,0,"kod bilgisi beceri düzeyinizi girin",0,0,"temizle",0,"kopyala",0,"bulut oturumları","kod",0,"kodlayıcı","renk #{0}",0,0,"yorumlar",0,"koşullu",0,0,0,"devam",0,"kopyala",0,"kapsam","oluştur","yeni bir parametre oluştur","kanal oluşturun",0,0,0,0,"betik oluşturma",0,"varsayılan ifade","görselleri özelleştirin!","kes",0,0,"hata ayıkla","ondalık nokta",0,"sil","yerel verileri ve izinleri sil",0,"değişkene indirge",0,"açıklama",0,0,"ayrıntılar",0,0,0,0,0,0,"reddet","değeri göster",0,0,0,0,0,"bitti!","düzenle","veya","e-posta","e-posta (gizli)","e-posta ve anında iletme bildirimleri","e-posta adresi doğrulanmadı, {0}",0,0,0,0,0,0,0,"etkinlikler",0,"örn: ",0,"mükemmel; harika iş; müthiş; havalı; süpersin; aferin; olağanüstü; başardın; tam isabet",0,"çıkış","uzman",0,0,0,0,"uzat",0,0,0,"değişkene çıkar","referans bul","bitti","düzelt","düzenleyicide öğreticiyi takip edin",0,"çatallar","fonksiyon",0,0,"fonksiyon, değişken, kütüphane,...","cinsiyet","Kodlama Saati™ sertifikamı al",0,"github kullanıcısı",0,"genel değiştirme","genel değişken","genel değişkenler",0,"kodlama için geri dönün! Gitmek için {0} ★",0,"git","komut listesi gidin","bir önceki adıma gidin","hedef:",0,"gruplar","kalpler","yardım",0,"gizle","geçmiş",0,"nasıl bulunduğu","çalıştırmak istiyorum","Kodlama Saati™ ile işim bitti",0,0,0,0,0,0,0,0,0,0,0,0,"akıl almaz, sihirli, nefis, harikulade, akıllara durgunluk veren, parmak ısırtan, mucizevi, acayip, fevkalade, radikal, göz kamaştırıcı, ayrıcalıklı, dikkat çekici, çok şaşırtıcı, çarpıcı, enfes, ",0,0,"yorum ekle","ifade ekle","{0} ekle","öngörüler",0,0,"yerele",0,"sorunlar",0,0,0,0,"düzenlemeye devam et",0,0,"öğren",0,"daha fazla bilgi edinin",0,0,0,"haydi yapalım!","haydi başlayalım!","kitaplık","kitaplıklar","kitaplık",0,0,"daha fazla yükle",0,0,0,0,0,0,0,0,"yükleniyor...",0,"konum",0,"mantıksal olumsuzlama","günlükler",0,0,0,"verileri yönet","belki daha sonra",0,0,0,"minecraft kullanıcısı",0,0,"daha fazla","daha fazla ","daha fazla ayar","imleci taşı","sola taşı",0,"imleci sola taşı","imleci sağa taşı","görsellerim",0,0,0,"komut dosyalarım",0,0,0,0,"bunun silinmesi gerekiyor","başka bir yerde düzenlemek gerekiyor","olumsuzlama",0,0,0,0,"yeni satır",0,0,0,"aşağıda yeni stmt","yeni değişken",0,"sonraki öğreticiler...","takma ad",0,"bu kullanıcı tarafından yayımlanan görsel yok","yorum yok, yazmak için dokunun!","çatal yok; oluşturmak için betiği yükleyin, düzenleyin ve yeniden yayımlayın!","kalp yok. betiği yükledikten sonra bir adet ekleyebilirsiniz!","henüz hiçbir resim yüklenmedi","önceden kayıtlı e-posta adresi yok",0,"yorum yok, eklemek için dokunun!",0,0,0,"bildirimler",0,"şimdi {0} öğesinin bir özelliğini seçebilirsiniz; kendisi tek başına bir şey yapmaz","şimdi bir özelliğini seçebilirsiniz",0,"sayı girişi",0,"meslek",0,"çevrimdışı kullanılabilir",0,0,"çevrimiçi",0,0,0,"genel bakış",0,"sayfalar",0,"komut dosyası metni çözümleniyor",0,"yapıştır","duraklat",0,0,0,"resim",0,0,0,"yeniden oyna",0,"lütfen bekleyin...","eklentiler","önizleme","yazdır",0,"özel",0,"özel profil","profil","programlama bilgisi",0,0,0,"herkesin görebildiği takma ad","herkesin görebildiği profil","yayınla",0,0,0,"değişiklikleri çek","seviyeyi engellemek için çek",0,"yeniden çalıştır","daha fazla...","salt okunur","gerçek ad","gerçek ad (gizli)","e-posta bültenleri al","e-posta bildirimleri alın","kayıt adı:",0,"normal tuş takımı",0,"kaldır",0,"resmi kaldır",0,0,"yeniden adlandır","n kez tekrar et","koleksiyon üzerinde tekrarla","tekrarlama aralığı",0,"komut dosyasında tümünü değiştir","resmi değiştir",0,0,0,"uygunsuz kullanımı bildir","özgeçmiş","yayınlanmış sürüme geri dön",0,"geri sar ","çalıştır","ana çalıştırmak",0,"araç ile çalıştır","kaydet",0,"kaydediliyor...","okul","ekranlar","ekran görüntüleri",0,"komut dosyası","komut dosyası özellikleri",0,0,"görselleri ara","sanat resimlerini ara","{0} öğesini burada ara",0,"aranıyor...",0,"seç","daha fazla seç","bu satırı seçin",0,0,0,"yerel değişken adını ayarla","ad belirle",0,"panoya dokunulduğunda çağrılan işleyiciyi ayarlayın",0,0,0,0,"ayarlar","paylaş",0,"bu aktivitenin nasıl tamamlandığını göster",0,"vitrin",0,0,0,"oturumu kapat","oturum açılıyor...",0,"basitleştir",0,"yinelemeyi atla",0,"sosyal",0,"ses",0,0,"böl",0,"baştan başla",0,"başlıyor...",0,"içeri gir","dışarı çık","adımlama",0,"dur",0,"işlevi durdur","döngüyü durdur","değişkene depola","değeri bir değişkende depola","dizi",0,"'{0}' şeridi",0,0,0,"üstün, doğaüstü, korkunç, inanılmaz, esrarengiz, benzersiz, eşi görülmemiş, tuhaf, garip, mükemmel, şahane",0,0,0,0,0,0,0,0,0,"etiketler",0,0,0,0,0,0,0,"buraya dokunun","yönergeler için buraya dokunun","uygulamanızı çalıştırmak için buraya dokunun","rengi değiştirmek için dokunun",0,0,"microsoft ® çevirmen ile çevirmek için dokunun...",0,"hakkındaki bilgilerimizi okuyun","dene",0,"denemeler",0,0,0,"merkez",0,0,0,0,"bu komut dosyası bir kütüphanedir",0,0,"koduna","devam et","genel değişkene","kesim noktasını değiştir","popüler ve yeni",0,0,"çevir",0,0,0,0,"yeniden dene!","dönüştür","öğretici ilerleme durumu","öğreticiler: ","öğreticiler","twitter tanıtıcısı","tür: ","tür: {0}",0,0,0,"geri al",0,0,0,"kaldır",0,0,0,0,0,0,"güncelle",0,0,0,0,0,0,"yükle",0,"ekran görüntüsü yükle",0,0,0,0,"url",0,0,0,0,0,0,"komut dosyası olarak görüntüle","adı, e-postayı görüntüle/düzenle",0,"duvar kağıdı","burada bir kütüphanemiz '{0}' var; {1}","burada bir {0:a} var; bununla bir şey mi yapmak istemiştiniz?",0,0,0,"farklı bir tuş takımına ihtiyacımız var",0,"başka bir şeyi düzenlememiz gerekiyor","size adım adım rehberlik edeceğiz",0,0,0,0,"web sitesi",0,"web sitesinin url’i",0,0,0,0,0,"doğum tarihi",0,0,"başardınız!",0,"{0} ({1} çizgi{1:s})","{0} gün{0:s} önce",0,0,0,0,"{0} saat{0:s} önce","{0} dakika{0:s} önce","{0} ay{0:s} önce",0,0,0,"{0} saniye{0:s} önce",0,"{0} yıl{0:s} önce",0,0,"● Oturum aç"]),!0):"uk"==e?(TDev.Util._setLanguageArray(t,[0,0,0,0," [прихований]",0,0,0,0,0," з ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,", замість цього отримано {0}",", отримано {0}",0,0,0,0,"// коментар",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<strong>функція перебуває в бета-тестуванні:</strong> синтаксис та семантика може змінюватися",0,0,0,0,"Карта Bing",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Документ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Пісня","Звук",0,0,0,0,0,0,0,0,0,"Текстове поле","Таймер",0,0,0,0,0,0,"ADJ скрипт","Конфігурація API",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Після зупинки скрипта перегляньте код, щоб бачити зібрану інформацію.","Всі мої групи","Всі мої сценарії",0,0,0,0,0,"Всі мої скрипти",0,0,0,0,0,0,0,0,0,0,0,0,"Застосовує перетворювач до всіх елементів вхідний колекції і повертає колекцію результатів",0,0,0,0,"Прочитайте або покажіть значення на стіні...",0,0,0,"Перетягуючи та розташовуючи блоки, ви створили наступний код.","Камера",0,"Не бачите вікон? Спробуйте торкнутися кнопки нижче, щоб увійти в систему вручну.",0,0,0,0,0,0,0,0,0,0,"Дані в Хмарі",0,0,0,0,0,0,0,0,"Компас",0,"Обчислює максимум ключа елементів у колекції",0,0,0,"З'єднує дві частини тексту","Перетворення кольору в HTML синтаксис (#FF002A або rgba(255, 0, 42, 0.5) коли A не-1)",0,0,0,0,0,0,"Скопіювати поточний JSON-об'єкт в Json Builder для подальших змін",0,0,0,0,"Створити групу",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Створення власних додатків","Створює колір із червоного, зеленого та синього каналів (діапазон 0.0-1.0)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Експерт",0,"Розширення",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Отримує колір, що має ARGB значення #00FFFFFF","Отримує колір, що має ARGB значення #FF000000","Отримує колір, що має ARGB значення #FF0000FF","Отримує колір, що має ARGB значення #FF008000","Отримує колір, що має ARGB значення #FF00FFFF","Отримує колір, що має ARGB значення #FF704214","Отримує колір, що має ARGB значення #FF800080","Отримує колір, що має ARGB значення #FF808080","Отримує колір, що має ARGB значення #FFA52A2A","Отримує колір, що має ARGB значення #FFA9A9A9","Отримує колір, що має ARGB значення #FFD3D3D3","Отримує колір, що має ARGB значення #FFFF0000","Отримує колір, що має ARGB значення #FFFF00FF","Отримує колір, що має ARGB значення #FFFFA500","Отримує колір, що має ARGB значення #FFFFCBDB","Отримує колір, що має ARGB значення #FFFFFF00","Отримує колір, що має ARGB значення #FFFFFFFF","Отримує стан поточного підключення (`підключення`, `відкрито`, `закрито`)","Отримує поточне місцерозташування телефону з найбільшою точністю. Включає використання послуг, що можуть спричинити використання додаткових коштів або споживання більшого заряду батареї чи збільшити використання мобільних даних.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"GitHub",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Мікрофон",0,0,0,0,0,0,"Мої групи","Мій профіль","Мої скрипти",0,0,0,"Мережа",0,0,0,0,0,"На пристрої '{0}', застосовуються наступні інструкції.",0,0,0,0,0,0,0,"На жаль, не вдалося отримати скрипти для цієї групи. Будь ласка, спробуйте пізніше.",0,0,"Партнери",0,0,0,0,0,0,0,"Підключіться до інтернету для перегляду списку лідерів.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Повертає гіперболічний косинус зазначеного кута (в радіанах)",0,"Повертає синус зазначеного кута (в радіанах)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Пошук...",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Twitter",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Що нового",0,0,0,"YouTube",0,0,0,0,0,"Ваш браузер не підтримує Touch Develop для зберігання даних. Зазвичай це трапляється коли ви перебуваєте в режимі конфіденційності (Safari), режимі InPrivate (Internet Explorer) або ваші налаштування безпеки запобігають зберіганню даних. Увійдіть у звичайний режим або змініть налаштування браузера, щоб не втратити результати своєї роботи. Усі зміни не збережені в хмарі будуть втрачені після виходу з цієї сторінки.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"про вас",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"backspace",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"буфер обміну",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"історія",0,0,0,0,0,0,0,0,0,0,0,0,0,"через хвилину","через годину",0,0,0,0,0,0,0,0,"встановити {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,"детальніше",0,0,0,0,0,0,"бібліотеки","бібліотека",0,0,0,0,"завантаження",0,0,0,0,0,0,"завантаження...",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"права доступу",0,0,"картинка",0,0,0,0,0,0,"плагіни","попередній перегляд",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"лише для читання","справжнє ім'я",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"збереження...",0,0,"скріншот",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"увійти",0,0,0,0,"вихід",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"синхронізація...",0,0,0,0,0,0,0,0,0,0,0,0,0,"торкніться тут",0,0,0,0,0,0,0,0,0,0,0,0,0,"форуми",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"переклад",0,0,"спробуйте ще раз!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"змінна",0,0,0,0,"шпалери",0,0,0,0,0,0,0,0,0,0,0,0,0,"вебсайт"]),!0):"vi"==e?(TDev.Util._setLanguageArray(t,[0,0," -- một biến cục bộ",0,0,0,0,0,0,0,0,0,0,0,0,"Dấu ngoặc nhọn Javascript, tất cả công cụ, cho lập trình viên có kinh nghiệm!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"nhận hình {0:a} thay thế",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"<b>dòng này tốt rồi!</b> tiếp thôi nào","<h3>đang tải thiết lập hiện tại...</h3>",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Một tên hiển thị duy nhất cho hồ sơ công khai của bạn (ít nhất 8 kí tự)",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Thêm giá trị cho điểm số hiện tại.",0,0,0,0,"Tất cả tập lệnh của tôi",0,0,0,0,0,0,0,"Một ứng dụng trống sử dụng các trang và hộp.","Một ứng dụng trống sử dụng thư viện scratch.",0,0,0,0,0,0,0,0,"Một ứng dụng rùa.",0,0,0,0,"Hình ảnh nghệ thuật tạo bởi người dùng này:",0,0,"Mã boiler plate để tạo trò chơi.",0,0,0,0,0,0,"Thay đổi cấp độ kỹ năng!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Tạo Mã",0,"Tạo Tập lệnh",0,0,0,"Tạo sprite hình ảnh mới.",0,"Tạo tập lệnh mới",0,0,0,0,0,"Tạo kênh",0,0,0,"Tạo ứng dụng riêng của bạn",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Các hình sprit có chồng lắp không","Bạn có muốn nhận bản tin với các thông tin về TouchDevelop, ví dụ như các tính năng mới và các sự kiện sắp diễn ra hay không?","Tài liệu",'Đừng quên cuộn xuống và bấm "save" khi bạn đã sửa xong!',"Kéo và thả các khối, giao diện giản lược, thích hợp cho người mới bắt đầu!",0,0,"Chỉnh sửa mã ở dạng văn bản, thêm tùy chọn, cho những nhà phát triển ứng dụng đầy khao khát!",0,0,0,0,"Nhập vài thông tin về bản thân bạn","Nhập địa chỉ URL đến trang web cá nhân của bạn (Ví dụ:\nhttp://www.northwindtraders.com)",0,"Nhập trường học liên kết của bạn, nếu có.",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Thiết lập chiều cao theo pixel",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Thiết lập vị trí y theo pixel","Đang bắt đầu",0,"Biến toàn cục trong kịch bản hiện tại",0,"Trợ giúp",0,0,0,0,"Bạn biết đến TouchDevelop như thế nào?",0,"Nhập Mã","Nhập một tập lệnh từ một tập tin",0,0,0,0,0,0,0,0,0,0,0,0,"Chèn '{0}' {1}",0,"Các mục có dấu * là bắt buộc.",0,0,0,0,0,0,0,0,0,0,0,0,"Làm cho tất cả sprite văng ra khi chạm viền màn hình",0,0,"Tôi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Vui lòng xem xét Tuyên bố Bảo mật của chúng tôi.",0,0,0,0,0,0,0,0,0,"Xuất bản tập lệnh của bạn để mọi người có thể sử dụng.",0,0,0,0,0,"Nhận thông báo email khi người khác xem lại/chụp ảnh màn hình/bình luận về tập lệnh của bạn, hoặc trả lời một trong các bình luận của bạn, hoặc khi xảy ra các sự kiện liên quan đến tài khoản của bạn.",0,"Loại bỏ các giá trị từ mạng hiện tại.",0,"Báo cáo/Xóa",0,0,0,0,0,0,0,'Trả về một số nguyên ngẫu nhiên giữa "min" và "max" đã được bao gồm.',0,0,0,0,0,0,0,0,0,0,0,0,0,"Các tập lệnh tạo bởi người dùng này:",0,0,"Tìm kiếm mã...","Tìm kiếm mọi thứ","Tìm kiếm ở đây...",0,0,"Tìm kiếm...",0,0,0,"Xem Thêm",0,0,0,0,0,0,0,0,"Thiết lập hình nền",0,"Thiết lập số mạng hiện tại.",0,0,"Thiết lập vị trí theo pixel",0,0,0,0,0,0,0,"Thiết lập chiều rộng theo pixel","Thiết lập tốc độ x theo pixel/giây","Thiết lập gia tốc y theo pixel/giây^2",0,"Thiết lập tốc độ y theo pixel/giây",0,"Thiết lập",0,0,0,0,"Cấp kĩ năng:{0}     ",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"TD118: điều kiện ‘if’muốn có {1:a}",0,0,0,0,0,0,0,0,0,0,0,"Dạy Lập Trình Sáng Tạo!",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"Bản dịch của Microsoft® Translator, nhấn để xem bản gốc...",0,0,0,0,"Hướng dẫn",0,0,0,0,0,"Tiện ích UI",0,0,0,0,0,0,0,0,0,"Chúng tôi sẽ điều chỉnh trình biên tập theo cấp độ kỹ năng lập trình của bạn. Bạn có thể thay đổi cấp độ kỹ năng sau tại trung tâm.","Trình độ kiến thức lập trình của bạn ở mức nào?","Nghề nghiệp của bạn là gì?","Có gì mới","Bạn đang ở đâu trên thế giới?",0,0,0,0,0,"Người dùng GitHub của bạn.","Người dùng Minecraft của bạn.",0,0,"Kênh của bạn sẽ xuất hiện ở đây","Địa chỉ email chưa được xác nhận. Vui lòng kiểm tra hộp thư.","Tên đầy đủ của bạn",0,0,0,"Tập lệnh của bạn sẽ xuất hiện ở đây","Khóa twitter của bạn, như @touchdevelop.","cách đây vài giây","một hàm","một biến toàn cục","cách đây một phút",0,0,0,0,"về bạn",0,0,"báo cáo lạm dụng",0,0,0,0,0,"thêm",0,0,0,0,0,0,0,0,0,0,"thêm dòng bên dưới","thêm mới",0,0,0,0,0,0,0,0,0,0,0,0,0,"cách đây một giờ",0,0,0,0,0,0,0,"hình ảnh nghệ thuật",0,"gán",0,0,0,0,0,0,"phím lùi","xóa lùi mục này",0,0,0,"nhập môn","người mới bắt đầu",0,0,0,"ứng dụng trống",0,0,"trò chơi trống",0,0,0,"Scratch trống",0,"rùa trống",0,0,0,0,0,0,0,0,0,"hủy bỏ",0,0,0,0,"kênh",0,0,0,0,0,0,0,0,0,0,0,"chọn cấp độ kỹ năng lập trình của bạn",0,0,0,0,"nhân bản",0,0,"mã",0,"lập trình viên",0,0,0,0,0,"điều kiện",0,0,0,0,0,"sao chép",0,0,"tạo",0,"tạo kênh",0,0,0,0,"đang tạo tập lệnh",0,0,"tùy chỉnh hình ảnh nghệ thuật!","cắt",0,0,0,"chấm thập phân",0,0,0,0,0,0,0,0,0,"chi tiết",0,0,0,0,0,0,"hủy bỏ","hiển thị giá trị",0,0,0,0,0,0,"sửa",0,"email","email (riêng tư)","email và thông báo đẩy","email chưa được xác nhận, {0}",0,0,0,0,0,0,0,0,0,"ví dụ: ",0,"xuất sắc; làm tốt lắm; tuyệt vời; hay lắm; bạn tuyệt lắm; giỏi lắm; quá giỏi; bạn hiểu ý tôi rồi đấy; bạn đã hoàn thành xong; được",0,0,"chuyên gia",0,0,0,0,0,0,0,0,0,0,"hoàn tất",0,"làm theo hướng dẫn trong trình biên tập",0,0,"chức năng",0,0,"chức năng, biến, thư viện, ...","giới tính","nhận chứng chỉ Hour of Code™ của tôi",0,"người dùng github",0,0,0,"biến toàn cục",0,"quay lại lập trình tiếp! còn {0}★",0,0,0,"đi đến bước trước đó","mục tiêu:",0,0,0,"trợ giúp",0,0,"lịch sử",0,"biết đến như thế nào",0,"tôi đã hoàn tất khóa Hour of Code™ của tôi",0,0,0,0,0,"nhập mã",0,0,0,0,0,0,0,0,0,"chèn bình luận","chèn lệnh","chèn {0}",0,0,0,0,0,0,0,0,0,0,0,0,0,"học",0,0,0,0,"hãy thay đổi mục này","bắt đầu nào!","hãy bắt đầu thôi!",0,"thư viện",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"địa điểm",0,"phủ định tính logic",0,0,0,0,0,0,0,0,0,"người dùng minecraft",0,0,"thêm","thêm ","thêm thiết lập","di chuyển con trỏ",0,0,"di chuyển con trỏ sang trái","di chuyển con trỏ sang phải",0,0,0,0,"tập lệnh của tôi",0,0,0,0,0,0,"phủ định",0,0,0,0,0,0,0,0,0,"biến mới",0,"bài hướng dẫn kế tiếp...","biệt danh",0,0,0,0,0,0,"không có email trước đây",0,0,0,0,0,"thông báo",0,0,0,0,0,0,"nghề nghiệp",0,0,0,0,0,0,0,0,"tổng quan",0,0,0,"phân tích cú pháp văn bản tập lệnh",0,"dán","tạm dừng",0,0,"chọn một mẫu kịch bản...","hình ảnh",0,0,0,"chơi lại",0,"vui lòng chờ...",0,0,0,0,"riêng tư",0,"hồ sơ riêng tư",0,"kiến thức lập trình",0,0,0,"biệt danh công khai","hồ sơ công khai","xuất bản",0,0,0,0,0,0,0,"đọc thêm...",0,"tên thật","tên thật (riêng tư)","nhận bản tin email","nhận thông báo email",0,0,0,0,"xóa",0,"xóa ảnh",0,0,0,"lặp lại n lần",0,"lặp lại khi",0,0,0,0,0,0,0,0,0,"tua lại","tua lại ","chạy","run main",0,0,"lưu",0,"đang lưu...","trường",0,0,0,"tập lệnh","thuộc tính tập lệnh",0,0,"tìm kiếm hình ảnh nghệ thuật",0,"tìm {0} ở đây","tìm kiếm các mẫu",0,0,"chọn",0,"chọn dòng đó",0,0,0,0,"thiết lập tên",0,0,0,0,0,0,0,0,0,0,"hiển thị thêm tùy chọn","trưng bày",0,0,0,"đăng xuất",0,0,0,0,"bỏ qua lặp lại",0,0,0,0,0,0,"tách",0,0,0,0,0,0,0,0,0,0,0,"ngừng chức năng","ngừng vòng lặp",0,"lưu giá trị trong một biến","chuỗi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"bấm vào đây",0,"bấm vào đây để chạy ứng dụng của bạn",0,0,0,0,0,"điều khoản sử dụng",0,0,0,0,0,0,"trung tâm",0,0,0,0,0,0,0,0,"để tiếp tục","đến biến toàn cục",0,0,0,0,0,0,0,0,0,"thử lại!","chuyển thành","tiến trình hướng dẫn","hướng dẫn: ","hướng dẫn","khóa twitter","loại: ","loại: {0}",0,0,0,"hoàn tác",0,0,0,"gỡ cài đặt",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"xem/sửa tên, email, ...",0,"hình nền",0,"chúng ta có một hình {0:a} ở đây; bạn có muốn làm gì với nó không?",0,0,0,0,0,0,"chúng tôi sẽ hướng dẫn bạn từng bước",0,0,0,0,"trang web",0,"địa chỉ url trang web",0,0,0,0,0,"năm sinh",0,0,0,0,0,"{0} ngày trước",0,0,0,0,0,"{0} phút trước","Cách đây {0} tháng",0,0,0,"{0} giây trước",0,"Cách đây {0} năm",0,0,"● Đăng nhập"]),!0):"zh"==e?(TDev.Util._setLanguageArray(t,["   Maybe: {0} ({1} at '{2}')\n","  -> Line {2} ('{1}'), error: {0}\n{3}"," — — 局部变量"," [class]"," [隐藏]"," [override]"," 返回"," 前进"," 小时 "," 分钟 "," 的 "," 秒 "," 发送更改"," 等待服务器","# # # 完整源代码","Javascripty 花括号，以及所有工具，适合于有经验的开发人员!","“atomic”函数","'盒子' 只能在页面显示代码中访问","'盒子' 无法访问在 HTML 布局模式中","'else' 的前面的 'if' 必须是空的","'html' 只能访问 HTML 布局模式","“{0}”认为此处应为 {1}","'{0}' 包含不支持的签名","'{0}' 当前未执行","'{0}' 已过期且不能实现","“{0}”已弃用，不应使用。","'{0}' 不是一个字符串资源","“{0}”返回“{1}”；{2}","'{0}' 返回 {1} 的值; 你可以使用 '储存在var' 按钮来将它们保存到本地","(可选) 与信息有关的错误，用来提供有关错误的额外信息的客户端开发者确定人类可读的 web 页的 URI。","(可选) 人类可读的错误代码。","(可选)未涵盖的 OAuth 2.0 规范的附加键值对。","(可选) 指示是否令牌可能在下一秒内已过期。","(可选)可选，如果相同范围由客户端请求;否则，访问令牌的范围如 OAuth 2.0 规范第 3.3 节所述。","(可选) 以秒为单位的访问令牌生存期。","(请等一等，它会占用至多一分钟)","，而获得了 {0:a}","，获得了 {0}","大小: {0} 字符",". 请阅读我们 ","...... 这儿没什么可看...","... 有更多...","// 注释","1.选择一个文档 (.txt、.pptx，.pdf、.css，小于 8 Mb)","1. 选择 MP3 声音 (小于 1 MB)","2. 给它一个名称 (最低 4 个字符)","3. 描述它","4. 发布",":(抱歉，这个文本翻译时出错。",":(对不起，我们不能翻译此。",":(找不到任何视频源",":(无效的视频信息","; 是否缺少 → ◈ref?","<a href='http://cordova.apache.org/' target='_blank'> Apache Cordova</a> 让您构建跨平台的移动应用程序。","<a href='http://go.microsoft.com/fwlink/?LinkId=254432' target='_blank'> 生成的证书</a>.","<b>免责声明:</b>这个 web 应用程序不是由微软认可的。","<b>如何本地运行本程序</b>","<b>此行正确无误！</b>我们继续吧","<h3>正在加载当前设置...</h3>","<h3>没有更多的提示!</h3>","<h3>欢迎来到Touch Develop</h3>","<h3>{0:q} 需要签到</h3>","<p>如果你没有Azure订阅，去 <a href='https://account.windowsazure.com/Subscriptions' target='_blank'> Azure订阅</a> 获取.</p>","<p>Touch Develop使您可以 <b>轻松地创建应用程序</b> 来自您的手机、 平板电脑或 PC。</p>","<p>你可以与他人分享您的应用程序，因此他们可以 <b>运行和编辑</b> 他们在 Windows Phone、 iPad、 iPhone、 Android、 PC 或 mac上。</p>","<strong>beta 测试中的新功能:</strong> 的语法和语义的更改","<strong>所需的平台:</strong>","超出范围，@hi/lo","数字 2D 矩阵","一个三维向量","Bing 地图","Minecraft Pi 应用。","Minecraft 应用。","Minecraft 爬虫应用。","服务器发送事件的客户端","对sprite属性进行动画处理的动画","Argb 颜色 (alpha、 红色、 绿色、 蓝色)","背景场景图层","一个初学者友好编辑器","打造2D 游戏的开发板","创建 HTML 表单数据的生成器","云计算数据会议","对象集","Sprites集","颜色常量","日期和时间的组合","添加了有关您拉请求的注释。","联系人","自定义记录器","文档","文档资源",0,0,0,"全局变量",0,0,0,0,0,0,0,0,0,0,0,"数値 (負 / 小数の場合もある)","数字常量",0,0,0,"图片","一段文本","像素画应用。",0,0,0,"对库脚本的引用",0,0,0,0,0,0,0,0,0,"声效",0,0,0,0,"用户数据结构","包含用户定义行的表",0,0,0,0,0,"您公开信息的唯一显示名称（至少 8 个字符）",0,0,"用户界面",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"添加对每一显示帧触发的动作",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"增加数字",0,"给当前分数添加值。",0,0,"在脚本停止后，浏览代码以查看收集到的信息。","我的所有组","我的所有脚本",0,0,0,0,0,0,0,"使用页面和方框的空白应用。","使用图片素材库的空白应用。","空白文档页。","空白交互式教程。","空白脚本编辑器插件。","不执行任何操作的空白脚本。",0,0,"包含用户定义行的索引表",0,"乌龟应用。","对输入集合的所有元素应用“转换器”并返回结果集",0,"你确定你想停止下面的教程吗？",0,"由此用户绘制：",0,"向其他对象附加数据","用于创建游戏的样板文件代码。",0,0,0,"相机、 位置、 麦克风和其他传感器",0,0,"更改技能等级！",0,"检查该板是否和另一板的距离相同。",0,0,0,"清除与此板有关的所有排队事件","清除背景图片","清除背景相机",0,0,"用户交流时分享的代码","执行特定任务的代码","比较数字是否相等","比较数字以确定更小值",0,"比较数字以确定更大值",0,0,0,0,0,0,0,"连接两段文本",0,0,0,0,0,0,"转换为本地时间",0,0,0,0,0,"创建组","创建脚本","用给定的起点、宽度和高度创建一个线障碍。粘性的弹性为 0，1 为完全反弹。","新建画面集合。","新建椭圆画面。","新建图片画面。","创建一个新的长方形精灵。",0,"创建新的精灵表单。","创建新的文本画面。","在两个精灵之间创建一个跳板。","创建一个锚精灵。","创建此对象类型的无效值","创建通道",0,"创建无效的值","在给定的距离处创建板的四周。","创建自己的应用",0,0,"创建新的空白游戏板并使之在屏幕上显示。",0,0,0,"用给定图片创建宽度为 100 的新精灵。",0,"创建无效的游戏手柄实例",0,0,"当前设备",0,"当前触点","从事件中分离处理程序。",0,"将图像显示到展示墙上；稍后如果您希望所做更改生效，则需要调用“展示墙更新”。",0,0,0,"显示墙上游戏手柄的状态",0,"子画面是否重叠",0,"文档","完成编辑后，不要忘记向下滚动，然后点击“保存”！","拖放功能块，界面简单，适合于初学者！","在两点之间画一条线","用给定颜色和字号绘制一些文本边框","将代码编辑为文本，以及其他更多选项，适合于应用程序编写爱好者！",0,0,"输入名称",0,"请输入有关您的个人信息","请输入您个人网站的 URL（例如：http://www.northwindtraders.com）","输入邀请码",0,"事件不能有输出参数。","每个人将能够用于在 Internet 上看到你的图片。 ",0,0,"扩展","Facebook","用给定颜色填充椭圆","用给定颜色填充矩形","接触结束后的最终接触速度","对于已发布的脚本，还可查看已发布脚本页上的选项卡，查找匿名收集的众多个人资料和覆盖率数据。","论坛","从现在开始，我们不会向您显示要编写的代码。按照指示进行操作，如果您认为已完成，请单击运行。","当前脚本中的函数",0,0,0,0,0,"获取游戏手柄的状态快照（如果连接到浏览器）。如果不支持或未连接游戏手柄则为空。",0,0,0,"获取值，该值表示该板是否被设计为在景观模式中查看","获取歌曲是否受 DRM 保护的信息","获得所选定轴线的 x 和 y 值。",0,0,"获取背景场景","获取水平居中位置(单位: 像素)",0,"获取 ARGB 值为 #00FFFFFF 的颜色","获取 ARGB 值为 #FF000000 的颜色","获取 ARGB 值为 #FF0000FF 的颜色","获取 ARGB 值为 #FF008000 的颜色","获取 ARGB 值为 #FF00FFFF 的颜色",0,"获取 ARGB 值为 #FF800080 的颜色",0,0,0,0,"获取 ARGB 值为 #FFFF0000 的颜色","获取 ARGB 值为 #FFFF00FF 的颜色","获取 ARGB 值为 #FFFFA500 的颜色",0,"获取 ARGB 值为 #FFFFFF00 的颜色","获取 ARGB 值为 #FFFFFFFF 的颜色",0,0,0,0,"获得可用的第一个连接的游戏手柄",0,"获得游戏手柄标识符",0,"获取高度(单位: 像素)","获取相机图像的高度(单位: 像素)。",0,0,0,0,0,0,0,0,0,"获得玩家索引","获得按钮的按下值。如果按钮缺失则返回 0。",0,"获取从 0 (静音)到 1 (当前音量)的音量","获得精灵数目","获取由 i 索引的精灵",0,"获得这次快照的时间戳",0,"获取宽度(单位: 像素)","获取相机图像的宽度(单位: 像素)。","获取 y 轴位置(单位: 像素)","快速入门",0,"当前脚本中的全局变量",0,0,0,0,0,0,0,0,0,0,0,0,0,"在调试模式，游戏板显示精灵的速度和其他信息","表示按钮是否被按下。如果按钮缺失则返回 false。",0,"表示游戏手柄数据是否相同","表示游戏手柄是否仍被连接。",0,0,0,0,"插入“{0}”{1}",0,"标记 * 的项为必填项。","JSON 数据","加入组","最后接触终点","最后接触起点",0,0,0,0,0,"使更新可见。",0,0,"确保所有画面都在屏幕的边界上弹起",0,"数学擅长程度，绝对值，最大值","Me",0,"Minecraft 用户","更多",0,"将画面向其他画面移动。","乘以数字",0,0,0,0,0,0,0,0,"新脚本",0,"新颜色或内置颜色",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"电话号码、 振动、 等...",0,"选取随机颜色","图片和音乐......",0,0,0,0,0,"请查看我们的隐私声明。",0,"发表评论...",0,0,0,"隐藏动作不会得到运行按钮。 ","提示用户输入一个数字",0,"发布脚本",0,"发布须遵守我们的 ","发布脚本...","在动画开始播放时引发","在动画停止播放时引发","以声波形式读取响应体","其他人查看您的推文或截取推文截图时；或者对推文发表评论或对你的评论进行回复时；或者发生与您的订阅相关的事件时，您会收到电子邮件通知。","请记住：发布脚本后，所有人都会看到您的脚本，所以请确保其中不包含您的密码或个人信息。","减少当前的生命值。","回复...","报告/删除","将图片调整为给定大小(单位: 像素)",0,"返回图像副本",0,0,"返回向此实例的值中添加指定月数的日期。","返回向此实例的值中添加指定年数的日期。","返回一个介于“最小值”和“最大值”（包括这两个值）之间的随机整数。",0,0,0,0,0,0,0,"如果当前实例无效，则返回 true",0,0,0,0,"脚本更新","由此用户编写：",0,"搜索和浏览互联网......","搜索代码...","搜索所有内容","在此搜索...",0,0,"搜索...",0,0,0,"查看更多",0,0,"将梯度设为开或关","设置应用于展示墙的 3x3 仿射矩阵转换。",0,"设置背景相机","设置背景色","设置背景色。","设置背景图片","设定水平居中位置(单位: 像素)","设置当前的生命值。","设定精灵 0 和 1 之间速度损失部分的默认摩擦","设置高度(单位: 像素)","设定位置(单位: 像素)",0,"获取从 0 (静音)到 1 (当前音量)的音量级别","设置速度（单位：像素/秒）","设置画面颜色。","设置游戏板上物体的均匀加速度矢量为像素/秒^2",0,0,"设置宽度(单位: 像素)","设置 x 轴速度(单位: 像素/秒)","设置 y 轴加速度(单位: 像素/秒^2)","设定 y 轴位置(单位: 像素)","设置 y 轴速度(单位: 像素/秒)",0,"设置","使用这个 URL 共享：","如果该脚本使用任何阻止它在这些平台上运行的 API，会在编辑器中显示错误。","显示墙上的板。",0,"技能等级：{0}     ",0,0,0,0,0,"停止并清除所有事件帧计时器",0,"减去数字",0,"TD100: 在此插入 {0:a}","TD101: ：无法找到“{0}”","TD109: 无法分配至此","TD111: 无法从 {0} 分配至 {1}","TD112: 找不到 {1} 的属性“{0}”","TD115: ：向 {0} 提供的参数过多","TD116: 没有向 {0} 提供足够参数","TD118: ：“if”条件需要 {1:a}","TD119: i 需要迭代对象",0,"TD130: “for”的边界需要 {1:a}","TD144: 好像缺了“{0}”，请补上","TD145: 此处好像缺一个运算符(如“+”、“(”或“，”)","TD147: 此处不应出现“{0}”","TD150: 无法调用“(”之前的东西","TD151: 未关闭的“(”","TD152: 意外的“)”","TD154: 运算符后不能为空","TD155: “{0}”无法分配到本地变量","讲授 Creative Coding！",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"此脚本使用以下功能: ",0,"本教程使用云数据，这些数据可与其他用户共享。","要添加页数据，请创建一个本地变量，然后点击“升级为字段”。",0,0,0,0,"Microsoft® Translator 进行的翻译，点击以查看原文...","如果接触到游戏板则为真","尝试调整代码，直到调整正确。如果卡住了，请点击教程栏。",0,0,"教程","Twitter","输入内容进行在线搜索...","键入以搜索...",0,"无法编辑事件参数的类型、顺序和数量。","UI 小组件",0,"更新板上精灵的位置。","更新子画面上的图片(如果是子画面)","更新文本精灵上的文本（如果是文本精灵）","上传图片","上传声音","用户",0,"我们需要更多选项","我们会让编辑器适应您的技能水平。您可以稍后在中心更改您的技能水平。","您的编程知识是什么水平？","您的职业是什么？","新增内容","您到底在哪里？","在给定位置写入另一张图片。 不透明度范围介于 0 (透明)和 1 (不透明)之间。",0,"YouTube",0,0,"您的 GitHub 用户。","您的 Minecraft 用户。","您的图形将在此处显示",0,"您的通道将在此处显示","您的电子邮件地址尚未验证。请检查您的收件箱。","您的全名",0,0,0,"您的脚本将显示在此处","你的 Twitter 帐号，例如 @touchdevelop。","几秒以前","函数","全局变量","一分钟以前","页","关于覆盖率","关于见解","关于个人资料","关于您","滥用",0,"滥用报告",0,0,0,"访问 {0} 字段",0,"添加","新增...",0,"为每一个显示帧添加一个动作。",0,0,0,0,0,"添加输入参数","在上面添加行","在下面添加行","新增",0,0,"添加输出参数",0,0,0,0,0,"所有 API","允许","惊人的、惊异的、惊骇的、令人敬畏的、可怕的、惊险的、一流的、酷、好奇的、独特的、特殊的、独一无二的、特别的、令人难以置信的、神奇的、令人愉快的、出色的 ",0,"函数类型定义","一小时以前",0,0,0,0,0,"应用",0,"图稿","图稿资源","任务",0,"作者",0,0,"返回",0,"退格","使用退格键删除",0,0,"基准版本","初学者","初学者",0,"绑定到脚本：","空白","空白应用","空白爬行者","空白文档","空白游戏","空白 Minecraft","空白 Minecraft pi","空白像素画","空白图片素材","空白脚本插件","空白乌龟","空白教程","调试器中断","断点",0,0,0,0,0,0,"取消",0,0,"改(回)到本地","更改内容","通道","检查是否已设置引用",0,0,0,"选择图片（1MB 以下，少于 2048x2048）",0,0,0,0,0,0,"选择您的编码技能水平","选择...",0,"清除","剪贴板","克隆",0,"云会话","代码","为终点线编码","编码员","颜色 #{0}","颜色： {0}","注释","注释",0,"条件","已连接",0,0,"继续",0,"复制","复制选定内容","覆盖率","创建","创建新参数",0,0,0,0,"创建空的对象集合","正在创建脚本",0,"当前表达式","自定义图片！","剪切","裁剪选定内容","数据库","调试","小数点",0,"删除","删除本地数据和权限","删除选定内容","降级到 var","拒绝","描述","描述（有助于搜索）",0,"详细信息","您是否想要使用此值？","diff curr","diff prev",0,0,0,"返回","显示值","在留言板上显示对象",0,0,0,"完成","完成！","编辑","else if","电子邮件",0,"电子邮件和推送通知",0,0,0,0,"输入邀请码","输入此代码","错误",0,"事件",0,"ex： ",0,"优秀；非常好；很棒；很酷；很牛；做得好；不错；做得对；正确",0,"退出","专家",0,"导出","导出内容的 JSON 表示","已从此库导出","扩展",0,"提取选定内容到函数",0,"提取到变量","查找引用","已完成","修复","在编辑器中按教程操作","针对小组","派生","函数","函数名称","函数类型","函数、变量、库...","性别","获取“是编程一小时™”证书","获取每个显示帧的计时器。","github 用户",0,"全局替换","全局变量","全局变量","返回","返回编码！{0}★ 待执行","返回...","转到","转至您的脚本中的事项列表","转到上一步","目标：","小组","团体","红心","帮助",0,0,"历史记录","万岁！你的脚本已成功发布","如何发现","我希望它运行的位置","我已完成 Hour of Code™","图标画： {0}",0,"如果卡住了，请点击终点线",0,0,0,0,"从 JSON 对象导入字段值",0,0,0,0,"惊人的、不可思议的、绝妙的、非凡的、令人兴奋的、令人难以置信的、神奇的、奇特的、杰出的、出色的、疯狂的、特别的、壮观的、令人吃惊的、令人惊叹的、超酷 ",0,"插入","插入注释","插入语句","插入 {0}","见解",0,"安装和加载脚本","到本地",0,"问题","加入小组","加入组",0,"只需继续输入搜索项！","继续编辑","知道这里：",0,"了解","了解有关发布的信息","了解更多","了解有关 {0} 的更多信息","离开教程","让我们改动一下","我们去做吧！","我们开始吧！","库","库","库","库名称","库参考","加载更多","加载更多回复","正在加载",0,"正在加载 /{0} 的注释...",0,"正在加载回复...","正在加载脚本","正在加载教程","正在加载...","本地","位置",0,"逻辑求反","日志","重点",0,"制造者","管理数据","以后再说","我",0,0,"minecraft 用户",0,0,"更多","更多 ","更多设置","移动光标","向左移动","进入下一步","将光标向左移动","将光标向右移动","我的图稿",0,0,0,"我的脚本","此处需要不同的名称","这里需要不同的字符串","此处需要一个新字段","需要参数","需要删除","需要在其他位置进行编辑","求反",0,0,0,0,"换行",0,0,0,"在下面添加新语句","新变量",0,"后续教程...","昵称",0,"该用户没有发布图片","无评论，点击以发表评论!","无叉子，请安装、编辑和重新发布脚本以创建一个！","没有红心。可以在安装脚本后添加一个！","尚未上载任何图片",0,0,"无标记，点击以填写标记!",0,0,0,"通知",0,"现在您可以选择 {0} 的一个属性；但它本身不执行任何操作","现在可以选择它的一个属性","数値","数字输入",0,"职业",0,"可脱机使用","确定","好的，我们来掷骰子吧！","联机",0,"或者点击获得帮助","其他","概述",0,"页",0,"解析脚本文本",0,"粘贴","暂停",0,"物理游戏入门","选取一个脚本模板...","图片","图片名称","图片名称（最少 4 个字符）","图片 URL","再玩一次","请稍等","请稍等...","插件","预览","打印",0,"私有","私有函数","个人资料","个人资料","编程知识",0,"升级为数据",0,"公开昵称","公开信息","发布","发布为隐藏项目",0,"已发布","拉进更改","退出到块级别",0,"重新运行","阅读更多...","只读","实际名称",0,"收到电子邮件通讯","接收电子邮件通知","记录名称：",0,"常规键盘","正在重新加载脚本","删除",0,"删除图片","删除白色背景（最适合游戏精灵）",0,"重命名","重复 n 次","对集合重复","重复条件","替换函数中的所有项","在脚本中替换全部","替换图片","已复制","已复制 ",0,"报告滥用",0,"还原到已发布版本","后退","后退 ","运行","运行主项",0,"带检测运行","保存","已保存","正在保存…","学校","屏幕","屏幕截图","{0} 的屏幕截图","脚本","脚本属性",0,0,"搜索图片","搜索图片","在此搜索 {0}","搜索模板","正在搜索...","参见更多选项","选择","选择更多","选择此行","请选择此 {0} 类型",0,0,"设置本地变量名称","设置名称","设定游戏板被击打时调用的处理程序","设置点击该板时调用的处理程序","设定游戏板被接触时调用的处理程序","设定游戏板触屏被放开时调用的处理程序","将所有字段设置为默认值","保存设置","设置","共享",0,"演示如何完成该活动","显示更多选项","展示","登录",0,0,"登出","正在登录...",0,"简化","保存的技能水平","跳过迭代",0,"社交",0,"声音",0,"splash screen 画： {0}","拆分",0,"重新开始","开始脚本","正在开始...",0,"单步进入","单步跳出","单步跳过",0,"停止",0,"停止函数","停止循环","存储在变量中","将值存储在变量中","字符串",0,"条带“{0}”",0,0,0,"出众的、不可思议的、令人恐怖的、令人难以置信的、神奇的、独一无二的、前所未有的、不寻常的、怪异的、美好的、奇妙的","包围",0,0,"正在同步...",0,0,0,0,0,"标记",0,0,"完成后点击（←）","完成后点击 [确定]",0,"点击此处可进入下一步","完成后点击这里","点击这里","点击此处获取说明","点击这里运行应用","点击以更改颜色","轻敲以改变图标画","轻敲以改变 splash screen 图片","点击以使用 Microsoft® Translator 进行翻译...","临时","terms of use","测试","测试函数","测试","测试两个引用是否指向同一对象",0,0,"中心","邀请码的长度必须在 9 到 64 个字符之间","崩溃的脚本",0,0,"此脚本是一个库","此脚本是一项 Web 服务",0,"到代码","继续","到全局变量","切换断点","最新内容",0,0,"翻译","正在翻译教程...",0,0,0,"再试一次！","变为","教程进度","教程： ","教程","Twitter 帐户","类型： ","类型：{0}",0,0,0,"撤消",0,0,0,0,0,0,0,0,0,0,"更新",0,0,0,0,0,0,"上载","上传图片","上载屏幕截图","上传声音",0,0,0,"URL",0,0,0,0,0,"变量名称","以脚本形式查看","查看/编辑姓名、电子邮件…",0,"壁纸","此处有一个库“{0}”；{1}","此处为{0:a}；是否要对其执行操作？","我们需要一个新字段","我们需要一个新表","我们需要一个新的 {0}","我们需要不同的键盘","我们需要一个新变量","我们需要编辑另一项内容","我们将逐步引导您完成","网络应用",0,0,0,"网站",0,"网站 URL",0,0,0,0,0,"出生年份",0,0,"您已完成任务!",0,"{0} ({1} 行{1:s})","{0} 天以前","{0} 下",0,0,0,"{0} 小时以前","{0} 分钟以前","{0} 个月以前","{0} 个(共 {1} 个)已完成","发布 {0} 个","已发布 {0} 个脚本","{0} 秒以前","上升 {0} 个","{0} 年以前"]),!0):"zh-CN"==e?(TDev.Util._setLanguageArray(t,["   Maybe: {0} ({1} at '{2}')\n","  -> Line {2} ('{1}'), error: {0}\n{3}"," — — 局部变量"," [class]"," [隐藏]"," [override]"," 返回"," 前进"," 小时 "," 分钟 "," 的 "," 秒 "," 发送更改"," 等待服务器","# # # 完整源代码","Javascripty 花括号，以及所有工具，适合于有经验的开发人员!","“atomic”函数","'盒子' 只能在页面显示代码中访问","'盒子' 无法访问在 HTML 布局模式中","'else' 的前面的 'if' 必须是空的","'html' 只能访问 HTML 布局模式","“{0}”认为此处应为 {1}","'{0}' 包含不支持的签名","'{0}' 当前未执行","'{0}' 已过期且不能实现","“{0}”已弃用，不应使用。","'{0}' 不是一个字符串资源","“{0}”返回“{1}”；{2}","'{0}' 返回 {1} 的值; 你可以使用 '储存在var' 按钮来将它们保存到本地","(可选) 与信息有关的错误，用来提供有关错误的额外信息的客户端开发者确定人类可读的 web 页的 URI。","(可选) 人类可读的错误代码。","(可选)未涵盖的 OAuth 2.0 规范的附加键值对。","(可选) 指示是否令牌可能在下一秒内已过期。","(可选)可选，如果相同范围由客户端请求;否则，访问令牌的范围如 OAuth 2.0 规范第 3.3 节所述。","(可选) 以秒为单位的访问令牌生存期。","(请等一等，它会占用至多一分钟)","，而获得了 {0:a}","，获得了 {0}","大小: {0} 字符",". 请阅读我们 ","...... 这儿没什么可看...","... 有更多...","// 注释","1.选择一个文档 (.txt、.pptx，.pdf、.css，小于 8 Mb)","1. 选择 MP3 声音 (小于 1 MB)","2. 给它一个名称 (最低 4 个字符)","3. 描述它","4. 发布",":(抱歉，这个文本翻译时出错。",":(对不起，我们不能翻译此。",":(找不到任何视频源",":(无效的视频信息","; 是否缺少 → ◈ref?","<a href='http://cordova.apache.org/' target='_blank'> Apache Cordova</a> 让您构建跨平台的移动应用程序。","<a href='http://go.microsoft.com/fwlink/?LinkId=254432' target='_blank'> 生成的证书</a>.","<b>免责声明:</b>这个 web 应用程序不是由微软认可的。","<b>如何本地运行本程序</b>","<b>此行正确无误！</b>我们继续吧","<h3>正在加载当前设置...</h3>","<h3>没有更多的提示!</h3>","<h3>欢迎来到Touch Develop</h3>","<h3>{0:q} 需要签到</h3>","<p>如果你没有Azure订阅，去 <a href='https://account.windowsazure.com/Subscriptions' target='_blank'> Azure订阅</a> 获取.</p>","<p>Touch Develop使您可以 <b>轻松地创建应用程序</b> 来自您的手机、 平板电脑或 PC。</p>","<p>你可以与他人分享您的应用程序，因此他们可以 <b>运行和编辑</b> 他们在 Windows Phone、 iPad、 iPhone、 Android、 PC 或 mac上。</p>","<strong>beta 测试中的新功能:</strong> 的语法和语义的更改","<strong>所需的平台:</strong>","超出范围，@hi/lo","数字 2D 矩阵","一个三维向量","Bing 地图","Minecraft Pi 应用。","Minecraft 应用。","Minecraft 爬虫应用。","服务器发送事件的客户端","对sprite属性进行动画处理的动画","Argb 颜色 (alpha、 红色、 绿色、 蓝色)","背景场景图层","一个初学者友好编辑器","打造2D 游戏的开发板","创建 HTML 表单数据的生成器","云计算数据会议","对象集","Sprites集","颜色常量","日期和时间的组合","添加了有关您拉请求的注释。","联系人","自定义记录器","文档","文档资源",0,0,0,"全局变量",0,0,0,0,0,0,0,0,0,0,0,"数値 (負 / 小数の場合もある)","数字常量",0,0,0,"图片","一段文本","像素画应用。",0,0,0,"对库脚本的引用",0,0,0,0,0,0,0,0,0,"声效",0,0,0,0,"用户数据结构","包含用户定义行的表",0,0,0,0,0,"您公开信息的唯一显示名称（至少 8 个字符）",0,0,"用户界面",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"添加对每一显示帧触发的动作",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"增加数字",0,"给当前分数添加值。",0,0,"在脚本停止后，浏览代码以查看收集到的信息。","我的所有组","我的所有脚本",0,0,0,0,0,0,0,"使用页面和方框的空白应用。","使用图片素材库的空白应用。","空白文档页。","空白交互式教程。","空白脚本编辑器插件。","不执行任何操作的空白脚本。",0,0,"包含用户定义行的索引表",0,"乌龟应用。","对输入集合的所有元素应用“转换器”并返回结果集",0,"你确定你想停止下面的教程吗？",0,"由此用户绘制：",0,"向其他对象附加数据","用于创建游戏的样板文件代码。",0,0,0,"相机、 位置、 麦克风和其他传感器",0,0,"更改技能等级！",0,"检查该板是否和另一板的距离相同。",0,0,0,"清除与此板有关的所有排队事件","清除背景图片","清除背景相机",0,0,"用户交流时分享的代码","执行特定任务的代码","比较数字是否相等","比较数字以确定更小值",0,"比较数字以确定更大值",0,0,0,0,0,0,0,"连接两段文本",0,0,0,0,0,0,"转换为本地时间",0,0,0,0,0,"创建组","创建脚本","用给定的起点、宽度和高度创建一个线障碍。粘性的弹性为 0，1 为完全反弹。","新建画面集合。","新建椭圆画面。","新建图片画面。","创建一个新的长方形精灵。",0,"创建新的精灵表单。","创建新的文本画面。","在两个精灵之间创建一个跳板。","创建一个锚精灵。","创建此对象类型的无效值","创建通道",0,"创建无效的值","在给定的距离处创建板的四周。","创建自己的应用",0,0,"创建新的空白游戏板并使之在屏幕上显示。",0,0,0,"用给定图片创建宽度为 100 的新精灵。",0,"创建无效的游戏手柄实例",0,0,"当前设备",0,"当前触点","从事件中分离处理程序。",0,"将图像显示到展示墙上；稍后如果您希望所做更改生效，则需要调用“展示墙更新”。",0,0,0,"显示墙上游戏手柄的状态",0,"子画面是否重叠",0,"文档","完成编辑后，不要忘记向下滚动，然后点击“保存”！","拖放功能块，界面简单，适合于初学者！","在两点之间画一条线","用给定颜色和字号绘制一些文本边框","将代码编辑为文本，以及其他更多选项，适合于应用程序编写爱好者！",0,0,"输入名称",0,"请输入有关您的个人信息","请输入您个人网站的 URL（例如：http://www.northwindtraders.com）","输入邀请码",0,"事件不能有输出参数。","每个人将能够用于在 Internet 上看到你的图片。 ",0,0,"扩展","Facebook","用给定颜色填充椭圆","用给定颜色填充矩形","接触结束后的最终接触速度","对于已发布的脚本，还可查看已发布脚本页上的选项卡，查找匿名收集的众多个人资料和覆盖率数据。","论坛","从现在开始，我们不会向您显示要编写的代码。按照指示进行操作，如果您认为已完成，请单击运行。","当前脚本中的函数",0,0,0,0,0,"获取游戏手柄的状态快照（如果连接到浏览器）。如果不支持或未连接游戏手柄则为空。",0,0,0,"获取值，该值表示该板是否被设计为在景观模式中查看","获取歌曲是否受 DRM 保护的信息","获得所选定轴线的 x 和 y 值。",0,0,"获取背景场景","获取水平居中位置(单位: 像素)",0,"获取 ARGB 值为 #00FFFFFF 的颜色","获取 ARGB 值为 #FF000000 的颜色","获取 ARGB 值为 #FF0000FF 的颜色","获取 ARGB 值为 #FF008000 的颜色","获取 ARGB 值为 #FF00FFFF 的颜色",0,"获取 ARGB 值为 #FF800080 的颜色",0,0,0,0,"获取 ARGB 值为 #FFFF0000 的颜色","获取 ARGB 值为 #FFFF00FF 的颜色","获取 ARGB 值为 #FFFFA500 的颜色",0,"获取 ARGB 值为 #FFFFFF00 的颜色","获取 ARGB 值为 #FFFFFFFF 的颜色",0,0,0,0,"获得可用的第一个连接的游戏手柄",0,"获得游戏手柄标识符",0,"获取高度(单位: 像素)","获取相机图像的高度(单位: 像素)。",0,0,0,0,0,0,0,0,0,"获得玩家索引","获得按钮的按下值。如果按钮缺失则返回 0。",0,"获取从 0 (静音)到 1 (当前音量)的音量","获得精灵数目","获取由 i 索引的精灵",0,"获得这次快照的时间戳",0,"获取宽度(单位: 像素)","获取相机图像的宽度(单位: 像素)。","获取 y 轴位置(单位: 像素)","快速入门",0,"当前脚本中的全局变量",0,0,0,0,0,0,0,0,0,0,0,0,0,"在调试模式，游戏板显示精灵的速度和其他信息","表示按钮是否被按下。如果按钮缺失则返回 false。",0,"表示游戏手柄数据是否相同","表示游戏手柄是否仍被连接。",0,0,0,0,"插入“{0}”{1}",0,"标记 * 的项为必填项。","JSON 数据","加入组","最后接触终点","最后接触起点",0,0,0,0,0,"使更新可见。",0,0,"确保所有画面都在屏幕的边界上弹起",0,"数学擅长程度，绝对值，最大值","Me",0,"Minecraft 用户","更多",0,"将画面向其他画面移动。","乘以数字",0,0,0,0,0,0,0,0,"新脚本",0,"新颜色或内置颜色",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"电话号码、 振动、 等...",0,"选取随机颜色","图片和音乐......",0,0,0,0,0,"请查看我们的隐私声明。",0,"发表评论...",0,0,0,"隐藏动作不会得到运行按钮。 ","提示用户输入一个数字",0,"发布脚本",0,"发布须遵守我们的 ","发布脚本...","在动画开始播放时引发","在动画停止播放时引发","以声波形式读取响应体","其他人查看您的推文或截取推文截图时；或者对推文发表评论或对你的评论进行回复时；或者发生与您的订阅相关的事件时，您会收到电子邮件通知。","请记住：发布脚本后，所有人都会看到您的脚本，所以请确保其中不包含您的密码或个人信息。","减少当前的生命值。","回复...","报告/删除","将图片调整为给定大小(单位: 像素)",0,"返回图像副本",0,0,"返回向此实例的值中添加指定月数的日期。","返回向此实例的值中添加指定年数的日期。","返回一个介于“最小值”和“最大值”（包括这两个值）之间的随机整数。",0,0,0,0,0,0,0,"如果当前实例无效，则返回 true",0,0,0,0,"脚本更新","由此用户编写：",0,"搜索和浏览互联网......","搜索代码...","搜索所有内容","在此搜索...",0,0,"搜索...",0,0,0,"查看更多",0,0,"将梯度设为开或关","设置应用于展示墙的 3x3 仿射矩阵转换。",0,"设置背景相机","设置背景色","设置背景色。","设置背景图片","设定水平居中位置(单位: 像素)","设置当前的生命值。","设定精灵 0 和 1 之间速度损失部分的默认摩擦","设置高度(单位: 像素)","设定位置(单位: 像素)",0,"获取从 0 (静音)到 1 (当前音量)的音量级别","设置速度（单位：像素/秒）","设置画面颜色。","设置游戏板上物体的均匀加速度矢量为像素/秒^2",0,0,"设置宽度(单位: 像素)","设置 x 轴速度(单位: 像素/秒)","设置 y 轴加速度(单位: 像素/秒^2)","设定 y 轴位置(单位: 像素)","设置 y 轴速度(单位: 像素/秒)",0,"设置","使用这个 URL 共享：","如果该脚本使用任何阻止它在这些平台上运行的 API，会在编辑器中显示错误。","显示墙上的板。",0,"技能等级：{0}     ",0,0,0,0,0,"停止并清除所有事件帧计时器",0,"减去数字",0,"TD100: 在此插入 {0:a}","TD101: ：无法找到“{0}”","TD109: 无法分配至此","TD111: 无法从 {0} 分配至 {1}","TD112: 找不到 {1} 的属性“{0}”","TD115: ：向 {0} 提供的参数过多","TD116: 没有向 {0} 提供足够参数","TD118: ：“if”条件需要 {1:a}","TD119: i 需要迭代对象",0,"TD130: “for”的边界需要 {1:a}","TD144: 好像缺了“{0}”，请补上","TD145: 此处好像缺一个运算符(如“+”、“(”或“，”)","TD147: 此处不应出现“{0}”","TD150: 无法调用“(”之前的东西","TD151: 未关闭的“(”","TD152: 意外的“)”","TD154: 运算符后不能为空","TD155: “{0}”无法分配到本地变量","讲授 Creative Coding！",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"此脚本使用以下功能: ",0,"本教程使用云数据，这些数据可与其他用户共享。","要添加页数据，请创建一个本地变量，然后点击“升级为字段”。",0,0,0,0,"Microsoft® Translator 进行的翻译，点击以查看原文...","如果接触到游戏板则为真","尝试调整代码，直到调整正确。如果卡住了，请点击教程栏。",0,0,"教程","Twitter","输入内容进行在线搜索...","键入以搜索...",0,"无法编辑事件参数的类型、顺序和数量。","UI 小组件",0,"更新板上精灵的位置。","更新子画面上的图片(如果是子画面)","更新文本精灵上的文本（如果是文本精灵）","上传图片","上传声音","用户",0,"我们需要更多选项","我们会让编辑器适应您的技能水平。您可以稍后在中心更改您的技能水平。","您的编程知识是什么水平？","您的职业是什么？","新增内容","您到底在哪里？","在给定位置写入另一张图片。 不透明度范围介于 0 (透明)和 1 (不透明)之间。",0,"YouTube",0,0,"您的 GitHub 用户。","您的 Minecraft 用户。","您的图形将在此处显示",0,"您的通道将在此处显示","您的电子邮件地址尚未验证。请检查您的收件箱。","您的全名",0,0,0,"您的脚本将显示在此处","你的 Twitter 帐号，例如 @touchdevelop。","几秒以前","函数","全局变量","一分钟以前","页","关于覆盖率","关于见解","关于个人资料","关于您","滥用",0,"滥用报告",0,0,0,"访问 {0} 字段",0,"添加","新增...",0,"为每一个显示帧添加一个动作。",0,0,0,0,0,"添加输入参数","在上面添加行","在下面添加行","新增",0,0,"添加输出参数",0,0,0,0,0,"所有 API","允许","惊人的、惊异的、惊骇的、令人敬畏的、可怕的、惊险的、一流的、酷、好奇的、独特的、特殊的、独一无二的、特别的、令人难以置信的、神奇的、令人愉快的、出色的 ",0,"函数类型定义","一小时以前",0,0,0,0,0,"应用",0,"图稿","图稿资源","任务",0,"作者",0,0,"返回",0,"退格","使用退格键删除",0,0,"基准版本","初学者","初学者",0,"绑定到脚本：","空白","空白应用","空白爬行者","空白文档","空白游戏","空白 Minecraft","空白 Minecraft pi","空白像素画","空白图片素材","空白脚本插件","空白乌龟","空白教程","调试器中断","断点",0,0,0,0,0,0,"取消",0,0,"改(回)到本地","更改内容","通道","检查是否已设置引用",0,0,0,"选择图片（1MB 以下，少于 2048x2048）",0,0,0,0,0,0,"选择您的编码技能水平","选择...",0,"清除","剪贴板","克隆",0,"云会话","代码","为终点线编码","编码员","颜色 #{0}","颜色： {0}","注释","注释",0,"条件","已连接",0,0,"继续",0,"复制","复制选定内容","覆盖率","创建","创建新参数",0,0,0,0,"创建空的对象集合","正在创建脚本",0,"当前表达式","自定义图片！","剪切","裁剪选定内容","数据库","调试","小数点",0,"删除","删除本地数据和权限","删除选定内容","降级到 var","拒绝","描述","描述（有助于搜索）",0,"详细信息","您是否想要使用此值？","diff curr","diff prev",0,0,0,"返回","显示值","在留言板上显示对象",0,0,0,"完成","完成！","编辑","else if","电子邮件",0,"电子邮件和推送通知",0,0,0,0,"输入邀请码","输入此代码","错误",0,"事件",0,"ex： ",0,"优秀；非常好；很棒；很酷；很牛；做得好；不错；做得对；正确",0,"退出","专家",0,"导出","导出内容的 JSON 表示","已从此库导出","扩展",0,"提取选定内容到函数",0,"提取到变量","查找引用","已完成","修复","在编辑器中按教程操作","针对小组","派生","函数","函数名称","函数类型","函数、变量、库...","性别","获取“是编程一小时™”证书","获取每个显示帧的计时器。","github 用户",0,"全局替换","全局变量","全局变量","返回","返回编码！{0}★ 待执行","返回...","转到","转至您的脚本中的事项列表","转到上一步","目标：","小组","团体","红心","帮助",0,0,"历史记录","万岁！你的脚本已成功发布","如何发现","我希望它运行的位置","我已完成 Hour of Code™","图标画： {0}",0,"如果卡住了，请点击终点线",0,0,0,0,"从 JSON 对象导入字段值",0,0,0,0,"惊人的、不可思议的、绝妙的、非凡的、令人兴奋的、令人难以置信的、神奇的、奇特的、杰出的、出色的、疯狂的、特别的、壮观的、令人吃惊的、令人惊叹的、超酷 ",0,"插入","插入注释","插入语句","插入 {0}","见解",0,"安装和加载脚本","到本地",0,"问题","加入小组","加入组",0,"只需继续输入搜索项！","继续编辑","知道这里：",0,"了解","了解有关发布的信息","了解更多","了解有关 {0} 的更多信息","离开教程","让我们改动一下","我们去做吧！","我们开始吧！","库","库","库","库名称","库参考","加载更多","加载更多回复","正在加载",0,"正在加载 /{0} 的注释...",0,"正在加载回复...","正在加载脚本","正在加载教程","正在加载...","本地","位置",0,"逻辑求反","日志","重点",0,"制造者","管理数据","以后再说","我",0,0,"minecraft 用户",0,0,"更多","更多 ","更多设置","移动光标","向左移动","进入下一步","将光标向左移动","将光标向右移动","我的图稿",0,0,0,"我的脚本","此处需要不同的名称","这里需要不同的字符串","此处需要一个新字段","需要参数","需要删除","需要在其他位置进行编辑","求反",0,0,0,0,"换行",0,0,0,"在下面添加新语句","新变量",0,"后续教程...","昵称",0,"该用户没有发布图片","无评论，点击以发表评论!","无叉子，请安装、编辑和重新发布脚本以创建一个！","没有红心。可以在安装脚本后添加一个！","尚未上载任何图片",0,0,"无标记，点击以填写标记!",0,0,0,"通知",0,"现在您可以选择 {0} 的一个属性；但它本身不执行任何操作","现在可以选择它的一个属性","数値","数字输入",0,"职业",0,"可脱机使用","确定","好的，我们来掷骰子吧！","联机",0,"或者点击获得帮助","其他","概述",0,"页",0,"解析脚本文本",0,"粘贴","暂停",0,"物理游戏入门","选取一个脚本模板...","图片","图片名称","图片名称（最少 4 个字符）","图片 URL","再玩一次","请稍等","请稍等...","插件","预览","打印",0,"私有","私有函数","个人资料","个人资料","编程知识",0,"升级为数据",0,"公开昵称","公开信息","发布","发布为隐藏项目",0,"已发布","拉进更改","退出到块级别",0,"重新运行","阅读更多...","只读","实际名称",0,"收到电子邮件通讯","接收电子邮件通知","记录名称：",0,"常规键盘","正在重新加载脚本","删除",0,"删除图片","删除白色背景（最适合游戏精灵）",0,"重命名","重复 n 次","对集合重复","重复条件","替换函数中的所有项","在脚本中替换全部","替换图片","已复制","已复制 ",0,"报告滥用",0,"还原到已发布版本","后退","后退 ","运行","运行主项",0,"带检测运行","保存","已保存","正在保存…","学校","屏幕","屏幕截图","{0} 的屏幕截图","脚本","脚本属性",0,0,"搜索图片","搜索图片","在此搜索 {0}","搜索模板","正在搜索...","参见更多选项","选择","选择更多","选择此行","请选择此 {0} 类型",0,0,"设置本地变量名称","设置名称","设定游戏板被击打时调用的处理程序","设置点击该板时调用的处理程序","设定游戏板被接触时调用的处理程序","设定游戏板触屏被放开时调用的处理程序","将所有字段设置为默认值","保存设置","设置","共享",0,"演示如何完成该活动","显示更多选项","展示","登录",0,0,"登出","正在登录...",0,"简化","保存的技能水平","跳过迭代",0,"社交",0,"声音",0,"splash screen 画： {0}","拆分",0,"重新开始","开始脚本","正在开始...",0,"单步进入","单步跳出","单步跳过",0,"停止",0,"停止函数","停止循环","存储在变量中","将值存储在变量中","字符串",0,"条带“{0}”",0,0,0,"出众的、不可思议的、令人恐怖的、令人难以置信的、神奇的、独一无二的、前所未有的、不寻常的、怪异的、美好的、奇妙的","包围",0,0,"正在同步...",0,0,0,0,0,"标记",0,0,"完成后点击（←）","完成后点击 [确定]",0,"点击此处可进入下一步","完成后点击这里","点击这里","点击此处获取说明","点击这里运行应用","点击以更改颜色","轻敲以改变图标画","轻敲以改变 splash screen 图片","点击以使用 Microsoft® Translator 进行翻译...","临时","terms of use","测试","测试函数","测试","测试两个引用是否指向同一对象",0,0,"中心","邀请码的长度必须在 9 到 64 个字符之间","崩溃的脚本",0,0,"此脚本是一个库","此脚本是一项 Web 服务",0,"到代码","继续","到全局变量","切换断点","最新内容",0,0,"翻译","正在翻译教程...",0,0,0,"再试一次！","变为","教程进度","教程： ","教程","Twitter 帐户","类型： ","类型：{0}",0,0,0,"撤消",0,0,0,0,0,0,0,0,0,0,"更新",0,0,0,0,0,0,"上载","上传图片","上载屏幕截图","上传声音",0,0,0,"URL",0,0,0,0,0,"变量名称","以脚本形式查看","查看/编辑姓名、电子邮件…",0,"壁纸","此处有一个库“{0}”；{1}","此处为{0:a}；是否要对其执行操作？","我们需要一个新字段","我们需要一个新表","我们需要一个新的 {0}","我们需要不同的键盘","我们需要一个新变量","我们需要编辑另一项内容","我们将逐步引导您完成","网络应用",0,0,0,"网站",0,"网站 URL",0,0,0,0,0,"出生年份",0,0,"您已完成任务!",0,"{0} ({1} 行{1:s})","{0} 天以前","{0} 下",0,0,0,"{0} 小时以前","{0} 分钟以前","{0} 个月以前","{0} 个(共 {1} 个)已完成","发布 {0} 个","已发布 {0} 个脚本","{0} 秒以前","上升 {0} 个","{0} 年以前"]),!0):"zh-HK"==e?(TDev.Util._setLanguageArray(t,["   Maybe: {0} ({1} at '{2}')\n","  -> Line {2} ('{1}'), error: {0}\n{3}"," — — 局部变量"," [class]"," [隐藏]"," [override]"," 返回"," 前进"," 小时 "," 分钟 "," 的 "," 秒 "," 发送更改"," 等待服务器","# # # 完整源代码","Javascripty 花括号，以及所有工具，适合于有经验的开发人员!","“atomic”函数","'盒子' 只能在页面显示代码中访问","'盒子' 无法访问在 HTML 布局模式中","'else' 的前面的 'if' 必须是空的","'html' 只能访问 HTML 布局模式","“{0}”认为此处应为 {1}","'{0}' 包含不支持的签名","'{0}' 当前未执行","'{0}' 已过期且不能实现","“{0}”已弃用，不应使用。","'{0}' 不是一个字符串资源","“{0}”返回“{1}”；{2}","'{0}' 返回 {1} 的值; 你可以使用 '储存在var' 按钮来将它们保存到本地","(可选) 与信息有关的错误，用来提供有关错误的额外信息的客户端开发者确定人类可读的 web 页的 URI。","(可选) 人类可读的错误代码。","(可选)未涵盖的 OAuth 2.0 规范的附加键值对。","(可选) 指示是否令牌可能在下一秒内已过期。","(可选)可选，如果相同范围由客户端请求;否则，访问令牌的范围如 OAuth 2.0 规范第 3.3 节所述。","(可选) 以秒为单位的访问令牌生存期。","(请等一等，它会占用至多一分钟)","，而获得了 {0:a}","，获得了 {0}","大小: {0} 字符",". 请阅读我们 ","...... 这儿没什么可看...","... 有更多...","// 注释","1.选择一个文档 (.txt、.pptx，.pdf、.css，小于 8 Mb)","1. 选择 MP3 声音 (小于 1 MB)","2. 给它一个名称 (最低 4 个字符)","3. 描述它","4. 发布",":(抱歉，这个文本翻译时出错。",":(对不起，我们不能翻译此。",":(找不到任何视频源",":(无效的视频信息","; 是否缺少 → ◈ref?","<a href='http://cordova.apache.org/' target='_blank'> Apache Cordova</a> 让您构建跨平台的移动应用程序。","<a href='http://go.microsoft.com/fwlink/?LinkId=254432' target='_blank'> 生成的证书</a>.","<b>免责声明:</b>这个 web 应用程序不是由微软认可的。","<b>如何本地运行本程序</b>","<b>此行正确无误！</b>我们继续吧","<h3>正在加载当前设置...</h3>","<h3>没有更多的提示!</h3>","<h3>欢迎来到Touch Develop</h3>","<h3>{0:q} 需要签到</h3>","<p>如果你没有Azure订阅，去 <a href='https://account.windowsazure.com/Subscriptions' target='_blank'> Azure订阅</a> 获取.</p>","<p>Touch Develop使您可以 <b>轻松地创建应用程序</b> 来自您的手机、 平板电脑或 PC。</p>","<p>你可以与他人分享您的应用程序，因此他们可以 <b>运行和编辑</b> 他们在 Windows Phone、 iPad、 iPhone、 Android、 PC 或 mac上。</p>","<strong>beta 测试中的新功能:</strong> 的语法和语义的更改","<strong>所需的平台:</strong>","超出范围，@hi/lo","数字 2D 矩阵","一个三维向量","Bing 地图","Minecraft Pi 应用。","Minecraft 应用。","Minecraft 爬虫应用。","服务器发送事件的客户端","对sprite属性进行动画处理的动画","Argb 颜色 (alpha、 红色、 绿色、 蓝色)","背景场景图层","一个初学者友好编辑器","打造2D 游戏的开发板","创建 HTML 表单数据的生成器","云计算数据会议","对象集","Sprites集","颜色常量","日期和时间的组合","添加了有关您拉请求的注释。","联系人","自定义记录器","文档","文档资源",0,0,0,"全局变量",0,0,0,0,0,0,0,0,0,0,0,"数値 (負 / 小数の場合もある)","数字常量",0,0,0,"图片","一段文本","像素画应用。",0,0,0,"对库脚本的引用",0,0,0,0,0,0,0,0,0,"声效",0,0,0,0,"用户数据结构","包含用户定义行的表",0,0,0,0,0,"您公开信息的唯一显示名称（至少 8 个字符）",0,0,"用户界面",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"添加对每一显示帧触发的动作",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"增加数字",0,"给当前分数添加值。",0,0,"在脚本停止后，浏览代码以查看收集到的信息。","我的所有组","我的所有脚本",0,0,0,0,0,0,0,"使用页面和方框的空白应用。","使用图片素材库的空白应用。","空白文档页。","空白交互式教程。","空白脚本编辑器插件。","不执行任何操作的空白脚本。",0,0,"包含用户定义行的索引表",0,"乌龟应用。","对输入集合的所有元素应用“转换器”并返回结果集",0,"你确定你想停止下面的教程吗？",0,"由此用户绘制：",0,"向其他对象附加数据","用于创建游戏的样板文件代码。",0,0,0,"相机、 位置、 麦克风和其他传感器",0,0,"更改技能等级！",0,"检查该板是否和另一板的距离相同。",0,0,0,"清除与此板有关的所有排队事件","清除背景图片","清除背景相机",0,0,"用户交流时分享的代码","执行特定任务的代码","比较数字是否相等","比较数字以确定更小值",0,"比较数字以确定更大值",0,0,0,0,0,0,0,"连接两段文本",0,0,0,0,0,0,"转换为本地时间",0,0,0,0,0,"创建组","创建脚本","用给定的起点、宽度和高度创建一个线障碍。粘性的弹性为 0，1 为完全反弹。","新建画面集合。","新建椭圆画面。","新建图片画面。","创建一个新的长方形精灵。",0,"创建新的精灵表单。","创建新的文本画面。","在两个精灵之间创建一个跳板。","创建一个锚精灵。","创建此对象类型的无效值","创建通道",0,"创建无效的值","在给定的距离处创建板的四周。","创建自己的应用",0,0,"创建新的空白游戏板并使之在屏幕上显示。",0,0,0,"用给定图片创建宽度为 100 的新精灵。",0,"创建无效的游戏手柄实例",0,0,"当前设备",0,"当前触点","从事件中分离处理程序。",0,"将图像显示到展示墙上；稍后如果您希望所做更改生效，则需要调用“展示墙更新”。",0,0,0,"显示墙上游戏手柄的状态",0,"子画面是否重叠",0,"文档","完成编辑后，不要忘记向下滚动，然后点击“保存”！","拖放功能块，界面简单，适合于初学者！","在两点之间画一条线","用给定颜色和字号绘制一些文本边框","将代码编辑为文本，以及其他更多选项，适合于应用程序编写爱好者！",0,0,"输入名称",0,"请输入有关您的个人信息","请输入您个人网站的 URL（例如：http://www.northwindtraders.com）","输入邀请码",0,"事件不能有输出参数。","每个人将能够用于在 Internet 上看到你的图片。 ",0,0,"扩展","Facebook","用给定颜色填充椭圆","用给定颜色填充矩形","接触结束后的最终接触速度","对于已发布的脚本，还可查看已发布脚本页上的选项卡，查找匿名收集的众多个人资料和覆盖率数据。","论坛","从现在开始，我们不会向您显示要编写的代码。按照指示进行操作，如果您认为已完成，请单击运行。","当前脚本中的函数",0,0,0,0,0,"获取游戏手柄的状态快照（如果连接到浏览器）。如果不支持或未连接游戏手柄则为空。",0,0,0,"获取值，该值表示该板是否被设计为在景观模式中查看","获取歌曲是否受 DRM 保护的信息","获得所选定轴线的 x 和 y 值。",0,0,"获取背景场景","获取水平居中位置(单位: 像素)",0,"获取 ARGB 值为 #00FFFFFF 的颜色","获取 ARGB 值为 #FF000000 的颜色","获取 ARGB 值为 #FF0000FF 的颜色","获取 ARGB 值为 #FF008000 的颜色","获取 ARGB 值为 #FF00FFFF 的颜色",0,"获取 ARGB 值为 #FF800080 的颜色",0,0,0,0,"获取 ARGB 值为 #FFFF0000 的颜色","获取 ARGB 值为 #FFFF00FF 的颜色","获取 ARGB 值为 #FFFFA500 的颜色",0,"获取 ARGB 值为 #FFFFFF00 的颜色","获取 ARGB 值为 #FFFFFFFF 的颜色",0,0,0,0,"获得可用的第一个连接的游戏手柄",0,"获得游戏手柄标识符",0,"获取高度(单位: 像素)","获取相机图像的高度(单位: 像素)。",0,0,0,0,0,0,0,0,0,"获得玩家索引","获得按钮的按下值。如果按钮缺失则返回 0。",0,"获取从 0 (静音)到 1 (当前音量)的音量","获得精灵数目","获取由 i 索引的精灵",0,"获得这次快照的时间戳",0,"获取宽度(单位: 像素)","获取相机图像的宽度(单位: 像素)。","获取 y 轴位置(单位: 像素)","快速入门",0,"当前脚本中的全局变量",0,0,0,0,0,0,0,0,0,0,0,0,0,"在调试模式，游戏板显示精灵的速度和其他信息","表示按钮是否被按下。如果按钮缺失则返回 false。",0,"表示游戏手柄数据是否相同","表示游戏手柄是否仍被连接。",0,0,0,0,"插入“{0}”{1}",0,"标记 * 的项为必填项。","JSON 数据","加入组","最后接触终点","最后接触起点",0,0,0,0,0,"使更新可见。",0,0,"确保所有画面都在屏幕的边界上弹起",0,"数学擅长程度，绝对值，最大值","Me",0,"Minecraft 用户","更多",0,"将画面向其他画面移动。","乘以数字",0,0,0,0,0,0,0,0,"新脚本",0,"新颜色或内置颜色",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"电话号码、 振动、 等...",0,"选取随机颜色","图片和音乐......",0,0,0,0,0,"请查看我们的隐私声明。",0,"发表评论...",0,0,0,"隐藏动作不会得到运行按钮。 ","提示用户输入一个数字",0,"发布脚本",0,"发布须遵守我们的 ","发布脚本...","在动画开始播放时引发","在动画停止播放时引发","以声波形式读取响应体","其他人查看您的推文或截取推文截图时；或者对推文发表评论或对你的评论进行回复时；或者发生与您的订阅相关的事件时，您会收到电子邮件通知。","请记住：发布脚本后，所有人都会看到您的脚本，所以请确保其中不包含您的密码或个人信息。","减少当前的生命值。","回复...","报告/删除","将图片调整为给定大小(单位: 像素)",0,"返回图像副本",0,0,"返回向此实例的值中添加指定月数的日期。","返回向此实例的值中添加指定年数的日期。","返回一个介于“最小值”和“最大值”（包括这两个值）之间的随机整数。",0,0,0,0,0,0,0,"如果当前实例无效，则返回 true",0,0,0,0,"脚本更新","由此用户编写：",0,"搜索和浏览互联网......","搜索代码...","搜索所有内容","在此搜索...",0,0,"搜索...",0,0,0,"查看更多",0,0,"将梯度设为开或关","设置应用于展示墙的 3x3 仿射矩阵转换。",0,"设置背景相机","设置背景色","设置背景色。","设置背景图片","设定水平居中位置(单位: 像素)","设置当前的生命值。","设定精灵 0 和 1 之间速度损失部分的默认摩擦","设置高度(单位: 像素)","设定位置(单位: 像素)",0,"获取从 0 (静音)到 1 (当前音量)的音量级别","设置速度（单位：像素/秒）","设置画面颜色。","设置游戏板上物体的均匀加速度矢量为像素/秒^2",0,0,"设置宽度(单位: 像素)","设置 x 轴速度(单位: 像素/秒)","设置 y 轴加速度(单位: 像素/秒^2)","设定 y 轴位置(单位: 像素)","设置 y 轴速度(单位: 像素/秒)",0,"设置","使用这个 URL 共享：","如果该脚本使用任何阻止它在这些平台上运行的 API，会在编辑器中显示错误。","显示墙上的板。",0,"技能等级：{0}     ",0,0,0,0,0,"停止并清除所有事件帧计时器",0,"减去数字",0,"TD100: 在此插入 {0:a}","TD101: ：无法找到“{0}”","TD109: 无法分配至此","TD111: 无法从 {0} 分配至 {1}","TD112: 找不到 {1} 的属性“{0}”","TD115: ：向 {0} 提供的参数过多","TD116: 没有向 {0} 提供足够参数","TD118: ：“if”条件需要 {1:a}","TD119: i 需要迭代对象",0,"TD130: “for”的边界需要 {1:a}","TD144: 好像缺了“{0}”，请补上","TD145: 此处好像缺一个运算符(如“+”、“(”或“，”)","TD147: 此处不应出现“{0}”","TD150: 无法调用“(”之前的东西","TD151: 未关闭的“(”","TD152: 意外的“)”","TD154: 运算符后不能为空","TD155: “{0}”无法分配到本地变量","讲授 Creative Coding！",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"此脚本使用以下功能: ",0,"本教程使用云数据，这些数据可与其他用户共享。","要添加页数据，请创建一个本地变量，然后点击“升级为字段”。",0,0,0,0,"Microsoft® Translator 进行的翻译，点击以查看原文...","如果接触到游戏板则为真","尝试调整代码，直到调整正确。如果卡住了，请点击教程栏。",0,0,"教程","Twitter","输入内容进行在线搜索...","键入以搜索...",0,"无法编辑事件参数的类型、顺序和数量。","UI 小组件",0,"更新板上精灵的位置。","更新子画面上的图片(如果是子画面)","更新文本精灵上的文本（如果是文本精灵）","上传图片","上传声音","用户",0,"我们需要更多选项","我们会让编辑器适应您的技能水平。您可以稍后在中心更改您的技能水平。","您的编程知识是什么水平？","您的职业是什么？","新增内容","您到底在哪里？","在给定位置写入另一张图片。 不透明度范围介于 0 (透明)和 1 (不透明)之间。",0,"YouTube",0,0,"您的 GitHub 用户。","您的 Minecraft 用户。","您的图形将在此处显示",0,"您的通道将在此处显示","您的电子邮件地址尚未验证。请检查您的收件箱。","您的全名",0,0,0,"您的脚本将显示在此处","你的 Twitter 帐号，例如 @touchdevelop。","几秒以前","函数","全局变量","一分钟以前","页","关于覆盖率","关于见解","关于个人资料","关于您","滥用",0,"滥用报告",0,0,0,"访问 {0} 字段",0,"添加","新增...",0,"为每一个显示帧添加一个动作。",0,0,0,0,0,"添加输入参数","在上面添加行","在下面添加行","新增",0,0,"添加输出参数",0,0,0,0,0,"所有 API","允许","惊人的、惊异的、惊骇的、令人敬畏的、可怕的、惊险的、一流的、酷、好奇的、独特的、特殊的、独一无二的、特别的、令人难以置信的、神奇的、令人愉快的、出色的 ",0,"函数类型定义","一小时以前",0,0,0,0,0,"应用",0,"图稿","图稿资源","任务",0,"作者",0,0,"返回",0,"退格","使用退格键删除",0,0,"基准版本","初学者","初学者",0,"绑定到脚本：","空白","空白应用","空白爬行者","空白文档","空白游戏","空白 Minecraft","空白 Minecraft pi","空白像素画","空白图片素材","空白脚本插件","空白乌龟","空白教程","调试器中断","断点",0,0,0,0,0,0,"取消",0,0,"改(回)到本地","更改内容","通道","检查是否已设置引用",0,0,0,"选择图片（1MB 以下，少于 2048x2048）",0,0,0,0,0,0,"选择您的编码技能水平","选择...",0,"清除","剪贴板","克隆",0,"云会话","代码","为终点线编码","编码员","颜色 #{0}","颜色： {0}","注释","注释",0,"条件","已连接",0,0,"继续",0,"复制","复制选定内容","覆盖率","创建","创建新参数",0,0,0,0,"创建空的对象集合","正在创建脚本",0,"当前表达式","自定义图片！","剪切","裁剪选定内容","数据库","调试","小数点",0,"删除","删除本地数据和权限","删除选定内容","降级到 var","拒绝","描述","描述（有助于搜索）",0,"详细信息","您是否想要使用此值？","diff curr","diff prev",0,0,0,"返回","显示值","在留言板上显示对象",0,0,0,"完成","完成！","编辑","else if","电子邮件",0,"电子邮件和推送通知",0,0,0,0,"输入邀请码","输入此代码","错误",0,"事件",0,"ex： ",0,"优秀；非常好；很棒；很酷；很牛；做得好；不错；做得对；正确",0,"退出","专家",0,"导出","导出内容的 JSON 表示","已从此库导出","扩展",0,"提取选定内容到函数",0,"提取到变量","查找引用","已完成","修复","在编辑器中按教程操作","针对小组","派生","函数","函数名称","函数类型","函数、变量、库...","性别","获取“是编程一小时™”证书","获取每个显示帧的计时器。","github 用户",0,"全局替换","全局变量","全局变量","返回","返回编码！{0}★ 待执行","返回...","转到","转至您的脚本中的事项列表","转到上一步","目标：","小组","团体","红心","帮助",0,0,"历史记录","万岁！你的脚本已成功发布","如何发现","我希望它运行的位置","我已完成 Hour of Code™","图标画： {0}",0,"如果卡住了，请点击终点线",0,0,0,0,"从 JSON 对象导入字段值",0,0,0,0,"惊人的、不可思议的、绝妙的、非凡的、令人兴奋的、令人难以置信的、神奇的、奇特的、杰出的、出色的、疯狂的、特别的、壮观的、令人吃惊的、令人惊叹的、超酷 ",0,"插入","插入注释","插入语句","插入 {0}","见解",0,"安装和加载脚本","到本地",0,"问题","加入小组","加入组",0,"只需继续输入搜索项！","继续编辑","知道这里：",0,"了解","了解有关发布的信息","了解更多","了解有关 {0} 的更多信息","离开教程","让我们改动一下","我们去做吧！","我们开始吧！","库","库","库","库名称","库参考","加载更多","加载更多回复","正在加载",0,"正在加载 /{0} 的注释...",0,"正在加载回复...","正在加载脚本","正在加载教程","正在加载...","本地","位置",0,"逻辑求反","日志","重点",0,"制造者","管理数据","以后再说","我",0,0,"minecraft 用户",0,0,"更多","更多 ","更多设置","移动光标","向左移动","进入下一步","将光标向左移动","将光标向右移动","我的图稿",0,0,0,"我的脚本","此处需要不同的名称","这里需要不同的字符串","此处需要一个新字段","需要参数","需要删除","需要在其他位置进行编辑","求反",0,0,0,0,"换行",0,0,0,"在下面添加新语句","新变量",0,"后续教程...","昵称",0,"该用户没有发布图片","无评论，点击以发表评论!","无叉子，请安装、编辑和重新发布脚本以创建一个！","没有红心。可以在安装脚本后添加一个！","尚未上载任何图片",0,0,"无标记，点击以填写标记!",0,0,0,"通知",0,"现在您可以选择 {0} 的一个属性；但它本身不执行任何操作","现在可以选择它的一个属性","数値","数字输入",0,"职业",0,"可脱机使用","确定","好的，我们来掷骰子吧！","联机",0,"或者点击获得帮助","其他","概述",0,"页",0,"解析脚本文本",0,"粘贴","暂停",0,"物理游戏入门","选取一个脚本模板...","图片","图片名称","图片名称（最少 4 个字符）","图片 URL","再玩一次","请稍等","请稍等...","插件","预览","打印",0,"私有","私有函数","个人资料","个人资料","编程知识",0,"升级为数据",0,"公开昵称","公开信息","发布","发布为隐藏项目",0,"已发布","拉进更改","退出到块级别",0,"重新运行","阅读更多...","只读","实际名称",0,"收到电子邮件通讯","接收电子邮件通知","记录名称：",0,"常规键盘","正在重新加载脚本","删除",0,"删除图片","删除白色背景（最适合游戏精灵）",0,"重命名","重复 n 次","对集合重复","重复条件","替换函数中的所有项","在脚本中替换全部","替换图片","已复制","已复制 ",0,"报告滥用",0,"还原到已发布版本","后退","后退 ","运行","运行主项",0,"带检测运行","保存","已保存","正在保存…","学校","屏幕","屏幕截图","{0} 的屏幕截图","脚本","脚本属性",0,0,"搜索图片","搜索图片","在此搜索 {0}","搜索模板","正在搜索...","参见更多选项","选择","选择更多","选择此行","请选择此 {0} 类型",0,0,"设置本地变量名称","设置名称","设定游戏板被击打时调用的处理程序","设置点击该板时调用的处理程序","设定游戏板被接触时调用的处理程序","设定游戏板触屏被放开时调用的处理程序","将所有字段设置为默认值","保存设置","设置","共享",0,"演示如何完成该活动","显示更多选项","展示","登录",0,0,"登出","正在登录...",0,"简化","保存的技能水平","跳过迭代",0,"社交",0,"声音",0,"splash screen 画： {0}","拆分",0,"重新开始","开始脚本","正在开始...",0,"单步进入","单步跳出","单步跳过",0,"停止",0,"停止函数","停止循环","存储在变量中","将值存储在变量中","字符串",0,"条带“{0}”",0,0,0,"出众的、不可思议的、令人恐怖的、令人难以置信的、神奇的、独一无二的、前所未有的、不寻常的、怪异的、美好的、奇妙的","包围",0,0,"正在同步...",0,0,0,0,0,"标记",0,0,"完成后点击（←）","完成后点击 [确定]",0,"点击此处可进入下一步","完成后点击这里","点击这里","点击此处获取说明","点击这里运行应用","点击以更改颜色","轻敲以改变图标画","轻敲以改变 splash screen 图片","点击以使用 Microsoft® Translator 进行翻译...","临时","terms of use","测试","测试函数","测试","测试两个引用是否指向同一对象",0,0,"中心","邀请码的长度必须在 9 到 64 个字符之间","崩溃的脚本",0,0,"此脚本是一个库","此脚本是一项 Web 服务",0,"到代码","继续","到全局变量","切换断点","最新内容",0,0,"翻译","正在翻译教程...",0,0,0,"再试一次！","变为","教程进度","教程： ","教程","Twitter 帐户","类型： ","类型：{0}",0,0,0,"撤消",0,0,0,0,0,0,0,0,0,0,"更新",0,0,0,0,0,0,"上载","上传图片","上载屏幕截图","上传声音",0,0,0,"URL",0,0,0,0,0,"变量名称","以脚本形式查看","查看/编辑姓名、电子邮件…",0,"壁纸","此处有一个库“{0}”；{1}","此处为{0:a}；是否要对其执行操作？","我们需要一个新字段","我们需要一个新表","我们需要一个新的 {0}","我们需要不同的键盘","我们需要一个新变量","我们需要编辑另一项内容","我们将逐步引导您完成","网络应用",0,0,0,"网站",0,"网站 URL",0,0,0,0,0,"出生年份",0,0,"您已完成任务!",0,"{0} ({1} 行{1:s})","{0} 天以前","{0} 下",0,0,0,"{0} 小时以前","{0} 分钟以前","{0} 个月以前","{0} 个(共 {1} 个)已完成","发布 {0} 个","已发布 {0} 个脚本","{0} 秒以前","上升 {0} 个","{0} 年以前"]),!0):"zh-TW"==e&&(TDev.Util._setLanguageArray(t,["   Maybe: {0} ({1} at '{2}')\n","  -> Line {2} ('{1}'), error: {0}\n{3}"," — — 局部变量"," [class]"," [隐藏]"," [override]"," 返回"," 前进"," 小时 "," 分钟 "," 的 "," 秒 "," 发送更改"," 等待服务器","# # # 完整源代码","Javascripty 花括号，以及所有工具，适合于有经验的开发人员!","“atomic”函数","'盒子' 只能在页面显示代码中访问","'盒子' 无法访问在 HTML 布局模式中","'else' 的前面的 'if' 必须是空的","'html' 只能访问 HTML 布局模式","“{0}”认为此处应为 {1}","'{0}' 包含不支持的签名","'{0}' 当前未执行","'{0}' 已过期且不能实现","“{0}”已弃用，不应使用。","'{0}' 不是一个字符串资源","“{0}”返回“{1}”；{2}","'{0}' 返回 {1} 的值; 你可以使用 '储存在var' 按钮来将它们保存到本地","(可选) 与信息有关的错误，用来提供有关错误的额外信息的客户端开发者确定人类可读的 web 页的 URI。","(可选) 人类可读的错误代码。","(可选)未涵盖的 OAuth 2.0 规范的附加键值对。","(可选) 指示是否令牌可能在下一秒内已过期。","(可选)可选，如果相同范围由客户端请求;否则，访问令牌的范围如 OAuth 2.0 规范第 3.3 节所述。","(可选) 以秒为单位的访问令牌生存期。","(请等一等，它会占用至多一分钟)","，而获得了 {0:a}","，获得了 {0}","大小: {0} 字符",". 请阅读我们 ","...... 这儿没什么可看...","... 有更多...","// 注释","1.选择一个文档 (.txt、.pptx，.pdf、.css，小于 8 Mb)","1. 选择 MP3 声音 (小于 1 MB)","2. 给它一个名称 (最低 4 个字符)","3. 描述它","4. 发布",":(抱歉，这个文本翻译时出错。",":(对不起，我们不能翻译此。",":(找不到任何视频源",":(无效的视频信息","; 是否缺少 → ◈ref?","<a href='http://cordova.apache.org/' target='_blank'> Apache Cordova</a> 让您构建跨平台的移动应用程序。","<a href='http://go.microsoft.com/fwlink/?LinkId=254432' target='_blank'> 生成的证书</a>.","<b>免责声明:</b>这个 web 应用程序不是由微软认可的。","<b>如何本地运行本程序</b>","<b>此行正确无误！</b>我们继续吧","<h3>正在加载当前设置...</h3>","<h3>没有更多的提示!</h3>","<h3>欢迎来到Touch Develop</h3>","<h3>{0:q} 需要签到</h3>","<p>如果你没有Azure订阅，去 <a href='https://account.windowsazure.com/Subscriptions' target='_blank'> Azure订阅</a> 获取.</p>","<p>Touch Develop使您可以 <b>轻松地创建应用程序</b> 来自您的手机、 平板电脑或 PC。</p>","<p>你可以与他人分享您的应用程序，因此他们可以 <b>运行和编辑</b> 他们在 Windows Phone、 iPad、 iPhone、 Android、 PC 或 mac上。</p>","<strong>beta 测试中的新功能:</strong> 的语法和语义的更改","<strong>所需的平台:</strong>","超出范围，@hi/lo","数字 2D 矩阵","一个三维向量","Bing 地图","Minecraft Pi 应用。","Minecraft 应用。","Minecraft 爬虫应用。","服务器发送事件的客户端","对sprite属性进行动画处理的动画","Argb 颜色 (alpha、 红色、 绿色、 蓝色)","背景场景图层","一个初学者友好编辑器","打造2D 游戏的开发板","创建 HTML 表单数据的生成器","云计算数据会议","对象集","Sprites集","颜色常量","日期和时间的组合","添加了有关您拉请求的注释。","联系人","自定义记录器","文档","文档资源",0,0,0,"全局变量",0,0,0,0,0,0,0,0,0,0,0,"数値 (負 / 小数の場合もある)","数字常量",0,0,0,"图片","一段文本","像素画应用。",0,0,0,"对库脚本的引用",0,0,0,0,0,0,0,0,0,"声效",0,0,0,0,"用户数据结构","包含用户定义行的表",0,0,0,0,0,"您公开信息的唯一显示名称（至少 8 个字符）",0,0,"用户界面",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"添加对每一显示帧触发的动作",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"增加数字",0,"给当前分数添加值。",0,0,"在脚本停止后，浏览代码以查看收集到的信息。","我的所有组","我的所有脚本",0,0,0,0,0,0,0,"使用页面和方框的空白应用。","使用图片素材库的空白应用。","空白文档页。","空白交互式教程。","空白脚本编辑器插件。","不执行任何操作的空白脚本。",0,0,"包含用户定义行的索引表",0,"乌龟应用。","对输入集合的所有元素应用“转换器”并返回结果集",0,"你确定你想停止下面的教程吗？",0,"由此用户绘制：",0,"向其他对象附加数据","用于创建游戏的样板文件代码。",0,0,0,"相机、 位置、 麦克风和其他传感器",0,0,"更改技能等级！",0,"检查该板是否和另一板的距离相同。",0,0,0,"清除与此板有关的所有排队事件","清除背景图片","清除背景相机",0,0,"用户交流时分享的代码","执行特定任务的代码","比较数字是否相等","比较数字以确定更小值",0,"比较数字以确定更大值",0,0,0,0,0,0,0,"连接两段文本",0,0,0,0,0,0,"转换为本地时间",0,0,0,0,0,"创建组","创建脚本","用给定的起点、宽度和高度创建一个线障碍。粘性的弹性为 0，1 为完全反弹。","新建画面集合。","新建椭圆画面。","新建图片画面。","创建一个新的长方形精灵。",0,"创建新的精灵表单。","创建新的文本画面。","在两个精灵之间创建一个跳板。","创建一个锚精灵。","创建此对象类型的无效值","创建通道",0,"创建无效的值","在给定的距离处创建板的四周。","创建自己的应用",0,0,"创建新的空白游戏板并使之在屏幕上显示。",0,0,0,"用给定图片创建宽度为 100 的新精灵。",0,"创建无效的游戏手柄实例",0,0,"当前设备",0,"当前触点","从事件中分离处理程序。",0,"将图像显示到展示墙上；稍后如果您希望所做更改生效，则需要调用“展示墙更新”。",0,0,0,"显示墙上游戏手柄的状态",0,"子画面是否重叠",0,"文档","完成编辑后，不要忘记向下滚动，然后点击“保存”！","拖放功能块，界面简单，适合于初学者！","在两点之间画一条线","用给定颜色和字号绘制一些文本边框","将代码编辑为文本，以及其他更多选项，适合于应用程序编写爱好者！",0,0,"输入名称",0,"请输入有关您的个人信息","请输入您个人网站的 URL（例如：http://www.northwindtraders.com）","输入邀请码",0,"事件不能有输出参数。","每个人将能够用于在 Internet 上看到你的图片。 ",0,0,"扩展","Facebook","用给定颜色填充椭圆","用给定颜色填充矩形","接触结束后的最终接触速度","对于已发布的脚本，还可查看已发布脚本页上的选项卡，查找匿名收集的众多个人资料和覆盖率数据。","论坛","从现在开始，我们不会向您显示要编写的代码。按照指示进行操作，如果您认为已完成，请单击运行。","当前脚本中的函数",0,0,0,0,0,"获取游戏手柄的状态快照（如果连接到浏览器）。如果不支持或未连接游戏手柄则为空。",0,0,0,"获取值，该值表示该板是否被设计为在景观模式中查看","获取歌曲是否受 DRM 保护的信息","获得所选定轴线的 x 和 y 值。",0,0,"获取背景场景","获取水平居中位置(单位: 像素)",0,"获取 ARGB 值为 #00FFFFFF 的颜色","获取 ARGB 值为 #FF000000 的颜色","获取 ARGB 值为 #FF0000FF 的颜色","获取 ARGB 值为 #FF008000 的颜色","获取 ARGB 值为 #FF00FFFF 的颜色",0,"获取 ARGB 值为 #FF800080 的颜色",0,0,0,0,"获取 ARGB 值为 #FFFF0000 的颜色","获取 ARGB 值为 #FFFF00FF 的颜色","获取 ARGB 值为 #FFFFA500 的颜色",0,"获取 ARGB 值为 #FFFFFF00 的颜色","获取 ARGB 值为 #FFFFFFFF 的颜色",0,0,0,0,"获得可用的第一个连接的游戏手柄",0,"获得游戏手柄标识符",0,"获取高度(单位: 像素)","获取相机图像的高度(单位: 像素)。",0,0,0,0,0,0,0,0,0,"获得玩家索引","获得按钮的按下值。如果按钮缺失则返回 0。",0,"获取从 0 (静音)到 1 (当前音量)的音量","获得精灵数目","获取由 i 索引的精灵",0,"获得这次快照的时间戳",0,"获取宽度(单位: 像素)","获取相机图像的宽度(单位: 像素)。","获取 y 轴位置(单位: 像素)","快速入门",0,"当前脚本中的全局变量",0,0,0,0,0,0,0,0,0,0,0,0,0,"在调试模式，游戏板显示精灵的速度和其他信息","表示按钮是否被按下。如果按钮缺失则返回 false。",0,"表示游戏手柄数据是否相同","表示游戏手柄是否仍被连接。",0,0,0,0,"插入“{0}”{1}",0,"标记 * 的项为必填项。","JSON 数据","加入组","最后接触终点","最后接触起点",0,0,0,0,0,"使更新可见。",0,0,"确保所有画面都在屏幕的边界上弹起",0,"数学擅长程度，绝对值，最大值","Me",0,"Minecraft 用户","更多",0,"将画面向其他画面移动。","乘以数字",0,0,0,0,0,0,0,0,"新脚本",0,"新颜色或内置颜色",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"电话号码、 振动、 等...",0,"选取随机颜色","图片和音乐......",0,0,0,0,0,"请查看我们的隐私声明。",0,"发表评论...",0,0,0,"隐藏动作不会得到运行按钮。 ","提示用户输入一个数字",0,"发布脚本",0,"发布须遵守我们的 ","发布脚本...","在动画开始播放时引发","在动画停止播放时引发","以声波形式读取响应体","其他人查看您的推文或截取推文截图时；或者对推文发表评论或对你的评论进行回复时；或者发生与您的订阅相关的事件时，您会收到电子邮件通知。","请记住：发布脚本后，所有人都会看到您的脚本，所以请确保其中不包含您的密码或个人信息。","减少当前的生命值。","回复...","报告/删除","将图片调整为给定大小(单位: 像素)",0,"返回图像副本",0,0,"返回向此实例的值中添加指定月数的日期。","返回向此实例的值中添加指定年数的日期。","返回一个介于“最小值”和“最大值”（包括这两个值）之间的随机整数。",0,0,0,0,0,0,0,"如果当前实例无效，则返回 true",0,0,0,0,"脚本更新","由此用户编写：",0,"搜索和浏览互联网......","搜索代码...","搜索所有内容","在此搜索...",0,0,"搜索...",0,0,0,"查看更多",0,0,"将梯度设为开或关","设置应用于展示墙的 3x3 仿射矩阵转换。",0,"设置背景相机","设置背景色","设置背景色。","设置背景图片","设定水平居中位置(单位: 像素)","设置当前的生命值。","设定精灵 0 和 1 之间速度损失部分的默认摩擦","设置高度(单位: 像素)","设定位置(单位: 像素)",0,"获取从 0 (静音)到 1 (当前音量)的音量级别","设置速度（单位：像素/秒）","设置画面颜色。","设置游戏板上物体的均匀加速度矢量为像素/秒^2",0,0,"设置宽度(单位: 像素)","设置 x 轴速度(单位: 像素/秒)","设置 y 轴加速度(单位: 像素/秒^2)","设定 y 轴位置(单位: 像素)","设置 y 轴速度(单位: 像素/秒)",0,"设置","使用这个 URL 共享：","如果该脚本使用任何阻止它在这些平台上运行的 API，会在编辑器中显示错误。","显示墙上的板。",0,"技能等级：{0}     ",0,0,0,0,0,"停止并清除所有事件帧计时器",0,"减去数字",0,"TD100: 在此插入 {0:a}","TD101: ：无法找到“{0}”","TD109: 无法分配至此","TD111: 无法从 {0} 分配至 {1}","TD112: 找不到 {1} 的属性“{0}”","TD115: ：向 {0} 提供的参数过多","TD116: 没有向 {0} 提供足够参数","TD118: ：“if”条件需要 {1:a}","TD119: i 需要迭代对象",0,"TD130: “for”的边界需要 {1:a}","TD144: 好像缺了“{0}”，请补上","TD145: 此处好像缺一个运算符(如“+”、“(”或“，”)","TD147: 此处不应出现“{0}”","TD150: 无法调用“(”之前的东西","TD151: 未关闭的“(”","TD152: 意外的“)”","TD154: 运算符后不能为空","TD155: “{0}”无法分配到本地变量","讲授 Creative Coding！",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"此脚本使用以下功能: ",0,"本教程使用云数据，这些数据可与其他用户共享。","要添加页数据，请创建一个本地变量，然后点击“升级为字段”。",0,0,0,0,"Microsoft® Translator 进行的翻译，点击以查看原文...","如果接触到游戏板则为真","尝试调整代码，直到调整正确。如果卡住了，请点击教程栏。",0,0,"教程","Twitter","输入内容进行在线搜索...","键入以搜索...",0,"无法编辑事件参数的类型、顺序和数量。","UI 小组件",0,"更新板上精灵的位置。","更新子画面上的图片(如果是子画面)","更新文本精灵上的文本（如果是文本精灵）","上传图片","上传声音","用户",0,"我们需要更多选项","我们会让编辑器适应您的技能水平。您可以稍后在中心更改您的技能水平。","您的编程知识是什么水平？","您的职业是什么？","新增内容","您到底在哪里？","在给定位置写入另一张图片。 不透明度范围介于 0 (透明)和 1 (不透明)之间。",0,"YouTube",0,0,"您的 GitHub 用户。","您的 Minecraft 用户。","您的图形将在此处显示",0,"您的通道将在此处显示","您的电子邮件地址尚未验证。请检查您的收件箱。","您的全名",0,0,0,"您的脚本将显示在此处","你的 Twitter 帐号，例如 @touchdevelop。","几秒以前","函数","全局变量","一分钟以前","页","关于覆盖率","关于见解","关于个人资料","关于您","滥用",0,"滥用报告",0,0,0,"访问 {0} 字段",0,"添加","新增...",0,"为每一个显示帧添加一个动作。",0,0,0,0,0,"添加输入参数","在上面添加行","在下面添加行","新增",0,0,"添加输出参数",0,0,0,0,0,"所有 API","允许","惊人的、惊异的、惊骇的、令人敬畏的、可怕的、惊险的、一流的、酷、好奇的、独特的、特殊的、独一无二的、特别的、令人难以置信的、神奇的、令人愉快的、出色的 ",0,"函数类型定义","一小时以前",0,0,0,0,0,"应用",0,"图稿","图稿资源","任务",0,"作者",0,0,"返回",0,"退格","使用退格键删除",0,0,"基准版本","初学者","初学者",0,"绑定到脚本：","空白","空白应用","空白爬行者","空白文档","空白游戏","空白 Minecraft","空白 Minecraft pi","空白像素画","空白图片素材","空白脚本插件","空白乌龟","空白教程","调试器中断","断点",0,0,0,0,0,0,"取消",0,0,"改(回)到本地","更改内容","通道","检查是否已设置引用",0,0,0,"选择图片（1MB 以下，少于 2048x2048）",0,0,0,0,0,0,"选择您的编码技能水平","选择...",0,"清除","剪贴板","克隆",0,"云会话","代码","为终点线编码","编码员","颜色 #{0}","颜色： {0}","注释","注释",0,"条件","已连接",0,0,"继续",0,"复制","复制选定内容","覆盖率","创建","创建新参数",0,0,0,0,"创建空的对象集合","正在创建脚本",0,"当前表达式","自定义图片！","剪切","裁剪选定内容","数据库","调试","小数点",0,"删除","删除本地数据和权限","删除选定内容","降级到 var","拒绝","描述","描述（有助于搜索）",0,"详细信息","您是否想要使用此值？","diff curr","diff prev",0,0,0,"返回","显示值","在留言板上显示对象",0,0,0,"完成","完成！","编辑","else if","电子邮件",0,"电子邮件和推送通知",0,0,0,0,"输入邀请码","输入此代码","错误",0,"事件",0,"ex： ",0,"优秀；非常好；很棒；很酷；很牛；做得好；不错；做得对；正确",0,"退出","专家",0,"导出","导出内容的 JSON 表示","已从此库导出","扩展",0,"提取选定内容到函数",0,"提取到变量","查找引用","已完成","修复","在编辑器中按教程操作","针对小组","派生","函数","函数名称","函数类型","函数、变量、库...","性别","获取“是编程一小时™”证书","获取每个显示帧的计时器。","github 用户",0,"全局替换","全局变量","全局变量","返回","返回编码！{0}★ 待执行","返回...","转到","转至您的脚本中的事项列表","转到上一步","目标：","小组","团体","红心","帮助",0,0,"历史记录","万岁！你的脚本已成功发布","如何发现","我希望它运行的位置","我已完成 Hour of Code™","图标画： {0}",0,"如果卡住了，请点击终点线",0,0,0,0,"从 JSON 对象导入字段值",0,0,0,0,"惊人的、不可思议的、绝妙的、非凡的、令人兴奋的、令人难以置信的、神奇的、奇特的、杰出的、出色的、疯狂的、特别的、壮观的、令人吃惊的、令人惊叹的、超酷 ",0,"插入","插入注释","插入语句","插入 {0}","见解",0,"安装和加载脚本","到本地",0,"问题","加入小组","加入组",0,"只需继续输入搜索项！","继续编辑","知道这里：",0,"了解","了解有关发布的信息","了解更多","了解有关 {0} 的更多信息","离开教程","让我们改动一下","我们去做吧！","我们开始吧！","库","库","库","库名称","库参考","加载更多","加载更多回复","正在加载",0,"正在加载 /{0} 的注释...",0,"正在加载回复...","正在加载脚本","正在加载教程","正在加载...","本地","位置",0,"逻辑求反","日志","重点",0,"制造者","管理数据","以后再说","我",0,0,"minecraft 用户",0,0,"更多","更多 ","更多设置","移动光标","向左移动","进入下一步","将光标向左移动","将光标向右移动","我的图稿",0,0,0,"我的脚本","此处需要不同的名称","这里需要不同的字符串","此处需要一个新字段","需要参数","需要删除","需要在其他位置进行编辑","求反",0,0,0,0,"换行",0,0,0,"在下面添加新语句","新变量",0,"后续教程...","昵称",0,"该用户没有发布图片","无评论，点击以发表评论!","无叉子，请安装、编辑和重新发布脚本以创建一个！","没有红心。可以在安装脚本后添加一个！","尚未上载任何图片",0,0,"无标记，点击以填写标记!",0,0,0,"通知",0,"现在您可以选择 {0} 的一个属性；但它本身不执行任何操作","现在可以选择它的一个属性","数値","数字输入",0,"职业",0,"可脱机使用","确定","好的，我们来掷骰子吧！","联机",0,"或者点击获得帮助","其他","概述",0,"页",0,"解析脚本文本",0,"粘贴","暂停",0,"物理游戏入门","选取一个脚本模板...","图片","图片名称","图片名称（最少 4 个字符）","图片 URL","再玩一次","请稍等","请稍等...","插件","预览","打印",0,"私有","私有函数","个人资料","个人资料","编程知识",0,"升级为数据",0,"公开昵称","公开信息","发布","发布为隐藏项目",0,"已发布","拉进更改","退出到块级别",0,"重新运行","阅读更多...","只读","实际名称",0,"收到电子邮件通讯","接收电子邮件通知","记录名称：",0,"常规键盘","正在重新加载脚本","删除",0,"删除图片","删除白色背景（最适合游戏精灵）",0,"重命名","重复 n 次","对集合重复","重复条件","替换函数中的所有项","在脚本中替换全部","替换图片","已复制","已复制 ",0,"报告滥用",0,"还原到已发布版本","后退","后退 ","运行","运行主项",0,"带检测运行","保存","已保存","正在保存…","学校","屏幕","屏幕截图","{0} 的屏幕截图","脚本","脚本属性",0,0,"搜索图片","搜索图片","在此搜索 {0}","搜索模板","正在搜索...","参见更多选项","选择","选择更多","选择此行","请选择此 {0} 类型",0,0,"设置本地变量名称","设置名称","设定游戏板被击打时调用的处理程序","设置点击该板时调用的处理程序","设定游戏板被接触时调用的处理程序","设定游戏板触屏被放开时调用的处理程序","将所有字段设置为默认值","保存设置","设置","共享",0,"演示如何完成该活动","显示更多选项","展示","登录",0,0,"登出","正在登录...",0,"简化","保存的技能水平","跳过迭代",0,"社交",0,"声音",0,"splash screen 画： {0}","拆分",0,"重新开始","开始脚本","正在开始...",0,"单步进入","单步跳出","单步跳过",0,"停止",0,"停止函数","停止循环","存储在变量中","将值存储在变量中","字符串",0,"条带“{0}”",0,0,0,"出众的、不可思议的、令人恐怖的、令人难以置信的、神奇的、独一无二的、前所未有的、不寻常的、怪异的、美好的、奇妙的","包围",0,0,"正在同步...",0,0,0,0,0,"标记",0,0,"完成后点击（←）","完成后点击 [确定]",0,"点击此处可进入下一步","完成后点击这里","点击这里","点击此处获取说明","点击这里运行应用","点击以更改颜色","轻敲以改变图标画","轻敲以改变 splash screen 图片","点击以使用 Microsoft® Translator 进行翻译...","临时","terms of use","测试","测试函数","测试","测试两个引用是否指向同一对象",0,0,"中心","邀请码的长度必须在 9 到 64 个字符之间","崩溃的脚本",0,0,"此脚本是一个库","此脚本是一项 Web 服务",0,"到代码","继续","到全局变量","切换断点","最新内容",0,0,"翻译","正在翻译教程...",0,0,0,"再试一次！","变为","教程进度","教程： ","教程","Twitter 帐户","类型： ","类型：{0}",0,0,0,"撤消",0,0,0,0,0,0,0,0,0,0,"更新",0,0,0,0,0,0,"上载","上传图片","上载屏幕截图","上传声音",0,0,0,"URL",0,0,0,0,0,"变量名称","以脚本形式查看","查看/编辑姓名、电子邮件…",0,"壁纸","此处有一个库“{0}”；{1}","此处为{0:a}；是否要对其执行操作？","我们需要一个新字段","我们需要一个新表","我们需要一个新的 {0}","我们需要不同的键盘","我们需要一个新变量","我们需要编辑另一项内容","我们将逐步引导您完成","网络应用",0,0,0,"网站",0,"网站 URL",0,0,0,0,0,"出生年份",0,0,"您已完成任务!",0,"{0} ({1} 行{1:s})","{0} 天以前","{0} 下",0,0,0,"{0} 小时以前","{0} 分钟以前","{0} 个月以前","{0} 个(共 {1} 个)已完成","发布 {0} 个","已发布 {0} 个脚本","{0} 秒以前","上升 {0} 个","{0} 年以前"]),!0)};var __extends=this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},TDev,TDev,TDev;if(function(T){var L;(function(s){"undefined"==typeof require&&(window.require=function(e){return{}});var c,i,a=require("fs"),l=require("crypto"),u=require("querystring"),d=require("url"),p=require("util"),h=require("http"),m=require("https"),f=require("zlib"),g=require("path"),v=require("domain"),y=require("net");s.httpAgent,s.httpsAgent,s.mkAgent,s.logInfo=function(e){return T.Util.log(e)},s.logError=function(e){return T.Util.log(e)},s.handleError=function(e){e.rtProtectHandled||(r?r.exceptionHandler(e):L.App.logException(e))};var b=function(){function e(e){this.tableName=e,this.cache={},this.numWrites=0,this.path="data/"+this.tableName+"/",a.existsSync("data")||a.mkdirSync("data"),a.existsSync(this.path)||a.mkdirSync(this.path)}return e.prototype.encode=function(e){return e.replace(/[^a-z0-9\-]/g,function(e){return"_"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})},e.prototype.decode=function(e){return e.toLowerCase().replace(/_([0-9a-f]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))})},e.prototype.getValueAsync=function(n){var i=this;if(this.cache.hasOwnProperty(n))return T.Promise.as(this.cache[n]);var r=this.numWrites,o=new T.PromiseInv;return a.readFile(this.path+this.encode(n),"utf8",function(e,t){e?o.success(void 0):(t.length<256&&i.numWrites==r&&(i.cache[n]=t),o.success(t))}),o},e.prototype.getItemsAsync=function(e){var n=this,i={},t=e.map(function(t){return n.getValueAsync(t).then(function(e){return i[t]=e})});return T.Promise.join(t).then(function(e){return i})},e.prototype.getKeysAsync=function(){var n=this,i=new T.PromiseInv;return a.readdir(this.path,function(e,t){e?i.error(e):i.success(t.map(function(e){return n.decode(e)}))}),i},e.prototype.setItemAsync=function(t,n){var i=this,r=new T.PromiseInv,o=this.path+T.Random.uniqueId();return a.writeFile(o,n,function(e){e?r.error(e):a.rename(o,i.path+i.encode(t),function(e){e?r.error(e):(n.length<256?i.cache[t]=n:delete i.cache[t],i.numWrites++,r.success(null))})}),r},e.prototype.setItemsAsync=function(t){var n=this,e=Object.keys(t);return 1==e.length?this.setItemAsync(e[0],t[e[0]]):T.Promise.join(Object.keys(t).map(function(e){return n.setItemAsync(e,t[e])})).then(function(e){return null})},e}(),n=function(n){function e(e,t){n.call(this,new T.Revisions.Sessions(t)),this.nodeHost=e,this.wsServer=t,this.routes={},this.restInits=[],this.mainActionRef=null,this.nodeModules={}}return __extends(e,n),e.prototype.initPageStack=function(){},e.prototype.getUserId=function(){var e=this.getRestRequest();return e&&e._user?e._user.id():null},e.prototype.postBoxedText=function(e){T.Util.log("WALL: "+e)},e.prototype.postBoxedTextWithTap=function(e,t){return this.postBoxedText(e)},e.prototype.dispatchServerRequest=function(o,e){var a=this,t=unescape(o._api_path.replace(/\+/g,"%20")),n=t;for(T.Util.log("path: {0}",t);t=t.replace(/\/+$/,""),!this.routes.hasOwnProperty(t);){if(""==t)return T.Promise.wrapError(new Error("No such API: "+n));t=t.replace(/[^\/]+$/,"")}var s=this.routes[t];return o._api_path=t,this.queueAsyncStd(function(e,t){o.startHandle();var n=new T.StackBottom(a),i=s(n);i.needsPicker=!0;var r=i.invoke(i,T.Runtime.pumpEvents);return(r.serverRequest=o)._stackframe=r,a.enter(r)}),T.Promise.as(e)},e.prototype.queueAsyncStd=function(n){var i=this;this.queueEventCallback(function(e,t){i.queueAsyncEvent(function(){return n(e,t)})})},e.prototype.queueAsync=function(i){var r=this;this.queueAsyncStd(function(e,t){i();var n=new T.StackBottom(r);return r.current=n,T.Runtime.pumpEvents})},e.prototype.queueActionCall=function(e,t,n,i){var r=this,o=new T.PromiseInv,a={method:"WS",url:e+"/"+t,socket:i,_stackframe:void 0},s=this.routes[e+"/"+t],c=new L.Event_;return c.addHandler(new L.PseudoAction(function(e,t){r.queueAsyncEvent(function(){var e=new T.StackBottom(r),t=s(e);t.needsPicker=!0;var n=t.invoke(t,T.Runtime.pumpEvents);return(n.serverRequest=a)._stackframe=n,r.enter(n)})})),this.queueLocalEvent(c),o},e.prototype.addRestRoute=function(e,t){this.routes[e]=t},e.prototype.addRestInit=function(e){this.restInits.push(e)},e.prototype.setMainAction=function(e){this.mainActionRef=e},e.prototype.hasInits=function(){return 0<this.restInits.length},e.prototype.queueInits=function(){var t=this,e=function(i){var e=new L.Event_;e.addHandler(function(e,t){var n=i(e);return n.invoke(n,t)}),t.queueLocalEvent(e)};this.hasInits()?this.restInits.forEach(e):this.mainActionRef&&e(this.mainActionRef)},e.prototype.handleException=function(e,t){e.rtProtectHandled||(e.tdStackFrame||(e.tdStackFrame=t),this.quietlyHandleError(e)||this.host.exceptionHandler(e),e.rtProtectHandled=!0,this.restartAfterException())},e.prototype.setCors=function(e){e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Methods","GET,PUT,POST"),e.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization"),e.setHeader("Access-Control-Expose-Headers","ErrorMessage")},e.prototype.handleRpc=function(e,t){var n=this;e.tdResponse=t,e.tdQueryString=u.parse(e.url.replace(/^[^\?]*\??/,""));var i=L.ServerRequest.mk(e);if(i._api_path=e.url.replace(/^\/-tdevrpc-\//,""),"-internal-/ping"!=i._api_path){if(this.setCors(t),"OPTIONS"==e.method)return t.writeHead(200),void t.end();var r="",o=this;if(o.authValidator){var a=/^\s*Bearer\s+(.+)/.exec(e.headers.authorization);if(a){var s=a[1];if(o.wrapFromHandler(function(){(r=o.runUserAction(o.authValidator,[s]))&&!/:/.test(r)&&T.Util.userError("user id returned from validator has to have a namespace (eg., fb:123456)")}),!r)return T.Util.log("invalid authorization attempt, "+s),void x(t,403);T.Util.log("authorized as "+r),i._user=L.User.mk(r)}}"-internal-/me"!=i._api_path?i.recvContentAsync().done(function(){return n.dispatchServerRequest(i)}):r?x(t,200,{userid:r}):x(t,403)}else x(t,200,{v:e.tdQueryString.v||"",now:Date.now()})},e.prototype.augmentException=function(e){var t=process.domain;"object"==typeof e&&!e.tdStackFrame&&t&&t.tdStackFrame&&(e.tdStackFrame=t.tdStackFrame),n.prototype.augmentException.call(this,e)},e.prototype.runInlineJavascript=function(e){var t=this,n=this.current,i=v.create();i.tdStackFrame=n,i.on("error",function(e){t.handleException(e,n)});var r=null;i.enter();try{e()}catch(e){e.tdStackFrame=n,r=e}if(i.exit(),r)throw r},e}(T.Runtime);s.TheNodeRuntime=n;var r,o=function(t){function e(e){t.call(this),this.isServer=!0,this.currentRt=new n(this,e),this.localProxyAsync=T.LocalShell.localProxyHandler(),L.App.log("node runtime initialized")}return __extends(e,t),e.prototype.respondToCrash=function(t){var e=this.currentRt.getRestRequest();if(e)try{var n=e.getNodeRequest().tdResponse;n.writeHead(500),n.end("Whoops, "+t.exceptionMessage)}catch(e){this.currentRt.sessions.CurrentSession.abortCurrentTransaction(t)}},e.prototype.log=function(e){L.App.log(e)},e.prototype.fillCrashInfo=function(e){var t=this.currentRt.getRestRequest();e.url=t?t.url():null},e}(T.HeadlessHost);function _(n,e,t,i){void 0===e&&(e="GET"),void 0===t&&(t=void 0),void 0===i&&(i=null);var r,o=d.parse(n);o.method=e.toUpperCase(),"http:"==o.protocol?r=h.request(o):"https:"==o.protocol?r=m.request(o):T.Util.oops("unknown node.js protocol "+o.protocol+" in "+n);var a=new T.PromiseInv,s=i||{};return"string"==typeof s&&(s={"Content-Type":s}),Object.keys(s).forEach(function(e){return r.setHeader(e,s[e])}),r.on("error",function(e){e.socketUrl=n,a.error(e)}),r.on("response",function(e){if(200==e.statusCode){if(/gzip/.test(e.headers["content-encoding"])){var t=f.createUnzip(void 0);e.pipe(t)}else t=e;a.success(t)}else a.error(new Error("bad status code "+e.statusCode+" for "+n))}),void 0!==t?r.end(t,"utf8"):r.end(),a}function w(e,t,n,i){return void 0===t&&(t="GET"),void 0===n&&(n=void 0),void 0===i&&(i=null),_(e,t,n,i).then(function(e){e.setEncoding&&e.setEncoding("utf8");var t=new T.PromiseInv,n="";return e.on("data",function(e){n+=e}),e.on("end",function(){t.success(n)}),t})}s.RunnerHost=o,s.httpRequestStreamAsync=_,s.setup=function(){if(T.Browser.isNodeJS){c=global.Buffer,T.Browser.canIndexedDB=!1,T.Storage.getTableAsync=function(e){return T.Promise.as(new b(e))},T.Storage.clearPreAsync=function(){return T.Promise.as()},T.Util.httpRequestAsync=w,L.WebRequest.prototype.sendAsync=function(){return function(o){var t=d.parse(o.url());t.method=o.method().toUpperCase();var e,n,i=o.serializeForProxy();t.headers={},i.headers.forEach(function(e){return t.headers[e.name]=e.value}),i.credentials&&(t.auth=i.credentials.name+":"+i.credentials.password),0<(e="string"==typeof i.contentText?new c(i.contentText,"utf8"):"string"==typeof i.content?new c(i.content,"base64"):new c("","binary")).length&&(t.headers["content-length"]=e.length),t.headers.connection||(t.headers.connection="keep-alive"),"http:"==t.protocol?(t.agent=s.httpAgent,n=h.request(t)):"https:"==t.protocol?(t.agent=s.httpsAgent,n=m.request(t)):T.Util.userError("unknown request protocol "+t.protocol+" in "+o.url());var a=new T.PromiseInv;return n.on("error",function(e){L.App.log("Web request error: "+e+" for "+o.url()),e.socketUrl=o.url(),a.error(e)}),n.on("response",function(i){var e=i,t=(i.headers["content-encoding"]||"").toLowerCase();"gzip"==t?e=e.pipe(f.createGunzip()):"deflate"==t&&(e=e.pipe(f.createInflate()));var r=[];e.on("data",function(e){r.push(e)}),e.on("end",function(){var e=c.concat(r),t="text"==o.proxyResponseType()?e.toString("utf8"):e.toString("binary"),n=L.WebResponse.mkProxy(o,{code:i.statusCode,headers:Object.keys(i.headers).map(function(e){return{name:e,value:i.headers[e]}}),forceText:!0,contentText:t,binaryContent:e});a.success(n)})}),0==e.length?n.end():n.end(e),a}(this)},T.Util.perfNow=function(){var e=process.hrtime();return 1e3*e[0]+1e-6*e[1]},T.Ticker.disable(),T.Util.initGenericExtensions(),T.RT.RTValue.initApis(),global.btoa=function(e){return new c(e,"binary").toString("base64")},global.atob=function(e){return new c(e,"base64").toString("binary")},(window={removeEventListener:function(){}}).setTimeout=setTimeout,window.rootUrl="https://www.touchdevelop.com";var n={};if(window.localStorage=n,window.localStorage.local_proxy=process.env.TD_SERVER+"/-tdevmgmt-/"+process.env.TD_DEPLOYMENT_KEY,n.getItem=function(e){return n[e]},n.setItem=function(e,t){return n[e]=t+""},n.removeItem=function(e){return delete n[e]},global.navigator={},window.navigator=navigator,navigator.userAgent="NodeJS "+process.version,process.env.TD_CLIENT_CONFIG){var t=JSON.parse(process.env.TD_CLIENT_CONFIG);Object.keys(t).forEach(function(e){return T.Cloud.config[e]=t[e]})}T.Util.logSz=3e3,function(){var t=h.Agent,n=m.Agent;function i(o){o.removeAllListeners("free"),o.on("free",function(e,t,n){var i=t+":"+n;if(o.requests[i]&&o.requests[i].length)o.requests[i].shift().onSocket(e);else{var r=function(){e.destroy()};e._onIdleError=r,e.on("error",r)}}),o.addRequestNoreuse=o.addRequest,o.addRequest=function(e,t,n){var i=t+":"+n,r=this.sockets[i];if(r)for(var o=0;o<r.length;++o){var a=r[o];if(a._onIdleError)return a.removeListener("error",a._onIdleError),delete a._onIdleError,e._reusedSocket=!0,void e.onSocket(a)}this.addRequestNoreuse(e,t,n)}}function r(e){t.call(this,e),i(this)}function o(e){n.call(this,e),i(this)}p.inherits(r,t),p.inherits(o,n),/^v0\.10/.test(process.version)?s.mkAgent=function(e){return"https:"==e?new o({maxSockets:15}):new r({maxSockets:15})}:s.mkAgent=function(e){return"https:"==e?new n({maxSockets:15,keepAlive:!0}):new t({maxSockets:15,keepAlive:!0})},s.httpAgent=h.globalAgent=s.mkAgent("http:"),s.httpsAgent=m.globalAgent=s.mkAgent("https:")}(),T.Promise.errorHandler=function(e,t){var n=process.domain;return n?n.emit("error",t):s.handleError(t),new T.PromiseInv},T.Cloud.getUserId=function(){var e=T.Runtime.theRuntime;if(e){var t=e.getRestRequest();if(t){var n=t.user();return n?n.id():void 0}}},T.Cloud.authenticateAsync=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),T.Promise.as(!!T.Cloud.getUserId())};try{var e=require("xmldom");e&&(global.DOMParser=e.DOMParser,global.XMLSerializer=e.XMLSerializer)}catch(e){}T.Random.strongEntropySource=function(e){for(var t=l.randomBytes(e.length),n=0;n<e.length;++n)t[n]=e[n]},T.RT.App.server_setting=function(e,t,n){var i=process.env[e];return t||null!=i||T.Util.userError("missing environment variable "+e,n.pc),i},T.RT.Web.proxy=function(e){return e},L.App.runTransports=function(n,i){L.App.transports.forEach(function(t){var e=t.domain;e||(t.domain=e=v.create(),e.on("error",function(e){L.App.transportFailed(t,n,e)})),e.enter();try{i(t)}catch(e){L.App.transportFailed(t,n,e)}e.exit()})};var i=y.Socket.prototype.connect;y.Socket.prototype.connect=function(e){return e&&"string"==typeof e.host&&(this.tdHost=e.host),i.apply(this,arguments)};var r=y.Socket.prototype._destroy;y.Socket.prototype._destroy=function(e){return"object"==typeof e&&(this.tdHost||this.tdUnrefed)&&(e.tdMeta||(e.tdMeta={}),e.tdMeta.socketHost=this.tdHost,e.tdMeta.unrefed=this.tdUnrefed,this.tdUnrefed&&"ECONNRESET"==e.code&&(T.Util.log("ignoring ECONNRESET on "+this.tdHost),e.rtProtectHandled=!0,e.tdSkipReporting=!0)),r.apply(this,arguments)};var o=y.Socket.prototype.ref;y.Socket.prototype.ref=function(){return this.tdUnrefed=!1,o.apply(this,arguments)};var a=y.Socket.prototype.unref;y.Socket.prototype.unref=function(){return this.tdUnrefed=!0,a.apply(this,arguments)},L.ServerResponse.toUtfBuffer=function(e){return new c(e,"utf8")},T.RT.Buffer.prototype.toNodeBuffer=function(){if(c.isBuffer(this.buffer))return this.buffer;for(var e=new c(this.count()),t=this.buffer,n=0;n<e.length;++n)e[n]=t[n];return e},T.RT.Buffer.fromNodeBuffer=function(e){return T.RT.Buffer.fromTypedArray(e)},process.on("uncaughtException",s.handleError)}},s.isShuttingDown=!1;var k={info:function(e,t,n){return function(e){var t=T.Util.toDictionary(e.split(/,/),function(e){return e});if(t.tdlog){var n=T.Util.getLogMsgs();n.reverse()}var i={applog:t.applog?L.App.logs():void 0,tdlog:n,crashes:t.crashes?r?r.crashes:[]:void 0};return T.Promise.as(i)}(e[0]||"").done(function(e){return n.send(200,e)})},ready:function(e,t,n){return n.send(200,{ready:!0})},shutdown:function(e,t,n){s.isShuttingDown=!0,n.send(201,{})}};function x(e,t,n){e.writeHead(t),"object"==typeof n&&(n=JSON.stringify(n)),n?e.end(n):e.end()}function C(e,r){var t=/\/app\/([^?]*)/.exec(e.url)[1]||"index.html",o=g.normalize("/static/"+t).replace(/\\/g,"/");/^\/static\//.test(o)?(o="."+o,a.exists(o,function(e){if(e){var t=a.createReadStream(o),n=function(e){switch(g.extname(e).slice(1)){case"txt":return"text/plain";case"html":case"htm":return"text/html";case"css":return"text/css";case"ts":return"text/plain";case"js":return"application/javascript";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"ico":return"image/x-icon";case"manifest":return"text/cache-manifest";case"json":return"application/json";case"svg":return"image/svg+xml";default:return"application/octet-stream"}}(o);if(/^(text\/|application\/(json|javascript)|image\/svg)/.test(n)){var i=f.createGzip();r.writeHead(200,{"Content-Encoding":"gzip","Content-Type":n}),t.pipe(i).pipe(r)}else r.writeHead(200,{"Content-Type":n}),t.pipe(r)}else x(r,404)})):x(r,403)}function S(e,t){if(/^\/-tdevmgmt-\//.test(e.url))!function(e,i){i.send=function(e,t){"string"==typeof t&&(t={message:t});var n=new c(JSON.stringify(t),"utf8");T.Util.log("worker request buffer len="+n.length+" code "+e),i.writeHead(e,{"content-length":n.length,"content-type":"application/json"}),i.end(n)};var t=process.env.TD_DEPLOYMENT_KEY;if(t){var n=e.url.replace(/^\//,"").split(/\//);"-tdevmgmt-"!=n[0]?i.send(404,"only /-tdevmgmt-/ supported"):n[1]!=t?i.send(403,"wrong key"):k.hasOwnProperty(n[2])?(T.Util.log("worker request, "+n[2]),k[n[2]](n.slice(3),e,i)):i.send(404,"no such API "+n[2])}else i.send(500,"key not setup")}(e,t);else{var n=T.Runtime.theRuntime;n.compiled.autoRouting?/^\/-tdevrpc-\//.test(e.url)?n.handleRpc(e,t):/^\/(app)?(\?|$)/.test(e.url)?(t.writeHead(302,{Location:"/app/"}),t.end()):/^\/app\//.test(e.url)?C(e,t):n.requestHandler?n.requestHandler(e,t):x(t,404,"Generic routing not setup"):n.requestHandler?n.requestHandler(e,t):x(t,404,"Neither generic nor regular routing setup")}}function A(){var e=new T.PromiseInv,t=process.env.PORT||4242,n=h.createServer();return n.on("upgrade",function(e,t,n){var i=T.Runtime.theRuntime;i.wsServer&&i.wsServer.isReal()?i.wsServer.upgradeCallback(e,t,n):t.end()}),n.on("request",S),n.on("listening",function(){e.success(n)}),T.Util.log("listening on "+t+" from pid "+process.pid),n.listen(t),e}s.handleHttpRequest=S,s.startServerAsync=A,s.runMainAsync=function(){require.resolve("faye-websocket")&&(i=require("faye-websocket"));var e=new T.WebSocketServerWrapper(i),t=(r=new o(e)).currentRt;T.Runtime.theRuntime=t;var n=new T.PromiseInv;return t.initPromise=n,r.initFromPrecompiled(),r.currentGuid=t.compiled.scriptGuid,T.Util.log("initializing data"),T.Browser.localProxy=!0,t.initDataAsync().then(function(){T.Util.log("starting server script"),t.setState(3,"start server");var e=t.hasInits()||t.compiled.autoRouting;return t.queueInits(),t.queueAsyncStd(function(){e?n.success(A()):(T.Util.log("main finished"),n.success(null))}),n})}})((L=T.RT||(T.RT={})).Node||(L.Node={}))}(TDev||(TDev={})),function(e){var t;((t=e.RT||(e.RT={})).Node||(t.Node={})).storeOAuthHTML="<!DOCTYPE html>\n<html>\n<head>\n    <meta charset='utf-8' />\n    <meta http-equiv='X-UA-Compatible' content='IE=edge' /> \n    <meta name='viewport' content='width=320, initial-scale=1, maximum-scale=1, user-scalable=0'/>\n    <title>Authorization finished</title>\n</head>\n<body id='root'>\n  <div style='font-size: 14px; color:#444; font-family: sans-serif; line-height: 1.5em; width: 310px; margin: 2em auto;'>\n    <h1>authorization finished</h1>\n    <p>\n        You can close this page. \n        The web app should resume in a different tab or window.\n    </p>\n  </div>\n  <script type='text/javascript'>\n     var a = window.localStorage['oauth_redirect'];\n     var b = [];\n     var now = new Date().getTime();\n     if (a)\n         JSON.parse(a).forEach(function (e) {\n             if (now - e.time < 10 * 60 * 1000) b.push(e); // remove anything older than 10 minutes\n         });        \n     b.push({redirect_url: window.location.href, time: now, user_id: 'web-app' });\n     window.localStorage.setItem('oauth_redirect', JSON.stringify(b));\n     if (window.opener) window.opener.postMessage(b, document.URL.replace(/(.*:\\/\\/[^\\/]+).*/, function(a,b){return b}));\n     setTimeout(window.close, 3000);\n  <\/script>\n</body>\n</html>\n"}(TDev||(TDev={})),TDev||(TDev={}),TDev.shippedLibraryCache={updates:{lohjia:"lohjia",dwiebl:"lohjia",bwulwg:"lohjia",rsnhdj:"lohjia",boouiv:"lohjia",xlxslt:"lohjia",vflqes:"lohjia",rknjae:"lohjia",fdbsiw:"lohjia",blijwl:"lohjia",bzpicf:"lohjia",lptrek:"lohjia",ljivpr:"lohjia",njwiab:"lohjia",jcyhqq:"jcyhqq",fvpcct:"jcyhqq",pwjcnz:"jcyhqq",tummov:"jcyhqq",xczaux:"xczaux",btierw:"xczaux",njcjlk:"xczaux",xbpfet:"xbpfet",tjamyj:"xbpfet",rbmtqn:"xbpfet",paoixe:"xbpfet",rfsnox:"xbpfet",hvmmzk:"xbpfet",fxyeei:"xbpfet",lmqwsm:"xbpfet",tyqrcx:"xbpfet",rpnbfg:"xbpfet",ruxplx:"xbpfet",hjxfxm:"xbpfet",blwvrs:"xbpfet",bfdyuk:"xbpfet",hajssc:"xbpfet",lvpfqe:"xbpfet",vzkdcc:"xbpfet",dnfbfj:"xbpfet",xyelfe:"xyelfe",dceiba:"dceiba",jowara:"jowara",jwzrac:"jowara",jinlsg:"jowara",xuozdw:"jowara",vnkwrm:"jowara",xvdxqj:"jowara",ljvbcu:"jowara",tzpnpk:"jowara",tbvqzm:"jowara",pyudxk:"jowara",llxdhr:"jowara",rlsdex:"jowara",jasfim:"jowara",trbrqq:"jowara",tnwmgs:"jowara",nufgti:"jowara",vgbplz:"jowara",zfbkbb:"jowara",vldvpc:"jowara",dhkqum:"jowara",nbpjbl:"jowara",fdrhpb:"jowara",fyydkk:"jowara",nmhibf:"jowara",vrhiwz:"jowara",dotmbn:"jowara",pluhts:"jowara",phzafk:"jowara",txmcff:"jowara",rmeurh:"jowara",hfkfrj:"jowara",zzhwln:"jowara",ziynpv:"jowara",ttnzbx:"jowara",dsuacd:"jowara",basduc:"jowara",halxyt:"jowara",vimisk:"jowara",lirsmq:"jowara",jrvnlu:"jowara",zkpmfe:"jowara",fkinwi:"jowara",fiimud:"jowara",zivklh:"jowara",xhrblh:"jowara",tdloqa:"jowara",dfaiyr:"jowara",hrvbin:"jowara",jztbbx:"jztbbx",vkmzfe:"jztbbx",lpyqwl:"jztbbx",lyhgks:"jztbbx",lhnrxc:"jztbbx",rqusix:"jztbbx",vjbufd:"jztbbx",dlxfsa:"jztbbx",dxihyl:"jztbbx",hsxfze:"jztbbx",xnkmqj:"jztbbx",joggzb:"jztbbx",hgcivb:"jztbbx",jfhfbf:"jztbbx",pvldqm:"jztbbx",lmztcr:"jztbbx",fnsquv:"jztbbx",tgpxru:"tgpxru",lnyirj:"tgpxru",xpccdk:"tgpxru",tmfxah:"tgpxru",tulxtd:"tgpxru",leviat:"tgpxru",xrsbct:"tgpxru",dgzalb:"tgpxru",ntnaek:"tgpxru",fqycyb:"tgpxru",vmodll:"tgpxru",nzngii:"tgpxru",zppitt:"tgpxru",vdtdmk:"tgpxru",drdxps:"tgpxru",nfleak:"tgpxru",dsgmns:"tgpxru",rgzzbv:"tgpxru",bacckw:"tgpxru",phdnud:"tgpxru",hdrpdj:"tgpxru",trcsiq:"tgpxru",vtxxzt:"tgpxru",xpccen:"tgpxru",lbfjuu:"tgpxru",bmjsup:"tgpxru",rwbwnc:"rwbwnc",xgqnpl:"rwbwnc",flwhyo:"rwbwnc",lkqbjr:"rwbwnc",zhslvl:"rwbwnc",zibjkk:"rwbwnc",ryudev:"rwbwnc",rwkysy:"rwbwnc",btfsgu:"rwbwnc",fhvcir:"rwbwnc",ticpeu:"rwbwnc",vunhaj:"rwbwnc",bfxgzp:"rwbwnc",ppbtkr:"rwbwnc",tamxmb:"rwbwnc",pyfuaj:"rwbwnc",vlgowe:"rwbwnc",vxryfu:"rwbwnc",hnmzma:"rwbwnc",lwagkt:"rwbwnc",vlsqtp:"rwbwnc",tkqhxs:"rwbwnc",ddbdlp:"rwbwnc",vbpllw:"rwbwnc",hgdnlk:"rwbwnc",xdbgfd:"rwbwnc",hisopu:"rwbwnc",hpsbjr:"rwbwnc",rdnlgg:"rwbwnc",dtanwz:"rwbwnc",vqneem:"rwbwnc",hfslhg:"rwbwnc",ndqert:"rwbwnc",fxfuvk:"rwbwnc",jljdtt:"rwbwnc",dlfyfr:"rwbwnc",ldaqbf:"rwbwnc",bicvwk:"rwbwnc",peixmc:"rwbwnc",jspgcp:"rwbwnc",dhzjxl:"rwbwnc",bvfteo:"rwbwnc",zspnrz:"rwbwnc",pmlwzq:"rwbwnc",hehjco:"rwbwnc",zgzyag:"rwbwnc",vdxsnb:"rwbwnc",rhzcbr:"rwbwnc",bugxan:"rwbwnc",paskjp:"rwbwnc",huubfm:"rwbwnc",jxjbju:"rwbwnc",djjdpb:"rwbwnc",fsdvro:"rwbwnc",pzngyn:"pzngyn",xmyfcx:"pzngyn",rwhibw:"pzngyn",rfvakj:"pzngyn",xgnqyf:"pzngyn",zbiwoq:"pzngyn",tjwpnx:"tjwpnx",pnmapm:"tjwpnx",fkoswh:"tjwpnx",pkfjzi:"tjwpnx",ntijaa:"tjwpnx",dsgklp:"tjwpnx",hxknul:"tjwpnx",xtdqur:"tjwpnx",zkvycu:"tjwpnx",fdcdke:"tjwpnx",timemq:"tjwpnx",jatkdh:"tjwpnx",fflebn:"tjwpnx",hibawm:"tjwpnx",fmmavb:"tjwpnx",fzypmq:"tjwpnx",bhbvya:"tjwpnx",zlkons:"tjwpnx",fhjdxt:"tjwpnx",fccpcn:"tjwpnx",lfpakg:"tjwpnx",zjinpw:"tjwpnx",nlnzga:"tjwpnx",lxtzxx:"tjwpnx",fapdpb:"tjwpnx",zfxkuh:"tjwpnx",lzjlpd:"tjwpnx",djwhxu:"tjwpnx",bhylxt:"tjwpnx",fgtlwv:"tjwpnx",tefjnz:"tjwpnx",bszmrk:"tjwpnx",ryglta:"tjwpnx",ditrnm:"tjwpnx",vsiztm:"tjwpnx",lkuyum:"tjwpnx",dqkxtp:"tjwpnx",ffetnp:"tjwpnx",vaivlc:"tjwpnx",plehpx:"tjwpnx",bqtorq:"tjwpnx",jpexjh:"tjwpnx",vehemv:"tjwpnx",hswbld:"tjwpnx",dbkrwh:"tjwpnx",bglpha:"tjwpnx",lyusma:"tjwpnx",bltbdc:"tjwpnx",njxqsg:"njxqsg",jzzrnq:"njxqsg",tmizmw:"njxqsg",howjlb:"njxqsg",ndodyk:"njxqsg",bnkbfq:"njxqsg",pndnla:"njxqsg",nqjlbg:"njxqsg",rpfsmn:"njxqsg",xgzgcy:"njxqsg",vyzssw:"njxqsg",fdlnnr:"njxqsg",ltvhod:"njxqsg",nrplbi:"njxqsg",tashnb:"njxqsg",xsurev:"njxqsg",tuzezw:"njxqsg",hqqryq:"njxqsg",bzhcxd:"njxqsg",xytpsi:"njxqsg",thflqk:"njxqsg",pocsyb:"njxqsg",jpvoxj:"njxqsg",xzsvex:"njxqsg",jvkxya:"njxqsg",nhgcyh:"njxqsg",fafqqy:"njxqsg",vldxsb:"njxqsg",nvzoiu:"njxqsg",ruqbfc:"njxqsg",ftjozd:"njxqsg",jquahl:"njxqsg",zuurkm:"njxqsg",zdcxqn:"njxqsg",fqstta:"njxqsg",xessad:"njxqsg",lagzvz:"njxqsg",raqojy:"njxqsg",dfjodw:"njxqsg",rveqvu:"njxqsg",tjojku:"njxqsg",znmsng:"njxqsg",rvjljs:"njxqsg",dtyvzo:"njxqsg",vgruia:"njxqsg",ldjskk:"njxqsg",jcsoox:"njxqsg",jsxbyn:"njxqsg",nwmsfn:"njxqsg",jinley:"njxqsg",phkxrv:"njxqsg",tqvaau:"njxqsg",regzxg:"njxqsg",pvucub:"njxqsg",zjwfbi:"njxqsg",fsrbza:"njxqsg",fudpsy:"njxqsg",hbpcym:"njxqsg",dpwlkf:"njxqsg",byelqo:"njxqsg",tzmpvf:"njxqsg",nrrcvw:"njxqsg",bendhe:"njxqsg",hdkwlu:"njxqsg",rbgelh:"njxqsg",vsuixj:"njxqsg",hlgbao:"njxqsg",fktqmg:"njxqsg",bwfzww:"njxqsg",flzcsl:"njxqsg",jppknl:"njxqsg",tentup:"njxqsg",brajid:"njxqsg",zeousb:"njxqsg",rtssjg:"njxqsg",pjxtzs:"njxqsg",hzduee:"njxqsg",dtwvpv:"njxqsg",zecodr:"njxqsg",xhvlgz:"njxqsg",rfgvru:"njxqsg",jcvnou:"njxqsg",jnjqgc:"njxqsg",faxnop:"njxqsg",tmoluc:"njxqsg",rwqgyd:"njxqsg",hmuejp:"njxqsg",rgyfae:"njxqsg",nnkxto:"njxqsg",hcmylp:"njxqsg",duwejj:"njxqsg",nedhlt:"njxqsg",xftcfs:"njxqsg",boihcn:"njxqsg",vsplbm:"njxqsg",ljqwee:"njxqsg",jpccms:"njxqsg",hrcqgn:"njxqsg",vtrnrd:"njxqsg",djexui:"njxqsg",pqhjfc:"njxqsg",bgmljr:"njxqsg",bsxkwc:"njxqsg",fnxamc:"njxqsg",traifc:"njxqsg",rlohpi:"njxqsg",zmjejw:"njxqsg",fgaiot:"njxqsg",prvwsn:"njxqsg",lqzmez:"njxqsg",dokibj:"njxqsg",vzzjsk:"njxqsg",dqiavj:"njxqsg",ptrzio:"njxqsg",bcdsst:"njxqsg",hgwcjq:"njxqsg",fdbive:"njxqsg",brinah:"njxqsg",vlwuan:"njxqsg",vewajo:"njxqsg",fxrjny:"njxqsg",xyvvhp:"njxqsg",vmcpue:"njxqsg",xjopei:"njxqsg",dyniji:"njxqsg",hckrfj:"njxqsg",fgnmcb:"njxqsg",txssad:"njxqsg",jqldsq:"njxqsg",nvokyb:"njxqsg",jxjghw:"njxqsg",hojdue:"njxqsg",tnlqvy:"njxqsg",beusln:"njxqsg",lifutj:"njxqsg",tmxgdk:"njxqsg",fgvarw:"njxqsg",xqypse:"njxqsg",fcjaqm:"njxqsg",vmqhsx:"njxqsg",rvuque:"njxqsg",hbmvrk:"njxqsg",zuoapq:"njxqsg",zmisat:"njxqsg",drzcuf:"njxqsg",vunagm:"njxqsg",vcxfed:"njxqsg",hetgnc:"njxqsg",zbbqsq:"njxqsg",fjgkli:"njxqsg",fogzaw:"njxqsg",vdybeo:"njxqsg",fyyzri:"njxqsg",lfuzog:"njxqsg",bmobqs:"njxqsg",lwrheb:"njxqsg",bcivhd:"njxqsg",fnunlw:"njxqsg",hizses:"njxqsg",nvswhh:"njxqsg",hjzirz:"njxqsg",fgqhyx:"njxqsg",flzyau:"njxqsg",jybhqz:"njxqsg",bztzhj:"njxqsg",hweebz:"njxqsg",bkzaks:"njxqsg",pheygq:"njxqsg",hwpbmu:"njxqsg",jxyceh:"njxqsg",vdehwm:"njxqsg",dpgrqt:"njxqsg",xyyzhw:"njxqsg",vxwcfp:"njxqsg",zvvdnj:"njxqsg",vxmesj:"njxqsg",horjze:"njxqsg",leoluh:"njxqsg",jyyjzs:"njxqsg",fqpgbl:"njxqsg",peyjwx:"njxqsg",fgfzbe:"njxqsg",nnlrki:"njxqsg",fexjlb:"njxqsg",jaajrz:"njxqsg",xwpigo:"njxqsg",jiggzv:"njxqsg",bqwzul:"njxqsg",zfcylw:"njxqsg",xcisdq:"njxqsg",pfthxp:"njxqsg",fvsnwu:"njxqsg",ndhari:"njxqsg",tyjtop:"njxqsg",lvlboe:"njxqsg",nmuxic:"njxqsg",hxorqw:"njxqsg",rzahie:"njxqsg",beyybb:"njxqsg",xqjkcp:"njxqsg",juwyve:"njxqsg",fqgedq:"njxqsg",puijzs:"njxqsg",rvhexm:"njxqsg",renlro:"njxqsg",zyqdvs:"njxqsg",llqofi:"njxqsg",vzxkfl:"njxqsg",dtseqv:"njxqsg",pemxpm:"njxqsg",haapxp:"njxqsg",zdasxv:"njxqsg",trcljw:"njxqsg",rednoe:"njxqsg",labrqc:"njxqsg",xkptia:"njxqsg",vnnfxr:"njxqsg",fgluyw:"njxqsg",dtuita:"njxqsg",vgdxqe:"njxqsg",tobmaz:"njxqsg",vszjdo:"njxqsg",lxdokl:"njxqsg",nkmjxh:"njxqsg",bsltzc:"njxqsg",doancw:"njxqsg",lhdndq:"njxqsg",tuplyq:"njxqsg",zlwlyy:"njxqsg",hbjzjt:"njxqsg",pigzcc:"njxqsg",rgwsxk:"njxqsg",jqsszw:"njxqsg",rwekce:"njxqsg",pjlkva:"njxqsg",baokpp:"njxqsg",dgqzfl:"njxqsg",lfjdoz:"njxqsg",hqypue:"njxqsg",jylsgx:"njxqsg",dakqdg:"njxqsg",nntbxo:"njxqsg",ntjddv:"njxqsg",rraqlk:"njxqsg",fxeiws:"njxqsg",xyrszg:"njxqsg",vyftnw:"njxqsg",fjktig:"njxqsg",zfndvp:"njxqsg",xnkwii:"njxqsg",vskciw:"njxqsg",blwjqd:"njxqsg",vzvhqq:"njxqsg",vvqjhc:"njxqsg",telcei:"njxqsg",vyebqv:"njxqsg",hhkrab:"njxqsg",jzgvsu:"njxqsg",lukghe:"njxqsg",tmgkjt:"njxqsg",llyxpt:"njxqsg",ndyhzm:"njxqsg",vmnwsl:"njxqsg",tqpbol:"njxqsg",tpwoso:"njxqsg",vlwphm:"njxqsg",zkruva:"njxqsg",flbpqk:"njxqsg",beddew:"njxqsg",tylnad:"njxqsg",rpffea:"njxqsg",hmvlxa:"njxqsg",jodxyn:"njxqsg",lgepxr:"njxqsg",pfapdx:"njxqsg",rexsxe:"njxqsg",xuvjpz:"njxqsg",tmjidg:"njxqsg",pyseel:"njxqsg",xbirbd:"njxqsg",jkoykz:"njxqsg",hkanrj:"njxqsg",zcgowp:"njxqsg",demugb:"njxqsg",biymbi:"njxqsg",xafywk:"njxqsg",tthoxe:"njxqsg",zpwjcc:"njxqsg",lnjzri:"njxqsg",jlvqyk:"njxqsg",dtycws:"njxqsg",xycdix:"njxqsg",balqjq:"njxqsg",hdzraa:"njxqsg",ttltbw:"njxqsg",fpfygq:"njxqsg",znnral:"njxqsg",zgggrx:"njxqsg",lwhfye:"njxqsg",rxlihk:"njxqsg",dgnyim:"njxqsg",jbsujg:"njxqsg",vbqdlt:"njxqsg",byhlao:"njxqsg",tsyixa:"njxqsg",bpmeqv:"njxqsg",plhzfl:"njxqsg",lsdizt:"njxqsg",tzemng:"njxqsg",rintdk:"njxqsg",lwrlzo:"njxqsg",vrxypn:"njxqsg",zpjmqx:"njxqsg",vuzioa:"njxqsg",bakbbw:"njxqsg",ncxxul:"njxqsg",rhyemy:"njxqsg",ficzlp:"njxqsg",xulltg:"njxqsg",tfpnjn:"njxqsg",lhdroh:"njxqsg",hveqib:"njxqsg",hlclot:"njxqsg",javxjs:"njxqsg",pjlnya:"njxqsg",nujmdz:"njxqsg",hnfaau:"njxqsg",rvjatm:"njxqsg",drljsg:"njxqsg",fbzlkj:"njxqsg",hiqwys:"njxqsg",byjuwx:"njxqsg",vrmqnm:"njxqsg",xnwrou:"njxqsg",xaerpi:"njxqsg",jeidnq:"njxqsg",nnlltw:"njxqsg",xfhchy:"njxqsg",dzrqao:"njxqsg",lppvfg:"njxqsg",petakh:"njxqsg",taaotd:"njxqsg",rllwts:"njxqsg",jlddeg:"njxqsg",hgzzla:"njxqsg",paulra:"njxqsg",bwdbve:"njxqsg",totsim:"njxqsg",jtpmeh:"njxqsg",fzaonu:"njxqsg",fldvox:"njxqsg",dhhzzl:"njxqsg"},ids:["nmhibf","vxwcfp","ldaqbf","vzkdcc","fdbsiw","xnkmqj","drdxps","zbiwoq","lyusma","xczaux","dceiba","pwjcnz","xyelfe"],json:{lohjia:{kind:"script",id:"lohjia",time:1448588234,userid:"nzle",username:"Microsoft Touch Develop",name:"micro:bit serial",description:"A #microbit library to print messages to the serial port.",positivereviews:0,subscribers:0,comments:0,baseid:"dwiebl",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:0,screenshots:0,rootid:"njwiab",updateid:"lohjia",updatetime:1448588234,ishidden:!1,islibrary:!0,mergeids:[],editor:"",meta:{},raw:"",scripthash:"17bf73c6e41c65bb6428c3cd67b5dcf0",updateroot:"njwiab",unmoderated:!1,noexternallinks:!1,lastpointer:"ptr-usercontent-njwiab"},jcyhqq:{kind:"script",id:"jcyhqq",time:1449171821,userid:"xcih",username:"Peli",name:"flashing heart tutorial",description:"control images with variables. #microbit #docs #tutorials #stepByStep",positivereviews:0,subscribers:0,comments:0,baseid:"pwjcnz",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:0,screenshots:0,rootid:"fpildn",updateid:"jcyhqq",updatetime:1449171821,ishidden:!1,islibrary:!1,mergeids:[],editor:"",meta:{vimeo:"134118118",videoptr:"td/videos/flashing-heart-0"},raw:"",scripthash:"0c4a5a7145bd2b106da08427b9a29622",updateroot:"tummov",unmoderated:!1,noexternallinks:!1},xczaux:{kind:"script",id:"xczaux",time:1432920327,userid:"nzle",username:"Microsoft Touch Develop",name:"blank blocks",description:"",positivereviews:0,subscribers:0,comments:0,baseid:"btierw",icon:"",iconbackground:"#FF7518",cumulativepositivereviews:0,screenshots:0,rootid:"tnbqbf",updateid:"xczaux",updatetime:1432920327,ishidden:!1,islibrary:!1,mergeids:[],editor:"blockly",meta:{},raw:"",scripthash:"1e86cd3ff643e0574f4fe80aca77926b",updateroot:"xczaux",unmoderated:!1,noexternallinks:!1},xbpfet:{kind:"script",id:"xbpfet",time:1454053350,userid:"nzle",username:"Microsoft Touch Develop",name:"micro:bit sprites",description:"",positivereviews:0,subscribers:0,comments:0,baseid:"tjamyj",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:0,screenshots:0,rootid:"tcvvyucjxj",updateid:"xbpfet",updatetime:1454053350,ishidden:!1,islibrary:!0,mergeids:[],editor:"",meta:{},raw:"",scripthash:"3be3a16b7688e17178917eebfce7f3c8",updateroot:"dnfbfj",unmoderated:!1,noexternallinks:!1},xyelfe:{kind:"script",id:"xyelfe",time:1457372439,userid:"dvin",username:"Michał (MS)",name:"blank script",description:"A MicroPython script",positivereviews:0,subscribers:0,comments:0,baseid:"",icon:"",iconbackground:"#FF7518",cumulativepositivereviews:0,screenshots:0,rootid:"xyelfe",updateid:"xyelfe",updatetime:1457372439,ishidden:!1,islibrary:!1,mergeids:[],editor:"python",meta:{},raw:"",scripthash:"5456ac9ffb2d7281c254ab884a89c875",updateroot:"xyelfe",unmoderated:!1,noexternallinks:!1},dceiba:{kind:"script",id:"dceiba",time:1432920385,userid:"nzle",username:"Microsoft Touch Develop",name:"blink blocks",description:"",positivereviews:0,subscribers:0,comments:0,baseid:"tnbqbf",icon:"",iconbackground:"#FF7518",cumulativepositivereviews:0,screenshots:0,rootid:"tnbqbf",updateid:"dceiba",updatetime:1432920385,ishidden:!1,islibrary:!1,mergeids:[],editor:"blockly",meta:{},raw:"",scripthash:"ec6dcd9c87814c7dd2d3e8146f17c425",updateroot:"dceiba",unmoderated:!1,noexternallinks:!1},jowara:{kind:"script",id:"jowara",time:1454603025,userid:"nzle",username:"Microsoft Touch Develop",name:"ADJ script",description:"",positivereviews:0,subscribers:0,comments:0,baseid:"jwzrac",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:0,screenshots:0,rootid:"lzfptf",updateid:"jowara",updatetime:1454603025,ishidden:!1,islibrary:!1,mergeids:[],editor:"",meta:{},raw:"",scripthash:"3a3542c19dbb32d92f0ac219410017a1",updateroot:"hrvbin",unmoderated:!1,noexternallinks:!1},jztbbx:{kind:"script",id:"jztbbx",time:1445017494,userid:"nzle",username:"Microsoft Touch Develop",name:"micro:bit senses",description:"A #microbit library that exposes orientation and movement events.",positivereviews:3,subscribers:0,comments:0,baseid:"vkmzfe",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:3,screenshots:0,rootid:"rjpqoh",updateid:"jztbbx",updatetime:1445017494,ishidden:!1,islibrary:!0,mergeids:[],editor:"",meta:{},raw:"",scripthash:"9f6891a522efc4f9b846d88580c62325",updateroot:"fnsquv",unmoderated:!1,noexternallinks:!1,lastpointer:"ptr-usercontent-fnsquv"},tgpxru:{kind:"script",id:"tgpxru",time:1454390980,userid:"nzle",username:"Microsoft Touch Develop",name:"micro:bit screen",description:"Specialized functions to control the screen #microbit",positivereviews:0,subscribers:0,comments:0,baseid:"lnyirj",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:0,screenshots:0,rootid:"bmjsup",updateid:"tgpxru",updatetime:1454390980,ishidden:!1,islibrary:!0,mergeids:[],editor:"",meta:{},raw:"",scripthash:"6c0c4e2688c7c59a50be7ed5e4e63c12",updateroot:"bmjsup",unmoderated:!1,noexternallinks:!1,lastpointer:"ptr-usercontent-bmjsup"},rwbwnc:{kind:"script",id:"rwbwnc",time:1454053504,userid:"nzle",username:"Microsoft Touch Develop",name:"micro:bit game",description:"A #microbit game library.",positivereviews:3,subscribers:0,comments:0,baseid:"xgqnpl",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:3,screenshots:0,rootid:"fsdvro",updateid:"rwbwnc",updatetime:1454053504,ishidden:!1,islibrary:!0,mergeids:[],editor:"",meta:{},raw:"",scripthash:"32f9ed1e51d5aea14c6c8d6c465d76c1",updateroot:"fsdvro",unmoderated:!1,noexternallinks:!1},pzngyn:{kind:"script",id:"pzngyn",time:1453051899,userid:"nzle",username:"Microsoft Touch Develop",name:"micro:bit music",description:"The music namespace #music",positivereviews:0,subscribers:0,comments:0,baseid:"xmyfcx",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:0,screenshots:0,rootid:"zbiwoq",updateid:"pzngyn",updatetime:1453051899,ishidden:!1,islibrary:!0,mergeids:[],editor:"",meta:{},raw:"",scripthash:"5b4a7e1865a017a7b77c9ed93a1898d6",updateroot:"zbiwoq",unmoderated:!1,noexternallinks:!1},tjwpnx:{kind:"script",id:"tjwpnx",time:1454603082,userid:"nzle",username:"Microsoft Touch Develop",name:"micro:bit profile",description:"The list of #microbit supported APIs.",positivereviews:0,subscribers:0,comments:0,baseid:"pnmapm",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:0,screenshots:0,rootid:"bltbdc",updateid:"tjwpnx",updatetime:1454603082,ishidden:!1,islibrary:!1,mergeids:[],editor:"",meta:{},raw:"",scripthash:"f0c08f9c7b2996f1fc7dd4fbbd8328b5",updateroot:"dqkxtp",unmoderated:!1,noexternallinks:!1},njxqsg:{kind:"script",id:"njxqsg",time:1459789955,userid:"nzle",username:"Microsoft Touch Develop",name:"micro:bit",description:"The BBC micro:bit device api. #microbit",positivereviews:10,subscribers:0,comments:0,baseid:"jzzrnq",icon:"emptycircle",iconbackground:"#0095ff",cumulativepositivereviews:10,screenshots:0,rootid:"bpxuxa",updateid:"njxqsg",updatetime:1459789955,ishidden:!1,islibrary:!0,mergeids:[],editor:"",meta:{},raw:"",scripthash:"3757f1ee5345491069d429102ca82718",updateroot:"hmvlxa",unmoderated:!1,noexternallinks:!1}},text:{jowara:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "ADJ script";\nmeta rootId "om6XYqUcsjDK0npYjNyzn3BW";\nmeta hasIds "yes";\nmeta splitScreen "yes";\nmeta platform "current";\nmeta parentIds "";\n#sCBCojzbqNfj6sRA\naction main() {\n  #xP1meKgKx2EeA03s skip;\n}\n#SVXVucr3dRK4J6Y7 meta import micro\\u003abit {\n  pub "xgzgcy"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` tell_camera_to(@event: String)\n    action `sync` raise_alert_to(@event: String)\n    action `sync` on_notified(@event: String, body: Action)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_tone(frequency: Number, ms: Number)\n    action `sync` note_frequency(name: String) returns(frequency: Number)\n    action `sync` plot_leds(leds: String)\n    action `sync` plot_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` temperature() returns(temp: Number)\n    action `sync` stop_animation()\n    action `async` show_frame(img: ♻ micro\\u003abit → Image, frame: Number)\n    action `sync` queue_event(body: Action, name: String)\n    action `async` ring_tone(frequency: Number)\n    action `sync` tell_remote_control_to(@event: String)\n    action `sync` map(value: Number, from_low: Number, from_high: Number, to_low: Number, to_high: Number) returns(r: Number)\n    action `sync` magnetic_force(dimension: String) returns(millig: Number)\n    action `sync` servo_write_pin(name: String, value: Number)\n    action `sync` servo_set_pulse(pin: String, micros: Number)\n    action `async` rest(ms: Number)\n    action `async` rotation(kind: String) returns(angle: Number)\n    action `sync` note(name: String) returns(frequency: Number)\n    action `sync` set_pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Number)\n    action `sync` pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Number)\n    action `sync` set_display_mode(mode: String)\n    action `async` play_note(frequency: Number, ms: Number)\n    action `sync` light_level() returns(light: Number)\n    action `sync` is_ble_required() returns(r: Boolean)\n    action `sync` signal_strength() returns(strength: Number)\n    action `sync` on_signal_strength_changed(body: Action)\n  }\n}\n#Alu1GJCl0XiyaFNn meta import micro\\u003abit_screen {\n  pub "tgpxru"\n  usage {\n    action `sync` toggle(x: Number, y: Number)\n    action `sync` plot_all()\n    action `sync` toggle_all()\n    action `async` fade_in(ms: Number)\n    action `async` fade_out(ms: Number)\n    action `sync` screenshot() returns(img: ♻ micro\\u003abit → Image)\n    action `sync` plot_bar_graph(value: Number, high: Number)\n  }\n  #Msmo63osSl8VOt4V resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#x2LHHGswL451jMCn meta import micro\\u003abit_game {\n  pub "rwbwnc"\n  usage {\n    action `sync` score() returns(score: Number)\n    action `sync` set_score(value: Number)\n    action `sync` life() returns(life: Number)\n    action `async` set_life(value: Number)\n    action `sync` add_score(points: Number)\n    action `async` add_life(lives: Number)\n    action `async` start_countdown(ms: Number)\n    action `async` game_over()\n    action `async` current_time() returns(ms: Number)\n    action `async` remove_life(life: Number)\n    action `async` level_up()\n    action `async` level() returns(lv: Number)\n    action `async` start_stopwatch()\n    action `sync` is_running() returns(running: Boolean)\n    action `async` show_score()\n    action `sync` is_game_over() returns(over: Boolean)\n  }\n  #uTSBhGGRoLDgCI2N resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#xk593tAL91e8H2C4 meta import micro\\u003abit_senses {\n  pub "jztbbx"\n  usage {\n    action `sync` on_screen_up(body: Action)\n    action `sync` on_screen_down(body: Action)\n    action `sync` on_shake(body: Action)\n    action `sync` on_logo_up(body: Action)\n    action `sync` on_logo_down(body: Action)\n  }\n  #BbNcU7atbNNbBQmr resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#F7U0eegUWemWOHIj meta import micro\\u003abit_sprites {\n  pub "xbpfet"\n  usage {\n    type Led_Sprite\n    action `async` create_sprite(x: Number, y: Number) returns(r: ♻ micro\\u003abit_sprites → Led_Sprite)\n    action `sync` move(@this: ♻ micro\\u003abit_sprites → Led_Sprite, leds: Number)\n    action `sync` go_to(@this: ♻ micro\\u003abit_sprites → Led_Sprite, x: Number, y: Number)\n    action `sync` if_on_edge\\u002c_bounce(@this: ♻ micro\\u003abit_sprites → Led_Sprite)\n    action `sync` turn_right(@this: ♻ micro\\u003abit_sprites → Led_Sprite, degrees: Number)\n    action `sync` turn_left(@this: ♻ micro\\u003abit_sprites → Led_Sprite, degrees: Number)\n    action `sync` set_direction(@this: ♻ micro\\u003abit_sprites → Led_Sprite, degrees: Number)\n    action `sync` x(@this: ♻ micro\\u003abit_sprites → Led_Sprite) returns(r: Number)\n    action `sync` y(@this: ♻ micro\\u003abit_sprites → Led_Sprite) returns(r: Number)\n    action `sync` direction(@this: ♻ micro\\u003abit_sprites → Led_Sprite) returns(r: Number)\n    action `sync` set_x(@this: ♻ micro\\u003abit_sprites → Led_Sprite, x: Number)\n    action `sync` set_y(@this: ♻ micro\\u003abit_sprites → Led_Sprite, y: Number)\n    action `sync` change_y_by(@this: ♻ micro\\u003abit_sprites → Led_Sprite, y: Number)\n    action `sync` change_x_by(@this: ♻ micro\\u003abit_sprites → Led_Sprite, x: Number)\n    action `sync` is_touching(@this: ♻ micro\\u003abit_sprites → Led_Sprite, other: ♻ micro\\u003abit_sprites → Led_Sprite) returns(r: Boolean)\n    action `sync` is_touching_edge(@this: ♻ micro\\u003abit_sprites → Led_Sprite) returns(r: Boolean)\n    action `sync` on(@this: ♻ micro\\u003abit_sprites → Led_Sprite)\n    action `sync` off(@this: ♻ micro\\u003abit_sprites → Led_Sprite)\n    action `sync` set_brightness(@this: ♻ micro\\u003abit_sprites → Led_Sprite, brightness: Number)\n    action `sync` brightness(@this: ♻ micro\\u003abit_sprites → Led_Sprite) returns(r: Number)\n    action `sync` change_brightness_by(@this: ♻ micro\\u003abit_sprites → Led_Sprite, value: Number)\n    action `sync` change_direction_by(@this: ♻ micro\\u003abit_sprites → Led_Sprite, angle: Number)\n    action `sync` invalid_sprite() returns(r: ♻ micro\\u003abit_sprites → Led_Sprite)\n    action `sync` delete(sprite: ♻ micro\\u003abit_sprites → Led_Sprite)\n    action `sync` set_blink(sprite: ♻ micro\\u003abit_sprites → Led_Sprite, ms: Number)\n    action `sync` change_blink_by(@this: ♻ micro\\u003abit_sprites → Led_Sprite, ms: Number)\n    action `sync` blink(@this: ♻ micro\\u003abit_sprites → Led_Sprite) returns(r: Number)\n  }\n  #kOOTnWpb6q3mwRs3 resolve micro\\u003abit_game = ♻ micro\\u003abit_game with {\n  }\n  #yf5JlXsz20jG8d7Y resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#dXUNy3TCtcUuQHgo meta import micro\\u003abit_music {\n  pub "pzngyn"\n  usage {\n    action `sync` tempo() returns(bpm: Number)\n    action `async` change_tempo_by(bpm: Number)\n    action `async` set_tempo(bpm: Number)\n    action `sync` beat() returns(ms: Number)\n  }\n  #Q0tEe5dsulVXEC8U resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n',njxqsg:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "micro:bit";\nmeta icon "Command";\nmeta color "#ff008000";\nmeta rootId "iYo5o9pL2tCMNDztgDDztVLg";\nmeta isLibrary "yes";\nmeta hasIds "yes";\nmeta platform "current";\nmeta parentIds "";\n// The BBC micro:bit device api. #microbit\n#init\naction \\_libinit() {\n  #oCEOjqaW4CH7lS4r // Initialize the library\n  #aCYMP4THhnQkBd4N // {shim:}\n  #x3z5eK4ybVcTCWJh if data→board→is_invalid then {\n    #diswbwoJ0rRtyUbA data→logger := app→create_logger("simulator");\n    #YKJMortE5mXaazK7 data→event_queues := collections→create_string_map;\n    #JjsD2sJPrJ6vUU5w data→counters := web→create_json_builder;\n    #dSJI8h1ZUeMsbz21 data→compass_heading_value := invalid→number;\n    #BamJivB3cALMYQoQ data→start_time := time→now;\n    #pJfHUw7KRZ5r6xTq data→board := media→create_portrait_board(612, 498 + 100);\n    #tGJciuV0e2iZndkr wall→set_background(colors→transparent);\n    #xHZJdg4oIJlrN7cX data→picture := media→create_picture(612, 498);\n    #mes9Z70SlnN52zQT data→padding := 27;\n    #q8k7EFimR0fMv4GZ data→left := 205;\n    #xjbIl53FS2hhHDRL data→@top := 156;\n    #xHQWCYdhMT39OHlO data→bkg := data→board→create_picture(data→picture);\n    #tduKnQa7ilnDwAR8 data→bkg→width := data→board→width;\n    #Y4hGkvffxjBnxeqh data→bkg→left := 0;\n    #biiwiRxx6lfA2TSm data→bkg→@top := 0;\n    #xYFT5Uzzo7KE5Kr1 code→create_buttons;\n    #CT4ZDKfwZOw9wE2M data→finger := data→board→create_ellipse(20, 20);\n    #JoeW2bsnEkDyWSyt data→finger→set_opacity(0);\n    #mEta1VHYHeLZUHiH data→back_leds := data→board→create_sprite_set;\n    #xWKGWdrq4hPuEt6s data→leds := data→board→create_sprite_set;\n    #SfZi0Q4PST9W8C6f $led_opacity := 1;\n    #md36WuHm2WM6OUim $led_w := 10;\n    #wL4ZbsjEBlcHVdT4 $led_offset := 48;\n    #czF5GDH9tIShJiHQ $led_h := 20;\n    #eOl4yTJgCvJGnDPC for 0 ≤ i < 5 do {\n      #xu2j46v9YsXKI68O $led_top := $i * $led_offset + data→@top;\n      #VtKgwueOnr9ToKNo for 0 ≤ j < 5 do {\n        #xbwb4ptsRLHB8U2X $led_left := $j * $led_offset + data→left;\n        #pjVTyTlf5kQ4qA6G $back_led := data→board→create_rectangle($led_w, $led_h);\n        #cuWZqw3O5y2yXQb5 $led := data→board→create_rectangle($led_w + 8, $led_h + 8);\n        #m96ZgbF29ABbEmoL $back_led→left := $led_left;\n        #xGiwGuU71Tu9FgU5 $back_led→@top := $led_top;\n        #QjqcjX5p0pAvotrx $led→x := $back_led→x;\n        #avXCJDNsL2TCMLfU $led→y := $back_led→y;\n        #WPrSA3bt4MdkOVEE $led→color := colors→transparent;\n        #GCX2ykJxlYVUyoYt $led→set_opacity($led_opacity);\n        #g49uDAC8FfRzMF9O $led→set_shadow(10, colors→red, 0, 0);\n        #LZwZ7CQdOe5bMLP7 code→led_index_anim($back_led, $j, $i);\n        #N1DKQdDMWiPq5R3f data→back_leds→add($back_led);\n        #IwDQ2EgCXYvDIWQD data→leds→add($led);\n      }\n    }\n    #xN44GIpThDd2JQn5 code→init_theme;\n    #QIjvtSonf6Bx38tP code→init_eyes;\n    #auzjzpClkNJY94I3 code→init_axis;\n    #BlWLf7LrHMucdyNB code→init_pins;\n    #xVIOjGStCgdLjic6 code→update_axis;\n    #qLoyPDrDUdeG77Vv code→set_theme("");\n    #ByFADaJmirytJ02b code→background_animation;\n    #xmVrpXc8aqbE3dq6 `async` code→animation_worker;\n    #pNdJy7kyaeqKZhfS data→board→on_every_frame;\n    #xbsS9F4HXWsdVT8s where `implicit` \\_body\\_() {\n      #WF6Md7jUVLVAe3m4 code→update_board;\n    }\n    #MYgk7IsTxvU17LkN data→board→post_to_wall;\n  }\n  meta sync;\n}\n#example\naction example() {\n  #unS88qlSD4KUIFo3 // {topic:td/micro-bit-api}\n  #Nn25gD1f1VnaefC5 // {shim:}\n  #WtyCgbH9W8rsFzbE // This library lets you control your **BBC micro:bit**. [read more...](/td/contents).\n  meta private;\n}\n#board\nvar board : Board {\n  // {shim:}\n  transient = true;\n}\n#starttime\nvar start_time : DateTime {\n  // {shim:}\n  transient = true;\n}\n#pTYFKJ2dSVmrISHGn2Cvx1ak\nvar leds : Sprite_Set {\n  // {shim:}\n  transient = true;\n}\n#delay\naction pause(#s4T6Z7saqVl4e7GI ms: Number) {\n  #xw0ceQXmgnW2YLkd // Pause for the specified time in milliseconds\n  #tkri0MjL1YpQLUMc // {help:functions/pause}\n  #aY6hM3Nf9YqDfRgi // {namespace:basic}\n  #oug4zW7u9u8tBZ1B // {weight:88}\n  #AEJQ04Cx4VKx2Rpc // {hints:ms:100,200,500,1000,2000}\n  #IwA49hY0PNZDrAK9 // {shim:micro_bit::pause}\n  #u4DOIK9VQzUgYTrN $ms := math→round($ms);\n  #tRxpGJplhnETomzN if $ms < 0 then {\n    #FsfEfBx8OfPv4xyo code→warning("ms should be a greater than or equal to 0");\n    #YNPa4d34bFB8by52 `return` ;\n  }\n  #GQyW248xhuAJWQPB if `not` data→before_pause→is_invalid then {\n    #oTDD8uv0Dx2hvZqB data→before_pause→run;\n  }\n  #xgfVUH6efvOMy24z app→allow_other_events;\n  #R9tJwE1rZG7RwmLw time→sleep(math→max(1, $ms) / 1000);\n}\n#v8iiJ26rxKIMp44uFEIBfxCW\naction set_led_state(#AfRF8uNgO84DQCu3 x: Number, #MRql0kRW2QFozyIw y: Number, #k48W7K4Qx24WBKJY state: Number) {\n  #xztCKIZ3qGbn4IBK // Sets the LED color\n  #iv3jy8xz84h7sofY // {shim:}\n  #atk33Oey3ER4dzFQ // {hints:state:1,0}\n  #anevNAi4IdyNVhyu $x := math→round($x);\n  #x0qMudFm7xUQCgA4 $y := math→round($y);\n  #so9bs46bW4iXY0SR if $x < 0 `or` $x > 4 then {\n    #xea4WpawOvddatsC code→warning("x should be between 0 and 4.");\n    #x4lxI0KQibRnJrdF `return` ;\n  }\n  else { #xI4iq6zmeb1WSESU if $y < 0 `or` $y > 4 then {\n    #wrr9Pq2Vl4NflTyC code→warning("y should be between 0 and 4.");\n    #hGoYfUVVWx50GxJh `return` ;\n  }\n  else { } } \n  #w44RwY4hgpRIgpHZ $led := data→leds→at(code→index($x, $y));\n  #oj4yNDnGGTQFvFOa code→set_led_color($state, $led);\n  #JtzjlP7mB1bd2Ogn code→update_board;\n  meta private;\n  meta sync;\n}\n#AVn5dHoZz4zk1U2cqDlwGBFI\naction test_board() {\n  #lxgHqHNb4A6nnQOR // {shim:}\n  #z60YvOdiDDDJUrSK code→\\_libinit;\n  #xggqn1uH0YmirAs0 data→board→set_debug_mode(true);\n  #xbs7leriwIgIYW84 code→set_led_state(0, 0, 1);\n  #H2rlrr32Nr1cTRzG contract→assert(code→led_state(0, 0) = 1, "");\n  #pE0Lk2GcSwtMu6vO code→set_led_state(1, 1, 1);\n  #HRSkXl2cW0BeOvz4 contract→assert(code→led_state(1, 1) = 1, "");\n  #UuPVu5lhnJc26H43 code→set_led_state(2, 3, 1);\n  #q47JRBjbG423RGP7 contract→assert(code→led_state(2, 3) = 1, "");\n  meta private;\n  meta test;\n}\n#xbFe3E4xlaPVKqyQgLDbw44R\naction create_A_button() {\n  #xb4n7opYqhj4K5RQ // {shim:}\n  #fsNdOyLEOVKbaNzO data→button_a_inner := code→create_circle(45, 229);\n  #i0mbEct0JsGmR2IX data→button_a_inner→set_color(colors→black);\n  #hxuBSjFJoTGcKkyF data→button_a_inner→set_gradient(false);\n  #x0bngB2zwD5YNqhc data→button_a := code→create_circle(data→button_a_inner→x, data→button_a_inner→y);\n  #xeJ9fLqaRwHysI6H data→button_a→opacity := 0;\n  #QUMDCVZwMje402BB data→button_a→width := 112;\n  #xgxl4xE59t5HUcsH data→button_a→height := 112;\n  #Dvbapa4O529H2fs1 data→button_a→x := data→button_a_inner→x;\n  #jI0c4WdUI8QVWBHC data→button_a→y := data→button_a_inner→y;\n  #byJDE43aA5Kg6F5t data→button_a→on_touch_down($touch_down);\n  #xRnGBKk3PwrPrVq7 where touch_down(x: Number, y: Number) {\n    #Etn5CjWrVyWerIAv data→button_a_inner→set_color(colors→orange);\n  }\n  #spYCmKzaeQetcXJf data→button_a→on_touch_up($touch_up);\n  #hBkQn82nWTIgqurc where touch_up(x: Number, y: Number) {\n    #w8V7Xy22Sy1uDnD0 data→button_a_inner→set_color(colors→black);\n  }\n  meta private;\n  meta sync;\n}\n#rIjgEVDnXyYKKGW2z0G19vjb\naction create_circle(#dY8pewFJbnj6hliB left: Number, #NzrnBsCre4NFCIwk @top: Number) returns(#dyBo2jl2fIsGiYIo sp: Sprite) {\n  #Yba134pj3lkXWPx4 // {shim:}\n  #iBBRg3iUUQVTsPKF $sp := data→board→create_ellipse(42, 42);\n  #xLLim4SK6XqTBI1W $sp→left := $left;\n  #A4vAaBWwpyS1U0Xm $sp→@top := $@top;\n  #mPWpygJUPRH61jT2 $sp→set_color(colors→transparent);\n  #x4n4AmYHSf7bLueZ $sp→friction := 1;\n  meta private;\n  meta sync;\n}\n#sa4Hw2IQQ6yKVRcp\nvar led_on_color : Color {\n  // {shim:}\n  transient = true;\n}\n#sQ4pRVTHKnMu9DYy\nvar button_a : Sprite {\n  // {shim:}\n  transient = true;\n}\n#oUAhsVC3wJ704APn\nvar button_b : Sprite {\n  // {shim:}\n  transient = true;\n}\n#xcaCrKgyeje9xop6\nvar led_off_color : Color {\n  // {shim:}\n  transient = true;\n}\n#eJrkaFqwHMniAE60\naction clear_screen() {\n  #m6PiKdvQQQ7NBgLu // Turn off all LEDs\n  #ZG9A5FPHHkO4uHN5 // {help:functions/clear-screen}\n  #Lc4GU4SQEeDXJcAp // {namespace:basic}\n  #WwZ9Imwcdzf4H2Db // {weight:79}\n  #IsinvyLebNu1rsu9 // {shim:micro_bit::clearScreen}\n  #yVSc2bJhsH0utE1x foreach led in data→leds\n  do {\n    #Tgb6koDUxsIrk8ua $led→set_color(data→led_off_color);\n  }\n  #e4hu5CQWn3R63uYt code→update_board;\n  meta sync;\n}\n#xdRC0FfCUbSXMbmh\naction update_board() {\n  #j4oi2p366aTw6QKa // {shim:}\n  #BoBb0C4wRa7gItQD data→board→evolve;\n  #MROJQrS4v1wSkgL7 code→update_compass;\n  #dEb8PV520FV1duTv code→update_acceleration;\n  #Qs6wzz1w9RgDe3yH data→board→update_on_wall;\n  meta private;\n  meta sync;\n}\n#rVt0ZcmX6UHbaXhI\nvar finger : Sprite {\n  // {shim:}\n  transient = true;\n}\n#T8E8znSXqQ2mBFaZ\naction set_led_color(#By9YA6QxMYHWVuPB state: Number, #w3io4YAswOq422Cs led: Sprite) {\n  #WNlyDe90AUFRSu16 // {shim:}\n  #xUaGp05mSO8ORKZ4 if $state = 0 then {\n    #w00c6FcHfazKsYrb $led→set_color(data→led_off_color);\n  }\n  else {\n    #TJGybBt6wykGbktJ $led→set_color(data→led_on_color);\n    #W39jTBnHFjSBib2V if data→\\_greyscale then {\n      #wL9uIv4tefOsQPiY $led→set_opacity(1 / 10 + 9 / 10 * math→log($state, 2) / 7);\n    }\n  }\n  meta private;\n  meta sync;\n}\n#BJ2LCyxTdQTyJIp4\naction led_state(#N5nd2zYg8ab9fj4E x: Number, #DrKMD4313XKAT7bj y: Number) returns(#zaJYN2jOBvU1HSRr state: Number) {\n  #xw3iEm0w54TEtrgm // Gets the state of a LED\n  #x823TnD4vMJUBvzI // {shim:}\n  #OJ67jtmj97vZUbUW $x := math→round($x);\n  #yMqGU0KTaz37h4lD $y := math→round($y);\n  #PItiVZIbypFvB4Ry if $x < 0 `or` $x > 4 then {\n    #uGUPj25ME43D7Bo3 code→warning("x should be between 0 and 4.");\n    #k8Pjmch1K7qB7lzo `return` 0;\n  }\n  else { #G9RGmjhlZCHYpXo3 if $y < 0 `or` $y > 4 then {\n    #KQulE9FjsIO1jweV code→warning("y should be between 0 and 4.");\n    #E2bQYfvtLS9MGdfx `return` 0;\n  }\n  else { } } \n  #Rs4DiTpY2Z4oV7sm $sprite := data→leds→at(code→index($x, $y));\n  #GrRbVE3LBFdiTxiy if `not` $sprite→is_invalid `and` $sprite→color→equals(data→led_on_color) then {\n    #z54A0XeDMLRIfIif `return` 1;\n  }\n  else {\n    #xNajv7Lgj9sPexQ4 `return` 0;\n  }\n  meta private;\n  meta sync;\n}\n#XJovYmLSOmKdCJPA\naction require_range(#pmedvcwuHbLnWC7W x: Number) returns(#xjG1JKjh2SbYBHt1 x2: Number) {\n  #Q1hQnkMVTzFmkD7E // {shim:}\n  #vF5Zkqpoz3eLR6Fs $x := math→floor($x);\n  #uaSKzCviakcz2Hgh contract→requires($x ≥ 0 `and` $x < 5, "``x`` must be between 0 and 4 included");\n  #xUUHEmAdLLlWhbNc $x2 := $x;\n  meta private;\n  meta sync;\n}\n#xVWGu871324FOHjb\naction bit(#qNb6K0K0Rv5gyH5O state: Number, #lJdGRw37BIcyWKtc x: Number) returns(#xI3h98FdRMqtr7rx state_i: Number) {\n  #EUfj2oPVG1MdKp8J // {shim:}\n  #xT7rsPKc3oufTSE8 $state_i := bits→and_uint32($state, bits→shift_left_uint32(1, $x));\n  #xLlmHK36SxZRh1xe if $state_i ≠ 0 then {\n    #ncgTXBzRhH2qcGob $state_i := 1;\n  }\n  meta private;\n  meta sync;\n}\n#BdGhpbmca\ntable Image {\n  // {shim:MicroBitImage}\n  type = "Object";\n  persistent = false;\n  fields {\n    #yczPr24geBgMxLbS leds : Matrix\n  }\n}\n#IGYgeBIpT62o9thr\naction sprite_from(#xSkDv46XVEoGCGdp x: Number, #A4TskwCTJk6qsg62 y: Number, #DgwwO2tgSkt14x23 width: Number, #xNwk4F0E4PVfaaQv height: Number) returns(#e7LIwNU1P7sj5r4t sprite: * Image) {\n  #xTkMUmuLHn6rCvcN // Extracts a new sprite from the current LED state.\n  #lEJq90PR2XwX4LWH // {shim:}\n  #GIZkJPyuoHVyLQvL $x := code→require_range($x);\n  #LJ7RyTPUzHmKq7qg $y := code→require_range($y);\n  #Px1qblV2PJdaSpFP $width := math→floor($width);\n  #IkJaTkTmG91scVxN contract→requires($x + $width < 5, "too many columns");\n  #UX437qD2aXfAs2K2 $height := math→floor($height);\n  #VugnBMqCdmloPdUn contract→requires($y + $height < 5, "too many rows");\n  #dIVCKXtu2IlpAMVY $sprite := code→create_sprite($width, $height);\n  #x2875Vxpg3Bp2PqA for 0 ≤ i < $width do {\n    #KrB4HHn2Lv0THbbV $xi := $x + $i;\n    #Jbzw3CsmimDDyrg8 for 0 ≤ j < $height do {\n      #PIqy1dJJsLGtH4vv $yj := $y + $j;\n      #AZUiEPzXmo0wB0mK $sprite→leds→set_at(code→index($xi, $yj), code→led_state($xi, $yj));\n    }\n  }\n  meta private;\n}\n#UfF7JOuScQfe5nnQ\naction index(#yuxV96yMNc6bUq72 x: Number, #UeWExLbJKOvZm7Lo y: Number) returns(#WZy6fjZAdBtmlvO9 index: Number) {\n  #F7qzqMCjZAg84ncU // {shim:}\n  #jHDElY6pSQg45hPr $index := $x + 5 * $y;\n  meta private;\n  meta sync;\n}\n#xrG3VA1cfC2J48fe\naction create_image_from_string(#WpbiG7M8pO8744cQ text: String) returns(#h937aDHP8dI2uUxT sprite: * Image) {\n  #btZDtCFCtf5qJCze // Create an image from the given text\n  #wW4iJXbwjNxZIFU6 // {shim:}\n  #rFXxMBc9LkwafeIX // {hints:text:hello}\n  #WPj3cOy0MJ59WIY5 code→init_font;\n  #xtzzE0XUUIsjAUc8 $sprite := code→create_sprite(6 * $text→count - 1, 5);\n  #P1KIVstMFDXRwF3I $k := 0;\n  #ocKg9CThqYfc08nJ for 0 ≤ i < $text→count do {\n    #x6Yzz0Oxk4szoFpC $char_code := $text→at($i)→to_unicode;\n    #xrcZN3qkfpggQLbu $char_start := ($char_code - 32) * 5;\n    #scugRD8oRG3wf9PP $w := data→font→width;\n    #w24as3aqIizfCySm if $char_start < 0 `or` $char_start + 5 > data→font→width then {\n      #je2HGup30lVVeYSw $char_code := " " →to_unicode;\n      #vOjWWAPcpHUFOaZ7 $char_start := ($char_code - 32) * 5;\n    }\n    #tckFmsMLGvfO2Wt2 data→font→copy($char_start, 5, $sprite, $k);\n    #htKxdnjIIL6Dj32s $k := $k + 5;\n    #rSWCxQVjgak3yHrl if $i < $text→count - 1 then {\n      #xNb8Xf2rGMryC3t4 $k := $k + 1;\n    }\n  }\n  meta private;\n  meta sync;\n}\n#A1geJUVrAOpqBzMO\naction create_sprite(#NXMvo2FCreUM57C8 width: Number, #T4IqbKqxeaWzGfu2 height: Number) returns(#gJCl5tgT9aZygOzM sprite: * Image) {\n  #SetwMqs402272zX2 // {shim:}\n  #dICN6N9VCIvsD3kb contract→requires($width > 0 `and` $height > 0, "sprite must be at least 1x1");\n  #SavRXQCZKe8RHaT5 $sprite := records→Image→create;\n  #OS3K5fEIA4Rny0hF $sprite→leds := math→create_matrix($width, $height);\n  meta private;\n  meta sync;\n}\n#EgRqP2ucVXW1es2k\nvar chars\\u002ejson : Json_Object {\n  is\\_resource = true;\n  url = "data:text/plain;base64,eyIwIjpbNiwxMSwxNSwxMyw2XSwiMSI6WzIsNiwyLDIsMl0sIjIiOlsxNCwxLDYsOCwxNV0sIjMiOlsxNCwxLDYsMSwxNF0sIjQiOlsyLDYsMTAsMTUsMl0sIjUiOlsxNSw4LDE0LDEsMTRdLCI2IjpbNiw4LDE0LDksNl0sIjciOlsxNSwxLDIsNCw4XSwiOCI6WzYsOSw2LDksNl0sIjkiOls2LDksMTUsMSw2XSwiICI6WzAsMCwwLDAsMF0sIiEiOls0LDQsNCwwLDRdLCJcIiI6WzEsMiwwLDAsMF0sIiMiOls2LDE1LDYsMTUsNl0sIiQiOls3LDEwLDYsNSwxNF0sIiUiOls3LDE0LDQsNywxNF0sIiYiOlsyLDUsNiwxMCw1XSwiJyI6WzAsMTAsMCwwLDBdLCIoIjpbNCw4LDgsOCw0XSwiKSI6WzQsMiwyLDIsNF0sIioiOlswLDYsMTUsNiwwXSwiKyI6WzAsMiw3LDIsMF0sIiwiOlswLDAsMCwyLDRdLCItIjpbMCwwLDAsMTUsMF0sIi4iOlswLDAsMCwwLDRdLCIvIjpbMSwxLDIsNCw4XSwiOiI6WzAsNCwwLDQsMF0sIjsiOlswLDQsMCw0LDhdLCI8IjpbMiw0LDgsNCwyXSwiPSI6WzAsMTUsMCwxNSwwXSwiPiI6WzQsMiwxLDIsNF0sIj8iOls2LDksMiwwLDJdLCJAIjpbNiwxMywxMSw4LDZdLCJBIjpbNCwxMCwxNCwxMCwxMF0sIkIiOlsxNCw5LDE0LDksMTRdLCJDIjpbNiw5LDgsOSw2XSwiRCI6WzE0LDksOSw5LDE0XSwiRSI6WzE1LDgsMTQsOCwxNV0sIkYiOlsxNSw4LDE0LDgsOF0sIkciOls2LDgsMTEsOSw2XSwiSCI6WzksOSwxNSw5LDldLCJJIjpbMTQsNCw0LDQsMTRdLCJKIjpbMSwxLDEsOSw2XSwiSyI6WzksMTAsMTIsMTAsOV0sIkwiOls4LDgsOCw4LDE1XSwiTSI6WzksMTUsMTUsOSw5XSwiTiI6WzksMTMsMTUsMTEsOV0sIk8iOls2LDksOSw5LDZdLCJQIjpbMTQsOSwxNCw4LDhdLCJRIjpbNiw5LDksMTEsN10sIlIiOlsxNCw5LDE0LDEwLDldLCJTIjpbNyw4LDYsMSwxNF0sIlQiOlsxNCw0LDQsNCw0XSwiVSI6WzksOSw5LDksNl0sIlYiOls5LDksOSw2LDZdLCJXIjpbOSw5LDE1LDE1LDldLCJYIjpbOSw5LDYsOSw5XSwiWSI6WzksNSwyLDIsMl0sIloiOlsxNSwyLDQsOCwxNV0sIlsiOlsxNCw4LDgsOCwxNF0sIlxcIjpbOCw4LDQsMiwxXSwiXSI6WzcsMSwxLDEsN10sIl4iOls0LDEwLDAsMCwwXSwiXyI6WzAsMCwwLDAsMTVdLCJgIjpbNCwyLDAsMCwwXSwiYSI6WzAsNSwxMSwxMSw1XSwiYiI6WzgsOCwxNCw5LDE0XSwiYyI6WzAsNyw4LDgsN10sImQiOlsxLDEsNyw5LDddLCJlIjpbMCw2LDE1LDgsN10sImYiOlszLDQsMTQsNCw0XSwiZyI6WzcsOSw3LDEsN10sImgiOls4LDgsMTQsOSw5XSwiaSI6WzAsMiwwLDIsMl0sImoiOlsxLDAsMSwxLDZdLCJrIjpbOCwxMCwxMiwxMCw5XSwibCI6WzEyLDQsNCw0LDE0XSwibSI6WzAsOSwxNSwxNSw5XSwibiI6WzAsMTQsOSw5LDldLCJvIjpbMCw2LDksOSw2XSwicCI6WzAsMTQsOSwxNCw4XSwicSI6WzAsNiw5LDcsMV0sInIiOlswLDExLDEyLDgsOF0sInMiOlswLDcsNCwyLDE0XSwidCI6WzQsMTQsNCw0LDNdLCJ1IjpbMCw5LDksOSw2XSwidiI6WzAsOSw5LDYsNl0sInciOlswLDksMTUsMTUsNl0sIngiOlswLDksNiw2LDldLCJ5IjpbMCw5LDcsMSw2XSwieiI6WzAsMTUsMiw0LDE1XSwieyI6WzYsNCwxMiw0LDZdLCJ8IjpbNCw0LDAsNCw0XSwifSI6WzEyLDQsNiw0LDEyXSwifiI6WzAsMCw1LDEwLDBdfQ==";\n  transient = true;\n}\n#FBCYO1ysYzVS3rEJ\naction test_scroll_string() {\n  #vY9MA7hWCXU1Ra23 // {shim:}\n  #eho3QrBxWsMAix4R code→\\_libinit;\n  #xSaLaPGzEk8WaSd1 code→show_string("", 100);\n  #mPN9ztLMk7UbME0e code→pause(1000);\n  #PYmqDeoYaFBfJT8x code→show_string("A", 100);\n  #gb29N4yYNoQOfoaW code→pause(1000);\n  #a4p4CD0Rz14TmzwM code→show_string("0123", 100);\n  #xGyJN7Jgvwq9ZB4s code→pause(1000);\n  #xSjakVYLu7gd1QHM $sprite := code→create_image_from_string("Hello");\n  #VKpTa6fxINbbXVz5 $sprite→scroll_image( - 5, 200);\n  #eyb8bNW9ffSO6O2G $sprite→scroll_image(5, 200);\n  #bwM4Tq2dxt2mOHIW $sprite→scroll_image(1, 200);\n  #ZYxNc8AOTZbdOJ1n $sprite→scroll_image( - 1, 200);\n  meta private;\n  meta test;\n}\n#Zm96IqdgVrI2iCjB\naction width(#mNqXeR0Venxmv0uf @this: * Image) returns(#xY2xXA2sFDmKE4PQ w: Number) {\n  #DPngUzxZ3HlrXHyv // Gets the width in columns\n  #ulYlLiq3yUhayh1l // {help:functions/width}\n  #gFXMVYYVHx5aY7Ts // {namespace:image}\n  #x2eHyTJVIamAaq45 // {shim:micro_bit::getImageWidth}\n  #z66k2w22K7InEnyV $w := $@this→leds→row_count;\n  meta sync;\n}\n#rZT5E9pMud033e54\naction height(#lwwRe2IKIaJ2btEs @this: * Image) returns(#oV9jdReQ85HMKiON h: Number) {\n  #gL2f9kgRHinswu2z // Gets the height in rows\n  #x6JI6jqwN4h4M2jY // {shim:}\n  #HWsux5YjWGEpumtE $h := $@this→leds→column_count;\n  meta private;\n  meta sync;\n}\n#D944KGlI2CeHG0gq\nvar board_color : Color {\n  // {shim:}\n  transient = true;\n}\n#H1uQDGTSbSLoJlFF\naction scroll_image(#dVF1wUlpKx2pPtHa @this: * Image, #Fr2rDLarbEiIzfHm x_offset_per_step: Number, #gPjfa2RSvx3dAN3H interval: Number) {\n  #xGQ520j5fXArwqWl // Scrolls sprite through the screen. If sprite has width <= 5, does not scroll, otherwise, shifts the image by one column every ``interval`` milliseconds.\n  #iT7MH9Kd29dafjMN // {help:functions/scroll-image}\n  #GkJdERhnRveIvkAV // {namespace:image}\n  #u06IOFGf80LHWg3W // {weight:68}\n  #xtyyk9lLDfqJLWpL // {hints:x offset per step:5,1}\n  #kK2O5fLxOlBFvjHG // {hints:interval:400,100}\n  #UrNHQ26Tc7HxFp1p // {shim:micro_bit::scrollImage}\n  #xtlglkDAp2Q1OJUh $anim_id := data→current_animation;\n  #Jysm4Pd4lszqgxXV $x_offset_per_step := math→round($x_offset_per_step);\n  #Hv8BBJJLK4ATmTYK code→queue_animation_and_wait;\n  #lyweMkPTU58Kbmtp where `implicit` \\_body\\_() {\n    #xluG50TZnkrViJjL if $x_offset_per_step > 0 then {\n      #xMcTw7gf2Fz9FwZ8 $dx := math→max(1, $x_offset_per_step);\n      #CXEE00t44mfWLUIC $x := 0;\n      #GwuUOeH3zqRBqEQ1 while $x + 4 < $@this→width do {\n        #x5vjJ5zSuf1rqKnV $@this→render_image($x);\n        #OwLsXGKEmYf3u4Gj code→pause($interval);\n        #PHeDA80GctvZmtme if data→current_animation ≠ $anim_id then {\n          #ietA2urgnfVpp2ss `return` ;\n        }\n        #wDxlPdR9HkBH4PHv $x := $x + $dx;\n      }\n    }\n    else {\n      #xQMEmAD35uksb3qz $dx := math→min( - 1, $x_offset_per_step);\n      #JkulbmMt5UmnsSIB $x := $@this→width - 5;\n      #ujNFlLWKwHnNk5rJ while $x ≥ 0 do {\n        #Gp42FT0fV8jwrcE4 $@this→render_image($x);\n        #d4IJlY2NIltFZZiE code→pause($interval);\n        #uLdovnfNVFKKXuXO if data→current_animation ≠ $anim_id then {\n          #yJCgIFUX2A0x3Os4 `return` ;\n        }\n        #xgrTFzGv8MLnnysv $x := $x + $dx;\n      }\n    }\n  }\n}\n#j6How14prTjVLiKJ\naction button_is_pressed(#dwrDe5YG33oG3MHB name: String) returns(#RdtB26hD1lA5OO8J pressed: Boolean) {\n  #xDfRt2S0C1CkPSHd // Get the button state (pressed or not) for ``A`` and ``B``.\n  #dmv7pPfdUX3Nii67 // {help:functions/button-is-pressed}\n  #RVFWVBfCjLPg2uRU // {namespace:input}\n  #yTzqdrDfKTub5zSp // {weight:59}\n  #xROirQwDWqY9ZgYL // {enum:name:A=MICROBIT_ID_BUTTON_A,B=MICROBIT_ID_BUTTON_B}\n  #QFNxD51gqBGenDQ6 // {shim:micro_bit::isButtonPressed}\n  #ntxF2QNxLArWB2V5 $name := $name→trim(" \\t")→to_lower_case;\n  #nA1Wp5PR401L45J9 if data→board→touched then {\n    #Tg9Z2s4GUdfgvcf8 $target := code→button_from_id($name);\n    #YTVfEiLMEHSyTaYY $p := data→board→touch_current;\n    #tq26Gcbvm0zenWR0 data→finger→set_pos($p→x, $p→y);\n    #PhXWkNR6epuZNkBa if data→finger→overlaps_with($target) then {\n      #IKV9abE47o0mPXbn `return` true;\n    }\n    else { #xvwUV2et9kypbYOc if $name→equals("a") `or` $name→equals("b") then {\n      #wM0dFQyl00dy9W8y $target := code→button_from_id("a+b");\n      #Sg4UFkSp2RJWNX7P if data→finger→overlaps_with($target) then {\n        #VhRVWWt2X81ZkFV0 `return` true;\n      }\n    }\n    else { } } \n  }\n  #rujS852B1Sx8Gh1f if $name→equals("a") `and` (senses→is_key_pressed("a") `or` senses→is_key_pressed("left")) then {\n    #eNt8xKqeXVB6CgMS `return` true;\n  }\n  else { #en3kBi1aD9t9e4lG if $name→equals("b") `and` (senses→is_key_pressed("b") `or` senses→is_key_pressed("d") `or` senses→is_key_pressed("right")) then {\n    #FclRZcdq6c4gnFaI `return` true;\n  }\n  else { } } \n  #o4B6c8hDkCKfcqbP `return` false;\n  meta sync;\n}\n#YKkpIRxYCYj6luNy\naction plot(#xr21JhTVxIw6N8eD x: Number, #mr8Hkd8kLjqzu8IZ y: Number) {\n  #C4ZSSnemxpZWIiOE // Turn on the specified LED using ``x``, ``y`` coordinates (``x`` is horizontal, ``y`` is vertical)\n  #oO7LJ2kRt1FlICbW // {help:functions/plot}\n  #PTHzXQhcnHkdu9e2 // {namespace:led}\n  #oVRf0YOvIGx9J1i9 // {weight:78}\n  #Oko244Xjtl3XaFOw // {hints:x:0,1,2,3,4}\n  #xEIQtXe6fw4kg5FH // {hints:y:0,1,2,3,4}\n  #tPQEuS6Gmqc7l6oB // {shim:micro_bit::plot}\n  #r35AgHxwXK1n29pb code→set_led_state($x, $y, 1);\n  meta sync;\n}\n#f02nNkUzv6b6aPHB\naction point(#PGRW6DJGVEVi5wFW x: Number, #JS5Z305cxyrTyxH2 y: Number) returns(#u0fXIVDG4WzrfN7B on: Boolean) {\n  #WPM6kMiDO4MFbj6F // Get the on/off state of the specified LED using ``x, y`` coordinates.\n  #cYimilnL8Y3meMHz // {help:functions/point}\n  #uLmwV8jgK3a2Fequ // {namespace:led}\n  #hferw4vyJzoT524J // {weight:76}\n  #fc2JgYLVULK0v7iN // {hints:x:0,1,2,3,4}\n  #MF2t9k2UiqFfh4Cm // {hints:y:0,1,2,3,4}\n  #ugAQOqPTl7WVJCXs // {shim:micro_bit::point}\n  #rJpqUyeFN9Z27674 `return` code→led_state($x, $y) > 0;\n  meta sync;\n}\n#xX8BI6pQozHWIVZF\naction show_string(#EEchsFBax4g4Pk4y text: String, #xhQbPcu59cxTmgPb interval: Number) {\n  #TC2ipxc1vXR9hICR // Display text on the display, one character at a time, and shift by one column each ``interval`` milliseconds. If the string fits on the screen (i.e. is one letter), does not scroll.\n  #IFE4Aw9tdA4X617h // {help:functions/show-string}\n  #lO7UShx1xNCN5Zk3 // {namespace:basic}\n  #bAlRv4X18pWxONAI // {weight:87}\n  #Scfwz74tte2bvoT1 // {hints:interval:150,100,200,-100}\n  #kf4HddkY4wQUaUAU // {shim:micro_bit::scrollString}\n  #DMmxTOrCif13ztvx $interval := math→round($interval);\n  #N4KPZT9PpUDTn9R1 if $text→is_empty then {\n    #yIHTm1wXSp2w8fes code→queue_animation_and_wait;\n    #GcGnNDNYH7xeg0od where `implicit` \\_body\\_() {\n      #YB68tFgWoN2PlJYA code→clear_screen;\n      #YvZOGJUcPcBXex8I code→pause($interval * 5);\n    }\n  }\n  else { #Qv7UTtB9F3o4pkvl if $text→count = 1 then {\n    #YeGT0NEaIr4ew2Wd code→queue_animation_and_wait;\n    #x4NHkwmJbhbUpSeh where `implicit` \\_body\\_() {\n      #jQ3KH7NUrCa547Rj $sprite := code→create_image_from_string($text);\n      #y26xiE0eE4lGwFIH $sprite→show_image(0);\n      #TxqzE2nAu66dxqXK code→pause($interval * 5);\n    }\n  }\n  else {\n    #yCPOXhiQN5kj94eK if `not` $text→starts_with(" ") then {\n      #ijFFFXMfycO3t4zT $text := " " →concat($text);\n    }\n    #mq4ZR5VqItlUQ6Ky if `not` $text→ends_with(" ") then {\n      #flvuXQ4pm95KpIM4 $text := $text→concat(" ");\n    }\n    #VED492aakcpq3QUQ $sprite := code→create_image_from_string($text);\n    #D4qMsHOTTZizH0aw $sprite→scroll_image(1, $interval);\n  }\n  } \n}\n#VQSvphGIva2j2eg4\naction unplot(#O7M8Vy1IbaXhzvLo x: Number, #GhmbCx46is3dXy3V y: Number) {\n  #x5dqUP1tUHNDDO3f // Turn off the specified LED using x, y coordinates (x is horizontal, y is vertical)\n  #xHyH4CKLbyg4Z46P // {help:functions/unplot}\n  #xFBaTe43eGHuX7jq // {namespace:led}\n  #OI57h7faeHyfUDJb // {weight:77}\n  #qbCl2JQDXjhkn4EY // {hints:x:0,1,2,3,4}\n  #bSncxBMLCswRbQ32 // {hints:y:0,1,2,3,4}\n  #ogXFG41ygqbXVmwT // {shim:micro_bit::unPlot}\n  #x742H6HoaE2M3kHZ code→set_led_state($x, $y, 0);\n  meta sync;\n}\n#O675B3CiRNXztplX\naction on_button_pressed(#M03fUuuX2m9eRu7n name: String, #LzMsXwEMSCmDzfWI body: Action) {\n  #K1FqW47X5j2qSM4S // Do something when a button (``A``, ``B`` or both ``A+B``) is pressed\n  #qpJP52P9EiGj7TmZ // {help:functions/on-button-pressed}\n  #LlzvO4Vhe7GjhJdh // {namespace:input}\n  #bb2jhwAjjludGu2o // {weight:58}\n  #fm3i5OlTIzr9FGuU // {enum:name:A=MICROBIT_ID_BUTTON_A,B=MICROBIT_ID_BUTTON_B,A+B=MICROBIT_ID_BUTTON_AB}\n  #KwFDbs7Kr12Y7FTP // {shim:micro_bit::onButtonPressed}\n  #OzSnTzWiKXQk0HlQ $evid := "on button pressed " ∥ $name;\n  #FMX7Dy8may7mfc7j code→notify_event_registration($evid);\n  #h2x2L30VBbMGVNED $btn := code→button_from_id($name);\n  #xOIGjOLy2Zmt99MW code→clear_button_handler($name);\n  #F5Y2ciTtYo87uZSG $ev := $btn→on_touch_down($touch_up);\n  #j0K6jsuWQ4V0EcaI where touch_up(x: Number, y: Number) {\n    #zvnW22u4MgaK24ge code→queue_event($body, $evid);\n  }\n  #hijH5eY42toXLOFF code→store_button_handler($name, $ev);\n  meta sync;\n}\n#Xf05xdIQbCZ19OFL\naction show_image(#x4Os5UgJK1k1DyDo @this: * Image, #WCEICn0SBZ7AnvYq x_offset: Number) {\n  #ZRFi6tDU9uTL4BAg // Shows an frame from the image at offset ``x offset``.\n  #CSX0am9r0KxyCfal // {help:functions/show-image}\n  #xo16JkWN0uUFScS2 // {namespace:image}\n  #ffde8HnYsd4thcGC // {namespace:led}\n  #s0MpoKh2adnhmM8z // {weight:69}\n  #RfVXECzwY1YjIfSF // {hints:x offset:0,5,10}\n  #UN2qrX2ZL1nyHdhU // {shim:micro_bit::showImage}\n  #AqfPdUQhQ8tq2B7e code→render_image($@this, $x_offset);\n}\n#gszRC4JNYzCIA8xJ\naction compass_heading() returns(#zcZKxlXZbsmdRJqQ degrees: Number) {\n  #xWohtN6AzrOdY6So // Get the current compass compass heading in degrees.\n  #ncq2Y4nDXRMWihmD // {help:functions/compass-heading}\n  #xELObR81CTxHPD2w // {namespace:input}\n  #m4jqzA8etiVBViTO // {weight:56}\n  #x2ui0y5T5xOVIJqE // {shim:micro_bit::compassHeading}\n  #r5T8xUyjlMatcURv if data→compass_arrow→is_invalid then {\n    #znZ4XizKuZgheSQa code→create_compass;\n  }\n  #xPo09mCqoceFQEYn $h := data→compass_heading_value;\n  #x8XQ4UchqvBIyyls if $h→is_invalid then {\n    #wRS57ygpIbvVyPSm $h := senses→heading;\n    #qErFwnuTtYjZ4nLa if $h→is_invalid then {\n      #hHLRZosDB3Q2AvMU $h := 0;\n    }\n  }\n  #T884bHCaSqLpYr2s `return` math→round($h);\n  meta sync;\n}\n#W2sYA4QxOtQbam5R\naction acceleration(#xFFtxqCX93owGiup dimension: String) returns(#x6aaLDiJe51GV4oq millig: Number) {\n  #sgNx1oCFIRqwLC6n // Get the acceleration value in milli-gravitys (when the board is laying flat with the screen up, x=0, y=0 and z=-1024)\n  #DoP0wrdqmS24eYbg // {help:functions/acceleration}\n  #lYmOu5jwgh9COs0W // {namespace:input}\n  #lmLkxkGRFp62YJly // {weight:57}\n  #LydMcPZr1SYTRbIt // {enum:dimension:x=0,y=1,z=2,strength=3}\n  #x2JSA5b4r4dcAO9P // {shim:micro_bit::getAcceleration}\n  #T4Ks27Pca5wQIBTz if data→acc_title→is_invalid then {\n    #a5RQGCAqswXV6Eiq data→acc_title := data→board→create_text(100, 40, 20, "acceleration:");\n    #xhS5Chpszr4Peq29 data→acc_title→fit_text;\n    #OO8NswAECGRtUDCO data→acc_title→color := colors→black;\n    #gV3Nm9rI8rv9WFSB data→acc_title→y := data→board→height - 80;\n    #ugQ4877rJLld9R1t data→acc_title→left := 200;\n    #xWsWgWWKrNZ8rzNs data→acceleration_x_text := data→board→create_text(100, 40, 20, "x: -000");\n    #q95IkSqEY2H4xCc6 data→acceleration_x_text→fit_text;\n    #xtbi4k3NDjlGfYi4 data→acceleration_x_text→text := "";\n    #zudWOEtdnOldj5Vt data→acceleration_x_text→y := data→board→height - 58;\n    #YaOi4wx0w2L2bRrd data→acceleration_x_text→left := 200;\n    #ydbSLoThXq28afSs data→acceleration_y_text := data→board→create_text(100, 40, 20, "y: -000");\n    #mm44LAERXjEwcw45 data→acceleration_y_text→fit_text;\n    #BMozg2TG88gKqWS5 data→acceleration_y_text→text := "";\n    #lVXLNglfbI6mlkMj data→acceleration_y_text→y := data→board→height - 36;\n    #GKJFyWtx7U9Bwkih data→acceleration_y_text→left := 200;\n    #Ij8VSPlCh9cUHLtL data→acceleration_z_text := data→board→create_text(100, 40, 20, "z: -000");\n    #xW6jBmKGvurjowgm data→acceleration_z_text→fit_text;\n    #uRhNDZQxzf60QioK data→acceleration_z_text→text := "";\n    #RaMet5qas3S6DyL2 data→acceleration_z_text→y := data→board→height - 14;\n    #xADu072x9Zk92VEH data→acceleration_z_text→left := 200;\n  }\n  #HQMGQT9aJ2NkNqVV $p := senses→acceleration_quick;\n  #x51K0wrwuxa2aoXN if $dimension→equals("x") then {\n    #nEUa5R0jRvgiO3B5 data→acceleration_x_text→color := colors→black;\n    #R6D1BOSBvoJOofLE $millig := math→round($p→x * 1024);\n  }\n  else { #hpsliRC29yxAgj7q if $dimension→equals("y") then {\n    #SYSYbYCqENPZIto2 data→acceleration_y_text→color := colors→black;\n    #o4OHeiSP0U04H5Oi $millig := math→round($p→y * 1024);\n  }\n  else {\n    #V2j2C7I62xgo9cWz data→acceleration_z_text→color := colors→black;\n    #opsthjH4KZ60PzoB $millig := math→round($p→z * 1024);\n  }\n  } \n  meta sync;\n}\n#itddg6di2mtKdWUA\naction digital_write_pin(#kihCn9i6hirgp2CN name: String, #SKnQ2VHVowJuQj03 value: Number) {\n  #fqLCfHZvhkkbdEsl // Set a pin or connector value to either 0 or 1.\n  #x8IX3LaoPHuSPP1k // {help:functions/digital-write-pin}\n  #QvcKHCKm4bLp2av4 // {namespace:pins}\n  #p48bRe3Fk04cqci0 // {weight:48}\n  #hf52W4GpWNOvCu3I // {enum:name:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2,P3=uBit.io.P3,P4=uBit.io.P4,P5=uBit.io.P5,P6=uBit.io.P6,P7=uBit.io.P7,P8=uBit.io.P8,P9=uBit.io.P9,P10=uBit.io.P10,P11=uBit.io.P11,P12=uBit.io.P12,P13=uBit.io.P13,P14=uBit.io.P14,P15=uBit.io.P15,P16=uBit.io.P16,P19=uBit.io.P19,P20=uBit.io.P20}\n  #xm4nD5CwJqCSj9nK // {shim:micro_bit::digitalWritePin}\n  meta sync;\n}\n#xqTDv45uY4g5Elo4\naction digital_read_pin(#w0yR0K9R0Vc1fl1w name: String) returns(#YJovAyKaUYf7fdeN value: Number) {\n  #bZe0bFUC7DkD6n1D // Read the specified pin or connector as either 0 or 1\n  #dmS3OiTqd3Gl4lDI // {help:functions/digital-read-pin}\n  #BnyFEXR5wKKdhtR5 // {namespace:pins}\n  #h1y7ij55abn1ywo2 // {weight:49}\n  #xXyGXmuQJNZlU61v // {enum:name:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2,P3=uBit.io.P3,P4=uBit.io.P4,P5=uBit.io.P5,P6=uBit.io.P6,P7=uBit.io.P7,P8=uBit.io.P8,P9=uBit.io.P9,P10=uBit.io.P10,P11=uBit.io.P11,P12=uBit.io.P12,P13=uBit.io.P13,P14=uBit.io.P14,P15=uBit.io.P15,P16=uBit.io.P16,P19=uBit.io.P19,P20=uBit.io.P20}\n  #KeelVlaOy290uC3r // {shim:micro_bit::digitalReadPin}\n  #YQtrwltmovQDIOC4 $pin := code→pin_by_name($name);\n  #Ko563vnmhZrsGquz if `not` $pin→is_invalid `and` $pin→mass - 1 > 0 then {\n    #xMThD47Dxan2pEwh `return` 1;\n  }\n  else {\n    #JIo9xOYMSEWhMsDF `return` 0;\n  }\n  meta sync;\n}\n#IMZk4sIic3bl2IqV\naction analog_read_pin(#MbbuFwADdbqnJ4Vx name: String) returns(#NMqOBEeeGloyin4x value: Number) {\n  #xbV7xMVLeyDT0M4e // Read the connector value as analog, that is, as a value comprised between 0 and 1023.\n  #xah2vLBRZf3FqQzb // {help:functions/analog-read-pin}\n  #xsg9Er2mxpPh27XU // {namespace:pins}\n  #n6fzrbe7G44K3Hb9 // {weight:47}\n  #x60f9nanAtGqf58c // {enum:name:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2,P3=uBit.io.P3,P4=uBit.io.P4,P10=uBit.io.P10}\n  #KbSL0ZGyQSVvXAE4 // {shim:micro_bit::analogReadPin}\n  #xYp4xr8kW2d84h5C $p := code→pin_by_name($name);\n  #x4ki5CnUbrxJQS5O `return` $p→mass - 1;\n  meta sync;\n}\n#HV4Q7fi2POmCkKXI\naction analog_write_pin(#Ij91JuDakdZUgyo4 name: String, #CeWgWOcwgRe0D5op value: Number) {\n  #eDN1oz2oyUfdvk48 // Set the connector value as analog. Value must be comprised between 0 and 1023.\n  #kTJK4kSvEWdiaeOC // {help:functions/analog-write-pin}\n  #b4oneIlT9h82g7S4 // {namespace:pins}\n  #M12kgf6X8FWgiE4P // {weight:46}\n  #RE8jT20OKbkM5oUQ // {enum:name:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2,P3=uBit.io.P3,P4=uBit.io.P4,P10=uBit.io.P10}\n  #RXZASxwspuxN3AMn // {hints:value:1023,0}\n  #AY2QBjk4JghxAoSU // {shim:micro_bit::analogWritePin}\n  #NhjrLchqhj38jvVW $value := math→round($value);\n  #VoXahNiX4SWBg3rH if $value < 0 `or` $value > 1023 then {\n    #rv064Y14no7Xfrs6 code→warning("value should be between 0 and 1023.");\n  }\n  meta sync;\n}\n#FOUJKwAjjQYg4Z01\naction create_image(#xkJvjGlZhyZHdmXg leds: String) returns(#d56UY1ORndlIMO5Z img: * Image) {\n  #xubRNFj0V14GVLwA // Create an image from a string of 0s and 1s\n  #lnGJt7NO5XSCYPCy // {help:functions/create-image}\n  #L3GzUd2cQeVret60 // {namespace:image}\n  #M8Rx5C74XOlneYTn // {weight:67}\n  #jwMX2SPoQ4OZPjFE // {language:leds:bitmatrix}\n  #uCb1uN0qGPIcavMf // {shim:micro_bit::createImage}\n  #ssLFHuIGAuT7O22r $img := code→parse_image($leds);\n  meta sync;\n}\n#xyrtyZ1z9MfBqH74\naction test_scroll_frames() {\n  #VgklC7f31Qls4an6 // {shim:}\n  #gyNJ4o0Keyf2wQO7 $sprite := code→create_image("1 1 1 1 1 1 0 0 0 0\\n0 0 0 0 0 1 0 1 0 0\\n0 1 1 1 0 1 0 1 0 1\\n0 0 0 0 0 1 0 1 0 0\\n0 0 1 0 0 1 0 0 0 0");\n  #Nnmh4QLzVUWiEDS4 $sprite→scroll_image(5, 1000);\n  meta private;\n  meta test;\n}\n#x6MHp7ZQosljXBmh\naction button_from_id(#eWMyP2eed08EGj4i name: String) returns(#zZfqvpXF2TdNNjHB btn: Sprite) {\n  #zYsdQ2fdRAyiMMz6 // {shim:}\n  #xWip9UlKCrWerh1O $btn := invalid→sprite;\n  #HaglGnKeAYSISmWn $name := $name→trim(" \\t")→to_lower_case;\n  #IqwO4RKwUHTnlHCE if $name→equals("a") then {\n    #ym1Bm5lxgGWMsD13 `return` data→button_a;\n  }\n  else { #dbL1RrfP7iYQnrPS if $name→equals("b") then {\n    #jIZBLoeBLvpv87DZ `return` data→button_b;\n  }\n  else {\n    #K8Hk416DRp2f8rBC `return` data→button_a\\u002bb;\n  }\n  } \n  meta private;\n  meta sync;\n}\n#j57JbuVLhpRqJgbE\naction brightness() returns(#BZntGnCXsZYfxF2X brightness: Number) {\n  #xThf61EiGzXmaQVh // Get the screen brightness from 0 (off) to 255 (full bright).\n  #VrdakCnATFjtHjF2 // {help:functions/brightness}\n  #QNhPnnSYegd96QKN // {namespace:led}\n  #xQl2lvnN0kK3Npk0 // {weight:75}\n  #ffmCdknGe2J5ReU5 // {shim:micro_bit::getBrightness}\n  #Y872aj2BcDz0OMq2 $sprite := data→leds→at(0);\n  #xw0Ia9fgB02ZhIYE $x := $sprite→opacity;\n  #x3An1b9z2xip0Gn9 `return` math→floor($x * 255);\n  meta sync;\n}\n#Twa3ce2bugWhfW5Y\naction set_brightness(#kQeLgaV0YyWLTlCU value: Number) {\n  #j2osE1iAluAsBgjv // Set the screen brightness from 0 (off) to 255 (full bright).\n  #x1oLl7Js4DF5vUEd // {help:functions/set-brightness}\n  #r0hfweCAmAfJleDQ // {namespace:led}\n  #GTVh8j2PgD5ThcRO // {weight:74}\n  #f7pgqybG2Xda88Bm // {hints:value:255,50,30,10,0}\n  #xqY7TLQ2N0x8G9Yv // {shim:micro_bit::setBrightness}\n  #Vw0rhEfqksjuLmTz $value := math→round($value);\n  #j4S5fdOn2dZJ1v9c if $value < 0 `or` $value > 255 then {\n    #ARlErhDNjWUNk008 code→warning("value should be between 0 and 255.");\n    #lVvkWmOH3yaOkd6P `return` ;\n  }\n  #w1r41Dx8m1rxeJey $opacity := $value / 255;\n  #MB3OiAEWMZ7wvrZH foreach sprite in data→leds\n  do {\n    #u4R2mHlwhMSXKBTj $sprite→set_opacity($opacity);\n  }\n  meta sync;\n}\n#amts8p71bcrUxkz1\naction test_main() {\n  #xyiiPHS90ToCvNsw // {shim:}\n  #xWzTyxr4F353Sjnb for 0 ≤ i < 5 do {\n    #xfa5QOwui5DgOLIp for 0 ≤ j < 5 do {\n      #CIb4JiIp4VnOBWLz code→plot($i, $j);\n    }\n  }\n  #ap6UE2At48Euv4sK code→set_brightness(0);\n  #ZOaTPEpAJrW2mnS7 code→pause(1000);\n  #xXe1OlzRTbkfj9Nm code→set_brightness(100);\n  #xUMgLebswWRJzs1J code→pause(1000);\n  #jNQcDqEmnENrFh42 code→set_brightness(50);\n  #HiVvh4TiFo0Epu2m code→pause(1000);\n  #gP2D5I1dvKO6fP23 while true do {\n    #Xt41f42aNzuj5nuU code→show_animation("0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\\n0 1 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 0\\n1 0 0 0 1 0 1 0 1 0 0 0 1 0 0 0 1 0 1 0\\n0 1 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 0\\n0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0", 400);\n  }\n  meta private;\n  meta test;\n}\n#SqFERoUjMO52Yumn\naction show_animation(#LyDDqLjSvn1Mm4Xg leds: String, #C8902m9EtYbNj0u2 interval: Number) {\n  #i6Ya8Ok0jXfIWDwx // Shows a sequence of LED screens as an animation with an ``interval`` delay between each frame\n  #IMLoWk7aPkY2iqZ1 // {help:functions/show-animation}\n  #n2TGAB2Ool7dvNeM // {namespace:basic}\n  #x9issdCQmgXJGFgm // {language:leds:bitmatrix}\n  #xGPHI0rWxwi7n4s6 // {hints:interval:400,300,500,600}\n  #PnCSsOeThMMBAVXy // {shim:micro_bit::showAnimation}\n  #Ruz1jL2FF4H8oDpB $interval := math→round($interval);\n  #acZvOWOMmtBi8EK8 $img := code→parse_image($leds);\n  #vveYnNG2g6NXdP5g $img→scroll_image(5, $interval);\n}\n#SNaX2qGs1EJq6FCk\nvar led_indexes : Sprite_Set {\n  // {shim:}\n  transient = true;\n}\n#YEEItevulMc5K8Y2\naction update_axis() {\n  #xPVzjwLZvZBJ1x54 // {shim:}\n  #dkkLIU2fisYJPDgs for 0 ≤ i < 5 do {\n    #L6R7REP2RTV1ScG3 $sprite := data→led_indexes→at($i);\n    #x05FmmbOP9lsYovE $sprite→x := 211 + $i * 48;\n    #UkRsH3J4KCopUW6L $sprite→@bottom := 138;\n  }\n  #x9NcX2IPJTEr0YWB for 0 ≤ j < 5 do {\n    #GkDVBnIsjWst55Xl $sprite := data→led_indexes→at(5 + $j);\n    #xscN82XsBQ0HyOK0 $sprite→right := 180;\n    #ARG4f5kv6L542Vrc $sprite→y := 165 + $j * 48;\n  }\n  #XTCqT7R96r4UdteD data→led_x_index_legend→@bottom := 120;\n  #xDJRmybQdn3KETdh data→led_x_index_legend→left := 398;\n  #SjZ8WZmGZlQWutzs data→led_y_index_legend→left := 157;\n  #s2Hk7HlUFJH93vtY data→led_y_index_legend→@top := 347;\n  meta private;\n  meta sync;\n}\n#xaPlYNe5tmsCPc2x\naction running_time() returns(#gweptbT46k6jE8Lw now: Number) {\n  #jT8dmGMOR5HrvMA2 // Gets the number of milliseconds elapsed since power on.\n  #wgPDaZahSf78v2p8 // {help:functions/running-time}\n  #aSsocNV70Kl3gcq5 // {namespace:input}\n  #Tu7WFLYb2Qoht2MC // {shim:micro_bit::getCurrentTime}\n  #z2i5g6cse2ex2Lcf $seconds := time→now→subtract(data→start_time);\n  #VRUr0JWDsoqvcfjD $ms := math→round($seconds * 1000.0);\n  #h4YOt8m3rm6vNTWU `return` $ms;\n  meta sync;\n}\n#xOO43E2NIkwrkXxd\naction show_number(#arqB8R393DWmG4yx value: Number, #xwSeYvwN5k4Kt277 interval: Number) {\n  #f4ANMXr8KMpT2G8n // Scroll a number on the screen and shift by one column every ``interval`` milliseconds. If the number fits on the screen (i.e. is a single digit), does not scroll.\n  #carGbAdhyB3bdddY // {help:functions/show-number}\n  #xMbTyq6JVNUTdcS9 // {namespace:basic}\n  #BXU1lVjllXSyR2ie // {weight:89}\n  #OuyYvK30y62ROGkM // {hints:interval:150,100,200,-100}\n  #dxD9lszdBNwzGAUk // {shim:micro_bit::scrollNumber}\n  #x5tg98AeJkbUQbiv $value := math→round($value);\n  #C3O0Rmqfj0wV31Uh $interval := math→round($interval);\n  #oIZAtpmgCfqgmA3B code→show_string($value→to_string, $interval);\n}\n#QY3E6cU6eBZ2OJSF\nvar prelude\\u002ecpp : String {\n  is\\_resource = true;\n  url = "data:text/plain;base64,I2luY2x1ZGUgIk1pY3JvQml0VG91Y2hEZXZlbG9wLmgi";\n  transient = true;\n}\n#G1Hz2h0zbwEBMp8r\naction parse_image(#x0HNlskTjdSJeH7D leds: String) returns(#xysJj47ftGjOcxII img: * Image) {\n  #QCBfLADs0uy227pF // {shim:}\n  #ThhId49geuiERw0b if $leds→is_empty then {\n    #zMq8tYbUScrWhnVh `return` code→create_sprite(5, 5);\n  }\n  #oob6dV9UWsHDaLfX $coll := $leds→replace("\\n", " ")→split(" ");\n  #Mtf8A3quiblg1vce $rows := $leds→split("\\n")→count;\n  #jXV4K5hN3HnyKe4H if $rows ≠ 5 then {\n    #zt8c282yV7aLQUxE // create empty image\n    #ciffAzoM4UqzmFDZ `return` code→create_sprite(5, 5);\n  }\n  #tcARpGMvK8xwXtqj contract→assert($rows = 5, "");\n  #YKBULFF4pHgepPU0 $frames := $coll→count / ($rows * $rows);\n  #vQR4hrlzcnNZSZ4W $img := code→create_sprite($rows * $frames, $rows);\n  #HLRmLq08LpAB4okw $k := 0;\n  #Y31WIkDlikmi6Enb for 0 ≤ i < $rows do {\n    #xuoRzFEt1jKUNb07 for 0 ≤ j < $frames * $rows do {\n      #qS2DEgnlZI2rzI6E $bit := $coll→at($k);\n      #BF25h8Q5DS7t75Ol $img→leds→set_item($j, $i, $bit→to_number * 255);\n      #aH1dE2Wf26cTcJPy $k := $k + 1;\n    }\n  }\n  meta private;\n  meta sync;\n}\n#UtnSCSPxXT40kUae\naction create_buttons() {\n  #NhHdk2ZIg12mfIYm // {shim:}\n  #HPSfi8YXpzMd424M code→create_A_button();\n  #h5cYiVMZiqGPQpHd code→create_B_button();\n  #qATt6iPL4iFDhhLM code→create_A\\u002bB_button();\n  meta private;\n  meta sync;\n}\n#ykpAyylV4sU5Im4Z\naction test_print_text() {\n  #xNfHTwPX2YSGu0Ec // {shim:}\n  #XYfFtFoX41cu3orG code→\\_libinit;\n  #U38gBCeZHv0VcHP2 code→show_string("ABCDEFGHIJKLMNOPQRSTUVWXYZ", 120);\n  #wh2snLHufOKmIF0L code→show_string("abcdefghijklmnopqrstuvwxyz", 120);\n  #LCp56xZb2hT4h2LC code→show_string("£", 100);\n  #xs64irnHsnCW82vb code→show_string("£££", 100);\n  #sEboYWEAbegqYbMZ code→show_string("0123456789", 100);\n  meta private;\n  meta test;\n}\n#GNCSnnlE2fFVnKGK\naction test_buttons() {\n  #W2mFTHLBePxLBlHZ // {shim:}\n  #E5YEE67bsbTys0jb code→\\_libinit;\n  #xm6Flc2jfLQMGfFQ code→on_button_pressed("A");\n  #gS4N82WpF6tkuelR where `implicit` \\_body\\_() {\n    #ON7phOtrAHh9Jejz code→show_string("A", 100);\n  }\n  #gmr7aY7MXcYsbncb code→on_button_pressed("B");\n  #Rp8qiY1vzviZ2kWq where `implicit` \\_body\\_() {\n    #Wf7Z3Bn5plHJ78I1 code→show_string("B", 100);\n  }\n  #NO9PrQ5LFZfQfagg code→on_button_pressed("A+B");\n  #POC91PYG4214TJp0 where `implicit` \\_body\\_() {\n    #xYIv0xzaNMKmq0z3 code→show_string("A+B", 150);\n  }\n  meta private;\n  meta test;\n}\n#xoBb197IePtkqyhM\nvar count : Number {\n  // {shim:}\n  transient = true;\n}\n#VHsIMy7uJfZzPoMX\naction set_pixel(#P0GQI7mqQZLddWdU @this: * Image, #E5qctGDlXgeNbS9G x: Number, #reArL0ANylbd8RZg y: Number, #cjLlFOO9xgu09YmX value: Boolean) {\n  #xOswNPjjGMm1sUfm // Set a pixel state at position ``(x,y)``\n  #InGkIRcHpl4IXVQK // {help:functions/set-pixel}\n  #zIS2o2dBpWF9RDx8 // {namespace:image}\n  #l8YA4111fgihgo2H $b := 0;\n  #mOmRFng7uyfg3XLR if $value then {\n    #ET2Fj3fuKjgQ93Hh $b := 255;\n  }\n  #fYNF76FqaZnZ4tL1 $@this→set_pixel_brightness($x, $y, $b);\n  meta sync;\n}\n#xNKMIAKQZ2XYQAqe\naction pixel(#TVxswFwyZs0INV5W @this: * Image, #QLIezAtdKSgv2ohr x: Number, #yMN5fgUMFfzObabg y: Number) returns(#BGQ1D2Ag9wHaQCLC state: Boolean) {\n  #rJhKHlNK4kKD4ezD // Get the pixel state at position ``(x,y)``\n  #JuPT9jZBFV6JJwj8 // {help:functions/pixel}\n  #xwxPjJYSo2B5Vkkq // {namespace:image}\n  #JTtgaUATi8Oo7he4 // {hints:x:0,1,2,3,4}\n  #Itieq6wpbGiz7w6r // {hints:y:0,1,2,3,4}\n  #KUGL4al4LBtoR7uX `return` $@this→pixel_brightness($x, $y) > 0;\n  meta sync;\n}\n#aqdR2AyKfGIWjWKX\naction clear(#TcdNAKsIbu986dqh img: * Image) {\n  #HyVQr9pzr4lAWRAX // Clears all the pixels in the image\n  #Vo18UEQT4sDp4o21 // {help:functions/clear}\n  #cupoiXR5e4GmsVYr // {namespace:image}\n  #xW1Iq3aG39sLTugT // {shim:micro_bit::clearImage}\n  #K4ZFXN4ytxFTfH2s for 0 ≤ i < $img→leds→count do {\n    #kA4W7IWpYB4o2624 $img→leds→set_at($i, 0);\n  }\n  meta sync;\n}\n#xq3rVK5p1wAVqxhU\nvar button_a\\u002bb : Sprite {\n  // {shim:}\n  transient = true;\n}\n#Ms9O2l7vxlDJVrtZ\nvar compass_arrow : Sprite {\n  // {shim:}\n  transient = true;\n}\n#dv4l34Vyg1pMFJgt\naction create_compass() {\n  #ZZtsSd44QAQ2UWxn // {shim:}\n  #xAlkfPeoWDvYa4Ix data→compass_text := data→board→create_text(100, 40, 20, "359°");\n  #VQG2dir1qpnkppWG data→compass_text→fit_text;\n  #qsbHlfR2wqbqLObO data→compass_text→y := data→board→height - 80;\n  #TXLyGWO4oXkQ202f data→compass_text→left := 30;\n  #uksFN3lypHUnVGUv data→compass_text→color := colors→black;\n  #UrsppZ77d3E3glgs $pic := media→create_picture(100, 100);\n  #BfAgyhEWuRzF042T $pic→fill_ellipse(0, 0, 100, 100, 0, "#989898" →to_color);\n  #pFWjh4kboAdRfglW $pic→fill_path(0, 0, 0, colors→white, "M 50 0 L 60 70 L 50 65 L 40 70 Z");\n  #xQl6MSp9TWUBTMEl data→compass_arrow := data→board→create_picture($pic);\n  #Slbh4hBK115AyrsX data→compass_arrow→width := 80;\n  #JMHYz83jCwfR2BiG data→compass_arrow→left := 60;\n  #ea8auwV1sLWF3At4 data→compass_arrow→y := data→board→height - 48;\n  #TLghe1aK8X4Y0P2L data→compass_heading_value := invalid→number;\n  #xP4D15cRYTcP3EEq data→compass_arrow→on_touch_down($touch_down);\n  #PGl4eapBlwlN5FSH where touch_down(x: Number, y: Number) {\n    #i4clvVN4ppe22bFC code→read_compass_arrow($y, $x);\n  }\n  #zO37ABILHahWBLkf data→compass_arrow→on_drag($dragged);\n  #qt3STQH7aH6YY1w8 where dragged(x: Number, y: Number, delta_x: Number, delta_y: Number) {\n    #ZHM1jr4hFYuNOCEN code→read_compass_arrow($y, $x);\n  }\n  meta private;\n  meta sync;\n}\n#JiZO327G3fL0SZGF\nvar compass_text : Sprite {\n  // {shim:}\n  transient = true;\n}\n#z8UAvCstrXYppXV7\nvar compass_heading_value : Number {\n  // {shim:}\n  transient = true;\n}\n#Hv7ujfF0nVCz8sx5\naction read_compass_arrow(#OHGqICBfnbz4QhvP y: Number, #xRbEEfKhc3Yxm43U x: Number) {\n  #ZD0GSuKo2Clfn6zQ // {shim:}\n  #g22ewR3VZal24Vqg $angle := math→rad_to_deg(math→atan2($y - data→compass_arrow→y, $x - data→compass_arrow→x) + math→\\u03c0 / 2);\n  #xnty57tqtklkEP8u if $angle < 0 then {\n    #SGb40PfCmS1yrV7d $angle := $angle + 360;\n  }\n  #pvXAKVWysSrTMdcR data→compass_heading_value := $angle;\n  meta private;\n  meta sync;\n}\n#FLON3QSP0fwDIZC4\naction test_compass() {\n  #MW4yaiY9wynUWlMR // {shim:}\n  #PPW482lSAJyUQ9ri code→\\_libinit;\n  #xAE8v7KmRMicbljm code→calibrate;\n  #FsMBbmufaJix02xe $degrees := code→compass_heading;\n  #xse7eRxbWddqX6nL $millig := code→acceleration("x");\n  #tlXXCrB6Djt9HGiJ data→board→set_debug_mode(true);\n  meta private;\n  meta test;\n}\n#xzhTBaRFA7w2suUl\naction test_button_a\\u002bb() {\n  #b4aW2uElgK2cbabi // {shim:}\n  #VozcHml4ANVDRCzV code→\\_libinit;\n  #ntNRRFZ3bcxc6HtO code→on_button_pressed("A+B");\n  #I444JVhpwg64uUp3 where `implicit` \\_body\\_() {\n    #ayHPmOCSVMv8QTqa code→show_string("good", 100);\n  }\n  meta private;\n  meta test;\n}\n#trpRg6yTXKX8M8cY\nvar acceleration_x_text : Sprite {\n  // {shim:}\n  transient = true;\n}\n#xj4QxpGx2XVt6SIa\nvar acceleration_y_text : Sprite {\n  // {shim:}\n  transient = true;\n}\n#PM0d2btuj5TMrQKD\nvar acceleration_z_text : Sprite {\n  // {shim:}\n  transient = true;\n}\n#D7945sGiSVeFOiz0\naction mg_to_string(#xVpQut6zF7b3yH2y g: Number) returns(#Wac7i7TRPpbskC9b mg2: String) {\n  #xrwjNX0PVUwch4D3 // {shim:}\n  #GB9LrYmhIg6CxRoh $mg := math→round($g * 1000)→to_string;\n  #Hd2xoPM6C0l4kyj2 `return` $mg;\n  meta private;\n  meta sync;\n}\n#I0wd2ww0cWi61IbW\naction test_accelerometer() {\n  #tdPH2SckDQFP0AHb // {shim:}\n  #c0W2EHJjeOCb9SP7 code→\\_libinit;\n  #x4TQZaZGf4vYeOAp data→board→set_debug_mode(true);\n  #j7MfPADEGw5Pi5im while true do {\n    #xnxjKVT2qERsVvmc $x := code→acceleration("x");\n    #A5yEcY6mbAfb6TPA $y := code→acceleration("y");\n    #xxSBeHns1qEX4s5O $z := code→acceleration("z");\n    #i8PmYalgHlZL9oim $pitch := code→rotation("pitch");\n    #fWfo2WcvU0qLKUYo $angle := code→rotation("roll");\n    #B3OVJ2E408AL9uqx code→pause(100);\n  }\n  meta private;\n  meta test;\n}\n#db4usuIXbJkUwwL3\nvar bkg : Sprite {\n  // {shim:}\n  transient = true;\n}\n#UxZtwFWDOl2eBWHS\nvar acc_title : Sprite {\n  // {shim:}\n  transient = true;\n}\n#NB71vR2acuoxOzhF\naction update_compass() {\n  #GUKjAqnGheX4V0Fo // {shim:}\n  #ngsZsBasKScY4T5V if `not` data→compass_arrow→is_invalid then {\n    #zZbyXaPFEJrI4vnn $degrees := code→compass_heading;\n    #fP6woTbM4WvDhu5z if data→compass_heading_value→is_invalid then {\n      #SVWo2h2OTKLTN9Zu data→compass_arrow→angle := - $degrees;\n    }\n    else {\n      #jtGD4e2BPt7sPQ2f data→compass_arrow→angle := $degrees;\n    }\n    #xmqom9DO2N4UCxUo data→compass_text→text := $degrees ∥ "°";\n    #xye0othn81opwsR6 data→compass_text→fit_text;\n    #BoQ8NUUvE6oK18RC data→compass_text→left := 30;\n  }\n  meta private;\n  meta sync;\n}\n#Duo2QkiHEzLUwbPP\naction update_acceleration() {\n  #xYTnumJe8pmdMnOj // {shim:}\n  #T5H4jq33oZ2P97M2 if `not` data→acceleration_x_text→is_invalid `or` `not` data→acceleration_y_text→is_invalid `or` `not` data→acceleration_z_text→is_invalid then {\n    #Y4gIGmGYXPYUSSnc $p := senses→acceleration_quick;\n    #oonnY6sWxw0tq6ag if `not` data→acceleration_x_text→is_invalid then {\n      #xld1RvlF3fr7fUpj data→acceleration_x_text→text := "x: " ∥ code→mg_to_string($p→x);\n      #bLiTgPxiTV1D6D73 data→acceleration_x_text→fit_text;\n      #cob34YxVwT4lSg5N data→acceleration_x_text→left := 200;\n    }\n    #xE54GZuni6hnc2LU if `not` data→acceleration_y_text→is_invalid then {\n      #CK4RRChJoo5LTaD4 data→acceleration_y_text→text := "y: " ∥ code→mg_to_string($p→y);\n      #xtH0Dr43TgaKViYo data→acceleration_y_text→fit_text;\n      #x6204VDd8dJKb7bj data→acceleration_y_text→left := 200;\n    }\n    #xgm4X9sFTILN4PkS if `not` data→acceleration_z_text→is_invalid then {\n      #rKo1iSU2MLyJrjiu data→acceleration_z_text→text := "z: " ∥ code→mg_to_string($p→z);\n      #xdR4vtWBQlLAqFj8 data→acceleration_z_text→fit_text;\n      #X477zJbexlWyCpOd data→acceleration_z_text→left := 200;\n    }\n  }\n  meta private;\n  meta sync;\n}\n#eVKtTh73RfddrPbU\naction in_background(#x67Zj4FKKV2jt3w9 body: Action) {\n  #JS61XiP3XLxBGcSJ // Schedules code that run in the background.\n  #xOGy2Csz0dMRNvwY // {help:functions/in-background}\n  #xeIeSmXBocppJ249 // {namespace:control}\n  #tpcIQODlauXc4x94 // {shim:micro_bit::runInBackground}\n  #H9LSVq6QNak6kS1E if $body→is_invalid then {\n    #DcDY2ImNUd2qaRhd `return` ;\n  }\n  #M0p9EJ9u34sADrAp app→allow_other_events;\n  #xK0Ei4Ey5Aa6ktal `async` $body→run;\n  meta sync;\n}\n#z6mgAgBseIwhSA9q\nvar pins : Sprite_Set {\n  // {shim:}\n  transient = true;\n}\n#S4AaF6H9Bir1YG2B\naction init_pins() {\n  #xvHUpiQyRqSw08j4 // {shim:}\n  #x48sTDN6eBa0xXyy if data→pins→is_invalid then {\n    #xVyNflPdb6lsKBCK data→pins := data→board→create_sprite_set;\n    #FNXCkGWZPHZHdFMp $color := colors→blue;\n    #bEGdJ995axSAPUnk $coll := create→Collection_of→Number;\n    #OBYzjLeMGZGSwlRp $coll→add(25);\n    #PJgCYPHIzLXbTs1X $coll→add(145);\n    #XUScfAJ414uNtG3o $coll→add(280);\n    #FLd4X2wW20GtInS2 for 0 ≤ i < $coll→count do {\n      #bCVbJpfp40lEL102 $left := $coll→at($i);\n      #Afqsons4pseBNxj0 $pin := code→create_pin($color, $left);\n      #xIgLaDCrGz1xSf4r data→pins→add($pin);\n    }\n  }\n  meta private;\n  meta sync;\n}\n#A9xZmVQH2nPrrN8o\naction pin_by_name(#pznPOV8prsiYdNhL name: String) returns(#QC9UtfUA0ZQiyxvN sprite2: Sprite) {\n  #YLwrAONQnaRmH9mk // {shim:}\n  #ololoiFjuAzCfyDe $index := $name→trim("pP\\t")→to_number;\n  #j0yR5tWcQjVZyB1T $sprite := data→pins→at($index);\n  #qz6N2BmKUFCpxz4N if `not` $sprite→is_invalid then {\n    #xGr49fRupLhPmlEq $sprite→show;\n  }\n  #aZHYIJGu0HFUl4SU `return` $sprite;\n  meta private;\n  meta sync;\n}\n#RtVnuDAS2Tqp1LSg\naction update_pin(#xLFmUabqhUFi0ZiP sprite: Sprite) {\n  #OLMKJMgxATEpHRHu // {shim:}\n  #oa5bznMuZaSILcw4 if $sprite→mass - 1 ≤ 0 then {\n    #xzLXU96Zk9wUo7bD $sprite→set_color(colors→transparent);\n  }\n  else {\n    #ZMq4rk7QkaT2NOsD $sprite→set_color(colors→green);\n  }\n  #v6NNVvhZ2YzYJw2D data→board→update_on_wall;\n  meta private;\n  meta sync;\n}\n#hEU77nyoMCRSSAqa\naction test_pins() {\n  #xynDU3S3kjEYy18D // {shim:}\n  #rK2IutWay0PFVvqq code→\\_libinit;\n  #t829Xv42HzfA2nAG code→digital_write_pin("P0", 1);\n  #INTK9O6xrjxHkJ9g code→digital_write_pin("P1", 1);\n  #aeUtxvIe4YYta4Nz code→digital_write_pin("P2", 1);\n  #opMdOZDBv2MTyBXq code→digital_write_pin("P8", 1);\n  #TVwRJDzgrpIJuTZ2 code→digital_write_pin("P12", 1);\n  #s6YLWaYNLlbaI6bq code→digital_write_pin("P16", 1);\n  #IUhZptHB34mvrxW2 $value2 := code→digital_read_pin("P0");\n  #hPJl24rmbFWsf4a3 $value := code→digital_read_pin("P1");\n  #NVG04rX4uPRfEh2d $value3 := code→digital_read_pin("P2");\n  #MKOvVDJ6dfcQo0u1 $value4 := code→digital_read_pin("P8");\n  #xVOeb35l5ezwAQqx $value5 := code→digital_read_pin("P12");\n  #x6tsh2LJoLcSYHih $value6 := code→digital_read_pin("P16");\n  #RU4iMpCdo1kUigzr code→analog_write_pin("P1", 1000);\n  #HbZSxLTByep2h4qZ code→pause(1000);\n  #hpOIzAtXk5fN5c5M while true do {\n    #IDR9JN8Q2N13Bumo code→digital_write_pin("P0", 0);\n    #xnKEa428MreHgCNq code→pause(1000);\n    #xKnTarBirfEP9bL5 code→digital_write_pin("P0", 1);\n    #ieC6KUFGlIGc2sCf code→pause(1000);\n  }\n  meta private;\n  meta test;\n}\n#x871W29FACCUQhgl\naction create_pin(#xwnvtwXoIoa22y4Z color: Color, #IVU23UfeIRgACC6Q left: Number) returns(#m3RyCzsn2DCgDD7W pin2: Sprite) {\n  #Aq6gfS2XnSqEO42R // {shim:}\n  #Px6ORF6xlL3ssrZ0 $pin := data→board→create_rectangle(50, 108);\n  #xUih2I3DqrfQGQC2 $pin→set_color($color);\n  #bVSo2lipkr25Ga2P $pin→@bottom := data→bkg→@bottom - 5;\n  #xDtMKVUu2fjw8gEH $pin→mass := 1;\n  #uOBdkNKC5tgxgMmu $pin→set_friction(1);\n  #qCCZl1zpt7Jc32cS $pin→hide;\n  #IRReqhZX8YsLhC44 $pin→left := $left;\n  #xgbiNSJLlb6Ct3Xf $pin→on_touch_down($touch_down);\n  #dnm1P3MFrEzgk7ZV where touch_down(x: Number, y: Number) {\n    #gQ2vyq2Jd7fOV7g6 $pin→mass := 1024;\n    #ELw1bdG72zYVtFzz code→update_pin($pin);\n  }\n  #x5e0KdFm44Im64AZ $pin→on_touch_up($touch_up);\n  #n0fTpU4XnqkfP4qT where touch_up(x: Number, y: Number) {\n    #hn3r2pa6wYAY4u8w $pin→mass := 1;\n    #nvk6QNLw1m6DrV9M code→update_pin($pin);\n  }\n  #zUDQyhCWpFFvbmjL code→update_pin($pin);\n  #wemNuUcwH4xjwwNw `return` $pin;\n  meta private;\n  meta sync;\n}\n#tYt6bUhy3Nm9mpAR\naction test_plot_unplot() {\n  #xXot6id59vwJvRh2 // {shim:}\n  #xtZorNV3Gqgbg1S0 code→\\_libinit;\n  #xQdOxnawNQbuLBIm for 0 ≤ k < 2 do {\n    #PihMnuz9A57aOBax for 0 ≤ i < 5 do {\n      #xY5ZW4seHSQm14te for 0 ≤ j < 5 do {\n        #xk8RVw6DDoorZhsL $b := code→point($i, $j);\n        #aBSVSfZkN77ha2X4 if $b then {\n          #lytsEo6NBz3VlT47 code→unplot($i, $j);\n        }\n        else {\n          #vGAQtJ9z5CBiW5U9 code→plot($i, $j);\n        }\n        #puQuMFzF3KMG1e4q code→pause(500);\n      }\n    }\n  }\n  meta private;\n  meta test;\n}\n#xCn8l4L2PfqCeiNR\naction calibrate() {\n  #a592ki5YrzeI6a2X // Obsolete, compass calibration is automatic.\n  #jvwA9fcOAMuHgvd3 // {help:functions/calibrate}\n  #K69mm2lCHD9ANu8u // {namespace:input}\n  #xodr3UlxL4wpG04K // {weight:0}\n  #ZJoAB7BFrtoAg633 // {shim:TD_NOOP}\n}\n#OsMsC0czXS2YrjdU\naction forever(#xYRk46PsjFkdlEOm body: Action) {\n  #a1ZdSLsAwD6Rv0FM // Repeats the code forever in the background. On each iteration, allows other codes to run.\n  #Xa3HrwxE9W3Z3Erw // {help:functions/forever}\n  #Bo8g50yakYNCYSa1 // {namespace:basic}\n  #x4L41J1h0VUQZ1s2 // {weight:55}\n  #fJ2PtEUzMS9ydxsM // {shim:micro_bit::forever}\n  #xxnWmxDbWPRikigP $c := code→tick("forever");\n  #xCLA2qrMQhTjL6yy if $c > 10 then {\n    #XSOwmzMlmmLIQMlN code→warning("You are creating a lot of `forever` loops!");\n  }\n  #Pj4YeL1fWpHS4Rqe code→in_background;\n  #DzqAW6AtT7qsGylm where `implicit` \\_body\\_() {\n    #VewPBkQpxjnPzsoN while true do {\n      #xxjM7mD3FQ3G0HYN $body→run;\n      #q2kJK2U1MbTh4d4L code→pause(20);\n    }\n  }\n  meta sync;\n}\n#x2UhK7IwofqmWDW2\nvar background_scene : Picture {\n  is\\_resource = true;\n  url = "https://microbit0.blob.core.windows.net/pub/prcwhomc";\n  transient = true;\n}\n#gqSUQusGllAt4X3R\naction init_axis() {\n  #QkvjQqSfn5L41Ph4 // {shim:}\n  #q7cMCQpYupmXc3oS data→led_indexes := data→board→create_sprite_set;\n  #x36Llp6v7tD4OgDD for 0 ≤ l < 2 do {\n    #xPsYPYIXtbJBJDDl for 0 ≤ k < 5 do {\n      #WVBiy4HYa9LPzM9f $index := data→board→create_text(100, 40, 16, $k→to_string);\n      #GP3ccJkbFZoGfIOo $index→fit_text;\n      #bZpgALZp1Y7Pqvwq $index→set_color(colors→white);\n      #rJHNHPvhK2CuW6K5 data→led_indexes→add($index);\n    }\n  }\n  #xZvCdCFHs2yBG1WD data→led_x_index_legend := data→board→create_text(100, 40, 20, "X");\n  #kWxcFIVT5naWzvWl data→led_x_index_legend→fit_text;\n  #xryAhH2rPFt7CGEu data→led_x_index_legend→set_color(colors→white);\n  #Swmd5OgE0kLUq6vI data→led_y_index_legend := data→board→create_text(100, 40, 20, "Y");\n  #toIFKA5P9IJU4fyF data→led_y_index_legend→fit_text;\n  #v88nKL6Mx0ObDSQb data→led_y_index_legend→set_color(colors→white);\n  meta private;\n  meta sync;\n}\n#gbl636zYs8BjKywu\naction background_animation() {\n  #cXcKTdQsmOf72PyZ // {shim:}\n  #sbOu1sddCBbbzLto $anim_style := math→random(2);\n  #zWd8PXsYN214PuSi if $anim_style = 0 then {\n    #xOUvhBkpwLPAJKQE for 0 ≤ x < 5 do {\n      #XztMutk0HQK5N4bE for 0 ≤ y < 5 do {\n        #V0LLzNL1lk6N8oiG code→rotate_pixel($x, $y, ($x + $y) / 11);\n      }\n    }\n  }\n  else { #N8Fm2yynpg44tcFN if $anim_style = 1 then {\n    #WFnJlsyfcMVWjUdA for 0 ≤ x < 5 do {\n      #O0vgqGWuikN0Igzt for 0 ≤ y < 5 do {\n        #oqHsWxXgwop5m3UQ code→rotate_pixel($y, $x, (8 - $x - $y) / 11);\n      }\n    }\n  }\n  else { } } \n  #W55d2CMIzJ17AYTx time→run_after(20 + math→random(20));\n  #l3mxxkPpmOIFL0MI where `implicit` \\_body\\_() {\n    #hPG2SGmZ0v82ge2v code→background_animation;\n  }\n  meta private;\n  meta sync;\n}\n#xY4SKFl04lUKP0Tz\nvar back_leds : Sprite_Set {\n  // {shim:}\n  transient = true;\n}\n#s4TpycEQnK9omxJE\naction rotate_pixel(#xQ6b7K01ABZHGoIM x: Number, #LByh34Z47Y1t7STj y: Number, #xXPwmL1c4yZhN70E delay: Number) {\n  #hDHLiXE2IoG2LAIC // {shim:}\n  #ZhRYM1cp26cnzoZ1 $index := code→index($x, $y);\n  #Z4jTOPX6Hf1TWJsy $back_led := data→back_leds→at($index);\n  #f9URVMJG14plLGON $led := data→leds→at($index);\n  #Axwwjnz8AnLRT1zD $anim := $led→create_animation;\n  #BXSGIclwP5UQZVWn $anim→sleep($delay);\n  #T1txW266DHqoj2VL $anim→turn_to(0.7, "expo", "inout", 360);\n  #JmbebaijvsuwQhiZ $anim := $back_led→create_animation;\n  #NqByltxb37T2IH33 $anim→sleep($delay);\n  #NwwgANo3MHaQnz5l $anim→turn_to(0.7, "expo", "inout", 360);\n  meta private;\n  meta sync;\n}\n#Y42hygGODxnJXaRw\naction led_index_anim(#QVFm7dBCUmhXNZ2d back_led: Sprite, #x2kGm9JYaUim4lt7 j: Number, #L5TjxqpH6tKGkOTd i: Number) {\n  #mZsj4T6J4M2uKZuV // {shim:}\n  #bU0sdnTBX02bATEy $back_led→on_tap($tapped);\n  #QGyzuuvKa9ITgnVd where tapped(x: Number, y: Number) {\n    #x4h4i0Xr2uWxRBvm $anim2 := $back_led→create_animation;\n    #xsMdEt8ccoRpbNYI $anim2→beat(0.3, 3, 1.2);\n    #s6iFPhs6n9jPEG7J $hint := data→board→create_text(100, 40, 22, "x=" ∥ $j ∥ ", y=" ∥ $i);\n    #D6b4Qvjr06KgKv45 $hint→fit_text;\n    #gJIdoRKO7jwnlbzz $hint→set_text_baseline("bottom");\n    #qx3Y9mRjHEwbnF6m $hint→@bottom := $back_led→y;\n    #zGixTQ9Kuk2m6Whe $hint→left := $back_led→x;\n    #FTPPf6p4gUiFcxxb $anim := $hint→create_animation;\n    #DyAb59RCz24FZLtG $anim→fade_in(0.5, "cubic");\n    #lOOqrViiBQ4e4jku $anim→sleep(.5);\n    #XJ5iEvyaoe36o2rc $anim→puff_out(0.5, "cubic", 1.5);\n    #DoyEH0iisHSMcqKe $anim→delete;\n  }\n  meta private;\n  meta sync;\n}\n#xB22l4bTEuykprY5\nvar current_animation : Number {\n  // {shim:}\n  transient = true;\n}\n#IhVzhAZz2OeYSRgl\naction test_multi_scroll() {\n  #B6N0Ow6kWjo3o2k4 // {shim:}\n  #jwlm0IOR4ZnMvote code→\\_libinit;\n  #vvz4qs78fnml39OQ code→on_button_pressed("A");\n  #LFV6TOZvYxsiDM0g where `implicit` \\_body\\_() {\n    #VEQJMbAIvN5XNwiw code→show_string("ABC", 100);\n  }\n  #dH24BpCdIjxC0udR code→on_button_pressed("B");\n  #xGRNMYqr5Oobo6Iv where `implicit` \\_body\\_() {\n    #xdthtZf2mEoAmQO3 code→show_leds("0 0 0 0 0\\n0 1 1 1 0\\n0 1 0 1 0\\n0 1 1 1 0\\n0 0 0 0 0", 400);\n  }\n  meta private;\n  meta test;\n}\n#cEmz3y3ohmdp6AXY\naction init_eyes() {\n  #xufwLhiDE0bQWtRU // {shim:}\n  #bjkoPxbCzJ4pL2uK data→eye_y := 86;\n  #NkEaRwjz7rWxJKQK data→eye_left := 276;\n  #v783038Eh682f2OC data→eye_right := 324;\n  #eiAcEwONRspI5U37 data→left_eye := data→board→create_ellipse(13, 13);\n  #kvrBgQVgS7G0K2jA data→left_eye→color := colors→blue;\n  #Xl8q5Ud55nALw4Qz data→left_eye→left := data→eye_left;\n  #NEMjm8SQ7r0P45jG data→left_eye→@top := data→eye_y;\n  #pshgYorYc1f0W1RK data→left_eye→set_friction(1);\n  #R6QEKy3rQdbXOaX1 data→right_eye := data→board→create_ellipse(13, 13);\n  #cOqnG6djBmo9cbBW data→right_eye→color := data→left_eye→color;\n  #GZdwztrKXD2QRxAJ data→right_eye→left := data→eye_right;\n  #k85veqcrDilOuwDt data→right_eye→@top := data→eye_y;\n  #HRun2WhRntsb626o data→right_eye→set_friction(1);\n  #xvDkOawcF4uscx4W time→run_after(5);\n  #fO2SW4IL13o44Bv6 where `implicit` \\_body\\_() {\n    #B3LDJWeGHtW8E4MP code→background_eye_animation;\n  }\n  meta private;\n  meta sync;\n}\n#O8kw8lSdWvW7wrc8\nvar left_eye : Sprite {\n  // {shim:}\n  transient = true;\n}\n#PRwAVo3AkO2aHbCQ\nvar right_eye : Sprite {\n  // {shim:}\n  transient = true;\n}\n#xhHLX6h5QdTnhalv\nvar eye_left : Number {\n  // {shim:}\n  transient = true;\n}\n#HWT93EnmgbqC9YKH\nvar eye_y : Number {\n  // {shim:}\n  transient = true;\n}\n#x4DvJKIPIgQ0E92R\nvar eye_right : Number {\n  // {shim:}\n  transient = true;\n}\n#qMsgTIJWIq1mQwZd\naction background_eye_animation() {\n  #H6xmVCztL24M7rH5 // {shim:}\n  #Yp9i79aYpUQDzMh3 $anim := data→right_eye→create_animation;\n  #yODxrazNsQmAFCaS $anim→turn_to(1, "cubic", "inout", - 360);\n  #cxDUduuWUiSMNJ7P $anim := data→left_eye→create_animation;\n  #bgGZqI1SAwMsPhxz $anim→turn_to(1, "cubic", "inout", - 360);\n  #WVY3japNIXYmFVbI time→run_after(20 + math→random(20));\n  #iOueH51c9marewEa where `implicit` \\_body\\_() {\n    #yItKPwNOdgar5Drt code→background_eye_animation;\n  }\n  meta private;\n  meta sync;\n}\n#kaq96iZh93dUdQ0Z\naction test_forever() {\n  #gIoxApIo64EHyPn8 // {shim:}\n  #ltm6kY4KiWLUR5jc code→\\_libinit;\n  #ZdeN0qz5MQzjBkkP code→forever;\n  #xPjmmLzsEKaNVoWr where `implicit` \\_body\\_() {\n    #qNI9KS2fM6Fo1pP4 skip;\n  }\n  meta private;\n  meta test;\n}\n#WuJjn92QznNVUE3Z\nvar font_chars : String {\n  is\\_resource = true;\n  url = "data:text/plain;base64,ezB4MCwgMHgwLCAweDAsIDB4MCwgMHgwLCAweDgsIDB4OCwgMHg4LCAweDAsIDB4OCwgMHhhLCAweDRhLCAweDQwLCAweDAsIDB4MCwgMHhhLCAweDVmLCAweGVhLCAweDVmLCAweGVhLCAweGUsIDB4ZDksIDB4MmUsIDB4ZDMsIDB4NmUsIDB4MTksIDB4MzIsIDB4NDQsIDB4ODksIDB4MzMsIDB4YywgMHg5MiwgMHg0YywgMHg5MiwgMHg0ZCwgMHg4LCAweDgsIDB4MCwgMHgwLCAweDAsIDB4NCwgMHg4OCwgMHg4LCAweDgsIDB4NCwgMHg4LCAweDQsIDB4ODQsIDB4ODQsIDB4ODgsIDB4MCwgMHhhLCAweDQ0LCAweDhhLCAweDQwLCAweDAsIDB4NCwgMHg4ZSwgMHhjNCwgMHg4MCwgMHgwLCAweDAsIDB4MCwgMHg0LCAweDg4LCAweDAsIDB4MCwgMHhlLCAweGMwLCAweDAsIDB4MCwgMHgwLCAweDAsIDB4OCwgMHgwLCAweDEsIDB4MjIsIDB4NDQsIDB4ODgsIDB4MTAsIDB4YywgMHg5MiwgMHg1MiwgMHg1MiwgMHg0YywgMHg0LCAweDhjLCAweDg0LCAweDg0LCAweDhlLCAweDFjLCAweDgyLCAweDRjLCAweDkwLCAweDFlLCAweDFlLCAweGMyLCAweDQ0LCAweDkyLCAweDRjLCAweDYsIDB4Y2EsIDB4NTIsIDB4NWYsIDB4ZTIsIDB4MWYsIDB4ZjAsIDB4MWUsIDB4YzEsIDB4M2UsIDB4MiwgMHg0NCwgMHg4ZSwgMHhkMSwgMHgyZSwgMHgxZiwgMHhlMiwgMHg0NCwgMHg4OCwgMHgxMCwgMHhlLCAweGQxLCAweDJlLCAweGQxLCAweDJlLCAweGUsIDB4ZDEsIDB4MmUsIDB4YzQsIDB4ODgsIDB4MCwgMHg4LCAweDAsIDB4OCwgMHgwLCAweDAsIDB4NCwgMHg4MCwgMHg0LCAweDg4LCAweDIsIDB4NDQsIDB4ODgsIDB4NCwgMHg4MiwgMHgwLCAweGUsIDB4YzAsIDB4ZSwgMHhjMCwgMHg4LCAweDQsIDB4ODIsIDB4NDQsIDB4ODgsIDB4ZSwgMHhkMSwgMHgyNiwgMHhjMCwgMHg0LCAweGUsIDB4ZDEsIDB4MzUsIDB4YjMsIDB4NmMsIDB4YywgMHg5MiwgMHg1ZSwgMHhkMiwgMHg1MiwgMHgxYywgMHg5MiwgMHg1YywgMHg5MiwgMHg1YywgMHhlLCAweGQwLCAweDEwLCAweDEwLCAweGUsIDB4MWMsIDB4OTIsIDB4NTIsIDB4NTIsIDB4NWMsIDB4MWUsIDB4ZDAsIDB4MWMsIDB4OTAsIDB4MWUsIDB4MWUsIDB4ZDAsIDB4MWMsIDB4OTAsIDB4MTAsIDB4ZSwgMHhkMCwgMHgxMywgMHg3MSwgMHgyZSwgMHgxMiwgMHg1MiwgMHg1ZSwgMHhkMiwgMHg1MiwgMHgxYywgMHg4OCwgMHg4LCAweDgsIDB4MWMsIDB4MWYsIDB4ZTIsIDB4NDIsIDB4NTIsIDB4NGMsIDB4MTIsIDB4NTQsIDB4OTgsIDB4MTQsIDB4OTIsIDB4MTAsIDB4MTAsIDB4MTAsIDB4MTAsIDB4MWUsIDB4MTEsIDB4M2IsIDB4NzUsIDB4YjEsIDB4MzEsIDB4MTEsIDB4MzksIDB4MzUsIDB4YjMsIDB4NzEsIDB4YywgMHg5MiwgMHg1MiwgMHg1MiwgMHg0YywgMHgxYywgMHg5MiwgMHg1YywgMHg5MCwgMHgxMCwgMHhjLCAweDkyLCAweDUyLCAweDRjLCAweDg2LCAweDFjLCAweDkyLCAweDVjLCAweDkyLCAweDUxLCAweGUsIDB4ZDAsIDB4YywgMHg4MiwgMHg1YywgMHgxZiwgMHhlNCwgMHg4NCwgMHg4NCwgMHg4NCwgMHgxMiwgMHg1MiwgMHg1MiwgMHg1MiwgMHg0YywgMHgxMSwgMHgzMSwgMHgzMSwgMHgyYSwgMHg0NCwgMHgxMSwgMHgzMSwgMHgzNSwgMHhiYiwgMHg3MSwgMHgxMiwgMHg1MiwgMHg0YywgMHg5MiwgMHg1MiwgMHgxMSwgMHgyYSwgMHg0NCwgMHg4NCwgMHg4NCwgMHgxZSwgMHhjNCwgMHg4OCwgMHgxMCwgMHgxZSwgMHhlLCAweGM4LCAweDgsIDB4OCwgMHhlLCAweDEwLCAweDgsIDB4NCwgMHg4MiwgMHg0MSwgMHhlLCAweGMyLCAweDQyLCAweDQyLCAweDRlLCAweDQsIDB4OGEsIDB4NDAsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHgwLCAweDAsIDB4MWYsIDB4OCwgMHg0LCAweDgwLCAweDAsIDB4MCwgMHgwLCAweGUsIDB4ZDIsIDB4NTIsIDB4NGYsIDB4MTAsIDB4MTAsIDB4MWMsIDB4OTIsIDB4NWMsIDB4MCwgMHhlLCAweGQwLCAweDEwLCAweGUsIDB4MiwgMHg0MiwgMHg0ZSwgMHhkMiwgMHg0ZSwgMHhjLCAweDkyLCAweDVjLCAweDkwLCAweGUsIDB4NiwgMHhjOCwgMHgxYywgMHg4OCwgMHg4LCAweGUsIDB4ZDIsIDB4NGUsIDB4YzIsIDB4NGMsIDB4MTAsIDB4MTAsIDB4MWMsIDB4OTIsIDB4NTIsIDB4OCwgMHgwLCAweDgsIDB4OCwgMHg4LCAweDIsIDB4NDAsIDB4MiwgMHg0MiwgMHg0YywgMHgxMCwgMHgxNCwgMHg5OCwgMHgxNCwgMHg5MiwgMHg4LCAweDgsIDB4OCwgMHg4LCAweDYsIDB4MCwgMHgxYiwgMHg3NSwgMHhiMSwgMHgzMSwgMHgwLCAweDFjLCAweDkyLCAweDUyLCAweDUyLCAweDAsIDB4YywgMHg5MiwgMHg1MiwgMHg0YywgMHgwLCAweDFjLCAweDkyLCAweDVjLCAweDkwLCAweDAsIDB4ZSwgMHhkMiwgMHg0ZSwgMHhjMiwgMHgwLCAweGUsIDB4ZDAsIDB4MTAsIDB4MTAsIDB4MCwgMHg2LCAweGM4LCAweDQsIDB4OTgsIDB4OCwgMHg4LCAweGUsIDB4YzgsIDB4NywgMHgwLCAweDEyLCAweDUyLCAweDUyLCAweDRmLCAweDAsIDB4MTEsIDB4MzEsIDB4MmEsIDB4NDQsIDB4MCwgMHgxMSwgMHgzMSwgMHgzNSwgMHhiYiwgMHgwLCAweDEyLCAweDRjLCAweDhjLCAweDkyLCAweDAsIDB4MTEsIDB4MmEsIDB4NDQsIDB4OTgsIDB4MCwgMHgxZSwgMHhjNCwgMHg4OCwgMHgxZSwgMHg2LCAweGM0LCAweDhjLCAweDg0LCAweDg2LCAweDgsIDB4OCwgMHg4LCAweDgsIDB4OCwgMHgxOCwgMHg4LCAweGMsIDB4ODgsIDB4MTgsIDB4MCwgMHgwLCAweGMsIDB4ODMsIDB4NjB9";\n  transient = true;\n}\n#PMFLUE1q1CuJ4ghz\naction init_font() {\n  #b0vtErRVv2lKiwyD // {shim:}\n  #so2fife4MqLt1Dln if data→font→is_invalid then {\n    #hRTF6gnQkpgcVI0F $font_rows := art→font_chars→trim("{}")→split(",")→map_to→Number($converter);\n    #gnhl2igarTz8w2X1 where converter(elt: String) returns (result: Number) {\n      #NZd95tR0pei7srD9 $x := $elt→to_number;\n      #bjwdIjRW58xl4ZgI contract→assert( `not` $x→is_invalid, $elt);\n      #VE234B61ItgkKgVL `return` $x;\n    }\n    #GXwn4PKhSZinH5Jl $nb := $font_rows→count;\n    #bcE3hNwJudeu449H contract→assert(math→mod($nb, 5) = 0, "invalid font data");\n    #ws1lTcfPCXYdibgp $n := $nb / 5;\n    #FNuWAd8Sjya04cTv data→font := code→create_sprite($nb, 5);\n    #xvsY0LHtmGPgd3TL for 0 ≤ c < $n do {\n      #NHblt5yTsRCX4KY1 for 0 ≤ row < 5 do {\n        #Krg7mRods3Dl3k2y $char := $font_rows→at($c * 5 + $row);\n        #PWFqQxwKPwt6h2Wd for 0 ≤ col < 5 do {\n          #NOwv6OryF0clX7lo if bits→and_uint32($char, bits→shift_left_uint32(1, $col)) ≠ 0 then {\n            #Cx4707D9Ly7f7wl3 data→font→leds→set_item($c * 5 + 4 - $col, $row, 255);\n          }\n        }\n      }\n    }\n  }\n  meta private;\n  meta sync;\n}\n#lXqPrHVzWaoZMhQU\nvar font : * Image {\n  // {shim:}\n  transient = true;\n}\n#kn3pxm1GvYlNa2FM\naction copy(#xDSPvIZLimSE2MgA src: * Image, #x3OdCZm4sg12zaMQ x_src_index: Number, #W2oZZTGMGJa7NNyS length: Number, #we1A4KgB1twL5dAS target: * Image, #SMzdIeBXlWN3rk9Z x_target_index: Number) {\n  #xVS27yM2iLbckrF4 // {shim:}\n  #itHlEE9vAYKoLLwH contract→requires($x_target_index ≥ 0 `and` $x_target_index + $length ≤ $target→leds→row_count, "");\n  #xSw5Z2RjNt6KkO1O contract→requires($x_src_index ≥ 0 `and` $x_src_index + $length ≤ $src→leds→row_count, "");\n  #YLi1rzwGdt51yvgW for 0 ≤ x < $length do {\n    #wOepVxKUEXepB4JQ for 0 ≤ y < 5 do {\n      #byEw4wKZ8D34CjTA $value := $src→leds→item($x_src_index + $x, $y);\n      #xgoui2MU0NwSX63I $target→leds→set_item($x_target_index + $x, $y, $value);\n    }\n  }\n  meta private;\n  meta sync;\n}\n#GBVlNX6jjV0ZeEsK\naction test_show_image() {\n  #vT52tges4o3Y4sKH // {shim:}\n  #tJWkRScB87ES2vh5 code→\\_libinit;\n  #B3ht5L7s2p9R2mUJ code→create_image("");\n  #xaDxNVhBCfNUzkgF $img := code→create_image("1 0 0 0 0\\n0 1 0 0 0\\n0 0 1 0 0\\n0 0 0 1 0\\n0 0 0 0 1");\n  #QVb2KOULf0Nlfuhv $img→show_image(0);\n  #UVUpjEQQ4dp7wzHj $img→show_image( - 2);\n  #F9pi4aSzEu9kjmyZ $img→show_image(2);\n  meta private;\n  meta test;\n}\n#Clf38zxkZIrobSlk\naction on_before_pause(#xk8GIyGNr2wlsynF body: Action) {\n  #tzjretiGNHu9Jbzz // **Simulator only!** Registers an event to run before pause.\n  #nAL0A4jjuTPWjd0J // {shim:}\n  #xjnRGo2GMH2Qy3Fi // {weight:0}\n  #xbU8a1LTxptE5w5M data→before_pause := $body;\n  meta private;\n  meta sync;\n}\n#lPJG6os6F3M65GjY\nvar before_pause : Action {\n  // {shim:}\n  transient = true;\n}\n#CCgTYpjWRTwnp9VZ\nvar doc : Document {\n  is\\_resource = true;\n  transient = true;\n}\n#xuFJQyZVR24l4lZD\naction pin_is_pressed(#PqStokDT5lOf1jxR name: String) returns(#tEhrD6EfDVOcSbFI pressed: Boolean) {\n  #azmYPGjkodVTzZEW // Get the pin state (pressed or not). Requires to hold the ground to close the circuit.\n  #vBhRQqSJZf4WYIle // {help:functions/pin-is-pressed}\n  #yiahMKDpg9PMqNVd // {namespace:input}\n  #x8XLiwKMO5Evc4TB // {weight:58}\n  #HNt4QiENW2fWc4fU // {enum:name:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2}\n  #QRFOhtCMkFfrBa2r // {shim:micro_bit::isPinTouched}\n  #SShWUIP3VYby3fRd code→init_pins;\n  #WsVEccEOZ0aG95J8 $name := $name→trim(" \\t")→to_lower_case;\n  #Ta2Yaf4GHnPo1g9S if data→board→touched then {\n    #xo2G8eJDCmsq4gT4 $target := code→pin_by_name($name);\n    #GtVffND0qQpD2Uky $p := data→board→touch_current;\n    #x3Gr77Zk0mZawflE data→finger→set_pos($p→x, $p→y);\n    #xB28uqAlbJAhYFzu if data→finger→overlaps_with($target) then {\n      #Ws3G9qMFZIAcnvDZ `return` true;\n    }\n  }\n  #adGG0ohDxSfXMItY if $name→equals("p0") `and` senses→is_key_pressed("0") then {\n    #b741DDwiWIafJlj6 `return` true;\n  }\n  else { #xN11da8I4Uh5uCI0 if $name→equals("p1") `and` senses→is_key_pressed("1") then {\n    #MwC8h4HyPUYqG0xK `return` true;\n  }\n  else { #KyslP3kLRnPWaw2f if $name→equals("p2") `and` senses→is_key_pressed("2") then {\n    #HvlIx1YVevH1jKxa `return` true;\n  }\n  else { } } } \n  #rE7lIBNdOOjEf4VE `return` false;\n  meta sync;\n}\n#J3NOIEutRnzUY4bD\naction on_pin_pressed(#xSs4Svf30EPMhoVj name: String, #BxKLhpiGqRcDwB1h body: Action) {\n  #kReLjZqoQYm1X75l // Do something when a pin(``P0``, ``P1`` or both ``P2``) is pressed.\n  #jHDQ6E4HWmRlwyxo // {help:functions/on-pin-pressed}\n  #yj4K6E3sCCK1V32N // {namespace:input}\n  #UZIoGA4CKSwhMxlf // {weight:57}\n  #OgqWJNwCulcyJT7l // {enum:name:P0=MICROBIT_ID_IO_P0,P1=MICROBIT_ID_IO_P1,P2=MICROBIT_ID_IO_P2}\n  #xZ0ArWZwbu4SBuBn // {shim:micro_bit::onPinPressed}\n  #jDgDoJLo4kvbVPvk $evid := "on pin pressed " ∥ $name;\n  #nPpJQoCs8nAIigcE code→notify_event_registration($evid);\n  #AC4jsXJ71LfQp2kk code→clear_pin_handler($name);\n  #h5fUFp7OQ9fEwJRv $btn := code→pin_by_name($name);\n  #g7K6590eu6r59eIv $ev := $btn→on_touch_up($touch_up);\n  #xSk8PXoFQvpiueOt where touch_up(x: Number, y: Number) {\n    #NbkK6P2y62Y9tOIt code→queue_event($body, $evid);\n  }\n  #P1GQOzd8c8e0hPJt code→store_pin_handler($name, $ev);\n  meta sync;\n}\n#pqc71fRJDE9AyREy\nvar led_x_index_legend : Sprite {\n  // {shim:}\n  transient = true;\n}\n#VTpQmE9c2z7zHZvZ\nvar led_y_index_legend : Sprite {\n  // {shim:}\n  transient = true;\n}\n#x6wCsmeEKLVxXaL2\naction test_pin_pressed() {\n  #YbjZ28PiH7cboofJ // {shim:}\n  #xrTaGQCG4tQ7BuaQ code→\\_libinit;\n  #uk4llAEL60uunwoN code→on_pin_pressed("P0");\n  #xOX7XEk48KmshvAM where `implicit` \\_body\\_() {\n    #K9SewNiqXXHAAr9I code→show_number(0, 150);\n  }\n  #vMbUCvZwCzUVIPCj code→on_pin_pressed("P1");\n  #ZNMMtevlmkH4UeG4 where `implicit` \\_body\\_() {\n    #xd8cEg1eTi89m63q code→show_number(1, 150);\n  }\n  #M792rT11iDEw20Qp code→on_pin_pressed("P2");\n  #V3NF8Cc4SsoAbwjt where `implicit` \\_body\\_() {\n    #SkiHZpgB4MGkk3M6 code→show_number(2, 150);\n  }\n  meta private;\n  meta test;\n}\n#xfEzD2r0WjZppPTL\naction test_devices() {\n  #xM2V2HK64vD5CCP6 // {shim:}\n  #SF8Y7AzLVf79J9Hv code→\\_libinit;\n  #cTuQbNGhz19mZ9t8 code→on_notified("incoming call");\n  #GyS1jjevaGOtFn7t where `implicit` \\_body\\_() {\n    #qV2L159TGxJqtFWY code→show_string("call", 150);\n  }\n  #fDLKJmiUUW69SvE1 code→on_notified("display on");\n  #xJ0TOWIoWn36b1L2 where `implicit` \\_body\\_() {\n    #x3DQ6nvE2f4Rqd2h code→show_string("on", 150);\n  }\n  #pzhqPTIc6apYk7pA code→on_notified("display off");\n  #tIPIEP27KGu6QXrc where `implicit` \\_body\\_() {\n    #oPQrc25PShs2hY12 code→show_string("off", 150);\n  }\n  #TN6fi4j2zlOS6ZZN code→on_notified("incoming message");\n  #xovkFszj0eJqEcde where `implicit` \\_body\\_() {\n    #jJR01sQvfk3C30u4 code→show_string("msg", 150);\n  }\n  #xlty8np4b3hGTffF code→on_notified("orientation landscape");\n  #n0VbKITZgs222bFS where `implicit` \\_body\\_() {\n    #z2ehI01nRsXB7Jri code→show_string("landscape", 150);\n  }\n  #xo2CAyPVq82gihJv code→on_notified("orientation portrait");\n  #ANNOwYn5M8CNBLsx where `implicit` \\_body\\_() {\n    #w3RcKVkf5ZwT0Yoy code→show_string("portrait", 150);\n  }\n  #SP0ycUjbfsOKsd6J code→on_notified("shaken");\n  #yRyJSh232waGLyFz where `implicit` \\_body\\_() {\n    #nQjSnZdNP45rtSYC code→show_string("shaken", 150);\n  }\n  #xYsvR3f5jJsVfu8P code→tell_remote_control_to("play");\n  #VXZ2fZLriKdH5o25 code→pause(1000);\n  #VHKRZyj11yrItaeA code→tell_remote_control_to("pause");\n  #iuTCLYFn24YBEBAV code→pause(1000);\n  #NFjU8XLb5qH4qi0s code→tell_remote_control_to("stop");\n  #oizDycRjQI2sU0fO code→pause(1000);\n  #x6tXtLrOjbyLj71J code→tell_remote_control_to("next track");\n  #AaGU8mHo0WmDNVGm code→pause(1000);\n  #x9ptNjJbOEhQzr2G code→tell_remote_control_to("previous track");\n  #hM89M5NlZSA5aZes code→pause(1000);\n  #m2qkS2n4QlIgr8rU code→tell_remote_control_to("forward");\n  #gH1nNlcw62Yd6tF5 code→pause(1000);\n  #YC9iNYuSkosLnOiS code→tell_remote_control_to("rewind");\n  #xmbSINcx1jnrao3s code→pause(1000);\n  #S4fvdbVeCn1mU7N5 code→tell_remote_control_to("volume up");\n  #xpPB2ugK28IXwA4W code→pause(1000);\n  #c6mF6g3EZsN9kyMH code→tell_remote_control_to("volume down");\n  #yr5uOJyqn6aV8Ge0 code→pause(1000);\n  #yb0esPi6Iy51trEl code→tell_camera_to("launch photo mode");\n  #NzJXZ4xVLRd4Ejyg code→pause(1000);\n  #hCY4GTQ592HR6MDS code→tell_camera_to("launch video mode");\n  #w00LIesoogGZI3SX code→pause(1000);\n  #q7dc4Ems5bX8bUjw code→tell_camera_to("start video capture");\n  #w1XPyVxyf4I43cxv code→pause(1000);\n  #Ig5RtNNeoA2RR4Vp code→tell_camera_to("stop video capture");\n  #VTD5jpdXtP0RSz4w code→pause(1000);\n  #xbMlLP406gUHPHdg code→tell_camera_to("stop photo mode");\n  #x7UpsxVmiuAKf2O2 code→pause(1000);\n  #mji2VTG8pklTAlZT code→tell_camera_to("stop video mode");\n  #xzqQy9QuYzBSFcU4 code→pause(1000);\n  #osyLpvx7y5Rqez47 code→raise_alert_to("display toast");\n  #xgMtYE2VyuuK0SUh code→pause(1000);\n  #vplr1SUmLrtoEKw1 code→raise_alert_to("ring alarm");\n  #mLMYnQoFZOYU4bBv code→pause(1000);\n  #Ti16hcwPzBwmNNj8 code→raise_alert_to("ring alarm 2");\n  #nrJs9EsvqT9kFj7T code→pause(1000);\n  #abtVG7M5AmVIebxk code→raise_alert_to("ring alarm 2");\n  #CuUOhQyH7q1POsMW code→pause(1000);\n  #wM3rylf47Mzw2D1I code→raise_alert_to("ring alarm 3");\n  #hpxVivTxxOSR8Pqr code→pause(1000);\n  #c15239nr9VsPiIo9 code→raise_alert_to("ring alarm 4");\n  #xI4HNzsLpPpgty82 code→pause(1000);\n  #N76wkVa5Gu9l3vAc code→raise_alert_to("ring alarm 5");\n  #rS2fSXiqIn63Nape code→pause(1000);\n  #AXiIgG5uqhZfftXK code→raise_alert_to("ring alarm 6");\n  #dnOMZGp6VT48T3g9 code→pause(1000);\n  #lQfV8k1SdXdWnQyy code→raise_alert_to("find my phone");\n  #u4p6kOo9s73HoGoD code→pause(1000);\n  #r4nWD2K8jmaMjfI0 code→raise_alert_to("play ringtone");\n  #KzEts7e3LbwEb2bL code→pause(1000);\n  #Llmpr8UCY4YttCbj code→raise_alert_to("play sound");\n  #TKfJJ60q6Z52Y2Zs code→pause(1000);\n  #NmGpttcHIFb2l2NP code→raise_alert_to("vibrate");\n  meta private;\n  meta test;\n}\n#FsXN4qs00Niar2I3\naction tell_camera_to(#p3kEX3EqeufdJmG1 @event: String) {\n  #wY3y0ASAfRrgGtG2 // Sends a ``camera`` command to the parent device.\n  #T9jxpLbgaFQwkQy8 // {namespace:devices}\n  #w2wLNoci3MafdcN6 // {weight:19}\n  #eeF0Fl9hopb7V9WB // {help:functions/tell-camera-to}\n  #Iqur1M60Xd5273Xa // {shim:micro_bit::devices::camera}\n  #gQP8w2Pvp4ygp502 // {enum:event:take photo=MES_CAMERA_EVT_TAKE_PHOTO,start video capture=MES_CAMERA_EVT_START_VIDEO_CAPTURE,stop video capture=MES_CAMERA_EVT_STOP_VIDEO_CAPTURE,toggle front-rear=MES_CAMERA_EVT_TOGGLE_FRONT_REAR,launch photo mode=MES_CAMERA_EVT_LAUNCH_PHOTO_MODE,launch video mode=MES_CAMERA_EVT_LAUNCH_VIDEO_MODE,stop photo mode=MES_CAMERA_EVT_STOP_PHOTO_MODE,stop video mode=MES_CAMERA_EVT_STOP_VIDEO_MODE}\n  #yDtIYowWcPuh4mNt code→show_ble_event_notification("camera", $@event);\n  meta sync;\n}\n#CzqRWuR2SyiUNdAg\naction raise_alert_to(#pHqCn0ZWIdyNQSVu @event: String) {\n  #vUmqTLUCj4fjFygl // Sends an ``alert`` command to the parent device.\n  #etLJqyeZ8q3eRTtj // {namespace:devices}\n  #gv2Lztj0odNeIJvt // {weight:18}\n  #ZCcDnTF7ZiSNaNNA // {help:functions/raise-alert-to}\n  #oq6L8Lgvq4qKxsZb // {shim:micro_bit::devices::alert}\n  #gEJkfOlRyGq3Cq72 // {enum:event:display toast=MES_ALERT_EVT_DISPLAY_TOAST,vibrate=MES_ALERT_EVT_VIBRATE,play sound=MES_ALERT_EVT_PLAY_SOUND,play ringtone=MES_ALERT_EVT_PLAY_RINGTONE,find my phone=MES_ALERT_EVT_FIND_MY_PHONE,ring alarm=MES_ALERT_EVT_ALARM1,ring alarm 2=MES_ALERT_EVT_ALARM2,ring alarm 3=MES_ALERT_EVT_ALARM3,ring alarm 4=MES_ALERT_EVT_ALARM4,ring alarm 5=MES_ALERT_EVT_ALARM5,ring alarm 6=MES_ALERT_EVT_ALARM6}\n  #feboFmM8Q6SZnWuH code→show_ble_event_notification("alert", $@event);\n  meta sync;\n}\n#DFpXK66KYosuH2qD\naction create_A\\u002bB_button() {\n  #oqndQEOZsX7D7VuV // {shim:}\n  #Q7HJhFDhF31D1CyH data→button_a\\u002bb_inner := code→create_circle(525, 532);\n  #AezoGLweK6YLo95L // {help:functions/on-logo-up}\n  #jOo9NfJ7oRgpQ8Y4 data→button_a\\u002bb_inner→set_color(colors→black);\n  #nyeqaqfbg2o1utr4 data→button_a\\u002bb_inner→set_gradient(false);\n  #Z8fAqSYlCuXG6dtB data→button_a\\u002bb := code→create_circle(data→button_a\\u002bb_inner→x, data→button_a\\u002bb_inner→y);\n  #qL8vzC4Ua3ivvgm6 data→button_a\\u002bb→opacity := 0;\n  #pgsgfJbTVcGs9ULn data→button_a\\u002bb→width := 84;\n  #QWB0KqvVxcoyhy7H data→button_a\\u002bb→height := 84;\n  #Ktr2xDEXBGgQzQ6q data→button_a\\u002bb→x := data→button_a\\u002bb_inner→x;\n  #jMQz8inx0Hu43J4J data→button_a\\u002bb→y := data→button_a\\u002bb_inner→y;\n  #zS6N4kaRn2wel37F data→button_a\\u002bb→on_touch_down($touch_down);\n  #PJA6VUPCxlzWw0Nv where touch_down(x: Number, y: Number) {\n    #a2abvjq67X2J8yEU data→button_a\\u002bb_inner→set_color(colors→orange);\n    #R67xt5S6i2Tg17ti data→button_a_inner→set_color(colors→orange);\n    #tPC2aVNQVkohUc32 data→button_b_inner→set_color(colors→orange);\n  }\n  #HPkfFmXxktWAAMgq data→button_a\\u002bb→on_touch_up($touch_up);\n  #xWF6IyOF9X9GA09M where touch_up(x: Number, y: Number) {\n    #x3diqaUUBItAgH4p data→button_a\\u002bb_inner→set_color(colors→black);\n    #VWrTjWQVsOX82B1C data→button_a_inner→set_color(colors→black);\n    #mbfRvtByD8SP9Ard data→button_b_inner→set_color(colors→black);\n  }\n  #xrF43zP5h8mPVPIH $a\\u002bb_text := data→board→create_text(100, 40, 20, "A+B");\n  #OjSlLvcGgdRux2nI $a\\u002bb_text→set_color(colors→black);\n  #zds87sWwxUvSi4Kc $a\\u002bb_text→fit_text;\n  #MQQ53MhcsvV8Y81c $a\\u002bb_text→x := data→button_a\\u002bb→x;\n  #bs4gmywDvvLuEtqt $a\\u002bb_text→@bottom := data→button_a\\u002bb→@top + 10;\n  meta private;\n  meta sync;\n}\n#w7xLLit7W5biNqRL\naction create_B_button() {\n  #CDDoGfAZ7oqJpEWi // {shim:}\n  #Hxnhl22NTBAKVXpI data→button_b_inner := code→create_circle(525, 229);\n  #OJJgFsj90lBLVD6Y data→button_b_inner→set_color(colors→black);\n  #gtC6KmnU2Z5hTgIN data→button_b_inner→set_gradient(false);\n  #xPpbA1GFc7ufOgwp data→button_b := code→create_circle(data→button_b_inner→x, data→button_b_inner→y);\n  #xVcUpX8PlDVShy0U data→button_b→opacity := 0;\n  #myD38vc5KVYqxJjy data→button_b→width := 112;\n  #nk4Ah7b8Pz5Fxyaa data→button_b→height := 112;\n  #dnWpTTRMAGH5LR7K data→button_b→x := data→button_b_inner→x;\n  #xJ8biFwM65yBGrz4 data→button_b→y := data→button_b_inner→y;\n  #W8ipqb8qzv6DDJ9Z data→button_b→on_touch_down($touch_down);\n  #bZFBsmfIhtPST9HV where touch_down(x: Number, y: Number) {\n    #YiPXtiy40dPPjGdZ data→button_b_inner→set_color(colors→orange);\n  }\n  #Qrm9tjgmXuwskqsV data→button_b→on_touch_up($touch_up);\n  #IsiFhvitsyr3BwTC where touch_up(x: Number, y: Number) {\n    #kecNwKPdnS1ycmCt data→button_b_inner→set_color(colors→black);\n  }\n  meta private;\n  meta sync;\n}\n#h2y3t2CTwSZ5po2P\nvar button_b_inner : Sprite {\n  // {shim:}\n  transient = true;\n}\n#xBES128hctdLOPWp\nvar button_a_inner : Sprite {\n  // {shim:}\n  transient = true;\n}\n#Bv2s8Hio3iAdQCss\nvar button_a\\u002bb_inner : Sprite {\n  // {shim:}\n  transient = true;\n}\n#xrHM168gvIqFDWL4\naction on_notified(#ja99pvTLEWszGU6R @event: String, #u92yApOZzhWqx4x9 body: Action) {\n  #x3KDXHT4kdAt87Pj // Registers code to run when the device notifies about a particular event.\n  #e13mHRXUDt9X8SUj // {shim:micro_bit::onDeviceInfo}\n  #mc3m4mu0EMkFqfIo // {namespace:devices}\n  #x4sPBtRE9IMDXiSl // {enum:event:incoming call=MES_DEVICE_INCOMING_CALL,incoming message=MES_DEVICE_INCOMING_MESSAGE,orientation landscape=MES_DEVICE_ORIENTATION_LANDSCAPE,orientation portrait=MES_DEVICE_ORIENTATION_PORTRAIT,shaken=MES_DEVICE_GESTURE_DEVICE_SHAKEN,display off=MES_DEVICE_DISPLAY_OFF,display on=MES_DEVICE_DISPLAY_ON}\n  #m2Y4FjpJXWArRpT0 // {help:functions/on-notified}\n  #Bux3nIa98lMeKv4u code→notify_event_registration("on notified " ∥ $@event);\n  #MDbRckoe8yhfH0Uw code→pairing_warning;\n  meta sync;\n}\n#xPty4Z96gEpPmXcC\nvar counters : Json_Builder {\n  // {shim:}\n  transient = true;\n}\n#uEOBEDRjLlEAJaV2\naction tick(#j2GGfLeDOHbsXZjl evid: String) returns(#xpE0YoFiEwnltNko c2: Number) {\n  #MeueTVmAKDsL2X3a // {shim:}\n  #nYuZwihGP24HOD9e $c := data→counters→number($evid);\n  #xCTFs2GTH5YoqiBt if $c→is_invalid then {\n    #YkiKdcxa0RNOk1Dd $c := 0;\n  }\n  #EKI3rwRF5c4S12YH $c := $c + 1;\n  #XDi6TARievQiaslS data→counters→set_number($evid, $c);\n  #M4BkiNLAQCyBMo2M `return` $c;\n  meta private;\n  meta sync;\n}\n#Mv24F812mJ3GfnmU\naction notify_event_registration(#g02jGBBa2sA62OQi evid: String) {\n  #HgJ7hFDs0h0KhMo0 // Used by library authors to notify an event.\n  #p4kX3FVGjvu2Bf44 // {shim:TD_NOOP}\n  #WV4LEgRBjvrM2NyD // {weight:0}\n  #xK4U2ElyXeq4kVxN // {namespace:simulator}\n  #JDNtwbXSOeQxOX3c // {action:libsonly}\n  #U3QSq4Bys0HpYoiD $c := code→tick($evid);\n  #CSLMchaNHEeAo9ZX if $c > 10 then {\n    #xGRcYnuDXDMpcEgQ code→warning("You register this event a lot. Move it out of the loop maybe?");\n  }\n  meta sync;\n}\n#iyYckFFAkzncX0z5\naction test_image_partial_paste() {\n  #gGEVbkFZvwn26omq // {shim:}\n  #qNYSv82a9bufwSar code→\\_libinit;\n  #rUN44T7OGT1zz25f code→create_image("0 0 0 0 1\\n0 0 0 1 0\\n0 0 1 0 0\\n0 1 0 0 0\\n1 0 0 0 0")→show_image(0);\n  #Z32wXINdisyPQwFl code→create_image("0 0 0 0 0\\n0 0 1 0 0\\n0 0 1 0 0\\n0 0 0 0 0\\n0 0 0 0 0")→show_image(2);\n  meta private;\n  meta test;\n}\n#pbQ4mX9LsuvB6479\naction test_detect_event_over_registration() {\n  #XmLqRuU4B4mC44vY // {shim:}\n  #RP24GvJESSabTi3j code→\\_libinit;\n  #x8Rtk54oilx28eN2 code→forever;\n  #SDv3nIkUp4301pPy where `implicit` \\_body\\_() {\n    #wXqb2VYzBamFs9y0 code→on_button_pressed("A");\n    #AFrJ39ft1kIpgu4T where `implicit` \\_body\\_() {\n      #iNCIkVU2vCCUxYqg skip;\n    }\n  }\n  meta private;\n  meta test;\n}\n#glHgGKBHAxnk24z2\naction render_image(#KkzO6pqnOT2H4Nbl @this: * Image, #WFXxzfGSmEcaecgL x_offset: Number) {\n  #wJjDZaded1juM16b // {shim:}\n  #xoCK7Hf5VvJd2IIu $cols := math→min(5, $@this→width - $x_offset);\n  #xIjtuyBD6lHvitS8 for 0 ≤ x < $cols do {\n    #cBTue49vRLx322bI for 0 ≤ y < 5 do {\n      #i4GeKthAALnRpGP4 $led := data→leds→at(code→index($x, $y));\n      #P2v15gj3plesHPMl $xi := $x + $x_offset;\n      #JwjqylYbr2MC3BU4 $state := 0;\n      #Xfykmd4KAfBDk2zI if $xi ≥ 0 `and` $xi < $@this→width then {\n        #pWDKJ02kXicPr2an $state := $@this→leds→item($xi, $y);\n      }\n      #zqePS9acv24oQAAv code→set_led_color($state, $led);\n    }\n  }\n  #Fk0NFFrO2Dmk9ebf code→update_board;\n  meta private;\n  meta sync;\n}\n#bjedWwYaJ5lL7RnB\nvar button_a_handler : Event_Binding {\n  // {shim:}\n  transient = true;\n}\n#IJL62FT2o6Z3qp0h\nvar button_b_handler : Event_Binding {\n  // {shim:}\n  transient = true;\n}\n#qHCHrugZxRO2nVNu\nvar button_a\\u002bb_handler : Event_Binding {\n  // {shim:}\n  transient = true;\n}\n#V5epTckafYYQBUwI\naction clear_button_handler(#AP7KUiO86hEZMr3q name: String) {\n  #gVuKg3MqAoiA4KVd // {shim:}\n  #NducJY2YsouJ1sB4 $name := $name→trim(" \\t")→to_lower_case;\n  #ixzLqm9v9QnFaHCh if $name→equals("a") `and` `not` data→button_a_handler→is_invalid then {\n    #n6oYNxkCTIM5W6gF data→button_a_handler→delete;\n    #xTH6y6KQyzUnfRMR data→button_a_handler→\\u25c8clear;\n  }\n  else { #dRbB4VOJ1mMUXJDY if $name→equals("b") `and` `not` data→button_b_handler→is_invalid then {\n    #HGRHgdbJG1cj4P92 data→button_b_handler→delete;\n    #uJC4FJWjigU8QwyP data→button_b_handler→\\u25c8clear;\n  }\n  else { #DzKJuB7YBFPZWdo2 if $name→equals("a+b") `and` `not` data→button_a\\u002bb_handler→is_invalid then {\n    #U99rMPfGl8rRBhMO data→button_a\\u002bb_handler→delete;\n    #NNQICBa0FzI7RLML data→button_a\\u002bb_handler→\\u25c8clear;\n  }\n  else { } } } \n  meta private;\n  meta sync;\n}\n#xIuuGWOiw4U0Z9E6\naction store_button_handler(#g5uKm1gGabuH7KEZ name: String, #xJnSEX7WxPHkhSK9 ev: Event_Binding) {\n  #ASAbZc9j0bH7hBmb // {shim:}\n  #Ccq6Wak9K4PcvMqn $name := $name→trim(" \\t")→to_lower_case;\n  #Z1idpGSDuTaD2SSS if $name→equals("a") then {\n    #J2yZk3X9x4MJfzt2 data→button_a_handler := $ev;\n  }\n  else { #lFO5umVrdo8N5w8X if $name→equals("b") then {\n    #fnPL4RqMQzhCa7MH data→button_b_handler := $ev;\n  }\n  else {\n    #bLLkTrQExLjukL2V data→button_a\\u002bb_handler := $ev;\n  }\n  } \n  meta private;\n  meta sync;\n}\n#w9lZwJwDJADMNaZY\naction test_forever_register() {\n  #AmcV6THL0zdDxQzd // {shim:}\n  #Dm8UnLZUSyFqCxQX code→\\_libinit;\n  #SJAOh2GVk4zGZC44 code→forever;\n  #xqAh9AiRPBjVq6zh where `implicit` \\_body\\_() {\n    #GCK4VF02k25NXDM1 code→on_button_pressed("A");\n    #twPwQi6XciXsdKjV where `implicit` \\_body\\_() {\n      #xGqyp2mdNkIqsTei code→show_number(math→random(10), 150);\n      #Gjbrkpxz5Tx3vyYN code→pause(1000);\n    }\n  }\n  meta private;\n  meta test;\n}\n#M0RCMbzlj2nj2BI7\naction test_pixel() {\n  #BLv6aL7UZr2cqEfT // {shim:}\n  #chGi9E55itfMAUs2 code→\\_libinit;\n  #SGt5eFaUBCizckCO $img := code→create_image("0 1 0 0 0 1 1 1 1 1\\n0 1 0 0 0 0 0 0 0 1\\n0 1 0 0 0 0 0 0 0 1\\n0 1 0 0 0 0 0 0 0 1\\n0 1 0 0 0 0 0 0 0 1");\n  #rsIi4z5FSvXfEUbY $img→set_pixel(8, 0, false);\n  #T5DS5wjBwJlWRDyx $img→scroll_image(1, 400);\n  #xRajHiRTS3WVG9eQ // grey scale\n  #x6EPsTOBC5Stwv2i code→set_display_mode("greyscale");\n  #YxThP9Zpstv3c0GU for 0 ≤ j < 5 do {\n    #ctiRFQOKYtpl58Rb $img→set_pixel_brightness(9, $j, math→pow(2, $j));\n  }\n  #v7M3MZfrjb3ul0Hz $img→plot_image(5);\n  meta private;\n  meta test;\n}\n#dZXKhO253wRyy8ss\naction test_font() {\n  #x20Hxqj4AQlvhYrW // {shim:}\n  #RBMl9hru9FSnsMFJ code→\\_libinit;\n  #a4OniIrwDB2fZ6dL $s := "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n  #tNdflz42yjWVg2UE code→show_string($s, 150);\n  meta private;\n  meta test;\n}\n#XbUu3qU1GclXjcRC\naction add_button(#xbqiUfNdjVfd4IMd text: String, #xJ3n1woMhZjnYNMw @action: Action) {\n  #USGmD7z2Nxm3G1td // Adds a button to the simulator.\n  #xReX55Ndxhgd8Uwr // {shim:TD_NOOP}\n  #gzUEASG6jJjnjORe // {weight:0}\n  #sz5shPxAJMrHPGcv // {namespace:simulator}\n  #jurR2bpFoTez7gQd // {action:libsonly}\n  #Q7KxeKWW1ylQ4sof if data→button_extra→is_invalid then {\n    #xWU42PbYiXq0h2cU code→create_extra_button($text→to_upper_case, $@action);\n  }\n  meta sync;\n}\n#QofbsqCZ4V5hSSrX\naction create_extra_button(#mncq4kd55AAXrAl3 text: String, #xGKSnvw1vCIbFYyj @action: Action) {\n  #jiT2zrVOmtzOZRYr // {shim:}\n  #HqdXAvEWpftML4hA data→button_extra_inner := code→create_circle(412, 532);\n  #gPk3T8UBTWjSz8zn data→button_extra_inner→set_color(colors→black);\n  #nxreVM8UIUMg1VXW data→button_extra_inner→set_gradient(false);\n  #JGtXNV2yHEji6Ayn data→button_extra := code→create_circle(data→button_extra_inner→x, data→button_extra_inner→y);\n  #b4DhmqP47SNxK8OP data→button_extra→opacity := 0;\n  #SCO4V6exNc28sn95 data→button_extra→width := 84;\n  #LxUwVuZCSl3qrgQ3 data→button_extra→height := 84;\n  #xqljf58UOeHk2y2P data→button_extra→x := data→button_extra_inner→x;\n  #xzo2t6FZjFtPhcKY data→button_extra→y := data→button_extra_inner→y;\n  #pH0k8Ne3XCu2mscE data→button_extra→on_touch_down($touch_down);\n  #ePOpGNP0Ap24XGBk where touch_down(x: Number, y: Number) {\n    #gNN8eW7NKIACfyvx data→button_extra_inner→set_color(colors→orange);\n    #xWdiZFKt6469IQNI $@action→run;\n  }\n  #mFclEPh38W3L4nnR data→button_extra→on_touch_up($touch_up);\n  #xKbGq1XMVS7PZIF9 where touch_up(x: Number, y: Number) {\n    #BMGWQpXAUNqygWVm data→button_extra_inner→set_color(colors→black);\n  }\n  #cYszk5cTaxeH5lMn $btn_text := data→board→create_text(100, 40, 20, $text);\n  #pkRVEwItpfnOPHpL $btn_text→set_color(colors→black);\n  #xhVuttTeTSZXMEca $btn_text→fit_text;\n  #KuRLFeiYpX8ibIt4 $btn_text→x := data→button_extra→x;\n  #zIBuDWJcjBM32Yp4 $btn_text→@bottom := data→button_extra→@top + 10;\n  meta private;\n  meta sync;\n}\n#jKmZy7vMlzUPALmn\nvar button_extra_inner : Sprite {\n  // {shim:}\n  transient = true;\n}\n#cXnqrj241SpxUMwF\nvar button_extra : Sprite {\n  // {shim:}\n  transient = true;\n}\n#VIbUURZHhKQK2SyZ\naction reset() {\n  #xvUvNkHFq7GZFMhL // Resets the BBC micro:bit.\n  #lHHGwpOT14CKYow4 // {weight:1}\n  #bcD9ZyddSMemVKZU // {namespace:control}\n  #O4TGFHEORPMYt8Sp // {shim:uBit.reset}\n  #InYaIalKOaSAg5nh // {help:functions/reset}\n  #bn3n2t5DLBeqS63D app→restart("");\n  meta sync;\n}\n#YEzwn1KNBHbFPNUs\naction test_reset() {\n  #S2osQorpwX0Xn5kn // {shim:}\n  #GSnZiIZY6ZZfqTYY code→\\_libinit;\n  #IPnXPhzZKv8j2H2j code→show_string("A", 150);\n  #ZFn2kKadUEmlY4Wk code→reset;\n  meta private;\n  meta test;\n}\n#TpQcQgKdAFw5Pqho\naction test_show_number() {\n  #lkVsRQg2Y57CbEHt // {shim:}\n  #xlVV048e6Gv5qT80 code→\\_libinit;\n  #pJFrIdojNwmiVXeG code→show_number(0, 150);\n  #sOilRBUMeGHbS5iq code→show_number(1, 150);\n  #XiW64jN2AhkgUI8q code→show_number(2, 150);\n  meta private;\n  meta test;\n}\n#jFmD5xkFyWwpGTFt\naction test_plot_leds() {\n  #uv2qjBz92QKG6jb4 // {shim:}\n  #xWC0vpIb0g6zkauY code→\\_libinit;\n  #HAPp3WJOXLG3Hd5l code→plot_leds("0 0 0 0 0\\n0 1 0 1 0\\n0 0 1 0 0\\n0 0 0 1 0\\n1 0 0 0 0");\n  #kBUen1jy0k4wINSh code→pause(1000);\n  #xekvRRnvmhQHiMBK code→plot_leds("0 0 0 0 1\\n0 1 0 1 0\\n0 0 1 0 0\\n0 0 0 1 0\\n0 0 0 0 0");\n  #xzmqbCGIOoCg2MsE code→pause(1000);\n  #xFXsetNa4Qhcgcja $img := code→create_image("0 0 0 0 0 0 0 0 0 0\\n0 0 1 0 0 0 0 0 0 0\\n0 1 1 1 0 0 0 1 0 0\\n0 0 1 0 0 0 0 0 0 0\\n0 0 0 0 0 0 0 0 0 0");\n  #x7RQ0L8v7jnJDs4P $img→plot_frame(1);\n  #fL5VgMaVovLc2kVR code→pause(1000);\n  #BwpLTSufIn4ypBn1 code→show_leds("0 0 0 0 0\\n0 0 0 0 0\\n0 0 1 1 0\\n0 0 0 0 0\\n0 0 0 0 0", 400);\n  #ibZy2FI2FCKOxqoF code→show_leds("0 0 0 0 0\\n0 0 0 0 0\\n0 1 1 1 0\\n0 0 0 0 0\\n0 0 0 0 0", 400);\n  #YncCIVFUM28UddtK code→show_leds("0 0 0 0 0\\n0 0 0 0 0\\n1 1 1 1 1\\n0 0 0 0 0\\n0 0 0 0 0", 800);\n  meta private;\n  meta test;\n}\n#Z6Z2iGq64Ec1fuTh\naction warning(#dJIbhLazNunQ2Pqc message: String) {\n  #tzFPXXJ2C0Ha4ERR // Warns the user about a potential usage issue with the current code.\n  #wTj93HfGOCA1RRHP // {shim:TD_NOOP}\n  #xn2tBmso4Kss6D00 // {namespace:simulator}\n  #xOgOSqT4yi1RgSdZ // {weight:0}\n  #keritj886fLnv3fw // {action:libsonly}\n  #ukJpRgVrsYCsFdrj $editor := app→editor;\n  #gwhUA7MFzDe9jIUB if `not` $editor→is_invalid `and` `not` $message→is_invalid `and` `not` $message→is_empty then {\n    #xyn4eh9QnXz4pLxl $editor→annotate_caller("warning", $message);\n  }\n  meta sync;\n}\n#tPLU5ZwYXNcXCDk3\naction analog_set_period(#x0BXJqvN5uf5JIh2 pin: String, #amJYJbzMJzlrlol3 micros: Number) {\n  #D3DLwyTrT2wKkoVN // Configures the Pulse-width modulation (PWM) of the analog output to the given value in **microseconds** or `1/1000` milliseconds.\n  #fUdLXCrX4rNeuilQ // If this pin is not configured as an analog output (using `analog write pin`), the operation has no effect.\n  #DbpdkxM4nUP2sVga // {shim:micro_bit::setAnalogPeriodUs}\n  #xyHbQm9j2k6iXq4P // {namespace:pins}\n  #OBcAFCK2Q2DfudpZ // {help:functions/analog-set-period}\n  #PAYMs0BDD8RbLR3B // {weight:10}\n  #SqhPms4IXETastFm // {enum:name:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2}\n  #Xh232b04YquKwayo // {hints:micros:20000}\n  meta sync;\n}\n#AuigaLeUb4929mNA\naction analog_set_pitch_pin(#xpU1U000JWEY2Boq name: String) {\n  #xj4o22Omk1EIaC9O // Sets the pin used when using `pins->analog pitch`.\n  #p3pMqgSnQxlKKpTd // {shim:micro_bit::enablePitch}\n  #YOZY4h2Snemy2Ssv // {namespace:pins}\n  #ksrlzJbUsmtEkaBH // {help:functions/analog-set-pitch}\n  #xQhxWqWeqz22iboM // {weight:12}\n  #vKrvmC4KbTx4UrT9 // {enum:name:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2}\n  #WHQMX8TGwNk4rHSx data→pitch_pin := $name;\n  meta sync;\n}\n#gEmhFkaGb62VAwjT\naction analog_pitch(#xicUA6rVANK5Hpya frequency: Number, #EOcY1jATp3Ldw16o ms: Number) {\n  #xFJhXD0ijs00YMjd // Emits a Pulse-width modulation (PWM) signal to the current pitch pin. Use `analog set pitch pin` to define the pitch pin.\n  #SuwCvUifdY38to4S // {shim:micro_bit::pitch}\n  #Mh0Oeb4E8cK3WWWW // {namespace:pins}\n  #xGfz4I04h2bsO91l // {help:functions/analog-pitch}\n  #xEGCJ6YyP3Gaw9ug // {weight:14}\n  #Nv7yTShmVzRRmckP // {hints:frequency:440}\n  #lyVvmxzXMSk4YDmd // {hints:ms:500}\n  #fx1pQM2jYhWeMW8F if data→pitch_pin→is_invalid `or` data→pitch_pin→is_empty then {\n    #bqUsIek5pKDTe6Pe code→warning("pitch pin not set");\n    #ifW5htAtZseohisz `return` ;\n  }\n  #wunHmKjgrpZ9byII if $frequency ≤ 0 then {\n    #xXcOYe7q4TdBfOsz media→tone(0, 1);\n    #H9Y66i52F23oOeSD `return` ;\n  }\n  #qvLwajJDb3fREXyj if $ms ≤ 0 then {\n    #xHlePNztv5JpESZp media→tone($frequency, 1);\n  }\n  else {\n    #xbFhJ20GSASivmak $secs := $ms / 1000;\n    #c9RnAE2uzKh6Cqax media→play_note($frequency, 1, $secs);\n    #Bdrwg0EArm46eHAx time→sleep($secs);\n  }\n}\n#KgNK732SuRLWRKOO\nvar pitch_pin : String {\n  // {shim:}\n  transient = true;\n}\n#f01xEP7flwdYeYJq\naction test_pitch() {\n  #YTd12LqhKZ4TaZc2 // {shim:}\n  #seC2W2nEHKYskZWx code→\\_libinit;\n  #ZIUeBcsS2CnLOyAX code→analog_set_pitch_pin("P0");\n  #HgqlbD1gvQviXx8z for 0 ≤ i < 10 do {\n    #U0MwRtD11cCn27TG code→analog_pitch(400 + $i * 100, 1000);\n  }\n  #dDCdl0EzpaRtSQeM code→pause(1000);\n  #xFHA2N0ccuekrNB6 code→analog_write_pin("P0", 512);\n  #AgpJ3he45LX41vYs for 0 ≤ j < 10 do {\n    #VA5aDXkUjZHNPhD9 code→analog_set_period("P0", 5000 - $j * 100);\n    #zq5NuKyDLAFXhWKl code→pause(500);\n  }\n  meta private;\n  meta test;\n}\n#Homv4VKEXNUbTAb4\naction plot_frame(#xYYuLhKmEWIzIX1x @this: * Image, #AJWLlSJwoTdXgT9i index: Number) {\n  #fCfOCntjWE4DNymC // Draws the ``index``-th frame of the image on the screen.\n  #xasY934N29G7WBjg // {help:functions/plot-frame}\n  #wQpnycOYR16SMb15 // {namespace:image}\n  #OFsNMj5vqD4C4rm4 // {weight:65}\n  #uM7fnoqbHXxpqA12 $@this→show_image(5 * $index);\n}\n#x07I9YOUT6XAu5Ky\naction show_leds(#Agy1tNVQeIcg2pFD leds: String, #H23Wq0aPH08LnwS6 ms: Number) {\n  #a1ZU6jET0rFURbW6 // Draws an image on the LED screen and pauses for the given milliseconds.\n  #rah4E4gr6b4ZXnki // {help:functions/show-leds}\n  #q2YahTUs7lFN2x05 // {weight:95}\n  #x8YEphMMwGJeCtZ4 // {namespace:basic}\n  #M7D8GVVyvj4k5vxo // {language:leds:bitframe}\n  #DGgSDJzlKoPX3ljp // {hints:ms:400,1000}\n  #WkpvN4lkB72SdNex // {shim:micro_bit::showLeds}\n  #xxOvJbn2Cq3yEODu $img := code→parse_image($leds);\n  #KrQe1YwMxdRhx6GZ $img→show_image(0);\n  #cvrrG22FPWn6MsSk code→pause($ms);\n}\n#t4AKY0PCv6CBzZ12\naction play_tone(#zExdWNZANFRC5nyu frequency: Number, #Ulhn7NcyJhmRukqz ms: Number) {\n  #RQfvAHuFsy3gBARR // Plays a tone through pin ``P0`` for the given duration.\n  #cyajATGMs74bzPW7 // {help:functions/play-tone}\n  #xQkMwqu2Oa6nrGiE // {namespace:music}\n  #ZTzyTPXsUFIyRaeU // {weight:90}\n  #dIQ0LIbfqHjwOyCO // {hints:frequency:440}\n  #xa04A5Hpj2lPJQ2M // {hints:ms:1000}\n  #L4roLQqOhkhZifAC code→analog_set_pitch_pin("P0");\n  #DGH7JMwHU0ka6VR6 code→analog_pitch($frequency, $ms);\n}\n#q80UeIEQE4foqp5T\naction test_music() {\n  #ADNnaMD8sbQ092vx // {shim:}\n  #cnnl5nwTO8MNlzG2 code→\\_libinit;\n  #bt7ZIZfVg1aOLLEt code→play_tone(440, 1000);\n  #wBYXZY7x529yWQG4 code→play_tone(480, 1000);\n  #nq42JFfrOqGl2QKO code→play_tone(520, 1000);\n  #Cybr2QXkXV2ir6l6 code→pause(2000);\n  #qQ8ZNMWIJJXtutNM code→play_tone(code→note_frequency("C"), 1000);\n  #mneI19aKf1ds9SjX code→play_tone(code→note_frequency("D"), 1000);\n  #xbL5os2MHu5S7uYp code→play_tone(code→note_frequency("E"), 1000);\n  #PVLpMp4WMqlphpIr code→play_tone(code→note_frequency("F"), 1000);\n  #xZjE4yULP8q68zot code→play_tone(code→note_frequency("G"), 1000);\n  #tupQgO33hsOHShvY code→play_tone(code→note_frequency("A"), 1000);\n  #MPE7BMMK24O3cpKc code→play_tone(code→note_frequency("B"), 1000);\n  meta private;\n  meta test;\n}\n#sOGTRmXpnMKLLTtr\naction note_frequency(#G5aP8OToIirHnSrm name: String) returns(#icSfcpgaQI61R31i frequency: Number) {\n  #MBVL4W7GtZth7c8Q // Gets the frequency of a note.\n  #yhvDBEaWWEbLTw4a // {enum:name:C=262,C#=277,D=294,Eb=311,E=330,F=349,F#=370,G=392,G#=415,A=440,Bb=466,B=494,C3=131,C#3=139,D3=147,Eb3=156,E3=165,F3=175,F#3=185,G3=196,G#3=208,A3=220,Bb3=233,B3=247,C4=262,C#4=277,D4=294,Eb4=311,E4=330,F4=349,F#4=370,G4=392,G#4=415,A4=440,Bb4=466,B4=494,C5=523,C#5=555,D5=587,Eb5=622,E5=659,F5=698,F#5=740,G5=784,G#5=831,A5=880,Bb5=932,B5=989}\n  #CEuFbUNDPjFBgtrO // {shim:TD_ID}\n  #xhQC7C2c52WDwr8z // {namespace:music}\n  #iXmcRdXDoHI3JVod // {weight:40}\n  #x3L2s27YTHChFBvT // {help:functions/note-frequency}\n  #cY7oVDRa2q52ktSU $f := art→notetable\\u002esjon→number($name→to_upper_case→trim(" \\t"));\n  #fxhp0PqdX2BUGW4N if `not` $f→is_invalid then {\n    #x0GIA0PDAM9yE8tE `return` $f;\n  }\n  else {\n    #STVoohtLA3YlXWin code→warning("Sorry, we don\\\'t know about this note.");\n    #SaL0iE3iTWdYkP1k `return` 0;\n  }\n  meta sync;\n}\n#z4gSyUfMQnLVFUce\nvar notetable\\u002esjon : Json_Object {\n  // {shim:}\n  is\\_resource = true;\n  url = "data:text/plain;base64,ewogICAgIkMiOjI2MiwKICAgICJDIyI6Mjc3LAogICAgIkQiOjI5NCwKICAgICJFQiI6MzExLAogICAgIkUiOjMzMCwKICAgICJGIjozNDksCiAgICAiRiMiOjM3MCwKICAgICJHIjozOTIsCiAgICAiRyMiOjQxNSwKICAgICJBIjo0NDAsCiAgICAiQkIiOjQ2NiwKICAgICJCIjo0OTQsCiAgICAKICAgICJDMyI6MTMxLAogICAgIkMjMyI6MTM5LAogICAgIkQzIjoxNDcsCiAgICAiRUIzIjoxNTYsCiAgICAiRTMiOjE2NSwKICAgICJGMyI6MTc1LAogICAgIkYjMyI6MTg1LAogICAgIkczIjoxOTYsCiAgICAiRyMzIjoyMDgsCiAgICAiQTMiOjIyMCwKICAgICJCQjMiOjIzMywKICAgICJCMyI6MjQ3LAogICAgCiAgICAiQzQiOjI2MiwKICAgICJDIzQiOjI3NywKICAgICJENCI6Mjk0LAogICAgIkVCNCI6MzExLAogICAgIkU0IjozMzAsCiAgICAiRjQiOjM0OSwKICAgICJGIzQiOjM3MCwKICAgICJHNCI6MzkyLAogICAgIkcjNCI6NDE1LAogICAgIkE0Ijo0NDAsCiAgICAiQkI0Ijo0NjYsCiAgICAiQjQiOjQ5NCwKICAgIAogICAgIkM1Ijo1MjMsCiAgICAiQyM1Ijo1NTUsCiAgICAiRDUiOjU4NywKICAgICJFQjUiOjYyMiwKICAgICJFNSI6NjU5LAogICAgIkY1Ijo2OTgsCiAgICAiRiM1Ijo3NDAsCiAgICAiRzUiOjc4NCwKICAgICJHIzUiOjgzMSwKICAgICJBNSI6ODgwLAogICAgIkJCNSI6OTMyLAogICAgIkI1Ijo5ODkKfQ==";\n  transient = true;\n}\n#xUYxOeKj6LoMvF7P\naction plot_leds(#WQt3HgKnNR1dkKwC leds: String) {\n  #jJiF4GeW3y5L8ZvJ // Draws an image on the LED screen.\n  #xeTbykuSWaF0nr9g // {help:functions/plot-leds}\n  #w9yQC2gSVG43NHs2 // {weight:80}\n  #C2NdzXO4YdWRnaEW // {namespace:basic}\n  #xCxDF5VU01h01Yh6 // {language:leds:bitframe}\n  #BA24IxYmXqkPDxLQ // {shim:micro_bit::plotLeds}\n  #cs0dZUvcOoT2Tbj4 $img := code→parse_image($leds);\n  #dfutR56803BeCdLx code→render_image($img, 0);\n  meta sync;\n}\n#CMiSgO7T4A4heu2z\naction plot_image(#OrAkEEB8qLoT4Mzd @this: * Image, #HXxAUi2ymf5FqRzN x_offset: Number) {\n  #c8b4vsUEisjXLh2u // Plots a frame from the image at offset ``x offset``.\n  #rVAalBbYMFEqtpEC // {help:functions/plot-image}\n  #L9R3IVcl2KNAEQL2 // {namespace:image}\n  #HThvzxSJtOTHengS // {namespace:led}\n  #xhU09kichmIGxHZV // {weight:69}\n  #Kl4zmpg9HVwUey6O // {hints:x offset:0,5,10}\n  #VfYDTi9V6fB4yWKi // {shim:micro_bit::plotImage}\n  #M8USzI3sH1AvswWQ code→render_image($@this, $x_offset);\n  meta sync;\n}\n#veAWzsaQ3mAeSOvA\naction set_theme(#cJ3VYThrkFH2nnon name: String) {\n  #x5CwjchVbMRh3uoA // {shim:}\n  #f2xg2qfKJ7v1Lq5x if $name→is_empty then {\n    #SLALoF6RT42i7Ejp // fetch theme from settings\n    #l3lhYG6Iq5hifmUk $default_theme := app→env→temporary_setting("bbc micro:bit theme");\n    #xwWysIAEYBf7i4gW if $default_theme→is_invalid then {\n      #H4LeHpMBwx4OkSKf $default_theme := "red";\n    }\n    #uH4b8fL22EjTKz0h $name := $default_theme;\n  }\n  #e4B1ZURot54YEGiY data→current_theme := $name;\n  #e4Zsrvf4HUVvvwhd app→env→set_temporary_setting("bbc micro:bit theme", $name);\n  #p5briRb9oTIasn8h data→led_off_color := colors→transparent;\n  #a2k5eTy9hRQcxe46 data→board_color := colors→from_rgb(0.85, 0.95, 0.85);\n  #qyDWsRI4ytHtFd8g $leds_background := colors→black;\n  #evzUYi83YPBOBMlr $markup := art→board\\u002esvg;\n  #HFTjMO2guOv7Rm2w if data→current_theme→equals("blue") then {\n    #e1DeXSmMGEeWOuR8 data→led_on_color := colors→blue;\n    #thMgho7JD3MYX4td data→back_led_color := "#aaa" →to_color;\n    #waG9f7vlgr57D4RL data→left_eye→color := "#273EE2" →to_color;\n  }\n  else {\n    #fu62b3psxXKSTvpr $s := art→boardcolors\\u002ejson→at(math→random(art→boardcolors\\u002ejson→count))→to_string;\n    #E12o9ZhEzBrBdaxR $markup := $markup→replace("#273EE2", $s)→replace("#D4AF37", "#989898")→replace("#F9F9F9", "#000");\n    #NAj8gc9TnnnW95KJ data→led_on_color := "#ff7f7f" →to_color;\n    #PDctHCuC00kxArHt data→back_led_color := "#202020" →to_color;\n    #HzF84IyeFuNZEN0S data→left_eye→color := $s→to_color;\n  }\n  #o0Sg6ZIdqIY2MrO7 data→right_eye→color := data→left_eye→color;\n  #DflzlS5FVtxTtiv3 data→picture→blend_svg($markup, 0, 0, 612, 498, 0);\n  #y83CLwRPgvZv68BM for 0 ≤ i < data→back_leds→count do {\n    #j0NqowF1gJYZbFxY $sprite := data→back_leds→at($i);\n    #uUA4sC8H8ziHanbz $sprite→set_color(data→back_led_color);\n  }\n  #xLIqmgbYCB5fxAPi for 0 ≤ j < data→leds→count do {\n    #gxG2ZfmOxSI7272S $sp := data→leds→at($j);\n    #xCqSX9GgsvwAdse6 if `not` $sp→color→equals(colors→transparent) then {\n      #KKuXMjFU6exhXzyG $sp→color := data→led_on_color;\n    }\n  }\n  meta private;\n  meta sync;\n}\n#CIQ4veOCB3b54xEF\nvar back_led_color : Color {\n  // {shim:}\n  transient = true;\n}\n#pKuVW9VLAsoLATs1\nvar current_theme : String {\n  // {shim:}\n  transient = true;\n}\n#ZcRIUJagQtw2kOc3\naction init_theme() {\n  #xG4G6cfMaEbWqlM9 // {shim:}\n  #EkEHXeeTIhNElM4z data→theme_button_inner := code→create_circle(data→board→width - 64, 54);\n  #gvxgpbcF2Vh2n8p5 data→theme_button_inner→set_color(colors→white);\n  #GFgmQ44OMr4dNwq4 data→theme_button := code→create_circle(data→theme_button_inner→x, data→theme_button_inner→y);\n  #Z29h69s2yrXbBYqT data→theme_button→opacity := 0;\n  #xAwSmgeMsxy2mo2m data→theme_button→width := 112;\n  #GbVT219kzML5zCRs data→theme_button→height := 112;\n  #c0AwY5ROsgtG2Knd data→theme_button→x := data→theme_button_inner→x;\n  #sQR4SSgpdHIVYt3Q data→theme_button→y := data→theme_button_inner→y;\n  #B2CwAWAZnJLS03hT data→theme_button_text := data→board→create_text(100, 40, 20, "THEME");\n  #D3Q0VYJTEsOeCSSW data→theme_button_text→set_color(colors→white);\n  #xmkTU26RbeIFb2Jc data→theme_button_text→fit_text;\n  #e4SNFryMf0J07YJC data→theme_button_text→x := data→theme_button_inner→x;\n  #tgvI4UL0HsxskMLH data→theme_button_text→y := data→theme_button_inner→y - 34;\n  #LzHTvRzGmrVF5uqf data→theme_button→on_touch_down($touch_down);\n  #j2kGPOFC3VpxGuvH where touch_down(x: Number, y: Number) {\n    #zUofeW9VI4OAw6vA if data→current_theme→equals("red") then {\n      #KyZyX0ozrSc7lt7e code→set_theme("blue");\n    }\n    else {\n      #ihyfyE1odrtrY2mB code→set_theme("red");\n    }\n    #Ekmnrj2o99FWFUDY code→update_board;\n  }\n  meta private;\n  meta sync;\n}\n#xdhVzgfGv2tKJXiC\nvar theme_button_inner : Sprite {\n  // {shim:}\n  transient = true;\n}\n#xzT4DM36ZVg22KDW\nvar padding : Number {\n  // {shim:}\n  transient = true;\n}\n#IumTSFIHhbwxn3H4\nvar left : Number {\n  // {shim:}\n  transient = true;\n}\n#ySs9JtsfD489KWqC\nvar @top : Number {\n  // {shim:}\n  transient = true;\n}\n#R4ySKAi8lAt3lPo4\nvar picture : Picture {\n  // {shim:}\n  transient = true;\n}\n#kgAKd05Qka2tkxaX\nvar theme_button_text : Sprite {\n  // {shim:}\n  transient = true;\n}\n#xxmFVVtdBqvw9AQy\naction temperature() returns(#xBZ4CpbFL4CvRApl temp: Number) {\n  #iJmxeqmb8usTYoBE // Gets the temperature in Celsius degrees (°C).\n  #xbkpE9efBEU3vReG // {weight:70}\n  #trqBmVFo8y4PREFi // {help:functions/temperature}\n  #ettU9cm9h4KGIsTs // {namespace:input}\n  #fokjMzX103zh4OIf // {shim:uBit.thermometer.getTemperature}\n  #w2zqRCAFyOt1oUWQ `return` 21;\n  meta sync;\n}\n#Vl55kdKb5D1kgSyk\naction stop_animation() {\n  #ATIWVp4tTwDxB4Bp // Cancels the current animation and clears other pending animations.\n  #d4LAQbEUe7uRZJAS // {namespace:led}\n  #Ix2qKgTtbnPMed6L // {weight:10}\n  #xbNtuxocqqClsImw // {shim:uBit.display.stopAnimation}\n  #PNe2ZX3bc32uAfMh // {help:functions/stop-animation}\n  #BDAdp8kwFZFXSYHu data→current_animation := data→current_animation + 1;\n  #gQ12sQ2hZdAouv1m records→Animation_table→clear;\n  meta sync;\n}\n#BVGhpbmcgdGFibGUa\ntable Animation {\n  // {shim:}\n  type = "Table";\n  persistent = false;\n  fields {\n    #e2tjt3wkHvRy11YN fn : Action\n  }\n}\n#zhNkP3CWz74bNvt9\naction animation_worker() {\n  #Cymc1fF7P43K4gho // {shim:}\n  #twUDLvYsbqiIiLNp while true do {\n    #Z12yqFGgOP8zzrgk $anim := records→Animation_table→row_at(0);\n    #TCtfj65FNI3BQu5k if `not` $anim→is_invalid then {\n      #x42IFPmOy8OMd94D $anim→fn→run;\n      #xwyIlpRntu8n4vEo $anim→delete_row;\n    }\n    else {\n      #xZksFGo4EkNM0dh8 records→Animation_table→wait_for_update;\n    }\n  }\n  meta private;\n}\n#bMFwG1RBnkCrq3IP\naction queue_animation_and_wait(#lZbLVMHV26CI2Azb body: Action) {\n  #pSk1SAXTgEkwXI52 // {shim:}\n  #y91tnga0ipumHs77 $anim := records→Animation_table→add_row;\n  #W4ekNcG32RwDFN64 $anim→fn := $body;\n  #VyXEejIbvlKT85x0 while true do {\n    #r2yPaxh1j83WPSQq if $anim→is_deleted then {\n      #lZZj1cN4JVqKGeD3 `break` ;\n    }\n    #x64FBWkpzD1lr3ys records→Animation_table→wait_for_update;\n  }\n  meta private;\n}\n#xfKBe2N4OpGoOMjI\naction test_animations() {\n  #C28AVJ2OeeVO9UJB // {shim:}\n  #NAatOLGkWDaNdLSJ code→\\_libinit;\n  #xM8mK0o47XZ2xL4w code→on_button_pressed("A");\n  #Ec9RhvIua6hxfiau where `implicit` \\_body\\_() {\n    #xxDjfJsq8yJ2hJZg code→show_string("A", 150);\n  }\n  #dkWr85kOaggITn84 code→on_button_pressed("B");\n  #Ujf724J59Y9Agp4u where `implicit` \\_body\\_() {\n    #fkIWDo3j3WYiNeTE code→show_string("B", 150);\n  }\n  meta private;\n  meta test;\n}\n#vtW004u24giFHFCF\naction show_frame(#so5UArm5bvzzbO7Q img: * Image, #wbgk1lJLlqXDa2l4 frame: Number) {\n  #ul6aa2q9FEngpuGm // Shows a particular frame of the image strip.\n  #FO4MMEEFSc9G0nTb // {namespace:image}\n  #gCr4tw5bcjlK72W2 // {weight:70}\n  #xA18S6STfkQQmHSO // {help:functions/show-frame}\n  #RqxUSeIfDyXF0l5K $img→show_image($frame * 5);\n}\n#jK3Ut2qwQC0bZ07k\ntable Event_Bus {\n  // {shim:}\n  type = "Table";\n  persistent = false;\n  fields {\n    #kng9nuProLg6HpFo fn : Action\n    #lz2qarlZRUAVl0SD name : String\n  }\n}\n#xQHQZkhjqzpE4CRi\naction event_bus_worker(#VnWE2Q9sB2A5uIXD name: String) {\n  #xDyM0UomTSCQXKSV // {shim:}\n  #HakK0IQSqWKY8zju while true do {\n    #B2MyaPSqynIjfXO5 code→pause(1);\n    #Zg9hZK25Zv1Ub2Ym $ev := code→first_event($name);\n    #lN4KZZuuN9p2paSM if `not` $ev→is_invalid then {\n      #qUZz8iwjSjiyyavq $ev→fn→run;\n      #E7aHvwM2U423dBK6 $ev→delete_row;\n    }\n    else {\n      #P594Nj69PCQ9z45m records→Event_Bus_table→wait_for_update;\n    }\n  }\n  meta private;\n}\n#uBLXg1puXSO4QzoW\naction queue_event(#ErQcVVIPwKO622FK body: Action, #x6jst5KZQ5V4sFOr name: String) {\n  #TvMY9sg6cL0LP4R4 // Queues an event to be executed in its own queue. **simulator only**.\n  #G4HX55fpvnZloONU // {namespace:simulator}\n  #uUvNaoO65YqMtQTe // {action:libsonly}\n  #x6pUJ4oEgynKekYO // {shim:TD_NOOP}\n  #NpFfWiYSSrNXvvQY $c := records→Event_Bus_table→count;\n  #xv0tUVTZQbNE3PW4 if $c < 10 then {\n    #mbqwhgLr24hPftS9 $ev := records→Event_Bus_table→add_row;\n    #Guj24KBD912FcSYv $ev→name := $name;\n    #OvyZqeICJJ2sQbR4 $ev→fn := $body;\n    #J6B4LYyWUMTT4MXF data→logger→debug("queued " ∥ $name);\n    #N8pNCkiRuu6GYHAN if data→event_queues→at($name)→is_invalid then {\n      #xSpLhvkqOzz2Y2Xp data→event_queues→set_at($name, "on");\n      #Dcn5h1NYD742two9 `async` code→event_bus_worker($name);\n      #VtF252bO2GPFA1zp data→logger→debug("started queue for " ∥ $name);\n    }\n  }\n  else {\n    #SzvR3GyWF2k4aEW8 data→logger→debug("skipped event " ∥ $name ∥ ", bus full");\n  }\n  meta sync;\n}\n#HHvqKQqbQ5Uea74Z\nvar board\\u002esvg : String {\n  is\\_resource = true;\n  url = "data:text/plain;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0OTggNDA2IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0OTggNDA2IiB3aWR0aD0iNDk4IiBoZWlnaHQ9IjQwNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTQ5OCwzMS45QzQ5OCwxNC4zLDQ4My43LDAsNDY2LjEsMEgzMS45QzE0LjMsMCwwLDE0LjMsMCwzMS45djM0Mi4yQzAsMzkxLjcsMTQuMyw0MDYsMzEuOSw0MDZoNDM0LjIKCQljMTcuNiwwLDMxLjktMTQuMywzMS45LTMxLjlWMzEuOXogTTE0LjMsMjA2LjdjLTIuNywwLTQuOC0yLjItNC44LTQuOGMwLTIuNywyLjItNC44LDQuOC00LjhjMi43LDAsNC44LDIuMiw0LjgsNC44CgkJQzE5LjIsMjA0LjYsMTcsMjA2LjcsMTQuMywyMDYuN3ogTTQ4Ni4yLDIwNi43Yy0yLjcsMC00LjgtMi4yLTQuOC00LjhjMC0yLjcsMi4yLTQuOCw0LjgtNC44YzIuNywwLDQuOCwyLjIsNC44LDQuOAoJCUM0OTEsMjA0LjYsNDg4LjgsMjA2LjcsNDg2LjIsMjA2Ljd6Ii8+CgkJCTxwYXRoIGZpbGw9IiNENEFGMzciIGQ9Ik0wLDM1Ny43djE5LjJjMCwxMC44LDYuMiwyMC4yLDE0LjQsMjUuMnYtNDQuNEgweiIvPgoJCQk8cGF0aCBmaWxsPSIjRDRBRjM3IiBkPSJNNDgzLjYsNDAyYzguMi01LDE0LjQtMTQuNCwxNC40LTI1LjF2LTE5LjJoLTE0LjRWNDAyeiIvPgoJCTxyZWN0IHg9IjY2LjciIHk9IjM1Ni43IiBmaWxsPSIjRDRBRjM3IiB3aWR0aD0iOS4yIiBoZWlnaHQ9IjQ5LjMiLz4KCQk8cmVjdCB4PSI3OS4xIiB5PSIzNTYuNyIgZmlsbD0iI0Q0QUYzNyIgd2lkdGg9IjkuMiIgaGVpZ2h0PSI0OS4zIi8+CgkJPHJlY3QgeD0iOTEuNCIgeT0iMzU2LjciIGZpbGw9IiNENEFGMzciIHdpZHRoPSI5LjIiIGhlaWdodD0iNDkuMyIvPgoJCTxyZWN0IHg9IjEwMy43IiB5PSIzNTYuNyIgZmlsbD0iI0Q0QUYzNyIgd2lkdGg9IjkuMiIgaGVpZ2h0PSI0OS4zIi8+CgkJPHJlY3QgeD0iMTY0LjMiIHk9IjM1Ni43IiBmaWxsPSIjRDRBRjM3IiB3aWR0aD0iMTAuMyIgaGVpZ2h0PSI0OS4zIi8+CgkJPHJlY3QgeD0iMTc2LjYiIHk9IjM1Ni43IiBmaWxsPSIjRDRBRjM3IiB3aWR0aD0iMTAuMyIgaGVpZ2h0PSI0OS4zIi8+CgkJPHJlY3QgeD0iMTg4LjkiIHk9IjM1Ni43IiBmaWxsPSIjRDRBRjM3IiB3aWR0aD0iMTAuMyIgaGVpZ2h0PSI0OS4zIi8+CgkJPHJlY3QgeD0iMjAxLjMiIHk9IjM1Ni43IiBmaWxsPSIjRDRBRjM3IiB3aWR0aD0iMTAuMyIgaGVpZ2h0PSI0OS4zIi8+CgkJPHJlY3QgeD0iMjEzLjYiIHk9IjM1Ni43IiBmaWxsPSIjRDRBRjM3IiB3aWR0aD0iMTAuMyIgaGVpZ2h0PSI0OS4zIi8+CgkJPHJlY3QgeD0iMjc1LjIiIHk9IjM1Ni43IiBmaWxsPSIjRDRBRjM3IiB3aWR0aD0iOS4yIiBoZWlnaHQ9IjQ5LjMiLz4KCQk8cmVjdCB4PSIyODcuNSIgeT0iMzU2LjciIGZpbGw9IiNENEFGMzciIHdpZHRoPSI5LjIiIGhlaWdodD0iNDkuMyIvPgoJCTxyZWN0IHg9IjI5OS44IiB5PSIzNTYuNyIgZmlsbD0iI0Q0QUYzNyIgd2lkdGg9IjkuMiIgaGVpZ2h0PSI0OS4zIi8+CgkJPHJlY3QgeD0iMzEyLjEiIHk9IjM1Ni43IiBmaWxsPSIjRDRBRjM3IiB3aWR0aD0iOS4yIiBoZWlnaHQ9IjQ5LjMiLz4KCQk8cmVjdCB4PSIzMjQuNSIgeT0iMzU2LjciIGZpbGw9IiNENEFGMzciIHdpZHRoPSI5LjIiIGhlaWdodD0iNDkuMyIvPgoJCTxyZWN0IHg9IjM4NS4xIiB5PSIzNTYuNyIgZmlsbD0iI0Q0QUYzNyIgd2lkdGg9IjEwLjMiIGhlaWdodD0iNDkuMyIvPgoJCTxyZWN0IHg9IjM5Ny40IiB5PSIzNTYuNyIgZmlsbD0iI0Q0QUYzNyIgd2lkdGg9IjEwLjMiIGhlaWdodD0iNDkuMyIvPgoJCTxyZWN0IHg9IjQwOS43IiB5PSIzNTYuNyIgZmlsbD0iI0Q0QUYzNyIgd2lkdGg9IjEwLjMiIGhlaWdodD0iNDkuMyIvPgoJCTxyZWN0IHg9IjQyMiIgeT0iMzU2LjciIGZpbGw9IiNENEFGMzciIHdpZHRoPSIxMC4zIiBoZWlnaHQ9IjQ5LjMiLz4KCQk8cGF0aCBmaWxsPSIjRDRBRjM3IiBkPSJNMTM5LjEsMzE3LjNjLTEyLjgsMC0yMi4xLDEwLjMtMjMuMSwyMy4xVjQwNmg0Ni4ydi02NS42QzE2Mi4yLDMyNy43LDE1MS45LDMxNy4zLDEzOS4xLDMxNy4zegoJCQkgTTEzOS4zLDM2MC4xYy0xMC43LDAtMTkuMy04LjYtMTkuMy0xOS4zYzAtMTAuNyw4LjYtMTkuMywxOS4zLTE5LjNjMTAuNywwLDE5LjMsOC43LDE5LjMsMTkuMwoJCQlDMTU4LjYsMzUxLjUsMTUwLDM2MC4xLDEzOS4zLDM2MC4xeiIvPgoJCTxwYXRoIGZpbGw9IiNENEFGMzciIGQ9Ik0yNDksMzE3LjNjLTEyLjgsMC0yMi4xLDEwLjMtMjMuMSwyMy4xVjQwNmg0Ni4ydi02NS42QzI3Mi4xLDMyNy43LDI2MS44LDMxNy4zLDI0OSwzMTcuM3ogTTI0OS40LDM2MC4xCgkJCWMtMTAuNywwLTE5LjMtOC42LTE5LjMtMTkuM2MwLTEwLjcsOC42LTE5LjMsMTkuMy0xOS4zYzEwLjcsMCwxOS4zLDguNywxOS4zLDE5LjNDMjY4LjcsMzUxLjUsMjYwLjEsMzYwLjEsMjQ5LjQsMzYwLjF6Ii8+CgkJPHBhdGggZmlsbD0iI0Q0QUYzNyIgZD0iTTM1OS45LDMxNy4zYy0xMi44LDAtMjIuMSwxMC4zLTIzLjEsMjMuMVY0MDZIMzgzdi02NS42QzM4MywzMjcuNywzNzIuNywzMTcuMywzNTkuOSwzMTcuM3ogTTM2MCwzNjAuMQoJCQljLTEwLjcsMC0xOS4zLTguNi0xOS4zLTE5LjNjMC0xMC43LDguNi0xOS4zLDE5LjMtMTkuM2MxMC43LDAsMTkuMyw4LjcsMTkuMywxOS4zQzM3OS4zLDM1MS41LDM3MC43LDM2MC4xLDM2MCwzNjAuMXoiLz4KCQk8cGF0aCBmaWxsPSIjRDRBRjM3IiBkPSJNNDU4LDMxNy42Yy0xMywwLTIzLjYsMTAuNi0yMy42LDIzLjZjMCwwLDAsMC4xLDAsMC4xaDBWNDA2SDQ2OWM0LjMsMCw4LjQtMSwxMi42LTIuN3YtNjAuNwoJCQljMC0wLjQsMC0wLjksMC0xLjNDNDgxLjYsMzI4LjEsNDcxLDMxNy42LDQ1OCwzMTcuNnogTTQ1Ny44LDM2MC45Yy0xMC43LDAtMTkuMy04LjYtMTkuMy0xOS4zYzAtMTAuNyw4LjYtMTkuMywxOS4zLTE5LjMKCQkJYzEwLjcsMCwxOS4zLDguNywxOS4zLDE5LjNDNDc3LjEsMzUyLjIsNDY4LjQsMzYwLjksNDU3LjgsMzYwLjl6Ii8+CgkJPHBhdGggZmlsbD0iI0Q0QUYzNyIgZD0iTTE2LjUsMzQxLjJjMCwwLjQtMC4xLDAuOS0wLjEsMS4zdjYwLjdjNC4xLDEuNyw4LjYsMi43LDEyLjksMi43aDM0LjR2LTY0LjdoMC4zYzAsMCwwLTAuMSwwLTAuMQoJCQljMC0xMy0xMC42LTIzLjYtMjMuNy0yMy42QzI3LjIsMzE3LjYsMTYuNSwzMjguMSwxNi41LDM0MS4yeiBNMjEuMiwzNDEuNmMwLTEwLjcsOC43LTE5LjMsMTkuMy0xOS4zYzEwLjcsMCwxOS4zLDguNywxOS4zLDE5LjMKCQkJYzAsMTAuNy04LjYsMTkuMy0xOS4zLDE5LjNDMjkuOSwzNjAuOSwyMS4yLDM1Mi4yLDIxLjIsMzQxLjZ6Ii8+CgkJPHBvbHlnb24gZmlsbD0iIzI3M0VFMiIgcG9pbnRzPSIxMTUsNTYuNyAxNzMuMSwwIDExNSwwIAkJIi8+CgkJPHBhdGggZmlsbD0iIzI3M0VFMiIgZD0iTTExNC4yLDBIMjUuOUMxMi4xLDIuMSwwLDEzLjMsMCwyNy43djgzLjlMMTE0LjIsMHoiLz4KCQk8cG9seWdvbiBmaWxsPSIjMjczRUUyIiBwb2ludHM9IjE3MywyNy45IDIwMi41LDAgMTczLDAgCQkiLz4KCQkJPHBhdGggZD0iTTM1LjcsMzc2LjRjMC0yLjgsMi4xLTUuMSw1LjUtNS4xYzMuMywwLDUuNSwyLjQsNS41LDUuMXY0LjdjMCwyLjgtMi4yLDUuMS01LjUsNS4xYy0zLjMsMC01LjUtMi40LTUuNS01LjFWMzc2LjR6CgkJCQkgTTQzLjMsMzc2LjRjMC0xLjMtMC44LTIuMy0yLjItMi4zYy0xLjMsMC0yLjEsMS4xLTIuMSwyLjN2NC43YzAsMS4yLDAuOCwyLjMsMi4xLDIuM2MxLjMsMCwyLjItMS4xLDIuMi0yLjNWMzc2LjR6Ii8+CgkJCTxwYXRoIGQ9Ik0xMzYuMiwzNzQuMWMyLjgsMCwzLjQtMC44LDMuNC0yLjVoMi45djE0LjNoLTMuNHYtOS41aC0zVjM3NC4xeiIvPgoJCQk8cGF0aCBkPSJNMjQ4LjYsMzc4LjVjMS43LTEsMy0xLjcsMy0zLjFjMC0xLjEtMC43LTEuNi0xLjYtMS42Yy0xLDAtMS44LDAuNi0xLjgsMi4xaC0zLjNjMC0yLjYsMS44LTQuNiw1LjEtNC42CgkJCQljMi42LDAsNC45LDEuMyw0LjksNC4zYzAsMi40LTIuMywzLjktMy44LDQuN2MtMiwxLjMtMi41LDEuOC0yLjUsMi45aDYuMXYyLjdoLTEwQzI0NC44LDM4MS4yLDI0Ni40LDM3OS45LDI0OC42LDM3OC41eiIvPgoJPHBvbHlnb24gZmlsbD0iIzI3M0VFMiIgcG9pbnRzPSI1NC4xLDI0Mi40IDU0LjEsMjc0LjEgMjIuNCwyNzQuMSAJIi8+CgkJPHBhdGggZD0iTTQ4LjEsMjcwLjlsLTAuNi0xLjdoLTUuMWwtMC42LDEuN2gtMy41bDUuMS0xNC4zaDMuMWw1LjIsMTQuM0g0OC4xeiBNNDUsMjYwLjdsLTEuOCw1LjloMy41TDQ1LDI2MC43eiIvPgoJPHBvbHlnb24gZmlsbD0iIzI3M0VFMiIgcG9pbnRzPSI0NDYuMiwxNjQuNiA0NDYuMiwxMzIuOCA0NzcuOSwxMzIuOCAJIi8+CgkJPHBhdGggZD0iTTQ0OS4xLDEzNS44aDUuOWMzLjksMCw0LjcsMi40LDQuNywzLjljMCwxLjgtMS40LDIuOS0yLjUsMy4yYzAuOSwwLDIuNiwxLjEsMi42LDMuM2MwLDEuNS0wLjgsNC00LjcsNGgtNlYxMzUuOHoKCQkJIE00NTQuNCwxNDEuN2MxLjYsMCwyLTEsMi0xLjdjMC0wLjYtMC4zLTEuNy0yLTEuN2gtMnYzLjRINDU0LjR6IE00NTIuNCwxNDQuMXYzLjVoMi4xYzEuNiwwLDItMSwyLTEuOGMwLTAuNy0wLjQtMS44LTItMS44CgkJCUg0NTIuNHoiLz4KCQk8cGF0aCBkPSJNMzUyLjEsMzgxLjFjMCwxLjYsMC45LDIuNSwyLjIsMi41YzEuMiwwLDEuOS0wLjksMS45LTEuOWMwLTEuMi0wLjYtMi0yLjEtMmgtMS4zdi0yLjZoMS4zYzEuNSwwLDEuOS0wLjcsMS45LTEuOAoJCQljMC0xLjEtMC43LTEuNi0xLjYtMS42Yy0xLjQsMC0xLjgsMC44LTEuOCwyLjFoLTMuM2MwLTIuNCwxLjUtNC42LDUuMS00LjZjMi42LDAsNSwxLjMsNSw0YzAsMS42LTEsMi44LTIuMSwzLjIKCQkJYzEuMywwLjUsMi4zLDEuNiwyLjMsMy41YzAsMi43LTIuNCw0LjMtNS4yLDQuM2MtMy41LDAtNS41LTIuMS01LjUtNS4xSDM1Mi4xeiIvPgoJCTxwYXRoIGQ9Ik0zNjguNSwzODUuOWgtMy4xbC01LjEtMTQuM2gzLjVsMy4xLDEwLjFsMy4xLTEwLjFoMy42TDM2OC41LDM4NS45eiIvPgoJCQk8cGF0aCBkPSJNNDQ0LjQsMzc4LjNoNy40djIuNWgtMS41Yy0wLjYsMy4zLTMsNS41LTcuMSw1LjVjLTQuOCwwLTcuNS0zLjUtNy41LTcuNWMwLTMuOSwyLjgtNy41LDcuNS03LjVjMy44LDAsNi40LDIuMyw2LjYsNQoJCQkJaC0zLjVjLTAuMi0xLjEtMS40LTIuMi0zLjEtMi4yYy0yLjcsMC00LjEsMi4zLTQuMSw0LjdjMCwyLjUsMS40LDQuNyw0LjQsNC43YzIsMCwzLjItMS4yLDMuNC0yLjdoLTIuNVYzNzguM3oiLz4KCQkJPHBhdGggZD0iTTQ2MS40LDM4MC45di05LjNoMy4zdjE0LjNoLTMuNWwtNS4yLTkuMnY5LjJoLTMuM3YtMTQuM2gzLjVMNDYxLjQsMzgwLjl6Ii8+CgkJCTxwYXRoIGQ9Ik00NzIuNywzNzEuNmM0LjgsMCw3LjUsMy41LDcuNSw3LjJzLTIuNyw3LjItNy41LDcuMmgtNS4zdi0xNC4zSDQ3Mi43eiBNNDcwLjgsMzc0LjR2OC42aDEuOGMyLjcsMCw0LjItMi4xLDQuMi00LjMKCQkJCXMtMS42LTQuMy00LjItNC4zSDQ3MC44eiIvPgoJPHBhdGggZmlsbD0iIzI3M0VFMiIgZD0iTTIzMC42LDY5LjdjLTIuOSwwLTUuMywyLjQtNS4zLDUuM2MwLDIuOSwyLjQsNS4zLDUuMyw1LjNjMi45LDAsNS4zLTIuNCw1LjMtNS4zCgkJQzIzNS45LDcyLjEsMjMzLjUsNjkuNywyMzAuNiw2OS43Ii8+Cgk8cGF0aCBmaWxsPSIjMjczRUUyIiBkPSJNMjY5LjksNTAuMkwyNjkuOSw1MC4ybC0zOS41LDB2MGMtMTQuMSwwLjEtMjQuNiwxMC43LTI0LjYsMjQuOGMwLDEzLjksMTAuNCwyNC40LDI0LjMsMjQuN3YwaDM5LjYKCQljMTQuMiwwLDI0LjgtMTAuNiwyNC44LTI0LjdDMjk0LjUsNjEsMjg0LDUwLjMsMjY5LjksNTAuMiBNMjY5LjcsODkuMkwyNjkuNyw4OS4ybC0zOS4zLDBjLTcuNy0wLjEtMTQtNi40LTE0LTE0LjIKCQljMC03LjgsNi40LTE0LjIsMTQuMi0xNC4yaDM5LjFjNy44LDAsMTQuMiw2LjQsMTQuMiwxNC4yQzI4My45LDgyLjksMjc3LjUsODkuMiwyNjkuNyw4OS4yIi8+Cgk8cGF0aCBmaWxsPSIjMjczRUUyIiBkPSJNMjY5LjcsODAuM2MyLjksMCw1LjMtMi40LDUuMy01LjNjMC0yLjktMi40LTUuMy01LjMtNS4zYy0yLjksMC01LjMsMi40LTUuMyw1LjMKCQlDMjY0LjQsNzcuOSwyNjYuOCw4MC4zLDI2OS43LDgwLjMiLz4KCTxwYXRoIGZpbGw9IiM5Nzk3OTciIGQ9Ik00NzQuMywyMzIuNmgtNTYuMmMtMC41LDAtMS0wLjQtMS0xdi01Ni4yYzAtMC41LDAuNC0xLDEtMWg1Ni4yYzAuNSwwLDEsMC40LDEsMXY1Ni4yCgkJQzQ3NS4zLDIzMi4yLDQ3NC44LDIzMi42LDQ3NC4zLDIzMi42Ii8+Cgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMTAyMDIiIHN0cm9rZS13aWR0aD0iMC4yMDU3IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik00NzQuMywyMzIuNmgtNTYuMmMtMC41LDAtMS0wLjQtMS0xdi01Ni4yCgkJYzAtMC41LDAuNC0xLDEtMWg1Ni4yYzAuNSwwLDEsMC40LDEsMXY1Ni4yQzQ3NS4zLDIzMi4yLDQ3NC44LDIzMi42LDQ3NC4zLDIzMi42eiIvPgoJPHBhdGggZD0iTTQ2MS45LDIwMy41YzAsOC43LTcsMTUuNy0xNS43LDE1LjdjLTguNywwLTE1LjctNy0xNS43LTE1LjdjMC04LjcsNy0xNS43LDE1LjctMTUuN0M0NTQuOSwxODcuOCw0NjEuOSwxOTQuOSw0NjEuOSwyMDMuNQoJCSIvPgoJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAuMTAyOCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNDYxLjksMjAzLjVjMCw4LjctNywxNS43LTE1LjcsMTUuNwoJCWMtOC43LDAtMTUuNy03LTE1LjctMTUuN2MwLTguNyw3LTE1LjcsMTUuNy0xNS43QzQ1NC45LDE4Ny44LDQ2MS45LDE5NC45LDQ2MS45LDIwMy41eiIvPgoJPHBhdGggZmlsbD0iIzk3OTc5NyIgZD0iTTgyLjEsMjMyLjZIMjUuOWMtMC41LDAtMS0wLjQtMS0xdi01Ni4yYzAtMC41LDAuNC0xLDEtMWg1Ni4yYzAuNSwwLDEsMC40LDEsMXY1Ni4yCgkJQzgzLDIzMi4yLDgyLjYsMjMyLjYsODIuMSwyMzIuNiIvPgoJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDEwMjAyIiBzdHJva2Utd2lkdGg9IjAuMjA1NyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNODIuMSwyMzIuNkgyNS45Yy0wLjUsMC0xLTAuNC0xLTF2LTU2LjIKCQljMC0wLjUsMC40LTEsMS0xaDU2LjJjMC41LDAsMSwwLjQsMSwxdjU2LjJDODMsMjMyLjIsODIuNiwyMzIuNiw4Mi4xLDIzMi42eiIvPgoJPHBhdGggZD0iTTY5LjcsMjAzLjVjMCw4LjctNywxNS43LTE1LjcsMTUuN3MtMTUuNy03LTE1LjctMTUuN2MwLTguNyw3LTE1LjcsMTUuNy0xNS43UzY5LjcsMTk0LjksNjkuNywyMDMuNSIvPgoJPHBhdGggZmlsbD0iI0Y5RjlGOSIgZD0iTTMzMy44LDMxMC4zSDE2NS45Yy04LjMsMC0xNS02LjctMTUtMTVWMTI3LjVjMC04LjMsNi43LTE1LDE1LTE1aDE2Ny44YzguMywwLDE1LDYuNywxNSwxNXYxNjcuOAoJCUMzNDguOCwzMDMuNiwzNDIuMSwzMTAuMywzMzMuOCwzMTAuM3oiLz4KCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwLjEwMjgiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTY5LjcsMjAzLjVjMCw4LjctNywxNS43LTE1LjcsMTUuNwoJCXMtMTUuNy03LTE1LjctMTUuN2MwLTguNyw3LTE1LjcsMTUuNy0xNS43UzY5LjcsMTk0LjksNjkuNywyMDMuNXoiLz4KCQk8L2c+Cjwvc3ZnPg==";\n  transient = true;\n}\n#IP7MQddaWIMSii2f\nvar logger : App_Logger {\n  // {shim:}\n  transient = true;\n}\n#z4JpVqUVYFEt242M\nvar event_queues : String_Map {\n  // {shim:}\n  transient = true;\n}\n#BqrPmRC6jDYCukGD\naction first_event(#D42Ig553PhKq4i1h name: String) returns(#LvCIVEn5SGoFsUQw r: * Event_Bus) {\n  #S54lpFtjKjUHFKzi // {shim:}\n  #RZNIuj3lqoN3XBHs $j := 0;\n  #xl2YfZUIVs2bxDTW $n := records→Event_Bus_table→count;\n  #XSmtWmzT9PIeyS4f while $j < $n do {\n    #xyeEq0ZyXsc8jJee $ev := records→Event_Bus_table→row_at($j);\n    #YLmFnqeqCx4SCqaW if $ev→name→equals($name) then {\n      #BfAUYnBpcCUv9d6a `return` $ev;\n    }\n    #Q1dlEH79JUnTh4LX $j := $j + 1;\n  }\n  #wIXRC18Oi3Crpzb5 `return` records→Event_Bus_table→invalid;\n  meta private;\n  meta sync;\n}\n#shg2hAnCU7F4s74Y\naction test_play_note() {\n  #xzttSnRTTwvwFA7J // {shim:}\n  #x4AIYBST31am9VdY code→ring_tone(440);\n  #THJySqP27cAgQsaj code→pause(1000);\n  #TblGf0VF1CPJ6kMi code→ring_tone(540);\n  #pJWEI0OhM2WjvsmY code→pause(1000);\n  #aRlrDs9lN5SjbIzI code→ring_tone(0);\n  #rTSs47awcQhuxF68 code→pause(1000);\n  #izbzXfqhmfDGfk1T code→ring_tone(440);\n  meta private;\n  meta test;\n}\n#xSM8dUbL7z4962Uq\naction ring_tone(#x6LSvAzKrDJ17xu5 frequency: Number) {\n  #xPhZkakRDj6rdLie // Plays a tone through pin ``P0``.\n  #Io3qQ3JyDbVd2NVV // {help:functions/ring-tone}\n  #Tt9V48fB99uH7oPY // {namespace:music}\n  #YGzmuem9F35GsbhE // {weight:80}\n  #tXZFp05e4tJHLACS // {hints:frequency:440}\n  #N722EwENmgCNUdCs code→analog_set_pitch_pin("P0");\n  #nW42CNnggdII8dc4 code→analog_pitch($frequency, 0);\n}\n#zeiPSQvHNIer2uac\naction test_warning() {\n  #SSMfX6t5fWn7h04x // {shim:}\n  #rGaI9w2nf60bKxEH code→\\_libinit;\n  #mTHHt30PoPagapRP code→forever;\n  #xJiPHVjqVziSJqle where `implicit` \\_body\\_() {\n    #UcbyY25lqLaSlf0N code→on_pin_pressed("P2");\n    #mSBzWIUK9D6gMShm where `implicit` \\_body\\_() {\n      #g6O52rAigBwHjrn4 code→show_string("sw", 150);\n      #cv1jrjdAaBfrfJVt code→pause(500);\n    }\n  }\n  meta private;\n  meta test;\n}\n#tHOUdkl60T7Q7Doi\naction store_pin_handler(#foZZksEULlhDtfjB name: String, #xocE8Y4sHKsI4ZmX ev: Event_Binding) {\n  #sb2HOtfOByaJVTUA // {shim:}\n  #xjhOTngE9qyaAYrE $name := $name→trim(" \\t")→to_lower_case;\n  #aboKExhvnNmkj2pM if $name→equals("p0") then {\n    #fp2oW4xMNIzM14oj data→p0_handler := $ev;\n  }\n  else { #t9YxAAvsTwP7gRjc if $name→equals("p1") then {\n    #iEpu6Gr4k7YxwZyZ data→p1_handler := $ev;\n  }\n  else { #y4mYXzm4vv0qIW7V if $name→equals("p2") then {\n    #g4ZFv85AuknPhpvC data→p2_handler := $ev;\n  }\n  else { } } } \n  meta private;\n  meta sync;\n}\n#tnIOjiWz0KJW0Jw4\nvar p0_handler : Event_Binding {\n  // {shim:}\n  transient = true;\n}\n#wHKaWOUBRGyTzDER\nvar p1_handler : Event_Binding {\n  // {shim:}\n  transient = true;\n}\n#P545BoMFP6juxgJ8\nvar p2_handler : Event_Binding {\n  // {shim:}\n  transient = true;\n}\n#FUIrUzLVkX1B0F8a\naction clear_pin_handler(#RSL4xscVGqj094dJ name: String) {\n  #C4gtDdQMQ8juyxA6 // {shim:}\n  #kfqPf0I2193RDPpB $name := $name→trim(" \\t")→to_lower_case;\n  #xIRL2SG5Y3slm0gb if $name→equals("p0") `and` `not` data→p0_handler→is_invalid then {\n    #Z3z522H4zGPvuo6V data→p0_handler→delete;\n    #R4urnW9bw1szDdEg data→p0_handler→\\u25c8clear;\n  }\n  else { #oGnSVGLrssTCQmWp if $name→equals("p1") `and` `not` data→p1_handler→is_invalid then {\n    #hXmS2sdX47s6nMDd data→p1_handler→delete;\n    #ssTjCqfie22HWaLa data→p1_handler→\\u25c8clear;\n  }\n  else { #d2xeKSkVSETaiyf1 if $name→equals("p2") `and` `not` data→p2_handler→is_invalid then {\n    #XOFHbVTvwysTjcM0 data→p2_handler→delete;\n    #TgkAqrWwi7OEyrkK data→p2_handler→\\u25c8clear;\n  }\n  else { } } } \n  meta private;\n  meta sync;\n}\n#jIsIcIMs28T2k3d1\naction show_ble_event_notification(#iWT7LqrE1qPWy3nn family: String, #m26PlHeE0cZD3K3d msg: String) {\n  #xw5ZOUW8EPnesEjC // {shim:}\n  #xBsth8WKFROreEm2 code→\\_libinit;\n  #VHYJDnaGvLgvy0IS code→pairing_warning;\n  #lHoodQfdcB4tjgLt data→ble_required := true;\n  #xGdYFwSAjkS6aGY3 $sprite := data→board→create_text(100, 40, 24, $family→concat("\\n")→concat($msg));\n  #FYwPad2E8AYpRN4N $sprite→set_color(colors→white);\n  #x4iM24484ozaNTeT $sprite→fit_text;\n  #MGAALd5sucnheK34 $sprite→set_text_baseline("top");\n  #xFqNWnjtZC3yheXG $sprite→set_shadow(20, colors→white, 5, 5);\n  #QtVpY5jaqI0b24vT $sprite→speed_y := math→random_range( - 50, 10);\n  #tDWv6PeAjgT9jDRp $sprite→acceleration_y := math→random_range(100, 150);\n  #PA5DC8rDbWD8HJvR $sprite→speed_x := math→random_range(20, 30);\n  #eYo2fK83t5tPyZbI $sprite→left := 10;\n  #x25Duph4hxkI6ShK $sprite→@top := 0;\n  #IeqEh6CZBPBArsjt $anim := $sprite→create_animation;\n  #G4m04OrWzinA52eZ $anim→fade_in(0.5, "cubic");\n  #DfAyWezJ686P96Mc $anim→sleep(0.5);\n  #I7N2JTZXffLH62QE $anim→puff_out(0.5, "cubic", 1.5);\n  #CS4koD4KOBTpR4d2 $anim→delete;\n  meta private;\n  meta sync;\n}\n#fJ4pOnEOqU3eUD2k\naction tell_remote_control_to(#ct4m4Kjn25Ui4zdx @event: String) {\n  #xBtYsIZTUHfWmXCq // Sends a ``remote control`` command to the parent device.\n  #pUWFx7Xrhvhdfd36 // {namespace:devices}\n  #znsH3tl5GMatL1uD // {weight:20}\n  #tYPnukasH2fTz7ef // {help:functions/tell-remote-control-to}\n  #K8Z19s2gUUoEo7hY // {shim:micro_bit::devices::remote_control}\n  #KA5hsujGsAGoxW2v // {enum:event:play=MES_REMOTE_CONTROL_EVT_PLAY,pause=MES_REMOTE_CONTROL_EVT_PAUSE,stop=MES_REMOTE_CONTROL_EVT_STOP,next track=MES_REMOTE_CONTROL_EVT_NEXTTRACK,previous track=MES_REMOTE_CONTROL_EVT_PREVTRACK,forward=MES_REMOTE_CONTROL_EVT_FORWARD,rewind=MES_REMOTE_CONTROL_EVT_REWIND,volume up=MES_REMOTE_CONTROL_EVT_VOLUMEUP,volume down=MES_REMOTE_CONTROL_EVT_VOLUMEDOWN}\n  #DWxu9anbEMzicq8T code→show_ble_event_notification("remote control", $@event);\n  meta sync;\n}\n#x4q8jp37FZ2yFjtH\naction map(#xDrpNVDYcOP4xPyM value: Number, #W7lLKHDJCBcfFWfx from_low: Number, #x51HWkuNwWc6CfRu from_high: Number, #UphF5VHccbBSprcV to_low: Number, #iODWbk9drmgB2ZBV to_high: Number) returns(#XiujfWmMGuAZueU8 r: Number) {\n  #MA0gRjAwdRLlCae7 // Re-maps a number from one range to another. That is, a value of ``from low`` would get mapped to ``to low``, a value of ``from high`` to ``to high``, values in-between to values in-between, etc.\n  #EUpjXk4q9Jn56eQe // {hints:from high:1023}\n  #zfwaGjKO4DVlsVTO // {hints:to high:4}\n  #Tft9hSpV4N3FKVO6 // {help:functions/map}\n  #xCn7AaB8RuB8qFVD // {namespace:pins}\n  #dnQlRSL4btf2ExhK // {weight:40}\n  #uc5IndedDZWZMEwV `return` ($value - $from_low) * ($to_high - $to_low) / ($from_high - $from_low) + $to_low;\n  meta sync;\n}\n#g4a4jkTOoyzp82wv\naction pairing_warning() {\n  #XaJUgiqPPsF9LCfB // {shim:}\n  #ONnRJZP4a5MRHgD4 code→warning("pair your micro:bit with another device to use this function");\n  meta private;\n  meta sync;\n}\n#qPUtJwJ0TqvMC1KG\naction magnetic_force(#LsEFJSIvP0IbVrDx dimension: String) returns(#xHQcYMA6Plgw9L7T millig: Number) {\n  #hPENJP4Mk8DofQRm // Get the magnetic force value in ``micro-Teslas`` (``µT``). This function is not supported in the simulator.\n  #s3Bnnawgp2VmtUO8 // {help:functions/magnetic-force}\n  #xCTDjLY5GkeF3sgN // {namespace:input}\n  #BgprL13WBVpXrK9A // {weight:43}\n  #b4JHQry9Zdd486VW // {enum:dimension:x=0,y=1,z=2,strength=3}\n  #xF4wa42ef8c5X8lA // {shim:micro_bit::getMagneticForce}\n  #havM3pnn4dudJ5gg `return` 0;\n  meta sync;\n}\n#w0az5rdjy9wEVnUV\naction test_magnetic_force() {\n  #ZWuupOD9Su55M1MQ // {shim:}\n  #wsYSu1daVvpWUeD3 code→\\_libinit;\n  #SKnaR2nInQodK0CN while true do {\n    #yOEhUqmj5wpjX6RM $x := code→magnetic_force("x");\n    #RMNgHytGLoye4r3z $y := code→magnetic_force("y");\n    #yr82TE9I7LBUzNcE $z := code→magnetic_force("z");\n    #qvqzBO2R24y8D4I5 code→pause(100);\n  }\n  meta private;\n  meta test;\n}\n#CdzvoNQyYRK48OLL\naction servo_write_pin(#xAG1wlRgYVj9GlRk name: String, #gpDCTuJQs7tEJaYB value: Number) {\n  #D4Do6hAmoqG30qwT // Writes a value to the servo, controlling the shaft accordingly. On a standard servo, this will set the angle of the shaft (in degrees), moving the shaft to that orientation. On a continuous rotation servo, this will set the speed of the servo (with ``0`` being full-speed in one direction, ``180`` being full speed in the other, and a value near ``90`` being no movement).\n  #xRCcrcV8V4YBSRY4 // {help:functions/servo-write-pin}\n  #qzuvM5DmpVW5HnJV // {namespace:pins}\n  #xU4azu812RcdtEK0 // {weight:44}\n  #VAh8yBEk4isWMrPv // {enum:name:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2}\n  #wb072FQSt0oUGTlW // {hints:value:180,90,0}\n  #Q5yrXRxd5OEeNIp4 // {shim:micro_bit::servoWritePin}\n  #r4JhdsGC9rWeysJv $value := math→round($value);\n  #PeRqtR86b2tatBWd if $value < 0 `or` $value > 180 then {\n    #R2SdD6mbOatEAbJ0 code→warning("value should be between 0 and 180.");\n  }\n  meta sync;\n}\n#xyjXPoUGVDbuKVxy\naction servo_set_pulse(#xrp9JurOyqwzOHfl pin: String, #PW24fYn4zEb79S8Z micros: Number) {\n  #zRdYAgRkve7OQ4L9 // Configures this IO pin as an analog/pwm output, configures the period to be 20 ms, and sets the pulse width, based on the value it is given **microseconds** or `1/1000` milliseconds.\n  #oSEIW9PKLCCG0hGx // {shim:micro_bit::setServoPulseUs}\n  #ZNqFhWfv389w4Kvb // {namespace:pins}\n  #IapMTP9dyJt46KX1 // {help:functions/serial-set-pulse}\n  #FPbnv4WqMjILi26F // {weight:10}\n  #dwQoy54QUKSce2jg // {enum:pin:P0=uBit.io.P0,P1=uBit.io.P1,P2=uBit.io.P2}\n  #xWd9YrYWLq2zwBJL // {hints:micros:1000,1500,2000}\n  meta sync;\n}\n#xOZj6EkeH5NrwuKz\naction rest(#Dlu4AkS2aw2W3kKC ms: Number) {\n  #x2FWDwNcak3HMLNZ // Rests (plays nothing) for a specified time through pin ``P0``.\n  #aqMT5z6Ff8QcKE7I // {help:functions/rest}\n  #Emu6nWDM2AFw0d5k // {namespace:music}\n  #xvpxHK76Ioc6P2jg // {weight:79}\n  #N9j25wl9kDg2FJ0c // {hints:millis:1000}\n  #NNgmNw93MRVEDJPH code→play_tone(0, $ms);\n}\n#UiGQIc1iIkMh2d64\naction rotation(#Hc1jGwhjaC7IKMYj kind: String) returns(#nybXv9g8UNYUVvLO angle: Number) {\n  #KUv392v682F9nzAO // The pitch of the device, rotation along the ``x-axis``, in degrees.\n  #uy3Q4O9JgrSbAgzY // {help:/functions/rotation}\n  #nIWWg8S2EfseNqBN // {namespace:input}\n  #H8M557Nv0mthwxR5 // {weight:60}\n  #exd1NQ4dHpmAW4Is // {enum:kind:pitch=0,roll=1}\n  #A2S02DdTu68XAkS6 // {shim:micro_bit::getRotation}\n  #KHSKxqHusXKmJ96h $x := code→acceleration("y");\n  #TDpGRYYu4wknG2QD $y := - code→acceleration("x");\n  #xlIUa0mMjRnw4KZc $z := - code→acceleration("z");\n  #JcE4C83Mbv504yDN $roll := math→atan2($y, $z);\n  #xrDZacJbVkUJq4vB // See https://github.com/lancaster-university/microbit-dal/blob/master/source/MicroBitAccelerometer.cpp\n  #aqZTKjLnrx3auGYS if $kind→equals("roll") then {\n    #VGYsdlr44neknh2p `return` math→floor(math→rad_to_deg($roll));\n  }\n  else {\n    #C8bMftDsn2hjvQ5q $pitch := math→atan( - $x / ($y * math→sin($roll) + $z * math→cos($roll)));\n    #uqPa5krZh97byvdt `return` math→floor(math→rad_to_deg($pitch));\n  }\n}\n#ko8AY4P56uQxR3Lx\naction note(#Y4tRTwLYNsq0niNH name: String) returns(#Shffo9ayK8aw62UV frequency: Number) {\n  #x2rK4VyqeesyxDoG // This function is obsolete. Please use ``music->note frequency`` instead.\n  #j07ppvwZ0wXrU4MB // {enum:name:C=262,C#=277,D=294,Eb=311,E=330,F=349,F#=370,G=392,G#=415,A=440,Bb=466,B=494,C3=131,C#3=139,D3=147,Eb3=156,E3=165,F3=175,F#3=185,G3=196,G#3=208,A3=220,Bb3=233,B3=247,C4=262,C#4=277,D4=294,Eb4=311,E4=330,F4=349,F#4=370,G4=392,G#4=415,A4=440,Bb4=466,B4=494,C5=523,C#5=555,D5=587,Eb5=622,E5=659,F5=698,F#5=740,G5=784,G#5=831,A5=880,Bb5=932,B5=989}\n  #rBsuxzJQpYkPcNvY // {shim:TD_ID}\n  #x2imSmluVwjKgKJq // {namespace:music}\n  #R8VYGr4Htc42XPG2 // {weight:0}\n  #vZCz3CeHwrqlLi2V // {help:functions/note-frequency}\n  #C4Nk1CulhgpB34fw $f := art→notetable\\u002esjon→number($name→to_upper_case→trim(" \\t"));\n  #xM27VD6UJfPYh0hy if `not` $f→is_invalid then {\n    #xYh72XsEjmWTjxm6 `return` $f;\n  }\n  else {\n    #vpeBlf9Hrij34fp2 code→warning("Sorry, we don\\\'t know about this note.");\n    #IMF8844p2G43Esg8 `return` 0;\n  }\n  meta sync;\n}\n#oQBH3ZAjr5l30Gy1\naction test_rotation() {\n  #LypAVSbUH5nm9UNJ // {shim:}\n  #hdpW2ZEMMT5A8CGv code→\\_libinit;\n  #f3AX3jZEtzwHQqsE code→forever;\n  #W2leacY4H1Hw8aVT where `implicit` \\_body\\_() {\n    #xGDUqeP40Y1Av5kr $angle := code→rotation("roll");\n    #tblBtCn20WaO4kss code→show_number($angle, 150);\n  }\n  meta private;\n  meta test;\n}\n#xOyhkiuukKoXsSf3\naction set_pixel_brightness(#MXRjgwVpEVBRFqeR @this: * Image, #lV45czXkvrdYIaFe x: Number, #VziHcAryoNtz2N0K y: Number, #FGY5E61J6hOffs9e value: Number) {\n  #xjJS62ADi09BoR8h // Set a pixel state at position ``(x,y)``\n  #gY4qfnINky41OVAC // {help:functions/set-pixel}\n  #b2ukvr2YqvGXd6We // {namespace:image}\n  #nWnpK22Wo0dDCaec // {shim:micro_bit::setImagePixel}\n  #RuFHoZWWNJ7nwFbf $x := math→floor($x);\n  #lULDn4tozSW2Swy5 $y := math→floor($y);\n  #cAZh6VFQFZ4HCzP1 if $x < 0 `or` $x ≥ $@this→leds→row_count then {\n    #xAfMmCVOUHZpho4h code→warning("x should be between 0 and " →concat(($@this→leds→row_count - 1)→to_string));\n    #x2K2FAWG4d6E2s5I `return` ;\n  }\n  else { #mrBUjDL4OsPrtTvk if $y < 0 `or` $y ≥ $@this→leds→column_count then {\n    #HbOQG7UJVWq2B1kb code→warning("y should be between 0 and " →concat(($@this→leds→column_count - 1)→to_string));\n    #oIipripGXsEtvKys `return` ;\n  }\n  else { } } \n  #xLygH81fjmSis6kt $@this→leds→set_item($x, $y, $value);\n  meta sync;\n}\n#ZHNC7Mxlv12jRmo6\naction pixel_brightness(#uAEF3o8d5wYosjdT @this: * Image, #S7i6zQSOqBnuNhu5 x: Number, #q9VHqzfRTnI9XDDn y: Number) returns(#FECK2kiFRCeWmF5l state: Number) {\n  #ZAYbbyQljcBromJm // Get the pixel state at position ``(x,y)``\n  #s1qXnDy7759gbelE // {help:functions/pixel}\n  #xg27bIuNvP0nRcPO // {namespace:image}\n  #DWYzPeCDN4GNxa2l // {hints:x:0,1,2,3,4}\n  #cRWiaeT8TKShGdR7 // {hints:y:0,1,2,3,4}\n  #BjJ8orBlo6iJ0NrJ // {shim:micro_bit::getImagePixel}\n  #r3TTpBg0VX2b6DHN $x := math→round($x);\n  #dfZYFPmXS7GKLohf $y := math→round($y);\n  #ti4xQsZ8cO2NCsd4 if $x < 0 `or` $x ≥ $@this→leds→row_count then {\n    #fnFG55i42XiJcdrv code→warning("x should be between 0 and " →concat(($@this→leds→row_count - 1)→to_string));\n    #g27fXMxF9GIeePsv `return` 0;\n  }\n  else { #JUUkH61WF1tcL28p if $y < 0 `or` $y ≥ $@this→leds→column_count then {\n    #HMKmCc6B0h2Q4cz2 code→warning("y should be between 0 and " →concat(($@this→leds→column_count - 1)→to_string));\n    #R11nLsD2zpYlRGFb `return` 0;\n  }\n  else { } } \n  #ma6H9dmbM5CRZvzn `return` $@this→leds→item($x, $y);\n  meta sync;\n}\n#add7T3y7MNatnGny\naction set_display_mode(#WTg2PtS86SYIQDt0 mode: String) {\n  #E35ZI91OTJ2kyT6g // Sets the display mode between black and white and greyscale for rendering LEDs.\n  #b56Xmqi0Ckx0Hz4B // {enum:mode:back and white=0,greyscale=1}\n  #jhKTS5UHC8Rltnka // {shim:micro_bit::setDisplayMode}\n  #SVF4C6g4vgbWIOis // {namespace:led}\n  #jycAgxiKjEkoBwJs // {weight:1}\n  #zCgiDN8quFSVnDaT // {help:/functions/set-display-mode}\n  #awhSb2rKqSuvmbXC data→\\_greyscale := $mode→equals("greyscale");\n  meta sync;\n}\n#hjjZvF3ZOHXgRyFu\nvar \\_greyscale : Boolean {\n  transient = true;\n}\n#g0ss4j1eLk5ynyUt\naction play_note(#bHaFCNEEJaK991Yo frequency: Number, #TcObkTO93uKAovfA ms: Number) {\n  #xgZagGizmoldZ7s1 // This function is obsolete. Please use ``music->play tone`` instead.\n  #xLfJimnAWhsIU1wq // {help:functions/play-tone}\n  #R0wMYnIMaWgjqZan // {namespace:music}\n  #VfhIF1cNxbzbYO2J // {weight:0}\n  #fc2nyHYoM4jaKZJl // {hints:frequency:440}\n  #Neq372aA2RIBI0lX // {hints:ms:1000}\n  #xoBbd94UdCwRCF99 code→play_tone($frequency, $ms);\n}\n#ZCnPMPq5QSyyJy6i\naction light_level() returns(#GXD5twYeWvP3BPyt light: Number) {\n  #WV0iSATx7aji44xQ // Reads the light level applied to the LED screen in a range from ``0`` (dark) to ``255`` bright. In the simulator, the ``acceleration y`` is used to emulate this value.\n  #xikatVrpE6xh0BTn // {help:functions/light-level}\n  #rjeg4imR7dmRWMEJ // {namespace:input}\n  #xi0fmPgjARvr6Z9r // {weight:55}\n  #vYVhQXlLmZu5Mva8 // {shim:micro_bit::lightLevel}\n  #akAqI31dd4qWYn7N `return` math→clamp(0, 255, math→abs(code→acceleration("y") / 2)) - 255;\n  meta sync;\n}\n#v82mkjS2I5pZXQeU\naction is_ble_required() returns(#zvaiE3bc26qZJe0m r: Boolean) {\n  #ndD8Jzfci1As2Qku // Returns a value indicating if any BLE function has been used so far. **simulator only**\n  #Zg2S3ZOPKDzRoqjl // {namespace:simulator}\n  #blWfIptmUrfDF24o // {action:libsonly}\n  #x429y8Nylcc5yo1k `return` data→ble_required;\n  meta sync;\n}\n#Si7IjGa9nv451k3d\nvar ble_required : Boolean {\n  transient = true;\n}\n#qhRPOv27q7FwkCnd\naction signal_strength() returns(#pjNiV2VnbNOLOrtS strength: Number) {\n  #xT2ELzQbRIFqjn4W // Returns the last signal strength reported by the paired device.\n  #BQe7g7kLBH1JXry2 // {help:functions/signal-strength}\n  #LvClLSskMFcoNgOo // {namespace:devices}\n  #nqacunRHChfkRx2G // {weight:40}\n  #xHPfdExQ4TqV8mdt // {shim:micro_bit::signalStrength}\n  #kSpK0NglrvAg93Vz data→ble_required := true;\n  #z4nSUBqBKe6WaUJY `return` 0;\n  meta sync;\n}\n#u9XE1xZdVNsJL8sJ\naction on_signal_strength_changed(#cuYkQZekjFUGjAi4 body: Action) {\n  #RUTzQqkWAkkLT07I // Registers code to run when the device notifies about a change of signal strength.\n  #iYAREqvtJxpxvOH0 // {shim:micro_bit::onSignalStrengthChanged}\n  #UceJa459XHIqYGpt // {namespace:devices}\n  #xmRckxNtld14XWCK // {help:functions/on-signal-strength-changed}\n  #Csvsk6MK3WAipXGZ code→notify_event_registration("on string strength changed");\n  #t84fDrl4Mq6am32n code→pairing_warning;\n  meta sync;\n}\n#od0z0OKRNOBHKno4\nvar namespacedocs\\u002ejson : Json_Object {\n  // {shim:}\n  is\\_resource = true;\n  url = "data:text/plain;base64,ewogICAgImJhc2ljIjogIkRpc3BsYXkgc3RyaW5nLCBudW1iZXJzLCBpbWFnZXMgb24gdGhlIHNjcmVlbiBhbmQgYmFzaWMgbG9vcHMuIiwKICAgICJpbnB1dCI6ICJBY2Nlc3MgdG8gc2Vuc29yIGFuZCBldmVudHMuIiwKICAgICJsZWQiOiAiVHVybiBvbiBhbmQgb2ZmIExFRHMgb24gdGhlIHNjcmVlbi4iLAogICAgImNvbnRyb2wiOiAiUmVwZWF0IGNvZGUgd2l0aCB2YXJpb3VzIGxvb3BzLiIsCiAgICAibG9naWMiOiAiSWYgc3RhdGVtZW50IGFuZCBib29sZWFuIG9wZXJhdG9ycy4iLAogICAgIm11c2ljIjogIlBsYXkgdG9uZXMgb24gdGhlIHBpbnMuIiwKICAgICJwaW5zIjogIkludGVyYWN0IHdpdGggZWxlY3Rvcm5pYyBzZW5zb3JzIGFuZCBtb3RvcnMgdGhyb3VnIHRoZSBwaW5zLiIsCiAgICAicmFkaW8iOiAiQnJvYWRjYXN0ZWQgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIG1pY3JvOmJpdHMuIiwKICAgICJnYW1lIjogIlNwcml0ZXMgYW5kIGdhbWUgYW5pbWF0aW9ucyIsCiAgICAiZGV2aWNlcyI6ICJDb250cm9sIHBhaXJlZCBkZXZpY2VzIHN1Y2ggYXMgcGhvbmVzIG9yIHRhYmxldHMgb3ZlciBCbHVldG9vdGguIgp9";\n  transient = true;\n}\n#xYboMgkbvJoQX7sC\naction test_simulator() {\n  #u48cZt3DgE4wCB4Y // {shim:}\n  #Rl7A4R4pnG5P27KE code→\\_libinit;\n  #zfAUVfu4BJ1DcIiz data→board→set_debug_mode(true);\n  #RzutKKtsqnxrwC65 code→forever;\n  #vRZvHqSS2hxQZ66I where `implicit` \\_body\\_() {\n    #qcsH21SkO2PAgOTL code→acceleration("x");\n    #xhGcRD9sid5iFVrZ code→acceleration("y");\n    #o4AExlgMkXXOP8GA code→acceleration("z");\n    #LRctI025VatmeOCr code→acceleration("strength");\n    #KV0405Bp8kY5Q0WX code→compass_heading;\n    #zmws2q49NZq7htip code→temperature;\n    #TwCxJBJlwOBGSdMS code→light_level;\n    #jCWPzJVSnmUVX3HY code→magnetic_force("x");\n  }\n  meta private;\n  meta test;\n}\n#GmOcDyC1h7Te2171\nvar theme_button : Sprite {\n  // {shim:}\n  transient = true;\n}\n#ptr6LKVPwprLEIih\naction on_gamepad_button(#D3QUCj7BfHCBhap4 name: String, #xI9Zgf22rh0WuyDZ body: Action) {\n  #ec8bEwDIIWvoXaAQ // Register code to run when the micro:bit receives a command from the paired gamepad.\n  #DNz3nPXpQNLBRxS2 // {help:functions/on-gamepad-button}\n  #E9BV9SOyuTlksOp9 // {namespace:devices}\n  #T48grEOAY1B4H1ph // {weight:40}\n  #WZzx5JA2s7ssD9tE // {enum:name:A down=MES_DPAD_BUTTON_A_DOWN,A up=MES_DPAD_BUTTON_A_UP,B down=MES_DPAD_BUTTON_B_DOWN,B up=MES_DPAD_BUTTON_B_UP,C down=MES_DPAD_BUTTON_C_DOWN,C up=MES_DPAD_BUTTON_C_UP,D down=MES_DPAD_BUTTON_D_DOWN,D up=MES_DPAD_BUTTON_D_UP,1 up=MES_DPAD_BUTTON_1_DOWN,1 down=MES_DPAD_BUTTON_1_UP,2 down=MES_DPAD_BUTTON_2_DOWN,2 up=MES_DPAD_BUTTON_2_UP,3 down=MES_DPAD_BUTTON_3_DOWN,3 up=MES_DPAD_BUTTON_3_UP,4 down=MES_DPAD_BUTTON_4_DOWN,4 up=MES_DPAD_BUTTON_4_UP}\n  #yUSp4coqF0Z782rL // {shim:micro_bit::onGamepadButton}\n  #huR2efoZWTsLGE6k $evid := "on gamepad button " ∥ $name;\n  #NIoxxw4REvwe9Fac code→notify_event_registration($evid);\n  #FVzCwPmbtYNq7UzA code→pairing_warning;\n  meta private;\n  meta sync;\n}\n#dYquo5vKBlFTf010\nvar boardcolors\\u002ejson : Json_Object {\n  // {shim:}\n  is\\_resource = true;\n  url = "data:text/plain;base64,WwoiIzNBRENGRSIsCiIjRkZENDNBIiwKIiMzQUZGQjMiLAoiI0ZGM0E1NCIKXQ==";\n  transient = true;\n}\n',rwbwnc:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "micro:bit game";\nmeta rootId "Ba3NfsJb7QfMsuiMUrQ4HLjN";\nmeta isLibrary "yes";\nmeta hasIds "yes";\nmeta splitScreen "yes";\nmeta platform "current";\nmeta parentIds "";\n// A #microbit game library.\n#FICjbNZc86cUSakA meta import micro\\u003abit {\n  pub "thflqk"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` tell_camera_to(@event: String)\n    action `sync` raise_alert_to(@event: String)\n    action `async` on_notified(@event: String, body: Action)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_tone(frequency: Number, ms: Number)\n    action `sync` note_frequency(name: String) returns(frequency: Number)\n    action `sync` plot_leds(leds: String)\n    action `sync` plot_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` temperature() returns(temp: Number)\n    action `sync` stop_animation()\n    action `async` show_frame(img: ♻ micro\\u003abit → Image, frame: Number)\n    action `sync` queue_event(body: Action, name: String)\n    action `async` ring_tone(frequency: Number)\n    action `sync` tell_remote_control_to(@event: String)\n    action `sync` map(value: Number, from_low: Number, from_high: Number, to_low: Number, to_high: Number) returns(r: Number)\n    action `sync` magnetic_force(dimension: String) returns(millig: Number)\n    action `sync` servo_write_pin(name: String, value: Number)\n    action `sync` servo_set_pulse(pin: String, micros: Number)\n    action `async` rest(ms: Number)\n    action `async` rotation(kind: String) returns(angle: Number)\n    action `sync` note(name: String) returns(frequency: Number)\n    action `sync` set_pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Number)\n    action `sync` pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Number)\n    action `sync` set_display_mode(mode: String)\n  }\n}\n#GSTBzUmgzKqh572M\nvar \\_score : Number {\n  transient = true;\n}\n#dBVZeGqsEXhS7NAa\nvar \\_life : Number {\n  transient = true;\n}\n#BAJJhCO4wcEnkvZS\naction score() returns(#ZdGkas4VGdp7KpAk score: Number) {\n  #JKrysLLsVXnU2lZd // Gets the current score\n  #bagjbfBxWixI920m // {namespace:game}\n  #b4OrVIn3auNNVlZc // {weight:10}\n  #gQUXqxZiVTUJH10u // {help:td/game-library}\n  #fLeWes41L5KcTL21 code→init;\n  #dZpwDtBRDC0AuC6K `return` data→\\_score;\n  meta sync;\n}\n#lJ7P9FLSUXiK1qfR\naction set_score(#Oj3vV76xynFUnJ6u value: Number) {\n  #VyQVy7NKpR21Y6op // Sets the current score value\n  #xAB4O7rLX45TrPs0 // {namespace:game}\n  #CpMhV2T2818lBBP4 // {weight:10}\n  #Hb1inJ8c2GnMbVTi // {help:td/game-library}\n  #QG6TE4UiTqrXI4uR code→init;\n  #sjsRgFn54B4GS3gW data→\\_score := math→max(0, $value);\n  meta sync;\n}\n#ct21RxcGord4ZUHK\naction life() returns(#xwvNDXyE5xUJo2w4 life: Number) {\n  #IyJ0579xbWjJurUv // Gets the current life\n  #xaYElyBY73cVSzfc // {namespace:game}\n  #qOfD7vEMcAwTXJCF // {weight:10}\n  #WThSysHUIV4s2PBM // {help:td/game-library}\n  #YWqh1YEfgdNxl82n code→init;\n  #S2tbXAXUHi1iQN22 `return` data→\\_life;\n  meta sync;\n}\n#yQOnar7sIXqp6pis\naction set_life(#A4tOr2LyOrUR2M3f value: Number) {\n  #bQC50q5J4Nv6DxLr // Sets the current life value\n  #xZpUVw9ridjn2EO4 // {hints:value:1,3}\n  #xwe4HAi2BtgQsN0O // {namespace:game}\n  #yMug18SrGqhAT3Bn // {weight:10}\n  #x9P3dC6Iwu2mm5gt // {help:td/game-library}\n  #ynbh4KZHrAcYV2DF code→init;\n  #vQP7JOwXyUTcrKDe data→\\_life := math→max(0, $value);\n  #az2zGYGvRNAVlCiN if data→\\_life ≤ 0 then {\n    #xXtO1gUMmxwZYolc code→game_over;\n  }\n}\n#sCf9vmLsvG8WaSm3\naction init() {\n  #w0iiw6oWxgjcSpvJ if `not` data→\\_init then {\n    #OEkjPQmmhwrJW0Oh data→\\_score := 0;\n    #xiVPvMphLY51NRS8 data→\\_life := 3;\n    #bwqxqjuqihyb94gx data→\\_level := 1;\n    #Lf6evmVl2EvvT5p2 data→\\_init := true;\n  }\n  meta private;\n  meta sync;\n}\n#phR5OQxcOdM4coX9\naction add_score(#upNGyw2apMaUcvQC points: Number) {\n  #tL87Dx4B01r4P1Jc // Adds points to the current score\n  #qxWdMPrkQWGmHqQp // {hints:points:1}\n  #mwAslp0sFgo3kxVy // {namespace:game}\n  #CjU5W9YaAbTDuPXe // {weight:10}\n  #zuiUmYhuZxbAIleZ // {help:td/game-library}\n  #x7PPOGU8dlENtc4w code→init;\n  #kQUTLhhhFULjGZ4O code→set_score(data→\\_score + $points);\n  #vZtX1RcjDdWohAtr control[lib micro\\u003abit] →in_background;\n  #xTmfOuxYEEZU8RZo where `implicit` \\_body\\_() {\n    #EmMB4oUWOSOSrs2Q led[lib micro\\u003abit] →stop_animation;\n    #TpoevJbyuENBzDRz basic[lib micro\\u003abit] →show_animation("0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 0 1 0 0 0 0 0\\n0 0 0 0 0 0 0 1 0 0 0 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0\\n0 0 1 0 0 0 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\\n0 0 0 0 0 0 0 1 0 0 0 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0\\n0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 0 1 0 0 0 0 0", 20);\n  }\n  meta sync;\n}\n#ROPTygCiIFymgxcF\naction add_life(#Idxc4r0G1Vbjq8Ax lives: Number) {\n  #NDQv2bhltDPIfVSi // Adds life points to the current life\n  #gZW4aOWlH3lkAdJ2 // {hints:lives:1}\n  #piZkQFwDxd24sMMZ // {namespace:game}\n  #uTWomM4YiSXvjNFc // {weight:10}\n  #gMxH43bPNY6lkYOk // {help:td/game-library}\n  #XZF4u0yOUgyUQRl2 code→init;\n  #UCNjMauTD6c4fyeX code→set_life(data→\\_life + $lives);\n}\n#eHS28n1RPy4vJt9h\naction start_countdown(#k15bqhzwFzH4Y3yU ms: Number) {\n  #BCtRANWiE67zR26q // Starts a game countdown timer\n  #AZiqP23JFfbITIOx // {hints:ms:10000,30000}\n  #C2ARUWzUgFTvOtlU // {namespace:game}\n  #xOEHlgzZy2hhHBBs // {weight:11}\n  #XhFLKLF40CAqHQDO // {help:td/game-library}\n  #sx4X6t87BpsDX2Rt code→init;\n  #aKdshGPo1iqAXgyG if code→check_start then {\n    #YA72wUp4JSnzvoSL basic[lib micro\\u003abit] →show_animation("1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0\\n0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0\\n1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0\\n0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0\\n1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0", 400);\n    #A7XSXMDEmg5AdGAY data→\\_countdown_pause := math→max(500, $ms);\n    #FnAKYESYclPZ0cIR data→\\_start_time := - 1;\n    #v7EAWZzZFfFzIfTV data→\\_end_time := input[lib micro\\u003abit] →running_time + data→\\_countdown_pause;\n    #j1x6jSbo8PWqhcAB control[lib micro\\u003abit] →in_background;\n    #PfU9olXIFgS5aAwm where `implicit` \\_body\\_() {\n      #lvm9ZUpGlRoNoJSm basic[lib micro\\u003abit] →pause(data→\\_countdown_pause);\n      #Asl8YY54VpNM20l7 code→game_over;\n    }\n  }\n}\n#Zo54Nk7IINBtKKmo\nvar \\_start_time : Number {\n  transient = true;\n}\n#xlqvNMlD5yvfwaqU\nvar \\_end_time : Number {\n  transient = true;\n}\n#qsSRH3fC1L812M5G\naction game_over() {\n  #zL9SS6wzl1a4SmPu // Displays a game over animation.\n  #xEMronZSgyqejFrR // {namespace:game}\n  #iSDqv1rmu8dvkXDc // {weight:10}\n  #zVP4yHOI14OXGY5q // {help:td/game-library}\n  #Kx2cMn3rxMJadRgc if `not` data→\\_is_game_over then {\n    #xNEpLy8Dw9bOe19L data→\\_is_game_over := true;\n    #PHqtjWicyXXr3VHk code→unplug_events;\n    #Guoq4pVnwlRVXTiW led[lib micro\\u003abit] →stop_animation;\n    #XkFnkf3J2op1RUmQ led[lib micro\\u003abit] →set_brightness(255);\n    #qnqiNm6WirsquFMr led[lib micro\\u003abit] →set_display_mode("back and white");\n    #DQ2Ufby7NHShBjEc while true do {\n      #oeKwkJj5snJoUEnm for 0 ≤ i < 8 do {\n        #qN0fKrhol7iI1zpn basic[lib micro\\u003abit] →clear_screen;\n        #puFgaW4Ecm7oLMUb basic[lib micro\\u003abit] →pause(100);\n        #xxi2pN9JNMVicahP basic[lib micro\\u003abit] →show_leds("1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1", 300);\n      }\n      #fYNBElDJt4VLUcV3 basic[lib micro\\u003abit] →show_animation("1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0\\n1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 1 1 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\\n1 1 0 1 1 1 0 0 0 1 1 0 0 0 1 1 0 0 0 1 1 0 0 0 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\\n1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 0 0 1 1 1 0 0 0 1 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\\n1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 0 0 1 1 1 0 0 0 1 1 0 0 0 0 1 0 0 0 0 0", 100);\n      #XKk2kW9RyjOsqmB1 for 0 ≤ j < 3 do {\n        #bwOlN7eGtv4fFmR6 basic[lib micro\\u003abit] →show_string(" GAMEOVER ", 100);\n        #PZAWQZkkKMCO3f8F code→show_score;\n      }\n    }\n  }\n  else {\n    #n67cH9pIKxKFcdQ6 // already in game over mode in another fiber\n    #YJW4X4vqAVwdgZoD while true do {\n      #wYMn2vN7Y4h0bBFe basic[lib micro\\u003abit] →pause(10000);\n    }\n  }\n}\n#PdPR9cpJ2YKm2EYO\naction current_time() returns(#fsGwyKm0OLECbz4I ms: Number) {\n  #t5loUEw8UND4YmVQ // Gets the remaining time (since `start countdown`) or current time (since the device started or `start stopwatch`) in milliseconds.\n  #HeGc1Wr68Owk4cqu // {namespace:game}\n  #ioUuv9a7O60p0za8 // {weight:10}\n  #xgITZAJSJ1TVmJ9V // {help:td/game-library}\n  #aBET7rQnCPNQDPF4 code→init;\n  #q3rk2BW2LPvS91gF if data→\\_end_time > 0 then {\n    #eRrmAEc5C7Xt9JLP `return` math→max(0, data→\\_end_time - @\\u267b→micro\\u003abit→running_time);\n  }\n  else {\n    #dVJIN2dJFI6DfRF7 `return` input[lib micro\\u003abit] →running_time - data→\\_start_time;\n  }\n}\n#zklIHAKeSYRvJ7r5\naction remove_life(#wSxIkWFhDMvo9sOL life: Number) {\n  #zrsjRb9maA6M2BdC // Removes some life\n  #yWb3H15TlF1klDBI // {hints:life:1}\n  #x8aXtKa8b6T5VVww // {namespace:game}\n  #V6pwIi2V2K411YlU // {weight:10}\n  #j6t4SWxNJyZalsQ6 // {help:td/game-library}\n  #DokzagqHlchXTHmB code→set_life(data→\\_life - $life);\n  #xRYStStywBAPdax9 control[lib micro\\u003abit] →in_background;\n  #DtJ9rlrZWMIkx4xF where `implicit` \\_body\\_() {\n    #UvYuL7St3J40m5LQ led[lib micro\\u003abit] →stop_animation;\n    #XqehW2sAtG2xOYXE basic[lib micro\\u003abit] →show_animation("1 0 0 0 1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0\\n0 1 0 1 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0\\n0 0 1 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0\\n0 1 0 1 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0\\n1 0 0 0 1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0", 40);\n  }\n}\n#xsC75ma2TcxelNNG\nvar \\_is_game_over : Boolean {\n  transient = true;\n}\n#WoKtgesh2cZNfH2O\naction example() {\n  #QZZ2q1Vwz31xKT2A // This library makes it easy to create games with the  **BBC micro:bit**. [read more...](/td/game-library)\n  #xR3atML1XGN9lD1x // {topic:td/game}\n  #PYH5iWxI1IpjTa14 // {shim:}\n  meta private;\n}\n#vskFru7NgUXuZQaD\nvar \\_init : Boolean {\n  transient = true;\n}\n#i94uG229AdaGNx9C\nvar \\_countdown_pause : Number {\n  transient = true;\n}\n#gvgfanokCXXEpdXq\nvar \\_level : Number {\n  transient = true;\n}\n#xXS4d4K3tOHj4Jz7\naction level_up() {\n  #mlrJjFz25TdU2Qh2 // Increments the level and display a message.\n  #er18r7cjQCAzM1D2 // {namespace:game}\n  #ypIUOtUf7Dz1Ieng // {weight:10}\n  #wA1EjK6AQ9iPKEOh // {help:td/game-library}\n  #yDIMepChMEyFFv40 code→init;\n  #D4nHKjh53QC7yfsA data→\\_level := data→\\_level + 1;\n  #X6J8Jattms0PGdqt basic[lib micro\\u003abit] →show_string("LEVEL:", 150);\n  #bmP28eYirxu2XvYe basic[lib micro\\u003abit] →show_number(data→\\_level, 150);\n}\n#XWIbW8F1TScZL6cH\naction level() returns(#BC2jHGgo22ON4Kdh lv: Number) {\n  #xgA22Q228ASNJkyl // Gets the current level\n  #FFqz0ecwtCtHQz1L // {namespace:game}\n  #M7Srh1TOB67gbJyC // {weight:10}\n  #v4vjzUaWjGBt98Tk // {help:td/game-library}\n  #x90u5Et4JvN5DwBj code→init;\n  #YNymvto12wVZjj7j `return` data→\\_level;\n}\n#xHLzsLHCUz2swJ7b\naction test_countdown() {\n  #HAVtIrGlPwag4rAe // {shim:}\n  #kCedIlBZ3zmvWtbH code→start_countdown(10000);\n  #dQ94gDwnV0JrWJ2x code→start_countdown(10000);\n  #L8tu7FS9v4O757r0 code→start_stopwatch;\n  meta private;\n  meta test;\n}\n#xtK4SuOp3S4NKf12\naction start_stopwatch() {\n  #UZaRv27LnL4oW8iD // Starts a stopwatch timer. `current time` will return the elapsed time.\n  #Ju4jzjvapc9RBIj2 // {namespace:game}\n  #icJgELixmfxl4ba3 // {weight:10}\n  #hva2wqo5aSnLcGoN // {help:td/game-library}\n  #FKbJxgbol0zH7hgT code→init;\n  #YHJWhIU4xlM5la8E data→\\_start_time := input[lib micro\\u003abit] →running_time;\n  #BpI9FVu4sEUXkm6r data→\\_end_time := - 1;\n}\n#xbKGS6NntocOrXMR\naction check_start() returns(#XlAMLwecZHyukwDA ok: Boolean) {\n  #cR2pNxoFmQT2z3Ar // returns false if game can\'t start\n  #fzxbNRsp2d4270rr if data→\\_countdown_pause > 0 `or` data→\\_start_time > 0 then {\n    #b76aTH8FMfHSvLzv `return` false;\n  }\n  else {\n    #ncC4pDPrtHFuFAZB `return` true;\n  }\n  meta private;\n}\n#ft2hIFocJsyLl7tl\naction test_countdown_current_time() {\n  #xUlb4fRTV5vy3fkr // {shim:}\n  #xHQD2251jM3XG2fp code→start_countdown(10000);\n  #xcxMHQHk2BykUG5q basic[lib micro\\u003abit] →pause(2000);\n  #znGGGrzotJyKqdWr basic[lib micro\\u003abit] →show_number(code→current_time, 150);\n  meta private;\n  meta test;\n}\n#YlRO2i8CApxNgUmT\naction test_current_time() {\n  #rSxmAE8htbXr8tPx // {shim:}\n  #nccSpY6Jx5nZuWLN code→start_stopwatch;\n  #JfguRXzmxjTW32v8 basic[lib micro\\u003abit] →pause(2000);\n  #x7knzGldoCwiQPaI basic[lib micro\\u003abit] →show_number(code→current_time, 150);\n  meta private;\n  meta test;\n}\n#pdSjcArPD4cvm6e6\naction test_gameover() {\n  #V3yLiuoWmbtsJ9Vx // {shim:}\n  #IaOdIeGxJPutmQwh code→set_score(100);\n  #JdKoXbfP2JAMokMf code→game_over;\n  meta private;\n  meta test;\n}\n#HFDx8tOEHyqGnvB4\naction unplug_events() {\n  #DqyMp24hlCKZ1iIU input[lib micro\\u003abit] →on_button_pressed("A");\n  #xWJ2aInU0Y3DkXlw where `implicit` \\_body\\_() {\n    #Ty4DROMeSR45jk3H skip;\n  }\n  #x4WFXrH3DNTNwBkP input[lib micro\\u003abit] →on_button_pressed("B");\n  #PfVz8A4RssRinAOM where `implicit` \\_body\\_() {\n    #oF6jBmYja3JxvnuC skip;\n  }\n  #E22Y5LHsxIs0Wnu5 input[lib micro\\u003abit] →on_button_pressed("A+B");\n  #kV4iKdgWcqEmvTpi where `implicit` \\_body\\_() {\n    #wV0IUBnCRTmnKjvY control[lib micro\\u003abit] →reset;\n  }\n  meta private;\n  meta sync;\n}\n#sqTPeilZldQhVOCC\nvar \\_game_id : Number {\n  transient = true;\n}\n#pd6yzHOHLSOW4g1S\naction is_running() returns(#cw0Wu3beI6dUUnNH running: Boolean) {\n  #JT3Ts6q2D3ITZ3su // Gets a value indicating if the game is still running. Returns `false` if game over.\n  #hn1FvwLqvB0pL70n // {namespace:game}\n  #WVIg0Y2jJTD8Dj20 // {weight:10}\n  #HCRfiRSgAkdGdCW0 // {help:td/game-library}\n  #D70pd8XtiL4KQjAN `return` `not` data→\\_is_game_over;\n  meta sync;\n}\n#HyuErwY6aQym2GfB\naction show_score() {\n  #kg8B9WUteEZeeAjj // Displays the score on the screen.\n  #H8sRcoDkF2w8hCPt // {namespace:game}\n  #GhugUWVAz1SpufdN // {help:td/game-library}\n  #b4aCyOUHZ2tbnTQS // {weight:60}\n  #ZHOR0vX2feQxQuYO code→init;\n  #vgr9oxsK2Bw4HRY3 basic[lib micro\\u003abit] →show_string(" SCORE ", 100);\n  #kBGIK1yQHgc1Qva4 basic[lib micro\\u003abit] →show_number(data→\\_score, 150);\n  #oKd4MsDD4AJGSbZN basic[lib micro\\u003abit] →show_string(" ", 150);\n}\n#jeyL4tq7ItXRn0Wc\naction test_score() {\n  #hwRjsGVuU3oaoev1 // {shim:}\n  #lWM0K14zhXLm1Jwa code→add_score(1);\n  #xbIjXaeYnn91h0Gd code→add_score(1);\n  #ItJdwS5hlCAd7FSn code→add_score(1);\n  #ZUqE4xmrbyn4GjFZ code→show_score;\n  meta private;\n  meta test;\n}\n#dwHWlvnQ2iMQzo7I\naction is_game_over() returns(#x32ZhBoC55aPFdsW over: Boolean) {\n  #j2k4LBl4jXqOt9sp // Indicates if the game is display the game over sequence.\n  #JerSvQ3nm3EA1FsL // {namespace:game}\n  #x4RgK65eS6RtgjPc // {help:/functions/game-library}\n  #IsnY41mRsPoBXboe `return` data→\\_is_game_over;\n  meta sync;\n}\n',xbpfet:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "micro:bit sprites";\nmeta rootId "IrNJbTSBupAi6m6b0w7EHBVL";\nmeta isLibrary "yes";\nmeta hasIds "yes";\nmeta splitScreen "yes";\nmeta platform "current";\nmeta parentIds "";\n#YTCiBQqlEqAR6hEl\naction example() {\n  #OKmzT6pzf1C5mDmh // This library simple sprites for the  **BBC micro:bit** screen. [read more...](/td/sprites-library)\n  #xPbBQ4T5AZXIhcZ6 // {shim:}\n  meta private;\n}\n#BVGhpbmca\ntable Led_Sprite {\n  type = "Object";\n  persistent = false;\n  fields {\n    #iTImxC9YFcZqpWTT \\_x : Number\n    #sdXbuHxH9qCkC7qR \\_y : Number\n    #eTU9ge4joHCJTqwK \\_dir : Number\n    #CLRbdVAs4KoUqa4G \\_brightness : Number\n    #j4ZDeRimsQwonSek \\_blink : Number\n  }\n}\n#xbp2Y1F2yQjR1gEi\naction create_sprite(#KBVVgM8SyXDGuONt x: Number, #x1FLGt14bvabwz2I y: Number) returns(#ceYntRMw503qHIJo r: * Led_Sprite) {\n  #xMO3FUwzkNbdsVIL // Creates a new LED sprite pointing to the right.\n  #fZmCBJA8WJytdrrV // {hints:x:2}\n  #s8v5SPF4SgfsrprQ // {hints:y:2}\n  #ZLBODN0J98gjeOPM // {namespace:game}\n  #VJD4bKmxGOmnA4ZM // {weight:60}\n  #rfMC44aRImQUneP7 // {action:ignoreReturn}\n  #f2n8VK6qGoYNLbc9 code→init;\n  #cV1EFfm7xnOZnGv1 $p := records→Led_Sprite→create;\n  #gwBghdrsqah3tSYk $p→\\_x := math→clamp(0, 4, $x);\n  #I7ebVJnUT5Tah5Co $p→\\_y := math→clamp(0, 4, $y);\n  #N19lcNu2xirQysAJ $p→\\_dir := 90;\n  #xf8sKvf6jZohgpgS $p→\\_brightness := 255;\n  #FPHV1E3o5428zsUn data→sprites→add($p);\n  #ynsPu0nLmLOO9sHQ code→plot;\n  #oTUYBv5veHYOjR2U `return` $p;\n}\n#n03pjtVWhETO1iAd\nvar img : ♻ micro\\u003abit → Image {\n  transient = true;\n}\n#YXLJL2PruAqFVTws\naction init() {\n  #ORPuncsI5B4zWKsC if data→img→is_invalid then {\n    #xW1383xeJNO22s2z data→img := image[lib micro\\u003abit] →create_image("0 0 0 0 0\\n0 0 0 0 0\\n0 0 0 0 0\\n0 0 0 0 0\\n0 0 0 0 0");\n    #RhS9YdgJ5X2DrEy1 data→sprites := create→Collection_of→\\u2339Led_Sprite;\n    #SaBsOzam1nmkE90K led[lib micro\\u003abit] →set_display_mode("greyscale");\n    #mLM9Xvcp2MUURJ2o basic[lib micro\\u003abit] →forever;\n    #f8294LK1k6meNU80 where `implicit` \\_body\\_() {\n      #WkUDkEISz4deLXyq basic[lib micro\\u003abit] →pause(30);\n      #C2A2hbqvfB4G49S2 code→plot;\n      #MIM8NVr4S1JzyKS4 if game[lib micro\\u003abit_game] →is_game_over then {\n        #vdr7cTGcwj9nFbuE basic[lib micro\\u003abit] →pause(600);\n      }\n    }\n  }\n  meta private;\n  meta sync;\n}\n#xIV6UQzyvfSv2Km0\nvar sprites : Collection[ * Led_Sprite] {\n  transient = true;\n}\n#mFH9LyIh4pa2Goe8\naction plot() {\n  #zMVFcsyhZHmabHaV // Plots the current sprites on the screen\n  #Ly2t4y22wIqGBVJ4 if game[lib micro\\u003abit_game] →is_game_over then {\n    #U44b0BkVL4cQWrH2 `return` ;\n  }\n  #OZV0I9V2oA2dv7zh $now := input[lib micro\\u003abit] →running_time;\n  #Q5smeV7QsSwvEXau data→img→clear;\n  #sUh5ANmEJC9YzA6C for 0 ≤ i < data→sprites→count do {\n    #cngEXkIoZe8PB6iQ $ps := data→sprites→at($i);\n    #xvfBtyPgxfnWShil if $ps→\\_brightness > 0 then {\n      #zpiTrj2PTmpmArwG $r := 0;\n      #Wo7d24Z1wBHCNlEM if $ps→\\_blink > 0 then {\n        #eOh4Cz98WEQhStbQ $r := math→mod($now / $ps→\\_blink, 2);\n      }\n      #xYX47qOm5Ljyl8vf if $r = 0 then {\n        #vsryWRdItzY5w8Gf data→img→set_pixel_brightness($ps→\\_x, $ps→\\_y, data→img→pixel_brightness($ps→\\_x, $ps→\\_y) + $ps→\\_brightness);\n      }\n    }\n  }\n  #xMy88FrS4AY8GpKp data→img→plot_image(0);\n  meta private;\n  meta sync;\n}\n#Ii223cRjT2ZfXMMv\naction move(#qvj22Zhu8Eo5aUG6 @this: * Led_Sprite, #f3DRVSobQuPZvt4O leds: Number) {\n  #xQHiOcGzhHb0Tx9t // Move a certain number of LEDs\n  #Ia0a2avS87ozapuc if $@this→\\_dir = 0 then {\n    #xguNWSh6ozJhLDZm $@this→\\_y := $@this→\\_y - $leds;\n  }\n  else { #xkZp4VKKT4vlygml if $@this→\\_dir = 45 then {\n    #BwF3Tum2fGAxOmhE $@this→\\_x := $@this→\\_x + $leds;\n    #WDUbDm4yNHaoKmvW $@this→\\_y := $@this→\\_y - $leds;\n  }\n  else { #fvsPfw4Q4C6D2L5Y if $@this→\\_dir = 90 then {\n    #OAatiV4yZX34Lif9 $@this→\\_x := $@this→\\_x + $leds;\n  }\n  else { #To0PQ7s6rn3KGnK4 if $@this→\\_dir = 135 then {\n    #hqnjllANuxMphiv2 $@this→\\_x := $@this→\\_x + $leds;\n    #xbrE4lOrDfgmt8HE $@this→\\_y := $@this→\\_y + $leds;\n  }\n  else { #UPLmWeTmHs3pWX1i if $@this→\\_dir = 180 then {\n    #qpgQOY1wHfUd2VSE $@this→\\_y := $@this→\\_y + $leds;\n  }\n  else { #Dm3TvL4C2BDNYlpJ if $@this→\\_dir = - 45 then {\n    #xLloUv2wDidasof7 $@this→\\_x := $@this→\\_x - $leds;\n    #Q4eMk8ku2tzRTWmV $@this→\\_y := $@this→\\_y - $leds;\n  }\n  else { #TkGM1qH4v7YjA3Dj if $@this→\\_dir = - 90 then {\n    #wiV8WWkDvoYq47YZ $@this→\\_x := $@this→\\_x - $leds;\n  }\n  else {\n    #N5FS3aoL5x6Q8bg3 $@this→\\_x := $@this→\\_x - $leds;\n    #xkUwKZMYcfPxvNu6 $@this→\\_y := $@this→\\_y + $leds;\n  }\n  } } } } } } \n  #hm8FZefbky33Z4HE $@this→\\_x := math→clamp(0, 4, $@this→\\_x);\n  #O4Eu78c4LTWcTZtE $@this→\\_y := math→clamp(0, 4, $@this→\\_y);\n  #x0H7hR67xz4euAeC code→plot;\n  meta sync;\n}\n#wquesHkwuYKkrRep\naction go_to(#abaqqKrsGOA41iFy @this: * Led_Sprite, #xcASpLlpX5koamEQ x: Number, #AEe12g4I9h5PTaxW y: Number) {\n  #I4EOQGLe35sjOJk6 // Go to this position on the screen\n  #PIpmUdNyvDkdBwrQ $@this→\\_x := $x;\n  #fEF0IYx9kgSeOHkb $@this→\\_y := $y;\n  #xWLn0kyHeQnWluNB $@this→\\_x := math→clamp(0, 4, $@this→\\_x);\n  #dtM7s4cG1zxXT7le $@this→\\_y := math→clamp(0, 4, $@this→\\_y);\n  #Cs4ula7JmM0HSolU code→plot;\n  meta sync;\n}\n#EnFD76PbssiLD7vv\naction if_on_edge\\u002c_bounce(#HV4x3j8JF159462w @this: * Led_Sprite) {\n  #mW2b4erDcZw45S3d // If touching the edge of the stage, then bounce away.\n  #WJvOYi3J0oQUfX7r if $@this→\\_dir = 0 `and` $@this→\\_y = 0 then {\n    #ki7G5jxaq4oECrOa $@this→\\_dir := 180;\n  }\n  else { #Cqb5nUza82plXe5W if $@this→\\_dir = 45 `and` ($@this→\\_x = 4 `or` $@this→\\_y = 0) then {\n    #xTNRwJttNNDMS4jH if $@this→\\_x = 0 `and` $@this→\\_y = 0 then {\n      #wNpbzp4QzSOBV6Uw $@this→\\_dir := - 135;\n    }\n    else { #QIHjBGVMm3O7jKbg if $@this→\\_y = 0 then {\n      #G4NfDqmzft2pZa0u $@this→\\_dir := 135;\n    }\n    else {\n      #xv4hQ8ImkIWqbf40 $@this→\\_dir := - 45;\n    }\n    } \n  }\n  else { #eKc44OZTHanPb4ou if $@this→\\_dir = 90 `and` $@this→\\_x = 4 then {\n    #mhlBDRbCxrRN2GJh $@this→\\_dir := - 90;\n  }\n  else { #y6QrCxoz5uQ2s6Xe if $@this→\\_dir = 135 `and` ($@this→\\_x = 4 `or` $@this→\\_y = 4) then {\n    #xP7I1EvwXEbwBqmq if $@this→x = 4 `and` $@this→y = 4 then {\n      #Msc2p75THd3we4FC $@this→\\_dir := - 45;\n    }\n    else { #xSXuex4eRZT5v1LQ if $@this→\\_y = 4 then {\n      #E22lLCJn4ecoqZ29 $@this→\\_dir := 45;\n    }\n    else {\n      #OoLMy4bQlVjRfZeE $@this→\\_dir := - 135;\n    }\n    } \n  }\n  else { #KO0B13gTd4WyOTav if $@this→\\_dir = 180 `and` $@this→\\_y = 4 then {\n    #HYmYAypV2ZRjwxjR $@this→\\_dir := 0;\n  }\n  else { #TC5SNjX4AmPPzgIq if $@this→\\_dir = - 45 `and` ($@this→\\_x = 0 `or` $@this→\\_y = 0) then {\n    #bte4O4gurLB2v8Ai if $@this→x = 0 `and` $@this→y = 0 then {\n      #x7iP8m2Y9zQkHyHh $@this→\\_dir := 135;\n    }\n    else { #wNngfLmvyionXaDP if $@this→\\_y = 0 then {\n      #DjbzNtzG2PEVhOVc $@this→\\_dir := - 135;\n    }\n    else {\n      #Q3IgxEngGQNS1Y5t $@this→\\_dir := 45;\n    }\n    } \n  }\n  else { #xXlWXaP45766gsVk if $@this→\\_dir = - 90 `and` $@this→\\_x = 0 then {\n    #xpKOVFoZAzm3xyS1 $@this→\\_dir := 90;\n  }\n  else { #I0kQuCXxWELaGOYh if $@this→\\_dir = - 135 `and` ($@this→\\_x = 0 `or` $@this→\\_y = 4) then {\n    #xJ7N9Y3ZVXv8g7oI if $@this→\\_x = 0 `and` $@this→\\_y = 4 then {\n      #LmufIcTbWtVXHSLJ $@this→\\_dir := 45;\n    }\n    else { #hkg4w2uDjtmf2ogC if $@this→\\_y = 4 then {\n      #l2OvXKlH3du5wfxz $@this→\\_dir := - 45;\n    }\n    else {\n      #xYQkGx2fAmR7kY90 $@this→\\_dir := 135;\n    }\n    } \n  }\n  else { } } } } } } } } \n  #Hwo8pD4s5eRV2By5 code→plot;\n  meta sync;\n}\n#Qbs2pH7Z7ul3N272\naction turn_right(#WQo2rhrkQWxkzPrA @this: * Led_Sprite, #TBC5hHn9AJYGofW7 degrees: Number) {\n  #xLjBzHVtkZc5wTsM // Turn to the right (clockwise)\n  #Dy8wBzFcytw4i4WD // {hints:degrees:45,90,135,180}\n  #STogS6X5S10pdm5j $@this→set_direction($@this→\\_dir + $degrees);\n  meta sync;\n}\n#nhl5mQt24x0S6udm\naction turn_left(#AkNxX24d83P2lJb4 @this: * Led_Sprite, #xaEEUGTEPf0CLnfJ degrees: Number) {\n  #q2Uw4nTyC4yxAhUV // Turn to the left (counter-clockwise)\n  #h2IwxNSyzoIrBCPo // {hints:degrees:45,90,135,180}\n  #aCF4f3u2PTKdbCBW $@this→turn_right( - $degrees);\n  meta sync;\n}\n#FCflZPrXxubdYEHq\naction set_direction(#W6XOHR7W7H5Uhce5 @this: * Led_Sprite, #GlUGqspXS7qUZZkh degrees: Number) {\n  #rkSAHKmBYqJ6uZYF // Set the direction of the current sprite, rounded to the nearest multiple of 45\n  #xLskSxLQcPhG5Eh8 // {hints:degrees:0,45,90,135,180,-45,-90,-135}\n  #Rkf7OLg8OLcS1BQd $@this→\\_dir := math→mod($degrees / 45, 8) * 45;\n  #nCQbePGChgTQ2hm7 if $@this→\\_dir ≤ - 180 then {\n    #xD2OY2tbKkgc4QFj $@this→\\_dir := $@this→\\_dir + 360;\n  }\n  else { #xxcX416s0eXg2Jb4 if $@this→\\_dir > 180 then {\n    #YUQrsgErLV0isSaw $@this→\\_dir := $@this→\\_dir - 360;\n  }\n  else { } } \n  #op5k2N9fbXY8HEWU code→plot;\n  meta sync;\n}\n#NSHCEK6bQ8swNBmM\naction x(#xgToVMvrrAswoUeH @this: * Led_Sprite) returns(#xXVHwibH1jpjLEIs r: Number) {\n  #O7hb0e8vT223tnC9 // Reports the ``x`` position of a sprite on the LED screen\n  #u9TO3yP69u3yQHq2 // {action:ignoreReturn}\n  #lbdc1f64posFgGUT `return` $@this→\\_x;\n  meta sync;\n}\n#JDrz7o89TGTxeK2w\naction y(#rnfi71evZY42LLnW @this: * Led_Sprite) returns(#j7qseMNIfdD5bZk2 r: Number) {\n  #OL72oZm0MjSHeGPi // Reports the ``y`` position of a sprite on the LED screen\n  #JChevy7MIzqvI44L // {action:ignoreReturn}\n  #XyGKpV2bxAm2MSb3 `return` $@this→\\_y;\n  meta sync;\n}\n#xSFJWYkhHm25gCC6\naction direction(#qmTmS7h27Sd6jvdE @this: * Led_Sprite) returns(#GMfjMqXduoLFMgVJ r: Number) {\n  #oqasR6pvP2QH5Yit // Reports the current direction of a sprite\n  #e1J4Gl2GjYDo4AhP // {action:ignoreReturn}\n  #qKryag4qEHbjmkOS `return` $@this→\\_dir;\n  meta sync;\n}\n#xd5Cnqhvdot8v0I2\naction set_x(#YRkB4B07f1TFpmc5 @this: * Led_Sprite, #IwppOWKsNf246cvq x: Number) {\n  #xtgkapSjxReCIzks // Set the ``x`` position of a sprite\n  #xBmG31Tos70NHkfZ $@this→go_to($x, $@this→\\_y);\n  meta sync;\n}\n#cjf3G44aBhLdgBM4\naction set_y(#xe00Eqd2Sye76CcK @this: * Led_Sprite, #xUIp4QMLCBopDvKT y: Number) {\n  #rt34m9v71RciQ1LM // Set the ``y`` position of a sprite\n  #xz0cSa4iDTY741jP $@this→go_to($@this→\\_x, $y);\n  meta sync;\n}\n#xCdoxKQ2PYO4sDeW\naction change_y_by(#GtmKdo2M0rB6Xoxp @this: * Led_Sprite, #xnOmlrhOk7cRHCIg y: Number) {\n  #nMbLdUu2E6HK3aod // Changes the ``y`` position by the given amount\n  #kq22RIc81QnunNP4 // {hints:y:1}\n  #xaWt7GUOc2SDslvK $@this→go_to($@this→\\_x, $@this→\\_y + $y);\n  meta sync;\n}\n#vaus553SVioo4jJr\naction change_x_by(#BNyURA3lrR445XJ2 @this: * Led_Sprite, #GC5f2Y5myMXFJMuk x: Number) {\n  #Wa4DXXQfls07wwqI // Changes the ``x`` position by the given amount\n  #ky1UesBkqQza1YpA // {hints:x:1}\n  #TE7whTqcF6AjYWvK $@this→go_to($@this→\\_x + $x, $@this→\\_y);\n  meta sync;\n}\n#NH3Z2IrvU21LuPGM\naction is_touching(#NB942NQl923gi02T @this: * Led_Sprite, #UZ597zOwyA6568TK other: * Led_Sprite) returns(#zHEcCNsDmXzhUt9V r: Boolean) {\n  #w2haKF4w9cxEBYkc // Reports true if sprite is touching specified sprite\n  #EHJ2YBpvJAzd0Uqp // {action:ignoreReturn}\n  #bAQMgnnEUZqDGLyC `return` $@this→\\_x = $other→\\_x `and` $@this→\\_y = $other→\\_y;\n  meta sync;\n}\n#xD4uhANlxBIGS7OU\naction is_touching_edge(#xvVZ9ABfZXXspLlY @this: * Led_Sprite) returns(#K8ObBSXJ5ECbUdjN r: Boolean) {\n  #IvjKKKDIP3iKSHqb // Reports true if sprite is touching an edge\n  #zOe9JEEGfZjkRXVN // {action:ignoreReturn}\n  #B25GiX6KizWzqnHH `return` $@this→\\_x = 0 `or` $@this→\\_x = 4 `or` $@this→\\_y = 0 `or` $@this→\\_y = 4;\n  meta sync;\n}\n#bkOzd2UzwbDSbLgu\naction on(#rj7tjF50krHRwt6J @this: * Led_Sprite) {\n  #ydvX567DaEZLqO7K // Turns on the sprite (on by default)\n  #lJ22kxYhvlqhft3U $@this→set_brightness(255);\n  meta sync;\n}\n#u9iUpHzn26Cdfona\naction off(#e0lGhx7xf1e7IUCX @this: * Led_Sprite) {\n  #Xb7Yx3vYM4ShEFUe // Turns off the sprite (on by default)\n  #REB5VhZtw3YUYSxh $@this→set_brightness(0);\n  meta sync;\n}\n#DJ445YFffVfKDqHs\naction set_brightness(#ylG8SOIydgxxfeSy @this: * Led_Sprite, #DQWYvEEkEzaPMwlC brightness: Number) {\n  #CYsmrKQxad2dO63G // Set the ``brightness`` of a sprite\n  #FLAXXGWNwLg24o2J // {hints:brightness:255,0,127}\n  #lGQZxBxH4pi0khw3 $@this→\\_brightness := math→clamp(0, 255, $brightness);\n  #bGzkRMdTHUH0BhYx code→plot;\n  meta sync;\n}\n#MMokZ8utTeSrEPEE\naction brightness(#x7Z3c9xE3t1SbCOb @this: * Led_Sprite) returns(#xUzQbOrOfDuvpEGp r: Number) {\n  #Sz7DkrDPcD4YpGJG // Reports the ``brightness` of a sprite on the LED screen\n  #FNuHpZoWtcvzcx0R // {action:ignoreReturn}\n  #Xb1aqKrgPqLtjVoj `return` $@this→brightness;\n  meta sync;\n}\n#CflgTntqHhWbxHlW\naction change_brightness_by(#YOnjOM5Dijox14bO @this: * Led_Sprite, #XChQ7dKtgcDBImGc value: Number) {\n  #QS0H5xTlm0sn0Unq // Changes the ``y`` position by the given amount\n  #O1QaAEjifPnQ8azU // {hints:value:25}\n  #Jk6fyOIwYdZoztd0 $@this→set_brightness($@this→\\_brightness + $value);\n  meta sync;\n}\n#fe4BUMNMHkLIbNKa\naction change_direction_by(#x32MjNr12ofz2JYc @this: * Led_Sprite, #xuoTqBS6Ikir95JL angle: Number) {\n  #VNIvix2ffUeRNdMx // Changes the ``direction`` position by the given amount by turning right\n  #zPHNWOxwhGlBgO69 // {hints:angle:45,90,-45,-90}\n  #l2PLkh6uahGZEzIi $@this→turn_right($angle);\n  meta sync;\n}\n#Xwzo4y2iATnX72lA\naction invalid_sprite() returns(#nr31Nq023HjQjvBc r: * Led_Sprite) {\n  #XWx7JR2mUvBQxhzD // Gets an invalid sprite; used to initialize locals.\n  #D04g2GnOmaLZtnRb // {weight:0}\n  #xja2b4gPwHB2dcd6 // {namespace:game}\n  #cxvKf4e0N6UEtGPL // {action:ignoreReturn}\n  #Naa3i2uT6RXc9lKZ `return` records→Led_Sprite→invalid;\n  meta sync;\n}\n#xUwWUO2jFGIlKOtq\naction delete(#TqK6aquLm37xVsNH sprite: * Led_Sprite) {\n  #bH7rJ8stE4vJr6ZV // Deletes the sprite from the game engine. All further operation of the sprite will not have any effect.\n  #KaYmbOrkjZ4CS4df data→sprites→remove($sprite);\n  meta sync;\n}\n#hi6X8Z2yYBVyLkWz\naction test_pong() {\n  #i8JqKk4Qc1tXPvFb // {shim:}\n  #s2X9VygZOY29nARC $paddle := code→create_sprite(0, 2);\n  #NBrpqVUuuENIGkHh $paddle→set_blink(100);\n  #pYCFQ2QktMJs93Qx $paddle→set_brightness(8);\n  #li2Xx982HOn3o2VB $ball := code→create_sprite(4, 1);\n  #vb0CkZtaWnHnk1XU $ball→set_direction( - 45);\n  #T5sAL25TVftlfVcf input[lib micro\\u003abit] →on_button_pressed("A");\n  #Xc0cWs4EfXhPU1Xi where `implicit` \\_body\\_() {\n    #OrYN2UYJXGDZbVBr $paddle→change_y_by( - 1);\n  }\n  #AXHWyd3kTYsJElLr input[lib micro\\u003abit] →on_button_pressed("B");\n  #xregKwVEF7FuAUjf where `implicit` \\_body\\_() {\n    #cwZAbLXRz4aW5rkZ $paddle→change_y_by(1);\n  }\n  #xdRq7JGUl6BOhWsK basic[lib micro\\u003abit] →forever;\n  #EqqnOIfFy9hTWQkt where `implicit` \\_body\\_() {\n    #O31nNQcgm3V9q3at basic[lib micro\\u003abit] →pause(500);\n    #xNa4DdNTY3Rp2wZM $ball→move(1);\n    #OszsjBEfq4VxjnS4 if $ball→x = 0 then {\n      #tv2doKCLd8JeZj3b if $paddle→y ≠ $ball→y then {\n        #vfKYjiha0E346q6D control[lib micro\\u003abit] →reset;\n      }\n    }\n    #RQqLvxZWJGUf2vau $ball→if_on_edge\\u002c_bounce;\n    #NexnUUAILkC5kxqt if $ball→x = 0 then {\n      #xc1sfBAq2ujFBfj2 $ball→change_x_by(1);\n    }\n  }\n  meta private;\n  meta test;\n}\n#UxwYpEnnSWg0DNxW\naction set_blink(#aKrr34Wgo3kkbwZp sprite: * Led_Sprite, #hqkyJK2pO17MsVDC ms: Number) {\n  #IwFtTdIGBNUXLH5Y // Sets the blink duration interval in millisecond.\n  #x9O466bk8ufa2Yio // {hints:ms:100,50,200}\n  #xg2e74XGOsfxy48l $sprite→\\_blink := math→clamp(0, 10000, $ms);\n  meta sync;\n}\n#vjw2ol9RXAfcugGH\naction change_blink_by(#tiHtDdJLNoz1vvYz @this: * Led_Sprite, #xYGs397pRbQfSJYL ms: Number) {\n  #x7mcAB7o2E4JTjLx // Changes the ``blink`` duration by the given amount of millisecons\n  #xRtxfoag4GzP4P5w // {hints:ms:10}\n  #H16162bYai4of4DQ $@this→set_blink($@this→\\_blink + $ms);\n  meta sync;\n}\n#zIjNoKzrTHYAVS9A\naction blink(#xfOf8pD0DexU1uz2 @this: * Led_Sprite) returns(#xTF5bE4QTqBPBl8X r: Number) {\n  #fasvxj1L7NBocnta // Reports the ``blink`` duration of a sprite\n  #PlrHp3HKOnu50Qzg // {action:ignoreReturn}\n  #m4hy2L2dtnFC00Pk `return` $@this→\\_blink;\n  meta sync;\n}\n#x0npij8XjopQavcK meta import micro\\u003abit_game {\n  pub "xgqnpl"\n  usage {\n    action `sync` score() returns(score: Number)\n    action `sync` set_score(value: Number)\n    action `sync` life() returns(life: Number)\n    action `async` set_life(value: Number)\n    action `sync` add_score(points: Number)\n    action `async` add_life(lives: Number)\n    action `async` start_countdown(ms: Number)\n    action `async` game_over()\n    action `async` current_time() returns(ms: Number)\n    action `async` remove_life(life: Number)\n    action `async` level_up()\n    action `async` level() returns(lv: Number)\n    action `async` start_stopwatch()\n    action `sync` is_running() returns(running: Boolean)\n    action `async` show_score()\n    action `sync` is_game_over() returns(over: Boolean)\n  }\n  #zC5J5ehItETvjAK0 resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#awExHfjoQJnV2nR1 meta import micro\\u003abit {\n  pub "thflqk"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` tell_camera_to(@event: String)\n    action `sync` raise_alert_to(@event: String)\n    action `async` on_notified(@event: String, body: Action)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_tone(frequency: Number, ms: Number)\n    action `sync` note_frequency(name: String) returns(frequency: Number)\n    action `sync` plot_leds(leds: String)\n    action `sync` plot_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` temperature() returns(temp: Number)\n    action `sync` stop_animation()\n    action `async` show_frame(img: ♻ micro\\u003abit → Image, frame: Number)\n    action `sync` queue_event(body: Action, name: String)\n    action `async` ring_tone(frequency: Number)\n    action `sync` tell_remote_control_to(@event: String)\n    action `sync` map(value: Number, from_low: Number, from_high: Number, to_low: Number, to_high: Number) returns(r: Number)\n    action `sync` magnetic_force(dimension: String) returns(millig: Number)\n    action `sync` servo_write_pin(name: String, value: Number)\n    action `sync` servo_set_pulse(pin: String, micros: Number)\n    action `async` rest(ms: Number)\n    action `async` rotation(kind: String) returns(angle: Number)\n    action `sync` note(name: String) returns(frequency: Number)\n    action `sync` set_pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Number)\n    action `sync` pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Number)\n    action `sync` set_display_mode(mode: String)\n  }\n}\n',lohjia:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "micro:bit serial";\nmeta rootId "J14qS9W69xfJRs1Wg6l4bL8j";\nmeta isLibrary "yes";\nmeta hasIds "yes";\nmeta platform "current";\nmeta parentIds "";\n// A #microbit library to print messages to the serial port.\n#Jb2ciAJpCpybcXGj\naction write_line(#viL9JhCNnO3GFckc text: String) {\n  #qd8bnGggS2t7YSVF // Prints a line of text to the serial\n  #Ht90vVwzb9x642mt // {namespace:serial}\n  #R4f2PuqLYHK2Gtcr code→write_string($text);\n  #giwZfV8Lt049ksV2 code→write_string("\\r\\n");\n  meta sync;\n}\n#KayLKTp6ax4o8wIi meta import micro\\u003abit {\n  pub "jnjqgc"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` remote_control(@event: String)\n    action `sync` camera(@event: String)\n    action `sync` audio_recorder(@event: String)\n    action `sync` alert(@event: String)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_note(frequency: Number, ms: Number)\n    action `sync` note(name: String) returns(frequency: Number)\n    action `sync` plot_leds(leds: String)\n    action `sync` plot_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` temperature() returns(temp: Number)\n    action `sync` stop_animation()\n    action `async` show_frame(img: ♻ micro\\u003abit → Image, frame: Number)\n  }\n}\n#AABkMop1Z4RJQfcY\naction example() {\n  #vIxCYZlAfMloWGOR // This library provides functionalities to read and write data to the serial port.\n  #obJL2omLuN5vNWGX // * print a line of text (the new line character is added automatially)\n  #xfS6oh3qhUuVm3ee code→write_line("hello");\n  #USJSQxggyA9b7Xk5 // * print a piece of text\n  #DJAddA2AQVd3x44R code→write_string("world");\n  #ZGvSLSTMY2eH7BGS // * print a number.\n  #CPTexj2njchbeTaq code→write_number(5);\n  #FoTvRhTUX9cuCH4G // * write a key-value pair formatted as ``key: value``.\n  #xNrXN2N2zI6RANiH code→write_value("temp", 5);\n  #gnakx4J3bNeA6l5y // * read a line of text from Serial\n  #xMVREMMWm4TP690d $msg := code→read_string;\n  meta private;\n}\n#pvd0wLlxZ7vuecCJ\naction write_number(#k2kI6XM6EpaLIU35 value: Number) {\n  #UPZWaaK4FPhqLQv5 // Prints a numeric value to the serial\n  #ABpnPKKwPATyuC4K // {namespace:serial}\n  #xyMeH7KZaUtgWna4 code→write_string($value→to_string);\n  meta sync;\n}\n#hGNQralaeJZymMYt\naction read_string() returns(#mR5YbOZ9oVeKJhbt msg: String) {\n  #Of7tDy94qf27pF8n // Reads a line of text from the serial port.\n  #xjcz6ZTqNS4rrHiN // {namespace:serial}\n  #rndC9WsJA7TzRqJw // {shim:uBit.serial.readString}\n  #xUvA7hlR41fO4O3S $msg := "";\n  meta sync;\n}\n#RihJksfYn4XsFVvo\naction write_string(#xCSsMIN55sl47uJy text: String) {\n  #gQl2sBm102NFdm2r // Sends a piece of text through Serial connection.\n  #xaRZMDD1PnoAssMk // {namespace:serial}\n  #E2GfoM3vov7PqeyA // {shim:uBit.serial.sendString}\n  #MZsKH7uN4oOrAkYD if data→logger→is_invalid then {\n    #xI2Zu2L2Lb9tvgAS data→logger := app→create_logger("simulator");\n    #E2SUJPexCTkCqWoA data→buffer := "";\n  }\n  #dxqLroF89D9FBaiI data→buffer := data→buffer ∥ $text;\n  #z7tR5L7oMAlwH4gu $i := data→buffer→index_of("\\n", 0);\n  #LS2Xmww1aZuQammy while $i > - 1 do {\n    #x4eGXbX2v6z0SE5y data→logger→info(data→buffer→substring(0, $i - 1));\n    #esc5CnL0W2BjsgA5 data→buffer := data→buffer→substring($i + 1, data→buffer→count - $i);\n    #EWO0d4UsugWoDRjW $i := data→buffer→index_of("\\n", 0);\n  }\n  meta sync;\n}\n#ofbblREfGQlVQeKu\naction write_image(#gyH7VhnFqZTOycIl img: ♻ micro\\u003abit → Image) {\n  #xO6AG2n8p2M0iRM9 // Sends an image through Serial connection in CSV format.\n  #i9igu656RRwxytVx // {namespace:serial}\n  #sx5zVhpQfuMHxxmC // {shim:uBit.serial.sendImage}\n  #dfiCwNN06R38ZYRQ code→write_string("write image");\n  meta sync;\n}\n#x4YEGlXH9CPn24qF\naction write_screen() {\n  #W6GWMYLuhTKpZfVd // Sends the current pixel values, byte-per-pixel, over serial.\n  #MaKPhWXTpJB2NNWZ // {namespace:serial}\n  #ejsGWhn5BXXX8fl4 // {shim:uBit.serial.sendDisplayState}\n  #AA2MkYF4heyXTuSP code→write_string("write screen");\n  meta sync;\n}\n#x6Hp3T5XixrKOXp4\naction read_screen() {\n  #xkl7dNT5Lc785ZVZ // Reads the screen from serial.\n  #ApoeWPHDMVNc7MjB // {namespace:serial}\n  #tZxNxHtIuaSuvjo0 // {shim:uBit.serial.readDisplayState}\n  #eUUa4Y2jh2Gby4Ls app→log("serial: read screen");\n  meta sync;\n}\n#xBHnPm4TuXZ1XJba\naction read_image() returns(#i9cIYIjnk4B1camX img: ♻ micro\\u003abit → Image) {\n  #HKBSShuS3IHZZKK3 // Reads a 5x5 image from the serial port.\n  #xvg6N07oMKfwiZHk // {namespace:serial}\n  #xKaSva7IbKCilyF8 // {hints:columns:5,10,15}\n  #t3L7RQAYTB4ch4Fj // {shim:uBit.serial.readImage}\n  #xbuEE8By6wuVCMZn $img := image[lib micro\\u003abit] →create_image("");\n  meta sync;\n}\n#zPbJPfnPazeARtdv\naction write_value(#OgjzGItCA4ZJ4BzL name: String, #Vles4eqMyGBPIrfR value: Number) {\n  #VS9lEdypH2IAyWO6 // Writes a ``name: value`` pair line to the serial.\n  #x9jpo8ecP95VZ6PJ // {namespace:serial}\n  #tIIbV2VmG3JI2Q1Z // {weight:80}\n  #gj2gRu3mQINbNkri code→write_string($name);\n  #eYR5noToKqFF6E94 code→write_string(": ");\n  #Zf7NNdlvoPDrwtMy code→write_number($value);\n  #byMfp2eAi2r7tJ1O code→write_line("");\n  meta sync;\n}\n#kyNCj4TkYFS3fVSb\nvar buffer : String {\n  // {shim:}\n  transient = true;\n}\n#ObzPYQYVl4tjVK9D\nvar logger : App_Logger {\n  // {shim:}\n  transient = true;\n}\n#WnPrTNC3u44ZZOn6\naction test() {\n  #AeRsf2ESRnySmzle // {shim:}\n  #AMj8TxEWtoGWsERs code→write_string("abc");\n  #TK2ZMRUQ2TOXpOa2 code→write_line("line");\n  #pMkSlVs4iOUkZXf1 code→write_line("line 2");\n  #x6rU5ty6bc2OoaN7 for 0 ≤ i < 100 do {\n    #bGiqKsnmXiwKPH2z code→write_value("x", $i * $i);\n  }\n  meta private;\n  meta test;\n}\n',jztbbx:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "micro:bit senses";\nmeta rootId "zm342lGQufsImTJsY2Mjd6OL";\nmeta isLibrary "yes";\nmeta hasIds "yes";\nmeta platform "current";\nmeta parentIds "";\n// A #microbit library that exposes orientation and movement events.\n#xwOq4wuI8tUXxrHj\naction on_screen_up(#Zm23L35zAoZ5xaUM body: Action) {\n  #MpPu5BNli80ud2U6 // Attaches code to run when the screen is facing up.\n  #xhao1j41emG2VOxP // {namespace:input}\n  #WdKqPeQdt8TOCgKu // {help:functions/on-screen-up}\n  #E4B0WT3YTg0B26mq simulator[lib micro\\u003abit] →notify_event_registration("on screen up");\n  #yb4F8TjWZB4lGJFg data→screen_up := $body;\n  #Y83at3q2DuxfruwD code→init;\n  meta sync;\n}\n#PrS2fWPpYL7FC6Wo meta import micro\\u003abit {\n  pub "vzzjsk"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` remote_control(@event: String)\n    action `sync` camera(@event: String)\n    action `sync` audio_recorder(@event: String)\n    action `sync` alert(@event: String)\n    action `sync` plot_image(leds: String)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_note(frequency: Number, ms: Number)\n    action `sync` note(name: String) returns(frequency: Number)\n  }\n}\n#cW5Eaba6g2xa58TR\naction on_screen_down(#KMHPPFLh79ILxEsC body: Action) {\n  #AMcAx2XgzUwf2TMM // Attaches code to run when the screen is facing down.\n  #jQPXP4X2PHIs9Muo // {namespace:input}\n  #ZdcCAkOLyBzyIBOy // {help:functions/on-screen-down}\n  #xdc4HMUwupE74u9V simulator[lib micro\\u003abit] →notify_event_registration("on screen down");\n  #xTg7g7WPbHijTQqB data→screen_down := $body;\n  #Yc1eBaxVszGtkaPn code→init;\n  meta sync;\n}\n#t6BUCc8WlaifMQw2\nvar screen_state : Number {\n  transient = true;\n}\n#Yasq36DXnLkbHctP\naction detect() {\n  #SGGUvEQILsE9YGty // Detects if the orientation has changed and raises events if available.\n  #xB6p3z7B2SjlkiiU $accx := @\\u267b→micro\\u003abit→acceleration("x");\n  #mS3ZTk4J0zBlNh4V $accy := @\\u267b→micro\\u003abit→acceleration("y");\n  #tFPDfT34L7ESBdo0 $accz := @\\u267b→micro\\u003abit→acceleration("z");\n  #iX3VlP2YLy1uy2XF // screen state: 0 = unknown, 1 = down, 2 = up, 3 = logo up, 4 = logo down\n  #E4BWU7aQLnOxMhWf code→detect_screen($accx, $accy, $accz);\n  #xrAqAGomTzw8jL2g code→detect_shake($accx, $accy, $accz);\n  meta private;\n}\n#bMJX2o4cp6UbgrWH\nvar screen_up : Action {\n  transient = true;\n}\n#aJTalpc0eYQrv7QQ\nvar screen_down : Action {\n  transient = true;\n}\n#eVHP6bRFyulckN6X\naction example() {\n  #aW2IRmUTax7OLDG2 // A library that exposes orientation and movement events. [read more...](/td/contents).\n  meta private;\n}\n#lhwojBx1CnMGhLPB\naction init() {\n  #xHJIJAFfGrSx2zlD if `not` data→\\_init then {\n    #hA5Iq3c70pT8TcD5 data→\\_init := true;\n    #xyqvAivXibKxY0RO control[lib micro\\u003abit] →in_background;\n    #MoqZci0II5zqP364 where `implicit` \\_body\\_() {\n      #xbWJI6pgYPHpwWiw while true do {\n        #xwonR7KDZ1XgHpL9 code→detect;\n        #UAhoHSTIEevYn5rp basic[lib micro\\u003abit] →pause(80);\n      }\n    }\n  }\n  meta private;\n  meta sync;\n}\n#xdoNy11ziwtWZlCo\naction on_shake(#iQzuA2ozltGMgcTU body: Action) {\n  #JTf89RIRRrxO9SnG // Attaches code to run when the device is shaken.\n  #x4x2vPoD9qOIvh7q // {namespace:input}\n  #KmZcvSqByA57L44B // {help:functions/on-shake}\n  #KExN3jsE0DMuPqLE simulator[lib micro\\u003abit] →notify_event_registration("on shake");\n  #YUaLdMsVvnyHMnXG simulator[lib micro\\u003abit] →add_button("shake", $body);\n  #kZT3dnZQyxuZq166 data→last_shake := input[lib micro\\u003abit] →running_time;\n  #xbZpVSJVwAeD6GRE data→shake := $body;\n  #x7QP0YR4O6RXtmXl code→init;\n  meta sync;\n}\n#chN4AnXG7yhK2AXu\nvar shake : Action {\n  transient = true;\n}\n#l5nnEGrJBtPBD6uu\nvar last_shake : Number {\n  transient = true;\n}\n#q3bSEBO2AnZaW4dr\naction on_logo_up(#V7xeUvewokw5LxJn body: Action) {\n  #xDMX0HWkSWDtE0Tq // Attaches code to run when the logo is oriented upwards and the board is vertical.\n  #zUK2prvTnaAoT7md // {namespace:input}\n  #Gyr2W2ZXOCkfIMXd // {help:functions/on-logo-up}\n  #EdHSaeQmax51CBmq simulator[lib micro\\u003abit] →notify_event_registration("on logo up");\n  #MaBgsJCEaDfkBf64 data→logo_up := $body;\n  #fwMBTN84PCeAj72Q code→init;\n  meta sync;\n}\n#S2o2JJdwYJhisAXp\nvar logo_up : Action {\n  transient = true;\n}\n#xUVten7m0vVmyA4R\nvar \\_init : Boolean {\n  transient = true;\n}\n#joy4eey9DDzC8HR2\naction detect_shake(#tHRDEldGJ4ue8ool accx: Number, #JLClk08tfyKwJmGH accy: Number, #CLOKXkFToen6qwJ9 accz: Number) {\n  #xtI6yHh4BtZCqR3Q if `not` data→shake→is_invalid then {\n    #HtnSKlCS2Xu9pWz1 $now := @\\u267b→micro\\u003abit→running_time;\n    #BthNMTUVySeX0Nyo $ming := 180 * 180;\n    #T4iDX31OZHOlEJd8 $debunk := 1500;\n    #xSGwMi25c0coQQts if $now - data→last_shake > $debunk then {\n      #fnMxF6aP4yeF6GUy $\\u007c\\u007ca\\u007c\\u007c\\u005e2 := $accx / 10 * $accx / 10 + $accy / 10 * $accy / 10 + $accz / 10 * $accz / 10;\n      #x2pNcYJa9kVrZzQ2 if $\\u007c\\u007ca\\u007c\\u007c\\u005e2 > $ming then {\n        #IIwfoyiSwpLzFvvP data→last_shake := $now;\n        #xPHE9AGXfXGi4lrD data→shake→run;\n      }\n    }\n  }\n  meta private;\n}\n#GVBYI3VMRbqoNfnB\naction detect_screen(#HjxZTbKfdDrNgiSW accx: Number, #ryLNBYcAXIyw99pb accy: Number, #Wk0emOygMMselU76 accz: Number) {\n  #OnPPZzfv2DrkD51t $is_flat := math→abs($accx) + math→abs($accy) < 500;\n  #KTztF0grpXNSfDmp $is_vertical := math→abs($accx) + math→abs($accz) < 500;\n  #x4JdPKoQnVxk29jj if $accz > 500 `and` $is_flat then {\n    #UkMmR3drUtXAuLxj if data→screen_state ≠ 1 then {\n      #Cj9au3agUL3VTXpO data→screen_state := 1;\n      #dBOsHPiFM8ZsQIT7 code→run(data→screen_down);\n    }\n  }\n  else { #ONuoM34BWCyrmusn if $accz < - 500 `and` $is_flat then {\n    #P8bC9epU8M9PMthm if data→screen_state ≠ 2 then {\n      #LAkfBQP2OPSE9wG4 data→screen_state := 2;\n      #YFtNJxzp3xOetkxg code→run(data→screen_up);\n    }\n  }\n  else { #NQ8roiFE5R3evNyA if $accy > 500 `and` $is_vertical then {\n    #wKAufKYGbc4Bf4f2 if data→screen_state ≠ 3 then {\n      #PTYU9inhX4ypWy4k data→screen_state := 3;\n      #zHl0rsD21pWm0B2V code→run(data→logo_up);\n    }\n  }\n  else { #xqOU4XCzSA95y1lP if $accy < - 500 `and` $is_vertical then {\n    #HQn4YeL20sul4fRk if data→screen_state ≠ 4 then {\n      #dzddbU1SCv7f9Iip data→screen_state := 4;\n      #Tdpys1iOeS6bIp4E code→run(data→logo_down);\n    }\n  }\n  else {\n    #W8JvPbZlWjgyyW8c // // other state, reset state engine\n    #ow9eps4LUTwKFv2O data→screen_state := 0;\n  }\n  } } } \n  meta private;\n}\n#q6oYfrMSlJuMnKCb\naction on_logo_down(#JBP7dSSZZ5CW05l5 body: Action) {\n  #xzt2NAugK2mmviuz // Attaches code to run when the logo is oriented downwards and the board is vertical.\n  #AafRbGbssZIrx4wW // {namespace:input}\n  #x7OLuFYYKkdCQ2fL // {help:functions/on-logo-down}\n  #Y0VL8QH6mDTxdO2h simulator[lib micro\\u003abit] →notify_event_registration("on logo down");\n  #xU60Xk2Bqg5VlOWx data→logo_down := $body;\n  #f27pU1IPNnF4rxZK code→init;\n  meta sync;\n}\n#x4S5FO3oacwG7q6C\nvar logo_down : Action {\n  transient = true;\n}\n#xKtZXebPhpGkz5MM\naction run(#AiTi5d6ioX2KIbLl f: Action) {\n  #ghdujUmazcH7hXMr if `not` $f→is_invalid then {\n    #fZONblMHRCsaFKLv $f→run;\n  }\n  meta private;\n}\n',tgpxru:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "micro:bit screen";\nmeta rootId "V5599nbmoYZQw1w33khHVtMh";\nmeta isLibrary "yes";\nmeta hasIds "yes";\nmeta splitScreen "yes";\nmeta platform "current";\nmeta parentIds "";\n// Specialized functions to control the screen #microbit\n#mExzaWj10ZHeHz4P meta import micro\\u003abit {\n  pub "tuzezw"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` tell_camera_to(@event: String)\n    action `sync` raise_alert_to(@event: String)\n    action `async` on_notified(@event: String, body: Action)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_tone(frequency: Number, ms: Number)\n    action `sync` note_frequency(name: String) returns(frequency: Number)\n    action `sync` plot_leds(leds: String)\n    action `sync` plot_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` temperature() returns(temp: Number)\n    action `sync` stop_animation()\n    action `async` show_frame(img: ♻ micro\\u003abit → Image, frame: Number)\n    action `sync` queue_event(body: Action, name: String)\n    action `async` ring_tone(frequency: Number)\n    action `sync` tell_remote_control_to(@event: String)\n    action `sync` map(value: Number, from_low: Number, from_high: Number, to_low: Number, to_high: Number) returns(r: Number)\n    action `sync` magnetic_force(dimension: String) returns(millig: Number)\n    action `sync` servo_write_pin(name: String, value: Number)\n    action `sync` servo_set_pulse(pin: String, micros: Number)\n    action `async` rest(ms: Number)\n    action `async` rotation(kind: String) returns(angle: Number)\n    action `sync` note(name: String) returns(frequency: Number)\n    action `sync` set_pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Number)\n    action `sync` pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Number)\n    action `sync` set_display_mode(mode: String)\n    action `async` play_note(frequency: Number, ms: Number)\n    action `sync` light_level() returns(light: Number)\n  }\n}\n#ljbL9TDyViQp60st\naction toggle(#VUPjYYFrhOWw74RY x: Number, #nnwwBs7Gvq4QOFhz y: Number) {\n  #xv1X4QIgYlNaMo2l // Toggles a particular pixel\n  #QLttuQ85laW9BGaZ // {namespace:led}\n  #x2e61yB2AlBJwsM5 // {help:functions/toggle}\n  #FgmFzMhIDa7kfWlW if @\\u267b→micro\\u003abit→point($x, $y) then {\n    #JI1NCFlqtrqCyEod @\\u267b→micro\\u003abit→unplot($x, $y);\n  }\n  else {\n    #fr9fcMhf84RFYCe9 @\\u267b→micro\\u003abit→plot($x, $y);\n  }\n  meta sync;\n}\n#x3aHYXZCFqQM4N5z\naction plot_all() {\n  #Kf7bsANqYZRuDX8A // Turns all LEDS on\n  #xfEAxWsrYpI8LsrE // {namespace:led}\n  #xeNqHFR4dPLWb9Gl // {help:functions/plot-all}\n  #XTQai3Nb2nzgE04T for 0 ≤ i < 5 do {\n    #sZ4AYvycaWDrPWQR for 0 ≤ j < 5 do {\n      #zK0BvwMjXrxYI5u5 led[lib micro\\u003abit] →plot($i, $j);\n    }\n  }\n  meta sync;\n}\n#vsHySw7q1f2qmubh\naction example() {\n  #xQ2zrKasHUhouu4h // Some useful helpers to handle the LED screen. [read more...](/td/contents)\n  meta private;\n}\n#jwEvxEXkWvhLQCaf\naction toggle_all() {\n  #VYZ0MOonSM7SZ4SO // Inverts the current LED display\n  #g0PQAlQ9DWRcDJT2 // {namespace:led}\n  #XteinmSV9nf35axp // {help:functions/toggle-all}\n  #LOVe1FvXIuQSpOdt for 0 ≤ i < 5 do {\n    #AYxwUImNsW2NTTew for 0 ≤ j < 5 do {\n      #xy1D6qKToA7LgBRZ code→toggle($i, $j);\n    }\n  }\n  meta sync;\n}\n#gFU1OsaYQ427Dy3x\naction fade_in(#NkDJQP4M8hf8ByOK ms: Number) {\n  #sbtvSbGxGQsyil0Z // Fades in the screen display.\n  #YZm7yA5dpchXMk25 // {namespace:led}\n  #pWluOjC4UFxfEwYh // {hints:ms:700,2000}\n  #xCnB7Oisl6i2Ej4M // {help:functions/fade-in}\n  #wjhIzkepLWuKwtcO if $ms < 20 then {\n    #xobsfoi3mQdcjO4f @\\u267b→micro\\u003abit→set_brightness(255);\n    #dyWd0Vf8y8oZY3rB `return` ;\n  }\n  #YqgDyN4nF1eYtrSV $dt := 50;\n  #a920O1mg2GuXQTdD $brightness := @\\u267b→micro\\u003abit→brightness;\n  #Q3yIM4g0fv6TytSC $start := @\\u267b→micro\\u003abit→running_time;\n  #Ru1viKxwftkHaSoQ $elapsed := 0;\n  #CLECm1gEDweUCejD while $elapsed < $ms do {\n    #bFUPUsryN4Z6mxac @\\u267b→micro\\u003abit→set_brightness($brightness + (255 - $brightness) * $elapsed / $ms);\n    #xm08jhWovN4w1CmZ @\\u267b→micro\\u003abit→pause($dt);\n    #evfXW0XSgZavco0w $elapsed := @\\u267b→micro\\u003abit→running_time - $start;\n  }\n  #xKQmhSBAvZrHDYSB @\\u267b→micro\\u003abit→set_brightness(255);\n}\n#x7QNRVcyyxuTqIfa\naction fade_out(#xx2JQS02XjfYMxJH ms: Number) {\n  #WHFGHq4tuyIIqh45 // Fades out the screen brightness.\n  #VQyMxftJmAQHvQRZ // {namespace:led}\n  #nzAVXXGFATNIDOmL // {hints:ms:700,2000}\n  #OcEhk39lQe4D6COp // {help:functions/fade-out}\n  #sK5afunPQhe58NjZ if $ms < 20 then {\n    #x1qzvgufpPMfMBeo @\\u267b→micro\\u003abit→set_brightness(0);\n    #OioXNl3u7319hz8B `return` ;\n  }\n  #x71hff5Cad3PEqM5 $brightness := @\\u267b→micro\\u003abit→brightness;\n  #OjIQYJFPlSls9mPg $dt := 50;\n  #pwHkHlg81w7LJQdF $start := @\\u267b→micro\\u003abit→running_time;\n  #Zkzghv82gIfqZg8A $elapsed := 0;\n  #JjDiXM24mWUDhxDI while $elapsed < $ms do {\n    #yQM8M8NLZgZujKEu @\\u267b→micro\\u003abit→set_brightness($brightness - $brightness * $elapsed / $ms);\n    #cmBIrPftfbuXykXz @\\u267b→micro\\u003abit→pause($dt);\n    #xU5b9vdOhBdVPfZX $elapsed := @\\u267b→micro\\u003abit→running_time - $start;\n  }\n  #Ff2KRjXjWXdADj8r @\\u267b→micro\\u003abit→set_brightness(0);\n}\n#ruZ2GUlDTR5PTZhd\naction test_fade() {\n  #mHo56GPjrBIBbrXn // {shim:}\n  #xuX2QaesZ3fv68zC @\\u267b→micro\\u003abit→plot(2, 2);\n  #UGqmIER3apEDwBvY while true do {\n    #kkkohXu3WnU1V4lc code→fade_out(700);\n    #UD2rxEyf4vHJh1nV code→fade_in(700);\n  }\n  meta private;\n  meta test;\n}\n#JzsKhABDnEUitS2i\naction screenshot() returns(#xqf63n34DRJFpmqH img: ♻ micro\\u003abit → Image) {\n  #F9xzUugwJ3pSz2Jl // Takes a screenshot of the LED screen and returns an image.\n  #y2Nlin4tWBVdqYY1 // {namespace:led}\n  #Hzg49aPDJ5V4z35P // {shim:uBit.display.screenShot}\n  #XTef15xe4sxw76s2 // {help:functions/screenshot}\n  #ku7MF9fWJoUuVkyq $img := image[lib micro\\u003abit] →create_image("");\n  #oUq2AzKEBn6NX5zt for 0 ≤ i < 5 do {\n    #xv5N8Sypi9Neisg7 for 0 ≤ j < 5 do {\n      #xb55AcpSLBkazRcr if led[lib micro\\u003abit] →point($i, $j) then {\n        #xBwclcbBPNTlPuR4 $img→set_pixel($i, $j, true);\n      }\n    }\n  }\n  meta sync;\n}\n#ovd9A8N30ut1go7D\naction plot_bar_graph(#hpG4t1C3SqiqVFVZ value: Number, #ZCK5n2unSOxU42XY high: Number) {\n  #zOTs2HbFZSsGIcZt // Displays a vertical bar graph based on the ``value`` and ``high`` value.\n  #xlNlnrVrytCbk5TQ // {hints:high:1023}\n  #qS76fFIpRiOAJ9r7 // {namespace:led}\n  #PfHFzO6Dk5aRnuIz // {help:/functions/plot-bar-graph}\n  #xIIhHcSXRfTjjsGE // {weight:20}\n  #xMI934nNAoZ2D22k $v := pins[lib micro\\u003abit] →map(math→abs($value), 0, $high, 0, 5);\n  #xVN6w2AP5InoeHt3 if $v ≤ 0 then {\n    #JQAjkd892SfAZVaM basic[lib micro\\u003abit] →plot_leds("0 0 0 0 0\\n0 0 0 0 0\\n0 0 0 0 0\\n0 0 0 0 0\\n0 0 1 0 0");\n  }\n  else { #Min3hDu7yaW5CsLL if $v = 1 then {\n    #Kipc7xzzcvftlk7v basic[lib micro\\u003abit] →plot_leds("0 0 0 0 0\\n0 0 0 0 0\\n0 0 0 0 0\\n0 0 0 0 0\\n1 1 1 1 1");\n  }\n  else { #xz3ssI2E8u04Qu26 if $v = 2 then {\n    #xFr4ltnLkVIMInA4 basic[lib micro\\u003abit] →plot_leds("0 0 0 0 0\\n0 0 0 0 0\\n0 0 0 0 0\\n1 1 1 1 1\\n1 1 1 1 1");\n  }\n  else { #q8IuhLmS4sGFPO55 if $v = 3 then {\n    #x7wL822ySG1ZdJOi basic[lib micro\\u003abit] →plot_leds("0 0 0 0 0\\n0 0 0 0 0\\n1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1");\n  }\n  else { #Gseh3zz4Rb8tB8JN if $v = 4 then {\n    #OGxguFRTl11Db823 basic[lib micro\\u003abit] →plot_leds("0 0 0 0 0\\n1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1");\n  }\n  else {\n    #mlCNyfGnvQhrFhHW basic[lib micro\\u003abit] →plot_leds("1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1\\n1 1 1 1 1");\n  }\n  } } } } \n  meta sync;\n}\n#YzC6hAtAqg8JGJmu\naction test_bargraph() {\n  #ontCmUQv3BUJaI49 // {shim:}\n  #wvK4U1Vp0BRBgQTq while true do {\n    #x2dlLTWbHX2S134E $millig := input[lib micro\\u003abit] →acceleration("x");\n    #xJUYwGoxp4Xoqezo code→plot_bar_graph($millig, 1023);\n    #YfuOoWp0VBU2DzXK basic[lib micro\\u003abit] →pause(100);\n  }\n  meta private;\n  meta test;\n}\n',pzngyn:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "micro:bit music";\nmeta rootId "zcZxuG7jlicmbnRC8t33m4Dy";\nmeta isLibrary "yes";\nmeta hasIds "yes";\nmeta platform "current";\nmeta parentIds "";\n// The music namespace #music\n#zYqnzT4hhd1sS9v5\naction tempo() returns(#CCovj83aLPTgGAt8 bpm: Number) {\n  #ueqedJC4g7ssLd5h // Returns the tempo in beats per minute. Tempo is the speed (bpm = beats per minute) at which notes play. The larger the tempo value, the faster the notes will play.\n  #NCyRjHyFCpsvUpgi // {namespace:music}\n  #Wwx0VF4pDf4tWbsx // {help:/functions/tempo}\n  #n5fWBFaxGoZn6a59 code→init;\n  #vvGXAa6I2U4YBHIg `return` data→beats_per_minute;\n  meta sync;\n}\n#r0rxopDDamerRRAb meta import micro\\u003abit {\n  pub "nvzoiu"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` tell_camera_to(@event: String)\n    action `sync` raise_alert_to(@event: String)\n    action `async` on_notified(@event: String, body: Action)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_tone(frequency: Number, ms: Number)\n    action `sync` note_frequency(name: String) returns(frequency: Number)\n    action `sync` plot_leds(leds: String)\n    action `sync` plot_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` temperature() returns(temp: Number)\n    action `sync` stop_animation()\n    action `async` show_frame(img: ♻ micro\\u003abit → Image, frame: Number)\n    action `sync` queue_event(body: Action, name: String)\n    action `async` ring_tone(frequency: Number)\n    action `sync` tell_remote_control_to(@event: String)\n    action `sync` map(value: Number, from_low: Number, from_high: Number, to_low: Number, to_high: Number) returns(r: Number)\n    action `sync` magnetic_force(dimension: String) returns(millig: Number)\n    action `sync` servo_write_pin(name: String, value: Number)\n    action `sync` servo_set_pulse(pin: String, micros: Number)\n    action `async` rest(ms: Number)\n    action `async` rotation(kind: String) returns(angle: Number)\n  }\n}\n#kbBPLS46tSc5UOmQ\nvar beats_per_minute : Number {\n  transient = true;\n}\n#O6C1DkeyUnBA2l2C\naction change_tempo_by(#lsfxpXD2FhXQxNGk bpm: Number) {\n  #aqr1yNGtOahiiS2R // Change the tempo by the specified amount\n  #gMMNZPis7E1V40q2 // {hints:bpm:20}\n  #fb1CjjSTrsgDAAe6 // {namespace:music}\n  #eIVK0pUebdvQ1PGh // {help:/functions/tempo}\n  #UniNu8bLkhBkzmrU code→init;\n  #TF63Rbt1L4Asccr7 code→set_tempo(data→beats_per_minute + $bpm);\n}\n#SpEP5yVzmHkAcJGN\naction set_tempo(#RCUKT2icKMepsL3y bpm: Number) {\n  #n3ai84JWePfIRLXL // Sets the tempo to the specified amount\n  #k9gfHliR4ZsJDHFl // {hints:bpm:20}\n  #bI6a1Z3412AeIhCW // {namespace:music}\n  #z94g44g2YR0CR5Vw // {help:/functions/tempo}\n  #xktYXztr5YSoG1yX code→init;\n  #hQgb0VsrX4z2v6Fn if $bpm > 0 then {\n    #xf5KgzllgkClaTp8 data→beats_per_minute := math→max(1, $bpm);\n  }\n}\n#G7S48gzm3ze1gc4v\naction beat() returns(#hoFA5AiMYyzd23g3 ms: Number) {\n  #xH2OnLBAgNzAOUQ3 // Returns the duration of a beat in milli-seconds\n  #Sv6x7jD1FTiy8ocP // {namespace:music}\n  #PAeXs8UzPlBGhlLC // {help:/functions/beat}\n  #l0rdN6YLCsWTq7Bc // {weight:20}\n  #xNDIQQ29ooZVioJS code→init;\n  #zTcTGCwspFfZ6VaA `return` 60000 / data→beats_per_minute;\n  meta sync;\n}\n#HVvqA47Svm2C8JMG\naction init() {\n  #Kd2J2Q8MiYpFm2Dm if data→beats_per_minute ≤ 0 then {\n    #wnFL1JNUeq88d3d9 data→beats_per_minute := 120;\n  }\n  meta private;\n  meta sync;\n}\n',tjwpnx:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "micro:bit profile";\nmeta rootId "jNYxMIKZwmM1Tt2iLWl9Hvzs";\nmeta hasIds "yes";\nmeta splitScreen "yes";\nmeta platform "current";\nmeta parentIds "";\n// The list of #microbit supported APIs.\n#Lfh62trBUHiPyt65\naction main() {\n  #EHiM59bhD8SdJNdc // namespace order\n  #lYPvYSUJurXkntc3 basic[lib micro\\u003abit];\n  #y6kj0BBUYlWuwy6W led[lib micro\\u003abit];\n  #xPTTNHFnhdSz2dhl input[lib micro\\u003abit];\n  #D2z4dybkpmvwZyDo math;\n  #xVSeqKOnHOk6JFR2 music[lib micro\\u003abit];\n  #w9qtFNmNqcWH4xF9 game[lib micro\\u003abit_game];\n  #SNTTZp3SXz6JkWWX pins[lib micro\\u003abit];\n  #bD2m5z3BbloyYsFN devices[lib micro\\u003abit];\n  #FbxqDG6K9icP69Mq control[lib micro\\u003abit];\n  #jpHdDKNpGylh7PAD image[lib micro\\u003abit];\n  #xSn8t2IaNKG1wYPa bits;\n  #iBKCrFATYjJq1exg create;\n  #v2bLbE0rFvUVnt41 serial[lib micro\\u003abit_serial];\n  #SMxCdKRKLGsg2glO events[lib micro\\u003abit];\n  #ia5OhbXZnpECRsED // booleans\n  #IPjPGMDLDgCFYFQv $b := true;\n  #q2bFfxkeThFXBFk0 $b := false;\n  #xYMADcXfW3PqDTYO $b := $b `and` `not` $b `or` $b;\n  #y1h3f5k4zS2ow98i // numbers\n  #xuOJjbFpvOVe734G $x := 0;\n  #vRUKtRasZ3LLaLDi $x := $x + 1 - 1 * 1 / 1;\n  #qw2442wniqeMcATr $s2 := $x→to_character;\n  #GNVgb4Rv3z5MGD9M // convert to string\n  #AVZpO4XznZddsl4x $xs := $x→to_string;\n  #Ml4FF82JwXfw4oXh skip;\n  #iMtrXvO0vVbnrSif // math ops\n  #xN6L0k61CSKHhTpv $b2 := $x > $x `and` $x ≥ $x `and` $x < $x `and` $x ≤ $x `and` $x = $x `and` $x ≠ $x;\n  #xLpMe46s4AjhANFf // math functions\n  #ArcdgH4N2HCRJjQO $x := math→min(0, 0);\n  #xrAT2doldLWgGTnF $x := math→max(0, 0);\n  #F4V5YLK9ABuOOLG4 $x := math→abs(0);\n  #hdoPGaOZxi28TjVi $x := math→pow(0, 0);\n  #pjD21RoeFLPeOdEh $x := math→random(2);\n  #rMg0HgI1Y6mkhv2j $x := math→clamp(0, 2, 0);\n  #xlsQ3acfdGfr6ggj $x := math→mod(0, 0);\n  #q2P2GRUN1jiY15yW $x := math→sign(0);\n  #xS4hZqehw24D7Sog // bit operators\n  #RJOMUzeBx8e5vo2b bits→or_uint32(0, 0);\n  #oswTMG9LvJf67wT4 bits→and_uint32(0, 0);\n  #r4thhhgbQDaxi5NI bits→xor_uint32(0, 0);\n  #xRhlQ45wNJee42FE bits→shift_left_uint32(0, 0);\n  #xW2Iwc06EUjqWuXg bits→shift_right_uint32(0, 0);\n  #xR78521qrK4Itxq1 bits→rotate_right_uint32(0, 0);\n  #xmjdteXTzTUSF2JG bits→rotate_left_uint32(0, 0);\n  #wKD5XdCaANiSDZS7 // objects\n  #UQtoYBY1CERVcw9K $thing := records→Thing→create;\n  #LeDrah2RsZKT1pB7 $s4 := $thing→f;\n  #yatKuQljTswa4YV1 $thing→f := $s4;\n  #PeQnpqn1X99KPYqa $thing→is_invalid;\n  #gAKBi40RzKRzwv22 $thing→equals($thing);\n  #JEnNA1g0abp21gJ8 records→Thing→invalid;\n  #dwjKGUdJ0JXzBEr2 // collections\n  #x2fBIBqppWPrRtwg $coll := create→Collection_of→Number;\n  #V1jUmLAnDR9hfTzZ $coll→add(0);\n  #xpdMBA8WUOeoGVhf $coll→count;\n  #xUi2uGW4ugoFPgaw $coll→at(0);\n  #x3WYxOTBUpSyFXSF $coll→remove_at(0);\n  #y3yaErW59Cfbjc5a $coll→set_at(0, 0);\n  #UF5AYoLREb5jnAMW $coll→index_of(0, 0);\n  #IJSRaF7fXjhBwNMN $coll→remove(0);\n  #rdrL8PN4Uw9v26OU // strings\n  #mRe27YLotG80DdYr $s := "test";\n  #xRlJY4QhO4Fq4hJ8 $x2 := $s→to_character_code;\n  #SUvyxQSIw3TY3vW2 $s := $s→concat($s);\n  #xqD7p2y1I1qY6XLV $s := $s ∥ $s;\n  #WimJjEuFBoOizCqp $s := $s→substring(0, 0);\n  #fm7Y4HNaSi7jG2v3 $b := $s→equals("other");\n  #xuAIL5NdAZ1KtF5N $sc := $s→count;\n  #gTeb4Xd82bliP9Gm $s3 := $s→at(0);\n  #LOpKfIPlDMsVUP2W $x3 := $s→to_number;\n  #sFNR99MXq2qcNn6A // actions: see run actions: see run actions: see run\n  #GItB3zzQlGKLva8E // language\n  #xWOrqmm28D1CwUqw if false then {\n    #umPuRv6PUVDM7goa skip;\n  }\n  else { #xIklxic0fgwN21vq if false then {\n    #XvFU71wc3Jdh9ooK `return` ;\n  }\n  else { } } \n  #QUxDFwGdBho6So46 while true do {\n    #xqbiIUoiP2fqU19Z skip;\n  }\n  #xTXiWXDOypaCgzx2 for 0 ≤ i < 10 do {\n    #V7R2z1u1veJzGB88 `break` ;\n  }\n  #xZ1ELRun4mad1PW7 // function calls\n  #x3bFUlCOYCfYKcWI if $x < 0 then {\n    #ZjV6o09yGjKJeC5l code→main;\n  }\n  #k4PTDaIFHqcXFso3 data→x := 0;\n  #FBCl2AsiYBT2BkKd // microbit apis\n  #lY4IxiRSVHUv1prz data→img := @\\u267b→micro\\u003abit→create_image("");\n}\n#Wc1pO4N99lJnJtZj\nvar x : Number {\n  transient = true;\n}\n#NdBhY6y4JCp6AVvX\naction do_stuff(#xoRhpqBWrHKQ1wbj p: Number) returns(#uPnKPMlUDYKjtTpH r: Number) {\n  #R3v0NLKiT3NZzVqb `return` 1;\n}\n#Ebw62Hb2wL0dFNZw\naction run(#X6GWR42GD1IO8W95 p: Action) {\n  #tvk7682eRC1Qgml0 $b := $p→is_invalid;\n  #xJH443yIol2Lq8Ex $p→run;\n}\n#x0V58dtFBOlyU9Fk\nvar @action : Action {\n  transient = true;\n}\n#QGy8p7ggwOnDXD4z\nvar img : ♻ micro\\u003abit → Image {\n  transient = true;\n}\n#xvqxk1q4qCZk22MO meta import micro\\u003abit_screen {\n  pub "tgpxru"\n  usage {\n    action `sync` toggle(x: Number, y: Number)\n    action `sync` plot_all()\n    action `sync` toggle_all()\n    action `async` fade_in(ms: Number)\n    action `async` fade_out(ms: Number)\n    action `sync` screenshot() returns(img: ♻ micro\\u003abit → Image)\n    action `sync` plot_bar_graph(value: Number, high: Number)\n  }\n  #OE9022wXGJBOumFg resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#P952wWx2TsBNbUPl meta import micro\\u003abit_senses {\n  pub "jztbbx"\n  usage {\n    action `sync` on_screen_up(body: Action)\n    action `sync` on_screen_down(body: Action)\n    action `sync` on_shake(body: Action)\n    action `sync` on_logo_up(body: Action)\n    action `sync` on_logo_down(body: Action)\n  }\n  #xtFHv49Gg2zXwu3M resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#nxBsrWkksKmQnONy meta import micro\\u003abit_game {\n  pub "rwbwnc"\n  usage {\n    action `sync` score() returns(score: Number)\n    action `sync` set_score(value: Number)\n    action `sync` life() returns(life: Number)\n    action `async` set_life(value: Number)\n    action `sync` add_score(points: Number)\n    action `async` add_life(lives: Number)\n    action `async` start_countdown(ms: Number)\n    action `async` game_over()\n    action `async` current_time() returns(ms: Number)\n    action `async` remove_life(life: Number)\n    action `async` level_up()\n    action `async` level() returns(lv: Number)\n    action `async` start_stopwatch()\n    action `sync` is_running() returns(running: Boolean)\n    action `async` show_score()\n    action `sync` is_game_over() returns(over: Boolean)\n  }\n  #iFGAT33WIPN92bpo resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#BVGhpbmca\ntable Thing {\n  type = "Object";\n  persistent = false;\n  fields {\n    #G6G2a0flquLAXiyj f : String\n  }\n}\n#DGIsFkv2N6nOcw2l meta import micro\\u003abit_serial {\n  pub "lohjia"\n  usage {\n    action `sync` write_line(text: String)\n    action `sync` write_number(value: Number)\n    action `sync` read_string() returns(msg: String)\n    action `sync` write_string(text: String)\n    action `sync` write_image(img: ♻ micro\\u003abit → Image)\n    action `sync` write_screen()\n    action `sync` read_screen()\n    action `sync` read_image() returns(img: ♻ micro\\u003abit → Image)\n    action `sync` write_value(name: String, value: Number)\n  }\n  #pGGACFQC2GSgng2H resolve micro\\u003abit = ♻ micro\\u003abit with {\n  }\n}\n#BD280UyphFhv6ijW meta import micro\\u003abit {\n  pub "xgzgcy"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` tell_camera_to(@event: String)\n    action `sync` raise_alert_to(@event: String)\n    action `sync` on_notified(@event: String, body: Action)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_tone(frequency: Number, ms: Number)\n    action `sync` note_frequency(name: String) returns(frequency: Number)\n    action `sync` plot_leds(leds: String)\n    action `sync` plot_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` temperature() returns(temp: Number)\n    action `sync` stop_animation()\n    action `async` show_frame(img: ♻ micro\\u003abit → Image, frame: Number)\n    action `sync` queue_event(body: Action, name: String)\n    action `async` ring_tone(frequency: Number)\n    action `sync` tell_remote_control_to(@event: String)\n    action `sync` map(value: Number, from_low: Number, from_high: Number, to_low: Number, to_high: Number) returns(r: Number)\n    action `sync` magnetic_force(dimension: String) returns(millig: Number)\n    action `sync` servo_write_pin(name: String, value: Number)\n    action `sync` servo_set_pulse(pin: String, micros: Number)\n    action `async` rest(ms: Number)\n    action `async` rotation(kind: String) returns(angle: Number)\n    action `sync` note(name: String) returns(frequency: Number)\n    action `sync` set_pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Number)\n    action `sync` pixel_brightness(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Number)\n    action `sync` set_display_mode(mode: String)\n    action `async` play_note(frequency: Number, ms: Number)\n    action `sync` light_level() returns(light: Number)\n    action `sync` is_ble_required() returns(r: Boolean)\n    action `sync` signal_strength() returns(strength: Number)\n    action `sync` on_signal_strength_changed(body: Action)\n  }\n}\n',xczaux:'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>\n',dceiba:'<xml xmlns="http://www.w3.org/1999/xhtml">\n  <block type="device_forever" id="1" x="22" y="16">\n    <statement name="HANDLER">\n      <block type="device_plot" id="2" inline="true">\n        <value name="x">\n          <block type="math_number" id="3">\n            <field name="NUM">0</field>\n          </block>\n        </value>\n        <value name="y">\n          <block type="math_number" id="4">\n            <field name="NUM">0</field>\n          </block>\n        </value>\n        <next>\n          <block type="device_pause" id="5" inline="true">\n            <value name="pause">\n              <block type="math_number" id="6">\n                <field name="NUM">200</field>\n              </block>\n            </value>\n            <next>\n              <block type="device_clear_display" id="7">\n                <next>\n                  <block type="device_pause" id="8" inline="true">\n                    <value name="pause">\n                      <block type="math_number" id="9">\n                        <field name="NUM">100</field>\n                      </block>\n                    </value>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n</xml>\n',jcyhqq:'meta version "v2.2,js,ctx,refs,localcloud,unicodemodel,allasync,upperplex";\nmeta name "flashing heart tutorial";\nmeta rootId "xJRCBH3YIz4bMjLLSt5QrX5U";\nmeta hasIds "yes";\nmeta platform "current";\nmeta parentIds "";\n// control images with variables. #microbit #docs #tutorials #stepByStep\n#xkPpDa5IUqmg0Bd4\naction \\u00230_main() {\n  #xMZvXjdlMZuY7Gh2 // {box:avatar:avatar}\n  #TXbKj0n88SBT3ZHf // Let\'s begin by creating a **forever** loop so that the heart can continuously flash.\n  #CBojua4OheEvSsyS // {stcode}\n  #ZV0rfKH4IuiF3zOj // {/box}\n  #iZkyEfHTeHpYToEd basic[lib micro\\u003abit] →forever;\n  #hb1ScsYK7CtQY9OP where `implicit` \\_body\\_() {\n    #EzH5zRoLqL44TUmF // {box:avatar:avatar}\n    #jyAdrhhmtT4QzZZo // Now let\'s plot and display a heart image on the BBC micro:bit.\n    #xTUlIt18NLalsjIr // {stcode}\n    #K4vgzySzJftYLZpC // {/box}\n    #y4ytMLcGIthzjN1o basic[lib micro\\u003abit] →show_leds("0 1 0 1 0\\n1 1 1 1 1\\n1 1 1 1 1\\n0 1 1 1 0\\n0 0 1 0 0", 400);\n    #at2Say7Gx8U2BYGv // {stcmd:run}\n    #MlJGHtZzGZjhJihV // {box:avatar:avatar}\n    #xP8t2A5p1B2evsLe // We need to pause for a little bit before clearing the screen or else the heart disappears immediately.\n    #yKM2h4ak62gaL9pC // {stcode}\n    #ZmWcEfydvWI4hGyG // {/box}\n    #zXZvzZp0XgYYaFrD basic[lib micro\\u003abit] →pause(500);\n    #XUfrbYD8sr3fKWw1 // {box:avatar:avatar}\n    #qco45OxAC5HxnC4v // Now we can clear the screen.\n    #h2ebe2tRVqF4neZS // {stcode}\n    #bObnG5tr7OOOOatS // {/box}\n    #x5Ki4UC3eCnl7l2C basic[lib micro\\u003abit] →clear_screen;\n    #IDViNSdGTOnRj9j7 // {box:avatar:avatar}\n    #z3WVR7UxQH8jY1TK // Again, we need to pause, this time before showing the image again.\n    #LN2StgzgB42hq3kR // {stcode}\n    #TCEAlSxTntoHyJEP // {/box}\n    #bg0wqIA3xh2krx02 basic[lib micro\\u003abit] →pause(500);\n  }\n  #sL2YLOSW5pT00Ai6 // {stcmd:compile}\n}\n#T6l6bj8oRmkmUB2v meta import micro\\u003abit {\n  pub "xhvlgz"\n  usage {\n    type Image\n    action `sync` \\_libinit()\n    action `async` pause(ms: Number)\n    action `sync` clear_screen()\n    action `sync` width(@this: ♻ micro\\u003abit → Image) returns(w: Number)\n    action `async` scroll_image(@this: ♻ micro\\u003abit → Image, x_offset_per_step: Number, interval: Number)\n    action `sync` button_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` plot(x: Number, y: Number)\n    action `sync` point(x: Number, y: Number) returns(on: Boolean)\n    action `async` show_string(text: String, interval: Number)\n    action `sync` unplot(x: Number, y: Number)\n    action `sync` on_button_pressed(name: String, body: Action)\n    action `async` show_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` compass_heading() returns(degrees: Number)\n    action `sync` acceleration(dimension: String) returns(millig: Number)\n    action `sync` digital_write_pin(name: String, value: Number)\n    action `sync` digital_read_pin(name: String) returns(value: Number)\n    action `sync` analog_read_pin(name: String) returns(value: Number)\n    action `sync` analog_write_pin(name: String, value: Number)\n    action `sync` create_image(leds: String) returns(img: ♻ micro\\u003abit → Image)\n    action `sync` brightness() returns(brightness: Number)\n    action `sync` set_brightness(value: Number)\n    action `async` show_animation(leds: String, interval: Number)\n    action `sync` running_time() returns(now: Number)\n    action `async` show_number(value: Number, interval: Number)\n    action `sync` set_pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number, value: Boolean)\n    action `sync` pixel(@this: ♻ micro\\u003abit → Image, x: Number, y: Number) returns(state: Boolean)\n    action `sync` clear(img: ♻ micro\\u003abit → Image)\n    action `sync` in_background(body: Action)\n    action `async` calibrate()\n    action `sync` forever(body: Action)\n    action `sync` pin_is_pressed(name: String) returns(pressed: Boolean)\n    action `sync` on_pin_pressed(name: String, body: Action)\n    action `sync` remote_control(@event: String)\n    action `sync` camera(@event: String)\n    action `sync` audio_recorder(@event: String)\n    action `sync` alert(@event: String)\n    action `sync` notify_event_registration(evid: String)\n    action `sync` add_button(text: String, @action: Action)\n    action `sync` reset()\n    action `sync` warning(message: String)\n    action `sync` analog_set_period(pin: String, micros: Number)\n    action `sync` analog_set_pitch_pin(name: String)\n    action `async` analog_pitch(frequency: Number, ms: Number)\n    action `async` plot_frame(@this: ♻ micro\\u003abit → Image, index: Number)\n    action `async` show_leds(leds: String, ms: Number)\n    action `async` play_note(frequency: Number, ms: Number)\n    action `sync` note(name: String) returns(frequency: Number)\n    action `sync` plot_leds(leds: String)\n    action `sync` plot_image(@this: ♻ micro\\u003abit → Image, x_offset: Number)\n    action `sync` temperature() returns(temp: Number)\n    action `sync` stop_animation()\n    action `async` show_frame(img: ♻ micro\\u003abit → Image, frame: Number)\n  }\n}\n#La2qRKrLbx4LxKmX\nvar heart : ♻ micro\\u003abit → Image {\n  transient = true;\n}\n#x4334a31V1ZL6vj2\naction main() {\n  #BmrvZRXOS4UrAj3l // {topic:td/lessons/flashing-heart/tutorial}\n  #xNXZYjYB26M2UR9a // {template:empty}\n  #xCHA3gKFfilgUMTF // {templatename:ADJ script}\n  #DPm4qTiKKiAoe50f // {widgets:}\n  #wUr6BCeteY5gewoV // {box:avatar:boothing}\n  #xVT2NZpWJlOxhD2j // {videoptr:td/videos/flashing-heart-0}\n  #xP342IFDvLzjwRal // Welcome! This tutorial will teach how to control images with variables. Let\'s get started!\n  #xgIGusXyGCBXRcP4 // {/box}\n}\n#xEYX48iEHbsTFSwp\nvar imageEditor : Picture {\n  is\\_resource = true;\n  url = "https://microbit0.blob.core.windows.net/pub/twiswpxf";\n  transient = true;\n}\n#xofTBUKer21CfPXD\nvar boothing : Picture {\n  is\\_resource = true;\n  url = "https://microbit0.blob.core.windows.net/pub/vflboela";\n  transient = true;\n}\n#Aftcl64H2g55Hyhu\nvar avatar : Picture {\n  is\\_resource = true;\n  url = "https://microbit0.blob.core.windows.net/pub/lqakekjj";\n  transient = true;\n}\n',xyelfe:"# Add your Python code here. E.g.\nfrom microbit import *\n\n\nwhile True:\n    display.scroll('Hello, World!')\n    display.show(Image.HEART)\n    sleep(2000)\n"}},TDev.Browser.detect(),"undefined"!=typeof module&&module.exports?(module.exports=TDev,TDev.RT.Node.setup()):(TDev.Ticker.disable(),TDev.Util.initGenericExtensions(),TDev.RT.RTValue.initApis()),TDev.AST.Lexer.init(),TDev.api.initFrom(),void 0!==window&&window.tdAfterLoadCallback){var f=window.tdAfterLoadCallback;delete window.tdAfterLoadCallback,f(TDev)}